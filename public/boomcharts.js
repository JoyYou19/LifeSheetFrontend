"use strict";
var BoomCharts = BoomCharts || {};
! function(t) {
    /*!@license
    BMCH Charting library, version 1.0.0-dev
    (c) 2024 InteractivisÂ OÃœ

    https://boomcharts.com

    Embedded 3rd party software libraries:

      3rd party software license acknowledgement:
        moment.js
          author : Tim Wood
          license : MIT
          github.com/moment/moment/

        Moment TimeZone	
          author : Tim Wood
          license : MIT
          github.com/moment/moment-timezone/

        Leaflet.js
          author : Vladimir Agafonkin
          license : BSD 2-Clause License
          github.com/Leaflet/Leaflet/blob/master/LICENSE

        jsPDF.js
          author : James Hall, 2012.
          license : MIT
          github.com/MrRio/jsPDF

        jsPDF addImage plugin (JPEG only at this time)
          author : Jason Siefken, 2012.
          license : MIT
          github.com/siefkenj/

        xlsx.js
           author : SheetJS LLC
           license : APACHE 2.0
           sheetjs.com

        CssColorParser.js
          author : Dean McNamee, 2012.
          license : MIT
          github.com/deanm/css-color-parser-js
    */
    var e = t.Configuration || (t.Configuration = {}),
        i = t.Internal || (t.Internal = {});
    t.PackageInfo = {
        LibraryName: "boomcharts",
        Version: "1.0.0-dev",
        Revision: "94f5a7a2a1e2f9d7d65ea91641eaa8fb29183be2",
        Built: "2024-08-30"
    };
    var n = function(t, e) {
        function i() {
            this.constructor = t
        }
        t.__baseType = e;
        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
        t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
    };
    ! function(i) {
        var r = i.GeoChart || (i.GeoChart = {}),
            s = i.FacetChart || (i.FacetChart = {}),
            a = i.PieChart || (i.PieChart = {}),
            o = i.TimeChart || (i.TimeChart = {}),
            l = i.LinearChart || (i.LinearChart = {}),
            h = i.NetChart || (i.NetChart = {}),
            u = i.ItemsChart || (i.ItemsChart = {}),
            c = i.Resources || (i.Resources = {}),
            d = i.Base || (i.Base = {});
        "undefined" != typeof module && module.exports && (module.exports.Internal = i),
            function(r) {
                function s() {}

                function a(t, e) {
                    for (var i in e) e.hasOwnProperty(i) && !t.hasOwnProperty(i) && (t[i] = e[i])
                }
                var o = r.Bar || (r.Bar = {}),
                    l = Object.prototype.hasOwnProperty,
                    h = ("undefined" == typeof console ? null : console) || {};
                h.log || (h.log = s), h.warn || (h.warn = s), h.error || (h.error = s), h.info || (h.info = s), r.overlayConsole = !1;
                var u = "undefined" != typeof Document && !(document instanceof Document),
                    d = function() {
                        function t() {}
                        return t.exportSymbol = function(t, e) {
                            "undefined" != typeof window && (window[t] = e), "undefined" != typeof module && module.exports && (module.exports[t] = e)
                        }, t.extendStyleTo = function(t, e, i) {
                            void 0 === i && (i = !0);
                            for (var n = Object.keys(t), r = 0; r < n.length; r++) {
                                var s = n[r],
                                    a = t[s];
                                void 0 === a || !i && void 0 !== e[s] || (e[s] = a)
                            }
                        }, t.extendDataItem = function(e, i) {
                            for (var n = e, r = Object.keys(i), s = 0; s < r.length; s++) {
                                var a = r[s],
                                    o = i[a];
                                "style" === a ? n.style ? t.extendDeep(n.style, o) : n.style = t.realClone(o) : n[a] = o
                            }
                            return n
                        }, t.extendDeep = function(e, i) {
                            if (null == e) throw new Error("Target object is not defined.");
                            if (!t.isObjectOrArray(e)) throw new Error("Target is not an object.");
                            for (var n = Object.keys(i), r = 0; r < n.length; r++) {
                                var s = n[r],
                                    a = i[s],
                                    o = e[s];
                                null == o && t.isObjectOrArray(a) && !t.isDomObject(a) ? e[s] = this.realClone(a) : t.isObjectOrArray(o) && t.isObjectOrArray(a) && !t.isDomObject(o) && !t.isDomObject(a) ? this.extendDeep(o, a) : e[s] = a
                            }
                        }, t.extendCopy = function(t, e, i) {
                            if (void 0 === i && (i = null), !e) return t;
                            for (var n = Object.keys(e), r = 0; r < n.length; r++) {
                                var s = n[r],
                                    a = e[s];
                                if (i && (a = i(s, a)), void 0 !== a) {
                                    var o = t[s];
                                    this.isDomObject(a) ? t[s] = a : this.isObjectOrArray(o) && this.isObjectOrArray(a) ? this.extendCopy(o, a, i) : this.isObjectOrArray(a) ? Array.isArray(a) ? t[s] = this.extendCopy([], a, i) : t[s] = this.extendCopy({}, a, i) : t[s] = a
                                }
                            }
                            return t
                        }, t.clone = function(e) {
                            if (null == e) return e;
                            var i;
                            i = t.isObjectOrArray(e) ? new e.constructor : e.constructor();
                            for (var n = Object.keys(e), r = 0; r < n.length; r++) {
                                var s = n[r],
                                    a = e[s];
                                i[s] = a
                            }
                            return i
                        }, t.isObjectOrArray = function(t) {
                            return null !== t && "object" == typeof t
                        }, t.isDomObject = function(t) {
                            return t && (t instanceof Element || t instanceof CanvasGradient || t instanceof CanvasPattern || u && 2 === t.ATTRIBUTE_NODE)
                        }, t.isFunction = function(t) {
                            return "function" == typeof t
                        }, t.isNumber = function(t) {
                            return !isNaN(t) && ("number" == typeof t || t instanceof Number)
                        }, t.isString = function(t) {
                            return "string" == typeof t || t instanceof String
                        }, t.tryParseInt = function(t, e) {
                            void 0 === e && (e = 0);
                            var i = parseInt(t, 10);
                            return isNaN(i) ? e : i
                        }, t.tryParseFloat = function(t, e) {
                            void 0 === e && (e = 0);
                            var i = parseFloat(t);
                            return isNaN(i) ? e : i
                        }, t.hasProperty = function(t, e) {
                            return l.call(t, e)
                        }, t.hasProperties = function(t) {
                            return !!t && Object.keys(t).length > 0
                        }, t.removePropertyValue = function(t) {
                            var e = Object.keys(t);
                            if (0 === e.length) return null;
                            var i = e[0],
                                n = t[i];
                            return delete t[i], {
                                key: i,
                                value: n
                            }
                        }, t.countProperties = function(t) {
                            return Object.keys(t).length
                        }, t.realClone = function(t, e) {
                            if (this.isFunction(t) || void 0 !== e && e || this.isDomObject(t)) return t;
                            if (Array.isArray(t)) {
                                for (var i = new Array(t.length), n = 0; n < t.length; n++) i[n] = this.realClone(t[n], e);
                                return i
                            }
                            if (this.isObjectOrArray(t)) {
                                for (var r = new t.constructor, s = Object.keys(t), n = 0; n < s.length; n++) {
                                    var a = s[n];
                                    r[a] = this.realClone(t[a], e)
                                }
                                return r
                            }
                            return t
                        }, t.realCloneSafe = function(t, e) {
                            if (void 0 === e && (e = []), this.isFunction(t) || this.isDomObject(t)) return t;
                            if (Array.isArray(t)) {
                                for (var i = 0; i < e.length; i++) {
                                    var n = e[i];
                                    if (n.from === t) return n.to
                                }
                                var r = new Array(t.length);
                                e.push({
                                    from: t,
                                    to: r
                                });
                                for (var i = 0; i < t.length; i++) r[i] = this.realCloneSafe(t[i], e);
                                return r
                            }
                            if (this.isObjectOrArray(t)) {
                                for (var i = 0; i < e.length; i++) {
                                    var n = e[i];
                                    if (n.from === t) return n.to
                                }
                                var s = new t.constructor;
                                e.push({
                                    from: t,
                                    to: s
                                });
                                for (var a = Object.keys(t), i = 0; i < a.length; i++) {
                                    var o = a[i];
                                    s[o] = this.realCloneSafe(t[o], e)
                                }
                                return s
                            }
                            return t
                        }, t.stringifySafe = function(t) {
                            var e = [];
                            return JSON.stringify(t, function(t, i) {
                                if (!r.Helpers.isDomObject(i) && "function" != typeof i) {
                                    if ("object" == typeof i) {
                                        if (e.indexOf(i) !== -1) return;
                                        e.push(i)
                                    }
                                    return i
                                }
                            })
                        }, t.toKeyValuePairs = function(t) {
                            return Object.keys(t).map(function(e) {
                                return [e, t[e]]
                            })
                        }, t.trunc = function(t) {
                            return t >= 0 ? Math.floor(t) : Math.ceil(t)
                        }, t.removeFromArray = function(t, e) {
                            for (var i, n = !1;
                                (i = t.indexOf(e)) > -1;) t.splice(i, 1), n = !0;
                            return n
                        }, t.removeFromArrayHasty = function(t, e) {
                            var i = t.indexOf(e);
                            if (i < 0) return !1;
                            var n = t.pop();
                            return i !== t.length && (t[i] = n), !0
                        }, t.arraysEqual = function(t, e, i) {
                            if (void 0 === i && (i = !1), !t || !e) return t === e;
                            if (!Array.isArray(t) || !Array.isArray(e)) return !1;
                            if (t.length !== e.length) return !1;
                            for (var n = 0; n < t.length; n++) {
                                var s = t[n],
                                    a = e[n];
                                if (i) {
                                    if (!r.Helpers.deepEquals(s, a)) return !1
                                } else if (Array.isArray(s)) {
                                    if (!Array.isArray(a)) return !1;
                                    if (!this.arraysEqual(s, a)) return !1
                                } else if (s !== a) return !1
                            }
                            return !0
                        }, t.objectsEqual = function(t, e) {
                            if (!t || !e) return t === e;
                            if ("object" != typeof t || "object" != typeof e) return !1;
                            var i = Object.keys(t),
                                n = Object.keys(e);
                            if (i.length !== n.length) return !1;
                            var s = function(i) {
                                return r.Helpers.deepEquals(t[i], e[i])
                            };
                            return i.every(s) && n.every(s)
                        }, t.deepEquals = function(t, e) {
                            return t && e ? "object" == typeof t ? "object" == typeof e && r.Helpers.objectsEqual(t, e) : Array.isArray(t) ? !!Array.isArray(e) && r.Helpers.arraysEqual(t, e, !0) : t === e : t === e
                        }, t.arrayToMap = function(t, e) {
                            for (var i = {}, n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.index = n, i[r[e]] = r
                            }
                            return i
                        }, t.newFilledArray = function(t, e) {
                            var i = [];
                            i.length = t;
                            for (var n = 0; n < t; n++) i[n] = e;
                            return i
                        }, t.firstNonNullInArray = function(e, i, n) {
                            return t.visitArrayForwards(e, t.nonNullArrayVisitor, i, n)
                        }, t.lastNonNullInArray = function(e, i, n) {
                            return t.visitArrayBackwards(e, t.nonNullArrayVisitor, i, n)
                        }, t.nonNullArrayVisitor = function(e, i) {
                            return t.nonNullGuard(i, void 0)
                        }, t.nonNull = function(t) {
                            return null !== t && void 0 !== t
                        }, t.isNull = function(e) {
                            return !t.nonNull(e)
                        }, t.nonNullGuard = function(e, i) {
                            return t.nonNull(e) ? e : i
                        }, t.firstIndexLessThanInArray = function(e, i, n, r) {
                            return t.someIndexCompareInArray(e, i, function(t, e) {
                                return t >= e
                            }, t.visitArrayForwards, n, r)
                        }, t.lastIndexLessThanInArray = function(e, i, n, r) {
                            return t.someIndexCompareInArray(e, i, function(t, e) {
                                return t >= e
                            }, t.visitArrayBackwards, n, r)
                        }, t.firstIndexCompareInArray = function(e, i, n, r, s) {
                            return t.someIndexCompareInArray(e, i, n, t.visitArrayForwards, r, s)
                        }, t.lastIndexCompareInArray = function(e, i, n, r, s) {
                            return t.someIndexCompareInArray(e, i, n, t.visitArrayBackwards, r, s)
                        }, t.someIndexCompareInArray = function(t, e, i, n, r, s) {
                            return n(t, function(t, n) {
                                return i(n, e) ? t : void 0
                            }, r, s)
                        }, t.visitArrayForwards = function(e, i, n, r) {
                            var s = t.nonNullGuard(n, 0);
                            return t.visitArray(e, s, function(t) {
                                return t + 1
                            }, i, n, r)
                        }, t.visitArrayBackwards = function(e, i, n, r) {
                            var s = t.nonNullGuard(r, e.length) - 1;
                            return t.visitArray(e, s, function(t) {
                                return t - 1
                            }, i, n, r)
                        }, t.visitArray = function(e, i, n, r, s, a) {
                            var o = i;
                            for (s = t.nonNullGuard(s, 0), a = t.nonNullGuard(a, e.length); o >= s && o < a;) {
                                var l = r(o, e[o]);
                                if (void 0 !== l) return l;
                                o = n(o)
                            }
                            return null
                        }, t.cond = function() {
                            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                            for (var i = 0; i < t.length; i++)
                                if (t[i][0]) return t[i][1];
                            return null
                        }, t.arraysToMatrix = function() {
                            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                            for (var i = [], n = 0; n < t.length; n++) i.push(t[n]);
                            return i
                        }, t.transposeMatrix = function(t) {
                            for (var e = [], i = 0; i < t[0].length; i++) {
                                for (var n = [], r = 0; r < t.length; r++) n.push(t[r][i]);
                                e.push(n)
                            }
                            return e
                        }, t.rotatedWidthAndHeight = function(t, e, i) {
                            var n = 0,
                                r = 1;
                            0 !== t && (n = Math.sin(t), r = Math.cos(t)), r = Math.abs(r), n = Math.abs(n);
                            var s = e,
                                a = i;
                            return {
                                width: s * r + a * n,
                                height: a * r + s * n
                            }
                        }, t.overlayConsoleMessage = function(e, i, n) {
                            var r = document.getElementById("boomChartsOverlayConsole");
                            r || (r = document.createElement("bmch-div"), r.id = "boomChartsOverlayConsole", t.extendCopy(r.style, {
                                position: "absolute",
                                top: "10px",
                                left: "10px",
                                width: "50%",
                                height: "300px",
                                overflow: "auto",
                                backgroundColor: "rgba(255,255,255,0.75)",
                                border: "1px solid black",
                                zIndex: "99999"
                            }), document.body.appendChild(r));
                            var s = document.createElement("bmch-div");
                            s.style.color = "error" === e ? "red" : "warn" === e ? "yellow" : "black", s.innerText = i + n.map(function(t) {
                                return JSON.stringify(t)
                            }).join(""), r.appendChild(s), r.scrollTop = r.scrollHeight
                        }, t.log = function(e) {
                            for (var i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
                            r.overlayConsole ? t.overlayConsoleMessage("log", e, i) : i && i.length ? h.info.apply(h, [e].concat(i)) : h.info(e)
                        }, t.warn = function(e, i, n) {
                            if (void 0 === n && (n = null), n) {
                                var s = (new Date).getTime();
                                if (this._previousConsoleMessages[e] > s) return;
                                n === !0 && (n = 5e3), this._previousConsoleMessages[e] = s + n
                            }
                            r.overlayConsole ? t.overlayConsoleMessage("warn", e, i) : i && i.length ? h.warn.apply(h, [e].concat(i)) : h.warn(e)
                        }, t.error = function(e) {
                            for (var i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
                            r.overlayConsole ? t.overlayConsoleMessage("error", e, i) : i && i.length ? h.error.apply(h, [e].concat(i)) : h.error(e)
                        }, t.createDom = function(t, e, i, n) {
                            void 0 === e && (e = null), void 0 === i && (i = null), void 0 === n && (n = null);
                            var s = document.createElement(t);
                            return null !== e && (s.className = e), null !== i && (r.Helpers.isString(i) ? s.appendChild(document.createTextNode(i)) : r.Helpers.isDomObject(i) && s.appendChild(i)), null !== n && n.appendChild(s), s
                        }, t.addClass = function(t, e) {
                            if (e = (e || "").trim()) {
                                var i = e.indexOf(" ");
                                if (i > -1 && (this.addClass(t, e.substr(i + 1)), e = e.substr(0, i)), t.classList) t.classList.add(e);
                                else {
                                    var n = t.className.length > 0 && new RegExp("(^|s)" + e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&") + "(s|$)").test(t.className);
                                    n || (t.className.length > 0 && (e = " " + e), t.className = e)
                                }
                            }
                        }, t.removeClass = function(t, e) {
                            if (e = (e || "").trim()) {
                                var i = e.indexOf(" ");
                                if (i > -1 && (this.removeClass(t, e.substr(i + 1)), e = e.substr(0, i)), t.classList) t.classList.remove(e);
                                else {
                                    var n = function(t, i) {
                                        return i === e ? "" : t
                                    };
                                    t.className = t.className.replace(/(\S+)\s*/g, n).trim()
                                }
                            }
                        }, t.isStyleSheetDefined = function(t, e) {
                            var i = document.createElement("BMCH-test"),
                                n = document.body;
                            n.appendChild(i);
                            try {
                                var r = window.getComputedStyle(i),
                                    s = r[e];
                                return i.className = t, n.removeChild(i), n.appendChild(i), s !== r[e]
                            } finally {
                                n.removeChild(i)
                            }
                        }, t.listen = function(t, e, i) {
                            t.addEventListener(e, i)
                        }, t.unlisten = function(t, e, i) {
                            t.removeEventListener(e, i)
                        }, t.stopPropagation = function(t) {
                            t.stopPropagation()
                        }, t.canvasScaling = function() {
                            var t, e;
                            return window.screen.deviceXDPI ? (t = window.screen.deviceXDPI / window.screen.logicalXDPI, e = window.screen.deviceYDPI / window.screen.logicalYDPI) : t = e = window.devicePixelRatio ? window.devicePixelRatio : 1, {
                                x: t,
                                y: e
                            }
                        }, t.convertPointFromPageToNode = function(t, e, i, n, r) {
                            var s = window && window.webkitConvertPointFromPageToNode;
                            if (s) {
                                var a = window.webkitConvertPointFromPageToNode(t, new WebKitPoint(e, i));
                                if (a) return a
                            }
                            var o = t.getBoundingClientRect(),
                                l = {
                                    x: n - o.left,
                                    y: r - o.top
                                };
                            if (!s) {
                                for (var h = t, u = 1, c = 1, d = 0; d < 5; d++) {
                                    if (h.style.transform) {
                                        var p = this.extractCSSTransformScale(h.style.transform, u, c);
                                        u = p[0], c = p[1]
                                    }
                                    if (!h.parentElement) break;
                                    h = h.parentElement
                                }
                                l.x /= u, l.y /= c
                            }
                            return l
                        }, t.extractCSSTransformScaleRecursive = function(t, e, i) {
                            for (var n = [e, i], r = t, s = 0; s < 20; s++) {
                                if (r.style.transform) {
                                    var a = this.extractCSSTransformScale(r.style.transform, 1, 1);
                                    n[0] /= a[0], n[1] /= a[1]
                                }
                                if (!r.parentElement) break;
                                r = r.parentElement
                            }
                            return n
                        }, t.extractCSSTransformScale = function(t, e, i) {
                            if (t.indexOf("scale") > -1) {
                                var n = t.match(/scale(3d|)\(([0-9\.]+), ?([0-9\.]+)/);
                                n && (e *= parseFloat(n[2]), i *= parseFloat(n[3]))
                            }
                            return [e, i]
                        }, t.extractCSSStyle = function(t) {
                            if (!t || !t.style) return {};
                            for (var e = {}, i = 0; i < t.style.length; i++) e[t.style[i]] = "" + t.style.getPropertyValue(t.style[i]);
                            return e
                        }, t.applyCSSStyles = function(t, e) {
                            t && t.style && e && Object.keys(e).forEach(function(i) {
                                t.style[i] = e[i]
                            })
                        }, t.elementPos = function(t) {
                            var e = t.getBoundingClientRect(),
                                i = e.top + (window.pageYOffset || document.documentElement.scrollTop) - (document.documentElement.clientTop || 0),
                                n = e.left + (window.pageXOffset || document.documentElement.scrollLeft) - (document.documentElement.clientLeft || 0);
                            return {
                                left: n,
                                top: i
                            }
                        }, t.isParentOf = function(t, e) {
                            for (; e;) {
                                if (e === t) return !0;
                                e = e.parentElement
                            }
                            return !1
                        }, t.getProp = function(t, e, i) {
                            void 0 === i && (i = !1);
                            for (var n = 0, r = e.split("."); n < r.length; n++) {
                                var s = r[n];
                                if (null == t || !this.hasProperty(t, s)) return;
                                if (i && n === r.length - 1) {
                                    var a = t[s];
                                    delete t[s], t = a
                                } else t = t[s]
                            }
                            return t
                        }, t.wrapValue = function(t, e) {
                            for (var i = t, n = e.split(".").reverse(), r = 0; r < n.length; r++) {
                                var s = n[r];
                                a = {}, a[s] = i, i = a
                            }
                            return i;
                            var a
                        }, t.hasProp = function(e, i) {
                            return void 0 !== t.getProp(e, i)
                        }, t.sign = function(t) {
                            return t ? t < 0 ? -1 : 1 : 0
                        }, t.reversePolyline = function(t) {
                            var e = [];
                            if (t.length % 2 !== 0) throw new Error("The length of a given polyline must be dividable by 2");
                            for (var i = t.length - 1; i >= 0; i += -2) e.push(t[i - 1], t[i]);
                            return e
                        }, t.toleranceMax = function(t, e, i) {
                            return t >= e * i ? t : e
                        }, t.toleranceMin = function(t, e, i) {
                            return t * i <= e ? t : e
                        }, t.getIdentifierStr = function() {
                            return t.SeparatorChar + (t.nextIdentifier++).toString()
                        }, t.doRequest = function(t, e, i, n, r, s) {
                            if (n && n.length) {
                                e += e.indexOf("?") !== -1 ? "&" : "?";
                                for (var a = 0; a < n.length; a++) {
                                    var o = n[a];
                                    a > 0 && (e += "&"), e += encodeURIComponent(o[0]) + "=" + encodeURIComponent(o[1])
                                }
                            }
                            this.doRequestRaw(t, e, i, "GET", "", r, s)
                        }, t.doRequestRaw = function(t, e, i, n, r, s, a) {
                            if (!t) return console.warn("Tried to perform a request, but no request class was given."), void window.setTimeout(function() {
                                return a("No request class available")
                            }, 1);
                            var o;
                            if ("undefined" == typeof t) throw new Error("Cannot create XML Http Request. Please verify if the feature is not disabled in the browser configuration.");
                            o = new t, o.onreadystatechange = function() {
                                4 === o.readyState && (200 === o.status ? s(o.responseText) : a(o.responseText))
                            };
                            try {
                                o.open(n, e, !0), o.timeout = i, o.ontimeout = function() {
                                    a('{"error": "Request timeout."}')
                                }, o.send(r)
                            } catch (t) {
                                return void window.setTimeout(function() {
                                    return a(t)
                                }, 1)
                            }
                        }, t.addStrictHtml = function(t, e, i) {
                            t.innerHTML = i ? r.Helpers.escapeHtml(e) : e
                        }, t.clearHtmlChildren = function(t) {
                            for (; t.firstChild;) t.removeChild(t.firstChild)
                        }, t.escapeHtml = function(t) {
                            return t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/\//g, "&#x2F;")
                        }, t.escapeAttribute = function(t) {
                            return t.replace(/[\x00-\xFF]/g, function(t) {
                                return "&#x" + t.charCodeAt(0).toString(16)
                            })
                        }, t.openUrl = function(t, e) {
                            return window.open(t, e || "_blank")
                        }, t.parseData = function(t, e, i) {
                            void 0 === i && (i = !1);
                            var n = null,
                                s = null;
                            if (e = e.toLowerCase(), "json" === e || "geojson" === e)
                                if (r.Helpers.isString(t)) try {
                                    s = JSON.parse(t)
                                } catch (e) {
                                    n = i ? t : "Failed to parse JSON response: " + e + ". Response text: " + t
                                } else s = t;
                                else n = "Unsupported data format: " + e;
                            return null == s && null == n && (n = "NULL response"), n ? {
                                error: n
                            } : s
                        }, t.valueUnitFactorFromName = function(t) {
                            return this.numberUnitMap[t]
                        }, t.valueUnitAndName = function(t, e) {
                            e = r.Helpers.nonNullGuard(e, this.numberUnitMap), t = Math.abs(t);
                            var i = 1,
                                n = "",
                                s = Number.POSITIVE_INFINITY;
                            for (var a in e) {
                                var o = e[a],
                                    l = Math.abs(t / o);
                                l < s && l >= 1 && (i = o, n = a, s = l)
                            }
                            var h = 0;
                            if (t > 0) {
                                var u = t / i;
                                Math.floor(u) !== u && (h = u.toString().split(".")[1].length || 0), h = Math.min(h, 3)
                            }
                            return {
                                unit: i,
                                digitsAfterComma: h,
                                name: n
                            }
                        }, t.valueShorteningWithUnit = function(t, e, i, n) {
                            var s = r.Helpers.isNull(e) ? this.autoValueUnit(t, n) : e;
                            return i = r.Helpers.nonNullGuard(i, this.numberUnitMap), r.Helpers.nonNull(t) && r.Helpers.nonNull(s) && r.Helpers.isNumber(t) && r.Helpers.isString(s) && (t /= i[s]), r.Helpers.isNull(s) && (s = ""), {
                                value: t,
                                valueUnit: s
                            }
                        }, t.decimalShortening = function(e, i, n) {
                            if (r.Helpers.isNull(i)) return i;
                            var s = null !== e && "auto" != e ? e : 2;
                            return n ? t.toFixedFloor(i, s) : i.toFixed(s)
                        }, t.toFixedFloor = function(t, e) {
                            var i = new RegExp("^-?\\d+(?:.\\d{0," + (e || -1) + "})?");
                            return t.toFixed(e + 1).match(i)[0]
                        }, t.autoValueUnit = function(t, e) {
                            if (r.Helpers.isNull(t)) return "";
                            e = r.Helpers.nonNullGuard(e, this.reverseNumberUnitMap);
                            var i = Math.log(Math.abs(t)) / Math.log(1e3),
                                n = Math.min(Math.max(i, 0), 4);
                            return e[Math.floor(n)]
                        }, t.clamp = function(t, e, i) {
                            return t >= i ? i || 0 : t <= e ? e || 0 : t
                        }, t.modulo = function(t, e) {
                            return (t % e + e) % e
                        }, t.numberFormat = function(t, e, i, n) {
                            void 0 === e && (e = 2), void 0 === i && (i = "."), void 0 === n && (n = String.fromCharCode(160));
                            var r = parseFloat(t);
                            if (isNaN(r)) return "â€”";
                            var s;
                            r < 0 ? (s = "-", r = -r) : s = "";
                            for (var a, o = Math.floor(r), l = r - o, h = e > 0 ? i + l.toFixed(e).substr(2) : "";;) {
                                if (a = o % 1e3, h = a.toFixed(0) + h, !(o >= 1e3)) break;
                                o = Math.floor(o / 1e3), a < 10 ? h = "00" + h : a < 100 && (h = "0" + h), h = n + h
                            }
                            return s + h
                        }, t.printPercentValue = function(t, e, i) {
                            void 0 === i && (i = "");
                            var n = "",
                                s = 0;
                            if (e[1]) {
                                var a = e[1];
                                n = a.charAt(0), s = a.length - 1
                            }
                            var o = e[2],
                                l = (100 * t).toFixed(s),
                                h = r.Helpers.numberFormat(l, s, n);
                            return "" !== i && " " === o.charAt(0) && (i = " " + i), h + i + o
                        }, t.printCurrencyValue = function(t, e, i) {
                            void 0 === i && (i = "");
                            var n = "",
                                s = 0;
                            if (e[2]) {
                                var a = e[2];
                                n = a.charAt(0), s = a.length - 1
                            }
                            var o = e[1] ? e[1] : "",
                                l = e[3] ? e[3] : "",
                                h = r.Helpers.numberFormat(t, s, n);
                            return "" !== i && " " === l.charAt(0) && (i = " " + i), o && l && (l.indexOf("%") > -1 || o.indexOf("%") > -1) ? (this.warn("Incorrect valueFormat using '%'. To format as percentage, '%' must be used after digits without any prefix."), r.Helpers.numberFormat(t)) : o + h + i + l
                        }, t.matchPercentFormat = function(t) {
                            return /^0([.,]0+)?( ?%)$/.exec(t)
                        }, t.matchCurrencyFormat = function(t) {
                            return /^([^0-9]+)?0?([.,]0+)?([^0-9]+)?$/.exec(t)
                        }, t.buildImage = function(t, e, i, n) {
                            var r = this,
                                s = document.createElement("img"),
                                a = function() {
                                    return i(s)
                                },
                                o = function(a) {
                                    e ? r.buildImage(t, null, i, n) : n(s)
                                };
                            return e && (s.crossOrigin = e), s.src = t, s.complete ? s.width > 0 ? a() : setTimeout(a, 0) : (s.onload = a, s.onerror = o), s
                        }, t.sort = function(t, e) {
                            e || (e = function(t, e) {
                                return t - e
                            });
                            for (var i, n, r = t, s = Math.floor(r.length), a = 0; a <= s - 2; a += 2) i = r[a], n = r[a + 1], e(i, n) > 0 && (r[a] = n, r[a + 1] = i);
                            for (var o = r.slice(0), l = 2; l < s;) {
                                for (var h = l << 1, u = 0; u <= s - 1; u += h) {
                                    var c = u,
                                        d = u + l;
                                    if (d >= s)
                                        for (var a = c; a <= s - 1; a++) o[a] = r[a];
                                    else {
                                        var p = d,
                                            f = Math.min(d + l, s),
                                            g = u;
                                        for (i = r[c], n = r[d];;)
                                            if (e(i, n) <= 0) {
                                                if (o[g] = i, g = Math.floor(g + 1), c = Math.floor(c + 1), c === p) {
                                                    for (o[g] = n, g = Math.floor(g + 1), d = Math.floor(d + 1); d < f;) o[g] = r[d], g = Math.floor(g + 1), d = Math.floor(d + 1);
                                                    break
                                                }
                                                i = r[c]
                                            } else {
                                                if (o[g] = n, g = Math.floor(g + 1), d = Math.floor(d + 1), d === f) {
                                                    for (o[g] = i, g = Math.floor(g + 1), c = Math.floor(c + 1); c < p;) o[g] = r[c], g = Math.floor(g + 1), c = Math.floor(c + 1);
                                                    break
                                                }
                                                n = r[d]
                                            }
                                    }
                                }
                                l = h;
                                var m = o;
                                o = r, r = m
                            }
                            if (t !== r) {
                                for (var a = 0; a <= s - 1; a++) t[a] = r[a];
                                r.length = 0
                            } else o.length = 0;
                            return t
                        }, t.binSearch = function(t, e) {
                            for (var i = 0, n = t.length - 1; i < n;) {
                                var r = Math.floor((n + i) / 2);
                                if (t[r] < e) i = r + 1;
                                else {
                                    if (!(t[r] > e)) {
                                        for (; r > 0 && t[r - 1] === e;) r -= 1;
                                        return r
                                    }
                                    n = r
                                }
                            }
                            return i < t.length && t[i] < e ? i + 1 : i
                        }, t.binarySearch = function(t, e, i) {
                            for (; t <= e;) {
                                var n = Math.floor(.5 * (t + e)),
                                    r = i(n);
                                if (r > 0) t = n + 1;
                                else {
                                    if (!(r < 0)) return n;
                                    e = n - 1
                                }
                            }
                            return t
                        }, t.listenResize = function(e, i) {
                            var n = document.documentMode;
                            if (n && n < 11) e.onresize = i;
                            else {
                                var r = e,
                                    s = document.createElement("bmch-div"),
                                    a = function(e) {
                                        i(), t.updateResizeTriggers(s)
                                    };
                                "static" === window.getComputedStyle(r).position && (r.style.position = "relative"), r.__resizeTriggers__ = s, s.className = "BMCH-resize-triggers";
                                var o = document.createElement("bmch-div"),
                                    l = document.createElement("bmch-div"),
                                    h = document.createElement("bmch-div");
                                o.className = "BMCH-expand-trigger", h.className = "BMCH-contract-trigger", o.appendChild(l), s.appendChild(o), s.appendChild(h), r.insertBefore(s, r.firstChild), t.updateResize(s), r.__resizeListener__ = a, r.addEventListener("scroll", a, !0)
                            }
                        }, t.updateResize = function(t) {
                            var e = t.__resizeTriggers__;
                            e && this.updateResizeTriggers(e)
                        }, t.updateResizeTriggers = function(t) {
                            var e = t.firstElementChild || t.firstChild,
                                i = t.lastElementChild || t.lastChild,
                                n = e.firstElementChild || e.firstChild;
                            i.scrollLeft = i.scrollWidth, i.scrollTop = i.scrollHeight, n.style.width = e.offsetWidth + 1 + "px", n.style.height = e.offsetHeight + 1 + "px", e.scrollLeft = e.scrollWidth, e.scrollTop = e.scrollHeight
                        }, t.unlistenResize = function(t) {
                            var e = t,
                                i = e.__resizeTriggers__;
                            i ? (e.removeEventListener("scroll", e.__resizeListener__, !0), i.parentNode && i.parentNode.removeChild(i), delete e.__resizeListener__, delete e.__resizeTriggers__) : delete t.onresize
                        }, t.decodeEntities = function(e) {
                            return e.indexOf("&") === -1 || e.length <= 1 ? e : (t.decodeTextarea || (t.decodeTextarea = document.createElement("textarea")), t.decodeTextarea.innerHTML = e, t.decodeTextarea.value)
                        }, t.base64Encode = function(t) {
                            if (window.btoa) return window.btoa(t);
                            for (var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", i = "", n = 0, r = 0; t.charAt(Math.floor(r)) || (e = "=", r % 1); i += e.charAt(63 & n >> 8 - r % 1 * 8)) {
                                var s = t.charCodeAt(r += .75);
                                if (s > 255) throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");
                                n = n << 8 | s
                            }
                            return i
                        }, t.compareVersions = function(t, e) {
                            for (var i = t.split("."), n = i.length, r = e.length, s = 0; s < Math.max(n, r); s++) {
                                var a = s < n ? parseInt(i[s], 10) : 0,
                                    o = s == r ? e[s] : 0;
                                if (a > o) return !0;
                                if (a < o) return !1
                            }
                            return !0
                        }, t.aggregate = function(t, e, i) {
                            for (var n = 0, r = this.aggregationCallbacks[t], s = r.start; e();) {
                                var a = i();
                                r.increment(s, a), n += 1
                            }
                            return n > 0 ? r.result(s, n) : null
                        }, t.getRelativeClientRect = function(t) {
                            if (!t) return null;
                            if (!t.offsetParent) return null;
                            var e = t.getBoundingClientRect(),
                                i = t.offsetParent.getBoundingClientRect();
                            return {
                                bottom: i.bottom - e.bottom,
                                height: e.height,
                                left: e.left - i.left,
                                right: i.right - e.right,
                                top: e.top - i.top,
                                width: e.width
                            }
                        }, t.countDecimals = function(t) {
                            return t ? Math.floor(t) === t ? 0 : t.toString().split(".")[1].length || 0 : 0
                        }, t
                    }();
                if (d._previousConsoleMessages = {}, d.SeparatorChar = String.fromCharCode(63743), d.nextIdentifier = 0, d.numberUnitMap = {
                        "": 1,
                        K: 1e3,
                        M: 1e6,
                        bn: 1e9,
                        T: 1e12
                    }, d.reverseNumberUnitMap = ["", "K", "M", "bn", "T"], d.decodeTextarea = null, d.aggregationCallbacks = {
                        sum: {
                            start: 0,
                            increment: function(t, e) {
                                return t + e
                            },
                            result: function(t, e) {
                                return t
                            }
                        },
                        min: {
                            start: 1 / 0,
                            increment: function(t, e) {
                                return Math.min(t, e)
                            },
                            result: function(t, e) {
                                return t
                            }
                        },
                        max: {
                            start: -(1 / 0),
                            increment: function(t, e) {
                                return Math.max(t, e)
                            },
                            result: function(t, e) {
                                return t
                            }
                        },
                        avg: {
                            start: 0,
                            increment: function(t, e) {
                                return t + e
                            },
                            result: function(t, e) {
                                return t / e
                            }
                        },
                        count: {
                            start: 0,
                            increment: function(t, e) {
                                return 0
                            },
                            result: function(t, e) {
                                return e
                            }
                        },
                        first: {
                            start: null,
                            increment: function(t, e) {
                                return null !== t && void 0 !== t ? t : e
                            },
                            result: function(t, e) {
                                return t
                            }
                        },
                        last: {
                            start: null,
                            increment: function(t, e) {
                                return null !== e && void 0 !== e ? e : t
                            },
                            result: function(t, e) {
                                return t
                            }
                        }
                    }, r.Helpers = d, "undefined" != typeof window) {
                    var p = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame,
                        f = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelRequestAnimationFrame || window.oCancelAnimationFrame;
                    if (!p) {
                        var g = 0;
                        p = function(t) {
                            var e = (new Date).getTime(),
                                i = Math.max(0, 16 - (e - g)),
                                n = window.setTimeout(function() {
                                    return t(e + i)
                                }, i);
                            return g = e + i, n
                        }, f = window.clearTimeout
                    }
                    f || (f = function() {}), d.requestAnimationFrame = function(t) {
                        return p.call(window, t)
                    }, d.cancelAnimationFrame = function(t) {
                        return f.call(window, t)
                    };
                    var m = (new Date).getTime();
                    "performance" in window == !1 ? d.performanceNow = function() {
                        return (new Date).getTime() - m
                    } : "now" in window.performance == !1 ? (performance.timing && performance.timing.navigationStart && (m = performance.timing.navigationStart), d.performanceNow = function() {
                        return (new Date).getTime() - m
                    }) : d.performanceNow = function() {
                        return window.performance.now()
                    };
                    var v = m - d.performanceNow();
                    d.timeToPerfNow = function(t) {
                        return t - v
                    }
                }
                var y = function() {
                    function t() {
                        this.id = "default", this.url = null, this.urlParameters = [], this.postprocessorFunction = null, this.preloaded = null, this.format = "JSON", this.requestTimeout = 4e4, this.numberOfParallelRequests = 3
                    }
                    return t
                }();
                r.SettingsData = y;
                var S = function() {
                    function t(t, e) {
                        this.removed = !1, this.requestScheduled = !1, this.requestsRunning = !1, this.requestCount = 0, this.dataSettings = e, this.chart = t, this.settings = t.settings
                    }
                    return t.doRequest = function(t, e, i, n, r, s) {
                        if (i.urlParameters.length) {
                            n = n.slice();
                            for (var a = 0; a < i.urlParameters.length; a++) {
                                var o = i.urlParameters[a];
                                n.push([o.name, o.value])
                            }
                        }
                        var l;
                        l = i.postprocessorFunction ? function(t) {
                            return r(i.postprocessorFunction(t))
                        } : r, d.doRequest(t, e, i.requestTimeout, n, l, s)
                    }, t.prototype.buildRequest = function() {
                        return null
                    }, t.prototype.verifyData = function(t, e) {
                        return !0
                    }, t.prototype.addVerifiedData = function(t, e) {
                        return {}
                    }, t.prototype.requestFailedPermanently = function(t) {}, t.prototype.remove = function() {
                        this.removed = !0
                    }, t.prototype.hasPendingRequests = function() {
                        return !this.removed && this.requestCount > 0
                    }, t.prototype.addData = function(t) {
                        this._dataArrived(null, t)
                    }, t.prototype.applyPreloadedData = function() {
                        this.dataSettings.preloaded && this._dataArrived(null, this.dataSettings.preloaded)
                    }, t.prototype.scheduleRequests = function(t) {
                        var e = this;
                        void 0 === t && (t = !1), t ? this._runRequests() : this.requestScheduled || (this.requestScheduled = !0, setTimeout(function() {
                            return e._runRequests()
                        }, 0))
                    }, t.prototype._runRequests = function() {
                        var t = this;
                        if (!this.removed && !this.requestsRunning) {
                            this.requestScheduled = !1;
                            var e;
                            try {
                                for (this.requestsRunning = !0; this.requestCount < this.dataSettings.numberOfParallelRequests && (e = this.buildRequest(), null !== e);) ! function(e) {
                                    var i = function(i) {
                                            return t._dataArrived(e, i)
                                        },
                                        n = function(i) {
                                            return t._dataError(e, i)
                                        };
                                    t.requestCount += 1, t.chart.log("Requesting data for", e), t.dataFunc(e, i, n)
                                }(e)
                            } finally {
                                this.requestsRunning = !1
                            }
                        }
                    }, t.prototype._dataError = function(t, e) {
                        if (!this.removed) {
                            var i = d.parseData(e, this.dataSettings.format, !0),
                                n = i && i.error ? i.error : "Unknown error";
                            t ? (this.requestCount -= 1, this.chart.error("Data request failed: " + n, t)) : this.chart.error("Data loading failed: " + n), this.requestFailedPermanently(t), this._runRequests()
                        }
                    }, t.prototype._dataArrived = function(t, e) {
                        if (!this.removed) {
                            var i = d.parseData(e, this.dataSettings.format);
                            if (t ? (this.requestCount -= 1, i.error ? this.chart.error("Data request succeeded, but contained an error: " + i.error, t) : this.chart.log("Data arrived for request", t)) : i.error ? this.chart.error("Loaded data contains error: " + i.error) : this.chart.log("Data loaded"), !i.error && this.verifyData(t, i)) {
                                var n = this.addVerifiedData(t, i);
                                n.dataArrived || (n.dataArrived = {}), n.dataArrived[this.dataSettings.id] = !0;
                                var r = this.chart.createEventArguments(null, "api");
                                r.dataArrived = i, r.dataRemoved = null, this.chart.notifyDataUpdated(r), this.chart.events.notifySceneChanges(n)
                            } else t && this.requestFailedPermanently(t);
                            this._runRequests()
                        }
                    }, t
                }();
                r.Data = S;
                var b = function() {
                    function t() {}
                    return t.detect = function() {
                        return this._cached || this.run()
                    }, t.run = function() {
                        var t, e = window,
                            i = document.body;
                        document.domain && (t = document.createElement("iframe"), i.appendChild(t), e = t.contentWindow);
                        var n;
                        try {
                            n = this.check(e)
                        } catch (t) {
                            n = this.check(window)
                        }
                        return this._cached = n, t && i.removeChild(t), n
                    }, t.check = function(t) {
                        return {
                            isSafariDesktop: !!t.safari && !!t.safari.pushNotification,
                            isIOS: /(iPad|iPhone|iPod)/g.test(navigator.userAgent),
                            isChrome: !!t.chrome && !!t.chrome.loadTimes
                        }
                    }, t
                }();
                b._cached = null, r.Browser = b;
                var x = function() {
                    function t(t, e, i, n) {
                        this.consumed = !1, this.defaultPrevented = !1, this.x = 0, this.y = 0, this.dx = 0, this.dy = 0, this.wheely = 0, this.wheelx = 0, this.identifier = "0", this.pressed = !1, this.touch = !1, this.pageX = 0, this.pageY = 0, this.shiftKey = !1, this.altKey = !1, this.ctrlKey = !1, this.metaKey = !1, this.target = null, this.isRightMB = !1, this._vx = null, this._vy = null, this.velocityPointer = null, this._leaving = !1, this.swipeUp = !1, this.swipeDown = !1, this.swipeLeft = !1, this.swipeRight = !1, this.swipeSpeed = null, this.capture = !1, this.hovered = !1, this.cursor = null, this.changedPointerCount = 1, this.identifier = n, this.timeStamp = i, this.y = e, this.x = t
                    }
                    return t.prototype.preventDefault = function() {
                        this.defaultPrevented = !0
                    }, Object.defineProperty(t.prototype, "vx", {
                        get: function() {
                            return null === this._vx && null !== this.velocityPointer && this.velocityPointer.calculatePosAndSpeed(this), this._vx || 0
                        },
                        set: function(t) {
                            this._vx = t
                        },
                        enumerable: !0,
                        configurable: !0
                    }), Object.defineProperty(t.prototype, "vy", {
                        get: function() {
                            return null === this._vy && null !== this.velocityPointer && this.velocityPointer.calculatePosAndSpeed(this), this._vy || 0
                        },
                        set: function(t) {
                            this._vy = t
                        },
                        enumerable: !0,
                        configurable: !0
                    }), t.prototype.distance = function(t) {
                        return Math.sqrt((t.x - this.x) * (t.x - this.x) + (t.y - this.y) * (t.y - this.y))
                    }, t.prototype.isWithinDistance = function(t, e, i) {
                        if (!t) return !1;
                        var n = this.pageX - t.pageX,
                            r = this.pageY - t.pageY;
                        return n * n + r * r < e * e && (null == i || t.timeStamp + i > this.timeStamp)
                    }, t
                }();
                r.MouseEvent = x;
                var C = function() {
                        function t(t, e) {
                            this.noClick = !1, this.scrolling = !1, this.ptsIndex = 0, this.ptsLength = 3, this.ptsMax = 72, this.settings = e, this.identifier = t.identifier, this.touch = !1, this.x = t.x, this.y = t.y, this.pageX = t.pageX, this.pageY = t.pageY, this.timeStamp = t.timeStamp, "undefined" != typeof Int32Array ? this.pts = new Int32Array(this.ptsMax) : this.pts = new Array(this.ptsMax), this.pts[0] = Math.floor(this.x), this.pts[1] = Math.floor(this.y), this.pts[2] = 0
                        }
                        return t.prototype.moveTo = function(t) {
                            var e = this.ptsIndex + this.ptsLength,
                                i = Math.floor(t.timeStamp - this.timeStamp),
                                n = this.ptsMax;
                            i === this.pts[e - 1] && (this.ptsLength -= 3, e -= 3), t.x || t.y ? (t.dx = t.x - this.x, t.dy = t.y - this.y, this.x = t.x, this.y = t.y) : (t.dx = 0, t.dy = 0, t.x = this.x, t.y = this.y), e === this.ptsMax && (e = 0), this.pts[e++] = Math.floor(this.x), this.pts[e++] = Math.floor(this.y), this.pts[e++] = Math.floor(i), (this.ptsLength += 3) > n && (this.ptsLength -= 3, n === (this.ptsIndex += 3) && (this.ptsIndex = 0))
                        }, t.prototype.getPosAndSpeed = function(t) {
                            t.touch = this.touch, t.velocityPointer = this, t.vx = null, t.vy = null
                        }, t.prototype.calculatePosAndSpeed = function(t) {
                            var e, i, n = this.pts,
                                r = this.ptsMax,
                                s = 10 * r,
                                a = 50,
                                o = Math.floor(t.timeStamp - this.timeStamp) - s;
                            for (e = this.ptsIndex; e < this.ptsIndex + this.ptsLength && (i = e % r, !(n[i + 2] > o)); e += 3);
                            return s = Math.floor(t.timeStamp - this.timeStamp) - n[i + 2], e === this.ptsIndex + this.ptsLength || s < a ? (t.vx = 0, void(t.vy = 0)) : (t.vx = (this.x - n[i + 0]) / s, void(t.vy = (this.y - n[i + 1]) / s))
                        }, t
                    }(),
                    w = function() {
                        function t(e, i, n, r) {
                            void 0 === n && (n = null);
                            var s = this;
                            this.scaleX = 1, this.scaleY = 1, this.nextFakeMouseId = 1, this.doubleClickTimeout = null, this.longPressTimeout = null, this.longPressInitiator = null, this.listeners = {}, this.downPointers = {}, this.inPointers = {}, this.containerList = [], this.clickCounter = 1, this.lastClickEvent = null, this.topWindowEvents = {}, this.ID_MOUSE = "mouse", this.settings = i, this.container = e, this.lastEvent = null, this.lastTouchEvent = null, this.clickEvent = null, this.containerEvents = {
                                contextmenu: function(t) {
                                    return s.filterEvent(t) && s.handleCMenu(t)
                                },
                                wheel: function(t) {
                                    return s.filterEvent(t) && s.handleMouseWheel(t)
                                },
                                dragover: function(t) {
                                    return s.filterEvent(t) && s.handleMouseMove(t)
                                }
                            }, this.transform = r;
                            var a = "undefined" != typeof PointerEvent,
                                o = "undefined" != typeof TouchEvent,
                                l = !a && "undefined" != typeof MSPointerEvent;
                            l ? (this.container.style.msTouchAction = "none", this.windowEvents = (c = {}, c.MSPointerDown = function(t) {
                                return s.filterEvent(t) && s.handlePointerDown(t)
                            }, c.MSPointerMove = function(t) {
                                return s.filterEvent(t) && s.handlePointerMove(t)
                            }, c.MSPointerUp = function(t) {
                                return s.filterEvent(t) && s.handlePointerUp(t)
                            }, c.MSPointerCancel = function(t) {
                                return s.filterEvent(t) && s.handlePointerCancel(t)
                            }, c.MSPointerOut = function(t) {
                                return s.filterEvent(t) && s.handlePointerLeave(t)
                            }, c)) : a && !o ? (this.container.style.touchAction = "none", this.windowEvents = (p = {}, p.pointerdown = function(t) {
                                return s.filterEvent(t) && s.handlePointerDown(t)
                            }, p.pointermove = function(t) {
                                return s.filterEvent(t) && s.handlePointerMove(t)
                            }, p.pointerup = function(t) {
                                return s.filterEvent(t) && s.handlePointerUp(t)
                            }, p.pointercancel = function(t) {
                                return s.filterEvent(t) && s.handlePointerCancel(t)
                            }, p.pointerout = function(t) {
                                return s.filterEvent(t) && s.handlePointerLeave(t)
                            }, p)) : (this.windowEvents = {
                                mousedown: function(t) {
                                    return s.filterEvent(t) && s.handleMouseDown(t)
                                },
                                mouseup: function(t) {
                                    return s.filterEvent(t) && s.handleMouseUp(t)
                                },
                                mousemove: function(t) {
                                    return s.filterEvent(t) && s.handleMouseMove(t)
                                },
                                mouseout: function(t) {
                                    return s.filterEvent(t) && s.handleMouseLeave(t)
                                },
                                touchstart: function(t) {
                                    return s.filterEvent(t) && s.handleTouchStart(t)
                                },
                                touchend: function(t) {
                                    return s.filterEvent(t) && s.handleTouchEnd(t)
                                },
                                touchcancel: function(t) {
                                    return s.filterEvent(t) && s.handleTouchCancel(t)
                                },
                                touchmove: function(t) {
                                    return s.filterEvent(t) && s.handleTouchMove(t)
                                }
                            }, this.topWindowEvents = {
                                mouseup: function(t) {
                                    return s.filterEvent(t) && s.handleMouseUp(t);
                                },
                                touchend: function(t) {
                                    return s.filterEvent(t) && s.handleTouchEnd(t)
                                }
                            }, b.detect().isIOS && (this.windowEvents.dblclick = function(t) {
                                return s.filterEvent(t) && s.handleDblClick(t)
                            })), !t._ignoreWindowTop && window.top && this.addTopWindowHandlers(), b.detect().isSafariDesktop && this.addSelectPrevention();
                            for (var h in this.windowEvents) d.listen(window, h, this.windowEvents[h]);
                            if (this.addContainer(e), n)
                                for (var u = 0; u < n.length; u++) this.addContainer(n[u]);
                            var c, p
                        }
                        return t.prototype.addSelectPrevention = function() {
                            var t = this;
                            document.addEventListener("selectstart", function(e) {
                                Object.keys(t.downPointers).length && e.preventDefault()
                            })
                        }, t.prototype.addTopWindowHandlers = function() {
                            try {
                                for (var e in this.topWindowEvents) d.listen(window.top, e, this.topWindowEvents[e])
                            } catch (e) {
                                t._ignoreWindowTop = !0
                            }
                        }, t.prototype.addContainer = function(t) {
                            this.containerList.push(t);
                            var e;
                            for (e in this.containerEvents) d.listen(t, e, this.containerEvents[e]);
                            for (e in this.windowEvents) d.listen(t, e, this.windowEvents[e])
                        }, t.prototype.remove = function() {
                            for (var e in this.windowEvents) d.unlisten(window, e, this.windowEvents[e]);
                            if (!t._ignoreWindowTop && window.top)
                                for (var e in this.topWindowEvents) d.unlisten(window.top, e, this.topWindowEvents[e]);
                            for (var i = 0; i < this.containerList.length; i++) {
                                var n = this.containerList[i];
                                for (var e in this.containerEvents) d.unlisten(n, e, this.containerEvents[e])
                            }
                        }, t.prototype.listen = function(t, e) {
                            this.listeners[t] = e
                        }, t.prototype.processConsumed = function(t, e, i) {
                            e && (d.stopPropagation(t), i && t.preventDefault())
                        }, t.prototype.capturePointer = function(t) {
                            var e = t.target;
                            e.setPointerCapture ? e.setPointerCapture(t.pointerId) : e.msSetPointerCapture ? e.msSetPointerCapture(t.pointerId) : this.captureMouse(t)
                        }, t.prototype.releasePointer = function(t) {
                            this.releaseMouse(t)
                        }, t.prototype.releaseMouse = function(t) {
                            document.releaseCapture && document.releaseCapture()
                        }, t.prototype.captureMouse = function(t) {
                            var e = t.target;
                            e.setCapture && e.setCapture(!0)
                        }, t.prototype.filterEvent = function(t) {
                            return t !== this.lastEvent && (this.lastEvent = t, !0)
                        }, t.prototype.handlePointerDown = function(t) {
                            var e = this.buildEvent(t, t.pointerId.toString(), t.timeStamp, t.buttons > 0);
                            t.currentTarget !== window && this.capturePointer(t), this.downHappened(e), this.processConsumed(t, e.consumed)
                        }, t.prototype.handlePointerMove = function(t) {
                            var e = this.buildEvent(t, t.pointerId.toString(), t.timeStamp, t.buttons > 0);
                            this.moveHappened(e), this.processConsumed(t, e.consumed, !0)
                        }, t.prototype.handlePointerUp = function(t) {
                            if (0 === t.buttons) {
                                var e = this.buildEvent(t, t.pointerId.toString(), t.timeStamp, !1);
                                this.releasePointer(t), this.upHappened(e), this.processConsumed(t, e.consumed)
                            }
                        }, t.prototype.handlePointerCancel = function(t) {
                            var e = this.buildEvent(t, t.pointerId.toString(), t.timeStamp, !1);
                            this.cancelHappened(e)
                        }, t.prototype.handleMouseDown = function(t) {
                            if (!(t.timeStamp < this.lastTouchEvent)) {
                                var e = this.buildEvent(t, this.ID_MOUSE, t.timeStamp, !0);
                                t.currentTarget !== window && this.captureMouse(t), this.downHappened(e), this.processConsumed(t, e.consumed)
                            }
                        }, t.prototype.handleCMenu = function(t) {
                            this.processConsumed(t, !0, !0)
                        }, t.prototype.handleMouseWheel = function(t) {
                            if (this.isTargetOkay(t.target) && (!this.settings.mouseWheelRequiresFocus || document.activeElement === this.container)) {
                                if (5 === t.mozInputSource || 0 === t.deltaX && 0 === t.deltaY) return void d.stopPropagation(t);
                                if (t.deltaMode !== t.DOM_DELTA_PAGE) {
                                    var e = this.buildEvent(t, this.ID_MOUSE, t.timeStamp, !0),
                                        i = t.deltaMode === t.DOM_DELTA_LINE ? -40 : -1;
                                    e.wheely = t.deltaY * i, e.wheelx = t.deltaX * i, this.wheelHappened(e), this.processConsumed(t, e.consumed, !0)
                                }
                            }
                        }, t.prototype.handleMouseUp = function(t) {
                            if (t.shiftKey && t.ctrlKey) return this.ID_MOUSE = "mouse" + this.nextFakeMouseId, void(this.nextFakeMouseId += 1);
                            var e = this.buildEvent(t, this.ID_MOUSE, t.timeStamp, !1);
                            this.releaseMouse(t), this.upHappened(e), this.processConsumed(t, e.consumed)
                        }, t.prototype.handleDblClick = function(t) {
                            this.clickCounter = 2;
                            var e = this.buildEvent(t, this.ID_MOUSE, t.timeStamp, !1);
                            this.releaseMouse(t), this.downHappened(e), this.upHappened(e), this.processConsumed(t, e.consumed)
                        }, t.prototype.handlePointerLeave = function(t) {
                            var e = t.pointerId.toString();
                            this.inPointers[e] && !this.downPointers[e] && this.pointerLeave(this.buildEvent(t, e, t.timeStamp, !1))
                        }, t.prototype.handleMouseLeave = function(t) {
                            t.timeStamp < this.lastTouchEvent || this.inPointers[this.ID_MOUSE] && !this.downPointers[this.ID_MOUSE] && this.pointerLeave(this.buildEvent(t, this.ID_MOUSE, t.timeStamp, !1))
                        }, t.prototype.handleMouseMove = function(t) {
                            if (!(t.timeStamp < this.lastTouchEvent)) {
                                var e = this.buildEvent(t, this.ID_MOUSE, t.timeStamp, !1);
                                this.moveHappened(e), this.processConsumed(t, e.consumed, !0)
                            }
                        }, t.prototype.handleTouchStart = function(t) {
                            this.lastTouchEvent = t.timeStamp + 2e3, this.removeLostTouches(t, t.touches, t.changedTouches);
                            for (var e, i = !1, n = t.changedTouches || t.touches, r = 0; r < n.length; r++) {
                                var s = n[r];
                                e = this.buildTouchEvent(t, s, !0, n.length), this.downHappened(e), i = i || e.consumed
                            }
                            this.processConsumed(t, i)
                        }, t.prototype.handleTouchEnd = function(t) {
                            this.lastTouchEvent = t.timeStamp + 2e3;
                            for (var e = t.changedTouches || t.touches, i = !1, n = 0; n < e.length; n++) {
                                var r = e[n],
                                    s = this.buildTouchEvent(t, r, !1, e.length),
                                    a = this.buildTouchEvent(t, r, !1, e.length);
                                a.x = a.y = a.pageX = a.pageY = -1e9, this.upHappened(s), this.pointerLeave(a), i = i || s.consumed || a.consumed, this.removeLostTouches(t, t.touches)
                            }
                            this.processConsumed(t, i)
                        }, t.prototype.handleTouchCancel = function(t) {
                            this.lastTouchEvent = t.timeStamp + 2e3;
                            for (var e = t.changedTouches || t.touches, i = 0; i < e.length; i++) {
                                var n = e[i],
                                    r = this.buildTouchEvent(t, n, !1, e.length);
                                this.cancelHappened(r)
                            }
                            this.removeLostTouches(t, t.touches)
                        }, t.prototype.handleTouchMove = function(t) {
                            this.lastTouchEvent = t.timeStamp + 2e3;
                            var e = !1;
                            this.removeLostTouches(t, t.touches);
                            for (var i, n = t.changedTouches || t.touches, r = 0; r < n.length; r++) {
                                var s = n[r];
                                i = this.buildTouchEvent(t, s, !0, n.length), this.moveHappened(i), e = e || i.consumed
                            }
                            this.processConsumed(t, e, !0)
                        }, t.prototype.removeLostTouches = function(t, e, i) {
                            void 0 === i && (i = null);
                            for (var n = Object.create(null), r = 0; r < e.length; r++) {
                                var s = e[r];
                                n[s.identifier] = !0
                            }
                            for (var a in this.downPointers) {
                                var o = this.downPointers[a];
                                if (this.downPointers.hasOwnProperty(a) && !n[a]) {
                                    var l = this.rebuildEvent(t, o, !1);
                                    this.upHappened(l)
                                }
                            }
                            if (null !== i)
                                for (var r = 0; r < i.length; r++) {
                                    var s = i[r],
                                        o = this.downPointers[s.identifier];
                                    if (o) {
                                        var l = this.rebuildEvent(t, o, !1);
                                        this.upHappened(l)
                                    }
                                }
                        }, t.prototype.rebuildEvent = function(t, e, i) {
                            var n = new x(e.x, e.y, t.timeStamp, e.identifier);
                            return n.pageX = e.pageX, n.pageY = e.pageY, n.pressed = i, n.shiftKey = t.shiftKey, n.altKey = t.altKey, n.ctrlKey = t.ctrlKey, n.metaKey = t.metaKey, n
                        }, t.prototype.buildTouchEvent = function(t, e, i, n) {
                            var r = d.convertPointFromPageToNode(this.container, e.pageX, e.pageY, e.clientX, e.clientY),
                                s = r.x,
                                a = r.y;
                            if (this.transform) {
                                var o = ee.transformVec2d(s, a, this.transform);
                                s = o.x, a = o.y
                            }
                            var l = new x(Math.round(s * this.scaleX), Math.round(a * this.scaleY), t.timeStamp, "" + e.identifier);
                            return l.target = e.target || t.target || t.srcElement, l.pageX = e.pageX, l.pageY = e.pageY, l.shiftKey = t.shiftKey, l.altKey = t.altKey, l.ctrlKey = t.ctrlKey, l.metaKey = t.metaKey, l.pressed = i, l.changedPointerCount = n, l.touch = !0, l
                        }, t.prototype.buildEvent = function(t, e, i, n, r) {
                            void 0 === r && (r = 1);
                            var s, a, o = t.pageX,
                                l = t.pageY,
                                h = (!t.currentTarget || t.currentTarget === this.container) && t.target === this.container;
                            if (h && void 0 !== t.offsetX) s = t.offsetX, a = t.offsetY;
                            else if (h && void 0 !== t.layerX) s = t.layerX, a = t.layerY;
                            else {
                                var u = d.convertPointFromPageToNode(this.container, o, l, t.clientX, t.clientY);
                                s = u.x, a = u.y
                            }
                            if (this.transform) {
                                var u = ee.transformVec2d(s, a, this.transform);
                                s = u.x, a = u.y
                            }
                            var c = new x(Math.round(s * this.scaleX), Math.round(a * this.scaleY), i, "" + e);
                            return c.target = t.target || t.srcElement, c.pageX = o, c.pageY = l, c.shiftKey = t.shiftKey, c.altKey = t.altKey, c.ctrlKey = t.ctrlKey, c.metaKey = t.metaKey, c.pressed = n, c.changedPointerCount = r, c.touch = "touch" === t.pointerType || 2 === t.pointerType, t.which ? c.isRightMB = 3 === t.which : c.isRightMB = 2 === t.button, c
                        }, t.prototype.downHappened = function(e) {
                            if (e.pressed = !0, this.fireEvent(t.EVENT_GLOBAL_DOWN, e), this.isTargetOkay(e.target) && !this.downPointers[e.identifier]) {
                                this.click_Hold();
                                var i = new C(e, this.settings);
                                this.downPointers[e.identifier] = i, i.touch = e.touch, this.inPointers[e.identifier] = !0, this.fireEvent(t.EVENT_DOWN, e), this.startLongPress(e)
                            }
                        }, t.prototype.upHappened = function(e) {
                            var i = this.downPointers[e.identifier];
                            if (i) {
                                this.cancelLongPress(), i.moveTo(e), i.getPosAndSpeed(e), delete this.downPointers[e.identifier];
                                var n = e.vx,
                                    r = e.vy,
                                    s = Math.abs(n),
                                    a = Math.abs(r);
                                s > 2 * a ? (e.swipeSpeed = s, n > 0 ? e.swipeLeft = !0 : e.swipeRight = !0) : a > 2 * s && (e.swipeSpeed = a, r < 0 ? e.swipeUp = !0 : e.swipeDown = !0), this.fireEvent(t.EVENT_UP, e), !i.noClick && e.isWithinDistance(i, this.settings.clickSensitivity, this.settings.doubleClickTimeout) && this.click_Next(e)
                            }
                        }, t.prototype.cancelHappened = function(e) {
                            this.downPointers[e.identifier] && (this.cancelLongPress(), delete this.downPointers[e.identifier], this.fireEvent(t.EVENT_CANCEL, e))
                        }, t.prototype.moveHappened = function(e) {
                            var i = this.downPointers[e.identifier];
                            e.pressed = void 0 !== i && null !== i, void 0 !== i && null !== i ? (this.cancelLongPress(e), i.scrolling = !0, i.moveTo(e), i.getPosAndSpeed(e), this.fireEvent(t.EVENT_DRAG, e), this.click_Cancel(e)) : this.click_OnMove(e) || (this.isTargetOkay(e.target) ? (this.inPointers[e.identifier] = !0, this.fireEvent(t.EVENT_MOVE, e)) : this.pointerLeave(e))
                        }, t.prototype.wheelHappened = function(e) {
                            this.fireEvent(t.EVENT_WHEEL, e)
                        }, t.prototype.pointerLeave = function(e) {
                            this.inPointers.hasOwnProperty(e.identifier) && (this.click_Cancel(e) || this.fireEvent(t.EVENT_LEAVE, e), delete this.inPointers[e.identifier])
                        }, t.prototype.click_Next = function(e) {
                            var i = this;
                            if (e.isRightMB) return void this.fireEvent(t.EVENT_RCLICK, e);
                            this.settings.scrollIntoView && this.container.scrollIntoView();
                            var n;
                            switch (this.clickCounter) {
                                case 1:
                                    n = t.EVENT_CLICK;
                                    break;
                                case 2:
                                    n = t.EVENT_DBLCLICK;
                                    break;
                                default:
                                case 3:
                                    n = t.EVENT_TPLCLICK
                            }
                            var r = null !== this.clickEvent && (null == this.settings.doubleClickTimeout || this.clickEvent.timeStamp + this.settings.doubleClickTimeout >= e.timeStamp && this.clickEvent.distance(e) < this.settings.doubleClickSensitivity);
                            r && clearTimeout(this.doubleClickTimeout), (r || 1 === this.clickCounter) && (this.settings.noClickOnDoubleClick && null != this.settings.doubleClickTimeout ? this.doubleClickTimeout = setTimeout(function() {
                                return i.fireClick(n)
                            }, this.settings.doubleClickTimeout) : this.fireEvent(n, e), this.lastClickEvent = n), this.fireEvent(t.EVENT_INSTACLICK, e), this.clickEvent = e, this.clickCounter++, this.settings.noClickOnDoubleClick && null != this.settings.doubleClickTimeout || (null == this.settings.doubleClickTimeout ? (this.clickEvent = this.lastClickEvent = null, this.clickCounter = 1) : setTimeout(function() {
                                i.clickEvent = i.lastClickEvent = null, i.clickCounter = 1
                            }, this.settings.doubleClickTimeout))
                        }, t.prototype.click_Cancel = function(t) {
                            return !(!this.clickEvent || this.clickEvent.identifier !== t.identifier) && (this.clickEvent._leaving = !0, !0)
                        }, t.prototype.click_Hold = function() {
                            void 0 !== this.doubleClickTimeout && null !== this.doubleClickTimeout && (clearTimeout(this.doubleClickTimeout), this.doubleClickTimeout = null)
                        }, t.prototype.click_OnMove = function(t) {
                            return !(!this.clickEvent || !this.settings.noClickOnDoubleClick) && (this.clickEvent.distance(t) < this.settings.doubleClickSensitivity || (this.fireEvent(this.lastClickEvent, this.clickEvent), this.clickEvent = this.lastClickEvent = null, this.clickCounter = 1, !1))
                        }, t.prototype.fireClick = function(e) {
                            this.clickEvent && (this.fireEvent(e, this.clickEvent), this.clickEvent._leaving && this.fireEvent(t.EVENT_LEAVE, this.clickEvent), this.clickEvent = null, this.clickCounter = 1)
                        }, t.prototype.startLongPress = function(e) {
                            var i = this;
                            if (!e.isRightMB) {
                                var n = function() {
                                    i.longPressTimeout = null, e.consumed = !1, i.downPointers[e.identifier].noClick = !0, i.fireEvent(t.EVENT_LONGPRESS, e), e.consumed || e.touch && (i.cancelHappened(e), i.fireEvent(t.EVENT_RCLICK, e))
                                };
                                this.cancelLongPress(), this.longPressTimeout = setTimeout(n, this.settings.longPressTimeout), this.longPressInitiator = e
                            }
                        }, t.prototype.cancelLongPress = function(t) {
                            if (null !== this.longPressTimeout) {
                                if (t && t.isWithinDistance(this.longPressInitiator, this.settings.longPressSensitivity)) return;
                                clearTimeout(this.longPressTimeout), this.longPressTimeout = null
                            }
                        }, t.prototype.fireEvent = function(t, e) {
                            this.listeners[t] && this.listeners[t].call(this, e)
                        }, t.prototype.isTargetOkay = function(t) {
                            return this.containerList.indexOf(t) !== -1 || d.isParentOf(this.container, t)
                        }, t
                    }();
                w._ignoreWindowTop = !1, w.EVENT_MOVE = "move", w.EVENT_DOWN = "down", w.EVENT_GLOBAL_DOWN = "gdown", w.EVENT_DRAG = "drag", w.EVENT_CANCEL = "cancel", w.EVENT_UP = "up", w.EVENT_LEAVE = "leave", w.EVENT_CLICK = "click", w.EVENT_RCLICK = "rclick", w.EVENT_DBLCLICK = "dblclick", w.EVENT_INSTACLICK = "instaclick", w.EVENT_LONGPRESS = "longpress", w.EVENT_TPLCLICK = "tplclick", w.EVENT_WHEEL = "mwheel", w.EVENT_KEY = "key", r.MouseEvents = w;
                var L = function() {
                    function t() {
                        this.timeStamp = 0, this.dtime = 0, this.animating = !1, this.isExport = !1, this.context = null, this.scaleX = 1, this.scaleY = 1, this.labelRenderer = null, this.changes = {}
                    }
                    return t
                }();
                r.UpdateEvent = L;
                var T = function() {
                    function t() {
                        this.keyCode = null, this.capture = !1, this.consumed = !1, this.noDefault = !1, this.cursor = null, this.target = null
                    }
                    return t
                }();
                r.KeyEvent = T;
                var M = function() {
                    function t() {
                        this.animationOrder = 0, this.updateOrder = 0, this.paintOrder = 0
                    }
                    return t.prototype.remove = function() {}, t.prototype.onSceneChange = function(t) {}, t.prototype.getPanels = function(t) {
                        return []
                    }, t.prototype.doAnimations = function(t) {}, t.prototype.paintScene = function(t) {}, t.prototype.previewMouseEvent = function(t, e) {
                        this["preview" + t](e)
                    }, t.prototype.onMouseEvent = function(t, e) {
                        this["on" + t](e)
                    }, t.prototype.onClick = function(t) {}, t.prototype.onInstantClick = function(t) {}, t.prototype.onLongPress = function(t) {}, t.prototype.onRightClick = function(t) {}, t.prototype.onDoubleClick = function(t) {}, t.prototype.onTripleClick = function(t) {}, t.prototype.onPointerDown = function(t) {}, t.prototype.onPointerUp = function(t) {}, t.prototype.onPointerDrag = function(t) {}, t.prototype.onPointerMove = function(t) {}, t.prototype.onPointerOut = function(t) {}, t.prototype.onPointerCancel = function(t) {}, t.prototype.onWheel = function(t) {}, t.prototype.onKeyDown = function(t) {}, t.prototype.onGlobalPointerDown = function(t) {}, t.prototype.previewDoubleClick = function(t) {}, t.prototype.previewTripleClick = function(t) {}, t.prototype.previewRightClick = function(t) {}, t.prototype.previewClick = function(t) {}, t.prototype.previewInstantClick = function(t) {}, t.prototype.previewLongPress = function(t) {}, t.prototype.previewWheel = function(t) {}, t.prototype.previewGlobalPointerDown = function(t) {}, t.prototype.previewPointerDown = function(t) {}, t.prototype.previewPointerUp = function(t) {}, t.prototype.previewPointerDrag = function(t) {}, t.prototype.previewPointerMove = function(t) {}, t.prototype.previewPointerOut = function(t) {}, t.prototype.previewPointerCancel = function(t) {}, t.prototype.containsCoordinate = function(t, e) {
                        var i = this.getPanels(!1);
                        if (!i || !i.length) return !1;
                        for (var n = 0; n < i.length; n++) {
                            var r = i[n];
                            if (r.left < t && r.right > t && r.top < e && r.bottom > e) return !0
                        }
                        return !1
                    }, t
                }();
                r.ChartElement = M;
                var k = function() {
                    function t(t, e, i, n) {
                        this.side = "top", this.align = "fill", this.floating = !1, this.margin = 0, this.location = "outside", this.packingOrder = void 0, void 0 !== t && (this.side = t), void 0 !== e && (this.align = e), void 0 !== i && (this.margin = i), void 0 !== n && (this.packingOrder = n)
                    }
                    return t
                }();
                r.SettingsChartPanel = k;
                var P = function() {
                    function t() {
                        this.packingOrder = 0, this.location = "outside", this.side = "top", this.align = "fill", this.outsideEdge = !1, this.floating = !1, this.desiredWidth = 0, this.desiredHeight = 0, this.margin = 0, this.left = 0, this.top = 0, this.right = 0, this.bottom = 0, this.visible = !1, this.enableClipping = !1, this._tempData = null
                    }
                    return t.prototype.pushClip = function(t) {
                        this.enableClipping && r.Graphics.pushClip(t, this.left, this.top, this.right - this.left, this.bottom - this.top)
                    }, t.prototype.popClip = function(t) {
                        this.enableClipping && r.Graphics.popClip(t)
                    }, t.prototype.computeSize = function(t, e, i, n) {
                        return {
                            width: this.desiredWidth,
                            height: this.desiredHeight
                        }
                    }, t.prototype.placePanel = function(t, e, i, n) {
                        this.bottom = n, this.right = i, this.top = e, this.left = t
                    }, t
                }();
                r.ChartPanel = P;
                var A = function() {
                    function t(t) {
                        this.framesCount = 0, this.shell = t, this.measureFpsIters = 0, this.measureFpsT0 = 0, this.measureFpsIter = 0, this.measureFpsCallback = null
                    }
                    return t.prototype.hasPendingRequests = function() {
                        return this.shell.chart.hasPendingRequests()
                    }, t.prototype.measureFps = function(t, e) {
                        var i = this;
                        this.measureFpsCallback = e, this.measureFpsIters = t;
                        var n = this.shell.settings.advanced.useAnimationFrame;
                        if (n) {
                            this.shell.chart.updateSettings({
                                advanced: {
                                    useAnimationFrame: !1
                                }
                            });
                            var r = this.measureFpsCallback;
                            this.measureFpsCallback = function(t, e, n) {
                                i.shell.chart.updateSettings({
                                    advanced: {
                                        useAnimationFrame: !0
                                    }
                                }), r && r.call(window, t, e, n)
                            }
                        }
                        return this.measureFpsIter = 0, this.measureFpsT0 = (new Date).getTime(), this.shell.events.notifySceneChanges({
                            requestPaint: !0
                        }), !0
                    }, t.prototype.paintDone = function() {
                        if (this.framesCount += 1, this.measureFpsIters) {
                            this.measureFpsIter += 1;
                            var t = (new Date).getTime() - this.measureFpsT0;
                            if (this.measureFpsIter >= this.measureFpsIters && t > 4e3 || t > 1e4 && this.measureFpsIter >= 5) {
                                var e = 1e3 * this.measureFpsIter / Math.max(1e-4, t);
                                this.measureFpsCallback(e, this.measureFpsIter, t), this.measureFpsCallback = null, this.measureFpsIters = 0
                            } else this.shell.events.notifySceneChanges({
                                requestPaint: !0
                            })
                        }
                    }, t
                }();
                r.Profiler = A;
                var I = function() {
                        function t() {
                            this.subchart = null, this.element = null
                        }
                        return t
                    }(),
                    D = function() {
                        function t(t, e) {
                            this.sceneChanges = {}, this.forceFloating = !1, this._paintSuspended = 0, this.pointerState = {}, this.animationOrder = [], this.updateOrder = [], this.paintOrder = [], this.subcharts = [], this._lastPanelCount = [0, 0, 0], this.chartBounds = new Z(0, 0, 1, 1), this.chartOuterBounds = new Z(0, 0, 1, 1), this.chartBoundsIsOuter = !0, this.chart = t, this.shell = e, this.scene = t.scene
                        }
                        return t.panelSortCallback = function(t, e) {
                            return t.packingOrder - e.packingOrder
                        }, t.prototype.addElement = function(t) {
                            if (!t) throw new Error("`element` must be defined.");
                            return this.paintOrder.push(t), this.updateOrder.push(t), this.animationOrder.push(t), this.refreshElementOrder(), t
                        }, t.prototype.refreshElementOrder = function() {
                            this.animationOrder.sort(function(t, e) {
                                return t.animationOrder - e.animationOrder
                            }), this.paintOrder.sort(function(t, e) {
                                return t.paintOrder - e.paintOrder
                            }), this.updateOrder.sort(function(t, e) {
                                return t.updateOrder - e.updateOrder
                            })
                        }, t.prototype.removeElement = function(t) {
                            d.removeFromArray(this.paintOrder, t), d.removeFromArray(this.animationOrder, t), d.removeFromArray(this.updateOrder, t)
                        }, t.prototype.addSubchart = function(t) {
                            this.subcharts.push(t)
                        }, t.prototype.removeSubchart = function(t) {
                            d.removeFromArray(this.subcharts, t);
                            for (var e in this.pointerState) {
                                var i = this.pointerState[e];
                                i.subchart === t && (i.subchart = null)
                            }
                        }, t.prototype.suspendPaint = function() {
                            this._paintSuspended++
                        }, t.prototype.resumePaint = function() {
                            this._paintSuspended--, this._paintSuspended <= 0 && (this._paintSuspended = 0, this.requestPaint())
                        }, t.prototype.notifySceneChanges = function(t, e) {
                            if (d.hasProperties(t)) {
                                var i = t.settingsChanges;
                                void 0 !== i && i instanceof r.Settings ? (this.sceneChanges.settingsChanges = d.extendCopy(this.sceneChanges.settingsChanges || {}, i, function(t, e) {
                                    return "_" === t[0] || e
                                }), delete t.settingsChanges, d.extendDeep(this.sceneChanges, t), t.settingsChanges = i) : d.extendDeep(this.sceneChanges, t), this.requestPaint(e)
                            }
                        }, t.prototype.requestPaint = function(t) {
                            this._paintSuspended <= 0 && this.shell.requestPaint(t)
                        }, t.prototype.paintNow = function(t) {
                            void 0 === t && (t = !1), this.shell.paintNow(t = !1)
                        }, t.prototype.clearSceneChanges = function(t) {
                            for (var e in t) delete this.sceneChanges[e]
                        }, t.prototype.onMouseEvent = function(t, e) {
                            var i = e.name;
                            t.changes = {}, t.capture = !1;
                            var n, r, s = null,
                                a = null,
                                o = void 0,
                                l = t.identifier,
                                h = this.pointerState[l];
                            h || (h = new I, h.identifier = l, this.pointerState[l] = h);
                            for (var u = 0; u < this.updateOrder.length; u++) r = this.updateOrder[u], r.previewMouseEvent(i, t);
                            if (h.subchart) {
                                var c = h.subchart.events;
                                c.onMouseEvent(t, e), t.consumed || t.hovered || t.capture ? (a = h.subchart, t.capture = !0, o = t.cursor) : c.onMouseEvent(t, {
                                    ev: w.EVENT_LEAVE,
                                    name: "PointerOut"
                                })
                            }
                            if (n = r = h.element, r && (r.onMouseEvent(i, t), (t.consumed || t.capture || e.captures && e.needsCapture) && !e.releasesCapture && (s = r, t.capture = !0, o = t.cursor)), !t.capture && !e.needsCapture)
                                for (var d = this.subcharts.length - 1; d >= 0; d -= 1) {
                                    var p = this.subcharts[d],
                                        c = p.events;
                                    if (c.chartOuterBounds.containsPoint(t.x, t.y)) {
                                        if (c.onMouseEvent(t, e), t.consumed || t.hovered || t.capture) {
                                            a = p, t.capture = !0;
                                            break
                                        }
                                        c.onMouseEvent(t, {
                                            ev: w.EVENT_LEAVE,
                                            name: "PointerOut"
                                        })
                                    }
                                }
                            if (!t.capture && !e.needsCapture)
                                for (var u = 0; u < this.updateOrder.length; u++)
                                    if (r = this.updateOrder[u], r !== n && (r.onMouseEvent(i, t), t.consumed || t.capture)) {
                                        o = t.cursor, s = r, t.capture = !0;
                                        break
                                    } void 0 !== o && (t.cursor = o), (e.releasesCapture || e.captures) && (h.element = e.captures ? s : null, h.subchart = e.captures ? a : null), this.notifySceneChanges(t.changes)
                        }, t.prototype.setNewSize = function(t, e, i) {
                            if (i || !this.chartBounds.equals(t) || e !== this.chartBoundsIsOuter) {
                                this.chartBounds = t.clone();
                                var n = this.chart.settings.horizontal;
                                if (n) {
                                    var r = this.chartBounds.x0;
                                    this.chartBounds.x0 = this.chartBounds.y1, this.chartBounds.y1 = r, r = this.chartBounds.y0, this.chartBounds.y0 = this.chartBounds.x1, this.chartBounds.x1 = r
                                }
                                this.chartBoundsIsOuter = e, this.notifySceneChanges({
                                    bounds: !0,
                                    linearChartSeries: !0
                                })
                            }
                        }, t.prototype.updateLayout = function(e) {
                            for (var i = this.scene, n = new Array(this._lastPanelCount[0]), r = new Array(this._lastPanelCount[1]), s = new Array(this._lastPanelCount[2]), a = 0, o = 0, l = 0, h = 0; h < this.paintOrder.length; h++)
                                for (var u = this.paintOrder[h], c = u.getPanels(e.isExport), p = 0; p < c.length; p++) {
                                    var f = c[p],
                                        g = f.location;
                                    "external" === g ? s[l++] = f : "outside" === g ? r[o++] = f : "inside" === g && (n[a++] = f)
                                }
                            this._lastPanelCount = [a, o, l], n.length = a, r.length = o, s.length = l, d.sort(n, t.panelSortCallback), d.sort(r, t.panelSortCallback), d.sort(s, t.panelSortCallback);
                            var m, v, y;
                            if (this.chartBoundsIsOuter) {
                                m = this.chartBounds.clone();
                                for (var S = 0; S < l; S++) this._placePanel(s[S], m, !0, e);
                                v = this.chartBounds.clone(), y = this.chartBounds.clone();
                                for (var S = 0; S < o; S++) this._placePanel(r[S], y, !1, e)
                            } else {
                                y = this.chartBounds.clone(), v = this.chartBounds.clone();
                                for (var S = 0; S < o; S++) this._placePanel(r[S], v, !0, e);
                                m = v.clone();
                                for (var S = 0; S < l; S++) this._placePanel(s[S], m, !0, e)
                            }
                            this.chartOuterBounds = v, i.chartLeft = v.x0, i.chartTop = v.y0, i.chartHeight = v.h(), i.chartWidth = v.w();
                            for (var S = 0; S < l; S++) this._placePanelFinal(s[S], y);
                            for (var S = 0; S < o; S++) {
                                var f = r[S];
                                this._placePanelFinal(f, f.outsideEdge ? v : y)
                            }
                            var b = this.chart.settings.horizontal;
                            i.x0 === y.x0 && i.y0 === y.y0 && i.width === y.w() && i.height === y.h() || this.chart.events.notifySceneChanges({
                                bounds: !0
                            }), i.x0 = y.x0, i.y0 = y.y0, i.width = y.w(), i.height = y.h(), i.leftMargin = y.x0 - v.x0, i.rightMargin = v.x1 - y.x1, i.topMargin = y.y0 - v.y0, i.bottomMargin = v.y1 - y.y1, b /*&& i.prepareRotationMatrix(!0)*/;
                            for (var S = 0; S < a; S++) {
                                var f = n[S];
                                this._placePanel(f, y, !1, e), this._placePanelFinal(f, y)
                            }
                            return m
                        }, t.prototype._placePanel = function(t, e, i, n) {
                            var r = e.x0,
                                s = e.y0,
                                a = e.x1,
                                o = e.y1,
                                l = t.margin || 0,
                                h = t.computeSize(e.x1 - e.x0, e.y1 - e.y0, n.context, n.labelRenderer),
                                u = h.width || 0,
                                c = h.height || 0;
                            u += 2 * l, c += 2 * l, i ? "top" === t.side ? (o = s, s = o - c, t.floating || this.forceFloating || (e.y0 = s)) : "bottom" === t.side ? (s = o, o = s + c, t.floating || this.forceFloating || (e.y1 = o)) : "left" === t.side ? (a = r, r = a - u, t.floating || this.forceFloating || (e.x0 = r)) : "right" === t.side && (r = a, a = r + u, t.floating || this.forceFloating || (e.x1 = a)) : "top" === t.side ? (o = Math.min(o, s + c), t.floating || this.forceFloating || (e.y0 = o)) : "bottom" === t.side ? (s = Math.max(s, o - c), t.floating || this.forceFloating || (e.y1 = s)) : "left" === t.side ? (a = Math.min(a, r + u), t.floating || this.forceFloating || (e.x0 = a)) : "right" === t.side && (r = Math.max(r, a - u), t.floating || this.forceFloating || (e.x1 = r)), t._tempData = {
                                left: r,
                                right: a,
                                top: s,
                                bottom: o,
                                desiredWidth: u,
                                desiredHeight: c
                            }
                        }, t.prototype._placePanelFinal = function(t, e) {
                            var i = t._tempData.left,
                                n = t._tempData.right,
                                r = t._tempData.top,
                                s = t._tempData.bottom,
                                a = t._tempData.desiredWidth,
                                o = t._tempData.desiredHeight;
                            if ("outside" === t.location && ("top" === t.side || "bottom" === t.side ? (i = Math.max(i, e.x0), n = Math.min(n, e.x1)) : (r = Math.max(r, e.y0), s = Math.min(s, e.y1))), "left" === t.align) n = Math.min(n, i + a);
                            else if ("right" === t.align) i = Math.max(i, n - a);
                            else if ("top" === t.align) s = Math.min(s, r + o);
                            else if ("bottom" === t.align) r = Math.max(r, s - o);
                            else if ("center" === t.align || "middle" === t.align) {
                                var l = Math.max(0, n - i - a) / 2,
                                    h = Math.max(0, s - r - o) / 2;
                                i += l, n -= l, r += h, s -= h
                            }
                            var u = t.margin;
                            t.placePanel(i + u, r + u, n - u, s - u)
                        }, t.prototype.animateFrame = function(t) {
                            this.chart.settings.callbacks.renderStart && this.chart.settings.callbacks.renderStart();
                            try {
                                this.shell.prepareContext(t), t.changes = this.sceneChanges, this.sceneChanges = {};
                                for (var e = 0; e < this.updateOrder.length; e++) {
                                    var i = this.updateOrder[e];
                                    i.onSceneChange(t)
                                }
                                t.changes.bounds && this.updateLayout(t);
                                for (var n = 0; n < this.animationOrder.length; n++) {
                                    var r = this.animationOrder[n];
                                    r.doAnimations(t)
                                }
                                for (var s = 0; s < this.paintOrder.length; s++) {
                                    var a = this.paintOrder[s];
                                    a.paintScene(t)
                                }
                                t.changes.position && this.chart.notifyPositionChange(this.chart.createEventArguments(null, "api")), t.changes = null;
                                var o = [];
                                for (var l in this.pointerState) {
                                    var h = this.pointerState[l];
                                    h.subchart && o.push(h.subchart)
                                }
                                for (var u = 0; u < this.subcharts.length; u += 1) {
                                    var c = this.subcharts[u];
                                    if (!(o.indexOf(c) > -1)) {
                                        var d = c.events;
                                        (d.sceneChanges.bounds || d.chartOuterBounds.overlaps(this.chartOuterBounds)) && d.animateFrame(t)
                                    }
                                }
                                for (var u = 0; u < o.length; u += 1) {
                                    var c = o[u];
                                    c.events.animateFrame(t)
                                }
                                this.shell.finalizeContext(t)
                            } catch (t) {
                                this.chart.settings.callbacks.renderFailed && this.chart.settings.callbacks.renderFailed(t)
                            }
                            this.chart.settings.callbacks.renderFinish && this.chart.settings.callbacks.renderFinish()
                        }, t.prototype.doPaint = function(t) {
                            for (var e = 0; e < this.paintOrder.length; e++) {
                                var i = this.paintOrder[e];
                                i.paintScene(t)
                            }
                            for (var n = 0; n < this.subcharts.length; n += 1) {
                                var r = this.subcharts[n],
                                    s = r.events;
                                s.chartOuterBounds.overlaps(this.chartOuterBounds) && s.doPaint(t)
                            }
                        }, t
                    }();
                r.ChartEvents = D;
                var N = function() {
                    function t() {
                        this.enabled = !1, this.enabledOnExport = !1, this.url = "https://boomcharts.com", this.urlTarget = "_blank", this.image = "builtin://logo-supported-by", this.imageScaling = .5, this.location = "outside", this.imageExport = null
                    }
                    return t
                }();
                r.SettingsCredits = N;
                var O = function(t) {
                    function e(e, i) {
                        var n = t.call(this) || this;
                        n.animationOrder = 2e3, n.paintOrder = 60, n.updateOrder = 400, n.settings = i, n.chart = e, n.scene = e.scene, (i.enabledOnExport || i.enabled) && (n.chart.assetsLoader.getAssetImage(n.settings.image, function(t) {
                            return n.imageLoaded(t)
                        }), n.settings.imageExport && n.settings.image !== n.settings.imageExport && n.chart.assetsLoader.getAssetImage(n.settings.imageExport, function(t) {
                            return n.imageLoaded(t)
                        }));
                        var r = n.panel = new P;
                        return n.panel.placePanel = function(t, e, i, r) {
                            return n.placePanel(t, e, i, r)
                        }, r.packingOrder = 0, r.side = "bottom", r.align = "right", r.visible = !1, r.margin = 3, n
                    }
                    return n(e, t), e.prototype.onSceneChange = function(t) {
                        var e = t.changes;
                        e.settings && e.settingsChanges.credits && (e.bounds = !0)
                    }, e.prototype.getPanels = function(t) {
                        var e = this,
                            i = this.settings,
                            n = t ? i.enabledOnExport : i.enabled,
                            r = this.panel;
                        if (n) {
                            r.location = "outside", r.outsideEdge = !0, "outside" === i.location ? (r.floating = !1, t && !i.enabled && (r.location = "external")) : r.floating = !0;
                            var s = this.chart.assetsLoader.getAssetImage(i.image, function(t) {
                                return e.imageLoaded(t)
                            });
                            if (s) {
                                var a = this.isChartHorizontal(),
                                    o = a ? s.height : s.width,
                                    l = a ? s.width : s.height;
                                return r.desiredWidth = o * i.imageScaling, r.desiredHeight = l * i.imageScaling, r.visible = !0, [r]
                            }
                        }
                        return r.visible = !1, []
                    }, e.prototype.paintScene = function(t) {
                        var e = this,
                            i = this.panel;
                        if (i.visible) {
                            var n = this.chart.assetsLoader.getAssetImage(this.settings.image, function(t) {
                                    return e.imageLoaded(t)
                                }),
                                r = this.settings.imageExport ? this.chart.assetsLoader.getAssetImage(this.settings.imageExport, function(t) {
                                    return e.imageLoaded(t)
                                }) : n;
                            t.isExport && (n = r), n ? t.context.drawImage(n, 0, 0, n.width, n.height, i.left, i.top, i.right - i.left, i.bottom - i.top) : t.animating = !0
                        }
                    }, e.prototype.placePanel = function(t, e, i, n) {
                        this.isChartHorizontal() ? (this.panel.left = e, this.panel.top = t, this.panel.right = n, this.panel.bottom = i) : (this.panel.left = t, this.panel.top = e, this.panel.right = i, this.panel.bottom = n)
                    }, e.prototype.isChartHorizontal = function() {
                        var t = this.chart.settings;
                        return !!t.hasOwnProperty("horizontal") && t.horizontal
                    }, e.prototype.onPointerMove = function(t) {
                        this.isInPanel(t) && (t.cursor = "pointer")
                    }, e.prototype.onClick = function(t) {
                        this.isInPanel(t) && (this.chart.notifyClick(t, this.buildEventArgs(t)), t.defaultPrevented || d.openUrl(this.settings.url, this.settings.urlTarget), t.consumed = !0)
                    }, e.prototype.isInPanel = function(t) {
                        var e = this.panel,
                            i = this.chart.scene.chartHeight,
                            n = this.isChartHorizontal(),
                            r = n ? e.top : e.left,
                            s = n ? e.bottom : e.right,
                            a = n ? i - e.right : e.top,
                            o = n ? i - e.left : e.bottom;
                        return e.visible && this.settings.url && t.x >= r && t.x <= s && t.y >= a && t.y <= o
                    }, e.prototype.imageLoaded = function(t) {
                        this.chart.updateSize(!0), this.chart.events.notifySceneChanges({
                            settings: !0,
                            settingsChanges: {
                                credits: !0
                            }
                        })
                    }, e.prototype.buildEventArgs = function(t) {
                        var e = this.chart.createEventArguments(t, "user");
                        return e.clickCredits = !0, e.credits = {
                            url: this.settings.url,
                            urlTarget: this.settings.urlTarget
                        }, e
                    }, e
                }(M);
                r.Credits = O;
                var F = function() {
                    function t() {}
                    return t.isLight = function(e) {
                        var i = t.lightness(e);
                        return null == i ? null : i >= 128
                    }, t.lightness = function(t) {
                        return null == t ? null : .299 * t.R + .587 * t.G + .114 * t.B
                    }, t.format = function(t) {
                        return null == t ? null : "rgba(" + Math.floor(t.R) + "," + Math.floor(t.G) + "," + Math.floor(t.B) + "," + t.A.toFixed(3) + ")"
                    }, t.areEqual = function(t, e) {
                        return null == t ? null == e : null != e && (t.R === e.R && t.G === e.G && t.B === e.B && t.A === e.A)
                    }, t.parse = function(t) {
                        var e = E.parseCSSColor(t);
                        return null == e && t && d.warn("Color value '" + t + "' could not be parsed.", null, !0), e
                    }, t.normalize = function(t) {
                        return this.format(E.parseCSSColor(t))
                    }, t.derive = function(t, e, i) {
                        var n = "string" == typeof t,
                            r = n ? this.parse(t) : t,
                            s = 255 * (e - 1),
                            a = {
                                R: Math.round(Math.min(255, Math.max(0, r.R + s))),
                                G: Math.round(Math.min(255, Math.max(0, r.G + s))),
                                B: Math.round(Math.min(255, Math.max(0, r.B + s))),
                                A: Math.min(1, r.A * i)
                            };
                        return n ? this.format(a) : a
                    }, t.blend = function(t, e, i, n) {
                        void 0 === n && (n = !0);
                        var r, s = "string" == typeof t,
                            a = s ? this.parse(t) : t,
                            o = s ? this.parse(e) : e;
                        if (n) {
                            var l = 1 - i;
                            r = {
                                R: Math.round(o.R * i + a.R * l),
                                G: Math.round(o.G * i + a.G * l),
                                B: Math.round(o.B * i + a.B * l),
                                A: o.A * i + a.A * l
                            }
                        } else r = this._blendSlow(a, o, i);
                        return s ? this.format(r) : r
                    }, t._blendSlow = function(t, e, i) {
                        var n = this._rgb2lab(t),
                            r = this._rgb2lab(e),
                            s = 1 - i,
                            a = Math.round(r.L * i + n.L * s),
                            o = Math.round(r.A * i + n.A * s),
                            l = Math.round(r.B * i + n.B * s),
                            h = this._lab2rgb(a, o, l);
                        return h.R = Math.max(0, Math.min(255, h.R)), h.G = Math.max(0, Math.min(255, h.G)), h.B = Math.max(0, Math.min(255, h.B)), h.A = e.A * i + t.A * s, h
                    }, t.colorTone = function(t, e, i) {
                        var n = this.parse(t),
                            r = this.derive(n, e, i);
                        return {
                            color: this.format(r),
                            opacity: n.A
                        }
                    }, t.copyHue = function(t, e) {
                        var i = "string" == typeof t,
                            n = i ? this.parse(t) : t,
                            r = i ? this.parse(e) : e,
                            s = (n.R + n.G + n.B) / 765,
                            a = (r.R + r.G + r.B) / 765,
                            o = {
                                R: Math.round(n.R / s * a),
                                G: Math.round(n.G / s * a),
                                B: Math.round(n.B / s * a),
                                A: r.A
                            };
                        return i ? this.format(o) : o
                    }, t.inverse = function(t) {
                        var e = "string" == typeof t,
                            i = e ? this.parse(t) : t,
                            n = {
                                R: 255 - i.R,
                                G: 255 - i.G,
                                B: 255 - i.B,
                                A: i.A
                            };
                        return e ? this.format(n) : n
                    }, t._rgb2xyz = function(t) {
                        var e = t.R / 255,
                            i = t.G / 255,
                            n = t.B / 255;
                        return e = e > .04045 ? Math.pow((e + .055) / 1.055, 2.4) : e / 12.92, i = i > .04045 ? Math.pow((i + .055) / 1.055, 2.4) : i / 12.92, n = n > .04045 ? Math.pow((n + .055) / 1.055, 2.4) : n / 12.92, {
                            X: .4124 * e + .3576 * i + .1805 * n,
                            Y: .2126 * e + .7152 * i + .0722 * n,
                            Z: .0193 * e + .1192 * i + .9505 * n
                        }
                    }, t._rgb2lab = function(t) {
                        if (t._lab) return t._lab;
                        var e = this._rgb2xyz(t),
                            i = e.X / .95047,
                            n = e.Y,
                            r = e.Z / 1.08883;
                        return i = i > .008856 ? Math.pow(i, 1 / 3) : 7.787 * i + 16 / 116, n = n > .008856 ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116, r = r > .008856 ? Math.pow(r, 1 / 3) : 7.787 * r + 16 / 116, t._lab = {
                            L: 116 * n - 16,
                            A: 500 * (i - n),
                            B: 200 * (n - r)
                        }
                    }, t._xyz2rgb = function(t, e, i) {
                        var n = 3.2406 * t + e * -1.5372 + i * -.4986,
                            r = t * -.9689 + 1.8758 * e + .0415 * i,
                            s = .0557 * t + e * -.204 + 1.057 * i;
                        return n = n > .0031308 ? 1.055 * Math.pow(n, 1 / 2.4) - .055 : 12.92 * n, r = r > .0031308 ? 1.055 * Math.pow(r, 1 / 2.4) - .055 : 12.92 * r, s = s > .0031308 ? 1.055 * Math.pow(s, 1 / 2.4) - .055 : 12.92 * s, {
                            R: Math.round(255 * n),
                            G: Math.round(255 * r),
                            B: Math.round(255 * s),
                            A: 1
                        }
                    }, t._lab2rgb = function(t, e, i) {
                        var n = (t + 16) / 116,
                            r = e / 500 + n,
                            s = n - i / 200;
                        n = n > this._lab2rgbConst ? Math.pow(n, 3) : (n - 16 / 116) / 7.787, r = r > this._lab2rgbConst ? Math.pow(r, 3) : (r - 16 / 116) / 7.787, s = s > this._lab2rgbConst ? Math.pow(s, 3) : (s - 16 / 116) / 7.787;
                        var a = this._xyz2rgb(.95047 * r, n, 1.08883 * s);
                        return a._lab = {
                            L: t,
                            A: e,
                            B: i
                        }, a
                    }, t
                }();
                F._lab2rgbConst = Math.pow(.008856, 1 / 3), r.Colors = F;
                var E = function() {
                    function t() {}
                    return t.clamp_css_byte = function(t) {
                        return t = Math.round(t), t < 0 ? 0 : t > 255 ? 255 : t;
                    }, t.clamp_css_float = function(t) {
                        return t < 0 ? 0 : t > 1 ? 1 : t
                    }, t.parse_css_int = function(e) {
                        return "%" === e[e.length - 1] ? t.clamp_css_byte(parseFloat(e) / 100 * 255) : t.clamp_css_byte(parseInt(e, 10))
                    }, t.parse_css_float = function(e) {
                        return "%" === e[e.length - 1] ? t.clamp_css_float(parseFloat(e) / 100) : t.clamp_css_float(parseFloat(e))
                    }, t.css_hue_to_rgb = function(t, e, i) {
                        return i < 0 ? i += 1 : i > 1 && (i -= 1), 6 * i < 1 ? t + (e - t) * i * 6 : 2 * i < 1 ? e : 3 * i < 2 ? t + (e - t) * (2 / 3 - i) * 6 : t
                    }, t.parseCSSColor = function(e) {
                        if (null == e) return {
                            R: 0,
                            G: 0,
                            B: 0,
                            A: 0
                        };
                        var i = e.replace(RegExp(" ", "g"), "").toLowerCase();
                        if (i in t.kCSSColorTable) {
                            var n = t.kCSSColorTable[i];
                            return {
                                R: n[0],
                                G: n[1],
                                B: n[2],
                                A: n[3]
                            }
                        }
                        if ("#" === i[0]) {
                            if (4 === i.length) {
                                var r = parseInt(i.substr(1), 16);
                                return r >= 0 && r <= 4095 ? {
                                    R: (3840 & r) >> 4 | (3840 & r) >> 8,
                                    G: 240 & r | (240 & r) >> 4,
                                    B: 15 & r | (15 & r) << 4,
                                    A: 1
                                } : null
                            }
                            if (7 === i.length) {
                                var r = parseInt(i.substr(1), 16);
                                return r >= 0 && r <= 16777215 ? {
                                    R: (16711680 & r) >> 16,
                                    G: (65280 & r) >> 8,
                                    B: 255 & r,
                                    A: 1
                                } : null
                            }
                            return null
                        }
                        var s = i.indexOf("("),
                            a = i.indexOf(")");
                        if (s !== -1 && a + 1 === i.length) {
                            var o = i.substr(0, s),
                                l = i.substr(s + 1, a - (s + 1)).split(","),
                                h = 1;
                            if ("rgba" === o) {
                                if (4 !== l.length) return null;
                                h = t.parse_css_float(l.pop())
                            }
                            if ("rgba" === o || "rgb" === o) return 3 !== l.length ? null : {
                                R: t.parse_css_int(l[0]),
                                G: t.parse_css_int(l[1]),
                                B: t.parse_css_int(l[2]),
                                A: h
                            };
                            if ("hsla" === o) {
                                if (4 !== l.length) return null;
                                h = t.parse_css_float(l.pop())
                            }
                            if ("hsla" === o || "hsl" === o) {
                                if (3 !== l.length) return null;
                                var u = (parseFloat(l[0]) % 360 + 360) % 360 / 360,
                                    c = t.parse_css_float(l[1]),
                                    d = t.parse_css_float(l[2]),
                                    p = d <= .5 ? d * (c + 1) : d + c - d * c,
                                    f = 2 * d - p;
                                return {
                                    R: t.clamp_css_byte(255 * t.css_hue_to_rgb(f, p, u + 1 / 3)),
                                    G: t.clamp_css_byte(255 * t.css_hue_to_rgb(f, p, u)),
                                    B: t.clamp_css_byte(255 * t.css_hue_to_rgb(f, p, u - 1 / 3)),
                                    A: h
                                }
                            }
                        }
                        return null
                    }, t
                }();
                E.kCSSColorTable = {
                    transparent: [0, 0, 0, 0],
                    aliceblue: [240, 248, 255, 1],
                    antiquewhite: [250, 235, 215, 1],
                    aqua: [0, 255, 255, 1],
                    aquamarine: [127, 255, 212, 1],
                    azure: [240, 255, 255, 1],
                    beige: [245, 245, 220, 1],
                    bisque: [255, 228, 196, 1],
                    black: [0, 0, 0, 1],
                    blanchedalmond: [255, 235, 205, 1],
                    blue: [0, 0, 255, 1],
                    blueviolet: [138, 43, 226, 1],
                    brown: [165, 42, 42, 1],
                    burlywood: [222, 184, 135, 1],
                    cadetblue: [95, 158, 160, 1],
                    chartreuse: [127, 255, 0, 1],
                    chocolate: [210, 105, 30, 1],
                    coral: [255, 127, 80, 1],
                    cornflowerblue: [100, 149, 237, 1],
                    cornsilk: [255, 248, 220, 1],
                    crimson: [220, 20, 60, 1],
                    cyan: [0, 255, 255, 1],
                    darkblue: [0, 0, 139, 1],
                    darkcyan: [0, 139, 139, 1],
                    darkgoldenrod: [184, 134, 11, 1],
                    darkgray: [169, 169, 169, 1],
                    darkgreen: [0, 100, 0, 1],
                    darkgrey: [169, 169, 169, 1],
                    darkkhaki: [189, 183, 107, 1],
                    darkmagenta: [139, 0, 139, 1],
                    darkolivegreen: [85, 107, 47, 1],
                    darkorange: [255, 140, 0, 1],
                    darkorchid: [153, 50, 204, 1],
                    darkred: [139, 0, 0, 1],
                    darksalmon: [233, 150, 122, 1],
                    darkseagreen: [143, 188, 143, 1],
                    darkslateblue: [72, 61, 139, 1],
                    darkslategray: [47, 79, 79, 1],
                    darkslategrey: [47, 79, 79, 1],
                    darkturquoise: [0, 206, 209, 1],
                    darkviolet: [148, 0, 211, 1],
                    deeppink: [255, 20, 147, 1],
                    deepskyblue: [0, 191, 255, 1],
                    dimgray: [105, 105, 105, 1],
                    dimgrey: [105, 105, 105, 1],
                    dodgerblue: [30, 144, 255, 1],
                    firebrick: [178, 34, 34, 1],
                    floralwhite: [255, 250, 240, 1],
                    forestgreen: [34, 139, 34, 1],
                    fuchsia: [255, 0, 255, 1],
                    gainsboro: [220, 220, 220, 1],
                    ghostwhite: [248, 248, 255, 1],
                    gold: [255, 215, 0, 1],
                    goldenrod: [218, 165, 32, 1],
                    gray: [128, 128, 128, 1],
                    green: [0, 128, 0, 1],
                    greenyellow: [173, 255, 47, 1],
                    grey: [128, 128, 128, 1],
                    honeydew: [240, 255, 240, 1],
                    hotpink: [255, 105, 180, 1],
                    indianred: [205, 92, 92, 1],
                    indigo: [75, 0, 130, 1],
                    ivory: [255, 255, 240, 1],
                    khaki: [240, 230, 140, 1],
                    lavender: [230, 230, 250, 1],
                    lavenderblush: [255, 240, 245, 1],
                    lawngreen: [124, 252, 0, 1],
                    lemonchiffon: [255, 250, 205, 1],
                    lightblue: [173, 216, 230, 1],
                    lightcoral: [240, 128, 128, 1],
                    lightcyan: [224, 255, 255, 1],
                    lightgoldenrodyellow: [250, 250, 210, 1],
                    lightgray: [211, 211, 211, 1],
                    lightgreen: [144, 238, 144, 1],
                    lightgrey: [211, 211, 211, 1],
                    lightpink: [255, 182, 193, 1],
                    lightsalmon: [255, 160, 122, 1],
                    lightseagreen: [32, 178, 170, 1],
                    lightskyblue: [135, 206, 250, 1],
                    lightslategray: [119, 136, 153, 1],
                    lightslategrey: [119, 136, 153, 1],
                    lightsteelblue: [176, 196, 222, 1],
                    lightyellow: [255, 255, 224, 1],
                    lime: [0, 255, 0, 1],
                    limegreen: [50, 205, 50, 1],
                    linen: [250, 240, 230, 1],
                    magenta: [255, 0, 255, 1],
                    maroon: [128, 0, 0, 1],
                    mediumaquamarine: [102, 205, 170, 1],
                    mediumblue: [0, 0, 205, 1],
                    mediumorchid: [186, 85, 211, 1],
                    mediumpurple: [147, 112, 219, 1],
                    mediumseagreen: [60, 179, 113, 1],
                    mediumslateblue: [123, 104, 238, 1],
                    mediumspringgreen: [0, 250, 154, 1],
                    mediumturquoise: [72, 209, 204, 1],
                    mediumvioletred: [199, 21, 133, 1],
                    midnightblue: [25, 25, 112, 1],
                    mintcream: [245, 255, 250, 1],
                    mistyrose: [255, 228, 225, 1],
                    moccasin: [255, 228, 181, 1],
                    navajowhite: [255, 222, 173, 1],
                    navy: [0, 0, 128, 1],
                    oldlace: [253, 245, 230, 1],
                    olive: [128, 128, 0, 1],
                    olivedrab: [107, 142, 35, 1],
                    orange: [255, 165, 0, 1],
                    orangered: [255, 69, 0, 1],
                    orchid: [218, 112, 214, 1],
                    palegoldenrod: [238, 232, 170, 1],
                    palegreen: [152, 251, 152, 1],
                    paleturquoise: [175, 238, 238, 1],
                    palevioletred: [219, 112, 147, 1],
                    papayawhip: [255, 239, 213, 1],
                    peachpuff: [255, 218, 185, 1],
                    peru: [205, 133, 63, 1],
                    pink: [255, 192, 203, 1],
                    plum: [221, 160, 221, 1],
                    powderblue: [176, 224, 230, 1],
                    purple: [128, 0, 128, 1],
                    red: [255, 0, 0, 1],
                    rosybrown: [188, 143, 143, 1],
                    royalblue: [65, 105, 225, 1],
                    saddlebrown: [139, 69, 19, 1],
                    salmon: [250, 128, 114, 1],
                    sandybrown: [244, 164, 96, 1],
                    seagreen: [46, 139, 87, 1],
                    seashell: [255, 245, 238, 1],
                    sienna: [160, 82, 45, 1],
                    silver: [192, 192, 192, 1],
                    skyblue: [135, 206, 235, 1],
                    slateblue: [106, 90, 205, 1],
                    slategray: [112, 128, 144, 1],
                    slategrey: [112, 128, 144, 1],
                    snow: [255, 250, 250, 1],
                    springgreen: [0, 255, 127, 1],
                    steelblue: [70, 130, 180, 1],
                    tan: [210, 180, 140, 1],
                    teal: [0, 128, 128, 1],
                    thistle: [216, 191, 216, 1],
                    tomato: [255, 99, 71, 1],
                    turquoise: [64, 224, 208, 1],
                    violet: [238, 130, 238, 1],
                    wheat: [245, 222, 179, 1],
                    white: [255, 255, 255, 1],
                    whitesmoke: [245, 245, 245, 1],
                    yellow: [255, 255, 0, 1],
                    yellowgreen: [154, 205, 50, 1]
                };
                var H = function() {
                    function t(t, e, i) {
                        this.isFilling = i, this.lineDash = e, this.g = t, this.beginPath()
                    }
                    return t.prototype.beginPath = function() {
                        this.remaining = this.lineDash[0], this.dashes = [], this.pos = 0, this.x0 = 0, this.y0 = 0, this.x = 0, this.y = 0, this.hasPos = !1
                    }, t.prototype.moveTo = function(t, e) {
                        this.y = e, this.x = t, this.isFilling && this.dashes.push(0, t, e), this.g.moveTo(t, e), this.x0 = t, this.y0 = e, this.hasPos = !0
                    }, t.prototype.rect = function(t, e, i, n) {
                        this.moveTo(t, e), this.lineTo(t + i, n), this.lineTo(t + i, e + n), this.lineTo(t, e + n), this.lineTo(t, e)
                    }, t.prototype.lineTo = function(t, e) {
                        this.isFilling && this.g.lineTo(t, e);
                        var i = t - this.x,
                            n = e - this.y,
                            r = this.x,
                            s = this.y;
                        this.x = t, this.y = e;
                        var a = Math.sqrt(i * i + n * n),
                            o = 1 / a;
                        i *= o, n *= o;
                        for (var l = this.lineDash.length, h = this.pos, u = this.remaining;;) {
                            var c = Math.min(a, u);
                            if (r += i * c, s += n * c, h % 2 === 0 ? this.isFilling ? this.dashes.push(1, r, s) : this.g.lineTo(r, s) : this.isFilling ? this.dashes.push(0, r, s) : this.g.moveTo(r, s), !(a > c)) {
                                u -= c;
                                break
                            }
                            h = (h + 1) % l, u = this.lineDash[h], a -= c
                        }
                        this.pos = h, this.remaining = u, this.hasPos = !0
                    }, t.prototype.arc = function(t, e, i, n, r, s) {
                        var a = 2 * Math.PI,
                            o = Math.min(.6, 2 / i),
                            l = Math.cos(o),
                            h = Math.sin(o),
                            u = Math.sin(n) * i,
                            c = Math.cos(n) * i,
                            d = Math.sin(r) * i,
                            p = Math.cos(r) * i;
                        if (this.hasPos || (this.moveTo(t + c, e + u), this.hasPos = !0), s) {
                            n < r && (n += a);
                            for (var f = (n - r) / o, g = f; g >= 0; g--) {
                                if (g - 1 <= 0) {
                                    this.lineTo(t + p, e + d);
                                    break
                                }
                                this.lineTo(t + c, e + u);
                                var m = c * l + u * h,
                                    v = -c * h + u * l;
                                c = m, u = v
                            }
                        } else {
                            n > r && (n -= 2 * Math.PI);
                            for (var f = (r - n) / o, g = f; g >= 0; g--) {
                                if (g - 1 <= 0) {
                                    this.lineTo(t + p, e + d);
                                    break
                                }
                                this.lineTo(t + c, e + u);
                                var m = c * l - u * h,
                                    v = c * h + u * l;
                                c = m, u = v
                            }
                        }
                    }, t.prototype.quadraticCurveTo = function(e, i, n, r) {
                        this.g.quadraticCurveTo(e, i, n, r), t.bezierWarning || (t.bezierWarning = !0, d.warn("Dashed BÃ©zier curves not supported in this browser!"))
                    }, t.prototype.bezierCurveTo = function(e, i, n, r, s, a) {
                        this.g.bezierCurveTo(e, i, n, r, s, a), t.bezierWarning || (t.bezierWarning = !0, d.warn("Dashed BÃ©zier curves not supported in this browser!"))
                    }, t.prototype.closePath = function() {
                        this.lineTo(this.x0, this.y0)
                    }, t.prototype.strokeDashes = function() {
                        for (var t = this.dashes, e = 0; e < t.length; e += 3) {
                            var i = t[e],
                                n = t[e + 1],
                                r = t[e + 2];
                            0 === i ? this.g.moveTo(n, r) : this.g.lineTo(n, r)
                        }
                    }, t
                }();
                H.bezierWarning = !1, r.GraphicsDashedLineContext = H;
                var R = function() {
                    function t() {}
                    return t.stroke = function(t, e) {
                        0 !== e.lineWidth && e.lineColor && (t.lineWidth = e.lineWidth || 1, t.strokeStyle = e.lineColor, e.lineDash && e.lineDash.length > 0 && "undefined" != typeof t.setLineDash ? (t.lineDashOffset = e.lineDashOffset, t.setLineDash(e.lineDash), t.stroke(), t.setLineDash([])) : t.stroke(), e.lineWidth && (t.lineWidth = 1))
                    }, t.strokeWithShadow = function(t, e) {
                        0 !== e.lineWidth && e.lineColor && !e.shadowColor && (e.shadowColor && (t.shadowOffsetX = e.shadowOffsetX, t.shadowOffsetY = e.shadowOffsetY, t.shadowBlur = e.shadowBlur, t.shadowColor = e.shadowColor), t.lineWidth = e.lineWidth || 1, t.strokeStyle = e.lineColor, t.stroke(), e.lineWidth && (t.lineWidth = 1), e.shadowColor && (t.shadowBlur = 0, t.shadowColor = "transparent"))
                    }, t.beginStroke = function(t, e, i) {
                        return void 0 === i && (i = !1), t.beginPath(), e.lineColor && e.lineDash && e.lineDash.length > 1 && "undefined" == typeof t.setLineDash ? (i && !e.fillColor && (i = !1), new H(t, e.lineDash, i)) : t
                    }, t.endStroke = function(e, i, n, r) {
                        void 0 === r && (r = !1), i instanceof H ? (i.isFilling && (t.fill(e, n), e.beginPath(), i.strokeDashes()), t.strokeWithShadow(e, n)) : r ? t.paint(e, n) : t.stroke(e, n)
                    }, t.beginStrokeAndFill = function(e, i) {
                        return t.beginStroke(e, i, !0)
                    }, t.endStrokeAndFill = function(e, i, n) {
                        return t.endStroke(e, i, n, !0)
                    }, t.fill = function(t, e) {
                        e.fillColor && (t.fillStyle = e.fillColor, e.shadowColor && (t.shadowOffsetX = e.shadowOffsetX, t.shadowOffsetY = e.shadowOffsetY, t.shadowBlur = e.shadowBlur, t.shadowColor = e.shadowColor), t.fill(), e.shadowColor && (t.shadowBlur = 0, t.shadowColor = "transparent"))
                    }, t.paint = function(t, e) {
                        e.shadowColor && (t.shadowOffsetX = e.shadowOffsetX, t.shadowOffsetY = e.shadowOffsetY, t.shadowBlur = e.shadowBlur, t.shadowColor = e.shadowColor), e.fillColor && (t.fillStyle = e.fillColor, t.fill()), 0 !== e.lineWidth && e.lineColor && (t.lineWidth = e.lineWidth || 1, t.strokeStyle = e.lineColor, e.lineDash && "undefined" != typeof t.setLineDash ? (t.setLineDash(e.lineDash), t.stroke(), t.setLineDash([])) : t.stroke()), e.shadowColor && (t.shadowBlur = 0, t.shadowColor = "transparent")
                    }, t.textStyle = function(t, e) {
                        t.__textStyle && this.resetTextStyle(t);
                        var i = e.fillColor;
                        void 0 === i && (i = "#000"), t.fillStyle = i, t.__font = t.font = e.font || null, e.shadowColor && (t.shadowOffsetX = e.shadowOffsetX, t.shadowOffsetY = e.shadowOffsetY, t.shadowBlur = e.shadowBlur, t.shadowColor = e.shadowColor), e.outlineColor && (t.strokeStyle = e.outlineColor, t.lineWidth = 2 * (e.outlineWidth || 1), t.lineJoin = e.outlineJoin || "miter", t.miterLimit = 2), t.__textStyle = e
                    }, t.getTextWidth = function(t, e, i) {
                        if (e) {
                            var n = e.font;
                            t.__font !== n && (t.__textStyle = null, t.__font = t.font = n || null)
                        }
                        var r = t.measureText(i).width;
                        return e.outlineColor && (r += 2 * (e.outlineWidth || 1)), r
                    }, t.drawText = function(t, e, i, n, r) {
                        t.__textStyle !== e && this.textStyle(t, e), null != i && i.length && (e.outlineColor && t.strokeText(i, n, r), t.fillText(i, n, r))
                    }, t.resetTextStyle = function(t) {
                        t.__font = null;
                        var e = t.__textStyle;
                        e && (e.shadowColor && (t.shadowColor = "transparent", t.shadowBlur = 0), e.outlineColor && (t.lineJoin = "miter", t.miterLimit = 10, t.lineWidth = 1), t.__textStyle = null)
                    }, t.restore = function(t) {
                        this.resetTextStyle(t), t.restore()
                    }, t.rectStyle = function(t, e) {
                        void 0 !== e.lineColor && (t.strokeStyle = e.lineColor), void 0 !== e.fillColor && (t.fillStyle = e.fillColor), void 0 !== e.lineWidth && (t.lineWidth = e.lineWidth)
                    }, t.pushClip = function(t, e, i, n, r) {
                        var s = t.context,
                            a = t.scaleX,
                            o = t.scaleY;
                        1 === a && 1 === o || !window.screen.deviceXDPI ? (s.save(), s.beginPath(), s.rect(e, i, n, r), s.clip()) : (s.save(), s.transform(1 / a, 0, 0, 1 / o, 0, 0), s.beginPath(), s.rect(Math.floor(e * a), Math.floor(i * o), Math.floor(n * a), Math.floor(r * o)), s.clip(), s.transform(a, 0, 0, o, 0, 0))
                    }, t.popClip = function(t) {
                        this.restore(t.context)
                    }, t.arcBetweenTwoPoints = function(t, e, i, n, r, s, a, o) {
                        var l = (r + a) / 2,
                            h = (s + o) / 2,
                            u = o - s,
                            c = r - a,
                            d = u * u + c * c;
                        if (0 !== d) {
                            var p = Math.sqrt(d);
                            n = Math.min(Math.max(n, p / 2), 3 * p);
                            var f = Math.sqrt(n * n / d - .25),
                                g = l + u * f,
                                m = h + c * f,
                                v = l - u * f,
                                y = h - c * f,
                                S = (g - e) * (g - e) + (m - i) * (m - i),
                                b = (v - e) * (v - e) + (y - i) * (y - i);
                            S > b ? (e = v, i = y) : (e = g, i = m);
                            var x = Math.atan2(s - i, r - e),
                                C = Math.atan2(o - i, a - e);
                            C < x && (C += 2 * Math.PI);
                            var w = Math.abs(x - C) > Math.PI;
                            t.arc(e, i, n, x, C, w)
                        }
                    }, t.strokeMarker = function(e, i, n, r, s) {
                        var a = 1.41421356237 * s,
                            o = t.SQRT3D6 * (3 * s);
                        switch (i) {
                            case "rect":
                            case "square":
                                e.moveTo(n - s, r - s), e.lineTo(n + s, r - s), e.lineTo(n + s, r + s), e.lineTo(n - s, r + s), e.lineTo(n - s, r - s);
                                break;
                            case "romb":
                            case "rhombus":
                                a = .9 * a, e.moveTo(n - a, r), e.lineTo(n, r - a), e.lineTo(n + a, r), e.lineTo(n, r + a), e.lineTo(n - a, r);
                                break;
                            case "triangle":
                                e.moveTo(n - s, r + o), e.lineTo(n + s, r + o), e.lineTo(n, r - o), e.lineTo(n - s, r + o);
                                break;
                            case "triangle2":
                                e.moveTo(n - s, r - o), e.lineTo(n + s, r - o), e.lineTo(n, r + o), e.lineTo(n - s, r - o);
                                break;
                            case "circle":
                                e.moveTo(n + s, r), e.arc(n, r, s, 0, 2 * Math.PI, !1);
                                break;
                            default:
                                throw new Error("Unknown marker shape " + i + ". Valid values are `square`, `rhombus`, `triangle`, `triangle2`, `circle`.")
                        }
                    }, t.strokeBalloon = function(t, e, i, n, r) {
                        n = Math.max(n, 2 * r);
                        var s = 5,
                            a = 4,
                            o = (r + 2 * a) / 2,
                            l = e,
                            h = i;
                        t.moveTo(l, h), l += 3, h += s + 1, t.lineTo(l, h), l += n - a, t.lineTo(l, h), t.arc(l, h + o, o, -Math.PI / 2, Math.PI / 2), h += 2 * o, l -= n - a, t.lineTo(l, h), t.arc(l, h - o, o, .5 * Math.PI, 1.3 * Math.PI), t.closePath()
                    }, t.strokeBalloon2 = function(t, e, i, n, r) {
                        var s = 4,
                            a = (r + 2 * s) / 2;
                        n = Math.max(n, 2 * r) / 2 - s;
                        var o = e + n,
                            l = i - a;
                        t.moveTo(o, l), t.arc(o, l + a, a, -Math.PI / 2, Math.PI / 2, !1), l += 2 * a, o -= 2 * n, t.lineTo(o, l), t.arc(o, l - a, a, .5 * Math.PI, 1.5 * Math.PI, !1), t.closePath()
                    }, t.applyColorToImage = function(t, e, i) {
                        void 0 === i && (i = !0);
                        var n = F.parse(e),
                            r = n.R,
                            s = n.G,
                            a = n.B,
                            o = document.createElement("canvas"),
                            l = o.width = t.width,
                            h = o.height = t.height,
                            u = o.getContext("2d");
                        u.drawImage(t, 0, 0);
                        var c = u.getImageData(0, 0, l, h),
                            d = c.data;
                        if (i)
                            for (var p = 0; p <= d.length; p += 4) 255 === d[p + 3] && (d[p] = d[p] * r >> 8, d[p + 1] = d[p + 1] * s >> 8, d[p + 2] = d[p + 2] * a >> 8);
                        else
                            for (var p = 0; p <= d.length; p += 4) d[p] = d[p] * r >> 8, d[p + 1] = d[p + 1] * s >> 8, d[p + 2] = d[p + 2] * a >> 8;
                        return u.putImageData(c, 0, 0), o
                    }, t.cropImageToCircle = function(t, e) {
                        var i = Math.min(t.width, t.height),
                            n = Math.max(t.width, t.height),
                            r = Math.min(n, 2 * i),
                            s = document.createElement("canvas");
                        s.width = r, s.height = r;
                        var a = s.getContext("2d"),
                            o = t.width,
                            l = t.height;
                        a.fillStyle = "rgba(0,0,0,1)", a.beginPath(), a.arc(r / 2, r / 2, r / 2, 0, 2 * -Math.PI, !1), a.fill();
                        var h = a.globalCompositeOperation;
                        if (a.globalCompositeOperation = "source-in", "crop" === e) {
                            var u = Math.min(o, l) / 2;
                            a.drawImage(t, o / 2 - u, l / 2 - u, 2 * u, 2 * u, 0, 0, r, r)
                        } else if ("letterbox" === e) {
                            a.fillStyle = "black", a.fillRect(0, 0, r, r);
                            var c = r / Math.max(o, l);
                            a.drawImage(t, 0, 0, o, l, r / 2 - o / 2 * c, r / 2 - l / 2 * c, o * c, l * c)
                        } else if ("fit" === e) {
                            a.fillStyle = "black", a.fillRect(0, 0, r, r);
                            var c = r / Math.sqrt(o * o + l * l);
                            a.drawImage(t, 0, 0, o, l, r / 2 - o / 2 * c, r / 2 - l / 2 * c, o * c, l * c)
                        } else a.drawImage(t, 0, 0, o, l, 0, 0, r, r);
                        return a.globalCompositeOperation = h, s
                    }, t.applyShadow = function(t, e) {
                        e.shadowColor && (t.shadowOffsetX = e.shadowOffsetX, t.shadowOffsetY = e.shadowOffsetY, t.shadowBlur = e.shadowBlur, t.shadowColor = e.shadowColor)
                    }, t.clearShadow = function(t) {
                        t.shadowBlur = 0, t.shadowColor = "transparent"
                    }, t.drawImageInSquare = function(t, e, i, n, r, s, a, o, l) {
                        var h = l / Math.max(r, s),
                            u = r * h,
                            c = s * h;
                        this.drawImageHighQuality(t, e, i, n, r, s, a - u, o - c, 2 * u, 2 * c)
                    }, t.drawImageHighQuality = function(t, e, i, n, r, s, a, o, l, h) {
                        void 0 === a && (a = i, o = n, l = r, h = s, r = e.width, s = e.height, i = 0, n = 0);
                        var u = t.__scaleX || 1,
                            c = t.__scaleY || 1;
                        if (!(h < 1 / c || l < 1 / u)) {
                            for (var d = r, p = s, f = e, g = 1, m = "__size:" + i + "/" + n + "/" + r + "/" + s + "/"; d >= l * u * 2 && p >= h * c * 2;) {
                                var v = Math.round(d / 2),
                                    y = Math.round(p / 2);
                                g /= 2;
                                var S = m + g,
                                    b = e[S];
                                if (!b) {
                                    b = e[S] = document.createElement("canvas"), b.width = v, b.height = y;
                                    var x = b.getContext("2d");
                                    x.drawImage(f, i, n, d, p, 0, 0, v, y)
                                }
                                i = 0, n = 0, f = b, p = y, d = v
                            }
                            t.drawImage(f, i, n, Math.floor(d), Math.floor(p), a, o, l, h)
                        }
                    }, t.getTextHeightWithoutContext = function(e) {
                        return t.getTextHeight(null, e)
                    }, t.getTextHeight = function(e, i) {
                        var n = t._heightCache;
                        if (n.hasOwnProperty(i)) return n[i];
                        void 0 === i && r.Helpers.warn("Trying to measure 'undefined' font will give incorrect font heights.");
                        var s = t._heightElem;
                        if (!s) {
                            var a = document.createElement("bmch-div");
                            a.className = "BMCH-font-height", t._heightElem = s = document.createElement("bmch-div"), s.appendChild(document.createTextNode("Mg9!")), a.appendChild(s), document.body.appendChild(a)
                        }
                        s.style.font = i;
                        var o = s.getBoundingClientRect();
                        return o.top >= 0 && o.left >= 0 ? (r.Helpers.warn("getTextHeight called before CSS loaded"), o.height) : n[i] = o.height
                    }, t.mat3ToMat2d = function(t) {
                        var e = t.all();
                        return [e[0], e[3], e[1], e[4], e[2], e[5]]
                    }, t.transformVec2d = function(t, e) {
                        var i = t.x,
                            n = t.y;
                        return {
                            x: e[0] * i + e[2] * n + e[4],
                            y: e[1] * i + e[3] * n + e[5]
                        }
                    }, t
                }();
                R.SQRT3D6 = Math.sqrt(3) / 6, R._heightElem = null, R._heightCache = {}, r.Graphics = R;
                var z = function() {
                    function t() {
                        this.enabled = !0, this.enabledOnExport = !0, this.align = "center", this.verticalAlign = "center", this.location = "outside", this.margin = 25, this.style = {
                            font: "20px Arial",
                            fillColor: "#000"
                        }, this.text = "", this.advanced = {
                            addAfterToolbar: !1
                        }
                    }
                    return t
                }();
                r.SettingsTitle = z;
                var B = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.lineSpacing = 0, i.animationOrder = 2e3, i.paintOrder = 55, i.updateOrder = 500, i.chart = e, i.scene = e.scene, i.settings = i.scene.settings.title, i.panel = new P, i.panel.packingOrder = 10, i.settings.advanced && i.settings.advanced.addAfterToolbar === !0 && (i.panel.packingOrder = 20), i.panel.side = "top", i.panel.outsideEdge = !0, i.panel.align = "fill", i.panel.visible = !1, i.panel.computeSize = function(t, e, n) {
                            return i.computePanelSize(t, e, n)
                        }, i.lines = null, i
                    }
                    return n(e, t), e.prototype.onSceneChange = function(t) {
                        var e = t.changes;
                        e.settings && e.settingsChanges.title && (e.bounds = !0)
                    }, e.prototype.getPanels = function(t) {
                        var e = this.settings;
                        return this.panel.visible = !!e.text && (t ? e.enabledOnExport : e.enabled), this.panel.visible ? (this.panel.margin = e.margin, t && !e.enabled ? this.panel.location = "external" : this.panel.location = e.location, [this.panel]) : []
                    }, e.prototype.computePanelSize = function(t, e, i) {
                        if (!this.chart.assetsLoaded) return {
                            width: 0,
                            height: 0
                        };
                        this.lines = [];
                        var n = this.settings.text,
                            r = this.settings.style;
                        i.save();
                        var s = R.getTextWidth(i, r, n),
                            a = R.getTextHeight(i, r.font);
                        if (this.lineSpacing = 1.15 * a, s > t) {
                            for (var o = 0, l = n.split(" "), h = l[0], u = R.getTextWidth(i, r, h), c = 1; c <= l.length - 1; c++) {
                                var d = h + " " + l[c],
                                    p = R.getTextWidth(i, r, d);
                                p <= t ? (h = d, u = p) : (this.lines.push(h), s = Math.max(s, u), h = l[c], u = R.getTextWidth(i, r, h))
                            }
                            this.lines.push(h), s = Math.max(o, u)
                        } else this.lines.push(n);
                        return R.restore(i), a = (this.lines.length - 1) * this.lineSpacing + a, {
                            width: s,
                            height: a
                        }
                    }, e.prototype.paintScene = function(t) {
                        if (this.panel.visible && this.lines) {
                            var e = t.context;
                            e.textBaseline = "top";
                            var i = this.computeTitleStartX(this.settings, e),
                                n = this.computeTitleStartY(this.settings);
                            this.paintTitle(e, this.settings.style, i, n)
                        }
                    }, e.prototype.paintTitle = function(t, e, i, n) {
                        for (var r = 0; r < this.lines.length; r++) R.drawText(t, e, this.lines[r], i, n), n += this.lineSpacing;
                        R.resetTextStyle(t)
                    }, e.prototype.computeTitleStartX = function(t, e) {
                        switch (t.align) {
                            case "left":
                                return e.textAlign = "start", this.panel.left;
                            case "right":
                                return e.textAlign = "end", this.panel.right;
                            default:
                                return e.textAlign = "center", (this.panel.left + this.panel.right) / 2
                        }
                    }, e.prototype.computeTitleStartY = function(t) {
                        var e = this.panel.top;
                        switch (t.verticalAlign) {
                            case "top":
                                return e - t.margin;
                            case "bottom":
                                return e + t.margin;
                            default:
                                return e
                        }
                    }, e
                }(M);
                r.Title = B;
                var U = function() {
                    function t(t, e) {
                        void 0 === e && (e = !1), this.style = {
                            textStyle: {}
                        }, this._textOverride = void 0, this.visible = !0, this.allowCache = !0, this.shouldBeVisible = !0, this.userPlaced = !1, this.rows = null, this.lineHeight = 0, this.lineHeightM = 0, this.hwidth = null, this.hheight = null, this.currentBounds = null, this.x = null, this.originX = null, this.y = null, this.prop = null, this._pendingImage = !1, this._textCache = null, this._measureStyles = null, t || (t = {}), t.textStyle || (t.textStyle = {}), null == t.lineSpacing && (t.lineSpacing = .2), e ? this.style = t : this.deepCloneStyle(t)
                    }
                    return Object.defineProperty(t.prototype, "text", {
                        get: function() {
                            var t = this._textOverride;
                            return void 0 === t && (t = this.style.text, null != t && "string" != typeof t && (t = "" + t)), t
                        },
                        set: function(t) {
                            void 0 === t && (t = null), null != t && "string" != typeof t && (t = "" + t), this._textOverride = t
                        },
                        enumerable: !0,
                        configurable: !0
                    }), t.prototype.deepCloneStyle = function(t) {
                        var e = {};
                        for (var i in t) e[i] = t[i];
                        if (this.style = e, t.imageSlicing) {
                            for (var n = [], s = 0; s < t.imageSlicing.length; s++) n.push(t.imageSlicing[s]);
                            this.style.imageSlicing = n
                        }
                        var a = {};
                        for (var i in t.textStyle) a[i] = t.textStyle[i];
                        if (this.style.textStyle = a, t.backgroundStyle) {
                            var o = {};
                            for (var i in t.backgroundStyle) o[i] = t.backgroundStyle[i];
                            if (t.backgroundStyle.lineDash) {
                                o.lineDash = [];
                                for (var s = 0; s < t.backgroundStyle.lineDash.length; s++) o.lineDash.push(t.backgroundStyle.lineDash[s])
                            }
                            this.style.backgroundStyle = o
                        }
                        this.style.extra = r.Helpers.realClone(t.extra, !0)
                    }, t.prototype.needTextParsing = function() {
                        var t = this._textCache;
                        return !t || t.sourceText !== this.text || t.sourceFont !== this.style.textStyle.font
                    }, t.prototype.needMeasure = function() {
                        var t = this._measureStyles,
                            e = t && t.customMeasure;
                        if (this._pendingImage) return !e || null;
                        var i = this.style,
                            n = i.textStyle,
                            r = !t || t.align !== i.align || t.text !== this.text || t.aspectRatio !== i.aspectRatio || t.borderRadius !== i.borderRadius || t.font !== n.font || t.image !== i.image || t.imageSlicing !== "" + i.imageSlicing || t.margin !== i.margin || t.maxWidth !== i.maxWidth || t.padding !== i.padding;
                        return r && e ? null : r
                    }, t.prototype.measureComplete = function(t) {
                        var e = this.style,
                            i = e.textStyle;
                        this._measureStyles = {
                            customMeasure: t,
                            text: this.text,
                            align: e.align,
                            aspectRatio: e.aspectRatio,
                            borderRadius: e.borderRadius,
                            font: i.font,
                            image: e.image,
                            imageSlicing: "" + e.imageSlicing,
                            lineSpacing: e.lineSpacing,
                            margin: e.margin,
                            maxWidth: e.maxWidth,
                            padding: e.padding
                        }
                    }, t
                }();
                r.Label = U;
                var W = function() {
                    function t(t, e, i) {
                        if (this.cache = {}, this.frameLabels = {}, this.numPaints = 0, this.numCachedPaints = 0, this.allowCache = !0, this.chartArea = 0, this.scaleX = 0, this.scaleY = 0, this.settings = t, this.assetsLoader = e, !i) throw new Error("chartContainer must be specified");
                        this.chartContainer = i
                    }
                    return t.prototype.startFrame = function(t, e, i, n) {
                        this.chartArea = t * e, this.scaleX = i, this.scaleY = n
                    }, t.prototype.finishFrame = function() {
                        var t = d.countProperties(this.cache);
                        if (!(t < 1e3)) {
                            var e = d.countProperties(this.frameLabels);
                            if (t > 3 * e)
                                for (var i in this.cache) this.frameLabels[i] || delete this.cache[i];
                            this.frameLabels = {}
                        }
                    }, t.prototype.measure = function(t, e) {
                        var i = e.needMeasure();
                        if (i === !0) {
                            var n = e.style,
                                r = (new G).totalPadding(n),
                                s = 0,
                                a = 0;
                            if (e.text) {
                                var o = this.measureText(t, e),
                                    l = o.w,
                                    h = o.h;
                                a = Math.max(a, h), s += l
                            } else e.rows = {
                                subLines: [],
                                rowWidths: []
                            };
                            if (n.image) {
                                var u = n.imageSlicing;
                                if (u) s += u[2], a = Math.max(a, u[3]);
                                else {
                                    var c = this.assetsLoader.getAssetImage(n.image, null);
                                    c && c.width ? (s += c.width, a = Math.max(a, c.height)) : e._pendingImage = !0
                                }
                            }
                            if (0 === s && (s = 10, a = 10), s += 2 * r, a += 2 * r, n.borderRadius > 0 && e.text) {
                                var d = Math.min(n.borderRadius, a / 2);
                                s += .45 * d, n.image || (s += .45 * d)
                            }
                            e.hwidth = s / 2, e.hheight = a / 2, e.measureComplete(!1)
                        } else if (null === i) throw new Error("Label.needMeasure assert.")
                    }, t.prototype.measureText = function(t, e) {
                        var i, n, r = e.style,
                            s = r.aspectRatio,
                            a = r.maxWidth,
                            o = new G,
                            l = o.styleTagParser(t, e);
                        if ((s > 0 || a > 0) && l.maxLines > 1) {
                            s || (s = 1e9), a || (a = 1e9);
                            var h = function(t) {
                                return {
                                    x: 0,
                                    y: 0,
                                    dx: 0,
                                    dy: 0,
                                    width: Math.min(a, t * (s + .2))
                                }
                            };
                            o.fitLabelInRect(t, e, h, !1), i = 2 * e.hwidth, n = 2 * e.hheight
                        } else {
                            for (var u = l.words, c = l.breaks, d = 0; d < c.length; d++) c[d] = c[d] - 1;
                            var p = o.stringsByFont(u, c);
                            e.lineHeight = n = R.getTextHeight(t, r.textStyle.font), e.rows = p, i = p.rowWidths.reduce(function(t, e) {
                                return Math.max(t, e)
                            }), n = n * (1 + (r.lineSpacing || 0)) * p.rowWidths.length
                        }
                        return {
                            w: i,
                            h: n
                        }
                    }, t.prototype.canCache = function(t, e) {
                        var i = this.settings.advanced,
                            n = t.style;
                        if (!this.allowCache || !t.allowCache || !i.labelCache) return !1;
                        if (n.angle && !i.labelCacheRotated) return !1;
                        var r = 2 * (t.hwidth * t.hheight * e * e);
                        if (this.chartArea / r < 10) return !1;
                        if (t.hwidth * t.hheight / this.chartArea > 10) return !1;
                        if (n.image) {
                            var s = this.assetsLoader.getAssetImage(n.image, null);
                            if (!s) return !1
                        }
                        return !0
                    }, t.prototype.styleRequiresDocumentCanvas = function(t) {
                        return !!(t && t.font && /[0-9]+em/.test(t.font))
                    }, t.prototype.realPaint = function(t, e, i, n) {
                        var r = n.hwidth,
                            s = n.hheight,
                            a = n.style,
                            o = a.backgroundStyle,
                            l = (new G).totalPadding(a),
                            h = Math.min(a.borderRadius || 0, s);
                        if (o) {
                            var u = o.lineWidth;
                            u = null == u && o.lineColor ? .5 : (u || 0) / 2, r -= u, s -= u;
                            var c = R.beginStrokeAndFill(t, o);
                            if (h >= s) {
                                var d = e + r - s;
                                c.moveTo(d, i - s), c.arc(d, i, s, -Math.PI / 2, Math.PI / 2, !1), d = e - r + s, c.lineTo(d, i + s), c.arc(d, i, s, Math.PI / 2, -Math.PI / 2, !1), c.closePath()
                            } else h > 0 ? (c.moveTo(e - r + h, i - s), c.lineTo(e + r - h, i - s), c.arc(e + r - h, i - s + h, h, -Math.PI / 2, 0, !1), c.lineTo(e + r, i + s - h), c.arc(e + r - h, i + s - h, h, 0, +Math.PI / 2, !1), c.lineTo(e - r + h, i + s), c.arc(e - r + h, i + s - h, h, +Math.PI / 2, Math.PI, !1), c.lineTo(e - r, i - s + h), c.arc(e - r + h, i - s + h, h, Math.PI, Math.PI + Math.PI / 2, !1)) : (c.moveTo(e - r, i - s), c.lineTo(e + r, i - s), c.lineTo(e + r, i + s), c.lineTo(e - r, i + s), c.closePath());
                            R.endStrokeAndFill(t, c, o), r += u, s += u
                        }
                        var p = a.image;
                        r -= l, s -= l;
                        var f = e - r,
                            g = e + r;
                        if (p) {
                            var m = this.assetsLoader.getAssetImage(p);
                            if (m) {
                                var v = a.imageSlicing;
                                v ? (R.drawImageHighQuality(t, m, v[0], v[1], v[2], v[3], e - r, i - s, v[2], v[3]), f += v[2]) : (t.drawImage(m, e - r, i - s), f += m.width)
                            }
                        }
                        var y = n.rows.subLines,
                            S = n.rows.rowWidths,
                            b = S.length;
                        if (y.length > 0) {
                            var x = n.lineHeight * (1 + (a.lineSpacing || 0)),
                                C = a.align,
                                w = void 0,
                                L = void 0;
                            t.textBaseline = "bottom";
                            var T = i - (b + 1) * x / 2 + .58 * n.lineHeight;
                            "left" === C ? (L = f, p || (L += .45 * h), w = "start") : "right" === C ? (L = g - .45 * h, w = "end") : (L = (f + g) / 2, w = "center");
                            var M = a.textStyle,
                                k = -1,
                                P = 0;
                            t.textAlign = w;
                            var A = void 0;
                            R.textStyle(t, M);
                            for (var I = M.font, D = 0; D < y.length; D++) {
                                var N = y[D],
                                    O = P;
                                if (P += N.width, k !== N.row) {
                                    k = N.row, T += x, O = 0, P = N.width;
                                    var F = S[k];
                                    A = "center" === w ? L - F / 2 : "start" === w ? L : L - F
                                }
                                t.textAlign = "left", I !== N.font && (t.font = I = N.font), O += A, R.drawText(t, M, N.text, O, T)
                            }
                            R.resetTextStyle(t)
                        }
                    }, t.prototype.paint = function(t, e, i, n, s) {
                        this.measure(t, s);
                        var a = s.style,
                            o = (a.angle || 0) / 180 * Math.PI,
                            l = this.scaleX,
                            h = this.scaleY,
                            u = 0 === (a.angle || 0) ? 1 : 1.7,
                            c = l * n * u,
                            d = h * n * u,
                            p = this.canCache(s, n),
                            f = s.hwidth,
                            g = s.hheight,
                            m = 3 / h;
                        if (s.currentBounds = new Z(e - f * n, i - g * n, e + f * n, i + g * n), p) {
                            var v = c,
                                y = d;
                            g * d < m && (y = m / g, v = c / d * y);
                            var S = s.text + JSON.stringify(s.style) + v.toFixed(2) + "," + y.toFixed(2) + "," + s.hwidth + "," + s.hheight,
                                b = this.cache[S] || null,
                                x = void 0,
                                C = void 0,
                                w = void 0,
                                L = void 0;
                            if (b) x = b.width, C = b.height, w = x / 2, L = C / 2, this.numCachedPaints += 1;
                            else {
                                var T = a.backgroundStyle,
                                    M = T && T.lineWidth ? T.lineWidth : 0;
                                x = Math.ceil((2 * f + M + 1) * v), C = Math.ceil((2 * g + M + 13) * y), b = document.createElement("canvas"), x += x % 2, C += C % 2, w = x / 2, L = C / 2, b.width = x, b.height = C;
                                var k = this.styleRequiresDocumentCanvas(a.textStyle),
                                    P = void 0;
                                k && (P = this.chartContainer, P.ownerDocument || (r.Helpers.warn("chartContainer must be appended to the document in order to use `em` when specifying font size."), P = document.body), b.style.display = "none", P.appendChild(b));
                                var A = b.getContext("2d");
                                A.transform(v, 0, 0, y, w, L), this.realPaint(A, 0, 0, s), k && P.removeChild(b), this.cache[S] = b, this.numPaints += 1
                            }
                            var I = x / c * n,
                                D = C / d * n;
                            v !== c && (I = I / v * c, D = D / y * d), I = Math.round(I / 2 * 1e3) / 1e3, D = Math.round(D / 2 * 1e3) / 1e3;
                            var N = e - I,
                                O = i - D;
                            0 !== o ? (t.save(), t.translate(e, i), t.rotate(o), N = -I, O = -D) : v === c && (N = Math.round(N * l) / l, O = Math.round(O * h) / h), R.drawImageHighQuality(t, b, 0, 0, x, C, N, O, 2 * I, 2 * D), this.frameLabels[S] = 1, 0 !== o && R.restore(t)
                        } else {
                            var F = 1 !== n || 0 !== o;
                            F && (t.save(), t.transform(n, 0, 0, n, e, i), 0 !== o && t.rotate(o), e = 0, i = 0), this.realPaint(t, e, i, s), this.numPaints += 1, F && R.restore(t)
                        }
                    }, t
                }();
                r.LabelRenderer = W;
                var G = function() {
                    function t() {}
                    return t.prototype.totalPadding = function(t) {
                        var e = t.padding || 0,
                            i = t.backgroundStyle;
                        if (i) {
                            var n = i.lineWidth;
                            e += null == n && i.lineColor ? 1 : n || 0
                        }
                        return e
                    }, t.prototype.fitLabelInRect = function(t, e, i, n) {
                        void 0 === n && (n = !0);
                        var r = e.style,
                            s = r.margin || 0,
                            a = this.totalPadding(r),
                            o = R.getTextHeight(t, r.textStyle.font),
                            l = r.lineSpacing || 0,
                            h = o * (l + 1),
                            u = -o * l;
                        e.needTextParsing() && this.styleTagParser(t, e);
                        for (var c, d, p = e._textCache.words, f = e._textCache.breaks, g = e._textCache.maxLines, m = -(1 / 0), v = null, y = 0, S = 0, b = 0, x = 0, C = Math.min(g, f.length); C <= g; C++) {
                            var w = u + h * C,
                                L = i(w / 2 + s + a),
                                T = L.width;
                            T -= 2 * (s + a);
                            var M = this.splitWordsToLines(p, f, C, function() {
                                    return T
                                }),
                                k = M.prop,
                                P = M.actualWidthForLines,
                                A = M.positions;
                            if (k > m) {
                                v = A, m = k, c = L.dx, d = L.dy, y = L.x, S = L.y, b = T, x = 0;
                                for (var I = 0; I < P.length; I++) {
                                    var D = P[I];
                                    x = Math.max(D, x)
                                }
                            }
                            if (k >= 1) break
                        }
                        if (v) {
                            if (!e.userPlaced) {
                                var N = e.style.align,
                                    O = void 0;
                                O = "left" === N ? (x - b) / 2 : "right" === N ? (b - x) / 2 : 0, y += c * O, S += d * O
                            }
                            n && (e.x = y, e.y = S), e.rows = this.stringsByFont(p, v), e.hheight = (u + h * v.length) / 2 + a, e.lineHeight = o, e.lineHeightM = h, e.hwidth = x / 2 + a, e.visible = !0, e.measureComplete(!0), r.borderRadius > 0 && (e.hwidth += .45 * Math.min(r.borderRadius, e.hheight))
                        } else e.rows = {
                            subLines: [],
                            rowWidths: []
                        }, e.visible = !1;
                        return m
                    }, t.prototype.styleTagParser = function(t, e) {
                        return e.needTextParsing() && (e._textCache = this.styleTagParser2(t, e.text, e.style.textStyle)), e._textCache
                    }, t.prototype.styleTagParser2 = function(e, i, n) {
                        var r = n.font,
                            s = null;
                        r ? (e.font = r, s = e.font) : r = "11px Arial";
                        var a = t._spaceWidth;
                        a[r] || (a[r] = R.getTextWidth(e, {
                            font: r
                        }, " "));
                        var o = r,
                            l = 0,
                            h = 0,
                            u = !0,
                            c = i;
                        i = null == i ? "" : "" + i;
                        var p = 0,
                            f = 0,
                            g = [],
                            m = [],
                            v = -1;
                        g.push({
                            word: "",
                            width: 0,
                            font: o,
                            spaceWidth: 0
                        });
                        var y = {
                            word: "",
                            width: 0,
                            font: o,
                            spaceWidth: 0
                        };
                        g.push(y);
                        for (var S = i.length, b = 0 === S ? -1 : i.charCodeAt(0); p < S;) switch (b) {
                            case 32:
                                for (; 32 === b && ++p < S;) b = i.charCodeAt(p);
                                u || (y.spaceWidth = a[o], u = !0), f = p;
                                break;
                            case 60:
                                if (p + 4 > S) {
                                    b = -1;
                                    break
                                }
                                var x = p,
                                    C = i.charCodeAt(++p),
                                    w = 47 === C ? -1 : 1;
                                w < 0 && (C = i.charCodeAt(++p));
                                var L = i.charCodeAt(++p),
                                    T = -1;
                                if (98 === C || 66 === C ? 82 === L || 114 === L ? (L = ++p === S ? -1 : i.charCodeAt(p), T = 2) : T = 0 : 73 !== C && 105 !== C || (T = 1), T > -1 && 62 === L) {
                                    b = ++p === S ? -1 : i.charCodeAt(p), f = p;
                                    var M = !1,
                                        k = y.word || y.spaceWidth > 0;
                                    if (2 === T) v === g.length - 1 && (k = !0), m.push(v = g.length - (k ? 0 : 1)), u = !0, M = !0;
                                    else {
                                        1 === T ? h = Math.max(0, h + w) : l = Math.max(0, l + w);
                                        var P = (h ? "italic " : "") + (l ? "bold " : "") + r;
                                        P !== o && (M = !0, o = P, a[o] || (a[o] = R.getTextWidth(e, {
                                            font: o
                                        }, " ")))
                                    }
                                    M && (k ? (y = {
                                        word: "",
                                        width: 0,
                                        font: o,
                                        spaceWidth: 0
                                    }, g.push(y)) : y.font = o)
                                } else p = x, b = -1;
                                break;
                            default:
                                for (var A = !1; 32 !== b && 60 !== b && ++p < S;) A = A || 38 === b, b = i.charCodeAt(p);
                                var I = i.substring(f, p);
                                A && (I = d.decodeEntities(I)), y.spaceWidth > 0 || y.font !== o ? (y = {
                                    word: I,
                                    width: 0,
                                    font: o,
                                    spaceWidth: 0
                                }, g.push(y)) : y.word += I, u = !1, f = p
                        }
                        for (var D = 0; D < g.length; D++) {
                            var N = g[D];
                            N.word && (N.width = R.getTextWidth(e, {
                                font: N.font
                            }, N.word))
                        }
                        R.resetTextStyle(e);
                        var O = g.length;
                        m[m.length - 1] !== O && m.push(O);
                        var F = O;
                        0 === g[0].width && F--;
                        for (var D = O - 1; D >= 0; D--) {
                            var N = g[D];
                            if (N.width > 0) break;
                            F--
                        }
                        return {
                            sourceText: c,
                            sourceFont: n.font,
                            breaks: m,
                            maxLines: F,
                            words: g
                        }
                    }, t.prototype.stringsByFont = function(t, e) {
                        for (var i = t[0].font, n = e.slice(0), r = [], s = [], a = 0, o = 0, l = "", h = 0, u = 0, c = 0; c <= t.length - 1; c++) {
                            var d = t[c];
                            u = d.spaceWidth;
                            var p = c === n[0];
                            d.font !== i && (o && r.push({
                                text: l,
                                width: o,
                                font: i,
                                row: h
                            }), i = d.font, l = "", o = 0), o += d.width, l += d.word, a += d.width + d.spaceWidth, p && (r.push({
                                text: l,
                                width: o,
                                font: i,
                                row: h
                            }), s.push(a - d.spaceWidth), l = "", h++, o = a = 0, n.shift()), p || d.spaceWidth && (o += d.spaceWidth, l += " ")
                        }
                        return l && (r.push({
                            text: l,
                            width: o,
                            font: i,
                            row: h
                        }), s.push(a - u)), {
                            subLines: r,
                            rowWidths: s
                        }
                    }, t.prototype.fitLabelInLines = function(t, e, i, n, r, s, a) {
                        var o = e.style,
                            l = o.margin || 0,
                            h = this.totalPadding(o),
                            u = R.getTextHeight(t, o.textStyle.font),
                            c = o.lineSpacing || 0,
                            d = u * (c + 1),
                            p = -u * c;
                        this.styleTagParser(t, e);
                        var f = e._textCache.words,
                            g = e._textCache.breaks,
                            m = e._textCache.maxLines,
                            v = -(1 / 0),
                            y = null,
                            S = null,
                            b = null,
                            x = 0,
                            C = [],
                            w = [];
                        w.push(a(i, n));
                        for (var L = 1; L <= g.length - 1; L++) {
                            var T = p + d * L,
                                M = void 0;
                            M = L % 2 === 1 ? C : w;
                            var k = a(i, n - T / 2 - l);
                            M.unshift([k[0] - l, k[1] - l]), k = a(i, n + T / 2 + l), M.push([k[0] - l, k[1] - l])
                        }
                        for (var L = Math.min(m, g.length); L <= m; L++) {
                            var P, T = p + d * L;
                            P = L % 2 === 1 ? C : w;
                            var k = a(i, n - T / 2 - l);
                            P.unshift([k[0] - l, k[1] - l]), k = a(i, n + T / 2 + l), P.push([k[0] - l, k[1] - l]);
                            var A = function(t) {
                                    return Math.min(P[t][0] + P[t][1], P[t + 1][0] + P[t + 1][1])
                                },
                                I = this.splitWordsToLines(f, g, L, A),
                                D = I.prop,
                                N = I.actualWidthForLines,
                                O = I.positions;
                            if (D > v && (x = n - T / 2, y = O, v = D, S = N, b = P.slice(0), O.length + 1 > P.length)) throw new Error("Internal error - fitLabelInLines");
                            if (D >= 1) break
                        }
                        if (y) {
                            var F = 0,
                                E = 0,
                                H = void 0,
                                z = void 0;
                            if ("left" === r) {
                                for (var B = 1e30, U = 0; U <= y.length; U++) B = Math.min(b[U][0]);
                                var W = -B;
                                H = W, z = W;
                                for (var U = 0; U <= y.length - 1; U++) {
                                    var G = S[U],
                                        V = Math.min(b[U][1], b[U + 1][1]);
                                    z = Math.max(W + G), E = Math.max(E, G - (V - W))
                                }
                            } else if ("right" === r) {
                                for (var V = 1e30, U = 0; U <= y.length; U++) V = Math.min(b[U][1]);
                                var Y = V;
                                H = Y, z = Y;
                                for (var U = 0; U <= y.length - 1; U++) {
                                    var G = S[U];
                                    H = Math.min(Y - G), F = Math.max(F, G - (V + Y))
                                }
                            } else if ("center" === r) {
                                for (var B = 1e30, V = 1e30, U = 0; U <= y.length - 1; U++) {
                                    var G = S[U] / 2;
                                    B = Math.min(b[U][0] - G, Math.min(b[U + 1][0] - G, B)), V = Math.min(b[U][1] - G, Math.min(b[U + 1][1] - G, V))
                                }
                                var j = void 0;
                                j = B > 0 && V > 0 ? 0 : B > -V ? V : V > -B ? -B : (V - B) / 2, H = j, z = j;
                                for (var U = 0; U <= y.length - 1; U++) {
                                    var G = S[U];
                                    B = Math.min(b[U][0], b[U + 1][0]), V = Math.min(b[U][1], b[U + 1][1]), H = Math.min(H, j - G / 2), z = Math.max(z, j + G / 2), F = Math.max(F, G / 2 - B - j), E = Math.max(E, G / 2 - V + j)
                                }
                            }
                            if ("left" === s && F > 0) H += F, z += F;
                            else if ("right" === s && E > 0) H -= E, z -= E;
                            else if ("center" === s) {
                                var _ = (F - E) / 2;
                                H += _, z += _
                            }
                            e.rows = this.stringsByFont(f, y), e.hwidth = (z - H) / 2 + h, e.hheight = (p + d * y.length) / 2 + h, e.lineHeight = u, e.lineHeightM = d, e.visible = !0, e.measureComplete(!0), o.borderRadius > 0 && (e.hwidth += .45 * Math.min(o.borderRadius, e.hheight)), e.userPlaced || (e.x = i + (H + z) / 2, e.y = x + e.hheight)
                        } else e.rows = {
                            subLines: [],
                            rowWidths: []
                        }, e.visible = !1;
                        return v
                    }, t.prototype.splitWordsToLines = function(t, e, i, n) {
                        for (var r = 100, s = [], a = [], o = 0, l = e[o], h = i - e.length, u = t[0], c = 0, d = n(0), p = 0, f = 1; f <= t.length - 1; f++) {
                            var g = t[f],
                                m = c + (u.spaceWidth + g.width);
                            l === f || u.spaceWidth > 0 && m > d && h > 0 ? (a.push(f - 1), s.push(c), r = Math.min(r, d / c), c = g.width, p += 1, d = n(p), l !== f ? h -= 1 : (o += 1, l = e[o])) : c = m, u = g
                        }
                        return a.push(t.length), s.push(c), r = Math.min(r, d / c), {
                            prop: r,
                            actualWidthForLines: s,
                            positions: a
                        }
                    }, t.prototype.getFormatedText = function(t, e, i, n, r, s) {
                        for (var a = 0, o = e.text, l = 0; l < 2; l++) {
                            e.text = o, e.rows = null;
                            var h = this.attemptTextFomat(e, i, n, t, r, s, a);
                            if (h === a) break;
                            a = h
                        }
                    }, t.prototype.attemptTextFomat = function(e, i, n, s, a, o, l) {
                        n -= 2 * l;
                        var h = e.style,
                            u = (h.angle || 0) * Math.PI / 180,
                            c = r.Helpers.rotatedWidthAndHeight(u, i, n),
                            d = h.margin || 0,
                            p = R.getTextHeight(s, h.textStyle.font),
                            f = this.totalPadding(h),
                            g = a(p / 2 + f, i - 2 * d, n - 2 * d),
                            m = g.width,
                            v = c.height - d;
                        n -= d;
                        var y = R.getTextWidth(s, h.textStyle, t.ELLIPSIS_STRING),
                            S = h.textStyle,
                            b = this.getIncludingPart(s, S, e.text, "", m, 0),
                            x = e.text,
                            C = null,
                            w = !1;
                        if (h.forceNoWrap) w = b !== x, w && (b = this.getIncludingPart(s, S, x, "", m - y, 0).replace(/\s+$/g, "")), this.addLine(s, e, b, 0, w);
                        else
                            for (var L = Math.floor(v / p) - 2, T = 0; T <= L; T++) {
                                if (x = x.replace(/\s+$/g, ""), b = this.getIncludingPart(s, S, x, "", m, 0), b === x) {
                                    this.addLine(s, e, b, T, w);
                                    break
                                }
                                if (w = !0, b.length <= 1) {
                                    b = x.slice(0, 1), w = e.text !== b, this.addLine(s, e, b, T, w), C = e.rows.rowWidths[0];
                                    break
                                }
                                if (T === L) b = this.getIncludingPart(s, S, x, "", m - y, 0);
                                else {
                                    var M = b.lastIndexOf(" "),
                                        k = void 0;
                                    if (M === -1) {
                                        k = x.indexOf(" ");
                                        var P = k === -1 ? x : x.substring(0, k);
                                        w = b !== P, w && (b = this.getIncludingPart(s, S, x, "", m - y, 0).replace(/\s+$/g, ""), k = x.indexOf(" "), P = k === -1 ? x : x.substring(0, k)), x = x.substr(b.length), k = x.indexOf(" "), x = k === -1 ? "" : x.substr(k + 1)
                                    } else b = b.substr(0, M), x = x.substr(M + 1), w = !1
                                }
                                if (b.length <= 1) {
                                    if (0 !== T) break;
                                    b = e.text.slice(0, 1)
                                }
                                if (this.addLine(s, e, b, T, w), "" === x) break;
                                x = x.trim(), w = !1
                            }
                        e.rows || this.addLine(s, e, o, 0, !1);
                        var A = h.lineSpacing || 0,
                            I = p * (A + 1),
                            D = (I * e.rows.subLines.length - p * A) / 2,
                            N = 0;
                        if ("left" === h.align || "right" === h.align) {
                            var O = Math.max.apply(Math, e.rows.rowWidths),
                                F = (m - O) / 2;
                            N = "right" === h.align ? F : -F
                        }
                        h.angle && (C = Math.max.apply(Math, e.rows.rowWidths));
                        var E = a(D, C || i, n),
                            H = !h.angle || 0 === h.angle,
                            z = D - p / 2,
                            B = H ? 0 : Math.abs(Math.cos(u)),
                            U = z * B,
                            W = (h.angle || 0) + 90,
                            G = (W % 180 + 180) % 180,
                            V = G - 90 >= 0 ? 1 : -1,
                            Y = H ? 0 : 3 * V * (1 - Math.abs(Math.sin(u))),
                            j = z * Y;
                        return e.x = E.x + E.dx * N + j, e.y = d + E.y + U, e.hheight = D + f, e.hwidth = Math.max.apply(Math, e.rows.rowWidths) / 2 + f, e.lineHeight = p, e.lineHeightM = I, e.visible = !0, e.measureComplete(!0), h.borderRadius > 0 && (e.hwidth += .45 * Math.min(h.borderRadius, e.hheight)), U
                    }, t.prototype.addLine = function(e, i, n, r, s) {
                        s && (n = n.replace(/\s+$/g, "") + t.ELLIPSIS_STRING);
                        var a = i.style.textStyle,
                            o = R.getTextWidth(e, a, n);
                        null == i.rows && (i.rows = {
                            rowWidths: [],
                            subLines: []
                        }), i.rows.rowWidths.push(o), i.rows.subLines.push({
                            font: a.font,
                            row: r,
                            text: n,
                            width: o
                        })
                    }, t.prototype.getIncludingPart = function(t, e, i, n, r, s) {
                        if (i.length <= 1) {
                            var a = R.getTextWidth(t, e, i);
                            return s + a <= r && (n += i), n
                        }
                        var o = i.slice(0, i.length / 2),
                            l = R.getTextWidth(t, e, o);
                        if (s + l <= r && (n += o), s + l === r) return n;
                        if (s + l < r) {
                            var h = i.slice(i.length / 2, i.length);
                            return s += l, this.getIncludingPart(t, e, h, n, r, s)
                        }
                        return this.getIncludingPart(t, e, o, n, r, s)
                    }, t
                }();
                G.ELLIPSIS_STRING = "...", G._spaceWidth = {}, r.LabelLayoutBase = G;
                var V = function() {
                    function t() {}
                    return t
                }();
                r.InertiaTracker = V;
                var Y = function(t) {
                    function e(e, i, n) {
                        void 0 === n && (n = !1);
                        var r = t.call(this) || this;
                        return r._direction = 1, r._endTime = 0, r._midTime = 0, r._startTime = 0, r._preventOvershoot = !1, r._setTargetPending = !1, r._settableTargetValue = 0, r._settableAcceleration = 0, r._settableMaxLength = 0, r._settableSkipVelocityUpdate = !1, r._acceleration = e, r._initialValue = r._targetValue = i, r._preventOvershoot = n, r
                    }
                    return n(e, t), e.prototype.setTarget = function(t, e, i, n, r) {
                        if (null == e) return this._settableTargetValue = t, this._settableAcceleration = i, this._settableMaxLength = n, this._settableSkipVelocityUpdate = r, void(this._setTargetPending = !0);
                        this._settableAcceleration = null, this._settableMaxLength = null, this._settableSkipVelocityUpdate = !1, this._setTargetPending = !1, null != i && this.setAcceleration(i, e, r);
                        var s = this._getDeltaT(e),
                            a = this._getDistanceToV0(s),
                            o = this._composeValue(e, a),
                            l = Math.abs(t - o),
                            h = t > o ? 1 : -1;
                        if (e < this._startTime && (this._direction *= -1), this._targetValue = t, e < this._endTime)
                            if (a > l || this._direction !== h)
                                if (this._preventOvershoot)
                                    if (this._direction === h) {
                                        var u = this._getCurrentVelocity(s);
                                        this._acceleration = u * u / (2 * l), this._startTime = e - u / this._acceleration, this._initialValue = o - l * this._direction
                                    } else this._startTime = e, this._initialValue = o;
                        else this._startTime = e + s, this._initialValue = o + a * this._direction;
                        else(e >= this._midTime || e <= this._startTime) && (this._startTime = e - s, this._initialValue = o - a * this._direction);
                        else this._startTime = e, this._initialValue = o;
                        this._direction = this._targetValue > this._initialValue ? 1 : -1;
                        var c = Math.abs(this._targetValue - this._initialValue),
                            d = Math.sqrt(c / this._acceleration);
                        this._midTime = this._startTime + d, this._endTime = this._startTime + 2 * d, null != n && this._endTime - this._startTime > n && (this._endTime = this._startTime + n, this._midTime = (this._startTime + this._endTime) / 2, d = this._endTime - this._midTime, this._acceleration = c / (d * d))
                    }, e.prototype.getValue = function(t) {
                        return this._setTargetPending && this.setTarget(this._settableTargetValue, t, this._settableAcceleration, this._settableMaxLength, this._settableSkipVelocityUpdate), this.finished(t) ? this._targetValue : this._composeValue(t, this._getDistanceToV0(this._getDeltaT(t)))
                    }, e.prototype.getTargetValue = function() {
                        return this._targetValue
                    }, e.prototype.finished = function(t) {
                        return !this._setTargetPending && t >= this._endTime
                    }, e.prototype.jump = function(t, e, i) {
                        if (this._initialValue = this._targetValue = t, this._startTime = this._midTime = this._endTime = 0, null != e && null != i && 0 !== e) {
                            var n = e > 0 ? 1 : -1,
                                r = Math.abs(e / this._acceleration);
                            this._direction = n, this._midTime = i, this._endTime = i + r, this._targetValue = t + this._getDistanceToV0(r) * n
                        }
                        return this._targetValue
                    }, e.prototype.setAcceleration = function(t, e, i) {
                        if (void 0 === i && (i = !1), t !== this._acceleration) {
                            var n = e < this._endTime;
                            if (n && !i) {
                                var r = this._getDeltaT(e),
                                    s = this._getCurrentVelocity(r),
                                    a = this._composeValue(e, this._getDistanceToV0(r));
                                e < this._startTime && (s = -s), this._acceleration = t, this.jump(a, s * this._direction, e)
                            } else this._acceleration = t
                        }
                    }, e.prototype._composeValue = function(t, e) {
                        return t < this._startTime ? this._initialValue + e * this._direction : t < this._midTime ? this._initialValue + e * this._direction : t < this._endTime ? this._targetValue - e * this._direction : this._targetValue
                    }, e.prototype._getDistanceToV0 = function(t) {
                        return this._acceleration * t * t / 2
                    }, e.prototype._getDeltaT = function(t) {
                        return t < this._startTime ? this._startTime - t : t < this._midTime ? t - this._startTime : t < this._endTime ? this._endTime - t : 0
                    }, e.prototype._getCurrentVelocity = function(t) {
                        return t * this._acceleration
                    }, e
                }(V);
                r.Inertia = Y;
                var j = function(t) {
                    function e(e, i) {
                        var n = t.call(this) || this;
                        return n._endValue = 0, n._startValue = 0, n._endTime = 0, n._startTime = 0, n._startVelocity = 0, n._startAcceleration = 0, n._setTargetPending = !1, n._settableTargetValue = 0, n._settableAcceleration = 0, n._settableMaxLength = 0, n._settableSkipVelocityUpdate = !1, n._acceleration = 0, n._startValue = i, n._endValue = i, n._startVelocity = 0, n._startAcceleration = 0, n._acceleration = e, n
                    }
                    return n(e, t), e.interpolateValue = function(t, i, n, r, s) {
                        void 0 === r && (r = 0), void 0 === s && (s = 0);
                        var a = t;
                        if (a <= 0) return i;
                        if (a >= 1) return n;
                        var o = e.deriveQuinticConstants(i, n, r, s),
                            l = o.a,
                            h = o.b,
                            u = o.c,
                            c = o.d,
                            d = o.e,
                            p = o.f,
                            f = a * a * a,
                            g = l * a * a * f + h * a * f + u * f + c * a * a + d * a + p;
                        return g
                    }, e.interpolateVelocity = function(t, i, n, r, s) {
                        void 0 === r && (r = 0), void 0 === s && (s = 0);
                        var a = t;
                        if (a <= 0) return r;
                        if (a >= 1) return 0;
                        var o = e.deriveQuinticConstants(i, n, r, s),
                            l = o.a,
                            h = o.b,
                            u = o.c,
                            c = o.d,
                            d = o.e,
                            p = (o.f, a * a * a),
                            f = 5 * l * a * p + 4 * h * p + 3 * u * a * a + 2 * c * a + d;
                        return f
                    }, e.interpolateAcceleration = function(t, i, n, r, s) {
                        void 0 === r && (r = 0), void 0 === s && (s = 0);
                        var a = t;
                        if (a <= 0) return s;
                        if (a >= 1) return 0;
                        var o = e.deriveQuinticConstants(i, n, r, s),
                            l = o.a,
                            h = o.b,
                            u = o.c,
                            c = o.d,
                            d = (o.e, o.f, a * a * a),
                            p = 20 * l * d + 12 * h * a * a + 6 * u * a + 2 * c;
                        return p
                    }, e.deriveQuinticConstants = function(t, e, i, n) {
                        var r = t,
                            s = e,
                            a = i,
                            o = n,
                            l = s - r - a - o / 2,
                            h = -a - o,
                            u = -o,
                            c = u / 2 - 3 * h + 6 * l,
                            d = h - 3 * l - 2 * c,
                            p = l - c - d,
                            f = o / 2,
                            g = a,
                            m = r;
                        return {
                            a: c,
                            b: d,
                            c: p,
                            d: f,
                            e: g,
                            f: m
                        }
                    }, e.prototype.setTarget = function(t, e, i, n, r) {
                        if (null == e) return this._settableTargetValue = t, this._settableAcceleration = i, this._settableMaxLength = n, this._settableSkipVelocityUpdate = r, void(this._setTargetPending = !0);
                        this._settableAcceleration = null, this._settableMaxLength = null, this._settableSkipVelocityUpdate = !1, this._setTargetPending = !1;
                        var s = this._interpolateValue(e),
                            a = this._interpolateVelocity(e),
                            o = this._interpolateAcceleration(e);
                        null != i && this.setAcceleration(i, e, r), this._startAcceleration = o, this._startVelocity = a, this._endValue = t, this._startValue = s, this._startTime = e;
                        var l = Math.abs(this._endValue - this._startValue),
                            h = 2 * Math.sqrt(l / this._acceleration);
                        null != n && (0 === this._acceleration || h > n) && (h = n), this._endTime = this._startTime + h
                    }, e.prototype.getValue = function(t) {
                        return this._setTargetPending && this.setTarget(this._settableTargetValue, t, this._settableAcceleration, this._settableMaxLength, this._settableSkipVelocityUpdate), this.finished(t) ? this._endValue : this._interpolateValue(t)
                    }, e.prototype.getTargetValue = function() {
                        return this._endValue
                    }, e.prototype.finished = function(t) {
                        return !this._setTargetPending && t >= this._endTime
                    }, e.prototype.jump = function(t, e, i) {
                        if (this._startValue = t, this._endValue = t, this._startTime = 0, this._endTime = 0, null != e && null != i && 0 !== e) {
                            var n = this._interpolateAcceleration(i),
                                r = Math.abs(e / this._acceleration),
                                s = Math.abs(.5 * this._acceleration * r * r),
                                a = e > 0 ? 1 : -1;
                            this._startAcceleration = n, this._startVelocity = e, this._endValue = t + s * a, this._startValue = t, this._startTime = i, this._endTime = i + r
                        }
                        return this._endValue
                    }, e.prototype.setAcceleration = function(t, e, i) {
                        if (void 0 === i && (i = !1), t !== this._acceleration)
                            if (this._animationRunning(e) && !i) {
                                var n = this._interpolateValue(e),
                                    r = this._interpolateVelocity(e);
                                this._acceleration = t, this.jump(n, r, e)
                            } else this._acceleration = t
                    }, e.prototype._animationRunning = function(t) {
                        return t < this._endTime
                    }, e.prototype._interpolateValue = function(t) {
                        return e.interpolateValue(this._timeToProgress(t), this._startValue, this._endValue, this._startVelocity, this._startAcceleration)
                    }, e.prototype._interpolateVelocity = function(t) {
                        return e.interpolateVelocity(this._timeToProgress(t), this._startValue, this._endValue, this._startVelocity, this._startAcceleration)
                    }, e.prototype._interpolateAcceleration = function(t) {
                        return e.interpolateAcceleration(this._timeToProgress(t), this._startValue, this._endValue, this._startVelocity, this._startAcceleration)
                    }, e.prototype._timeToProgress = function(t) {
                        return this._endTime <= this._startTime ? 1 : (t - this._startTime) / (this._endTime - this._startTime)
                    }, e
                }(V);
                r.QuinticInertia = j;
                var _ = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 500, i.paintOrder = 35, i.updateOrder = 600, i.container = null, i.backgroundContainer = null, i.background = null, i.canvas = null, i.interactionContainer = null, i.effectiveInteractionContainer = null, i.menuContainer = null, i.emptyElement = null, i.outerBorder = null, i.scene = null, i.curThemeClass = null, i.chart = e, i.scene = e.scene, i
                    }
                    return n(e, t), e.setContainerStyle = function(t) {
                        t.style.position = "absolute", t.style.left = "0px", t.style.right = "0px", t.style.top = "0px", t.style.bottom = "0px"
                    }, e.prototype.createDom = function(t) {
                        this.shell = t, this.container = r.Helpers.createDom("bmch-div", "BMCH-container BMCH-" + t.chart.api.typeName), this.container.style.position = "relative", this.container.style.width = "100%", this.backgroundContainer = r.Helpers.createDom("bmch-div", "BMCH-background-container", null, this.container), e.setContainerStyle(this.backgroundContainer), this.background = r.Helpers.createDom("bmch-div", "BMCH-background", null, this.backgroundContainer), e.setContainerStyle(this.background), this.backgroundImage = r.Helpers.createDom("bmch-div", "BMCH-background-image", null, this.background), this.canvas = r.Helpers.createDom("canvas", "BMCH-canvas", null, this.container), e.setContainerStyle(this.canvas), this.outerBorder = r.Helpers.createDom("bmch-div", "BMCH-border", null, this.container), e.setContainerStyle(this.outerBorder), this.interactionContainer = r.Helpers.createDom("bmch-div", "BMCH-interaction", null, this.container), e.setContainerStyle(this.interactionContainer);
                        var i = this.chart.settings.toolbar.isSticky ? null : this.container;
                        this.menuContainer = r.Helpers.createDom("bmch-div", "BMCH-menu-container BMCH-menu-workaround", null, i), e.setContainerStyle(this.menuContainer), this.chart.settings.toolbar.isSticky && (this.menuContainer.style.position = "sticky", this.menuContainer.style.zIndex = "100"), this.emptyElement = r.Helpers.createDom("bmch-span", "BMCH-empty", " ", this.menuContainer), this.updateEmptyElementSettings(), this.updateSettings(this.scene.settings), this.interactionContainer.tabIndex = 0
                    }, e.prototype.updateSettings = function(t) {
                        if (r.Helpers.hasProp(t, "area.style.image")) {
                            var e = t.area.style.image;
                            this.backgroundImage.style.backgroundImage = e ? "url(" + e + ")" : ""
                        }
                        var i = this.curThemeClass,
                            n = this.scene.settings.advanced.themeCSSClass;
                        n !== i && (i && r.Helpers.removeClass(this.container, i), this.curThemeClass = n, r.Helpers.addClass(this.container, n)), this.updateEmptyElementSettings()
                    }, e.prototype.updateEmptyElementSettings = function() {
                        this.emptyElement.removeAttribute("style"), this.chart.settings.toolbar.enabled && this.chart.settings.toolbar.isSticky && "outside" === this.chart.settings.toolbar.location && this.setSolidToolbarBackground(this.emptyElement.style)
                    }, e.prototype.setSolidToolbarBackground = function(t) {
                        var e = this.chart.toolbar ? this.chart.toolbar.panelList.reduce(function(t, e) {
                                return Math.max(t, e.getHeightScale())
                            }, 0) : 1,
                            i = this.chart.settings.area;
                        t.position = "absolute", t.width = "100%", t.paddingTop = 36 * e + "px", t.backgroundColor = i && i.style && i.style.fillColor && "transparent" !== i.style.fillColor ? i.style.fillColor : "white"
                    }, e.prototype.doAnimations = function(t) {
                        if (t.changes.bounds) {
                            var e = this.isChartHorizontal() ? this.scene.rightMargin : this.scene.bottomMargin,
                                i = this.isChartHorizontal() ? this.scene.leftMargin : this.scene.topMargin;
                            this.backgroundImage.style.bottom = e + "px", this.backgroundImage.style.top = i + "px"
                        }
                    }, e.prototype.isChartHorizontal = function() {
                        var t = this.chart.settings;
                        return !!t.hasOwnProperty("horizontal") && t.horizontal
                    }, e
                }(M);
                r.DomLayer = _;
                var Z = function() {
                    function t(t, e, i, n) {
                        t !== 1 / 0 && t > i ? (this.x1 = t, this.x0 = i) : (this.x1 = i, this.x0 = t), e !== 1 / 0 && e > n ? (this.y1 = e, this.y0 = n) : (this.y1 = n, this.y0 = e)
                    }
                    return t.createEmpty = function() {
                        return new t(1 / 0, 1 / 0, -(1 / 0), -(1 / 0))
                    }, t.prototype.isEmpty = function() {
                        return this.x0 >= this.x1 || this.y0 >= this.y1
                    }, t.prototype.clone = function() {
                        return new t(this.x0, this.y0, this.x1, this.y1)
                    }, t.prototype.w = function() {
                        return this.x1 - this.x0
                    }, t.prototype.h = function() {
                        return this.y1 - this.y0
                    }, t.prototype.equals = function(t) {
                        return this.x0 === t.x0 && this.x1 === t.x1 && this.y0 === t.y0 && this.y1 === t.y1
                    }, t.prototype.inflate = function(t) {
                        var e = (this.x0 + this.x1) / 2,
                            i = (this.y0 + this.y1) / 2;
                        return this.x0 = (this.x0 - e) * t + e, this.x1 = (this.x1 - e) * t + e, this.y0 = (this.y0 - i) * t + i, this.y1 = (this.y1 - i) * t + i, this
                    }, t.prototype.clip = function(t) {
                        return this.x0 = Math.max(this.x0, t.x0), this.x1 = Math.min(this.x1, t.x1), this.y0 = Math.max(this.y0, t.y0), this.y1 = Math.min(this.y1, t.y1), this
                    }, t.prototype.isInside = function(t) {
                        return this.x0 >= t.x0 && this.x1 <= t.x1 && this.y0 >= t.y0 && this.y1 <= t.y1
                    }, t.prototype.isOutside = function(t) {
                        return this.x0 > t.x1 || this.x1 < t.x0 || this.y0 > t.y1 || this.y1 < t.y0
                    }, t.prototype.overlapsRect = function(t, e, i, n) {
                        return t < this.x1 && i > this.x0 && e < this.y1 && n > this.y0
                    }, t.prototype.intersectsSegment = function(t, e, i, n) {
                        return null != r.Geometry.clipSegmentToRect(t, e, i - t, n - e, this.x0, this.y0, this.x1, this.y1)
                    }, t.prototype.area = function() {
                        return (this.x1 - this.x0) * (this.y1 - this.y0)
                    }, t.prototype.toString = function() {
                        return this.x0 + "," + this.y0 + ", " + this.x1 + ", " + this.y1
                    }, t.prototype.addPoint = function(t, e) {
                        return this.x0 = Math.min(this.x0, t), this.x1 = Math.max(this.x1, t), this.y0 = Math.min(this.y0, e), this.y1 = Math.max(this.y1, e), this
                    }, t.prototype.addBounds = function(t, e, i, n) {
                        return this.x0 = Math.min(this.x0, t), this.x1 = Math.max(this.x1, i), this.y0 = Math.min(this.y0, e), this.y1 = Math.max(this.y1, n), this
                    }, t.prototype.addRect = function(t) {
                        return this.x0 = Math.min(this.x0, t.x0), this.x1 = Math.max(this.x1, t.x1), this.y0 = Math.min(this.y0, t.y0), this.y1 = Math.max(this.y1, t.y1), this
                    }, t.prototype.moveBy = function(t, e) {
                        return this.x0 += t, this.x1 += t, this.y0 += e, this.y1 += e, this
                    }, t.prototype.containsPoint = function(t, e) {
                        return t >= this.x0 && t < this.x1 && e >= this.y0 && e < this.y1
                    }, t.prototype.addLine = function(t) {
                        for (var e = 0; e <= t.length - 2; e += 2) this.addPoint(t[e], t[e + 1]);
                        return this
                    }, t.prototype.translate = function(t, e, i, n) {
                        return this.x0 = this.x0 * t + e, this.x1 = this.x1 * t + e, this.y0 = this.y0 * i + n, this.y1 = this.y1 * i + n, this
                    }, t.prototype.overlaps = function(t) {
                        return this.x0 < t.x1 && this.x1 > t.x0 && this.y0 < t.y1 && this.y1 > t.y0
                    }, t
                }();
                r.Rect = Z;
                var q = function() {
                    function t(t, e, i) {
                        void 0 === i && (i = []), this.x = i, this.y1 = e, this.y0 = t
                    }
                    return t.prototype.isEmpty = function() {
                        return 0 === this.x.length
                    }, t.prototype.makeCopy = function() {
                        return new t(this.y0, this.y1, this.x.slice(0))
                    }, t.prototype.split = function(e) {
                        var i = new t(e, this.y1);
                        return this.y1 = e, i.x = this.x.slice(0), i
                    }, t.prototype.add = function(t, e) {
                        for (var i = [], n = this.x.length, r = 0; r < n && this.x[r + 1] < t;) i.push(this.x[r], this.x[r + 1]), r += 2;
                        for (r < n && (t = Math.min(this.x[r], t)); r < n && this.x[r] <= e;) e = Math.max(e, this.x[r + 1]), r += 2;
                        for (i.push(t, e); r < n;) i.push(this.x[r], this.x[r + 1]), r += 2;
                        return this.x = i, this
                    }, t.prototype.subtract = function(t, e) {
                        for (var i = [], n = this.x.length, r = 0; r < n && this.x[r + 1] <= t;) i.push(this.x[r], this.x[r + 1]), r += 2;
                        for (r < n && this.x[r] < t && i.push(this.x[r], t); r < n && this.x[r + 1] <= e;) r += 2;
                        for (r < n && this.x[r] < e && (i.push(e, this.x[r + 1]), r += 2); r < n;) i.push(this.x[r], this.x[r + 1]), r += 2;
                        return this.x = i, this
                    }, t.prototype.subtractSlice = function(t) {
                        if (this.isEmpty() || t.isEmpty()) return this;
                        for (var e = [], i = this.x, n = t.x, r = i.length, s = n.length, a = 0, o = 0, l = i[a], h = i[a + 1]; o < s;) {
                            var u = n[o],
                                c = n[o + 1];
                            if (l >= c) o += 2;
                            else if (u >= h) {
                                if (e.push(l, h), a += 2, a === r) break;
                                l = i[a], h = i[a + 1]
                            } else if (u > l && e.push(l, u), c < h) l = c, o += 2;
                            else {
                                if (a += 2, a === r) break;
                                l = i[a], h = i[a + 1]
                            }
                        }
                        for (; a < r && (e.push(l, h), a += 2, a !== r);) l = i[a], h = i[a + 1];
                        return this.x = e, this
                    }, t.prototype.intersectsSlice = function(t) {
                        if (this.isEmpty() || t.isEmpty()) return !1;
                        for (var e = this.x, i = t.x, n = e.length, r = i.length, s = 0, a = 0; a < r && s < n;) {
                            var o = e[s],
                                l = e[s + 1],
                                h = i[a],
                                u = i[a + 1];
                            if (o >= u) a += 2;
                            else {
                                if (!(h >= l)) return !0;
                                s += 2
                            }
                        }
                        return !1
                    }, t.prototype.coversSlice = function(t) {
                        if (t.isEmpty()) return !0;
                        for (var e = this.x, i = t.x, n = e.length, r = i.length, s = 0, a = 0; a < r && s < n;) {
                            var o = e[s],
                                l = e[s + 1],
                                h = i[a],
                                u = i[a + 1];
                            if (h >= l) s += 2;
                            else {
                                if (!(h >= o && u <= l)) return !1;
                                a += 2
                            }
                        }
                        return a === r
                    }, t.prototype.clip = function(t, e) {
                        for (var i = [], n = 0; n <= this.x.length - 2; n += 2) {
                            var r = this.x[n],
                                s = this.x[n + 1];
                            s > t && r < e && (i.push(Math.max(r, t)), i.push(Math.min(s, e)))
                        }
                        return this.x = i, this
                    }, t.prototype.tryMerge = function(t) {
                        if (this.x.length !== t.x.length || this.y1 !== t.y0) return !1;
                        for (var e = 0; e <= this.x.length - 1; e++)
                            if (this.x[e] !== t.x[e]) return !1;
                        return this.y1 = t.y1, !0
                    }, t.prototype.intersects = function(t, e) {
                        for (var i = 0; i <= this.x.length - 2; i += 2) {
                            var n = this.x[i],
                                r = this.x[i + 1];
                            if (n < e && r > t) return !0
                        }
                        return !1
                    }, t.prototype.covers = function(t, e) {
                        for (var i = 0; i <= this.x.length - 2; i += 2) {
                            var n = this.x[i],
                                r = this.x[i + 1];
                            if (n <= t && r >= e) return !0
                        }
                        return !1
                    }, t.prototype.findOverlappingRect = function(t, e, i) {
                        for (var n = !1, r = 0; r <= this.x.length - 2; r += 2) {
                            var s = this.x[r],
                                a = this.x[r + 1];
                            s < e && e - i < a && (t = Math.min(t, Math.max(s, e - i)), n = !0), a > t && t + i > s && (e = Math.max(e, Math.min(a, t + i)), n = !0)
                        }
                        return {
                            x0: t,
                            x1: e,
                            overlaps: n
                        }
                    }, t.prototype.toRects = function(t) {
                        for (var e = 0; e <= this.x.length - 2; e += 2) {
                            var i = this.x[e],
                                n = this.x[e + 1];
                            t.push(new r.Rect(i, this.y0, n, this.y1))
                        }
                    }, t
                }();
                r.AreaSlice = q;
                var X = function() {
                    function t() {
                        this.slices = [new q(-1e30, 1e30)]
                    }
                    return t.prototype.makeCopy = function() {
                        var e = new t;
                        e.slices = [];
                        for (var i = 0; i < this.slices.length; i++) {
                            var n = this.slices[i];
                            e.slices.push(n.makeCopy())
                        }
                        return e
                    }, t.prototype.getBounds = function() {
                        var t = 1 / 0,
                            e = -(1 / 0),
                            i = 1 / 0,
                            n = -(1 / 0);
                        if (this.slices.length > 1) {
                            i = this.slices[1].y0, n = this.slices[this.slices.length - 1].y1;
                            for (var s = 0; s < this.slices.length; s++) {
                                var a = this.slices[s];
                                a.x.length > 0 && (t = Math.min(t, a.x[0]), e = Math.max(e, a.x[a.x.length - 1]))
                            }
                        }
                        return new r.Rect(t, i, e, n)
                    }, t.prototype.addRect = function(t) {
                        if (t.isEmpty()) return this;
                        for (var e = t.x0, i = t.x1, n = t.y0, r = t.y1, s = [], a = null, o = 0; o < this.slices.length; o++) {
                            var l = this.slices[o];
                            if (l.y0 >= r || l.y1 <= n) a && a.tryMerge(l) || (s.push(l), a = l);
                            else {
                                if (n > l.y0) {
                                    var h = l.split(n);
                                    a && a.tryMerge(l) || (s.push(l), a = l), l = h
                                }
                                if (r < l.y1) {
                                    var h = l.split(r);
                                    l.add(e, i), a && a.tryMerge(l) || (s.push(l), a = l), l = h
                                } else l.add(e, i);
                                a && a.tryMerge(l) || (s.push(l), a = l)
                            }
                        }
                        return this.slices = s, this
                    }, t.prototype.subtractRect = function(t) {
                        if (t.isEmpty()) return this;
                        for (var e = t.x0, i = t.x1, n = t.y0, r = t.y1, s = [], a = null, o = 0; o < this.slices.length; o++) {
                            var l = this.slices[o];
                            if (l.y0 >= r || l.y1 <= n) a && a.tryMerge(l) || (s.push(l), a = l);
                            else {
                                if (n > l.y0) {
                                    var h = l.split(n);
                                    a && a.tryMerge(l) || (s.push(l), a = l), l = h
                                }
                                if (r < l.y1) {
                                    var h = l.split(r);
                                    l.subtract(e, i), a && a.tryMerge(l) || (s.push(l), a = l), l = h
                                } else l.subtract(e, i);
                                a && a.tryMerge(l) || (s.push(l), a = l)
                            }
                        }
                        return this.slices = s, this
                    }, t.prototype.clip = function(t) {
                        return 1
                    }, t.prototype.subtractArea = function(t) {
                        if (t.isEmpty()) return this;
                        for (var e = [], i = null, n = this.slices, r = t.slices, s = n.length, a = r.length, o = 0, l = 0, h = n[o]; l < a;) {
                            var u = r[l];
                            if (h.y1 <= u.y0) {
                                if (i && i.tryMerge(h) || (e.push(h), i = h), o += 1, o === s) break;
                                h = n[o]
                            } else if (u.y1 <= h.y0 || u.isEmpty()) l += 1;
                            else {
                                if (h.y0 < u.y0) {
                                    var c = h.split(u.y0);
                                    i && i.tryMerge(h) || (e.push(h), i = h), h = c
                                }
                                if (h.y1 > u.y1) {
                                    var c = h.split(u.y1);
                                    h.subtractSlice(u), i && i.tryMerge(h) || (e.push(h), i = h), h = c, l += 1
                                } else {
                                    if (h.subtractSlice(u), i && i.tryMerge(h) || (e.push(h), i = h), o += 1, o === s) break;
                                    h = n[o]
                                }
                            }
                        }
                        for (; o < s && (i && i.tryMerge(h) || (e.push(h), i = h), o += 1, o !== s);) h = n[o];
                        return this.slices = e, this
                    }, t.prototype.intersectsArea = function(t) {
                        if (t.isEmpty() || this.isEmpty()) return !1;
                        for (var e = this.slices, i = t.slices, n = e.length, r = i.length, s = 0, a = 0; a < r && s < n;) {
                            var o = i[a],
                                l = e[s];
                            if (l.intersectsSlice(o)) return !0;
                            l.y1 < o.y1 ? s += 1 : o.y1 < l.y1 ? a += 1 : (s += 1, a += 1)
                        }
                        return !1
                    }, t.prototype.coversArea = function(t) {
                        if (t.isEmpty()) return !0;
                        for (var e = this.slices, i = t.slices, n = e.length, r = i.length, s = 0, a = 0; a < r && s < n;) {
                            var o = i[a],
                                l = e[s];
                            if (!l.coversSlice(o)) return !1;
                            l.y1 < o.y1 ? s += 1 : o.y1 < l.y1 ? a += 1 : (s += 1, a += 1)
                        }
                        return !0
                    }, t.prototype.findOverlappingRect = function(t, e) {
                        if (this.isEmpty()) return null;
                        for (var i = this.slices[1].x[0], n = Math.min(this.slices[1].x[1], i + t), s = this.slices[1].y0, a = Math.min(this.slices[1].y1, s + e), o = 0; o < this.slices.length; o++) {
                            var l = this.slices[o];
                            if (l.y0 >= s + e) break;
                            var h = l.findOverlappingRect(i, n, t);
                            i = h.x0, n = h.x1;
                            var u = h.overlaps;
                            u && (a = Math.min(l.y1, s + e))
                        }
                        return new r.Rect(i, s, n, a)
                    }, t.prototype.findTopPosition = function(t, e) {
                        for (var i = 1 / 0, n = 0; n < this.slices.length; n++) {
                            var r = this.slices[n];
                            r.covers(t, e) && (i = Math.min(i, r.y0))
                        }
                        return i === 1 / 0 ? 0 : i
                    }, t.prototype.intersects = function(t) {
                        for (var e = t.x0, i = t.x1, n = t.y0, r = t.y1, s = 0; s < this.slices.length; s++) {
                            var a = this.slices[s];
                            if (a.y0 < r && a.y1 > n && a.intersects(e, i)) return !0
                        }
                        return !1
                    }, t.prototype.isEmpty = function() {
                        return 1 === this.slices.length && this.slices[0].isEmpty()
                    }, t.prototype.coversRect = function(t) {
                        for (var e = t.x0, i = t.x1, n = t.y0, r = t.y1, s = 0; s < this.slices.length; s++) {
                            var a = this.slices[s];
                            if (n < a.y1 && r > a.y0 && !a.covers(e, i)) return !1
                        }
                        return !0
                    }, t.prototype.toRects = function() {
                        for (var t = [], e = 0; e < this.slices.length; e++) {
                            var i = this.slices[e];
                            i.toRects(t)
                        }
                        return t
                    }, t
                }();
                r.AreaCollection = X;
                var Q = navigator.userAgent.match(/AppleWebKit\/(\d+)/),
                    J = Q ? parseInt(Q[1], 10) : 1e6,
                    K = function() {
                        function e(t, i) {
                            var n = this;
                            this.chart = null, this.settings = null, this.scene = null, this.events = null, this.profiler = null, this.container = null, this.canvas = null, this.scaleX = 1, this.scaleY = 1, this.paintRequested = null, this.labelRenderer = null, this.prevTime = null, this.paintNowInProgreess = !1, this.animationInProgress = !1, this.mouseEvents = null, this.innerAreaCache = null, this.chartWidth = 0, this.chartHeight = 0, this.sizeChanged = !0, this.fullScreenMode = !1, this.fullscreenBeforeW = 0, this.fullscreenBeforeH = 0, this.lastCursor = null, this.chart = t, this.settings = t.settings, this.scene = t.scene, this.domLayer = i, this.buildDom(), this.labelRenderer = new W(this.settings, this.chart.assetsLoader, this.container);
                            var r = this.domLayer.effectiveInteractionContainer ? this.domLayer.effectiveInteractionContainer : this.domLayer.interactionContainer;
                            this.mouseEvents = new w(r, this.settings.advanced.pointer, [this.domLayer.menuContainer], t.scene.invertedTransform), this.profiler = new A(this);
                            for (var s = 0; s < e.MouseEventConfig.length; s++) {
                                var a = e.MouseEventConfig[s];
                                ! function(t) {
                                    n.mouseEvents.listen(t.ev, function(e) {
                                        return n.notifyMouseEvent(e, t)
                                    })
                                }(a)
                            }
                            this.events = new D(t, this), this.events.addElement(this.domLayer), this.containerResizeFunc = function() {
                                return n.updateSize(!1)
                            }, d.listenResize(this.container, this.containerResizeFunc), d.listen(window, "resize", this.containerResizeFunc)
                        }
                        return e.prototype.forceChromeRedraw = function() {
                            var t = this.menuContainer.style,
                                e = t.transform;
                            t.transform = "translateZ(0)", window.setTimeout(function() {
                                t.transform = e
                            }, 1)
                        }, e.prototype.updateSize = function(t) {
                            var e, i, n = this.settings.area;
                            this.fullScreenMode ? (e = window.innerWidth, i = window.innerHeight) : this.fullscreenBeforeW > 0 ? (e = this.fullscreenBeforeW, i = this.fullscreenBeforeH, this.fullscreenBeforeW = 0, this.fullscreenBeforeH = 0) : (e = n.width || Math.min(n.maxWidth, this.container.clientWidth), i = n.height || Math.min(n.maxHeight, this.container.clientHeight), e > 0 && i < 2 && (i = this.settings.area.height || this.settings.area.defaultHeight), e = Math.max(n.minWidth, e), i = Math.max(n.minHeight, i)), (t || e >= 2 && e !== this.chartWidth || i >= 2 && i !== this.chartHeight) && this.setSize(e, i, t), d.updateResize(this.container)
                        }, e.prototype.setSize = function(t, e, i) {
                            this.chart.log("Update size: " + e + ", " + t);
                            var n = this.domLayer.container.style;
                            n.height = e + "px", n.width = t + "px", this.chartHeight = e, this.chartWidth = t, this.sizeChanged = !0, this.events.setNewSize(new Z(0, 0, t, e), !0, i), this.paintNowInProgreess || this.paintNow(!0)
                        }, e.prototype.setFullscreen = function(t) {
                            t !== this.fullScreenMode && (this.fullScreenMode = t, t ? (this.fullscreenBeforeW = this.scene.chartWidth, this.fullscreenBeforeH = this.scene.chartHeight, d.addClass(this.domLayer.container, "BMCH-fullscreen")) : d.removeClass(this.domLayer.container, "BMCH-fullscreen"), this.updateSize(!0))
                        }, e.prototype.buildDom = function() {
                            if (!this.settings.container) throw new Error("Chart container is not defined in the settings.");
                            if (!d.isDomObject(this.settings.container)) throw new Error("Chart container is not a DOM object.");
                            if (this.container = this.settings.container, null != this.container._BMCH_ChartInstance && this.container._BMCH_ChartInstance.remove(), r.Helpers.clearHtmlChildren(this.container), this.container.appendChild(document.createComment("BoomCharts " + t.PackageInfo.Version)), this.container._BMCH_ChartInstance = this.chart, this.domLayer.createDom(this), this.settings.toolbar.isSticky) {
                                var e = this.container.parentElement;
                                e.removeChild(this.container), e.appendChild(this.domLayer.menuContainer), e.appendChild(this.container)
                            }
                            this.container.appendChild(this.domLayer.container), this.backgroundContainer = this.domLayer.backgroundContainer, this.interactiveContainer = this.domLayer.interactionContainer, this.menuContainer = this.domLayer.menuContainer, this.canvas = this.domLayer.canvas
                        }, e.prototype.remove = function() {
                            this.mouseEvents.remove(), this.domLayer.remove(), d.unlistenResize(this.container), delete this.container._BMCH_ChartInstance, d.unlisten(window, "resize", this.containerResizeFunc), r.Helpers.clearHtmlChildren(this.container)
                        }, e.prototype.updateSettings = function(t) {
                            t.area && this.updateSize(!0), this.domLayer.updateSettings(t)
                        }, e.prototype.notifyMouseEvent = function(t, e) {
                            this.chart.removed || (t.consumed = !1, this.events.onMouseEvent(t, e), t.cursor || (t.cursor = "default"), this.lastCursor !== t.cursor && (this.interactiveContainer.style.cursor = t.cursor, this.menuContainer.style.cursor = t.cursor, this.lastCursor = t.cursor))
                        }, e.prototype.requestPaint = function() {
                            var t = this;
                            null === this.paintRequested && (this.settings.advanced.useAnimationFrame ? this.paintRequested = r.Helpers.requestAnimationFrame(function(e, i) {
                                return t.paintScene(i ? e : null)
                            }) : this.paintRequested = window.setTimeout(function() {
                                return t.paintScene(null)
                            }, 5))
                        }, e.prototype.paintNow = function(t) {
                            return void 0 === t && (t = !1), this.paintNowInProgreess ? void this.chart.error("paintNow called from within paintNow call") : (this.paintNowInProgreess = !0, (null !== this.paintRequested || t) && (this.settings.advanced.useAnimationFrame ? r.Helpers.cancelAnimationFrame(this.paintRequested) : window.clearTimeout(this.paintRequested), this.paintScene(null)), void(this.paintNowInProgreess = !1))
                        }, e.prototype.paintScene = function(t) {
                            if (!this.chart.removed) {
                                this.paintRequested = null;
                                var e = null !== t ? t : d.performanceNow(),
                                    i = new L;
                                i.timeStamp = e, i.isExport = !1, this.prevTime && this.animationInProgress ? (i.dtime = i.timeStamp - this.prevTime, i.dtime > 1e3 && (i.dtime = 1e3), i.dtime < 1 && (i.dtime = 1)) : i.dtime = 30, this.prevTime = e, this.chartWidth > 0 && this.chartHeight > 0 && (this.sizeChanged && (this.resizeCanvas(), this.sizeChanged = !1), this.innerAreaCache = null, this.events.animateFrame(i), i.animating ? (this.animationInProgress = !0, this.events.requestPaint()) : this.animationInProgress = !1, this.profiler.paintDone())
                            }
                        }, e.prototype.resizeCanvas = function() {
                            var t = this.chart.settings.advanced,
                                e = 1,
                                i = 1;
                            if (t.highDPI === !0) {
                                var n = d.canvasScaling();
                                e = n.x, i = n.y
                            } else t.highDPI > 0 && (e = i = t.highDPI);
                            var r, s, a = this.chartWidth,
                                o = this.chartHeight,
                                l = Math.max(100, t.maxCanvasWidth),
                                h = Math.max(100, t.maxCanvasHeight),
                                u = 0,
                                c = 0;
                            do u++, r = Math.ceil(a * e / u); while (r > l);
                            do c++, s = Math.ceil(o * i / c); while (s > h);
                            e /= u, i /= c, a = r / e, o = s / i, this.scaleX = e, this.scaleY = i, this.canvas.width = r, this.canvas.height = s, this.canvas.style.width = a + "px", this.canvas.style.height = o + "px", this.domLayer.updateEmptyElementSettings()
                        }, e.prototype.prepareContext = function(t) {
                            var e = this.scene,
                                i = this.canvas,
                                n = i.getContext("2d");
                            n.setTransform(1, 0, 0, 1, 0, 0), n.clearRect(0, 0, i.width, i.height), 534 === J && (i.style.display = "none", i.offsetHeight, i.style.display = "inherit"), this.areaStylesBefore(n, this.canvas);
                            var r = this.scaleX,
                                s = this.scaleY;
                            n.setTransform(r, 0, 0, s, 0, 0), n.__scaleX = r, n.__scaleY = s, t.context = n, t.scaleX = r, t.scaleY = s, t.labelRenderer = this.labelRenderer, this.labelRenderer.startFrame(e.chartWidth, e.chartHeight, r, s)
                        }, e.prototype.areaStylesBefore = function(t, e) {
                            var i = this.settings.area.style.fillColor;
                            i && (t.fillStyle = i, t.fillRect(0, 0, e.width, e.height))
                        }, e.prototype.areaStylesAfter = function(t, e) {
                            var i = this.settings.area.style.overlayColor;
                            i && (t.fillStyle = i, t.setTransform(1, 0, 0, 1, 0, 0), t.fillRect(0, 0, e.width, e.height))
                        }, e.prototype.finalizeContext = function(t) {
                            this.areaStylesAfter(t.context, this.canvas), this.labelRenderer.finishFrame()
                        }, e.prototype.exportToImageGetDimensions = function() {
                            var t = new L;
                            t.isExport = !0, t.context = this.canvas.getContext("2d"), t.labelRenderer = this.labelRenderer;
                            var e = this.events.updateLayout(t);
                            return t.isExport = !1, this.events.updateLayout(t), {
                                width: e.w(),
                                height: e.h()
                            }
                        }, e.prototype.exportToContext = function(t, e, i) {
                            var n = new W(this.settings, this.chart.assetsLoader, this.container);
                            n.allowCache = !1, n.startFrame(1, 1, i, i);
                            var r = new L;
                            r.isExport = !0, r.timeStamp = this.prevTime, r.dtime = 0, r.context = t, r.scaleX = i, r.scaleY = i, r.labelRenderer = n;
                            var s = this.events.updateLayout(r),
                                a = this.chart.settings.advanced.imageExportRenderingFunction;
                            this.areaStylesBefore(t, e), t.save(), t.setTransform(i, 0, 0, i, -s.x0 * i, -s.y0 * i), this.events.doPaint(r), this.areaStylesAfter(t, e), a && a(t, s.x1, s.y1), r.isExport = !1, this.events.updateLayout(r), R.restore(t)
                        }, e.prototype.getChartInnerArea = function() {
                            if (this.innerAreaCache) return this.innerAreaCache;
                            var t = new r.AreaCollection;
                            t.addRect(new r.Rect(this.scene.x0, this.scene.y0, this.scene.x0 + this.scene.width, this.scene.y0 + this.scene.height));
                            for (var e = this.menuContainer.getBoundingClientRect(), i = e.left, n = e.top, s = this.menuContainer.children, a = 0; a < s.length; a += 1) {
                                var o = s[a];
                                if (o.offsetHeight > 0 || o.offsetWidth > 0) {
                                    var l = d.extractCSSTransformScaleRecursive(o, 1, 1),
                                        h = d.extractCSSTransformScale(o.style.transform, 1, 1);
                                    h[0] = h[0] * l[0], h[1] = h[1] * l[1];
                                    var u = o.getBoundingClientRect(),
                                        c = (u.left - i) * h[0],
                                        p = (u.top - n) * h[1],
                                        f = (u.right - i) * h[0],
                                        g = (u.bottom - n) * h[1];
                                    t.subtractRect(new Z(c, p, f, g))
                                }
                            }
                            return this.innerAreaCache = t, t
                        }, e
                    }();
                K.MouseEventConfig = [{
                    ev: w.EVENT_GLOBAL_DOWN,
                    name: "GlobalPointerDown"
                }, {
                    ev: w.EVENT_DOWN,
                    name: "PointerDown",
                    captures: !0
                }, {
                    ev: w.EVENT_UP,
                    name: "PointerUp",
                    needsCapture: !0,
                    releasesCapture: !0
                }, {
                    ev: w.EVENT_DRAG,
                    name: "PointerDrag",
                    needsCapture: !0,
                    captures: !0
                }, {
                    ev: w.EVENT_MOVE,
                    name: "PointerMove",
                    captures: !0
                }, {
                    ev: w.EVENT_LEAVE,
                    name: "PointerOut"
                }, {
                    ev: w.EVENT_CANCEL,
                    name: "PointerCancel",
                    needsCapture: !0,
                    releasesCapture: !0
                }, {
                    ev: w.EVENT_CLICK,
                    name: "Click"
                }, {
                    ev: w.EVENT_INSTACLICK,
                    name: "InstantClick"
                }, {
                    ev: w.EVENT_LONGPRESS,
                    name: "LongPress"
                }, {
                    ev: w.EVENT_RCLICK,
                    name: "RightClick"
                }, {
                    ev: w.EVENT_DBLCLICK,
                    name: "DoubleClick"
                }, {
                    ev: w.EVENT_TPLCLICK,
                    name: "TripleClick"
                }, {
                    ev: w.EVENT_WHEEL,
                    name: "Wheel"
                }], r.ChartOuterShell = K;
                var $ = function() {
                    function t(t, e) {
                        this.fullScreenMode = !1, this.chart = t, this.settings = t.settings, this.scene = t.scene, this.parentShell = e, this.buildDom(), this.events = new D(t, this), this.parentShell.events.addSubchart(this.chart), this.updateSize()
                    }
                    return t.prototype.getChartInnerArea = function() {
                        return this.parentShell.getChartInnerArea()
                    }, t.prototype.requestPaint = function() {
                        this.parentShell.requestPaint()
                    }, t.prototype.paintNow = function(t) {
                        this.parentShell.paintNow(t)
                    }, t.prototype.buildDom = function() {
                        this.container = this.parentShell.container, this.interactiveContainer = this.parentShell.interactiveContainer, this.backgroundContainer = this.parentShell.backgroundContainer, this.menuContainer = this.parentShell.menuContainer
                    }, t.prototype.remove = function() {
                        this.parentShell.events.removeSubchart(this.chart)
                    }, t.prototype.updateSettings = function(t) {
                        t.area && this.updateSize()
                    }, t.prototype.updateSize = function(t) {
                        void 0 === t && (t = !1);
                        var e = this.settings.area;
                        this.events.setNewSize(new Z(e.left, e.top, e.left + e.width, e.top + e.height), !1, t)
                    }, t.prototype.prepareContext = function(t) {
                        var e = this.settings.area.style;
                        if (e.fillColor) {
                            var i = t.context,
                                n = this.scene;
                            i.fillStyle = e.fillColor, i.fillRect(n.chartLeft, n.chartTop, n.chartWidth, n.chartHeight)
                        }
                    }, t.prototype.finalizeContext = function(t) {
                        var e = this.settings.area.style;
                        if (e.overlayColor) {
                            var i = t.context,
                                n = this.scene;
                            i.fillStyle = e.overlayColor, i.fillRect(n.chartLeft, n.chartTop, n.chartWidth, n.chartHeight)
                        }
                    }, t.prototype.forceChromeRedraw = function() {
                        this.parentShell.forceChromeRedraw()
                    }, t.prototype.setFullscreen = function(t) {}, t
                }();
                r.ChartInnerShell = $;
                var tt = function() {
                    function t() {
                        this.enabled = !0, this.fixedAspect = !1, this.visibilityDistance = 45, this.grabDistance = 10
                    }
                    return t
                }();
                r.SettingsResizer = tt;
                var et = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 2e3, i.paintOrder = 65, i.updateOrder = 300, i.oh = 0, i.sy = 0, i.barVisible = !1, i.resizing = !1, i.aspect = null, i.chart = e, i.scene = i.chart.scene, i.options = i.scene.settings.interaction.resizing, i.resizerBar = r.Helpers.createDom("bmch-div", "BMCH-resizer", null, i.chart.shell.interactiveContainer), i
                    }
                    return n(e, t), e.prototype.onSceneChange = function(t) {
                        this.options.enabled || this.hideUI()
                    }, e.prototype.doAnimations = function(t) {
                        t.changes.bounds && this.resizerBar && (this.resizerBar.style.width = this.scene.chartWidth + "px")
                    }, e.prototype.onPointerOut = function(t) {
                        this.options.enabled && this.hideUI()
                    }, e.prototype.onPointerMove = function(t) {
                        if (this.options.enabled) {
                            var e = this.scene.chartHeight - t.y;
                            e < this.options.visibilityDistance ? (this.barVisible || this.showUI(), e < this.options.grabDistance && (t.consumed = !0, t.cursor = "ns-resize")) : this.barVisible && this.hideUI()
                        }
                    }, e.prototype.onPointerDown = function(t) {
                        if (this.options.enabled) {
                            this.sy = t.y;
                            var e = this.scene.chartHeight - t.y;
                            this.resizing = e < this.options.grabDistance && t.y <= this.scene.chartHeight, this.resizing && (this.options.fixedAspect ? this.aspect = Math.max(1, this.chart.scene.chartWidth) / Math.max(1, this.chart.scene.chartHeight) : this.aspect = 0, this.oh = this.scene.chartHeight, this.showUI(), t.cursor = "ns-resize", t.consumed = !0)
                        }
                    }, e.prototype.onDoubleClick = function(t) {
                        this.resizing && this.chart.setFullscreen(!this.chart.isFullscreen())
                    }, e.prototype.onPointerDrag = function(t) {
                        if (this.options.enabled)
                            if (this.chart.isFullscreen()) this.chart.setFullscreen(!1), this.hideUI(), t.consumed = !0;
                            else if (this.resizing) {
                            var e = this.scene.settings.area;
                            t.consumed = !0, this.wasMaximized = !1, e.height = Math.min(e.maxHeight, Math.max(e.minHeight, this.oh + (t.y - this.sy))), this.aspect && (e.width = e.height * this.aspect), this.chart.updateSize(!0)
                        }
                    }, e.prototype.showUI = function() {
                        this.barVisible || (this.barVisible = !0, this.resizerBar.style.display = "block")
                    }, e.prototype.hideUI = function() {
                        this.barVisible && (this.barVisible = !1, this.resizing = !1, this.resizerBar.style.display = "none")
                    }, e
                }(M);
                r.Resizer = et;
                var it = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 2e3, i.paintOrder = 70, i.updateOrder = 200, i.scene = null, i.loadingTime = null, i.chart = e, i.scene = e.scene, i
                    }
                    return n(e, t), e.prototype.doAnimations = function(t) {
                        this.scene.loading && (t.animating = !0)
                    }, e.prototype.paintScene = function(t) {
                        var e = this.scene,
                            i = e.getMessage(),
                            n = e.settings.advanced.style,
                            r = n.loadingArcStyle,
                            s = e.loading && "hidden" !== r.location;
                        if (s || (this.loadingTime = null), i || s) {
                            null === this.loadingTime && (this.loadingTime = t.timeStamp);
                            var a, o, l = t.context,
                                h = "corner" === r.location,
                                u = r.r,
                                c = r.lineWidth;
                            if (h) {
                                a = e.x0 + e.width - 1.2 * (u + c), o = e.y0 + 1.2 * (u + c);
                                var d = this.chart.shell.getChartInnerArea();
                                o += d.findTopPosition(a, a)
                            } else a = e.x0 + e.width / 2, o = e.y0 + e.height / 2 + u;
                            if (i) {
                                var p = n.messageTextStyle;
                                l.textBaseline = "top", l.textAlign = "left";
                                var f = R.getTextHeight(l, p.font),
                                    g = R.getTextWidth(l, p, i),
                                    m = void 0,
                                    v = void 0,
                                    y = void 0,
                                    S = n.messageBackgroundStyle,
                                    b = S.padding || 0;
                                s && (h ? (a -= b, m = a - 1.2 * u - g, v = f > 2 * u ? 4 : o - f / 2, y = g + 2.2 * u) : (o -= f / 2, m = a - g / 2, v = o + 1.3 * f, y = g));
                                var x = R.beginStrokeAndFill(l, S);
                                x.rect(m - b, o - u - b, y + 2 * b, v - o + u + 2 * b + f), R.endStrokeAndFill(l, x, S), R.drawText(l, p, i, m, v), R.resetTextStyle(l)
                            }
                            if (s) {
                                l.save(), l.lineCap = "round", l.lineWidth = c;
                                var C = (t.timeStamp - this.loadingTime) / 700 * Math.PI,
                                    w = l.createLinearGradient(a + u * Math.cos(C + Math.PI), o + u * Math.sin(C + Math.PI), a + u * Math.cos(C), o + u * Math.sin(C));
                                w.addColorStop(0, r.lineColor), w.addColorStop(1, "transparent"), l.strokeStyle = w, l.beginPath(), l.arc(a, o, u, C, C + Math.PI), l.stroke(), R.restore(l)
                            }
                        }
                    }, e
                }(M);
                r.MessagesOverlay = it;
                var nt = "undefined" != typeof document ? document.currentScript : null,
                    rt = null,
                    st = function() {
                        if (rt) return rt;
                        if ("undefined" == typeof document) return "";
                        var e = t.PackageInfo.LibraryName;
                        "<?" === e.substr(0, 2) && (e = "everything");
                        var i = e.indexOf("-");
                        i > -1 && (e = e.substr(0, i));
                        for (var n = new RegExp("^(.*?/" + e + "(-dev|.min|).js)"), s = document.getElementsByTagName("script"), a = 0; a < s.length; a++) {
                            var o = s[a].src;
                            if (o) {
                                var l = o.match(n);
                                if (l) return rt = l[1] + "/../"
                            }
                        }
                        return nt && nt.src ? (r.Helpers.warn("Cannot locate the BoomCharts script path based on file name '" + e + ".js'. The script path was detected using `document.currentScript` which is not supported on all browsers. Please specify 'assetsUrlBase' in settings when creating the chart for full browser compatibility."), rt = nt.src.match(/^([^?#]*)/)[1] + "/../") : rt = ""
                    },
                    at = function() {
                        function t() {}
                        return t.hasPendingRequests = function() {
                            return d.hasProperties(this._imageLoading) || d.hasProperties(this.pendingHTMLAssets)
                        }, t.getAssetImage = function(t, e, i) {
                            var n = this;
                            if (this._imageCache.hasOwnProperty(t)) return this._imageCache[t];
                            if (this._imageLoading.hasOwnProperty(t)) return null;
                            if (!t) return null;
                            var r = function(e) {
                                    if (delete n._imageLoading[t], n._imageCache[t] = e, i) return i(e)
                                },
                                s = function() {
                                    var t = c.ErrorImage,
                                        i = n._imageCache[t];
                                    if (i) r(i);
                                    else if (n._imagesPendingForErrors.push(r), !n._imageLoading.hasOwnProperty(t)) {
                                        var s = function(e) {
                                            delete n._imageLoading[t], n._imageCache[t] = e;
                                            for (var i = 0; i < n._imagesPendingForErrors.length; i++) {
                                                var r = n._imagesPendingForErrors[i];
                                                r(e)
                                            }
                                            n._imagesPendingForErrors = null
                                        };
                                        d.buildImage(t, e, s, function() {
                                            d.error("Could not load '" + t + "'")
                                        }), n._imageCache.hasOwnProperty(t) || (n._imageLoading[t] = !0)
                                    }
                                };
                            return this._imageLoading[t] = !0, d.buildImage(t, e, r, s), this._imageCache.hasOwnProperty(t) ? this._imageCache[t] : null
                        }, t.loadHtmlAssets = function(t, e) {
                            for (var i = this, n = !1, r = 0; r < t.length; r++) {
                                var s = t[r];
                                this.loadedHTMLAssets[s.url] || (this.pendingHTMLAssets[s.url] ? n = !0 : this.loadHTMLAsset(s, function(t) {
                                    return i.htmlAssetLoaded(t)
                                }) && (this.pendingHTMLAssets[s.url] = !0, n = !0))
                            }
                            return !!n && (this.callbacks.push(e), !0)
                        }, t.htmlAssetLoaded = function(t) {
                            if (delete this.pendingHTMLAssets[t], this.loadedHTMLAssets[t] = !0, !d.hasProperties(this.pendingHTMLAssets)) {
                                for (var e = 0; e < this.callbacks.length; e += 1) this.callbacks[e](this.errors);
                                this.callbacks = [], this.errors = []
                            }
                        }, t.loadHTMLAsset = function(t, e) {
                            var i, n = this,
                                s = t.url,
                                a = s.toUpperCase(),
                                o = a.indexOf(".CSS"),
                                l = a.indexOf(".JS"),
                                h = !1,
                                u = null,
                                c = !1,
                                p = function() {
                                    u && window.clearInterval(u), c || (c = !0, !h && t.required && t.required() && n.errors.push("The `required` delegate did not return `false` after loading " + s), e(s))
                                },
                                f = function() {
                                    u && window.clearInterval(u), c || (c = !0, n.errors.push("Failed to load asset: " + s), e(s))
                                };
                            if (o > l) {
                                var g = document.createElement("link");
                                if (g.rel = "stylesheet", g.href = s, g.type = "text/css", !t.required) {
                                    r.Helpers.warn("Asset url " + s + " does not define the `required` delegate which prevents the detection of asset load in older browsers.");
                                    var m = 5;
                                    t.required = function() {
                                        return m-- > 0
                                    }, h = !0
                                }
                                var v = 100;
                                u = window.setInterval(function() {
                                    v-- < 0 ? f() : t.required() || p()
                                }, 100), i = g
                            } else {
                                if (!(l > -1)) return this.errors.push("Assets: Do not know how to load " + s + '. The URL should contain either ".css" or ".js" - it can be either in the path, the file name or the query string.'), !1;
                                var y = document.createElement("script");
                                y.src = s, y.type = "text/javascript", y.async = !1, i = y
                            }
                            return d.listen(i, "load", p), d.listen(i, "error", f), document.getElementsByTagName("head")[0].appendChild(i), !0
                        }, t
                    }();
                at._imageCache = {}, at._imageLoading = {}, at._imagesPendingForErrors = [], at.loadedHTMLAssets = {}, at.pendingHTMLAssets = {}, at.callbacks = [], at.errors = [];
                var ot = function() {
                    function e(t) {
                        this.chart = t, this.settings = t.settings;
                        var e = this.settings.assetsUrlBase || st();
                        e.length > 0 && "/" !== e[e.length - 1] && (e += "/"), this.assetsUrlBase = e
                    }
                    return e.prototype.getAssetUrl = function(e) {
                        return 0 === e.indexOf("builtin://") ? this.settings.advanced.builtinAssets[e.slice(10)] : 0 === e.indexOf("assets://") ? (this.assetsUrlBase || this.chart.error("Cannot locate the BoomCharts script path based on file name '" + t.PackageInfo.LibraryName + ".js'. Please specify 'assetsUrlBase' in settings when creating the chart."), this.assetsUrlBase + e.slice(9)) : e
                    }, e.prototype.hasPendingRequests = function() {
                        return at.hasPendingRequests()
                    }, e.prototype.getAssetImage = function(t, e) {
                        var i = this;
                        return at.getAssetImage(this.getAssetUrl(t), this.settings.advanced.crossOriginHeader, function(t) {
                            i.chart.events.requestPaint(), e && e(t)
                        })
                    }, e.prototype.ensureAssetsList = function(t, e) {
                        for (var i = [], n = 0; n < t.length; n++) {
                            var r = t[n];
                            d.isString(r) ? i.push({
                                url: r,
                                required: null
                            }) : r.required && !r.required() || i.push(r)
                        }
                        var s = this.loadAssetsList(i, function() {
                            e(!0)
                        });
                        s || e(!1)
                    }, e.prototype.loadAssetsList = function(t, e) {
                        for (var i = this, n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.url = this.getAssetUrl(r.url)
                        }
                        var s = function(t) {
                                for (var n = 0; n < t.length; n += 1) i.chart.error(t[n]);
                                i.chart.log("Assets loaded"), e()
                            },
                            a = at.loadHtmlAssets(t, s);
                        return a && this.chart.log("Loading assets"), a
                    }, e
                }();
                r.AssetsLoader = ot;
                var lt = function() {
                    function t(e, i, n, r, s) {
                        if (void 0 === r && (r = "<>"), void 0 === s && (s = null), this.t = 0, this.startSpeed = 0, this.duration = n, this.from = e, this.to = i, null == this.from && (this.from = this.to), this.startTime = s, this.x = this.from, this.t = this.startTime, this.formula = t.easingFormulas[r], !this.formula) throw new Error("Easing formula not defined: " + r)
                    }
                    return t.prototype.jump = function(t) {
                        this.to = t, this.from = t, this.x = t, this.t = this.startTime = null
                    }, t.prototype.reset = function(t, e, i) {
                        void 0 === i && (i = null), this.from = t, this.to = e, this.startTime = i, this.x = this.from, this.t = this.startTime
                    }, t.prototype.retarget = function(t, e) {
                        return this.finished(this.t) ? this.startSpeed = 0 : (this.startSpeed = this._getSpeed(), e || (e = this.t)), e ? (this.from = this.get(e), this.startTime = e) : (this.startTime = null, this.from = this.x), this.to = t, this
                    }, t.prototype.switchCoordinates = function(t, e) {
                        this.from = this.from * e + t, this.x = this.x * e + t, this.to = this.to * e + t, this.startSpeed = this.startSpeed * e
                    }, t.prototype.updateAndGet = function(t, e) {
                        var i = this.x !== t;
                        return t !== this.to && this.retarget(t, e), {
                            value: this.get(e),
                            changes: i
                        }
                    }, t.prototype.updateAndGetFixed = function(t, e) {
                        var i = this.x !== t;
                        return t !== this.to && (this.startSpeed = 0, this.startTime = e, this.from = this.x, this.to = t), {
                            value: this.get(e),
                            changes: i
                        }
                    }, t.prototype.getClean = function(t) {
                        return this.duration <= 0 ? this.to : this.startTime ? this._calculate(t) : this.from
                    }, t.prototype._calculate = function(t) {
                        var e = Math.min(1, Math.max(t - this.startTime, 0) / this.duration);
                        if (e >= 1) return this.to;
                        var i = this.formula(e),
                            n = i * (this.to - this.from);
                        if (this.startSpeed && e < 1) {
                            var r = this.startSpeed * e * this.duration;
                            n = n * i + r * (1 - i)
                        }
                        return n = this.from + n
                    }, t.prototype.get = function(t) {
                        if (this.duration <= 0) return this.t = t, this.x = this.to, this.to;
                        this.startTime || (this.startTime = t);
                        var e = this._calculate(t);
                        return this.t = t, this.x = e, e
                    }, t.prototype.finished = function(t) {
                        return this.startTime || (this.startTime = t), t >= this.startTime + this.duration
                    }, t.prototype._getSpeed = function() {
                        var t = this.t,
                            e = this.duration / 1e3,
                            i = this.getClean(t - e / 2),
                            n = this.getClean(t + e / 2);
                        return this.t = t, (n - i) / e
                    }, t.prototype.getFrom = function() {
                        return this.from
                    }, t.prototype.getTo = function() {
                        return this.to
                    }, t
                }();
                lt.easingFormulas = {
                    "=": function(t) {
                        return t
                    },
                    "<>": function(t) {
                        return t < .5 ? 2 * t * t : -.5 * ((2 * t - 1) * (2 * t - 3) - 1)
                    },
                    scroll: function(t) {
                        return 1 - (1 - t) * (1 - t)
                    }
                }, r.Animator = lt;
                var ht = function() {
                    function t(t, e, i, n, r) {
                        void 0 === n && (n = "<>"), void 0 === r && (r = null), this._animator = new lt(0, 1, i, n, r), this.reset(t, e, r)
                    }
                    return t.prototype.reset = function(t, e, i) {
                        return d.isString(t) || null == t ? this._fromColor = F.parse(t) : this._fromColor = t, d.isString(e) || null == e ? this._toColor = F.parse(e) : this._toColor = e, this._animator.reset(0, 1, i), this
                    }, t.prototype.getColor = function(t) {
                        var e = Math.min(1, this._animator.get(t));
                        return this._lastValue = F.blend(this._fromColor, this._toColor, e)
                    }, t.prototype.get = function(t) {
                        return F.format(this.getColor(t))
                    }, t.prototype.updateAndGet = function(t, e) {
                        (d.isString(t) || null == t) && (t = F.parse(t));
                        var i = !F.areEqual(this._lastValue, t);
                        return F.areEqual(this._toColor, t) || this.reset(this._lastValue, t, e), {
                            value: this.get(e),
                            changes: i
                        }
                    }, t.prototype.finished = function(t) {
                        return this._animator.finished(t)
                    }, t
                }();
                r.ColorAnimator = ht;
                var ut = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 0, i.paintOrder = 1e4, i.touches = {}, i.fps = 0, i.prevFrame = null, i.frameCount = 0, i.chart = e, i.settings = e.settings.advanced, i.captureTouches = i.settings.showTouches, i
                    }
                    return n(e, t), e.prototype.onSceneChange = function(t) {
                        this.captureTouches = this.settings.showTouches
                    }, e.prototype.paintScene = function(t) {
                        var e = "";
                        if (this.settings.showTimestamp && (e += Math.round(t.timeStamp)), this.settings.showFPS) {
                            if (this.frameCount += 1, this.prevFrame) {
                                var i = Math.max(t.timeStamp - this.prevFrame, 1) / 1e3,
                                    n = 1 / i,
                                    r = Math.min(1, 3 * i);
                                this.fps = this.fps * (1 - r) + n * r
                            }
                            this.prevFrame = t.timeStamp, e += "FPS:" + Math.round(this.fps)
                        }
                        var s = t.context;
                        if (this.captureTouches) {
                            var a = this.settings.showTouchTrail,
                                o = 0;
                            for (var l in this.touches) {
                                var h = this.touches[l];
                                if (this.touches.hasOwnProperty(l)) {
                                    s.beginPath(), s.moveTo(h.dx, h.dy);
                                    for (var u = 0; u < h.trace.length; u++) {
                                        var c = h.trace[u];
                                        s.lineTo(c.x, c.y)
                                    }
                                    a && h.cancelled ? (s.strokeStyle = "red", s.fillStyle = "red", s.lineWidth = 1) : a && h.up ? (s.strokeStyle = "gray", s.fillStyle = "gray", s.lineWidth = 3) : (s.strokeStyle = "rgba(180,180,180,0.4)", s.fillStyle = "rgba(180,180,180,0.3)", s.lineWidth = 3), s.moveTo(h.x + 30, h.y), s.stroke(), s.lineWidth = 1.5, s.beginPath(), s.arc(h.x, h.y, h.animator.get(t.timeStamp), 0, 2 * Math.PI), s.stroke(), s.fill(), h.up || (o += 1), h.animator.finished(t.timeStamp) || (t.animating = !0)
                                }
                            }
                            s.beginPath(), s.fillStyle = "black";
                            for (var l in this.touches)
                                if (this.touches.hasOwnProperty(l))
                                    for (var h = this.touches[l], u = 0; u < h.trace.length; u++) {
                                        var c = h.trace[u];
                                        s.rect(c.x - 1, c.y - 1, 2, 2)
                                    }
                            s.fill(), a && (e += "\ntouches:" + o)
                        }
                        if (e.length > 0) {
                            var d = this.chart.shell.getChartInnerArea(),
                                p = Math.max(30, d.findTopPosition(50, 200));
                            R.resetTextStyle(s), s.fillStyle = "#000", s.textAlign = "start", s.textBaseline = "middle", s.font = "bold 11px Arial", s.fillText(e, 50, p)
                        }
                    }, e.prototype.previewPointerDown = function(t) {
                        if (this.captureTouches) {
                            for (var e in this.touches) {
                                var i = this.touches[e];
                                this.touches.hasOwnProperty(e) && i.up && delete this.touches[e]
                            }
                            this.touches[t.identifier] = {
                                dx: t.x,
                                dy: t.y,
                                x: t.x,
                                y: t.y,
                                up: !1,
                                cancelled: !1,
                                trace: [],
                                animator: new r.Animator(10, 40, 200)
                            }, t.changes.requestPaint = !0
                        }
                    }, e.prototype.previewPointerDrag = function(t) {
                        if (this.captureTouches) {
                            var e = this.touches[t.identifier];
                            e.x = t.x, e.y = t.y, this.settings.showTouchTrail && e.trace.push({
                                x: e.x,
                                y: e.y
                            }), t.changes.requestPaint = !0
                        }
                    }, e.prototype.previewPointerUp = function(t) {
                        if (this.captureTouches) {
                            var e = this.touches[t.identifier];
                            e.up = !0, e.animator.retarget(0), this.previewPointerDrag(t), t.changes.requestPaint = !0
                        }
                    }, e.prototype.previewPointerCancel = function(t) {
                        if (this.captureTouches) {
                            var e = this.touches[t.identifier];
                            e.up = !0, e.cancelled = !0, e.animator.retarget(0), this.previewPointerDrag(t), t.changes.requestPaint = !0
                        }
                    }, e
                }(M);
                r.TouchMarkers = ut;
                var ct = "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
                    dt = function() {
                        function t() {}
                        return t.createImage = function(e, i, n, s) {
                            var a = t.getSizes(e, n),
                                o = document.createElement("canvas");
                            o.width = a.width, o.height = a.height;
                            var l = o.getContext("2d");
                            s || (l.fillStyle = "#fff", l.fillRect(0, 0, a.width, a.height)), e.exportToContext(l, o, a.scale);
                            try {
                                return o.toDataURL(i)
                            } catch (t) {
                                throw r.Helpers.error(t), new Error("Browser security prevents exporting this chart. The canvas might be tainted. See `advanced.crossOriginHeader` setting in the documentation.")
                            }
                        }, t.createPdf = function(e, i) {
                            var n, r = e.exportToImageGetDimensions(),
                                s = [10, 10, 10, 10],
                                a = e.settings.advanced.exportPdfSize,
                                o = 0,
                                l = 0,
                                h = 0,
                                u = 0,
                                c = 72,
                                d = 1,
                                p = 0,
                                f = 0;
                            r.width >= r.height ? (a = [a[1], a[0]], n = "l") : n = "p", o = a[0] / 25.4 * c, l = a[1] / 25.4 * c, d = Math.min(l / r.height, o / r.width), "l" === n ? (p = r.width * d / o * a[0] - s[1] - s[3], h = (a[0] - p - s[1] - s[3]) / 2, f = r.height / r.width * p, u = (a[1] - s[0] - s[2] - f) / 2) : (f = r.height * d / l * a[1] - s[0] - s[2], u = (a[1] - f - s[0] - s[2]) / 2, p = r.width / r.height * f, h = (a[0] - s[1] - s[3] - p) / 2);
                            var g = t.createImage(e, "image/jpeg", {
                                    scaling: 3 * d
                                }, !1),
                                m = new jsPDF(n, "mm", a);
                            return m.addImage(g, "JPEG", s[3] + h, s[0] + u, p, f), m.output("datauristring")
                        }, t.createCsv = function(e) {
                            for (var i = /[^a-zA-Z0-9\.]/, n = "data:text/csv;charset=utf-8,", r = encodeURIComponent("\r\n"), s = 0; s < e.length; s++) {
                                for (var a = e[s], o = 0; o < a.length; o++) {
                                    o > 0 && (n += t._csvSeparator);
                                    var l = a[o];
                                    if (null != l) {
                                        var h = void 0;
                                        h = l instanceof Date ? l.toISOString() : "" + l, n += i.test(h) ? '"' + encodeURIComponent(h.replace('"', '""')) + '"' : h
                                    }
                                }
                                n += r
                            }
                            return n
                        }, t.retrieveData = function(t, e) {
                            var i = t.exportVisibleData,
                                n = t.settings.advanced.dataExportFunction;
                            if (!i && !n) throw new Error("This chart type does not support data export. Provide `advanced.dataExportFunction` delegate to enable it.");
                            var r = i ? t.exportVisibleData() : null;
                            n ? n(r, e) : e(r)
                        }, t.createExcel = function(t) {
                            function e(t) {
                                return (t.getTime() + 22091616e5) / 864e5
                            }
                            for (var i = Object.create(null), n = {
                                    s: {
                                        c: 1 / 0,
                                        r: 1 / 0
                                    },
                                    e: {
                                        c: 0,
                                        r: 0
                                    }
                                }, r = 0; r < t.length; r++) {
                                n.s.r > r && (n.s.r = r), n.e.r < r && (n.e.r = r);
                                for (var s = t[r], a = 0; a < s.length; a++) {
                                    n.s.c > a && (n.s.c = a), n.e.c < a && (n.e.c = a);
                                    var o = s[a];
                                    if (null != o) {
                                        var l = {
                                            t: "s",
                                            v: o
                                        };
                                        "number" == typeof o ? (l.t = "n", Math.round(o) === o && (l.z = "0")) : "boolean" == typeof o ? l.t = "b" : o instanceof Date && (l.t = "n", l.z = XLSX.SSF._table[14], l.v = e(l.v)), i[XLSX.utils.encode_cell({
                                            c: a,
                                            r: r
                                        })] = l
                                    }
                                }
                            }
                            n.s.c < 1 / 0 && (i["!ref"] = XLSX.utils.encode_range(n));
                            var h = {
                                    SheetNames: ["export"],
                                    Sheets: {
                                        export: i
                                    }
                                },
                                u = XLSX.write(h, {
                                    bookType: "xlsx",
                                    bookSST: !0,
                                    type: "binary"
                                });
                            return "data:" + ct + ";base64," + d.base64Encode(u)
                        }, t.export = function(e, i, n, s, a) {
                            void 0 === i && (i = "png"), void 0 === n && (n = {}), void 0 === s && (s = null);
                            var o = e.shell;
                            if (!(o instanceof K)) throw new Error("Export functionality is only available on the top level chart, not within nested charts.");
                            var l = t._mimeMap[i];
                            if ("xls" === i) r.Helpers.warn("XLS format is not supported. XLSX will be used instead.");
                            else if (null == i) i = "png", l = t._mimeMap.png;
                            else if (void 0 === l) throw new Error("Export image type `" + i + "` is not supported. Supported types: " + Object.keys(t._mimeMap).join(", "));
                            if (l.transparent ? null == s && (s = !0) : s && (r.Helpers.warn("Only PNG images can be exported as transparent."), s = !1), l.csv) return void t.retrieveData(e, function(e) {
                                a(t.createCsv(e), l.mime, l.extension)
                            });
                            if (l.excel) {
                                t.retrieveData(e, function(e) {
                                    a(t.createExcel(e), l.mime, l.extension)
                                });
                            }
                            if (l.image) {
                                var h = t.createImage(o, l.mime, t.getDimensions(e, n), s);
                                return a(h, l.mime, l.extension), h
                            }
                            if (l.pdf) {
                                a(t.createPdf(o, n), l.mime, l.extension);
                            }
                            throw new Error("not implemented")
                        }, t.download = function(t, e, i, n, r) {
                            var s = this;
                            void 0 === i && (i = {}), this.export(t, e, i, n, function(e, i, n) {
                                s.launchDownload(t, i, n, e, void 0, r)
                            })
                        }, t.getSizes = function(t, e) {
                            var i = t.exportToImageGetDimensions(),
                                n = i.width,
                                r = i.height,
                                s = d.tryParseFloat(e.width),
                                a = d.tryParseFloat(e.height),
                                o = 1;
                            if ("mm" === e.unit) {
                                var l = d.tryParseFloat(e.dpi, 300) / 25.4;
                                s > 0 && (s *= l), a > 0 && (a *= l)
                            }
                            s > 0 && a > 0 ? o = Math.min(s / n, a / r) : s > 0 ? (o = s / n, a = r * o) : a > 0 ? (o = a / r, s = n * o) : (s = n, a = r);
                            var h = d.tryParseFloat(e.scaling, 1);
                            return 1 !== h && (o *= h, s *= h, a *= h), {
                                width: s,
                                height: a,
                                scale: o,
                                chartWidth: n,
                                chartHeight: r
                            }
                        }, t.getDimensions = function(t, e) {
                            var i = t.shell;
                            if (!(i instanceof K)) throw new Error("Export functionality is only available on the top level chart, not within nested charts.");
                            return this.getSizes(i, e || {})
                        }, t.dataUriToBlob = function(t, e) {
                            var i = e.indexOf(","),
                                n = i > 13 && ";base64" === e.substr(i - 7, 7);
                            e = e.substr(i + 1), e = n ? window.atob(e) : decodeURIComponent(e);
                            for (var r = new ArrayBuffer(e.length), s = new Uint8Array(r), a = 0; a < e.length; a++) s[a] = e.charCodeAt(a);
                            return new Blob([r], {
                                type: t
                            })
                        }, t.launchDownload = function(e, mimeType, fileName, data, callback, defaultFileName) {
                            var o = document.body;
                            if (defaultFileName === undefined) defaultFileName = e.settings.advanced.defaultExportFileName;
                            if (fileName.indexOf(".") === -1) fileName = defaultFileName + "." + fileName;
                            var l = document.createElement('a');
                            if(mimeType != "text/csv"){
                                var base64Data = data.split(',')[1];
                                var binaryString = window.atob(base64Data);
                                var len = binaryString.length;
                                var uint8Array = new Uint8Array(len);
                                for (var j = 0; j < len; j++) {
                                    uint8Array[j] = binaryString.charCodeAt(j);
                                }
                            }
                            var blob = new Blob([mimeType != "text/csv" ? uint8Array : data], { type: mimeType });
                            l.href = URL.createObjectURL(blob);
                            l.download = fileName;
                            o.appendChild(l);
                            l.click();
                            o.removeChild(l);
                            URL.revokeObjectURL(l.href);
                        }, t
                    }();
                dt._csvSeparator = ";", dt._mimeMap = {
                        png: {
                            mime: "image/png",
                            extension: "png",
                            image: !0,
                            transparent: !0
                        },
                        jpg: {
                            mime: "image/jpeg",
                            extension: "jpg",
                            image: !0
                        },
                        jpeg: {
                            mime: "image/jpeg",
                            extension: "jpg",
                            image: !0
                        },
                        csv: {
                            mime: "text/csv",
                            extension: "csv",
                            csv: !0
                        },
                        txt: {
                            mime: "text/csv",
                            extension: "csv",
                            csv: !0
                        },
                        xlsx: {
                            mime: ct,
                            extension: "xlsx",
                            excel: !0
                        },
                        xls: {
                            mime: ct,
                            extension: "xlsx",
                            excel: !0
                        },
                        pdf: {
                            mime: "application/pdf",
                            extension: "pdf",
                            pdf: !0
                        }
                    }, r.Export = dt,
                    function(t) {
                        var e = function() {
                            function t(t, e) {
                                this.chart = t, this.domElement = null, e instanceof gt ? this.options = e : (this.options = new gt, Gt.updateRecursive(this.options, e, Ut.BaseSettingsToolbarItem, {}))
                            }
                            return t.prototype.onSceneChange = function(t) {}, t.prototype.doAnimations = function(t) {}, t.prototype.previewPointerDown = function(t) {}, t.prototype.onDOMAdd = function() {}, t
                        }();
                        t.Item = e;
                        var i = function(t) {
                            function e(e, i, n, r) {
                                void 0 === r && (r = !0);
                                var s = t.call(this, e, i) || this;
                                return s.captureClick = r, s.onClickProxy = function(t) {
                                    return s.onClick(t)
                                }, s.createButton(n), s
                            }
                            return n(e, t), e.prototype.createButton = function(t) {
                                this.domElement = d.createDom("bmch-li", null, null, null), this.a = d.createDom("bmch-a", null, null, this.domElement), this.p = t ? this.a : d.createDom("bmch-p", null, null, this.a), d.listen(this.a, "click", this.onClickProxy), this.updateSettings()
                            }, e.prototype.updateSettings = function() {
                                var t = this.options,
                                    e = t.title || t.label || "",
                                    i = t.image;
                                this.a.title = e;
                                var n = "BMCH-bar-btn " + (t.cssClass ? t.cssClass : i ? "BMCH-bar-btn-image" : "BMCH-bar-btn-none");
                                t.enabled || (n += " BMCH-bar-disabled"), this.a.className = n;
                                var s = t.showLabel !== !1 && t.label || "";
                                r.Helpers.addStrictHtml(this.p, s, this.chart.settings.advanced.strictEscaping), this.p.style.backgroundImage = i ? 'url("' + encodeURI(i) + '")' : null
                            }, e.prototype.remove = function() {
                                d.unlisten(this.a, "click", this.onClickProxy)
                            }, e.prototype.onClick = function(t) {
                                var e = this.options;
                                e.enabled && e.onClick && (e.onClick(t, this.chart.api), this.captureClick && d.stopPropagation(t))
                            }, e
                        }(e);
                        t.Button = i;
                        var s = function(t) {
                            function e(e, i) {
                                return t.call(this, e, i) || this
                            }
                            return n(e, t), e.prototype.createButton = function() {
                                t.prototype.createButton.call(this), d.addClass(this.a, "BMCH-bar-show-more")
                            }, e.prototype.buildDropdownList = function() {
                                return []
                            }, e.prototype.onHideDropdown = function() {}, e.prototype.onClick = function(e) {
                                this.dropdown ? this.hideDropdown() : this.showDropdown(), t.prototype.onClick.call(this, e), d.stopPropagation(e)
                            }, e.prototype.showDropdown = function() {
                                var t = this.dropdown = d.createDom("bmch-div", "BMCH-bar-dropdown", null, this.domElement);
                                t.style.display = "block";
                                for (var e = d.createDom("bmch-ul", null, null, t), i = this.buildDropdownList(), n = 0; n < i.length; n++) {
                                    var s = i[n];
                                    e.appendChild(s)
                                }
                                var a = t.getBoundingClientRect(),
                                    o = 0;
                                if (a.top < 0) t.style.marginBottom = r.Helpers.trunc(a.top) + "px", t.className += " BMCH-no-triangle";
                                else {
                                    var l = Math.max(window.innerHeight - a.bottom, -a.top);
                                    l < 0 && (o = r.Helpers.trunc(l), t.style.marginTop = o + "px", t.className += " BMCH-no-triangle")
                                }
                                if (this.chart.settings.toolbar.limitDropdownHeight) {
                                    var h = 32,
                                        u = 3,
                                        c = this.chart.shell.container.clientHeight - o - h - u;
                                    t.style.maxHeight = c + "px", t.style.overflowY = "auto", t.style.overflowX = "hidden"
                                }
                            }, e.prototype.hideDropdown = function() {
                                this.onHideDropdown(), this.dropdown.parentNode.removeChild(this.dropdown), this.dropdown = null, this.chart.shell && this.chart.shell.forceChromeRedraw()
                            }, e.prototype.previewPointerDown = function(t) {
                                var e = d.isParentOf(this.domElement, t.target);
                                if (this.dropdown && !e) {
                                    var i = d.elementPos(this.chart.shell.interactiveContainer),
                                        n = i.left,
                                        r = i.top;
                                    i = d.elementPos(this.dropdown);
                                    var s = i.left,
                                        a = i.top;
                                    s -= n, a -= r;
                                    var o = s + this.dropdown.offsetWidth,
                                        l = a + this.dropdown.offsetHeight;
                                    (s > t.x || a > t.y || l < t.y || o < t.x) && this.hideDropdown()
                                }
                            }, e
                        }(i);
                        t.DropdownBase = s;
                        var a = function(e) {
                            function i(i, n) {
                                var r = e.call(this, i, n) || this;
                                r.htmlItems = [], r.clickProxy = function() {
                                    r.hideDropdown()
                                };
                                var s = n.dropDownItems;
                                r.items = new Array(s.length);
                                for (var a = 0; a < s.length; a++) r.items[a] = new t.Button(i, s[a], !0, !1);
                                return r
                            }
                            return n(i, e), i.prototype.buildDropdownList = function() {
                                this.htmlItems = new Array(this.items.length);
                                for (var t = 0; t < this.items.length; t++) {
                                    var e = this.items[t];
                                    d.listen(e.domElement, "click", this.clickProxy), this.htmlItems[t] = e.domElement
                                }
                                return this.htmlItems
                            }, i.prototype.onHideDropdown = function() {
                                if (this.htmlItems) {
                                    for (var t = 0; t < this.htmlItems.length; t++) {
                                        var e = this.htmlItems[t];
                                        e.parentNode.removeChild(e), d.unlisten(e, "click", this.clickProxy)
                                    }
                                    this.htmlItems = null
                                }
                            }, i
                        }(s);
                        t.Dropdown = a;
                        var o = function(t) {
                            function e(e, i) {
                                var n = t.call(this, e, i) || this;
                                return n._lastLabel = "", n
                            }
                            return n(e, t), e.prototype.buildDropdownList = function() {
                                for (var t = this, e = [], i = 0, n = this.getItems(); i < n.length; i++) {
                                    var r = n[i],
                                        s = d.createDom("bmch-li", null, null, null),
                                        a = d.createDom("bmch-a", null, r.name, s);
                                    r.selected && (a.className = "BMCH-bar-dropdown-active"), r.disabled ? a.className = "BMCH-bar-dropdown-disabled" : ! function(e, i) {
                                        return d.listen(e, "click", function() {
                                            return t.userSelected(i)
                                        })
                                    }(a, r), e.push(s)
                                }
                                return e
                            }, e.prototype.userSelected = function(t) {
                                this.hideDropdown(), this.setSelectedItem(t), this.onSelectionChange(t)
                            }, e.prototype.setSelectedItem = function(t) {
                                var e = t.name || "";
                                this.options.showLabel !== !1 && this._lastLabel !== e && (this._lastLabel = e, r.Helpers.addStrictHtml(this.p, e, this.chart.settings.advanced.strictEscaping), this.chart && this.chart.toolbar && this.chart.toolbar.updateOverlap())
                            }, e
                        }(s);
                        t.Combobox = o;
                        var l = function(t) {
                            function e(e, i, n) {
                                var r = t.call(this, e, i) || this;
                                return r.additionalOptions = n, r.curState = null, r.onSceneChange({}), r
                            }
                            return n(e, t), e.prototype.onSceneChange = function(t) {
                                var e = this.additionalOptions.getChartState();
                                if (e !== this.curState) {
                                    var i = this.options,
                                        n = this.additionalOptions;
                                    this.curState = e, i.cssClass = e && n.cssClassEnabled || n.cssClassDisabled, i.label = e && n.labelEnabled || n.labelDisabled, i.title = e && n.titleEnabled || n.titleDisabled, this.updateSettings()
                                }
                            }, e.prototype.onClick = function(e) {
                                this.options.enabled && (this.curState ? this.additionalOptions.onDisable() : this.additionalOptions.onEnable()), this.onSceneChange(null), t.prototype.onClick.call(this, e), d.stopPropagation(e)
                            }, e
                        }(i);
                        t.ToggleButton = l, t.ToolbarItemNames = {}
                    }(o = r.Bar || (r.Bar = {}));
                var pt = function() {
                    function t(t, e, i, n, r) {
                        void 0 === t && (t = !1), this.enabled = !1, this.direction = "horizontal", this.location = "auto", this.side = "top", this.align = "right", this.showLabels = !0, this.cssClass = null, this.items = [], this.extraItems = [], this.back = !0, this.export = !0, this.fullscreen = !1, this.exportOptions = null, this.zoomOut = !1, this.isSticky = !1, this.limitDropdownHeight = !1, this.enabled = t, void 0 !== e && (this.items = e), void 0 !== i && (this.side = i), void 0 !== n && (this.align = n), void 0 !== r && (this.showLabels = r)
                    }
                    return t
                }();
                r.SettingsToolbar = pt;
                var ft = function() {
                    function t() {
                        this.label = null, this.title = null, this.image = null, this.enabled = !0, this.onClick = null, this.cssClass = null
                    }
                    return t
                }();
                r.SettingsToolbarItemBase = ft;
                var gt = function(t) {
                    function e(e, i, n, r) {
                        var s = t.call(this) || this;
                        return s.location = void 0, s.side = void 0, s.align = void 0, s.showLabel = void 0, s.item = null, s.dropDownItems = null, void 0 !== e && (s.item = e), void 0 !== i && (s.align = i), void 0 !== n && (s.side = n), void 0 !== r && (s.location = r), s
                    }
                    return n(e, t), e
                }(ft);
                r.SettingsToolbarItem = gt;
                var mt = function(t) {
                    function e(e, i, n) {
                        void 0 === n && (n = {});
                        var r = t.call(this) || this;
                        return r.panels = {}, r.panelList = [], r.items = [], r.animationOrder = 2e3, r.initialPanelStyle = {}, r.initialPanelStyle = n, r.options = i, r.chart = e, r.scene = r.chart.scene, r.addItems(), r.chart.events.addElement(r), r.chart.events.notifySceneChanges({
                            bounds: !0
                        }), r
                    }
                    return n(e, t), e.prototype.rebuildItems = function() {
                        this.removeItems(), this.addItems()
                    }, e.prototype.addItems = function() {
                        if (this.options.enabled) {
                            for (var t = 0; t < this.options.items.length; t++) {
                                var e = this.options.items[t];
                                this.addItem(e)
                            }
                            for (var t = 0; t < this.options.extraItems.length; t++) {
                                var e = this.options.extraItems[t];
                                this.addItem(e)
                            }
                        }
                    }, e.prototype.removeItems = function() {
                        for (var t = 0; t < this.items.length; t++) {
                            var e = this.items[t];
                            e.remove()
                        }
                        for (var i = 0; i < this.panelList.length; i++) {
                            var n = this.panelList[i];
                            n.clear()
                        }
                        this.items = []
                    }, e.prototype.updateOverlap = function() {
                        this.panelList.forEach(function(t) {
                            return t.updateToolbarOverlap()
                        })
                    }, e.prototype.remove = function() {
                        this.removeItems();
                        for (var t = 0; t < this.panelList.length; t++) {
                            var e = this.panelList[t];
                            e.remove()
                        }
                        this.chart.events.removeElement(this)
                    }, e.prototype.savePanelStyle = function() {
                        var t = this,
                            e = {};
                        return Object.keys(this.panels).forEach(function(i) {
                            var n = t.panels[i],
                                s = {};
                            n.leftPanel && n.leftPanel.style && (s.leftPanel = r.Helpers.extractCSSStyle(n.leftPanel)), n.rightPanel && n.rightPanel.style && (s.rightPanel = r.Helpers.extractCSSStyle(n.rightPanel)), e[i] = s
                        }), e
                    }, e.prototype.addItem = function(t) {
                        var e = this.generateToolbarOptions(),
                            i = this.createItemOptions(e, t),
                            n = this.findOrCreatePanel(i);
                        null != i.showLabel || !n.hideLabels && e.showLabels || (i.showLabel = !1);
                        var r;
                        if (null != i.item) {
                            var s = i.item;
                            if (e[s] === !1) return;
                            if (!o.ToolbarItemNames.hasOwnProperty(s)) return void this.chart.error("Toolbar item name '" + s + "' not recognized.");
                            r = o.ToolbarItemNames[s](this.chart, i)
                        } else r = i.dropDownItems ? new o.Dropdown(this.chart, i) : new o.Button(this.chart, i);
                        n.addItem(r, i.align), this.items.push(r)
                    }, e.prototype.findOrCreatePanel = function(t) {
                        var e, i = t.location + t.side;
                        return this.panels.hasOwnProperty(i) ? e = this.panels[i] : (e = new vt(this, t.location, t.side, this.chart, this.initialPanelStyle[i]), this.panelList.push(e), this.panels[i] = e), e
                    }, e.prototype.createItemOptions = function(t, e) {
                        var i;
                        return d.isString(e) ? i = new gt(e, t.align, t.side, t.location) : (i = d.clone(e), i.side = this.convertSideIfHorizontal(i.side), i.align = i.align || t.align, i.side = i.side || t.side, i.location = i.location || t.location), i
                    }, e.prototype.generateToolbarOptions = function() {
                        var t = d.clone(this.options);
                        return t.side = this.convertSideIfHorizontal(t.side), t.location = this.determineLocationIfAuto(t), t
                    }, e.prototype.determineLocationIfAuto = function(t) {
                        return "auto" !== t.location ? t.location : this.isChartHorizontal() ? "outside" : "inside"
                    }, e.prototype.convertSideIfHorizontal = function(t) {
                        return this.isChartHorizontal() ? "top" === t ? "left" : "left" === t ? "top" : "right" === t ? "bottom" : "bottom" === t ? "right" : t : t
                    }, e.prototype.isChartHorizontal = function() {
                        var t = this.chart.settings;
                        return !!t.hasOwnProperty("horizontal") && t.horizontal
                    }, e.prototype.getPanels = function() {
                        return this.panelList
                    }, e.prototype.onSceneChange = function(t) {
                        for (var e = 0; e < this.items.length; e++) {
                            var i = this.items[e];
                            i.onSceneChange(t.changes)
                        }
                    }, e.prototype.doAnimations = function(t) {
                        for (var e = 0; e < this.items.length; e++) {
                            var i = this.items[e];
                            i.doAnimations(t)
                        }
                    }, e.prototype.previewGlobalPointerDown = function(t) {
                        for (var e = 0; e < this.items.length; e++) this.items[e].previewPointerDown(t)
                    }, e
                }(M);
                r.Toolbar = mt;
                var vt = function(t) {
                    function e(e, i, n, s, a) {
                        var o = t.call(this) || this;
                        o.hideLabels = !1, o.hasPlacedPanel = !1, o.scaleLeft = [1, 1], o.scaleRight = [1, 1], o.lastTop = null, o.lastBottom = null, o.chart = s, o.side = n, o.location = i, o.toolbar = e, o.packingOrder = "inside" === i ? 1e3 : 15, o.container = o.toolbar.chart.shell.menuContainer, o.floating = !1, o.align = "fill", o.vertical = !1;
                        var l = e.options.cssClass ? e.options.cssClass + " " : "";
                        if(e.options.direction == "vertical") o.vertical = !0;
                        let name = o.vertical ? " BMCH-bar-top BMCH-bar-vertical" : " BMCH-bar-top BMCH-bar-horizontal";
                        let g = d.createDom("bmch-button", l + "BMCH-bar-right-button" + name, null, o.container);
                        let y = d.createDom("bmch-nav", l + "BMCH-bar-right-nav" + name, null, o.container)
                        let c = d.createDom("bmch-div", l + "BMCH-bar-right-menu-icon" + name, null, o.container);
                        let w = d.createDom("bmch-div", l + "BMCH-bar-right-menu-icon-dots" + name, null, o.container);
                        for(let i=0;i<3;i++) w.appendChild(d.createDom("bmch-div", l + "BMCH-bar-right-menu-icon-dot" + name, null, o.container));
                        let z = d.createDom("bmch-div", l + "BMCH-bar-right-cancel" + name, null, o.container);
                        let x = d.createDom("bmch-div", l + "BMCH-bar-right-cancel-icon" + name, null, o.container);
                        x.innerHTML="&#10006;", z.appendChild(x), g.appendChild(z), c.appendChild(w), g.appendChild(c), g.id = "BMCH-bar-right-button", y.id = "BMCH-bar-right-nav";
                        if(g != null){
                            g.addEventListener('click', function () {
                                y.classList.toggle('active');
                                this.classList.toggle('show-cancel');
                            });
                        }
                        return o.leftPanel = d.createDom("bmch-div", l + "BMCH-bar-left" + name, null, o.container), o.rightPanel = d.createDom("bmch-div", l + "BMCH-bar-right" + name, null, o.container), o.rightPanel.button = o.rightPanel.appendChild(g), o.rightPanel.button.menu = o.rightPanel.button.appendChild(y), o.rightPanel.button.menu.list = o.rightPanel.button.menu.appendChild(d.createDom("bmch-ul", l + "BMCH-bar-right-nav-ul" + name, null, o.container)), a && a.leftPanel && r.Helpers.applyCSSStyles(o.leftPanel, a.leftPanel), a && a.rightPanel && r.Helpers.applyCSSStyles(o.rightPanel, a.rightPanel), o.leftPanel.style.visibility = "hidden", o.rightPanel.style.visibility = "hidden", o
                    }
                    return n(e, t), e.prototype.getHeightScale = function() {
                        var t = this.leftPanel ? d.extractCSSTransformScale(this.leftPanel.style.transform, 1, 1) : null,
                            e = this.rightPanel ? d.extractCSSTransformScale(this.rightPanel.style.transform, 1, 1) : null;
                        return null === t && null === e ? 1 : Math.max(t ? t[1] : 0, e ? e[1] : 0)
                    }, e.prototype.addItem = function(t, e) {
                        "right" === e || "bottom" === e ? this.rightPanel.button.menu.list.appendChild(t.domElement) : "left" === e || "top" === e ? this.rightPanel.button.menu.list.appendChild(t.domElement) : this.chart.error("Unrecognized align: '" + e + "'"), t.onDOMAdd()
                    }, e.prototype.clear = function() {
                        r.Helpers.clearHtmlChildren(this.leftPanel), r.Helpers.clearHtmlChildren(this.rightPanel)
                    }, e.prototype.isToolbarHorizontal = function() {
                        return this.isChartHorizontal() === this.vertical
                    }, e.prototype.computeSize = function(t, e, i) {
                        var n = 1,
                            r = 1,
                            s = this.recomputeScale(n, r),
                            a = s.leftPanelOffsetWidth,
                            o = s.rightPanelOffsetWidth,
                            l = s.leftPanelOffsetHeight,
                            h = s.rightPanelOffsetHeight,
                            u = s.offsets;
                        if (this.isToolbarHorizontal()) {
                            var c = this.isChartHorizontal() ? e : t,
                                d = c - this.contentWidthWithLabels - u,
                                p = this.contentWidthWithLabels > 0 && d < 0;
                            p === !0 ? this.container.className.indexOf("BMCH-menu-narrow") === -1 && (this.container.className += " BMCH-menu-narrow") : this.container.className.indexOf("BMCH-menu-narrow") > -1 && (this.container.className = this.container.className.replace(/ ?BMCH-menu-narrow/, "")), this.hideLabels = p
                        }
                        var f = Math.max(a, o),
                            g = Math.max(l, h);
                        return {
                            width: 0,
                            height: this.isChartHorizontal() ? f : g
                        }
                    }, e.prototype.recomputeScale = function(t, e) {
                        var i = this.leftPanel.offsetWidth,
                            n = this.rightPanel.offsetWidth,
                            r = this.leftPanel.offsetHeight,
                            s = this.rightPanel.offsetHeight;
                        this.scaleLeft = [1, 1], this.scaleRight = [1, 1], this.leftPanel.style.transform && (this.scaleLeft = d.extractCSSTransformScale(this.leftPanel.style.transform, t, e), i = Math.round(i * this.scaleLeft[0]), r = Math.round(r * this.scaleLeft[1])), this.rightPanel.style.transform && (this.scaleRight = d.extractCSSTransformScale(this.rightPanel.style.transform, t, e), n = Math.round(n * this.scaleRight[0]), s = Math.round(s * this.scaleRight[1]));
                        var a = 0;
                        if ("outside" === this.location) {
                            var o = d.getRelativeClientRect(this.leftPanel),
                                l = d.getRelativeClientRect(this.rightPanel);
                            this.leftPanel && o && (a += o.left), this.rightPanel && l && (a += l.right)
                        }
                        var h = this.contentWidthWithLabels;
                        if (this.isToolbarHorizontal() && !this.hideLabels) {
                            h = i + n;
                            for (var u = this.rightPanel.getElementsByTagName("bmch-li"), c = this.leftPanel.getElementsByTagName("bmch-li"), p = 0, f = 0; f < u.length; f++) u[f].parentElement === this.rightPanel && (p += u[f].offsetWidth * this.scaleRight[0]);
                            for (var f = 0; f < c.length; f++) c[f].parentElement === this.leftPanel && (p += c[f].offsetWidth * this.scaleLeft[0]);
                            h = p
                        }
                        var g = !this.hasPlacedPanel && this.hasToolbarPanelCache() ? this.retrieveToolbarPanelCache() : null;
                        this.updateToolbarPanelCache(i, n, r, s, a, h);
                        var m = a,
                            v = a,
                            y = h,
                            S = h;
                        return g && (r = g.leftPanelOffsetHeight, s = g.rightPanelOffsetHeight, m = g.hideOffsets, v = g.unhideOffsets, y = g.hideContentWidthWithLabels, S = g.unhideContentWidthWithLabels), this.contentWidthWithLabels = this.hasPlacedPanel ? S : y, a = this.hasPlacedPanel ? v : m, {
                            leftPanelOffsetWidth: i,
                            rightPanelOffsetWidth: n,
                            leftPanelOffsetHeight: r,
                            rightPanelOffsetHeight: s,
                            offsets: a
                        }
                    }, e.prototype.hasToolbarPanelCache = function() {
                        var t = this.getToolbarPanelCacheKey();
                        return null !== this.chart.toolbarPanelCache && this.chart.toolbarPanelCache.hasOwnProperty(t)
                    }, e.prototype.retrieveToolbarPanelCache = function() {
                        var t = this.getToolbarPanelCacheKey(),
                            e = this.chart.toolbarPanelCache[t],
                            i = e.leftPanelOffsetWidth,
                            n = e.rightPanelOffsetWidth,
                            r = e.leftPanelOffsetHeight,
                            s = e.rightPanelOffsetHeight,
                            a = e.hideOffsets,
                            o = e.unhideOffsets,
                            l = e.contentWidthWithLabels,
                            h = e.hideContentWidthWithLabels,
                            u = e.unhideContentWidthWithLabels;
                        return {
                            leftPanelOffsetWidth: i,
                            rightPanelOffsetWidth: n,
                            leftPanelOffsetHeight: r,
                            rightPanelOffsetHeight: s,
                            hideOffsets: a,
                            unhideOffsets: o,
                            contentWidthWithLabels: l,
                            hideContentWidthWithLabels: h,
                            unhideContentWidthWithLabels: u
                        }
                    }, e.prototype.updateToolbarPanelCache = function(t, e, i, n, r, s) {
                        null === this.chart.toolbarPanelCache && (this.chart.toolbarPanelCache = {});
                        var a = this.getToolbarPanelCacheKey();
                        this.chart.toolbarPanelCache.hasOwnProperty(a) || (this.chart.toolbarPanelCache[a] = {});
                        var o = this.chart.toolbarPanelCache[a];
                        o.leftPanelOffsetWidth = t, o.rightPanelOffsetWidth = e, o.leftPanelOffsetHeight = i, o.rightPanelOffsetHeight = n, o.hideOffsets = this.hasPlacedPanel ? r : o.hideOffsets, o.unhideOffsets = this.hasPlacedPanel ? o.unhideOffsets : r, o.contentWidthWithLabels = s, o.hideContentWidthWithLabels = this.hasPlacedPanel ? s : o.hideContentWidthWithLabels, o.unhideContentWidthWithLabels = this.hasPlacedPanel ? o.unhideContentWidthWithLabels : s
                    }, e.prototype.getToolbarPanelCacheKey = function() {
                        return this.vertical ? "v" : "h"
                    }, e.prototype.isChartHorizontal = function() {
                        return this.toolbar.isChartHorizontal()
                    }, e.prototype.placePanel = function(t, e, i, n) {
                        var r = this.leftPanel,
                            s = this.rightPanel,
                            a = r.style,
                            o = s.style,
                            l = this.toolbar.scene,
                            h = l.chartHeight,
                            u = l.chartWidth,
                            c = a,
                            d = o;
                        if (this.vertical) this.setPanelStyleTop(c, d, e), this.setPanelStyleBottom(d, c, h - n), "left" === this.side ? (this.setPanelStyleLeft(c, d, t), this.setPanelStyleLeft(d, c, t)) : (this.setPanelStyleRight(c, d, u - i), this.setPanelStyleRight(d, c, u - i));
                        else {
                            this.setPanelStyleLeft(c, d, t), this.setPanelStyleRight(d, c, u - i);
                            var p = "top" === this.side;
                            p ? (this.setPanelStyleTop(c, d, e), this.setPanelStyleTop(d, c, e)) : (this.setPanelStyleBottom(c, d, h - n), this.setPanelStyleBottom(d, c, h - n))
                        }
                        this.preventToolbarOverlap(e, n), d.textAlign = "right", r.offsetWidth > 0 && (a.visibility = ""), s.offsetWidth > 0 && (o.visibility = ""), this.hasPlacedPanel = !0
                    }, e.prototype.updateToolbarOverlap = function() {
                        null !== this.lastTop && null !== this.lastBottom && this.preventToolbarOverlap(this.lastTop, this.lastBottom)
                    }, e.prototype.preventToolbarOverlap = function(t, e) {
                        if (this.isToolbarHorizontal()) {
                            this.lastTop = t, this.lastBottom = e;
                            var i = this.isChartHorizontal(),
                                n = this.side === (i ? "left" : "top"),
                                r = this.leftPanel,
                                s = this.rightPanel,
                                a = s.style,
                                o = this.toolbar.scene,
                                l = o.chartHeight,
                                h = o.chartWidth;
                            if (i) {
                                var u = h;
                                h = l, l = u
                            }
                            var c = [].slice.call(r.children).reduce(function(t, e) {
                                    return t + e.offsetWidth
                                }, 0) + 2,
                                d = s.style.right ? parseInt(s.style.right.slice(0, -2)) : 0,
                                p = r.style.left ? parseInt(r.style.left.slice(0, -2)) : 0,
                                f = p + c + d,
                                g = 25 * (1 - this.scaleRight[0]),
                                m = [].slice.call(s.children),
                                v = m.reduce(function(t, e) {
                                    return t + e.offsetWidth
                                }, 0) + 2,
                                y = m.reduce(function(t, e) {
                                    return Math.max(t, e.offsetWidth)
                                }, 0),
                                S = h / this.scaleRight[0],
                                b = v,
                                x = f + g,
                                C = b - Math.max(b + x - S, 0),
                                w = Math.max(C, y);
                            a.marginLeft = x + "px", a.width = w + "px", C < w && (n ? a.top = t + r.offsetHeight * this.scaleLeft[1] + "px" : a.bottom = l - e + r.offsetHeight * this.scaleLeft[1] + "px")
                        }
                    }, e.prototype.setPanelStyleLeft = function(t, e, i) {
                        this.setPanelStyleSide(t, e, i, !0, !0)
                    }, e.prototype.setPanelStyleRight = function(t, e, i) {
                        this.setPanelStyleSide(t, e, i, !0, !1)
                    }, e.prototype.setPanelStyleTop = function(t, e, i) {
                        this.setPanelStyleSide(t, e, i, !1, !0)
                    }, e.prototype.setPanelStyleBottom = function(t, e, i) {
                        this.setPanelStyleSide(t, e, i, !1, !1)
                    }, e.prototype.setPanelStyleSide = function(t, e, i, n, r) {
                        var s = this.isChartHorizontal();
                        s ? n ? r ? t.top = i + "px" : t.bottom = i + "px" : r ? e.right = i + "px" : e.left = i + "px" : n ? r ? t.left = i + "px" : t.right = i + "px" : r ? t.top = i + "px" : t.bottom = i + "px"
                    }, e.prototype.remove = function() {
                        this.leftPanel && this.leftPanel.parentElement === this.container && this.container.removeChild(this.leftPanel), this.rightPanel && this.rightPanel.parentElement === this.container && this.container.removeChild(this.rightPanel)
                    }, e
                }(P);
                r.ToolbarPanel = vt,
                    function(t) {
                        var e = function(t) {
                            function e(e, i) {
                                var n, r = e.settings.localization.toolbar;
                                if (!i.dropDownItems) {
                                    var s = e.settings.toolbar.exportOptions,
                                        a = [];
                                    (!s || s.indexOf("jpg") > -1) && a.push({
                                        label: r.exportJpeg,
                                        onClick: function() {
                                            return dt.download(e, "jpg", {
                                                scaling: 2
                                            })
                                        }
                                    }), (!s || s.indexOf("png") > -1) && a.push({
                                        label: r.exportPNG,
                                        onClick: function() {
                                            return dt.download(e, "png", {
                                                scaling: 3
                                            })
                                        }
                                    }), (!s || s.indexOf("pdf") > -1) && a.push({
                                        label: r.exportPDF,
                                        onClick: function() {
                                            return dt.download(e, "pdf")
                                        }
                                    }), (e.exportVisibleData || e.settings.advanced.dataExportFunction) && ((!s || s.indexOf("csv") > -1) && a.push({
                                        label: r.exportCSV,
                                        onClick: function() {
                                            return dt.download(e, "csv")
                                        }
                                    }), (!s || s.indexOf("xlsx") > -1) && a.push({
                                        label: r.exportXLS,
                                        onClick: function() {
                                            return dt.download(e, "xlsx")
                                        }
                                    })), i.dropDownItems = a
                                }
                                return i.title = i.title || r.exportTitle, i.label = i.label || r.exportButton, i.cssClass = i.cssClass || "BMCH-bar-btn-export", n = t.call(this, e, i) || this
                            }
                            return n(e, t), e
                        }(t.Dropdown);
                        t.ExportDropdown = e, r.Bar.ToolbarItemNames.export = function(t, e) {
                            return new r.Bar.ExportDropdown(t, e)
                        }
                    }(o = r.Bar || (r.Bar = {}));
                var yt = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 2e3, i.paintOrder = 65, i.updateOrder = 0, i.chart = e, i
                    }
                    return n(e, t), e.prototype.onKeyDown = function(t) {
                        this.chart.isFullscreen() && 27 === t.keyCode ? (this.chart.setFullscreen(!1), t.consumed = !0) : 8 === t.keyCode && this.chart.back(!0, "user") && (t.consumed = !0)
                    }, e
                }(M);
                r.KeyShortcuts = yt;
                var Ct = function() {
                        function t(t, e, i) {
                            var n = this;
                            this.api = null, this.scene = null, this.settings = null, this.shell = null, this.events = null, this.removed = !0, this.assetsLoaded = !1, this.toolbar = null, this.toolbarPanelCache = null, this.data = {}, this.navigator = null, this.curState = null, this.goingBack = !1, this.chartUpdateOrigin = null, this.chartUpdateTimeout = null, this.scene = e, this.settings = t, this.api = i, i._impl = this, this.scene.settings = t, this.scene.assetsLoader = this.assetsLoader = new ot(this), this.data = {}, this.settings.parentChart ? (this.shell = new $(this, this.settings.parentChart._impl.shell), this.events = this.shell.events) : (this.shell = new K(this, this.createDomLayer()), this.events = this.shell.events, this.events.addElement(new ut(this)), this.events.addElement(new et(this)), this.events.addElement(new O(this, this.settings.credits))), /*window.setTimeout(function() {
                                return Mt.execute(n, !n.settings.parentChart)
                            }, 500),*/ this.removed = !1, this.EVENT_NAMES = {};
                            var r;
                            for (r in t.events)
                                if (0 === r.indexOf("on")) {
                                    var s = r.charAt(2).toLowerCase() + r.slice(3);
                                    this.EVENT_NAMES[r] = s, this.EVENT_NAMES[s] = s
                                } this.eventListeners = {}, this.assetsLoaded = !1, this.assetsLoader.ensureAssetsList(this.settings.advanced.assets, function() {
                                return n.notifyAssetsLoaded()
                            }), this.clearData(), this.events.addElement(new yt(this)), this.title = this.events.addElement(new B(this)), this.events.addElement(new it(this))
                        }
                        return t.prototype.createDomLayer = function() {
                            return new r.DomLayer(this)
                        }, t.prototype.updateFilters = function(t) {
                            this.events.notifySceneChanges({
                                filters: !0
                            })
                        }, t.prototype.updateStyle = function(t) {
                            this.events.notifySceneChanges({
                                style: !0
                            })
                        }, t.prototype.defaultDoubleClick = function(t, e) {}, t.prototype.defaultTripleClick = function(t, e) {}, t.prototype.defaultClick = function(t, e) {}, t.prototype.defaultRightClick = function(t, e) {}, t.prototype.defaultLongPress = function(t, e) {}, t.prototype.finalInitialize = function() {
                            var t = {
                                settings: !0,
                                settingsChanges: this.scene.settings,
                                data: {}
                            };
                            this.processChangedSettings(t), this.events.notifySceneChanges(t), this.updateSize(), this.updateEvents(null, this.settings.events)
                        }, t.prototype.getRootChart = function() {
                            var t = this.settings.parentChart;
                            return t ? t._impl.getRootChart() : this
                        }, t.prototype.processChangedSettings = function(t) {}, t.prototype.updateSettings = function(t, e) {
                            var i = this;
                            if (void 0 === e && (e = null), !this.removed) {
                                var n = d.clone(this.settings.events),
                                    r = this.settings.apply(t),
                                    s = {
                                        settings: !0,
                                        settingsChanges: r
                                    };
                                this.processChangedSettings(s), r.events && this.updateEvents(n, this.settings.events), r.advanced && r.advanced.assets && r.advanced.assets.length > 0 && (this.assetsLoaded = !1, this.assetsLoader.ensureAssetsList(this.settings.advanced.assets, function() {
                                    return i.notifyAssetsLoaded()
                                })), r.data && this.dataSettingsChanged(r.data), this.shell.updateSettings(r), this.onSettingsChanged(r), r.toolbar && this.assetsLoaded && this.createToolbar(), this.events.notifySceneChanges(s);
                                var a = r.area;
                                if (a && (a.width || a.height || a.maxWidth || a.minWidth || a.minHeight || a.maxHeight) && this.updateSize(!0), e) {
                                    var o = this.createEventArguments(null, e);
                                    o.changes = r, this.notifySettingsChanged(o)
                                }
                            }
                        }, t.prototype.getData = function(t) {
                            if (this.data[t]) return this.data[t];
                            var e = this.settings._computedDataMap[t];
                            if (e) {
                                var i = this.createDataObj(e);
                                return i.applyPreloadedData(), this.data[t] = i, i
                            }
                            throw new Error("No data configured for source ID " + t)
                        }, t.prototype.addData = function(t, e) {
                            this.removed || this.getData(e).addData(t)
                        }, t.prototype.reloadData = function(t, e) {
                            if (void 0 === t && (t = null), void 0 === e && (e = !1), !this.removed) {
                                this.log("Reload data"), t ? this.data[t] && (this.data[t].remove(), delete this.data[t]) : this.clearData(), this.scene.mainDataEnabled && (this.scene.mainData = this.getData(this.settings.data[0].id));
                                var i = {};
                                for (var n in this.settings._computedDataMap) i[n] = !0;
                                this.events.notifySceneChanges({
                                    data: i,
                                    dataDeep: e
                                }), this.navigator && this.navigator.onNewDataObject()
                            }
                        }, t.prototype.replaceData = function(t, e) {
                            if (void 0 === e && (e = "default"), null == e && (e = "default"), !this.removed) {
                                this.events.clearSceneChanges({
                                    dataArrived: null
                                }), this.data[e] && this.data[e].remove();
                                var i = this.data[e] = this.createDataObj(this.settings._computedDataMap[e]);
                                i.addData(t), this.scene.mainDataEnabled && (this.scene.mainData = this.getData(this.settings.data[0].id));
                                var n = {};
                                n[e] = !0, this.events.notifySceneChanges({
                                    data: n
                                }), this.navigator && this.navigator.onNewDataObject()
                            }
                        }, t.prototype.clearData = function(t) {
                            void 0 === t && (t = !1);
                            for (var e in this.data) {
                                var i = this.data[e];
                                i.remove()
                            }
                            this.events.clearSceneChanges({
                                dataArrived: null
                            }), this.data = {}, this.scene.mainData = null, !t && this.scene.mainDataEnabled && (this.scene.mainData = this.getData(this.settings.data[0].id))
                        }, t.prototype.dataSettingsChanged = function(t) {
                            for (var e in this.data) !t[e] && this.settings._computedDataMap[e] || (this.data[e].remove(), delete this.data[e]);
                            this.events.clearSceneChanges({
                                dataArrived: null
                            }), this.events.notifySceneChanges({
                                data: t,
                                dataDeep: !0
                            }), this.scene.mainDataEnabled && (this.scene.mainData = this.getData(this.settings.data[0].id)), this.navigator && this.navigator.onNewDataObject()
                        }, t.prototype.hasPendingRequests = function() {
                            if (!this.assetsLoaded) return !0;
                            if (this.assetsLoader.hasPendingRequests()) return !0;
                            for (var t in this.data)
                                if (this.data[t].hasPendingRequests()) return !0;
                            return !1
                        }, t.prototype.remove = function() {
                            return this.removed ? void r.Helpers.warn("Removing already removed chart") : (this.cancelChartUpdateNotify(), this.removed = !0, this.toolbar && this.toolbar.remove(), this.shell.remove(), this.clearData(!0), this.shell = null, this.scene = null, void(this.events = null))
                        }, t.prototype.setFullscreen = function(t) {
                            this.shell.setFullscreen(t)
                        }, t.prototype.isFullscreen = function() {
                            return this.shell.fullScreenMode
                        }, t.prototype.updateSize = function(t) {
                            void 0 === t && (t = !1), this.removed || this.shell.updateSize(t)
                        }, t.prototype.on = function(t, e) {
                            var i = this.EVENT_NAMES[t];
                            return i ? (this.eventListeners[i] || (this.eventListeners[i] = []), void this.eventListeners[i].push(e)) : void this.error("Unrecognized event name: " + t)
                        }, t.prototype.off = function(t, e) {
                            var i = this.EVENT_NAMES[t];
                            return i ? this.eventListeners[i] ? d.removeFromArray(this.eventListeners[i], e) : void 0 : void this.error("Unrecognized event name: " + t)
                        }, t.prototype.updateEvents = function(t, e) {
                            var i = t,
                                n = e;
                            for (var r in this.EVENT_NAMES) {
                                var s = this.EVENT_NAMES[r];
                                t && i[r] && this.off(s, i[r]), n[r] && this.on(s, n[r])
                            }
                        }, t.prototype.notifyHoverChanged = function(t, e) {
                            this.dispatchEvent("hoverChange", t, e, null)
                        }, t.prototype.notifyDoubleClick = function(t, e) {
                            var i = this;
                            this.dispatchEvent("doubleClick", t, e, function(t, e) {
                                return i.defaultDoubleClick(t, e)
                            })
                        }, t.prototype.notifyTripleClick = function(t, e) {
                            var i = this;
                            this.dispatchEvent("tripleClick", t, e, function(t, e) {
                                return i.defaultTripleClick(t, e)
                            })
                        }, t.prototype.notifyRightClick = function(t, e) {
                            var i = this;
                            this.dispatchEvent("rightClick", t, e, function(t, e) {
                                return i.defaultRightClick(t, e)
                            })
                        }, t.prototype.notifyLongPress = function(t, e) {
                            var i = this;
                            this.dispatchEvent("longPress", t, e, function(t, e) {
                                return i.defaultLongPress(t, e)
                            })
                        }, t.prototype.notifyClick = function(t, e) {
                            var i = this;
                            this.dispatchEvent("click", t, e, function(t, e) {
                                return i.defaultClick(t, e)
                            })
                        }, t.prototype.notifySelectionChanged = function(t) {
                            return this.dispatchEventParams("selectionChange", t, null)
                        }, t.prototype.notifySettingsChanged = function(t) {
                            return this.dispatchEventParams("settingsChange", t, null)
                        }, t.prototype.notifyPositionChange = function(t) {
                            return this.dispatchEventParams("positionChange", t, null)
                        }, t.prototype.notifyPointerDown = function(t, e) {
                            this.dispatchEvent("pointerDown", t, e, null)
                        }, t.prototype.notifyPointerUp = function(t, e) {
                            this.dispatchEvent("pointerUp", t, e, null)
                        }, t.prototype.notifyPointerDrag = function(t, e) {
                            this.dispatchEvent("pointerDrag", t, e, null)
                        }, t.prototype.notifyPointerMove = function(t, e) {
                            this.dispatchEvent("pointerMove", t, e, null)
                        }, t.prototype.notifyDataUpdated = function(t) {
                            return this.dispatchEventParams("dataUpdated", t, null)
                        }, t.prototype.notifyLassoUpdated = function(t) {
                            return this.dispatchEventParams("lassoChange", t, null)
                        }, t.prototype.notifyChartUpdate = function(t, e, i) {
                            var n = this;
                            void 0 === e && (e = !1), void 0 === i && (i = !0);
                            var r = d.performanceNow();
                            e && (this.chartUpdateForce = !0), t && (this.chartUpdateWasBack = this.goingBack, ("data" !== this.chartUpdateOrigin || i) && (this.chartUpdateOrigin = t), this.chartUpdateTime = r), this.chartUpdateState = this.saveNavigation(), null === this.chartUpdateTimeout && (this.chartUpdateTimeout = setTimeout(function() {
                                return n.chartUpdateNotify()
                            }, this.chartUpdateTime + this.scene.settings.events.chartUpdateDelay - r))
                        }, t.prototype.cancelChartUpdateNotify = function() {
                            this.chartUpdateOrigin = null, this.chartUpdateTimeout && (clearTimeout(this.chartUpdateTimeout), this.chartUpdateTimeout = null)
                        }, t.prototype.chartUpdateNotify = function() {
                            this.chartUpdateTimeout = null;
                            var t = this.chartUpdateOrigin;
                            if (t) {
                                "init" === t && (this.chartUpdateState = this.saveNavigation());
                                var e = this.chartUpdateState;
                                !e || this.curState && JSON.stringify(e) === JSON.stringify(this.curState) ? this.chartUpdateForce && (this.chartUpdateForce = !1, this.chartUpdateOrigin = null,
                                    this.chartUpdateState = null, this.doChartUpdateNotify(t)) : (this.chartUpdateForce = !1, !this.chartUpdateWasBack && this.curState && (this.scene.pushBack(this.curState), this.events.notifySceneChanges({
                                    requestPaint: !0
                                })), this.curState = e, this.chartUpdateOrigin = null, this.chartUpdateState = null, this.doChartUpdateNotify(t))
                            }
                        }, t.prototype.doChartUpdateNotify = function(t) {
                            var e = this.createEventArguments(null, t);
                            this.dispatchEventParams("chartUpdate", e, null)
                        }, t.prototype.back = function(t, e) {
                            if (void 0 === t && (t = !0), void 0 === e && (e = "api"), 0 === this.scene.backStack.length) return !1;
                            var i = this.scene.backStack.pop();
                            return this.goingBack = !0, this.restoreNavigation(i, t, e), this.goingBack = !1, !0
                        }, t.prototype.backPossible = function() {
                            return 0 !== this.scene.backStack.length
                        }, t.prototype.goHome = function(t, e) {
                            if (void 0 === t && (t = !0), void 0 === e && (e = "api"), 0 === this.scene.backStack.length) return !1;
                            var i = this.scene.backStack[0];
                            return this.restoreNavigation(i, t, e), !0
                        }, t.prototype.clearHistory = function() {
                            return this.scene.backStack = [], !0
                        }, t.prototype.dispatchEventParams = function(t, e, i) {
                            var n = new x(0, 0, d.performanceNow(), "api");
                            return i || this.eventListeners[t] && this.eventListeners[t].length ? (this.dispatchEvent(t, n, e, i), n) : n
                        }, t.prototype.dispatchEvent = function(t, e, i, n) {
                            if (n || this.eventListeners[t] && this.eventListeners[t].length > 0) {
                                for (var r = Object.keys(i), s = 0; s < r.length; s++) e[r[s]] = i[r[s]];
                                if (this.eventListeners[t])
                                    for (var a = 0; a < this.eventListeners[t].length; a++) {
                                        var o = this.eventListeners[t][a];
                                        this.log("Call user event handler, " + t, e, i), o.call(this.api, e, i)
                                    }!e.defaultPrevented && n && (this.log("Call default event handler, " + t), n.call(this.api, e, i))
                            }
                        }, t.prototype.error = function(t, e) {
                            var i = this;
                            void 0 === e && (e = null);
                            var n = this.createEventArguments(null, "api");
                            n.message = t, n.arg = e, this.dispatchEventParams("error", n, function(t, e) {
                                return i.defaultError(t, e)
                            })
                        }, t.prototype.log = function(t) {
                            for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
                            this.settings.advanced.logging && d.log(t, e)
                        }, t.prototype.deprecated = function(t, e) {
                            var i = "Deprecated: " + t + ".";
                            e && (i += " Use " + e + " instead"), r.Helpers.warn(i)
                        }, t.prototype.defaultError = function(t, e) {
                            e.arg ? d.error(e.message, e.arg) : d.error(e.message)
                        }, t.prototype.createToolbar = function() {
                            var t = {};
                            this.toolbar && (t = this.toolbar.savePanelStyle(), this.toolbar.remove()), this.assetsLoaded && (this.toolbar = new mt(this, this.settings.toolbar, t))
                        }, t.prototype.isHorizontal = function() {
                            if (!this.settings) return !1;
                            var t = this.settings;
                            return !!t.hasOwnProperty("horizontal") && t.horizontal
                        }, t.prototype.notifyAssetsLoaded = function() {
                            this.removed || (this.assetsLoaded = !0, null === this.toolbar && this.createToolbar(), this.updateSize(!0), this.events.notifySceneChanges({
                                assets: !0,
                                style: !0
                            }))
                        }, t
                    }();
                r.Impl = Ct;
                var wt;
                ! function(t) {
                    t[t.FacetChart = 1] = "FacetChart", t[t.GeoChart = 2] = "GeoChart", t[t.NetChart = 4] = "NetChart", t[t.PieChart = 8] = "PieChart", t[t.TimeChart = 16] = "TimeChart"
                }(wt || (wt = {}));
                /*var Lt = !1,
                    Tt = {},
                    Mt = function() {
                        function e() {}
                        return e.checkChartType = function(t, e) {
                            var i = e.lastIndexOf("-", e.indexOf(":"));
                            if (i === -1 || i === e.indexOf("-")) return !0;
                            var n, r = 0;
                            for (i++;
                                (n = e.charCodeAt(i)) > 47 && n < 58;) r = 10 * r + n - 48, i++;
                            var s = wt[t];
                            return s > 0 && (r & s) === s
                        }, e.execute = function(e, i) {
                            var n = this,
                                s = window.BoomChartsLicense,
                                a = window.BoomChartsLicenseKey,
                                o = e.api.typeName,
                                l = s + d.SeparatorChar + o,
                                h = Tt[l];
                            if (h) return void(h.result ? this.handleServerResponse([e], h.result) : h.charts.push(e));
                            Tt[l] = h = {
                                charts: [e],
                                result: null
                            };
                            var u = "BoomCharts " + t.PackageInfo.Version,
                                c = !s || !a;
                            c ? (d.error(u + " license key was not found on the page. Please make sure BoomChartsLicense and BoomChartsLicenseKey variables are correctly set before initializing the chart."), s = "---:") : bt.verifySignature(s, a) ? Lt || (d.log(u + " license verified: " + s), Lt = !0) : d.error(u + (" license key for license '" + s + "' is invalid. Please configure the correct key in order to use the charts."));
                            var p = ". Please upgrade your license on https://boomcharts.com",
                                f = s.charAt(2);
                            if (!this.checkChartType(o, s) && (d.error("BoomCharts license used on this page does not allow use of " + o + p), f = "-", !i)) return void this.displayBanner(e, "builtin://logo-license-expired");
                            var g = /(\d\d\d\d-\d\d-\d\d)$/,
                                m = "builtin://logo-license-expired",
                                v = m;
                            switch (f) {
                                case "F":
                                case "O":
                                    var y = s.match(g),
                                        S = t.PackageInfo.Built,
                                        b = s.substring(0, s.indexOf(":")),
                                        x = ["ZCF-f7zr14ipl-25", "ZCF-6sag05711-16", "ZCF-981cwt0sy-8", "ZCF-x33yuxzf8-1", "ZCF-8r2n87ra8-8", "ZCF-1flw35m2i-16"];
                                    return x.indexOf(b) >= 0 ? void(m = null) : void(y && y[1] < S ? (h.result = {
                                        status: 2,
                                        bannerImage: m,
                                        consoleMessages: [{
                                            level: "error",
                                            text: "BoomCharts license is not valid for this library version which was released on " + S + p
                                        }]
                                    }, this.handleServerResponse(h.charts, h.result)) : (h.result = {
                                        status: 1
                                    }, h.charts = []));
                                case "B":
                                    var C = s.match(g),
                                        w = "https://boomcharts.com/en/renew-licence/";
                                    return void(C && C[1] < (new Date).toISOString() ? (h.result = {
                                        status: 2,
                                        bannerImage: "builtin://logo-license-expired",
                                        consoleMessages: [{
                                            level: "error",
                                            text: "BoomCharts license has expired on " + C[1] + ". Please renew the license at " + w
                                        }],
                                        bannerTarget: w
                                    }, this.handleServerResponse(h.charts, h.result)) : (h.result = {
                                        status: 1
                                    }, h.charts = []));
                                case "-":
                                case "S":
                                    m = "builtin://logo-development";
                                    break;
                                case "X":
                                    m = "builtin://logo-supported-by";
                                    break;
                                default:
                                case "P":
                                    m = null
                            }
                            var L = JSON.stringify({
                                    protocol: 1,
                                    version: t.PackageInfo.Version,
                                    revision: t.PackageInfo.Revision,
                                    libraryName: t.PackageInfo.LibraryName,
                                    assetsDomain: this.parseUriDomain(e.assetsLoader.getAssetUrl("assets://")),
                                    pageDomain: location.hostname,
                                    chartType: o,
                                    license: s.substring(0, s.indexOf(":")),
                                    licenseKeyHash: c ? "" : bt.hash(a)
                                }, null, " "),
                                T = window[e.settings.advanced.dataRequestClass];
                            r.Helpers.doPostRequest(T, e.assetsLoader.getAssetUrl("https://api.boomcharts-cloud.com/lc/v1/"), 3e4, L, function(t) {
                                try {
                                    var i = JSON.parse(t);
                                    if (1 !== i.protocol) throw "Server response contains invalid protocol.";
                                    var r = Tt[l];
                                    r.result = i, n.handleServerResponse(r.charts, r.result)
                                } catch (t) {
                                    n.handleServerError(e, "Unable to parse licensing server response: " + t), m && n.displayBanner(e, m), delete Tt[l]
                                }
                            }, function(t) {
                                t = t || "", delete Tt[l], n.handleServerError(e, "Unable to contact licensing server: " + t), (2153644038 === t.result || t instanceof DOMException && t.code === DOMException.SECURITY_ERR || "SecurityError" === t.name) && (m = v), m && n.displayBanner(e, m)
                            })
                        }, e.displayBanner = function(t, e, i) {
                            if (!t.removed) {
                                var n = new N;
                                i && (n.url = i), n.imageScaling = .5, n.image = e, n.enabled = !0, n.enabledOnExport = !0, n.location = "inside", t.events.addElement(new O(t, n)), t.events.notifySceneChanges({
                                    settings: !0,
                                    settingsChanges: {
                                        credits: {
                                            enabled: n.enabled
                                        }
                                    }
                                })
                            }
                        }, e.handleServerError = function(t, e) {
                            t.error(e)
                        }, e.handleServerResponse = function(t, e) {
                            if (null !== e) {
                                if (e.consoleMessages)
                                    for (var i = 0; i < e.consoleMessages.length; i++) {
                                        var n = e.consoleMessages[i];
                                        switch (n.level) {
                                            case "error":
                                                d.error(n.text);
                                                break;
                                            case "warn":
                                                d.warn(n.text);
                                                break;
                                            default:
                                            case "info":
                                                d.log(n.text)
                                        }
                                    }
                                for (var i = 0; i < t.length; i++) {
                                    var r = t[i];
                                    if (!r.removed)
                                        if (1 === e.status);
                                        else if (2 === e.status) this.displayBanner(r, e.bannerImage, e.bannerTarget);
                                    else {
                                        if (3 !== e.status) {
                                            d.warn("Licensing server returned unknown status code " + e.status);
                                            break
                                        }
                                        this.blockChart(r, e)
                                    }
                                }
                                t.length = 0
                            }
                        }, e.parseUriDomain = function(t) {
                            var e = document.createElement("a");
                            return e.href = t, e.hostname || (e.href = e.href), e.hostname
                        }, e.blockChart = function(t, e) {
                            var i = t.settings.container;
                            t.remove();
                            var n = document.createElement("a");
                            n.href = e.bannerTarget;
                            var r = document.createElement("img");
                            r.src = e.bannerImage, r.title = "Problem with the license", n.appendChild(r);
                            var s = document.createElement("strong");
                            s.appendChild(document.createTextNode("Unable to use BoomCharts library because of a licensing issue:"));
                            var a = document.createElement("br");
                            i.appendChild(s), i.appendChild(a), i.appendChild(n)
                        }, e
                    }(),*/
                    var kt = function() {
                        function t(t, e) {
                            this.msg = t, this.pri = e
                        }
                        return t
                    }(),
                    Pt = function() {
                        function t() {
                            this.settings = null, this.assetsLoader = null, this.mainData = null, this.mainDataEnabled = !0, this.chartLeft = 0, this.chartTop = 0, this.chartWidth = 1, this.chartHeight = 1, this.x0 = 0, this.y0 = 0, this.height = 0, this.width = 0, this.leftMargin = 0, this.rightMargin = 0, this.topMargin = 0, this.bottomMargin = 0, this.loading = !0, this.messages = {}, this.backStack = []
                        }
                        return t.prototype.setMessage = function(t, e, i) {
                            void 0 === i && (i = 0);
                            var n;
                            return e ? (n = !this.messages[t] || this.messages[t].msg !== e || this.messages[t].pri !== i, this.messages[t] = new kt(e, i)) : (n = this.messages.hasOwnProperty(t), delete this.messages[t]), n
                        }, t.prototype.getMessage = function() {
                            var t = null,
                                e = 0;
                            for (var i in this.messages) {
                                var n = this.messages[i];
                                n.pri > e && (t = n.msg, e = n.pri)
                            }
                            return t
                        }, t.prototype.pushBack = function(t) {
                            this.backStack.push(t), this.backStack.length > 1e3 && (this.backStack = this.backStack.slice(200))
                        }, /*t.prototype.prepareRotationMatrix = function(t) {},*/ t
                    }();
                r.Scene = Pt;
                var At = function() {
                    function t() {
                        this.enabled = !0, this.enabledOnExport = !1, this.size = 28, this.hoverSize = 42, this.hoverSizeActiveAnimationTime = .1, this.hoverSizeInactiveAnimationTime = .2, this.style = {
                            fillColor: "rgba(255,255,255,0.5)",
                            lineColor: "rgba(0,0,0,0.5)",
                            hoverFillColor: "rgba(255,255,255,0.9)",
                            hoverLineColor: "rgba(0,0,0,0.9)"
                        }
                    }
                    return t
                }();
                r.SettingsScrollButtons = At;
                var It = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.scrollButtons = e, i
                    }
                    return n(e, t), e.prototype.placePanel = function(t, e, i, n) {
                        this.scrollButtons.placePanel(t, e, i, n, this)
                    }, e
                }(r.ChartPanel);
                r.ScrollButtonPanel = It;
                var Dt = function() {
                    function t(t) {
                        this.hoverTime = Number.NEGATIVE_INFINITY, this.animationStartSize = null, this.animationStartProgress = 1, this.activeState = !1, this.settings = t
                    }
                    return t.prototype.calcAnimationProgress = function(t) {
                        var e = this.activeState ? this.settings.hoverSizeActiveAnimationTime : this.settings.hoverSizeInactiveAnimationTime,
                            i = e * Math.min(this.animationStartProgress, 1);
                        return (t - this.hoverTime) / i
                    }, t.prototype.calcHoverItemSize = function(t, e) {
                        null !== e && void 0 !== e || (e = Number.POSITIVE_INFINITY);
                        var i = Math.min(e, this.activeState ? this.settings.hoverSize : this.settings.size),
                            n = Math.min(e, null !== this.animationStartSize ? this.animationStartSize : this.activeState ? this.settings.size : this.settings.hoverSize);
                        return j.interpolateValue(t, n, i)
                    }, t.prototype.update = function(t, e, i) {
                        if (void 0 === i && (i = null), e && (t.cursor = "pointer"), e !== this.activeState) {
                            var n = performance.now() / 1e3,
                                r = this.calcAnimationProgress(n);
                            this.animationStartSize = this.calcHoverItemSize(r, i), this.animationStartProgress = 0, this.animationStartProgress = this.calcAnimationProgress(n), this.hoverTime = n, this.activeState = e, t.changes.hover = !0, t.consumed = !0
                        }
                    }, t.prototype.getAnimationProgress = function() {
                        var t = performance.now() / 1e3;
                        return this.calcAnimationProgress(t)
                    }, t.prototype.getHoverSize = function(t, e) {
                        return void 0 === t && (t = null), void 0 === e && (e = null), null !== t && void 0 !== t || (t = this.getAnimationProgress()), this.calcHoverItemSize(t, e)
                    }, t.prototype.isActive = function() {
                        return this.activeState
                    }, t
                }();
                r.ScrollButtonHoverAnimation = Dt;
                var Nt = function(t) {
                    function e(e, i) {
                        var n = t.call(this) || this;
                        n.paintOrder = 75, n.chart = e, n.scene = e.scene, n.settings = i, n.leftArrow = new Dt(i), n.rightArrow = new Dt(i), n.panels = [];
                        for (var r = 0; r < 2; r++) {
                            var s = new It(n);
                            s.packingOrder = 1150, s.side = 1 === r ? "left" : "right", s.location = "inside", s.align = "center", n.panels.push(s)
                        }
                        return n
                    }
                    return n(e, t), e.prototype.placePanel = function(t, e, i, n, r) {
                        var s = n - e,
                            a = this.scene.y0 + this.scene.height / 2 - this.settings.size / 2;
                        r.bottom = a + s, r.right = i, r.top = a, r.left = t
                    }, e.prototype.computeShowLeftRight = function() {
                        return {
                            showLeft: !1,
                            showRight: !1
                        }
                    }, e.prototype.onSceneChange = function(t) {
                        if (this.settings.enabled) {
                            var e = this.computeShowLeftRight(),
                                i = e.showLeft,
                                n = e.showRight;
                            this.showLeft = i, this.showRight = n
                        }
                    }, e.prototype.getPanels = function(t) {
                        for (var e = 0; e < 2; e++) {
                            var i = this.panels[e];
                            i.visible = t ? this.settings.enabledOnExport : this.settings.enabled, i.desiredWidth = i.desiredHeight = this.settings.size
                        }
                        return this.panels
                    }, e.prototype.isHorizontal = function() {
                        return !1
                    }, e.prototype.paintScene = function(t) {
                        var e = Boolean(this.chart.scene.transform) && this.isHorizontal();
                        if (this.panels[0].visible) {
                            var i = this.settings.style,
                                n = t.context;
                            n.fillStyle = i.fillColor, n.strokeStyle = i.lineColor, e && n.transform.apply(n, this.chart.scene.transform);
                            for (var r = 0; r < this.panels.length; r++) {
                                var s = this.panels[r];
                                if (this.showRight && "right" === s.side) {
                                    var a = this.rightArrow.getAnimationProgress();
                                    a < 1 && (t.animating = !0);
                                    var o = this.rightArrow.getHoverSize(a),
                                        l = o / 2,
                                        h = o / 4,
                                        u = o >= 28 ? 1 : o / 28,
                                        c = .5 * (o - this.settings.size),
                                        d = s.left - 2 * c,
                                        p = s.top - c;
                                    this.rightArrow.isActive() && (n.fillStyle = i.hoverFillColor, n.strokeStyle = i.hoverLineColor), n.beginPath(), n.fillRect(d, p, o, o), n.moveTo(d + l - h / 2 + 2 * u, p + h), n.lineTo(d + l + h - 3 * u, p + l), n.lineTo(d + l - h / 2 + 2 * u, p + o - h), n.stroke()
                                }
                                if (this.showLeft && "left" === s.side) {
                                    var a = this.leftArrow.getAnimationProgress();
                                    a < 1 && (t.animating = !0);
                                    var o = this.leftArrow.getHoverSize(a),
                                        l = o / 2,
                                        h = o / 4,
                                        u = o >= 28 ? 1 : o / 28,
                                        c = .5 * (o - this.settings.size),
                                        d = s.left,
                                        p = s.top - c;
                                    this.leftArrow.isActive() && (n.fillStyle = i.hoverFillColor, n.strokeStyle = i.hoverLineColor), n.beginPath(), n.fillRect(d, p, o, o), n.moveTo(d + l + h / 2 - 2 * u, p + h), n.lineTo(d + l - h + 3 * u, p + l), n.lineTo(d + l + h / 2 - 2 * u, p + o - h), n.stroke()
                                }
                                n.fillStyle = i.fillColor, n.strokeStyle = i.lineColor
                            }
                            e && n.transform.apply(n, this.chart.scene.invertedTransform)
                        }
                    }, e.prototype.findItemAt = function(t, e, i) {
                        if (!this.panels[0].visible) return null;
                        for (var n = i.touch ? 10 : 0, r = 0; r < 2; r++) {
                            var s = this.panels[r];
                            if (t >= s.left - n && t <= s.right + n && e >= s.top - n && e <= s.bottom + n && ("left" === s.side && this.showLeft || "right" === s.side && this.showRight)) return s.side
                        }
                        return null
                    }, e.prototype.onClickValues = function() {
                        return {
                            from: 0,
                            to: 0,
                            total: 0
                        }
                    }, e.prototype.setPosition = function(t, e, i) {}, e.prototype.onClick = function(t) {
                        if (this.panels[0].visible) {
                            var e = r.Helpers.performanceNow(),
                                i = this.findItemAt(t.x, t.y, t);
                            if (null !== i) {
                                var n = this.onClickValues(),
                                    s = n.from,
                                    a = n.to,
                                    o = n.total,
                                    l = a - s;
                                "right" === i && (a + l > o ? (a = a - l + (o - a), this.setPosition(a, o, e)) : this.setPosition(a, a + l, e)), "left" === i && (s - l < 0 ? this.setPosition(0, l, e) : this.setPosition(s - l, s, e)), t.consumed = !0
                            }
                        }
                    }, e.prototype.onPointerMove = function(t) {
                        var e = this.findItemAt(t.x, t.y, t);
                        this.updateActiveHover(t, e)
                    }, e.prototype.onPointerOut = function(t) {
                        this.updateActiveHover(t, "none")
                    }, e.prototype.updateActiveHover = function(t, e) {
                        "left" === e ? (this.leftArrow.update(t, !0), this.rightArrow.update(t, !1)) : "right" === e ? (this.leftArrow.update(t, !1), this.rightArrow.update(t, !0)) : (this.leftArrow.update(t, !1), this.rightArrow.update(t, !1))
                    }, e
                }(r.ChartElement);
                r.ScrollButtons = Nt;
                var Ot = function() {
                    function t(t, e, i, n, r) {
                        void 0 === r && (r = "default"), this.labelEnabled = null, this.labelDisabled = null, this.groupId = null, this.groupMode = "default", this.hoverCount = 0, this.enabled = !0, this.curX = null, this.curY = null, this.curWidth = null, this.curHeight = null, this.labelText = t, this.textColorEnabled = e, this.textColorDisabled = i, this.groupId = n, this.groupMode = r
                    }
                    return t.prototype.isHovered = function() {
                        return this.hoverCount > 0
                    }, t.prototype.isEnabled = function() {
                        return this.enabled
                    }, t
                }();
                r.LegendEntry = Ot;
                var Ft = function() {
                    function t() {
                        this.enabled = !1, this.displayMode = "grid", this.pageScrollAnimationTime = .8, this.width = null, this.height = null, this.minWidth = null, this.minHeight = null, this.numberOfRows = null, this.numberOfColumns = null, this.margin = 1, this.padding = 5, this.maxLineSymbols = 15, this.shouldForceWrapLongText = !1, this.shouldHideLongText = !1, this.lineSpacing = .2, this.text = {
                            font: "12px Arial",
                            fillColor: "#000"
                        }, this.marker = new zt, this.equalizeRowsColumns = !0, this.panel = new Rt("left", "fill", 1), this.advanced = new Ht, this.interaction = new Et, this.scrollButtons = new r.SettingsScrollButtons
                    }
                    return t
                }();
                r.SettingsLegend = Ft;
                var Et = function() {
                    function t() {
                        this.click = !0
                    }
                    return t
                }();
                r.SettingsLegendInteraction = Et;
                var Ht = function() {
                    function t() {
                        this.selectedBackground = "rgba(85, 237, 255, 0.15)", this.selectedBorder = "rgba(85, 237, 255, 0.3)"
                    }
                    return t
                }();
                r.SettingsLegendAdvanced = Ht;
                var Rt = function(t) {
                    function e(e, i, n, r, s) {
                        var a = t.call(this, e, i, n, r) || this;
                        return a.padding = 0, a.shouldFill = !1, void 0 !== s && (a.padding = s), a
                    }
                    return n(e, t), e
                }(r.SettingsChartPanel);
                r.SettingsLegendPanel = Rt;
                var zt = function() {
                    function t() {
                        this.size = 20, this.alignment = "left", this.lineColor = "rgba(230, 230, 230, 1)"
                    }
                    return t
                }();
                r.SettingsLegendMarker = zt;
                var Bt = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 300, i.entries = [], i.hoverPointers = {}, i.hoverOrder = [], i.entryWidth = 0, i.textHeight = 0, i.columns = null, i.rows = null, i.wrappingWidth = null, i.wrappingHeight = null, i.contentWidth = 0, i.contentHeight = 0, i.markerSize = 0, i.drawingEntries = 0, i.lastComputedWidth = 0, i.lastComputedHeight = 0, i.canComputePanelSize = !1, i.hasGottenPanel = !1, i.topOffset = 0, i.topOffsetStart = 0, i.topOffsetEnd = 0, i.leftOffset = 0, i.leftOffsetStart = 0, i.leftOffsetEnd = 0, i.offsetStartTime = Number.NEGATIVE_INFINITY, i.maxTopOffset = 0, i.maxLeftOffset = 0, i.visibleWrappingWidth = 0, i.visibleWrappingHeight = 0, i.forceFill = !1, i.useArrows = !1, i.lastInsensitive = !1, i.needsMeasure = !1, i.chart = e, i.settings = e.settings.legend, i.leftArrow = new Dt(i.settings.scrollButtons), i.rightArrow = new Dt(i.settings.scrollButtons), i.panel = new P, i.panel.packingOrder = 50, i.panel.location = "outside", i.panel.computeSize = function(t, e, n, r) {
                            return i.computePanelSize(t, e, n, r)
                        }, i.panel.placePanel = function(t, e, n, r) {
                            return i.placePanel(t, e, n, r)
                        }, i.setPanelSettings(), i.computeOrientation(), i
                    }
                    return n(e, t), e.prototype.computeOrientation = function() {
                        var t = "left" === this.settings.panel.side || "right" === this.settings.panel.side;
                        this.orientation = t ? "vertical" : "horizontal"
                    }, e.prototype.onSceneChange = function(t) {
                        var e = t.changes;
                        e.settings && e.settingsChanges.legend && (e.bounds = !0, this.setPanelSettings())
                    }, e.prototype.setPanelSettings = function() {
                        d.extendDeep(this.panel, this.settings.panel), this.panel.side = this.convertSideIfHorizontal(this.settings.panel.side), this.panel.align = this.convertSideIfHorizontal(this.settings.panel.align)
                    }, e.prototype.convertSideIfHorizontal = function(t) {
                        return this.isChartHorizontal() ? "top" === t ? "left" : "left" === t ? "bottom" : "right" === t ? "top" : "bottom" === t ? "right" : t : t
                    }, e.prototype.getPanels = function() {
                        return this.hasGottenPanel ? this.canComputePanelSize = !0 : this.hasGottenPanel = !0, this.settings.enabled ? [this.panel] : []
                    }, e.prototype.placePanel = function(t, e, i, n) {
                        this.isChartHorizontal() ? (this.panel.left = this.chart.scene.chartHeight - n, this.panel.top = t, this.panel.right = this.chart.scene.chartHeight - e, this.panel.bottom = i) : (this.panel.left = t, this.panel.top = e, this.panel.right = i, this.panel.bottom = n)
                    }, e.prototype.computePanelSize = function(t, e, i, n) {
                        this.computeOrientation();
                        var r = this.isChartHorizontal();
                        if (r) {
                            var s = t;
                            t = e, e = s
                        }
                        if (this.needsMeasure = !1, !this.settings.enabled || 0 === this.entries.length || !this.chart.assetsLoaded || !this.canComputePanelSize) return this.canComputePanelSize = !0, this.lastComputedWidth = 0, this.lastComputedHeight = 0, {
                            width: this.lastComputedWidth,
                            height: this.lastComputedHeight
                        };
                        for (var a = this.computeMaxLabelWidth(i), o = 2 * (this.settings.margin + this.settings.padding), l = 2 * (this.settings.panel.margin + this.settings.panel.padding), h = 0, u = 0; u < this.entries.length; u++) {
                            var c = this.entries[u],
                                d = this.calcLabelParams(c, a, i);
                            c.labelEnabled = new U(d), c.labelEnabled.style.textStyle.fillColor = c.textColorEnabled, c.labelDisabled = new U(d), c.labelDisabled.style.textStyle.fillColor = c.textColorDisabled, n.measure(i, c.labelEnabled), n.measure(i, c.labelDisabled), h = Math.max(h, 2 * c.labelEnabled.hheight, 2 * c.labelDisabled.hheight), this.settings.shouldHideLongText && (c.labelEnabled.hwidth = Math.min(c.labelEnabled.hwidth, .5 * a), c.labelDisabled.hwidth = Math.min(c.labelDisabled.hwidth, .5 * a))
                        }
                        this.textHeight = this.entries[0].labelEnabled.lineHeight, this.markerSize = this.settings.marker.size || this.textHeight, h = Math.max(h, this.markerSize), this.entryHeight = Math.max(h, this.markerSize) + o, this.entryWidth = a + this.markerSize + this.settings.padding + o;
                        var p = -l + (this.settings.width > 0 ? Math.min(t, Math.max(this.settings.width, this.entryWidth) + l) : t),
                            f = -l + (this.settings.height > 0 ? Math.min(e, Math.max(this.settings.height, this.entryHeight) + l) : e);
                        this.forceFill = !1, this.useArrows = !1;
                        var g = this.calcWrapBoundaries(p, f, r),
                            m = g.wrappingWidth,
                            v = g.wrappingHeight;
                        if (this.maxLeftOffset = 0, this.maxTopOffset = 0, "inline" === this.settings.displayMode) {
                            this.initializeAndFitInlineLegend(v, i, m, p, f, r, a), this.generateEntryPositions(i);
                            for (var y = 0, S = 0, b = this.settings.margin, x = this.settings.panel.padding, u = 0; u < this.entries.length; u++) {
                                var C = this.entries[u],
                                    w = x + b;
                                y = Math.max(y, w + C.curX + C.curWidth), S = Math.max(S, w + C.curY + C.curHeight)
                            }
                            return this.contentWidth = 0 === y ? this.lastComputedWidth : y, this.contentHeight = 0 === S ? this.lastComputedHeight : S, {
                                width: this.lastComputedWidth,
                                height: this.lastComputedHeight
                            }
                        }
                        this.leftOffset = 0, this.topOffset = 0, this.leftOffsetEnd = 0, this.topOffsetEnd = 0, this.leftOffsetStart = 0, this.topOffsetStart = 0;
                        var L, T, M = this.settings.numberOfRows,
                            k = this.settings.numberOfColumns;
                        if ("vertical" === this.orientation) {
                            this.rows = Math.max(Math.floor(v / this.entryHeight), 1);
                            var P = Math.min(Math.ceil(this.entries.length / this.rows), Math.max(1, Math.floor(p / this.entryWidth)));
                            this.columns = k > 0 ? Math.min(k, P) : P, this.drawingEntries = Math.min(this.rows * this.columns, this.entries.length), T = this.columns * this.entryWidth, this.drawingEntries > this.rows ? (this.settings.equalizeRowsColumns && (this.rows = Math.ceil(this.drawingEntries / this.columns)), L = this.rows * this.entryHeight) : L = this.drawingEntries * this.entryHeight
                        }
                        if ("horizontal" === this.orientation) {
                            this.columns = Math.max(Math.floor(m / this.entryWidth), 1);
                            var A = Math.min(Math.ceil(this.entries.length / this.columns), Math.max(1, Math.floor(f / this.entryHeight)));
                            this.rows = M > 0 ? Math.min(M, A) : A, this.drawingEntries = Math.min(this.columns * this.rows, this.entries.length), L = this.rows * this.entryHeight, this.drawingEntries > this.columns ? (this.settings.equalizeRowsColumns && (this.columns = Math.ceil(this.drawingEntries / this.rows)), T = this.columns * this.entryWidth) : T = this.drawingEntries * this.entryWidth
                        }
                        var I = this.settings.minWidth ? this.settings.minWidth : 0,
                            D = this.settings.minHeight ? this.settings.minHeight : 0;
                        if (r) {
                            var s = I;
                            I = D, D = s
                        }
                        if (T <= 0 || L <= 0) return this.lastComputedWidth = I, this.lastComputedHeight = D, this.generateEntryPositions(i), {
                            width: this.lastComputedWidth,
                            height: this.lastComputedHeight
                        };
                        this.contentHeight = L, this.contentWidth = T;
                        var N = this.settings.panel.padding,
                            O = Math.max(this.settings.minWidth ? this.settings.minWidth : 0, T + 2 * N),
                            F = Math.max(this.settings.minHeight ? this.settings.minHeight : 0, L + 2 * N);
                        if (r) {
                            var s = O;
                            O = F, F = s
                        }
                        return this.lastComputedWidth = O, this.lastComputedHeight = F, this.generateEntryPositions(i), this.resetHovers(), {
                            width: this.lastComputedWidth,
                            height: this.lastComputedHeight
                        }
                    }, e.prototype.fitInlineLegendSize = function(t, e, i, n, r, s) {
                        if ("vertical" === this.orientation ? (this.lastComputedWidth = t + e, this.lastComputedHeight = i, null !== this.settings.width && this.lastComputedWidth > this.settings.width && (this.lastComputedWidth = this.fitInlineLegendHeight(n)), this.leftOffset = 0, this.maxTopOffset = this.wrappingHeight - i, this.topOffset = Math.min(this.topOffset, this.maxTopOffset), this.topOffsetEnd = Math.min(this.topOffsetEnd, this.maxTopOffset)) : (this.lastComputedWidth = r, this.lastComputedHeight = s * this.entryHeight, null !== this.settings.height && this.lastComputedHeight > this.settings.height && (this.lastComputedHeight = this.fitInlineLegendWidth(n)), this.topOffset = 0, this.maxLeftOffset = this.wrappingWidth - r, this.leftOffset = Math.min(this.leftOffset, this.maxLeftOffset), this.leftOffsetEnd = Math.min(this.leftOffsetEnd, this.maxLeftOffset)), this.lastComputedWidth = Math.max(this.lastComputedWidth, this.settings.minWidth ? this.settings.minWidth : 0), this.lastComputedHeight = Math.max(this.lastComputedHeight, this.settings.minHeight ? this.settings.minHeight : 0), this.isChartHorizontal()) {
                            var a = this.lastComputedHeight;
                            this.lastComputedHeight = this.lastComputedWidth, this.lastComputedWidth = a
                        }
                    }, e.prototype.initializeAndFitInlineLegend = function(t, e, i, n, r, s, a) {
                        var o = this.setupInlineLegend(e, a),
                            l = o.columnTotalEntryWidth,
                            h = o.maxColumnEntryWidth,
                            u = o.numRows;
                        return !this.settings.panel.shouldFill && this.needsInlineLegendPage(l, h, u, t, e, i) && (this.forceFill = !0, c = this.recomputeInlineLegendSetup(n, r, s, i, t, e, a, l, h, u), i = c.wrappingWidth, t = c.wrappingHeight, l = c.columnTotalEntryWidth, h = c.maxColumnEntryWidth, u = c.numRows), this.needsInlineLegendPage(l, h, u, t, e, i) && (this.useArrows = !0, d = this.recomputeInlineLegendSetup(n, r, s, i, t, e, a, l, h, u), i = d.wrappingWidth, t = d.wrappingHeight, l = d.columnTotalEntryWidth, h = d.maxColumnEntryWidth, u = d.numRows), this.fitInlineLegendSize(l, h, t, e, i, u), {
                            columnTotalEntryWidth: l,
                            maxColumnEntryWidth: h,
                            numRows: u,
                            wrappingHeight: t,
                            wrappingWidth: i
                        };
                        var c, d
                    }, e.prototype.recomputeInlineLegendSetup = function(t, e, i, n, r, s, a, o, l, h) {
                        var u = this.calcWrapBoundaries(t, e, i);
                        n = u.wrappingWidth, r = u.wrappingHeight;
                        var c = this.setupInlineLegend(s, a);
                        return o = c.columnTotalEntryWidth, l = c.maxColumnEntryWidth, h = c.numRows, {
                            wrappingWidth: n,
                            wrappingHeight: r,
                            columnTotalEntryWidth: o,
                            maxColumnEntryWidth: l,
                            numRows: h
                        }
                    }, e.prototype.needsInlineLegendPage = function(t, e, i, n, r, s) {
                        var a = "vertical" === this.orientation && null !== this.settings.width && t + e > this.settings.width,
                            o = "vertical" !== this.orientation && null !== this.settings.height && i * this.entryHeight > this.settings.height;
                        return a ? (this.lastComputedWidth = t + e, this.lastComputedHeight = n, this.lastComputedWidth = this.fitInlineLegendHeight(r), this.maxTopOffset = this.wrappingHeight - n, 0 === this.maxTopOffset && (a = !1)) : o && (this.lastComputedWidth = s, this.lastComputedHeight = i * this.entryHeight, this.lastComputedHeight = this.fitInlineLegendWidth(r), this.maxLeftOffset = this.wrappingWidth - s, 0 === this.maxLeftOffset && (o = !1)), a || o
                    }, e.prototype.setupInlineLegend = function(t, e) {
                        this.drawingEntries = this.entries.length;
                        for (var i = 0, n = 0, r = 0, s = 0, a = 0, o = 0, l = 0, h = 0, u = 0, c = 0; c < this.entries.length; c++) {
                            n < 1 && (n = 1), r < 1 && (r = 1), m = this.horizontalLegendWrap(c, t, s, h), s = m.currentTotalEntryWidth, h = m.block, v = this.verticalLegendWrap(c, t, a, u, o, l), a = v.currentTotalEntryHeight, u = v.col, o = v.columnTotalEntryWidth, l = v.maxColumnEntryWidth;
                            var d = this.entries[c],
                                p = this.calcLabelParams(d, e, t),
                                f = this.calcEntryWidth(t, p.text);
                            i = Math.max(i, f);
                            var g = d.isEnabled() ? d.labelEnabled : d.labelDisabled;
                            d.curWidth = this.calcEntryWidth(t, g.text), d.curHeight = this.entryHeight
                        }
                        return n > 0 && (n = h + 1), r > 0 && (r = u + 1), this.entryWidth = i, this.rows = null, this.columns = null, {
                            columnTotalEntryWidth: o,
                            maxColumnEntryWidth: l,
                            numRows: n
                        };
                        var m, v
                    }, e.prototype.fitInlineLegendWidth = function(t) {
                        var e = this.settings.height,
                            i = "wrappingWidth",
                            n = "legendHeight",
                            r = "curWidth";
                        return this.fitInlineLegend(i, r, t, n, e)
                    }, e.prototype.fitInlineLegendHeight = function(t) {
                        var e = this.settings.width,
                            i = "wrappingHeight",
                            n = "legendWidth",
                            r = "curHeight";
                        return this.fitInlineLegend(i, r, t, n, e)
                    }, e.prototype.fitInlineLegend = function(t, e, i, n, r) {
                        for (var s = 100, a = this[t], o = 0, l = 0; l < this.entries.length; l++) o += this.entries[l][e];
                        a = Math.floor(this[t]), o = Math.ceil(o);
                        for (var l = 0; l < s && !(o <= a + 1); l++) {
                            this[t] = Math.floor(.5 * (a + o));
                            var h = this.calcInlineLegendSize(i)[n];
                            h <= r && (o = this[t]), h > r && (a = this[t])
                        }
                        return this[t] = Math.max(a, o), this.calcInlineLegendSize(i)[n]
                    }, e.prototype.calcInlineLegendSize = function(t) {
                        for (var e = 0, i = 0, n = 0, r = 0, s = 0, a = 0, o = 0, l = 0, h = 0; h < this.entries.length; h++) e < 1 && (e = 1), i < 1 && (i = 1), u = this.horizontalLegendWrap(h, t, n, o), n = u.currentTotalEntryWidth, o = u.block, c = this.verticalLegendWrap(h, t, r, l, s, a), r = c.currentTotalEntryHeight, l = c.col, s = c.columnTotalEntryWidth, a = c.maxColumnEntryWidth;
                        return e > 0 && (e = o + 1), i > 0 && (i = l + 1), {
                            legendWidth: s + a,
                            legendHeight: e * this.entryHeight
                        };
                        var u, c
                    }, e.prototype.generateEntryPositions = function(t) {
                        for (var e = "inline" === this.settings.displayMode, i = 0, n = 0, r = 0, s = 0, a = 0, o = 0, l = -1, h = -1, u = 0, c = 0, d = 0, p = 0; p < this.drawingEntries; p++) {
                            d = p;
                            var f = this.entries[p],
                                g = f.isEnabled() ? f.labelEnabled : f.labelDisabled;
                            if (f.curX = e && "vertical" !== this.orientation ? r : e ? o : i * this.entryWidth, f.curY = e && "vertical" === this.orientation ? s : n * this.entryHeight, f.curWidth = this.calcEntryWidth(t, g.text), f.curHeight = this.entryHeight, "vertical" === this.orientation) {
                                if (n += 1, e ? (m = this.verticalLegendWrap(p, t, s, i, o, a), s = m.currentTotalEntryHeight, i = m.col, o = m.columnTotalEntryWidth, a = m.maxColumnEntryWidth, h = m.groupHeight, h !== -1 && (c = this.alignEntriesVertical(h, c, d))) : n === this.rows && (n = 0, i += 1), i === this.columns) break
                            } else if (i += 1, e ? (v = this.horizontalLegendWrap(p, t, r, n), r = v.currentTotalEntryWidth, n = v.block, l = v.groupWidth, l !== -1 && (u = this.alignEntriesHorizontal(l, u, d))) : i === this.columns && (i = 0, n += 1), n === this.rows) break
                        }
                        e && ("vertical" !== this.orientation ? this.alignEntriesHorizontal(r, u, d) : this.alignEntriesVertical(s, c, d));
                        var m, v
                    }, e.prototype.getAlignFactor = function() {
                        return "vertical" !== this.orientation ? "right" === this.settings.panel.align ? 1 : "center" === this.settings.panel.align ? .5 : "middle" === this.settings.panel.align ? .5 : 0 : "bottom" === this.settings.panel.align ? 1 : "center" === this.settings.panel.align ? .5 : "middle" === this.settings.panel.align ? .5 : 0
                    }, e.prototype.alignEntriesHorizontal = function(t, e, i) {
                        var n = (this.wrappingWidth - t) * this.getAlignFactor();
                        if (0 === n) return i + 1;
                        for (var r = e; r <= i; r++) {
                            var s = this.entries[r];
                            s.curX += n
                        }
                        return i + 1
                    }, e.prototype.alignEntriesVertical = function(t, e, i) {
                        var n = (this.wrappingHeight - t) * this.getAlignFactor();
                        if (0 === n) return i + 1;
                        for (var r = e; r <= i; r++) {
                            var s = this.entries[r];
                            s.curY += n
                        }
                        return i + 1
                    }, e.prototype.calcEntryWidth = function(t, e) {
                        var i = this.computeMaxLabelWidth(t),
                            n = 2 * (this.settings.margin + this.settings.padding),
                            r = Math.min(i, this.computeTextWidth(t, e)),
                            s = r + this.markerSize + this.settings.padding + n;
                        return s
                    }, e.prototype.forceWordWrap = function(t, e, i, n) {
                        var s = function(e, n) {
                            var s = R.getTextWidth(t, {
                                font: i
                            }, e);
                            return s < n ? -1 : r.Helpers.binarySearch(0, e.length - 1, function(r) {
                                var s = e.substring(0, r + 1),
                                    a = R.getTextWidth(t, {
                                        font: i
                                    }, s);
                                return n - a
                            }) - 1
                        };
                        return e.split(" ").map(function(t) {
                            for (var e = [], i = 0, r = 0; r < t.length; r++) {
                                var a = t.substring(i, t.length),
                                    o = s(a, n);
                                if (o === -1) return e.push(a), e.join("<br>");
                                e.push(t.substring(i, i + o)), i += o
                            }
                            return e.join("<br>")
                        }).join(" ")
                    }, e.prototype.calcLabelParams = function(t, e, i) {
                        var n = this.settings.shouldForceWrapLongText,
                            r = {
                                lineSpacing: this.settings.lineSpacing,
                                textStyle: this.settings.text,
                                text: n ? this.forceWordWrap(i, t.labelText, this.settings.text.font, e) : t.labelText,
                                maxWidth: e,
                                align: "left",
                                padding: 0,
                                aspectRatio: null
                            };
                        return r
                    }, e.prototype.getChartWidth = function() {
                        return this.isChartHorizontal() ? this.chart.scene.chartHeight : this.chart.scene.chartWidth
                    }, e.prototype.getChartHeight = function() {
                        return this.isChartHorizontal() ? this.chart.scene.chartWidth : this.chart.scene.chartHeight
                    }, e.prototype.calcWrapBoundaries = function(t, e, i) {
                        var n = this.chart.scene,
                            r = n.leftMargin + n.rightMargin,
                            s = n.topMargin + n.bottomMargin;
                        c = this.applyForceFill(i, s, r, t, e), s = c.marginY, r = c.marginX, t = c.contAproxW, e = c.contAproxH;
                        var a = n.chartWidth - r,
                            o = n.chartHeight - s;
                        if (i) {
                            var l = a;
                            a = o, o = l
                        }
                        var h = Math.min(t, a),
                            u = Math.min(e, o);
                        return this.wrappingWidth = h, this.wrappingHeight = u, this.visibleWrappingWidth = this.wrappingWidth, this.visibleWrappingHeight = this.wrappingHeight, {
                            wrappingWidth: h,
                            wrappingHeight: u
                        };
                        var c
                    }, e.prototype.applyForceFill = function(t, e, i, n, r) {
                        return this.shouldFill() && ("vertical" !== this.orientation && (t ? e = 0 : i = 0, n = this.getChartWidth() - 2 * this.getNormalArrowSize()), "vertical" === this.orientation && (t ? i = 0 : e = 0, r = this.getChartHeight() - 2 * this.getNormalArrowSize())), {
                            marginY: e,
                            marginX: i,
                            contAproxW: n,
                            contAproxH: r
                        }
                    }, e.prototype.computeTextWidth = function(t, e) {
                        return R.getTextWidth(t, this.settings.text, e) + 1
                    }, e.prototype.computeMaxLabelWidth = function(t) {
                        return R.getTextWidth(t, {
                            font: "12px Arial, sans-serif",
                            fillColor: "#000"
                        }, "M"), R.getTextWidth(t, this.settings.text, "M") * this.settings.maxLineSymbols
                    }, e.prototype.isChartHorizontal = function() {
                        var t = this.chart.settings;
                        return !!t.hasOwnProperty("horizontal") && t.horizontal
                    }, e.prototype.shouldFill = function() {
                        return this.settings.panel.shouldFill || this.forceFill
                    }, e.prototype.getUnoffsetTopLeftStart = function() {
                        var t = this.panel.top,
                            e = this.panel.left;
                        return this.shouldFill() && "vertical" !== this.orientation && (e = 0), this.shouldFill() && "vertical" === this.orientation && (t = 0), {
                            top: t,
                            left: e
                        }
                    }, e.prototype.getTopLeftStart = function() {
                        var t = this.getUnoffsetTopLeftStart(),
                            e = t.top,
                            i = t.left;
                        return e -= this.topOffset, i -= this.leftOffset, this.shouldFill() && ("vertical" !== this.orientation ? i += this.getNormalArrowSize() : e += this.getNormalArrowSize()), {
                            top: e,
                            left: i
                        }
                    }, e.prototype.performOffsetAnimation = function(t) {
                        var e = this.settings.pageScrollAnimationTime,
                            i = performance.now() / 1e3,
                            n = (i - this.offsetStartTime) / e;
                        this.topOffset = j.interpolateValue(n, this.topOffsetStart, this.topOffsetEnd), this.leftOffset = j.interpolateValue(n, this.leftOffsetStart, this.leftOffsetEnd), n < 1 && (t.animating = !0)
                    }, e.prototype.isEntryInRange = function(t) {
                        var e = this.leftOffset,
                            i = e + this.visibleWrappingWidth,
                            n = this.topOffset,
                            r = n + this.visibleWrappingHeight;
                        return t.curX >= e && t.curX + t.curWidth <= i && t.curY >= n && t.curY + t.curHeight <= r
                    }, e.prototype.paintScene = function(t) {
                        if (!(this.needsMeasure || !this.settings.enabled || this.entries.length < 1 || this.drawingEntries < 1)) {
                            this.performOffsetAnimation(t), this.lastInsensitive = !1;
                            for (var e = t.context, i = t.labelRenderer, n = this.getTopLeftStart(), s = n.top, a = n.left, o = this.settings.margin, l = this.settings.padding, h = this.settings.panel.padding, u = "inline" === this.settings.displayMode, c = 0, d = 0, p = 0; p < this.drawingEntries; p++) {
                                var f = this.entries[p],
                                    g = h + o,
                                    m = a + g + f.curX,
                                    v = s + g + f.curY,
                                    y = f.isEnabled() ? f.labelEnabled : f.labelDisabled,
                                    S = void 0,
                                    b = void 0;
                                "right" === this.settings.marker.alignment ? (S = m + l + y.hwidth, b = m + this.entryWidth - 2 * (o + l) - this.markerSize / 2) : (S = m + this.markerSize + 2 * l + y.hwidth, b = m + l + this.markerSize / 2);
                                var x = y.hheight > this.markerSize / 2 ? 0 : this.markerSize / 2 - this.textHeight / 2,
                                    C = v + l + this.markerSize / 2,
                                    w = v + x + l + y.hheight;
                                if (this.drawingEntries < this.entries.length && p + 1 === this.drawingEntries) {
                                    this.lastInsensitive = !0, r.Graphics.resetTextStyle(e), e.fillStyle = "#000", e.textAlign = "left", e.font = "bold 12px Arial", e.fillText(". . .", S - y.hwidth, w);
                                    break
                                }
                                if (u && !this.isEntryInRange(f) || (this.paintHoverRect(e, m, v, o, f), this.paintLabel(e, S, w, y, i), this.paintMarker(t, b, C, this.markerSize / 2, f)), !u)
                                    if ("vertical" === this.orientation) {
                                        if (d += 1, d === this.rows && (d = 0, c += 1), c === this.columns) break
                                    } else if (c += 1, c === this.columns && (c = 0, d += 1), d === this.rows) break
                            }
                            this.paintArrows(t, e)
                        }
                    }, e.prototype.getMaxArrowSize = function() {
                        return Math.min(this.lastComputedHeight, this.lastComputedWidth)
                    }, e.prototype.getNormalArrowSize = function() {
                        return this.useArrows ? Math.min(this.settings.scrollButtons.size, this.getMaxArrowSize()) : 0
                    }, e.prototype.getLeftArrowXY = function(t) {
                        void 0 === t && (t = !0);
                        var e = this.getUnoffsetTopLeftStart(),
                            i = e.top,
                            n = e.left,
                            r = 0,
                            s = t ? this.leftArrow.getHoverSize(null, this.getMaxArrowSize()) : this.getNormalArrowSize(),
                            a = this.isChartHorizontal() ? this.lastComputedWidth : this.lastComputedHeight,
                            o = this.isChartHorizontal() ? this.lastComputedHeight : this.lastComputedWidth;
                        if ("vertical" !== this.orientation) {
                            var l = n,
                                h = i - r + a / 2 - s / 2;
                            return {
                                x0: l,
                                y0: h
                            }
                        }
                        var l = n - r + o / 2 - s / 2,
                            h = i;
                        return {
                            x0: l,
                            y0: h
                        }
                    }, e.prototype.getRightArrowXY = function(t) {
                        void 0 === t && (t = !0);
                        var e = this.getUnoffsetTopLeftStart(),
                            i = e.top,
                            n = e.left,
                            r = 0,
                            s = t ? this.rightArrow.getHoverSize(null, this.getMaxArrowSize()) : this.getNormalArrowSize(),
                            a = this.isChartHorizontal() ? this.lastComputedWidth : this.lastComputedHeight,
                            o = this.isChartHorizontal() ? this.lastComputedHeight : this.lastComputedWidth;
                        if ("vertical" !== this.orientation) {
                            var l = this.getChartWidth() - s,
                                h = i - r + a / 2 - s / 2;
                            return {
                                x1: l,
                                y1: h
                            }
                        }
                        var l = n - r + o / 2 - s / 2,
                            h = this.getChartHeight() - s;
                        return {
                            x1: l,
                            y1: h
                        }
                    }, e.prototype.isLeftArrowVisible = function() {
                        return !("inline" !== this.settings.displayMode || !this.settings.scrollButtons.enabled) && ("vertical" === this.orientation && 0 !== this.maxTopOffset && 0 !== this.topOffset || "vertical" !== this.orientation && 0 !== this.maxLeftOffset && 0 !== this.leftOffset)
                    }, e.prototype.isRightArrowVisible = function() {
                        return !("inline" !== this.settings.displayMode || !this.settings.scrollButtons.enabled) && ("vertical" === this.orientation && 0 !== this.maxTopOffset && this.topOffset !== this.maxTopOffset || "vertical" !== this.orientation && 0 !== this.maxLeftOffset && this.leftOffset !== this.maxLeftOffset)
                    }, e.prototype.paintArrows = function(t, e) {
                        var i = this.isLeftArrowVisible(),
                            n = this.isRightArrowVisible();
                        if (i || n) {
                            var r = this.settings.scrollButtons.style,
                                s = this.getLeftArrowXY(i),
                                a = s.x0,
                                o = s.y0,
                                l = this.getRightArrowXY(n),
                                h = l.x1,
                                u = l.y1;
                            if (i || n) {
                                var c = !!i && this.leftArrow.isActive(),
                                    d = i ? this.leftArrow.getAnimationProgress() : 1;
                                d < 1 && (t.animating = !0);
                                var p = i ? this.leftArrow.getHoverSize(d, this.getMaxArrowSize()) : this.getNormalArrowSize(),
                                    f = p / 2,
                                    g = p / 4,
                                    m = p >= 28 ? 1 : p / 28;
                                e.fillStyle = c ? r.hoverFillColor : r.fillColor, e.strokeStyle = c ? r.hoverLineColor : r.lineColor, i || (e.fillStyle = this.arrowDisabledColor(e.fillStyle), e.strokeStyle = this.arrowDisabledColor(e.strokeStyle)), e.beginPath(), e.fillRect(a, o, p, p), "vertical" !== this.orientation ? (e.moveTo(a + f + g / 2 - 2 * m, o + g), e.lineTo(a + f - g + 3 * m, o + f), e.lineTo(a + f + g / 2 - 2 * m, o + p - g)) : (e.moveTo(a + g, o + f + g / 2 - 2 * m), e.lineTo(a + f, o + f - g + 3 * m), e.lineTo(a + p - g, o + f + g / 2 - 2 * m)), e.stroke()
                            }
                            if (n || i) {
                                var v = !!n && this.rightArrow.isActive(),
                                    d = n ? this.rightArrow.getAnimationProgress() : 1;
                                d < 1 && (t.animating = !0);
                                var p = n ? this.rightArrow.getHoverSize(d, this.getMaxArrowSize()) : this.getNormalArrowSize(),
                                    f = p / 2,
                                    g = p / 4,
                                    m = p >= 28 ? 1 : p / 28;
                                e.fillStyle = v ? r.hoverFillColor : r.fillColor, e.strokeStyle = v ? r.hoverLineColor : r.lineColor, n || (e.fillStyle = this.arrowDisabledColor(e.fillStyle), e.strokeStyle = this.arrowDisabledColor(e.strokeStyle)), e.beginPath(), e.fillRect(h, u, p, p), "vertical" !== this.orientation ? (e.moveTo(h + f - g / 2 + 2 * m, u + g), e.lineTo(h + f + g - 3 * m, u + f), e.lineTo(h + f - g / 2 + 2 * m, u + p - g)) : (e.moveTo(h + g, u + f - g / 2 + 2 * m), e.lineTo(h + f, u + f + g - 3 * m), e.lineTo(h + p - g, u + f - g / 2 + 2 * m)), e.stroke()
                            }
                        }
                    }, e.prototype.arrowDisabledColor = function(t) {
                        var e = F.parse(t),
                            i = F.lightness(e);
                        return t = F.format({
                            R: Math.round(Math.min(255, Math.max(0, i))),
                            G: Math.round(Math.min(255, Math.max(0, i))),
                            B: Math.round(Math.min(255, Math.max(0, i))),
                            A: Math.min(1, .5 * e.A)
                        })
                    }, e.prototype.horizontalLegendWrap = function(t, e, i, n) {
                        var r = this.entries[t],
                            s = r.isEnabled() ? r.labelEnabled : r.labelDisabled,
                            a = this.calcEntryWidth(e, s.text);
                        i += a;
                        var o = -1,
                            l = i > this.wrappingWidth;
                        if (!l && t < this.drawingEntries - 1) {
                            var h = this.entries[t + 1],
                                u = h.isEnabled() ? h.labelEnabled : h.labelDisabled,
                                c = this.calcEntryWidth(e, u.text);
                            l = i + c > this.wrappingWidth
                        }
                        return l && (o = i, i = 0, n++), {
                            currentTotalEntryWidth: i,
                            block: n,
                            groupWidth: o
                        }
                    }, e.prototype.verticalLegendWrap = function(t, e, i, n, r, s) {
                        var a = this.entries[t],
                            o = a.isEnabled() ? a.labelEnabled : a.labelDisabled,
                            l = this.calcEntryWidth(e, o.text);
                        s = Math.max(s, l), i += this.entryHeight;
                        var h = -1,
                            u = i > this.wrappingHeight;
                        return !u && t < this.drawingEntries - 1 && (u = i + this.entryHeight > this.wrappingHeight), u && (h = i, i = 0, r += s, n++, s = 0), {
                            currentTotalEntryHeight: i,
                            col: n,
                            columnTotalEntryWidth: r,
                            maxColumnEntryWidth: s,
                            groupHeight: h
                        }
                    }, e.prototype.paintLabel = function(t, e, i, n, r) {
                        r.paint(t, e, i, 1, n)
                    }, e.prototype.paintHoverRect = function(t, e, i, n, r) {
                        if (r.isHovered()) {
                            var s = "inline" === this.settings.displayMode ? r.curWidth : this.entryWidth;
                            this.rect(t, e, i, this.settings.advanced.selectedBorder, this.settings.advanced.selectedBackground, s - 2 * n, this.entryHeight - 2 * n)
                        }
                    }, e.prototype.findItemAt = function(t, e) {
                        if (this.isChartHorizontal()) {
                            var i = t;
                            t = this.chart.scene.chartHeight - e, e = i
                        }
                        if (0 === this.entries.length) return null;
                        var n = this.getTopLeftStart(),
                            r = n.top,
                            s = n.left,
                            a = t < s || t > s + this.contentWidth || e < r || e > r + this.contentHeight;
                        if (a) return null;
                        for (var o = "inline" === this.settings.displayMode, l = this.settings.margin, h = this.settings.panel.padding, u = null, c = 0; c < this.drawingEntries; c++) {
                            var d = this.entries[c];
                            if (!o || this.isEntryInRange(d)) {
                                var p = h + l,
                                    f = s + p + d.curX,
                                    g = r + p + d.curY,
                                    m = f + (o ? d.curWidth : this.entryWidth),
                                    v = g + d.curHeight;
                                if (t >= f && t < m && e >= g && e < v) {
                                    u = c;
                                    break
                                }
                            }
                        }
                        return null === u ? null : u > this.drawingEntries - 1 ? null : this.lastInsensitive && u === this.drawingEntries - 1 ? null : this.entries[u]
                    }, e.prototype.findArrowAt = function(t, e) {
                        if (this.isChartHorizontal()) {
                            var i = t;
                            t = this.chart.scene.chartHeight - e, e = i
                        }
                        var n = this.settings.scrollButtons.size;
                        if (this.isLeftArrowVisible()) {
                            var r = this.getLeftArrowXY(!1),
                                s = r.x0,
                                a = r.y0;
                            if (t >= s && t < s + n && e >= a && e < a + n) return "left"
                        }
                        if (this.isRightArrowVisible()) {
                            var o = this.getRightArrowXY(!1),
                                l = o.x1,
                                h = o.y1;
                            if (t >= l && t < l + n && e >= h && e < h + n) return "right"
                        }
                        return null
                    }, e.prototype.rect = function(t, e, i, n, r, s, a) {
                        t.beginPath(), t.rect(e, i, s, a), t.fillStyle = r, t.fill(), t.lineWidth = 1, t.strokeStyle = n, t.stroke()
                    }, e.prototype.resetEntries = function(t) {
                        this.entries = t, this.needsMeasure = !0
                    }, e.prototype.getLastHoveredEntry = function() {
                        return this.hoverOrder.length < 1 ? null : this.hoverOrder[this.hoverOrder.length - 1].entry
                    }, e.prototype.resetHovers = function() {
                        for (var t = this.hoverOrder.length - 1; t >= 0; t--) {
                            var e = this.hoverOrder[t],
                                i = this.findItemAt(e.lastX, e.lastY);
                            e.entry !== i && (i ? (this.itemUnhovered(null, e.entry), e.entry = i, this.itemHovered(null, i)) : (this.itemUnhovered(null, e.entry), delete this.hoverPointers[e.id], this.hoverOrder.splice(t, 1)))
                        }
                    }, e.prototype.pointerHoverIn = function(t) {
                        var e = this.hoverPointers[t.identifier],
                            i = null,
                            n = this.findArrowAt(t.x, t.y);
                        return this.updateArrowHover(t, n), n || (i = this.findItemAt(t.x, t.y)), i ? (this.settings.interaction.click && (t.cursor = "pointer"), void(e ? (e.lastX = t.x, e.lastY = t.y, e.entry !== i && (this.itemUnhovered(t, e.entry), e.entry = i, this.hoverOrder.splice(this.hoverOrder.indexOf(e), 1), this.hoverOrder.push(e), this.itemHovered(t, i))) : (e = {
                            id: t.identifier,
                            lastX: t.x,
                            lastY: t.y,
                            entry: i
                        }, this.hoverPointers[t.identifier] = e, this.hoverOrder.push(e), this.itemHovered(t, i)))) : void(e && (this.itemUnhovered(t, e.entry), delete this.hoverPointers[t.identifier], this.hoverOrder.splice(this.hoverOrder.indexOf(e), 1)))
                    }, e.prototype.pointerHoverOut = function(t) {
                        var e = this.hoverPointers[t.identifier];
                        this.updateArrowHover(t, "none"), e && (this.itemUnhovered(t, e.entry), delete this.hoverPointers[t.identifier], this.hoverOrder.splice(this.hoverOrder.indexOf(e), 1))
                    }, e.prototype.itemHovered = function(t, e) {
                        e.hoverCount++, 1 === e.hoverCount && this.chart.events.notifySceneChanges({
                            hover: !0
                        })
                    }, e.prototype.itemUnhovered = function(t, e) {
                        e.hoverCount--, 0 === e.hoverCount && this.chart.events.notifySceneChanges({
                            hover: !0
                        })
                    }, e.prototype.itemClicked = function(t, e) {
                        if (this.chart.events.requestPaint(), this.chart.notifyChartUpdate("user", !0), t.consumed = !0, t.preventDefault(), null == e.groupId) return void(e.enabled = !e.enabled);
                        var i = this.entries.filter(function(t) {
                            return t.groupId === e.groupId
                        });
                        if (i.length < 2) return void(e.enabled = !e.enabled);
                        if ("toggle" !== e.groupMode) {
                            if (!e.enabled) return void(e.enabled = !e.enabled);
                            for (var n = !1, r = !1, s = 0; s < i.length; s++)
                                if (i[s] !== e)
                                    if (i[s].enabled) {
                                        if (n = !0, r) break
                                    } else if (r = !0, n) break;
                            if (n)
                                if (r) e.enabled = !e.enabled;
                                else
                                    for (var s = 0; s < i.length; s++) i[s] !== e && (i[s].enabled = !1);
                            else
                                for (var s = 0; s < i.length; s++) i[s].enabled = !0
                        } else
                            for (var a = !e.enabled, s = 0; s < i.length; s++) i[s].enabled = a
                    }, e.prototype.previewPointerMove = function(t) {
                        this.pointerHoverIn(t)
                    }, e.prototype.previewPointerCancel = function(t) {
                        this.pointerHoverOut(t)
                    }, e.prototype.previewPointerOut = function(t) {
                        this.pointerHoverOut(t)
                    }, e.prototype.previewPointerUp = function(t) {
                        var e = this;
                        this.actualPointerUp(t), window.setTimeout(function() {
                            t._leaving && e.actualPointerUp(t)
                        }, 100)
                    }, e.prototype.actualPointerUp = function(t) {
                        t.touch || t._leaving ? this.pointerHoverOut(t) : this.pointerHoverIn(t)
                    }, e.prototype.previewPointerDown = function(t) {
                        this.pointerHoverIn(t), this.settings.interaction.click && this.hoverPointers[t.identifier] && (t.consumed = !0)
                    }, e.prototype.previewInstantClick = function(t) {
                        if (this.settings.interaction.click) {
                            var e = this.findArrowAt(t.x, t.y);
                            if (null !== e) {
                                var i = "left" === e ? -1 : 1;
                                "vertical" !== this.orientation ? this.addLegendOffset(i < 0 ? -this.getBackwardsWidthMove() : this.visibleWrappingWidth, 0) : this.addLegendOffset(0, i < 0 ? -this.getBackwardsHeightMove() : this.visibleWrappingHeight)
                            } else {
                                var n = this.findItemAt(t.x, t.y);
                                n && this.itemClicked(t, n)
                            }
                        }
                    }, e.prototype.getBackwardsWidthMove = function() {
                        for (var t = this.wrappingWidth, e = this.wrappingWidth, i = 0, n = this.wrappingWidth, r = 0; r < this.entries.length; r++) {
                            var s = this.entries[r];
                            this.isEntryInRange(s) && s.curX < t && (t = s.curX, i = s.curWidth)
                        }
                        for (var r = 0; r < this.entries.length; r++) {
                            var s = this.entries[r];
                            !this.isEntryInRange(s) && s.curX > t && s.curX < e && (e = s.curX), !this.isEntryInRange(s) && s.curX < t && (n = s.curX, i = s.curWidth)
                        }
                        return Math.max(i, e - t) + 1
                    }, e.prototype.getBackwardsHeightMove = function() {
                        for (var t = this.wrappingHeight, e = this.wrappingHeight, i = 0, n = this.wrappingHeight, r = 0; r < this.entries.length; r++) {
                            var s = this.entries[r];
                            this.isEntryInRange(s) && s.curY < t && (t = s.curY, i = s.curHeight)
                        }
                        for (var r = 0; r < this.entries.length; r++) {
                            var s = this.entries[r];
                            !this.isEntryInRange(s) && s.curY > t && s.curY < e && (e = s.curY), !this.isEntryInRange(s) && s.curY < t && (n = s.curX, i = s.curHeight)
                        }
                        return Math.max(i, e - t) + 1
                    }, e.prototype.addLegendOffset = function(t, e) {
                        this.leftOffsetStart = this.leftOffset, this.topOffsetStart = this.topOffset, this.leftOffsetEnd = this.leftOffset + t, this.topOffsetEnd = this.topOffset + e, this.offsetStartTime = performance.now() / 1e3, this.clampTopOffsetToEntries(), this.clampLeftOffsetToEntries(), this.leftOffsetEnd = this.leftOffsetEnd < this.maxLeftOffset ? Math.floor(this.leftOffsetEnd) : this.maxLeftOffset, this.topOffsetEnd = this.topOffsetEnd < this.maxTopOffset ? Math.floor(this.topOffsetEnd) : this.maxTopOffset, this.leftOffsetEnd = Math.min(Math.max(this.leftOffsetEnd, 0), this.maxLeftOffset), this.topOffsetEnd = Math.min(Math.max(this.topOffsetEnd, 0), this.maxTopOffset), this.leftOffset = Math.min(Math.max(this.leftOffset, 0), this.maxLeftOffset), this.topOffset = Math.min(Math.max(this.topOffset, 0), this.maxTopOffset), this.chart.events.requestPaint(), this.chart.notifyChartUpdate("user", !0)
                    }, e.prototype.clampTopOffsetToEntries = function() {
                        for (var t = 0, e = this.maxTopOffset, i = 0; i < this.entries.length; i++) {
                            var n = this.entries[i].curY;
                            n > this.topOffsetEnd && n < e && (e = n), n < this.topOffsetEnd && n > t && (t = n)
                        }
                        var r = Math.abs(t - this.topOffsetStart) < Math.abs(e - this.topOffsetStart) ? t : e;
                        Math.abs(r - this.topOffsetStart) > 0 && Math.abs(r - this.topOffsetStart) < Math.abs(this.topOffsetEnd - this.topOffsetStart) && (this.topOffsetEnd = r, this.topOffsetEnd = Math.min(Math.max(this.topOffsetEnd, 0), this.maxTopOffset))
                    }, e.prototype.clampLeftOffsetToEntries = function() {
                        for (var t = 0, e = this.maxLeftOffset, i = 0; i < this.entries.length; i++) {
                            var n = this.entries[i].curX;
                            n > this.leftOffsetEnd && n < e && (e = n), n < this.leftOffsetEnd && n > t && (t = n)
                        }
                        var r = Math.abs(t - this.leftOffsetStart) < Math.abs(e - this.leftOffsetStart) ? t : e;
                        Math.abs(r - this.leftOffsetStart) > 0 && Math.abs(r - this.leftOffsetStart) < Math.abs(this.leftOffsetEnd - this.leftOffsetStart) && (this.leftOffsetEnd = r, this.leftOffsetEnd = Math.min(Math.max(this.leftOffsetEnd, 0), this.maxLeftOffset))
                    }, e.prototype.updateArrowHover = function(t, e) {
                        "left" === e ? (this.leftArrow.update(t, !0, this.getMaxArrowSize()), this.rightArrow.update(t, !1, this.getMaxArrowSize())) : "right" === e ? (this.leftArrow.update(t, !1, this.getMaxArrowSize()), this.rightArrow.update(t, !0, this.getMaxArrowSize())) : (this.leftArrow.update(t, !1, this.getMaxArrowSize()), this.rightArrow.update(t, !1, this.getMaxArrowSize()))
                    }, e
                }(M);
                r.Legend = Bt;
                var Ut = function() {
                    function t() {}
                    return t
                }();
                Ut.BaseIChartErrorEventArguments = {}, Ut.BaseIChartEventArguments = {}, Ut.BaseIChartLassoUpdatedEventArguments = {}, Ut.BaseIChartSettingsChangeEventArguments = {}, Ut.BaseIDataErrorResponse = {
                    error: {
                        t: 0
                    }
                }, Ut.BaseIDataObjectBase = {
                    extra: {
                        t: 10
                    }
                }, Ut.BaseISettingsClassMap = {}, Ut.BaseSettings = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsAdvanced
                        },
                        x: function() {
                            return i.Base.SettingsAdvanced
                        }
                    },
                    area: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsArea
                        },
                        x: function() {
                            return i.Base.SettingsArea
                        }
                    },
                    assetsUrlBase: {
                        t: 0
                    },
                    callbacks: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsCallbacks
                        },
                        x: function() {
                            return i.Base.SettingsCallbacks
                        }
                    },
                    container: {
                        t: 3
                    },
                    credits: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsCredits
                        },
                        x: function() {
                            return i.Base.SettingsCredits
                        }
                    },
                    data: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.BaseSettingsData
                            },
                            x: function() {
                                return i.Base.SettingsData
                            }
                        }]
                    },
                    events: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsEvents(Ut.BaseIChartEventArguments, Ut.BaseIChartEventArguments)
                        },
                        x: function() {
                            return i.Base.SettingsEvents
                        }
                    },
                    interaction: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsInteraction
                        },
                        x: function() {
                            return i.Base.SettingsInteraction
                        }
                    },
                    legend: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLegend
                        },
                        x: function() {
                            return i.Base.SettingsLegend
                        }
                    },
                    localization: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLocalization
                        },
                        x: function() {
                            return i.Base.SettingsLocalization
                        }
                    },
                    parentChart: {
                        t: 5
                    },
                    theme: {
                        t: 5,
                        c: function() {
                            return Ut.BaseSettings
                        },
                        x: function() {
                            return i.Base.Settings
                        },
                        y: !0
                    },
                    title: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsTitle
                        },
                        x: function() {
                            return i.Base.SettingsTitle
                        }
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsToolbar
                        },
                        x: function() {
                            return i.Base.SettingsToolbar
                        }
                    }
                }, Ut.BaseSettingsAdvanced = {
                    assets: {
                        t: 6,
                        u: 3,
                        b: [{
                            t: 7,
                            u: 0,
                            b: [{
                                t: 5,
                                u: 0,
                                c: function() {
                                    return {
                                        url: {
                                            t: 0
                                        },
                                        required: {
                                            t: 4
                                        }
                                    }
                                }
                            }, {
                                t: 0
                            }]
                        }]
                    },
                    crossOriginHeader: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    dataExportFunction: {
                        t: 4
                    },
                    dataRequestClass: {
                        t: 0
                    },
                    defaultExportFileName: {
                        t: 0
                    },
                    exportPdfSize: {
                        t: 12,
                        b: [{
                            t: 1
                        }, {
                            t: 1
                        }]
                    },
                    highDPI: {
                        t: 7,
                        b: [{
                            t: 9
                        }, {
                            t: 1
                        }]
                    },
                    imageExportRenderingFunction: {
                        t: 4
                    },
                    labelCache: {
                        t: 9
                    },
                    labelCacheRotated: {
                        t: 9
                    },
                    logging: {
                        t: 9
                    },
                    maxCanvasHeight: {
                        t: 1,
                        d: 0
                    },
                    maxCanvasWidth: {
                        t: 1,
                        d: 0
                    },
                    pointer: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsAdvancedPointer
                        },
                        x: function() {
                            return i.Base.SettingsAdvancedPointer
                        }
                    },
                    showFPS: {
                        t: 9
                    },
                    showTimestamp: {
                        t: 9
                    },
                    showTouchTrail: {
                        t: 9
                    },
                    showTouches: {
                        t: 9
                    },
                    strictEscaping: {
                        t: 9
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsAdvancedStyle
                        },
                        x: function() {
                            return i.Base.SettingsAdvancedStyle
                        }
                    },
                    themeCSSClass: {
                        t: 0
                    },
                    useAnimationFrame: {
                        t: 9
                    }
                }, Ut.BaseSettingsAdvancedPointer = {
                    clickSensitivity: {
                        t: 1
                    },
                    doubleClickSensitivity: {
                        t: 1
                    },
                    doubleClickTimeout: {
                        t: 1,
                        d: 0
                    },
                    longPressSensitivity: {
                        t: 1,
                        d: 0
                    },
                    longPressTimeout: {
                        t: 1,
                        d: 0
                    },
                    mouseWheelRequiresFocus: {
                        t: 9
                    },
                    noClickOnDoubleClick: {
                        t: 9
                    },
                    scrollIntoView: {
                        t: 9
                    },
                    speedAveragingPeriod: {
                        t: 1,
                        d: 0
                    }
                }, Ut.BaseSettingsAdvancedStyle = {
                    loadingArcStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                lineColor: {
                                    t: 0
                                },
                                lineWidth: {
                                    t: 1
                                },
                                location: {
                                    t: 0,
                                    d: 6
                                },
                                r: {
                                    t: 1
                                }
                            }
                        }
                    },
                    messageBackgroundStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsAdvancedStyleMessageBackground
                        }
                    },
                    messageTextStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsTextStyle
                        }
                    }
                }, Ut.BaseSettingsAdvancedStyleMessageBackground = {
                    padding: {
                        t: 1
                    }
                }, Ut.BaseSettingsArea = {
                    height: {
                        t: 1
                    },
                    left: {
                        t: 1
                    },
                    maxHeight: {
                        t: 1
                    },
                    maxWidth: {
                        t: 1
                    },
                    minHeight: {
                        t: 1
                    },
                    minWidth: {
                        t: 1
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsAreaStyle
                        },
                        x: function() {
                            return i.Base.SettingsAreaStyle
                        }
                    },
                    top: {
                        t: 1
                    },
                    width: {
                        t: 1
                    }
                }, Ut.BaseSettingsAreaStyle = {
                    fillColor: {
                        t: 0,
                        d: 3
                    },
                    image: {
                        t: 0,
                        d: 4
                    },
                    overlayColor: {
                        t: 0,
                        d: 3
                    }
                }, Ut.BaseSettingsBackgroundStyle = {
                    fillColor: {
                        t: 7,
                        b: [{
                            t: 14
                        }, {
                            t: 0
                        }]
                    },
                    shadowBlur: {
                        t: 1
                    },
                    shadowColor: {
                        t: 0
                    },
                    shadowOffsetX: {
                        t: 1
                    },
                    shadowOffsetY: {
                        t: 1
                    }
                }, Ut.BaseSettingsCallbacks = {
                    renderFailed: {
                        t: 4
                    },
                    renderFinish: {
                        t: 4
                    },
                    renderStart: {
                        t: 4
                    }
                }, Ut.BaseSettingsChartPanel = {
                    align: {
                        t: 0,
                        d: 6
                    },
                    floating: {
                        t: 9
                    },
                    location: {
                        t: 0,
                        d: 6
                    },
                    margin: {
                        t: 1
                    },
                    side: {
                        t: 0,
                        d: 6
                    }
                }, Ut.BaseSettingsCredits = {
                    enabled: {
                        t: 9
                    },
                    enabledOnExport: {
                        t: 9
                    },
                    image: {
                        t: 0,
                        d: 4
                    },
                    imageExport: {
                        t: 0,
                        d: 4
                    },
                    imageScaling: {
                        t: 1
                    },
                    location: {
                        t: 0,
                        d: 6
                    },
                    url: {
                        t: 0,
                        d: 5
                    },
                    urlTarget: {
                        t: 0
                    }
                }, Ut.BaseSettingsData = {
                    format: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    id: {
                        t: 0
                    },
                    numberOfParallelRequests: {
                        t: 1,
                        d: 0
                    },
                    postprocessorFunction: {
                        t: 4
                    },
                    preloaded: {
                        t: 5,
                        c: function() {
                            return Ut.BaseIDataErrorResponse
                        }
                    },
                    requestTimeout: {
                        t: 1,
                        d: 0
                    },
                    url: {
                        t: 0,
                        d: 5
                    },
                    urlParameters: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return {
                                    name: {
                                        t: 0
                                    },
                                    value: {
                                        t: 0
                                    }
                                }
                            }
                        }]
                    }
                }, Ut.BaseSettingsEvents = function(t, e) {
                    return {
                        chartUpdateDelay: {
                            t: 1,
                            d: 0
                        },
                        onChartUpdate: {
                            t: 4
                        },
                        onClick: {
                            t: 4
                        },
                        onDoubleClick: {
                            t: 4
                        },
                        onError: {
                            t: 4
                        },
                        onHoverChange: {
                            t: 4
                        },
                        onLassoChange: {
                            t: 4
                        },
                        onLongPress: {
                            t: 4
                        },
                        onPositionChange: {
                            t: 4
                        },
                        onRightClick: {
                            t: 4
                        },
                        onSelectionChange: {
                            t: 4
                        },
                        onSettingsChange: {
                            t: 4
                        },
                        onTripleClick: {
                            t: 4
                        }
                    }
                }, Ut.BaseSettingsInteraction = {
                    resizing: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsResizer
                        },
                        x: function() {
                            return i.Base.SettingsResizer
                        }
                    }
                }, Ut.BaseSettingsLabelStyle = {
                    align: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    angle: {
                        t: 1,
                        d: 0
                    },
                    aspectRatio: {
                        t: 1
                    },
                    backgroundStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsBackgroundStyle
                        }
                    },
                    borderRadius: {
                        t: 1
                    },
                    extra: {
                        t: 10
                    },
                    forceNoWrap: {
                        t: 9
                    },
                    image: {
                        t: 0,
                        d: 4
                    },
                    imageSlicing: {
                        t: 12,
                        b: [{
                            t: 1
                        }, {
                            t: 1
                        }, {
                            t: 1
                        }, {
                            t: 1
                        }]
                    },
                    lineSpacing: {
                        t: 1
                    },
                    margin: {
                        t: 1
                    },
                    maxWidth: {
                        t: 1
                    },
                    padding: {
                        t: 1
                    },
                    text: {
                        t: 0
                    },
                    textStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsTextStyle
                        }
                    }
                }, Ut.BaseSettingsLegend = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLegendAdvanced
                        },
                        x: function() {
                            return i.Base.SettingsLegendAdvanced
                        }
                    },
                    displayMode: {
                        t: 0
                    },
                    enabled: {
                        t: 9
                    },
                    equalizeRowsColumns: {
                        t: 9
                    },
                    height: {
                        t: 1
                    },
                    interaction: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLegendInteraction
                        },
                        x: function() {
                            return i.Base.SettingsLegendInteraction
                        }
                    },
                    lineSpacing: {
                        t: 1
                    },
                    margin: {
                        t: 1
                    },
                    marker: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLegendMarker
                        },
                        x: function() {
                            return i.Base.SettingsLegendMarker
                        }
                    },
                    maxLineSymbols: {
                        t: 1,
                        d: 0
                    },
                    minHeight: {
                        t: 1
                    },
                    minWidth: {
                        t: 1
                    },
                    numberOfColumns: {
                        t: 1,
                        d: 0
                    },
                    numberOfRows: {
                        t: 1,
                        d: 0
                    },
                    padding: {
                        t: 1
                    },
                    pageScrollAnimationTime: {
                        t: 1
                    },
                    panel: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLegendPanel
                        },
                        x: function() {
                            return i.Base.SettingsLegendPanel
                        }
                    },
                    scrollButtons: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsScrollButtons
                        },
                        x: function() {
                            return i.Base.SettingsScrollButtons
                        }
                    },
                    shouldForceWrapLongText: {
                        t: 9
                    },
                    shouldHideLongText: {
                        t: 9
                    },
                    text: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsTextStyle
                        }
                    },
                    width: {
                        t: 1
                    }
                }, Ut.BaseSettingsLegendAdvanced = {
                    selectedBackground: {
                        t: 0,
                        d: 3
                    },
                    selectedBorder: {
                        t: 0,
                        d: 3
                    }
                }, Ut.BaseSettingsLegendInteraction = {
                    click: {
                        t: 9
                    }
                }, Ut.BaseSettingsLegendMarker = {
                    alignment: {
                        t: 0,
                        d: 6
                    },
                    lineColor: {
                        t: 0,
                        d: 3
                    },
                    size: {
                        t: 1
                    }
                }, Ut.BaseSettingsLegendPanel = {
                    padding: {
                        t: 1
                    },
                    shouldFill: {
                        t: 9
                    }
                }, Ut.BaseSettingsLineStyle = {
                    lineColor: {
                        t: 0
                    },
                    lineDash: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 1
                        }]
                    },
                    lineDashOffset: {
                        t: 1
                    },
                    lineWidth: {
                        t: 1
                    }
                }, Ut.BaseSettingsLocalization = {
                    closeButton: {
                        t: 0
                    },
                    dataRequestFailed: {
                        t: 0
                    },
                    exportNotAvailable: {
                        t: 0
                    },
                    loadingLabel: {
                        t: 0
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLocalizationToolbar
                        },
                        x: function() {
                            return i.Base.SettingsLocalizationToolbar
                        }
                    }
                }, Ut.BaseSettingsLocalizationToolbar = {
                    backButton: {
                        t: 0
                    },
                    backTitle: {
                        t: 0
                    },
                    exportButton: {
                        t: 0
                    },
                    exportCSV: {
                        t: 0
                    },
                    exportJpeg: {
                        t: 0
                    },
                    exportPDF: {
                        t: 0
                    },
                    exportPNG: {
                        t: 0
                    },
                    exportTitle: {
                        t: 0
                    },
                    exportXLS: {
                        t: 0
                    },
                    fullscreenButton: {
                        t: 0
                    },
                    fullscreenTitle: {
                        t: 0
                    },
                    zoomoutButton: {
                        t: 0
                    },
                    zoomoutTitle: {
                        t: 0
                    }
                }, Ut.BaseSettingsResizer = {
                    enabled: {
                        t: 9
                    },
                    fixedAspect: {
                        t: 9
                    },
                    grabDistance: {
                        t: 1
                    },
                    visibilityDistance: {
                        t: 1
                    }
                }, Ut.BaseSettingsScrollButtons = {
                    enabled: {
                        t: 9
                    },
                    enabledOnExport: {
                        t: 9
                    },
                    hoverSize: {
                        t: 1
                    },
                    hoverSizeActiveAnimationTime: {
                        t: 1
                    },
                    hoverSizeInactiveAnimationTime: {
                        t: 1
                    },
                    size: {
                        t: 1
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fillColor: {
                                    t: 0
                                },
                                hoverFillColor: {
                                    t: 0
                                },
                                hoverLineColor: {
                                    t: 0
                                },
                                lineColor: {
                                    t: 0
                                }
                            }
                        }
                    }
                }, Ut.BaseSettingsTextStyle = {
                    fillColor: {
                        t: 0
                    },
                    font: {
                        t: 0
                    },
                    outlineColor: {
                        t: 0
                    },
                    outlineJoin: {
                        t: 0,
                        d: 6
                    },
                    outlineWidth: {
                        t: 1
                    },
                    shadowBlur: {
                        t: 1
                    },
                    shadowColor: {
                        t: 0
                    },
                    shadowOffsetX: {
                        t: 1
                    },
                    shadowOffsetY: {
                        t: 1
                    }
                }, Ut.BaseSettingsTitle = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                addAfterToolbar: {
                                    t: 9
                                }
                            }
                        }
                    },
                    align: {
                        t: 0,
                        d: 6
                    },
                    enabled: {
                        t: 9
                    },
                    enabledOnExport: {
                        t: 9
                    },
                    location: {
                        t: 0,
                        d: 6
                    },
                    margin: {
                        t: 1
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fillColor: {
                                    t: 0
                                },
                                font: {
                                    t: 0
                                }
                            }
                        }
                    },
                    text: {
                        t: 0
                    },
                    verticalAlign: {
                        t: 0,
                        d: 6
                    }
                }, Ut.BaseSettingsToolbar = {
                    align: {
                        t: 0,
                        d: 6
                    },
                    back: {
                        t: 9
                    },
                    cssClass: {
                        t: 0
                    },
                    direction: {
                        t: 0,
                        d: 6
                    },
                    enabled: {
                        t: 9
                    },
                    export: {
                        t: 9
                    },
                    exportOptions: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 7,
                            b: [{
                                t: 0
                            }]
                        }]
                    },
                    extraItems: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 7,
                            u: 0,
                            b: [{
                                t: 5,
                                u: 0,
                                c: function() {
                                    return Ut.BaseSettingsToolbarItem
                                },
                                x: function() {
                                    return i.Base.SettingsToolbarItem
                                }
                            }, {
                                t: 0
                            }]
                        }]
                    },
                    fullscreen: {
                        t: 9
                    },
                    isSticky: {
                        t: 9
                    },
                    items: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 7,
                            u: 0,
                            b: [{
                                t: 5,
                                u: 0,
                                c: function() {
                                    return Ut.BaseSettingsToolbarItem
                                },
                                x: function() {
                                    return i.Base.SettingsToolbarItem
                                }
                            }, {
                                t: 0
                            }]
                        }]
                    },
                    limitDropdownHeight: {
                        t: 9
                    },
                    location: {
                        t: 0,
                        d: 6
                    },
                    showLabels: {
                        t: 9
                    },
                    side: {
                        t: 0,
                        d: 6
                    },
                    zoomOut: {
                        t: 9
                    }
                }, Ut.BaseSettingsToolbarItem = {
                    align: {
                        t: 0,
                        d: 6
                    },
                    dropDownItems: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.BaseSettingsToolbarItemBase
                            },
                            x: function() {
                                return i.Base.SettingsToolbarItemBase
                            }
                        }]
                    },
                    item: {
                        t: 0,
                        d: 6
                    },
                    location: {
                        t: 0,
                        d: 6
                    },
                    showLabel: {
                        t: 9
                    },
                    side: {
                        t: 0,
                        d: 6
                    }
                }, Ut.BaseSettingsToolbarItemBase = {
                    cssClass: {
                        t: 0
                    },
                    enabled: {
                        t: 9
                    },
                    image: {
                        t: 0,
                        d: 4
                    },
                    label: {
                        t: 0
                    },
                    onClick: {
                        t: 4
                    },
                    title: {
                        t: 0
                    }
                }, Ut.BaseSettingsValueAxisThreshold = {
                    from: {
                        t: 1
                    },
                    fromType: {
                        t: 0,
                        d: 6
                    },
                    label: {
                        t: 0
                    },
                    labelDecimals: {
                        t: 1
                    },
                    labelDisplayUnits: {
                        t: 0
                    },
                    labelHorizontalPadding: {
                        t: 1
                    },
                    labelHorizontalPosition: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    labelStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLabelStyle
                        }
                    },
                    labelType: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    labelVerticalPadding: {
                        t: 1
                    },
                    labelVerticalPosition: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    percentileFrom: {
                        t: 1
                    },
                    percentileTo: {
                        t: 1
                    },
                    position: {
                        t: 0,
                        d: 6
                    },
                    seriesID: {
                        t: 0
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fillColor: {
                                    t: 0,
                                    d: 3
                                },
                                lineColor: {
                                    t: 0,
                                    d: 3
                                },
                                lineDash: {
                                    t: 6,
                                    u: 0,
                                    b: [{
                                        t: 1
                                    }]
                                },
                                lineWidth: {
                                    t: 1
                                }
                            }
                        }
                    },
                    to: {
                        t: 1
                    },
                    toType: {
                        t: 0,
                        d: 6
                    },
                    valueFunction: {
                        t: 4
                    }
                }, Ut.BaseSettingsValueAxisTitleStyle = {
                    reverseDirection: {
                        t: 9
                    }
                }, Ut.FacetChartIChartClickEventArguments = {}, Ut.FacetChartIChartEventArguments = {}, Ut.FacetChartIDataObject = {
                    id: {
                        t: 0
                    },
                    name: {
                        t: 0
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsFacetStyle
                        },
                        x: function() {
                            return i.FacetChart.SettingsFacetStyle
                        }
                    },
                    subvalues: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.FacetChartIDataObject
                            }
                        }]
                    },
                    value: {
                        t: 1
                    }
                }, Ut.FacetChartIDataObjectCommon = {
                    id: {
                        t: 0
                    },
                    name: {
                        t: 0
                    },
                    subvalues: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.FacetChartIDataObject
                            }
                        }]
                    }
                }, Ut.FacetChartIDataObjectRoot = {
                    afterSum: {
                        t: 1
                    },
                    beforeSum: {
                        t: 1
                    },
                    id: {
                        t: 0
                    },
                    limit: {
                        t: 1
                    },
                    name: {
                        t: 0
                    },
                    offset: {
                        t: 1
                    },
                    subvalues: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.FacetChartIDataObject
                            }
                        }]
                    },
                    sum: {
                        t: 1
                    }
                }, Ut.FacetChartSettings = {
                    area: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsArea
                        },
                        x: function() {
                            return i.FacetChart.SettingsArea
                        }
                    },
                    chartTypes: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                columns: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.FacetChartSettingsSeriesColumns
                                    },
                                    x: function() {
                                        return i.FacetChart.SettingsSeriesColumns
                                    },
                                    y: !0
                                },
                                line: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.FacetChartSettingsSeriesLines
                                    },
                                    x: function() {
                                        return i.FacetChart.SettingsSeriesLines
                                    },
                                    y: !0
                                }
                            }
                        }
                    },
                    data: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.FacetChartSettingsData
                            },
                            x: function() {
                                return i.FacetChart.SettingsData
                            }
                        }]
                    },
                    events: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsEvents(Ut.FacetChartIChartEventArguments, Ut.FacetChartIChartClickEventArguments)
                        },
                        x: function() {
                            return i.LinearChart.SettingsEvents
                        }
                    },
                    facetAxis: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsFacetAxis
                        },
                        x: function() {
                            return i.FacetChart.SettingsFacetAxis
                        }
                    },
                    filters: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                allowZeroValues: {
                                    t: 9
                                },
                                sliceFilter: {
                                    t: 4
                                }
                            }
                        }
                    },
                    interaction: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsInteraction
                        },
                        x: function() {
                            return i.FacetChart.SettingsInteraction
                        }
                    },
                    items: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                style: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return {
                                            expandable: {
                                                t: 9
                                            },
                                            label: {
                                                t: 0
                                            }
                                        }
                                    }
                                },
                                styleFunction: {
                                    t: 4
                                }
                            }
                        }
                    },
                    legend: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsLegend
                        },
                        x: function() {
                            return i.LinearChart.SettingsLegend
                        }
                    },
                    navigation: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                initialDrilldown: {
                                    t: 6,
                                    u: 0,
                                    b: [{
                                        t: 0
                                    }]
                                },
                                initialOffset: {
                                    t: 1,
                                    d: 0
                                }
                            }
                        }
                    },
                    series: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.FacetChartSettingsSeries
                            },
                            x: function() {
                                return i.FacetChart.SettingsSeries
                            },
                            y: !0
                        }]
                    },
                    seriesDefault: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsSeries
                        },
                        x: function() {
                            return i.FacetChart.SettingsSeries
                        },
                        y: !0
                    },
                    theme: {
                        t: 5,
                        c: function() {
                            return Ut.FacetChartSettings
                        },
                        x: function() {
                            return i.FacetChart.Settings
                        },
                        y: !0
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsToolbar
                        },
                        x: function() {
                            return i.FacetChart.SettingsToolbar
                        }
                    }
                }, Ut.FacetChartSettingsArea = {
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsAreaStyle
                        },
                        x: function() {
                            return i.FacetChart.SettingsAreaStyle
                        }
                    }
                }, Ut.FacetChartSettingsAreaStyle = {
                    selection: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsAreaStyleSelection
                        },
                        x: function() {
                            return i.FacetChart.SettingsAreaStyleSelection
                        }
                    }
                }, Ut.FacetChartSettingsAreaStyleSelection = {
                    behindSeries: {
                        t: 9
                    },
                    fillColor: {
                        t: 0
                    },
                    lineColor: {
                        t: 0
                    },
                    lineWidth: {
                        t: 1
                    }
                }, Ut.FacetChartSettingsData = {
                    dataFunction: {
                        t: 4
                    },
                    preloaded: {
                        t: 5,
                        c: function() {
                            return Ut.FacetChartIDataObjectRoot
                        }
                    },
                    sortField: {
                        t: 7,
                        u: 0,
                        b: [{
                            t: 4
                        }, {
                            t: 6,
                            u: 0,
                            b: [{
                                t: 0
                            }]
                        }, {
                            t: 0
                        }]
                    }
                }, Ut.FacetChartSettingsFacetAxis = {
                    defaultUnitWidth: {
                        t: 1
                    },
                    enabled: {
                        t: 9
                    },
                    labels: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsFacetAxisLabels
                        }
                    },
                    maxSize: {
                        t: 1
                    },
                    maxUnitWidth: {
                        t: 1
                    },
                    minUnitWidth: {
                        t: 1
                    },
                    size: {
                        t: 1
                    },
                    title: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsFacetAxisTitleStyle
                        }
                    },
                    zoomOutUnitWidth: {
                        t: 1
                    }
                }, Ut.FacetChartSettingsFacetAxisLabels = {
                    allowOverflow: {
                        t: 9
                    },
                    enabled: {
                        t: 9
                    },
                    interLabelSpacing: {
                        t: 1
                    },
                    text: {
                        t: 0
                    }
                }, Ut.FacetChartSettingsFacetAxisTitleStyle = {
                    enabled: {
                        t: 9
                    },
                    text: {
                        t: 0
                    },
                    useFacetName: {
                        t: 9
                    }
                }, Ut.FacetChartSettingsFacetStyle = {
                    expandable: {
                        t: 9
                    }
                }, Ut.FacetChartSettingsInteraction = {
                    animation: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                scrollDuration: {
                                    t: 1,
                                    d: 0
                                }
                            }
                        }
                    },
                    mode: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    selection: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsInteractionSelection
                        },
                        x: function() {
                            return i.FacetChart.SettingsInteractionSelection
                        }
                    }
                }, Ut.FacetChartSettingsInteractionSelection = {
                    enabled: {
                        t: 9
                    },
                    tolerance: {
                        t: 1
                    }
                }, Ut.FacetChartSettingsSeries = {
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsSeriesData
                        },
                        x: function() {
                            return i.FacetChart.SettingsSeriesData
                        }
                    },
                    type: {
                        t: 0,
                        d: 6
                    }
                }, Ut.FacetChartSettingsSeriesColumns = {
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsSeriesData
                        },
                        x: function() {
                            return i.FacetChart.SettingsSeriesData
                        }
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsSeriesColumnsStyle
                        },
                        x: function() {
                            return i.FacetChart.SettingsSeriesColumnsStyle
                        }
                    }
                }, Ut.FacetChartSettingsSeriesColumnsStyle = {
                    previewContents: {
                        t: 9
                    },
                    previewLineColor: {
                        t: 0
                    }
                }, Ut.FacetChartSettingsSeriesData = {
                    field: {
                        t: 0
                    },
                    valueFunction: {
                        t: 4
                    }
                }, Ut.FacetChartSettingsSeriesLines = {
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsSeriesData
                        },
                        x: function() {
                            return i.FacetChart.SettingsSeriesData
                        }
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.FacetChartSettingsSeriesLinesStyle
                        },
                        x: function() {
                            return i.FacetChart.SettingsSeriesLinesStyle
                        }
                    }
                }, Ut.FacetChartSettingsSeriesLinesStyle = {
                    markerStyleFunction: {
                        t: 4
                    }
                }, Ut.FacetChartSettingsToolbar = {
                    enabled: {
                        t: 9
                    },
                    items: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.BaseSettingsToolbarItem
                            },
                            x: function() {
                                return i.Base.SettingsToolbarItem
                            }
                        }]
                    },
                    logScale: {
                        t: 9
                    },
                    zoomOut: {
                        t: 9
                    }
                }, Ut.GeoChartIAggregationDataObjectNode = {
                    aggregatedNodes: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.GeoChartIGeoDataObjectNode
                            }
                        }]
                    },
                    aggregatedWeight: {
                        t: 1
                    }
                }, Ut.GeoChartIDataObject = {
                    clearCache: {
                        t: 9
                    },
                    east: {
                        t: 1
                    },
                    links: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.GeoChartIGeoDataObjectLink
                            }
                        }]
                    },
                    nodes: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.GeoChartIGeoDataObjectNode
                            }
                        }]
                    },
                    north: {
                        t: 1
                    },
                    south: {
                        t: 1
                    },
                    west: {
                        t: 1
                    }
                }, Ut.GeoChartIGeoDataObjectLink = {}, Ut.GeoChartIGeoDataObjectNode = {
                    aggregate: {
                        t: 9
                    },
                    coordinates: {
                        t: 7,
                        u: 0,
                        b: [{
                            t: 6,
                            u: 0,
                            b: [{
                                t: 6,
                                u: 0,
                                b: [{
                                    t: 1
                                }]
                            }]
                        }, {
                            t: 12,
                            b: [{
                                t: 1
                            }, {
                                t: 1
                            }]
                        }]
                    },
                    count: {
                        t: 1
                    },
                    shapeFeature: {
                        t: 10
                    },
                    shapeGeometry: {
                        t: 10
                    },
                    type: {
                        t: 0
                    }
                }, Ut.GeoChartSettings = {
                    area: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsArea
                        },
                        x: function() {
                            return i.GeoChart.SettingsArea
                        }
                    },
                    background: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsBackground
                        },
                        x: function() {
                            return i.GeoChart.SettingsBackground
                        }
                    },
                    data: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.GeoChartSettingsData
                            },
                            x: function() {
                                return i.GeoChart.SettingsData
                            }
                        }]
                    },
                    filters: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                nodeFilter: {
                                    t: 4
                                }
                            }
                        }
                    },
                    interaction: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsInteraction
                        },
                        x: function() {
                            return i.GeoChart.SettingsInteraction
                        }
                    },
                    layerTypes: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                aggregateOnShapes: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.GeoChartSettingsLayerAggregated
                                    },
                                    x: function() {
                                        return i.GeoChart.SettingsLayerAggregated
                                    },
                                    y: !0
                                },
                                charts: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.GeoChartSettingsLayerCharts
                                    },
                                    x: function() {
                                        return i.GeoChart.SettingsLayerCharts
                                    },
                                    y: !0
                                },
                                items: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.GeoChartSettingsLayerItems
                                    },
                                    x: function() {
                                        return i.GeoChart.SettingsLayerItems
                                    },
                                    y: !0
                                },
                                shapes: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.GeoChartSettingsLayerShapes
                                    },
                                    x: function() {
                                        return i.GeoChart.SettingsLayerShapes
                                    },
                                    y: !0
                                }
                            }
                        }
                    },
                    layers: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.GeoChartSettingsLayerBase
                            },
                            x: function() {
                                return i.GeoChart.SettingsLayerBase
                            },
                            y: !0
                        }]
                    },
                    layersDefault: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsLayerBase
                        },
                        x: function() {
                            return i.GeoChart.SettingsLayerBase
                        },
                        y: !0
                    },
                    navigation: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                drilldownLayer: {
                                    t: 0
                                },
                                initialDrilldown: {
                                    t: 6,
                                    u: 0,
                                    b: [{
                                        t: 0
                                    }]
                                },
                                initialLat: {
                                    t: 1
                                },
                                initialLng: {
                                    t: 1
                                },
                                initialZoom: {
                                    t: 1
                                },
                                maxBounds: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return {
                                            east: {
                                                t: 1
                                            },
                                            north: {
                                                t: 1
                                            },
                                            south: {
                                                t: 1
                                            },
                                            west: {
                                                t: 1
                                            }
                                        }
                                    }
                                },
                                maxZoom: {
                                    t: 1
                                },
                                minZoom: {
                                    t: 1
                                }
                            }
                        }
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fadeTime: {
                                    t: 1
                                },
                                selection: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return {
                                            fillColor: {
                                                t: 0
                                            },
                                            sizeConstant: {
                                                t: 1
                                            },
                                            sizeProportional: {
                                                t: 1
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    theme: {
                        t: 5,
                        c: function() {
                            return Ut.GeoChartSettings
                        },
                        x: function() {
                            return i.GeoChart.Settings
                        },
                        y: !0
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsToolbar
                        },
                        x: function() {
                            return i.Base.SettingsToolbar
                        }
                    }
                }, Ut.GeoChartSettingsAggregatedShapeStyle = {
                    mode: {
                        t: 2,
                        e: function() {
                            return e.GeoChartSettingsAggregatedShapeStyleMode
                        }
                    }
                }, Ut.GeoChartSettingsAggregation = {
                    distance: {
                        t: 1,
                        d: 0
                    },
                    enabled: {
                        t: 9
                    },
                    ignoreZeroWeight: {
                        t: 9
                    },
                    maxZoom: {
                        t: 1,
                        d: 0
                    },
                    postProcessAggregatedNodes: {
                        t: 4
                    },
                    shouldCentralize: {
                        t: 9
                    },
                    weightFunction: {
                        t: 4
                    }
                }, Ut.GeoChartSettingsArea = {
                    showLeafletZoom: {
                        t: 9
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsAreaStyle
                        },
                        x: function() {
                            return i.GeoChart.SettingsAreaStyle
                        }
                    }
                }, Ut.GeoChartSettingsAreaStyle = {}, Ut.GeoChartSettingsBackground = {
                    enabled: {
                        t: 9
                    },
                    params: {
                        t: 7,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.GeoChartSettingsBackgroundParams
                            }
                        }, {
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.GeoChartSettingsWmsParams
                            }
                        }]
                    },
                    type: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    url: {
                        t: 0
                    }
                }, Ut.GeoChartSettingsBackgroundParams = {
                    attribution: {
                        t: 0
                    },
                    continuousWorld: {
                        t: 9
                    },
                    detectRetina: {
                        t: 9
                    },
                    errorTileUrl: {
                        t: 0
                    },
                    maxNativeZoom: {
                        t: 1
                    },
                    maxZoom: {
                        t: 1
                    },
                    minZoom: {
                        t: 1
                    },
                    noWrap: {
                        t: 9
                    },
                    opacity: {
                        t: 1
                    },
                    reuseTiles: {
                        t: 9
                    },
                    subdomains: {
                        t: 7,
                        u: 0,
                        b: [{
                            t: 6,
                            u: 0,
                            b: [{
                                t: 0
                            }]
                        }, {
                            t: 0
                        }]
                    },
                    tileSize: {
                        t: 1
                    },
                    tms: {
                        t: 9
                    },
                    unloadInvisibleTiles: {
                        t: 9
                    },
                    updateWhenIdle: {
                        t: 9
                    },
                    zIndex: {
                        t: 1
                    },
                    zoomOffset: {
                        t: 1
                    },
                    zoomReverse: {
                        t: 9
                    }
                }, Ut.GeoChartSettingsData = {
                    aggregationGridSize: {
                        t: 1
                    },
                    aggregationMinCount: {
                        t: 1
                    },
                    bounds: {
                        t: 12,
                        b: [{
                            t: 1
                        }, {
                            t: 1
                        }, {
                            t: 1
                        }, {
                            t: 1
                        }]
                    },
                    dataFunction: {
                        t: 4
                    },
                    maxRequestRect: {
                        t: 12,
                        b: [{
                            t: 1
                        }, {
                            t: 1
                        }]
                    },
                    perBoundsData: {
                        t: 9
                    },
                    perDrilldownData: {
                        t: 9
                    },
                    perZoomData: {
                        t: 9
                    },
                    prefetchRatio: {
                        t: 1
                    },
                    preloaded: {
                        t: 5,
                        c: function() {
                            return Ut.GeoChartIDataObject
                        }
                    },
                    useGridBasedAggregation: {
                        t: 9
                    },
                    wrapLng: {
                        t: 9
                    }
                }, Ut.GeoChartSettingsInteraction = {
                    mode: {
                        t: 0,
                        d: 6
                    },
                    zooming: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsInteractionZooming
                        },
                        x: function() {
                            return i.GeoChart.SettingsInteractionZooming
                        }
                    }
                }, Ut.GeoChartSettingsInteractionZooming = {
                    zoomInOnDoubleClick: {
                        t: 9
                    }
                }, Ut.GeoChartSettingsLayerAggregated = {
                    aggregation: {
                        t: 0,
                        d: 6
                    },
                    aggregationField: {
                        t: 0
                    },
                    aggregationFunction: {
                        t: 4
                    },
                    shapesLayer: {
                        t: 0
                    },
                    styleFunction: {
                        t: 4
                    }
                }, Ut.GeoChartSettingsLayerBase = {
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                id: {
                                    t: 0
                                }
                            }
                        }
                    },
                    enabled: {
                        t: 9
                    },
                    id: {
                        t: 0
                    },
                    maxZoom: {
                        t: 1,
                        d: 0
                    },
                    minZoom: {
                        t: 1,
                        d: 0
                    },
                    name: {
                        t: 0
                    },
                    perZoomStyle: {
                        t: 9
                    },
                    type: {
                        t: 0,
                        d: 6
                    },
                    useFindObjectHack: {
                        t: 9
                    }
                }, Ut.GeoChartSettingsLayerCharts = {
                    chartType: {
                        t: 0,
                        d: 6
                    },
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                id: {
                                    t: 0
                                }
                            }
                        }
                    },
                    settings: {
                        t: 7,
                        b: [{
                            t: 5,
                            c: function() {
                                return Ut.FacetChartSettings
                            },
                            x: function() {
                                return i.FacetChart.Settings
                            },
                            y: !0
                        }, {
                            t: 5,
                            c: function() {
                                return Ut.PieChartSettings
                            },
                            x: function() {
                                return i.PieChart.Settings
                            },
                            y: !0
                        }, {
                            t: 5,
                            c: function() {
                                return Ut.TimeChartSettings
                            },
                            x: function() {
                                return i.TimeChart.Settings
                            },
                            y: !0
                        }]
                    },
                    settingsFunction: {
                        t: 4
                    },
                    shapesLayer: {
                        t: 0
                    }
                }, Ut.GeoChartSettingsLayerItems = {
                    aggregation: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsAggregation
                        },
                        x: function() {
                            return i.GeoChart.SettingsAggregation
                        }
                    },
                    auras: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodesLayerAuras
                        },
                        x: function() {
                            return i.ItemsChart.SettingsNodesLayerAuras
                        }
                    },
                    layout: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsNodesLayout
                        },
                        x: function() {
                            return i.GeoChart.SettingsNodesLayout
                        }
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsNodesLayerStyle
                        },
                        x: function() {
                            return i.GeoChart.SettingsNodesLayerStyle
                        }
                    }
                }, Ut.GeoChartSettingsLayerOverlay = {
                    shapesLayer: {
                        t: 0
                    }
                }, Ut.GeoChartSettingsLayerShapes = {
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsShapesLayerStyle
                        },
                        x: function() {
                            return i.GeoChart.SettingsShapesLayerStyle
                        }
                    }
                }, Ut.GeoChartSettingsNodesLayerStyle = {
                    aggregatedShape: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsAggregatedShapeStyle
                        }
                    }
                }, Ut.GeoChartSettingsNodesLayout = {
                    anchorStrength: {
                        t: 1
                    },
                    mode: {
                        t: 0,
                        d: 6
                    },
                    nodeSpacing: {
                        t: 1,
                        d: 0
                    }
                }, Ut.GeoChartSettingsShapesLayerNodeStyle = {
                    expandable: {
                        t: 9
                    }
                }, Ut.GeoChartSettingsShapesLayerStyle = {
                    node: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.GeoChartSettingsShapesLayerNodeStyle
                        }
                    },
                    shapeSimplificationPrecision: {
                        t: 1
                    }
                }, Ut.GeoChartSettingsWmsParams = {
                    format: {
                        t: 0
                    },
                    layers: {
                        t: 0
                    },
                    styles: {
                        t: 0
                    },
                    transparent: {
                        t: 9
                    },
                    version: {
                        t: 0
                    }
                }, Ut.ItemsChartIChartClickEventArguments = {}, Ut.ItemsChartIChartEventArguments = {}, Ut.ItemsChartIDataObjectBase = {}, Ut.ItemsChartIDataObjectLink = {
                    className: {
                        t: 0
                    },
                    from: {
                        t: 0
                    },
                    id: {
                        t: 0
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsLinkStyle
                        }
                    },
                    to: {
                        t: 0
                    }
                }, Ut.ItemsChartIDataObjectNode = {
                    className: {
                        t: 0
                    },
                    id: {
                        t: 0
                    },
                    loaded: {
                        t: 9
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    }
                }, Ut.ItemsChartSettings = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsAdvanced
                        },
                        x: function() {
                            return i.ItemsChart.SettingsAdvanced
                        }
                    },
                    data: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.ItemsChartSettingsData
                            },
                            x: function() {
                                return i.ItemsChart.SettingsData
                            }
                        }]
                    },
                    events: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsEvents(Ut.ItemsChartIChartEventArguments, Ut.ItemsChartIChartClickEventArguments)
                        },
                        x: function() {
                            return i.Base.SettingsEvents
                        }
                    },
                    info: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                enabled: {
                                    t: 9
                                },
                                linkContentsFunction: {
                                    t: 4
                                },
                                nodeContentsFunction: {
                                    t: 4
                                }
                            }
                        }
                    },
                    interaction: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsInteraction
                        },
                        x: function() {
                            return i.ItemsChart.SettingsInteraction
                        }
                    },
                    linkMenu: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsLinkMenu
                        },
                        x: function() {
                            return i.ItemsChart.SettingsLinkMenu
                        }
                    },
                    nodeMenu: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeMenu
                        },
                        x: function() {
                            return i.ItemsChart.SettingsNodeMenu
                        }
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {}
                        }
                    }
                }, Ut.ItemsChartSettingsAdvanced = {
                    perNodeLoadingIndicator: {
                        t: 9
                    },
                    useLeafletInteractionContainer: {
                        t: 9
                    }
                }, Ut.ItemsChartSettingsAuraStyle = {
                    enabled: {
                        t: 9
                    },
                    legendGroupId: {
                        t: 0
                    },
                    nameLegend: {
                        t: 0
                    },
                    showInLegend: {
                        t: 9
                    },
                    zIndex: {
                        t: 1
                    }
                }, Ut.ItemsChartSettingsCustomShape = {
                    distanceToEdge: {
                        t: 4
                    },
                    hitTest: {
                        t: 4
                    },
                    onUpdate: {
                        t: 4
                    },
                    paint: {
                        t: 4
                    },
                    paintSelection: {
                        t: 4
                    }
                }, Ut.ItemsChartSettingsData = {
                    cacheSize: {
                        t: 1,
                        d: 0
                    },
                    random: {
                        t: 0,
                        d: 6
                    },
                    randomGridLinkProbability: {
                        t: 1
                    },
                    randomLinks: {
                        t: 1,
                        d: 0
                    },
                    randomNodes: {
                        t: 1,
                        d: 0
                    },
                    randomTreeDensity: {
                        t: 1
                    },
                    requestMaxUnits: {
                        t: 1,
                        d: 0
                    }
                }, Ut.ItemsChartSettingsInteraction = {
                    nodesMovable: {
                        t: 9
                    },
                    panning: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                enabled: {
                                    t: 9
                                }
                            }
                        }
                    },
                    selection: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsInteractionSelection
                        },
                        x: function() {
                            return i.ItemsChart.SettingsInteractionSelection
                        }
                    },
                    zooming: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsInteractionZooming
                        },
                        x: function() {
                            return i.ItemsChart.SettingsInteractionZooming
                        }
                    }
                }, Ut.ItemsChartSettingsInteractionSelection = {
                    allowMoveNodesOffscreen: {
                        t: 9
                    },
                    enabled: {
                        t: 9
                    },
                    linksSelectable: {
                        t: 9
                    },
                    lockNodesOnMove: {
                        t: 9
                    },
                    nodesSelectable: {
                        t: 9
                    },
                    tolerance: {
                        t: 1
                    }
                }, Ut.ItemsChartSettingsInteractionZooming = {
                    autoZoomAfterClick: {
                        t: 9
                    },
                    doubleClickZoom: {
                        t: 1
                    },
                    fingers: {
                        t: 9
                    },
                    fingersOverrideDrag: {
                        t: 9
                    },
                    sensitivity: {
                        t: 1
                    },
                    wheel: {
                        t: 9
                    },
                    zoomInOnDoubleClick: {
                        t: 9
                    }
                }, Ut.ItemsChartSettingsItemClass = {
                    className: {
                        t: 0
                    },
                    legendGroupId: {
                        t: 0
                    },
                    nameLegend: {
                        t: 0
                    },
                    showInLegend: {
                        t: 9
                    }
                }, Ut.ItemsChartSettingsItemsLayerCategoryLabelStyle = {
                    positionX: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    positionY: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    side: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    }
                }, Ut.ItemsChartSettingsItemsLayerItemStyle = {
                    hoverEffect: {
                        t: 9
                    },
                    zIndex: {
                        t: 1
                    }
                }, Ut.ItemsChartSettingsItemsLayerLabelStyle = {
                    scale: {
                        t: 1
                    },
                    scaleWithSize: {
                        t: 9
                    },
                    scaleWithZoom: {
                        t: 9
                    }
                }, Ut.ItemsChartSettingsItemsLayerLinkLabelStyle = {
                    rotateWithLink: {
                        t: 9
                    }
                }, Ut.ItemsChartSettingsItemsLayerStyle = {
                    allObjectsStyleFunction: {
                        t: 4
                    },
                    classSplitChar: {
                        t: 0
                    },
                    item: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsItemsLayerItemStyle
                        }
                    },
                    link: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsLinkStyle
                        }
                    },
                    linkClasses: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.ItemsChartSettingsLinkClass
                            },
                            x: function() {
                                return i.ItemsChart.SettingsLinkClass
                            }
                        }]
                    },
                    linkDecorationMinSize: {
                        t: 1
                    },
                    linkDecorationScale: {
                        t: 1
                    },
                    linkDetailMinSize: {
                        t: 1
                    },
                    linkDetailMinZoom: {
                        t: 1
                    },
                    linkHovered: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsLinkStyle
                        }
                    },
                    linkLabel: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsItemsLayerLinkLabelStyle
                        }
                    },
                    linkLabelScaleBase: {
                        t: 1
                    },
                    linkRules: {
                        t: 8,
                        u: 0,
                        b: [{
                            t: 4
                        }]
                    },
                    linkSelected: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsLinkStyle
                        }
                    },
                    linkStyleFunction: {
                        t: 4
                    },
                    node: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    },
                    nodeAnchor: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeAnchorStyle
                        }
                    },
                    nodeBackground: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    },
                    nodeClasses: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.ItemsChartSettingsNodeClass
                            },
                            x: function() {
                                return i.ItemsChart.SettingsNodeClass
                            }
                        }]
                    },
                    nodeDetailMinSize: {
                        t: 1
                    },
                    nodeDetailMinZoom: {
                        t: 1
                    },
                    nodeExpanded: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    },
                    nodeFocused: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    },
                    nodeHovered: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    },
                    nodeLabel: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsItemsLayerLabelStyle
                        }
                    },
                    nodeLabelScaleBase: {
                        t: 1
                    },
                    nodeLocked: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    },
                    nodeNotLoaded: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    },
                    nodeRules: {
                        t: 8,
                        u: 0,
                        b: [{
                            t: 4
                        }]
                    },
                    nodeSelected: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    },
                    nodeStyleFunction: {
                        t: 4
                    },
                    removedColor: {
                        t: 0,
                        d: 3
                    },
                    scaleLinksWithZoom: {
                        t: 9
                    },
                    scaleObjectsWithZoom: {
                        t: 9
                    },
                    selection: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                enabled: {
                                    t: 9
                                },
                                fillColor: {
                                    t: 0
                                },
                                lineColor: {
                                    t: 0
                                },
                                lineWidth: {
                                    t: 1
                                },
                                shadowBlur: {
                                    t: 1
                                },
                                shadowColor: {
                                    t: 0
                                },
                                shadowOffsetX: {
                                    t: 1
                                },
                                shadowOffsetY: {
                                    t: 1
                                },
                                sizeConstant: {
                                    t: 1
                                },
                                sizeProportional: {
                                    t: 1
                                }
                            }
                        }
                    }
                }, Ut.ItemsChartSettingsLinkClass = {
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsLinkStyle
                        }
                    }
                }, Ut.ItemsChartSettingsLinkItem = {
                    lx: {
                        t: 1
                    },
                    ly: {
                        t: 1
                    },
                    px: {
                        t: 1
                    },
                    py: {
                        t: 1
                    },
                    rotateWithLink: {
                        t: 9
                    },
                    width: {
                        t: 1
                    },
                    x: {
                        t: 1
                    },
                    y: {
                        t: 1
                    }
                }, Ut.ItemsChartSettingsLinkMenu = {
                    buttons: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.ItemsChartSettingsMenuButton
                            },
                            x: function() {
                                return i.ItemsChart.SettingsMenuButton
                            }
                        }]
                    },
                    contentsFunction: {
                        t: 4
                    }
                }, Ut.ItemsChartSettingsLinkStyle = {
                    arcAmount: {
                        t: 1
                    },
                    arcOffset: {
                        t: 1
                    },
                    cursor: {
                        t: 0
                    },
                    definesLayout: {
                        t: 9
                    },
                    direction: {
                        t: 0
                    },
                    fillColor: {
                        t: 0
                    },
                    fromDecoration: {
                        t: 0,
                        d: 6
                    },
                    invisible: {
                        t: 9
                    },
                    items: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.ItemsChartSettingsLinkItem
                            }
                        }]
                    },
                    label: {
                        t: 0
                    },
                    length: {
                        t: 1
                    },
                    lineDash: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 1
                        }]
                    },
                    lineDashBackgroundFillColor: {
                        t: 0
                    },
                    lineDashShape: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    orthogonalOffset: {
                        t: 1
                    },
                    radius: {
                        t: 1
                    },
                    shadowBlur: {
                        t: 1
                    },
                    shadowColor: {
                        t: 0
                    },
                    shadowOffsetX: {
                        t: 1
                    },
                    shadowOffsetY: {
                        t: 1
                    },
                    strength: {
                        t: 1
                    },
                    toDecoration: {
                        t: 0,
                        d: 6
                    },
                    toPieColor: {
                        t: 0
                    },
                    toPieValue: {
                        t: 1
                    }
                }, Ut.ItemsChartSettingsMenu = {
                    buttons: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 7,
                            u: 0,
                            b: [{
                                t: 5,
                                u: 0,
                                c: function() {
                                    return Ut.ItemsChartSettingsMenuButton
                                },
                                x: function() {
                                    return i.ItemsChart.SettingsMenuButton
                                }
                            }, {
                                t: 0
                            }]
                        }]
                    },
                    contentsFunction: {
                        t: 4
                    },
                    enabled: {
                        t: 9
                    },
                    showData: {
                        t: 9
                    }
                }, Ut.ItemsChartSettingsMenuButton = {
                    className: {
                        t: 0
                    },
                    onClick: {
                        t: 4
                    },
                    onInit: {
                        t: 4
                    },
                    onRefresh: {
                        t: 4
                    },
                    text: {
                        t: 7,
                        b: [{
                            t: 3
                        }, {
                            t: 0
                        }]
                    },
                    title: {
                        t: 0
                    }
                }, Ut.ItemsChartSettingsNodeAnchorStyle = {
                    lineColor: {
                        t: 0
                    },
                    lineDash: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 1
                        }]
                    },
                    lineWidth: {
                        t: 1
                    },
                    shadowBlur: {
                        t: 1
                    },
                    shadowColor: {
                        t: 0
                    },
                    shadowOffsetX: {
                        t: 1
                    },
                    shadowOffsetY: {
                        t: 1
                    }
                }, Ut.ItemsChartSettingsNodeClass = {
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeStyle
                        }
                    }
                }, Ut.ItemsChartSettingsNodeItem = {
                    px: {
                        t: 1
                    },
                    py: {
                        t: 1
                    },
                    x: {
                        t: 1
                    },
                    y: {
                        t: 1
                    }
                }, Ut.ItemsChartSettingsNodeMenu = {
                    buttons: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 7,
                            u: 0,
                            b: [{
                                t: 5,
                                u: 0,
                                c: function() {
                                    return Ut.ItemsChartSettingsMenuButton
                                },
                                x: function() {
                                    return i.ItemsChart.SettingsMenuButton
                                }
                            }, {
                                t: 0
                            }]
                        }]
                    },
                    contentsFunction: {
                        t: 4
                    },
                    position: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    }
                }, Ut.ItemsChartSettingsNodeStyle = {
                    anchorMode: {
                        t: 2,
                        e: function() {
                            return i.ItemsChart.NodeAnchorMode
                        }
                    },
                    anchorStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodeAnchorStyle
                        }
                    },
                    anchorX: {
                        t: 1
                    },
                    anchorY: {
                        t: 1
                    },
                    aspectRatio: {
                        t: 1
                    },
                    aura: {
                        t: 7,
                        u: 0,
                        b: [{
                            t: 6,
                            u: 0,
                            b: [{
                                t: 0
                            }]
                        }, {
                            t: 0
                        }]
                    },
                    coordinates: {
                        t: 7,
                        u: 0,
                        b: [{
                            t: 6,
                            u: 0,
                            b: [{
                                t: 6,
                                u: 0,
                                b: [{
                                    t: 1
                                }]
                            }]
                        }, {
                            t: 6,
                            u: 0,
                            b: [{
                                t: 1
                            }]
                        }]
                    },
                    cursor: {
                        t: 0,
                        d: 7
                    },
                    customShape: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsCustomShape
                        }
                    },
                    display: {
                        t: 0
                    },
                    draggable: {
                        t: 9
                    },
                    fillColor: {
                        t: 7,
                        b: [{
                            t: 14
                        }, {
                            t: 0
                        }]
                    },
                    fillGradient: {
                        t: 11
                    },
                    hierarchyCategory: {
                        t: 0
                    },
                    hierarchyLevel: {
                        t: 1
                    },
                    hierarchyOffset: {
                        t: 1
                    },
                    image: {
                        t: 0
                    },
                    imageCropping: {
                        t: 7,
                        b: [{
                            t: 0
                        }, {
                            t: 9
                        }]
                    },
                    invisible: {
                        t: 9
                    },
                    items: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.ItemsChartSettingsNodeItem
                            }
                        }]
                    },
                    label: {
                        t: 0
                    },
                    labelStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsItemsLayerLabelStyle
                        }
                    },
                    lineColor: {
                        t: 0
                    },
                    lineDash: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 1
                        }]
                    },
                    lineWidth: {
                        t: 1
                    },
                    onImageLoadError: {
                        t: 4
                    },
                    opacity: {
                        t: 1
                    },
                    radius: {
                        t: 1
                    },
                    shadowBlur: {
                        t: 1
                    },
                    shadowColor: {
                        t: 0
                    },
                    shadowOffsetX: {
                        t: 1
                    },
                    shadowOffsetY: {
                        t: 1
                    }
                }, Ut.ItemsChartSettingsNodesLayerAuras = {
                    cellSize: {
                        t: 1
                    },
                    defaultColors: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0
                        }]
                    },
                    defaultStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsAuraStyle
                        }
                    },
                    drawLimit: {
                        t: 1
                    },
                    enabled: {
                        t: 9
                    },
                    intensity: {
                        t: 1
                    },
                    overlap: {
                        t: 9
                    },
                    style: {
                        t: 8,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.ItemsChartSettingsAuraStyle
                            }
                        }]
                    }
                }, Ut.ItemsChartSettingsNodesLayerStyle = {
                    fadeTime: {
                        t: 1,
                        d: 0
                    },
                    hiddenLinks: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                lineColor: {
                                    t: 0
                                },
                                lineWidth: {
                                    t: 1
                                },
                                size: {
                                    t: 1
                                }
                            }
                        }
                    },
                    linkAutoScaling: {
                        t: 0,
                        d: 6
                    },
                    linkLengthAutoScaling: {
                        t: 0,
                        d: 6
                    },
                    linkLengthExtent: {
                        t: 12,
                        b: [{
                            t: 1
                        }, {
                            t: 1
                        }]
                    },
                    linkRadiusExtent: {
                        t: 12,
                        b: [{
                            t: 1
                        }, {
                            t: 1
                        }]
                    },
                    linkStrengthAutoScaling: {
                        t: 0,
                        d: 6
                    },
                    linkStrengthExtent: {
                        t: 12,
                        b: [{
                            t: 1
                        }, {
                            t: 1
                        }]
                    },
                    multilinkAutoCurve: {
                        t: 1
                    },
                    multilinkSpacing: {
                        t: 1
                    },
                    nodeAutoScaling: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    nodeRadiusExtent: {
                        t: 12,
                        b: [{
                            t: 1,
                            d: 0
                        }, {
                            t: 1,
                            d: 0
                        }]
                    },
                    selfLinkAngle: {
                        t: 1
                    },
                    selfLinkHeightFactor: {
                        t: 1
                    },
                    selfLinkShape: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    selfLinkWidthFactor: {
                        t: 1
                    }
                }, Ut.LinearChartSettings = {
                    area: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsArea
                        },
                        x: function() {
                            return i.LinearChart.SettingsArea
                        }
                    },
                    chartTypes: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                candlestick: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.LinearChartSettingsSeriesCandleStick
                                    },
                                    x: function() {
                                        return i.LinearChart.SettingsSeriesCandleStick
                                    },
                                    y: !0
                                },
                                columns: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.LinearChartSettingsSeriesColumns
                                    },
                                    x: function() {
                                        return i.LinearChart.SettingsSeriesColumns
                                    },
                                    y: !0
                                },
                                line: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.LinearChartSettingsSeriesLines
                                    },
                                    x: function() {
                                        return i.LinearChart.SettingsSeriesLines
                                    },
                                    y: !0
                                }
                            }
                        }
                    },
                    events: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsEvents(Ut.BaseIChartEventArguments, Ut.BaseIChartEventArguments)
                        },
                        x: function() {
                            return i.LinearChart.SettingsEvents
                        }
                    },
                    horizontal: {
                        t: 9
                    },
                    info: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsInfoPopup
                        },
                        x: function() {
                            return i.LinearChart.SettingsInfoPopup
                        }
                    },
                    interaction: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsInteraction
                        },
                        x: function() {
                            return i.LinearChart.SettingsInteraction
                        }
                    },
                    legend: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsLegend
                        },
                        x: function() {
                            return i.LinearChart.SettingsLegend
                        }
                    },
                    localization: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsLocalization
                        },
                        x: function() {
                            return i.LinearChart.SettingsLocalization
                        }
                    },
                    scrollButtons: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsScrollButtons
                        },
                        x: function() {
                            return i.Base.SettingsScrollButtons
                        }
                    },
                    series: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.LinearChartSettingsSeries
                            },
                            x: function() {
                                return i.LinearChart.SettingsSeries
                            },
                            y: !0
                        }]
                    },
                    seriesDefault: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsSeries
                        },
                        x: function() {
                            return i.LinearChart.SettingsSeries
                        },
                        y: !0
                    },
                    stacks: {
                        t: 8,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.LinearChartSettingsStack
                            },
                            x: function() {
                                return i.LinearChart.SettingsStack
                            }
                        }]
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                columnColors: {
                                    t: 6,
                                    u: 0,
                                    b: [{
                                        t: 0
                                    }]
                                },
                                lineColors: {
                                    t: 6,
                                    u: 0,
                                    b: [{
                                        t: 0
                                    }]
                                }
                            }
                        }
                    },
                    valueAxis: {
                        t: 8,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.LinearChartSettingsValueAxis
                            },
                            x: function() {
                                return i.LinearChart.SettingsValueAxis
                            },
                            y: !0
                        }]
                    },
                    valueAxisDefault: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsValueAxis
                        },
                        x: function() {
                            return i.LinearChart.SettingsValueAxis
                        }
                    }
                }, Ut.LinearChartSettingsArea = {
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsAreaStyle
                        },
                        x: function() {
                            return i.LinearChart.SettingsAreaStyle
                        }
                    }
                }, Ut.LinearChartSettingsAreaStyle = {
                    noData: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fillColor: {
                                    t: 0
                                },
                                image: {
                                    t: 0,
                                    d: 5
                                }
                            }
                        }
                    },
                    zoomHighlight: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsHighlightStyle
                        }
                    },
                    zoomHighlightInactive: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fillColor: {
                                    t: 0
                                }
                            }
                        }
                    }
                }, Ut.LinearChartSettingsCandleStickMotionStyle = {
                    bar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                lineColor: {
                                    t: 0
                                },
                                lineDash: {
                                    t: 6,
                                    u: 0,
                                    b: [{
                                        t: 1
                                    }]
                                },
                                lineWidth: {
                                    t: 1
                                },
                                shadowBlur: {
                                    t: 1
                                },
                                shadowColor: {
                                    t: 0
                                },
                                shadowOffsetX: {
                                    t: 1
                                },
                                shadowOffsetY: {
                                    t: 1
                                }
                            }
                        }
                    },
                    candlestick: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fillColor: {
                                    t: 0
                                },
                                lineColor: {
                                    t: 0,
                                    d: 3
                                },
                                lineDash: {
                                    t: 6,
                                    u: 0,
                                    b: [{
                                        t: 1
                                    }]
                                },
                                lineWidth: {
                                    t: 1
                                },
                                shadowBlur: {
                                    t: 1
                                },
                                shadowColor: {
                                    t: 0
                                },
                                shadowOffsetX: {
                                    t: 1
                                },
                                shadowOffsetY: {
                                    t: 1
                                }
                            }
                        }
                    }
                }, Ut.LinearChartSettingsEvents = function(t, e) {
                    return {
                        onAnimationDone: {
                            t: 4
                        }
                    }
                }, Ut.LinearChartSettingsHighlightStyle = {
                    fadeIn: {
                        t: 1,
                        d: 0
                    },
                    fadeOut: {
                        t: 1,
                        d: 0
                    },
                    fillColor: {
                        t: 0
                    }
                }, Ut.LinearChartSettingsInfoPopup = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                contentsFunction: {
                                    t: 4
                                },
                                scope: {
                                    t: 0,
                                    d: 6
                                },
                                showHeader: {
                                    t: 9
                                },
                                showOnlyHoveredSeries: {
                                    t: 9
                                }
                            }
                        }
                    },
                    aggregations: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0,
                            d: 6
                        }]
                    },
                    container: {
                        t: 3
                    },
                    enabled: {
                        t: 9
                    },
                    position: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    showAtDataPoint: {
                        t: 9
                    },
                    showNoData: {
                        t: 9
                    },
                    showNullData: {
                        t: 9
                    },
                    showZeroData: {
                        t: 9
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                highlight: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.LinearChartSettingsHighlightStyle
                                    }
                                }
                            }
                        }
                    },
                    useStackedValue: {
                        t: 9
                    },
                    valueFormatterFunction: {
                        t: 4
                    }
                }, Ut.LinearChartSettingsInteraction = {
                    ignoreBottomAxis: {
                        t: 9
                    },
                    scrolling: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsInteractionScrolling
                        },
                        x: function() {
                            return i.LinearChart.SettingsInteractionScrolling
                        }
                    },
                    swipeSensitivity: {
                        t: 1
                    },
                    zooming: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsInteractionZooming
                        },
                        x: function() {
                            return i.LinearChart.SettingsInteractionZooming
                        }
                    }
                }, Ut.LinearChartSettingsInteractionScrolling = {
                    enabled: {
                        t: 9
                    },
                    kineticFriction: {
                        t: 1
                    },
                    maxAnimationLength: {
                        t: 1,
                        d: 0
                    },
                    swipePageFlipping: {
                        t: 9
                    }
                }, Ut.LinearChartSettingsInteractionZooming = {
                    enabled: {
                        t: 9
                    },
                    fingers: {
                        t: 9
                    },
                    fingersMaxZoom: {
                        t: 1
                    },
                    sensitivity: {
                        t: 1
                    },
                    swipe: {
                        t: 9
                    },
                    upDownTreshold: {
                        t: 1
                    },
                    wheel: {
                        t: 9
                    },
                    wheelSensitivity: {
                        t: 1
                    },
                    zoomHighlightThreshold: {
                        t: 1
                    }
                }, Ut.LinearChartSettingsLegend = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsLegendAdvanced
                        },
                        x: function() {
                            return i.LinearChart.SettingsLegendAdvanced
                        }
                    },
                    marker: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsLegendMarker
                        },
                        x: function() {
                            return i.LinearChart.SettingsLegendMarker
                        }
                    },
                    panel: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLegendPanel
                        },
                        x: function() {
                            return i.Base.SettingsLegendPanel
                        }
                    }
                }, Ut.LinearChartSettingsLegendAdvanced = {
                    disabledSeries: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fillColor: {
                                    t: 0
                                },
                                lineColor: {
                                    t: 0
                                },
                                textColor: {
                                    t: 0
                                }
                            }
                        }
                    },
                    legendSortFunction: {
                        t: 4
                    }
                }, Ut.LinearChartSettingsLegendMarker = {
                    shape: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    }
                }, Ut.LinearChartSettingsLocalization = {
                    noDataLabel: {
                        t: 0
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsLocalizationToolbar
                        },
                        x: function() {
                            return i.LinearChart.SettingsLocalizationToolbar
                        }
                    },
                    unnamedSeries: {
                        t: 0
                    },
                    valueUnits: {
                        t: 8,
                        u: 0,
                        b: [{
                            t: 1,
                            d: 0
                        }]
                    }
                }, Ut.LinearChartSettingsLocalizationToolbar = {
                    linButton: {
                        t: 0
                    },
                    linLogTitle: {
                        t: 0
                    },
                    logButton: {
                        t: 0
                    }
                }, Ut.LinearChartSettingsSeries = {
                    aggregatedName: {
                        t: 0
                    },
                    cluster: {
                        t: 0
                    },
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsSeriesData
                        },
                        x: function() {
                            return i.LinearChart.SettingsSeriesData
                        }
                    },
                    enabled: {
                        t: 9
                    },
                    enabledWhenAggregated: {
                        t: 9
                    },
                    enabledWhenNotAggregated: {
                        t: 9
                    },
                    extra: {
                        t: 10
                    },
                    id: {
                        t: 0
                    },
                    invisible: {
                        t: 9
                    },
                    legendGroupId: {
                        t: 0
                    },
                    legendGroupMode: {
                        t: 0,
                        d: 6
                    },
                    name: {
                        t: 0
                    },
                    nameLegend: {
                        t: 0
                    },
                    showInInfoPopup: {
                        t: 9
                    },
                    showInLegend: {
                        t: 9
                    },
                    stack: {
                        t: 0
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsSeriesStyle
                        },
                        x: function() {
                            return i.LinearChart.SettingsSeriesStyle
                        }
                    },
                    type: {
                        t: 0,
                        d: 6
                    },
                    unitName: {
                        t: 0
                    },
                    valueAxis: {
                        t: 0
                    }
                }, Ut.LinearChartSettingsSeriesCandleStick = {
                    localization: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                close: {
                                    t: 0
                                },
                                high: {
                                    t: 0
                                },
                                low: {
                                    t: 0
                                },
                                open: {
                                    t: 0
                                }
                            }
                        }
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsSeriesCandleStickStyle
                        },
                        x: function() {
                            return i.LinearChart.SettingsSeriesCandleStickStyle
                        }
                    }
                }, Ut.LinearChartSettingsSeriesCandleStickStyle = {
                    decrease: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsCandleStickMotionStyle
                        }
                    },
                    increase: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsCandleStickMotionStyle
                        }
                    },
                    padding: {
                        t: 12,
                        b: [{
                            t: 1,
                            d: 0
                        }, {
                            t: 1,
                            d: 0
                        }]
                    },
                    pattern: {
                        t: 0,
                        d: 6
                    }
                }, Ut.LinearChartSettingsSeriesColumns = {
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsSeriesColumnsStyle
                        },
                        x: function() {
                            return i.LinearChart.SettingsSeriesColumnsStyle
                        }
                    },
                    valueLabels: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsValueLabels
                        }
                    }
                }, Ut.LinearChartSettingsSeriesColumnsStyle = {
                    clusterPadding: {
                        t: 12,
                        b: [{
                            t: 1,
                            d: 0
                        }, {
                            t: 1,
                            d: 0
                        }]
                    },
                    connectorLineID: {
                        t: 0
                    },
                    connectorLinePositionX: {
                        t: 0,
                        d: 6
                    },
                    depth: {
                        t: 1
                    },
                    depthBrightness: {
                        t: 1
                    },
                    enableOutlineLines: {
                        t: 9
                    },
                    fillGradientMode: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    fillGradientType: {
                        t: 0
                    },
                    gradient: {
                        t: 1
                    },
                    lineColor: {
                        t: 0,
                        d: 3
                    },
                    minHeight: {
                        t: 1,
                        d: 0
                    },
                    padding: {
                        t: 12,
                        b: [{
                            t: 1,
                            d: 0
                        }, {
                            t: 1,
                            d: 0
                        }]
                    },
                    radius: {
                        t: 12,
                        b: [{
                            t: 1,
                            d: 0
                        }, {
                            t: 1,
                            d: 0
                        }, {
                            t: 1,
                            d: 0
                        }, {
                            t: 1,
                            d: 0
                        }]
                    },
                    shadowBlur: {
                        t: 1,
                        d: 0
                    },
                    widthScale: {
                        t: 1
                    }
                }, Ut.LinearChartSettingsSeriesData = {
                    aggregatedValueFunction: {
                        t: 4
                    },
                    aggregation: {
                        t: 0,
                        d: 6
                    },
                    aggregationFunction: {
                        t: 4
                    },
                    alwaysZeroMode: {
                        t: 9
                    },
                    noDataPolicy: {
                        t: 0,
                        d: 6
                    },
                    percentile: {
                        t: 1
                    },
                    source: {
                        t: 0
                    },
                    valueFunction: {
                        t: 4
                    }
                }, Ut.LinearChartSettingsSeriesLines = {
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsSeriesLinesStyle
                        },
                        x: function() {
                            return i.LinearChart.SettingsSeriesLinesStyle
                        }
                    },
                    valueLabels: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsValueLabels
                        }
                    }
                }, Ut.LinearChartSettingsSeriesLinesStyle = {
                    degenerateLineColumnWidthScale: {
                        t: 1
                    },
                    degenerateLinePolicy: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    },
                    marker: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.LinearChartSettingsSeriesStyleMarker
                        }
                    },
                    markerStyleFunction: {
                        t: 4
                    },
                    shadowBlur: {
                        t: 1,
                        d: 0
                    },
                    smoothing: {
                        t: 9
                    },
                    steps: {
                        t: 9
                    }
                }, Ut.LinearChartSettingsSeriesStyle = {
                    depth: {
                        t: 1
                    },
                    fillColor: {
                        t: 0,
                        d: 3
                    },
                    fillGradient: {
                        t: 11
                    },
                    fillGradientMode: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    fillPattern: {
                        t: 0
                    },
                    legend: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                marker: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.LinearChartSettingsSeriesStyleMarker
                                    }
                                },
                                textColor: {
                                    t: 0,
                                    d: 3
                                }
                            }
                        }
                    },
                    lineColor: {
                        t: 0
                    },
                    lineDash: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 1
                        }]
                    },
                    lineDashOffset: {
                        t: 1
                    },
                    lineGradient: {
                        t: 11
                    },
                    lineGradientMode: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    lineWidth: {
                        t: 1
                    },
                    shadowColor: {
                        t: 0,
                        d: 3
                    },
                    shadowOffsetX: {
                        t: 1,
                        d: 0
                    },
                    shadowOffsetY: {
                        t: 1,
                        d: 0
                    },
                    tooltipColor: {
                        t: 0
                    },
                    tooltipGradient: {
                        t: 11
                    },
                    tooltipShadowBlur: {
                        t: 0
                    },
                    tooltipShadowColor: {
                        t: 0
                    },
                    tooltipShadowLightnessMaxThreshold: {
                        t: 1
                    },
                    tooltipShadowLightnessMinThreshold: {
                        t: 1
                    },
                    tooltipShadowSize: {
                        t: 0
                    }
                }, Ut.LinearChartSettingsSeriesStyleMarker = {
                    fillColor: {
                        t: 0,
                        d: 3
                    },
                    fillGradient: {
                        t: 11
                    },
                    fillGradientClampMode: {
                        t: 0
                    },
                    lineColor: {
                        t: 0,
                        d: 3
                    },
                    lineWidth: {
                        t: 1
                    },
                    shape: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    },
                    width: {
                        t: 1,
                        d: 0
                    }
                }, Ut.LinearChartSettingsStack = {
                    drawFullArea: {
                        t: 9
                    },
                    name: {
                        t: 0
                    },
                    separateNegativeValues: {
                        t: 9
                    },
                    type: {
                        t: 0,
                        d: 6
                    }
                }, Ut.LinearChartSettingsValueAxis = {
                    alignZero: {
                        t: 9
                    },
                    animate: {
                        t: 0,
                        d: 6
                    },
                    axisLine: {
                        t: 9
                    },
                    enabled: {
                        t: 9
                    },
                    forceTopAndBottomValues: {
                        t: 9
                    },
                    forcedMinMaxInset: {
                        t: 1
                    },
                    forcedTopAndBottomOffsets: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 1
                        }]
                    },
                    gridPosition: {
                        t: 0,
                        d: 6
                    },
                    hgrid: {
                        t: 9
                    },
                    hideInvalidAxis: {
                        t: 9
                    },
                    initialAnimationValue: {
                        t: 1
                    },
                    initialAnimationValueMultiplier: {
                        t: 1
                    },
                    logScale: {
                        t: 9
                    },
                    maxValue: {
                        t: 1
                    },
                    minValue: {
                        t: 1
                    },
                    onlyPaintMinMax: {
                        t: 9
                    },
                    onlyPaintUniqueLabels: {
                        t: 9
                    },
                    position: {
                        t: 0,
                        d: 6
                    },
                    scaleAdjustmentAnimation: {
                        t: 0,
                        d: 6
                    },
                    scaleAdjustmentAnimationDelay: {
                        t: 1,
                        d: 0
                    },
                    scaleAdjustmentTolerance: {
                        t: 1
                    },
                    scaleMinStep: {
                        t: 1
                    },
                    scaleStep: {
                        t: 1
                    },
                    side: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    size: {
                        t: 1,
                        d: 0
                    },
                    snapScale: {
                        t: 1
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                autoScaleLabelSpacing: {
                                    t: 9
                                },
                                axisLine: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsLineStyle
                                    }
                                },
                                baseLine: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.LinearChartSettingsValueAxisBaseLineStyle
                                    }
                                },
                                hgrid: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsLineStyle
                                    }
                                },
                                labelSpacing: {
                                    t: 1
                                },
                                labelSpacingMode: {
                                    t: 0,
                                    d: 6
                                },
                                tick: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsLineStyle
                                    }
                                },
                                title: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsValueAxisTitleStyle
                                    }
                                },
                                valueLabel: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsLabelStyle
                                    }
                                }
                            }
                        }
                    },
                    thresholds: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.BaseSettingsValueAxisThreshold
                            },
                            x: function() {
                                return i.Base.SettingsValueAxisThreshold
                            }
                        }]
                    },
                    title: {
                        t: 0
                    },
                    valueFormat: {
                        t: 0
                    },
                    valueFormatterFunction: {
                        t: 4
                    },
                    zeroLine: {
                        t: 0,
                        d: 6
                    }
                }, Ut.LinearChartSettingsValueAxisBaseLineStyle = {
                    depthColor: {
                        t: 0,
                        d: 3
                    },
                    lineDepth: {
                        t: 1,
                        d: 0
                    },
                    showLabel: {
                        t: 2,
                        e: function() {
                            return e.BaseSettingsValueAxisBaseLineLabelMode
                        }
                    }
                }, Ut.LinearChartSettingsValueLabels = {
                    allowLabelSkip: {
                        t: 9
                    },
                    allowOverlap: {
                        t: 9
                    },
                    contentsFunction: {
                        t: 4
                    },
                    enabled: {
                        t: 9
                    },
                    minFontSize: {
                        t: 1
                    },
                    position: {
                        t: 0,
                        d: 6
                    },
                    showNullData: {
                        t: 9
                    },
                    showZeroData: {
                        t: 9
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLabelStyle
                        }
                    },
                    useStackedValue: {
                        t: 9
                    },
                    xPosition: {
                        t: 0,
                        d: 6
                    }
                }, Ut.NetChartBarSettingsLocalizationToolbar = {
                    fitButton: {
                        t: 0
                    },
                    fitTitle: {
                        t: 0
                    },
                    freezeButton: {
                        t: 0
                    },
                    freezeTitle: {
                        t: 0
                    },
                    lassoButton: {
                        t: 0
                    },
                    lassoTitle: {
                        t: 0
                    },
                    rearrangeButton: {
                        t: 0
                    },
                    rearrangeTitle: {
                        t: 0
                    },
                    unfreezeTitle: {
                        t: 0
                    }
                }, Ut.NetChartBarSettingsToolbar = {
                    fit: {
                        t: 9
                    },
                    freeze: {
                        t: 9
                    },
                    rearrange: {
                        t: 9
                    },
                    zoomControl: {
                        t: 9
                    }
                }, Ut.NetChartGravitySettings = {
                    from: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    },
                    fromCenter: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    },
                    strength: {
                        t: 1
                    },
                    to: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    },
                    toCenter: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    }
                }, Ut.NetChartIChartClickEventArguments = {}, Ut.NetChartIChartEventArguments = {}, Ut.NetChartIDataObject = {
                    links: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.NetChartIDataObjectLink
                            }
                        }]
                    },
                    nodes: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.NetChartIDataObjectNode
                            }
                        }]
                    }
                }, Ut.NetChartIDataObjectLink = {}, Ut.NetChartIDataObjectNode = {
                    locked: {
                        t: 9
                    },
                    x: {
                        t: 1
                    },
                    y: {
                        t: 1
                    }
                }, Ut.NetChartSettings = {
                    area: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsArea
                        },
                        x: function() {
                            return i.NetChart.SettingsArea
                        }
                    },
                    auras: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsNodesLayerAuras
                        },
                        x: function() {
                            return i.ItemsChart.SettingsNodesLayerAuras
                        }
                    },
                    data: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.NetChartSettingsData
                            },
                            x: function() {
                                return i.NetChart.SettingsData
                            }
                        }]
                    },
                    events: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsEvents
                        },
                        x: function() {
                            return i.NetChart.SettingsEvents
                        }
                    },
                    filters: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                linkFilter: {
                                    t: 4
                                },
                                multilinkProcessor: {
                                    t: 4
                                },
                                nodeFilter: {
                                    t: 4
                                },
                                nodeLinksProcessor: {
                                    t: 4
                                }
                            }
                        }
                    },
                    interaction: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsInteraction
                        },
                        x: function() {
                            return i.NetChart.SettingsInteraction
                        }
                    },
                    layout: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsLayout
                        },
                        x: function() {
                            return i.NetChart.SettingsLayout
                        }
                    },
                    legend: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsLegend
                        },
                        x: function() {
                            return i.NetChart.SettingsLegend
                        }
                    },
                    localization: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsLocalization
                        },
                        x: function() {
                            return i.NetChart.SettingsLocalization
                        }
                    },
                    navigation: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsNavigation
                        },
                        x: function() {
                            return i.NetChart.SettingsNavigation
                        }
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsStyle
                        },
                        x: function() {
                            return i.NetChart.SettingsStyle
                        }
                    },
                    theme: {
                        t: 5,
                        c: function() {
                            return Ut.NetChartSettings
                        },
                        x: function() {
                            return i.NetChart.Settings
                        },
                        y: !0
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartBarSettingsToolbar
                        },
                        x: function() {
                            return i.NetChart.Bar.SettingsToolbar
                        }
                    }
                }, Ut.NetChartSettingsArea = {
                    centerX: {
                        t: 1
                    },
                    centerY: {
                        t: 1
                    },
                    paddingBottom: {
                        t: 1
                    },
                    paddingLeft: {
                        t: 1
                    },
                    paddingRight: {
                        t: 1
                    },
                    paddingTop: {
                        t: 1
                    }
                }, Ut.NetChartSettingsData = {
                    dataFunction: {
                        t: 4
                    },
                    preloaded: {
                        t: 5,
                        c: function() {
                            return Ut.NetChartIDataObject
                        }
                    }
                }, Ut.NetChartSettingsEvents = {
                    onDataUpdated: {
                        t: 4
                    },
                    onPointerDown: {
                        t: 4
                    },
                    onPointerDrag: {
                        t: 4
                    },
                    onPointerMove: {
                        t: 4
                    },
                    onPointerUp: {
                        t: 4
                    }
                }, Ut.NetChartSettingsInteraction = {
                    rotation: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fingers: {
                                    t: 9
                                }
                            }
                        }
                    },
                    selection: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsInteractionSelection
                        },
                        x: function() {
                            return i.NetChart.SettingsInteractionSelection
                        }
                    },
                    zooming: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsInteractionZooming
                        },
                        x: function() {
                            return i.NetChart.SettingsInteractionZooming
                        }
                    }
                }, Ut.NetChartSettingsInteractionSelection = {
                    dragSelect: {
                        t: 9
                    }
                }, Ut.NetChartSettingsInteractionZooming = {
                    autoZoomExtent: {
                        t: 12,
                        b: [{
                            t: 1
                        }, {
                            t: 1
                        }]
                    },
                    autoZoomPositionElasticity: {
                        t: 1
                    },
                    autoZoomSize: {
                        t: 1
                    },
                    initialAutoZoom: {
                        t: 7,
                        b: [{
                            t: 9
                        }, {
                            t: 0
                        }]
                    },
                    shouldKeepGraphOnScreen: {
                        t: 9
                    },
                    zoomExtent: {
                        t: 12,
                        b: [{
                            t: 1
                        }, {
                            t: 1
                        }]
                    }
                }, Ut.NetChartSettingsLayout = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                adaptiveFreezeTreshold: {
                                    t: 1
                                }
                            }
                        }
                    },
                    aspectRatio: {
                        t: 9
                    },
                    categoryLabelStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsItemsLayerCategoryLabelStyle
                        }
                    },
                    centerNodes: {
                        t: 9
                    },
                    globalLayoutOnChanges: {
                        t: 9
                    },
                    gravity: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartGravitySettings
                        },
                        x: function() {
                            return i.NetChart.GravitySettings
                        }
                    },
                    groupSpacing: {
                        t: 1,
                        d: 0
                    },
                    incrementalLayoutMaxTime: {
                        t: 1,
                        d: 0
                    },
                    initialLayoutMaxTime: {
                        t: 1,
                        d: 0
                    },
                    layoutFreezeMinTimeout: {
                        t: 1,
                        d: 0
                    },
                    layoutFreezeTimeout: {
                        t: 1,
                        d: 0
                    },
                    mode: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    },
                    nodeSpacing: {
                        t: 1,
                        d: 0
                    },
                    onCycleDetect: {
                        t: 4
                    },
                    rotation: {
                        t: 1
                    },
                    rowSpacing: {
                        t: 1,
                        d: 0
                    },
                    scaleX: {
                        t: 1
                    },
                    scaleY: {
                        t: 1
                    },
                    sortForestBySize: {
                        t: 9
                    },
                    sortNodes: {
                        t: 9
                    },
                    swimlane: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsSwimlaneLayout
                        },
                        x: function() {
                            return i.NetChart.SettingsSwimlaneLayout
                        }
                    },
                    twoRingRadialLayout: {
                        t: 9
                    }
                }, Ut.NetChartSettingsLegend = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartSettingsLegendAdvanced
                        },
                        x: function() {
                            return i.NetChart.SettingsLegendAdvanced
                        }
                    },
                    mode: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    panel: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLegendPanel
                        },
                        x: function() {
                            return i.Base.SettingsLegendPanel
                        }
                    }
                }, Ut.NetChartSettingsLegendAdvanced = {
                    showItemsWithClasses: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    },
                    textColorDisabled: {
                        t: 0
                    }
                }, Ut.NetChartSettingsLocalization = {
                    menu: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                close: {
                                    t: 0
                                },
                                collapse: {
                                    t: 0
                                },
                                dynamic: {
                                    t: 0
                                },
                                expand: {
                                    t: 0
                                },
                                fixed: {
                                    t: 0
                                },
                                focus: {
                                    t: 0
                                },
                                hide: {
                                    t: 0
                                },
                                unfocus: {
                                    t: 0
                                }
                            }
                        }
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.NetChartBarSettingsLocalizationToolbar
                        },
                        x: function() {
                            return i.NetChart.Bar.SettingsLocalizationToolbar
                        }
                    }
                }, Ut.NetChartSettingsNavigation = {
                    autoUnfocus: {
                        t: 9
                    },
                    autoZoomOnFocus: {
                        t: 9
                    },
                    defaultExpandDepth: {
                        t: 1
                    },
                    defaultExpandMode: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    },
                    expandDelay: {
                        t: 1,
                        d: 0
                    },
                    expandOnClick: {
                        t: 9
                    },
                    focusAutoFadeout: {
                        t: 9
                    },
                    focusNodeExpansionRadius: {
                        t: 1
                    },
                    focusNodeTailExpansionRadius: {
                        t: 1
                    },
                    initialFocusNodeExpansionRadius: {
                        t: 1
                    },
                    initialNodes: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0
                        }]
                    },
                    minNumberOfFocusNodes: {
                        t: 1,
                        d: 0
                    },
                    mode: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    },
                    numberOfFocusNodes: {
                        t: 1,
                        d: 0
                    }
                }, Ut.NetChartSettingsStyle = {
                    dragSelection: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsBackgroundStyle
                        }
                    }
                }, Ut.NetChartSettingsSwimlaneLayout = {
                    boxFillColor: {
                        t: 0
                    },
                    cellSettings: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 6,
                            u: 0,
                            b: [{
                                t: 5,
                                u: 0,
                                c: function() {
                                    return Ut.NetChartSettingsSwimlaneLayoutCell
                                },
                                x: function() {
                                    return i.NetChart.SettingsSwimlaneLayoutCell
                                }
                            }]
                        }]
                    },
                    drawVerticalFirst: {
                        t: 9
                    },
                    labelAlign: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    labelSideHorizontal: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    labelSideVertical: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    laneSpreadX: {
                        t: 1
                    },
                    laneSpreadY: {
                        t: 1
                    },
                    lanesHorizontal: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.NetChartSettingsSwimlaneLayoutLane
                            },
                            x: function() {
                                return i.NetChart.SettingsSwimlaneLayoutLane
                            }
                        }]
                    },
                    lanesVertical: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.NetChartSettingsSwimlaneLayoutLane
                            },
                            x: function() {
                                return i.NetChart.SettingsSwimlaneLayoutLane
                            }
                        }]
                    },
                    lineColor: {
                        t: 0
                    },
                    lineWidth: {
                        t: 1
                    }
                }, Ut.NetChartSettingsSwimlaneLayoutCell = {
                    fillColor: {
                        t: 0
                    }
                }, Ut.NetChartSettingsSwimlaneLayoutLane = {
                    label: {
                        t: 0
                    }
                }, Ut.NetChartSettingsSwimlaneLayoutStyle = {
                    boxFillColor: {
                        t: 0
                    },
                    boxHeight: {
                        t: 1
                    },
                    labelAlign: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    labelStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.ItemsChartSettingsItemsLayerLabelStyle
                        }
                    },
                    laneFillColor: {
                        t: 0
                    },
                    laneWidth: {
                        t: 1
                    },
                    lineColor: {
                        t: 0
                    },
                    shouldZoomBox: {
                        t: 9
                    }
                }, Ut.PieChartIChartClickEventArguments = {}, Ut.PieChartIChartEventArguments = {}, Ut.PieChartIDataObject = {
                    id: {
                        t: 0
                    },
                    name: {
                        t: 0
                    },
                    nameLegend: {
                        t: 0
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.PieChartSettingsSliceStyle
                        }
                    },
                    subvalues: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.PieChartIDataObject
                            }
                        }]
                    },
                    value: {
                        t: 1
                    }
                }, Ut.PieChartIDataObjectCommon = {
                    id: {
                        t: 0
                    },
                    name: {
                        t: 0
                    },
                    subvalues: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.PieChartIDataObject
                            }
                        }]
                    }
                }, Ut.PieChartIDataObjectRoot = {
                    afterSum: {
                        t: 1
                    },
                    beforeSum: {
                        t: 1
                    },
                    id: {
                        t: 0
                    },
                    limit: {
                        t: 1
                    },
                    name: {
                        t: 0
                    },
                    offset: {
                        t: 1
                    },
                    subvalues: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.PieChartIDataObject
                            }
                        }]
                    },
                    sum: {
                        t: 1
                    }
                }, Ut.PieChartSettings = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.PieChartSettingsAdvanced
                        },
                        x: function() {
                            return i.PieChart.SettingsAdvanced
                        }
                    },
                    data: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.PieChartSettingsData
                            },
                            x: function() {
                                return i.PieChart.SettingsData
                            }
                        }]
                    },
                    events: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.PieChartSettingsEvents
                        },
                        x: function() {
                            return i.PieChart.SettingsEvents
                        }
                    },
                    filters: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                allowZeroValues: {
                                    t: 9
                                },
                                sliceFilter: {
                                    t: 4
                                }
                            }
                        }
                    },
                    icons: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                autohideWhenTooSmall: {
                                    t: 9
                                },
                                placement: {
                                    t: 0,
                                    d: 6
                                },
                                sizeExtent: {
                                    t: 12,
                                    b: [{
                                        t: 1
                                    }, {
                                        t: 1
                                    }]
                                }
                            }
                        }
                    },
                    info: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                contentsFunction: {
                                    t: 4
                                },
                                enabled: {
                                    t: 9
                                }
                            }
                        }
                    },
                    interaction: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.PieChartSettingsInteraction
                        },
                        x: function() {
                            return i.PieChart.SettingsInteraction
                        }
                    },
                    labels: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.PieChartSettingsLabels
                        },
                        x: function() {
                            return i.PieChart.SettingsLabels
                        }
                    },
                    legend: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.PieChartSettingsLegend
                        },
                        x: function() {
                            return i.PieChart.SettingsLegend
                        }
                    },
                    localization: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.PieChartSettingsLocalization
                        },
                        x: function() {
                            return i.PieChart.SettingsLocalization
                        }
                    },
                    navigation: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                initialDrilldown: {
                                    t: 6,
                                    u: 0,
                                    b: [{
                                        t: 0
                                    }]
                                },
                                initialOffset: {
                                    t: 1,
                                    d: 0
                                }
                            }
                        }
                    },
                    pie: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                adaptiveRadius: {
                                    t: 9
                                },
                                backgroundHoveredStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.PieChartSettingsPieStyle
                                    }
                                },
                                backgroundStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.PieChartSettingsPieStyle
                                    }
                                },
                                centerMargin: {
                                    t: 1,
                                    d: 0
                                },
                                depth: {
                                    t: 1,
                                    d: 0
                                },
                                endAngle: {
                                    t: 1
                                },
                                innerRadius: {
                                    t: 1
                                },
                                innerRadiusWhenDrilldown: {
                                    t: 1
                                },
                                margin: {
                                    t: 1
                                },
                                noDataStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.PieChartSettingsPieStyle
                                    }
                                },
                                outerMargin: {
                                    t: 1
                                },
                                radius: {
                                    t: 1
                                },
                                rotationSpeed: {
                                    t: 1
                                },
                                showInnerPies: {
                                    t: 9
                                },
                                showInnerPiesExport: {
                                    t: 9
                                },
                                startAngle: {
                                    t: 1
                                },
                                style: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.PieChartSettingsPieStyle
                                    }
                                },
                                styleFunction: {
                                    t: 4
                                },
                                theme: {
                                    t: 0,
                                    d: 6
                                },
                                x: {
                                    t: 1
                                },
                                y: {
                                    t: 1
                                }
                            }
                        }
                    },
                    slice: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                backgroundActiveStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return {
                                            brightness: {
                                                t: 1
                                            }
                                        }
                                    }
                                },
                                backgroundStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return {
                                            fillColor: {
                                                t: 0
                                            },
                                            fillColor2: {
                                                t: 0,
                                                d: 3
                                            },
                                            fillGradient: {
                                                t: 11
                                            }
                                        }
                                    }
                                },
                                connectorStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsLineStyle
                                    }
                                },
                                expandableMarkStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return {
                                            distance: {
                                                t: 1
                                            },
                                            lineColor: {
                                                t: 0
                                            },
                                            lineDash: {
                                                t: 6,
                                                u: 0,
                                                b: [{
                                                    t: 1
                                                }]
                                            },
                                            lineWidth: {
                                                t: 1
                                            }
                                        }
                                    }
                                },
                                hoverStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.PieChartSettingsSliceStyle
                                    }
                                },
                                margin: {
                                    t: 1
                                },
                                minFraction: {
                                    t: 1
                                },
                                othersStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return {
                                            fillColor: {
                                                t: 0
                                            },
                                            lineDecoration: {
                                                t: 0,
                                                d: 6
                                            }
                                        }
                                    }
                                },
                                previousStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return {
                                            fillColor: {
                                                t: 0
                                            },
                                            lineDecoration: {
                                                t: 0,
                                                d: 6
                                            }
                                        }
                                    }
                                },
                                selectedStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.PieChartSettingsSliceStyle
                                    }
                                },
                                style: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.PieChartSettingsSliceStyle
                                    }
                                },
                                styleFunction: {
                                    t: 4
                                }
                            }
                        }
                    },
                    theme: {
                        t: 5,
                        c: function() {
                            return Ut.PieChartSettings
                        },
                        x: function() {
                            return i.PieChart.Settings
                        },
                        y: !0
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsToolbar
                        },
                        x: function() {
                            return i.Base.SettingsToolbar
                        }
                    }
                }, Ut.PieChartSettingsAdvanced = {
                    backAlwaysVisible: {
                        t: 9
                    },
                    backImage: {
                        t: 0,
                        d: 4
                    },
                    backImageBackground: {
                        t: 0
                    },
                    iconMinSize: {
                        t: 1
                    },
                    initialAnimation: {
                        t: 9
                    },
                    labelInsideTreshold: {
                        t: 1,
                        d: 0
                    },
                    renderQuality: {
                        t: 1,
                        d: 0
                    }
                }, Ut.PieChartSettingsData = {
                    autoCategories: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 7,
                            b: [{
                                t: 4
                            }, {
                                t: 0
                            }]
                        }]
                    },
                    dataFunction: {
                        t: 4
                    },
                    itemsToLoad: {
                        t: 1,
                        d: 0
                    },
                    partialLoad: {
                        t: 9
                    },
                    preloaded: {
                        t: 5,
                        c: function() {
                            return Ut.PieChartIDataObjectRoot
                        }
                    },
                    sortField: {
                        t: 7,
                        u: 0,
                        b: [{
                            t: 4
                        }, {
                            t: 6,
                            u: 0,
                            b: [{
                                t: 0
                            }]
                        }, {
                            t: 0
                        }]
                    }
                }, Ut.PieChartSettingsEvents = {
                    onPieChange: {
                        t: 4
                    },
                    onPieReadyStateChanged: {
                        t: 4
                    }
                }, Ut.PieChartSettingsInteraction = {
                    animation: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                hoverDuration: {
                                    t: 1,
                                    d: 0
                                },
                                scrollDuration: {
                                    t: 1,
                                    d: 0
                                }
                            }
                        }
                    },
                    coverCenter: {
                        t: 9
                    },
                    mode: {
                        t: 0,
                        d: 6
                    },
                    others: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                centerGoesToPrevious: {
                                    t: 9
                                },
                                enabled: {
                                    t: 9
                                },
                                maxOthersFraction: {
                                    t: 1
                                },
                                maxSlicesVisible: {
                                    t: 1,
                                    d: 0
                                },
                                minSliceFraction: {
                                    t: 1
                                },
                                minSlices: {
                                    t: 1
                                },
                                navigationFraction: {
                                    t: 1
                                }
                            }
                        }
                    },
                    scrolling: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                enabled: {
                                    t: 9
                                }
                            }
                        }
                    },
                    selection: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                enabled: {
                                    t: 9
                                },
                                maxSwipeDistance: {
                                    t: 1
                                },
                                partialSwipe: {
                                    t: 9
                                },
                                swipe: {
                                    t: 9
                                },
                                swipeSensitivity: {
                                    t: 1
                                },
                                tolerance: {
                                    t: 1
                                }
                            }
                        }
                    }
                }, Ut.PieChartSettingsLabels = {
                    angle: {
                        t: 1,
                        d: 0
                    },
                    connectorLength: {
                        t: 1,
                        d: 0
                    },
                    connectors: {
                        t: 9
                    },
                    enabled: {
                        t: 9
                    },
                    includeName: {
                        t: 9
                    },
                    includePercent: {
                        t: 9
                    },
                    insideLabel: {
                        t: 0,
                        d: 6
                    },
                    insideLabelVisibilityFraction: {
                        t: 1
                    },
                    interLabelSpacing: {
                        t: 1
                    },
                    labelAppendFunction: {
                        t: 4
                    },
                    placement: {
                        t: 0,
                        d: 6
                    }
                }, Ut.PieChartSettingsLegend = {
                    marker: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.PieChartSettingsLegendMarker
                        },
                        x: function() {
                            return i.PieChart.SettingsLegendMarker
                        }
                    },
                    showOthers: {
                        t: 9
                    }
                }, Ut.PieChartSettingsLegendMarker = {
                    shape: {
                        t: 7,
                        d: 6,
                        b: [{
                            t: 0
                        }]
                    }
                }, Ut.PieChartSettingsLocalization = {
                    othersLabel: {
                        t: 0
                    },
                    previousLabel: {
                        t: 0
                    }
                }, Ut.PieChartSettingsPieMarker = {
                    arrowSize: {
                        t: 1
                    },
                    endPosition: {
                        t: 1
                    },
                    label: {
                        t: 0
                    },
                    labelInside: {
                        t: 9
                    },
                    labelOffset: {
                        t: 1
                    },
                    labelPosition: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    labelStyle: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLabelStyle
                        }
                    },
                    mode: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    position: {
                        t: 1
                    },
                    tickLength: {
                        t: 1
                    }
                }, Ut.PieChartSettingsPieStyle = {
                    background: {
                        t: 9
                    },
                    brightness: {
                        t: 1
                    },
                    colorDistribution: {
                        t: 0,
                        d: 6
                    },
                    fillColor: {
                        t: 0,
                        d: 3
                    },
                    sliceColors: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0,
                            d: 3
                        }]
                    }
                }, Ut.PieChartSettingsSliceStyle = {
                    brightness: {
                        t: 1
                    },
                    cutoutDistance: {
                        t: 1
                    },
                    expandable: {
                        t: 9
                    },
                    fillColor: {
                        t: 0,
                        d: 3
                    },
                    fillGradient: {
                        t: 11
                    },
                    icon: {
                        t: 0,
                        d: 4
                    },
                    insideLabel: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLabelStyle
                        }
                    },
                    label: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLabelStyle
                        }
                    },
                    lineBrightness: {
                        t: 1,
                        d: 0
                    },
                    lineColor: {
                        t: 0,
                        d: 3
                    },
                    lineDash: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 1
                        }]
                    },
                    lineWidth: {
                        t: 1,
                        d: 0
                    },
                    pieMarkers: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.PieChartSettingsPieMarker
                            }
                        }]
                    },
                    sliceMarkers: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.PieChartSettingsPieMarker
                            }
                        }]
                    },
                    url: {
                        t: 0,
                        d: 5
                    }
                }, Ut.TimeChartIChartEventArguments = {}, Ut.TimeChartIDataObject = {
                    data: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 6,
                            u: 0,
                            b: [{
                                t: 7,
                                b: [{
                                    t: 1
                                }, {
                                    t: 0
                                }]
                            }]
                        }]
                    },
                    dataLimitFrom: {
                        t: 7,
                        b: [{
                            t: 1
                        }, {
                            t: 0
                        }]
                    },
                    dataLimitTo: {
                        t: 7,
                        b: [{
                            t: 1
                        }, {
                            t: 0
                        }]
                    },
                    from: {
                        t: 7,
                        b: [{
                            t: 1
                        }, {
                            t: 0
                        }]
                    },
                    timeZone: {
                        t: 0
                    },
                    to: {
                        t: 7,
                        b: [{
                            t: 1
                        }, {
                            t: 0
                        }]
                    },
                    unit: {
                        t: 0
                    },
                    values: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 7,
                            u: 0,
                            b: [{
                                t: 18
                            }, {
                                t: 17
                            }, {
                                t: 16
                            }, {
                                t: 15
                            }, {
                                t: 6,
                                u: 0,
                                b: [{
                                    t: 7,
                                    b: [{
                                        t: 1
                                    }, {
                                        t: 0
                                    }]
                                }]
                            }]
                        }]
                    }
                }, Ut.TimeChartSettings = {
                    advanced: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsAdvanced
                        },
                        x: function() {
                            return i.TimeChart.SettingsAdvanced
                        }
                    },
                    area: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsArea
                        },
                        x: function() {
                            return i.TimeChart.SettingsArea
                        }
                    },
                    chartTypes: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                candlestick: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsSeriesCandleStick
                                    },
                                    x: function() {
                                        return i.TimeChart.SettingsSeriesCandleStick
                                    },
                                    y: !0
                                },
                                columns: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsSeriesColumns
                                    },
                                    x: function() {
                                        return i.TimeChart.SettingsSeriesColumns
                                    },
                                    y: !0
                                },
                                line: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsSeriesLines
                                    },
                                    x: function() {
                                        return i.TimeChart.SettingsSeriesLines
                                    },
                                    y: !0
                                }
                            }
                        }
                    },
                    currentTime: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsCurrentTime
                        },
                        x: function() {
                            return i.TimeChart.SettingsCurrentTime
                        }
                    },
                    data: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.TimeChartSettingsData
                            },
                            x: function() {
                                return i.TimeChart.SettingsData
                            }
                        }]
                    },
                    events: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsEvents
                        },
                        x: function() {
                            return i.TimeChart.SettingsEvents
                        }
                    },
                    interaction: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsInteraction
                        },
                        x: function() {
                            return i.TimeChart.SettingsInteraction
                        }
                    },
                    items: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                styleFunction: {
                                    t: 4
                                }
                            }
                        }
                    },
                    localization: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsLocalization
                        },
                        x: function() {
                            return i.TimeChart.SettingsLocalization
                        }
                    },
                    milestones: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.TimeChartSettingsMarker
                            },
                            x: function() {
                                return i.TimeChart.SettingsMarker
                            }
                        }]
                    },
                    navigation: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                followAnchor: {
                                    t: 9
                                },
                                initialDisplayAnchor: {
                                    t: 7,
                                    b: [{
                                        t: 0
                                    }, {
                                        t: 1
                                    }]
                                },
                                initialDisplayPeriod: {
                                    t: 0
                                },
                                initialDisplayUnit: {
                                    t: 0
                                }
                            }
                        }
                    },
                    series: {
                        t: 6,
                        u: 4,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.TimeChartSettingsSeries
                            },
                            x: function() {
                                return i.TimeChart.SettingsSeries
                            },
                            y: !0
                        }]
                    },
                    seriesDefault: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsSeries
                        },
                        x: function() {
                            return i.TimeChart.SettingsSeries
                        },
                        y: !0
                    },
                    theme: {
                        t: 5,
                        c: function() {
                            return Ut.TimeChartSettings
                        },
                        x: function() {
                            return i.TimeChart.Settings
                        },
                        y: !0
                    },
                    timeAxis: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsTimeAxis
                        },
                        x: function() {
                            return i.TimeChart.SettingsTimeAxis
                        }
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsToolbar
                        },
                        x: function() {
                            return i.TimeChart.SettingsToolbar
                        }
                    }
                }, Ut.TimeChartSettingsAdvanced = {
                    dataUpdateBufferTime: {
                        t: 1
                    },
                    dataUpdateInterval: {
                        t: 1,
                        d: 0
                    },
                    maxUnitsToDisplay: {
                        t: 1
                    },
                    timeUpdateInterval: {
                        t: 1,
                        d: 0
                    },
                }, Ut.TimeChartSettingsArea = {
                    displayPeriods: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return {
                                    unit: {
                                        t: 0
                                    }
                                }
                            }
                        }]
                    },
                    displayUnits: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return {
                                    unit: {
                                        t: 0
                                    },
                                    name: {
                                        t: 0
                                    }
                                }
                            }
                        }]
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsAreaStyle
                        },
                        x: function() {
                            return i.TimeChart.SettingsAreaStyle
                        }
                    }
                }, Ut.TimeChartSettingsAreaDisplayPeriod = {
                    displayAnchor: {
                        t: 7,
                        b: [{
                            t: 0
                        }, {
                            t: 1
                        }]
                    },
                    displayPeriod: {
                        t: 0
                    },
                    displayUnit: {
                        t: 0
                    },
                    name: {
                        t: 0
                    }
                }, Ut.TimeChartSettingsAreaStyle = {
                    markerText: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsTextStyle
                        }
                    },
                    selection: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsAreaStyleSelection
                        },
                        x: function() {
                            return i.TimeChart.SettingsAreaStyleSelection
                        }
                    },
                    selectionLabel: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsTextStyle
                        }
                    }
                }, Ut.TimeChartSettingsAreaStyleSelection = {
                    behindSeries: {
                        t: 9
                    },
                    combineSameLabels: {
                        t: 9
                    },
                    fillColor: {
                        t: 0
                    },
                    lineColor: {
                        t: 0
                    },
                    lineWidth: {
                        t: 1
                    },
                    roundToNearestTime: {
                        t: 9
                    }
                }, Ut.TimeChartSettingsCurrentTime = {
                    align: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    label: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLabelStyle
                        }
                    },
                    showTime: {
                        t: 9
                    },
                    side: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLineStyle
                        }
                    }
                }, Ut.TimeChartSettingsData = {
                    allowUnitCacheMultiples: {
                        t: 9
                    },
                    cacheSize: {
                        t: 1,
                        d: 0
                    },
                    dataFunction: {
                        t: 4
                    },
                    minimizeRequests: {
                        t: 9
                    },
                    prefetchRatio: {
                        t: 1
                    },
                    preloaded: {
                        t: 5,
                        c: function() {
                            return Ut.TimeChartIDataObject
                        }
                    },
                    requestMaxUnits: {
                        t: 1,
                        d: 0
                    },
                    stringTimestampFormat: {
                        t: 7,
                        u: 0,
                        b: [{
                            t: 6,
                            u: 0,
                            b: [{
                                t: 0
                            }]
                        }, {
                            t: 0
                        }]
                    },
                    suppressWarnings: {
                        t: 9
                    },
                    timeZoneOffset: {
                        t: 7,
                        b: [{
                            t: 1
                        }, {
                            t: 0
                        }]
                    },
                    timestampInSeconds: {
                        t: 9
                    },
                    units: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0
                        }]
                    },
                    url: {
                        t: 0,
                        d: 5
                    },
                    urlByUnit: {
                        t: 8,
                        u: 0,
                        b: [{
                            t: 0
                        }]
                    },
                    useSmallerUnitCache: {
                        t: 9
                    }
                };
                Ut.TimeChartSettingsEvents = {
                    onTimeChange: {
                        t: 4
                    },
                    selectionChangeDuringInteraction: {
                        t: 9
                    }
                };
                Ut.TimeChartSettingsInteraction = {
                    scrolling: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsInteractionScrolling
                        },
                        x: function() {
                            return i.TimeChart.SettingsInteractionScrolling
                        }
                    },
                    selection: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsInteractionSelection
                        },
                        x: function() {
                            return i.TimeChart.SettingsInteractionSelection
                        }
                    },
                    snapMode: {
                        t: 0,
                        d: 6
                    },
                    zooming: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsInteractionZooming
                        },
                        x: function() {
                            return i.TimeChart.SettingsInteractionZooming
                        }
                    }
                }, Ut.TimeChartSettingsInteractionScrolling = {
                    limitFrom: {
                        t: 7,
                        b: [{
                            t: 0
                        }, {
                            t: 1
                        }]
                    },
                    limitMode: {
                        t: 0,
                        d: 6
                    },
                    limitTo: {
                        t: 7,
                        b: [{
                            t: 0
                        }, {
                            t: 1
                        }]
                    },
                    overscrollProportion: {
                        t: 1
                    }
                }, Ut.TimeChartSettingsInteractionSelection = {
                    clearOnDropdownUnitMismatch: {
                        t: 9
                    },
                    clearOnRightClick: {
                        t: 9
                    },
                    enabled: {
                        t: 9
                    },
                    moveByDragging: {
                        t: 9
                    },
                    resizeSensitivity: {
                        t: 1
                    },
                    resizeTolerance: {
                        t: 1
                    },
                    tolerance: {
                        t: 1
                    },
                    zoomOutSelectionMode: {
                        t: 0,
                        d: 6
                    }
                }, Ut.TimeChartSettingsInteractionZooming = {
                    alwaysNextUnit: {
                        t: 9
                    },
                    click: {
                        t: 9
                    },
                    enabled: {
                        t: 9
                    },
                    matchDisplayUnit: {
                        t: 9
                    },
                    zoomOnMinUnit: {
                        t: 9
                    }
                }, Ut.TimeChartSettingsLocalization = {
                    calendar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsLocalizationCalendar
                        }
                    },
                    determiningDataBounds: {
                        t: 0
                    },
                    firstDayOfWeek: {
                        t: 1
                    },
                    holidayWeekdays: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 1,
                            d: 0
                        }]
                    },
                    infoDates: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                fullTimeFormats: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsLocalizationTimeUnits
                                    }
                                },
                                majorTimeFormats: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsLocalizationTimeUnits
                                    }
                                },
                                minorTimeFormats: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsLocalizationTimeUnits
                                    }
                                }
                            }
                        }
                    },
                    loadingLabel: {
                        t: 0
                    },
                    markerDates: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                timeFormats: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsLocalizationTimeUnits
                                    }
                                }
                            }
                        }
                    },
                    timeAxisDates: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                majorLabelFullTimeFormats: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsLocalizationTimeUnits
                                    }
                                },
                                majorLabelTimeFormats: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsLocalizationTimeUnits
                                    }
                                },
                                minorLabelTimeFormats: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.TimeChartSettingsLocalizationTimeUnits
                                    }
                                }
                            }
                        }
                    },
                    timeUnitsNames: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsLocalizationTimeUnits
                        }
                    },
                    timeUnitsNamesPlural: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsLocalizationTimeUnits
                        }
                    },
                    toolbar: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsLocalizationToolbar
                        },
                        x: function() {
                            return i.TimeChart.SettingsLocalizationToolbar
                        }
                    }
                }, Ut.TimeChartSettingsLocalizationCalendar = {
                    months: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0
                        }]
                    },
                    monthsShort: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0
                        }]
                    },
                    parentLocale: {
                        t: 0
                    },
                    week: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                dow: {
                                    t: 1,
                                    d: 0
                                },
                                doy: {
                                    t: 1
                                }
                            }
                        }
                    },
                    weekdays: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0
                        }]
                    },
                    weekdaysMin: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0
                        }]
                    },
                    weekdaysShort: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 0
                        }]
                    }
                }, Ut.TimeChartSettingsLocalizationTimeUnits = {
                    M: {
                        t: 0
                    },
                    d: {
                        t: 0
                    },
                    h: {
                        t: 0
                    },
                    m: {
                        t: 0
                    },
                    ms: {
                        t: 0
                    },
                    s: {
                        t: 0
                    },
                    w: {
                        t: 0
                    },
                    y: {
                        t: 0
                    }
                }, Ut.TimeChartSettingsLocalizationToolbar = {
                    customPeriod: {
                        t: 0
                    },
                    periodDropdownTitle: {
                        t: 0
                    },
                    unavailableUnitTitle: {
                        t: 0
                    },
                    unitDropdownTitle: {
                        t: 0
                    },
                    zoomoutButton: {
                        t: 0
                    },
                    zoomoutTitle: {
                        t: 0
                    }
                }, Ut.TimeChartSettingsMarker = {
                    align: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    enabled: {
                        t: 9
                    },
                    label: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLabelStyle
                        }
                    },
                    overrideLimits: {
                        t: 9
                    },
                    showTime: {
                        t: 9
                    },
                    side: {
                        t: 7,
                        b: [{
                            t: 0
                        }]
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.BaseSettingsLineStyle
                        }
                    },
                    time: {
                        t: 1,
                        d: 0
                    }
                }, Ut.TimeChartSettingsSeries = {
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsSeriesData
                        },
                        x: function() {
                            return i.TimeChart.SettingsSeriesData
                        }
                    }
                }, Ut.TimeChartSettingsSeriesCandleStick = {
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsSeriesCandleStickData
                        },
                        x: function() {
                            return i.TimeChart.SettingsSeriesCandleStickData
                        }
                    }
                }, Ut.TimeChartSettingsSeriesCandleStickData = {
                    close: {
                        t: 1
                    },
                    high: {
                        t: 1
                    },
                    low: {
                        t: 1
                    },
                    open: {
                        t: 1
                    }
                }, Ut.TimeChartSettingsSeriesColumns = {
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsSeriesData
                        },
                        x: function() {
                            return i.TimeChart.SettingsSeriesData
                        }
                    }
                }, Ut.TimeChartSettingsSeriesData = {
                    countIndex: {
                        t: 1
                    },
                    index: {
                        t: 1,
                        d: 0
                    }
                }, Ut.TimeChartSettingsSeriesLines = {
                    data: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsSeriesData
                        },
                        x: function() {
                            return i.TimeChart.SettingsSeriesData
                        }
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return Ut.TimeChartSettingsSeriesLinesStyle
                        },
                        x: function() {
                            return i.TimeChart.SettingsSeriesLinesStyle
                        }
                    }
                }, Ut.TimeChartSettingsSeriesLinesStyle = {
                    markerStyleFunction: {
                        t: 4
                    }
                }, Ut.TimeChartSettingsTimeAxis = {
                    enabled: {
                        t: 9
                    },
                    keepUnitWhileAnimating: {
                        t: 9
                    },
                    maxRelativeUnitWidth: {
                        t: 1
                    },
                    maxUnitWidth: {
                        t: 1
                    },
                    minUnitWidth: {
                        t: 1
                    },
                    miniTimeRuler: {
                        t: 9
                    },
                    padding: {
                        t: 1
                    },
                    showHolidays: {
                        t: 9
                    },
                    style: {
                        t: 5,
                        u: 0,
                        c: function() {
                            return {
                                dateHolidays: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsBackgroundStyle
                                    }
                                },
                                dateLighten: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return {
                                            fillColor: {
                                                t: 0
                                            }
                                        }
                                    }
                                },
                                majorTimeBalloonStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsBackgroundStyle
                                    }
                                },
                                majorTimeLabel: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsTextStyle
                                    }
                                },
                                minorAlign: {
                                    t: 7,
                                    b: [{
                                        t: 0
                                    }]
                                },
                                minorTimeBalloonStyle: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsBackgroundStyle
                                    }
                                },
                                minorTimeLabel: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsTextStyle
                                    }
                                },
                                minorTimeRuler: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsLineStyle
                                    }
                                },
                                showMajorTimeBalloons: {
                                    t: 9
                                },
                                showMinorTimeBalloons: {
                                    t: 9
                                },
                                vgrid: {
                                    t: 5,
                                    u: 0,
                                    c: function() {
                                        return Ut.BaseSettingsLineStyle
                                    }
                                }
                            }
                        }
                    },
                    timeZone: {
                        t: 0
                    },
                    timeZoneOffset: {
                        t: 7,
                        b: [{
                            t: 1
                        }, {
                            t: 0
                        }]
                    },
                    unitSizePolicy: {
                        t: 0,
                        d: 6
                    },
                    vgrid: {
                        t: 9
                    }
                }, Ut.TimeChartSettingsToolbar = {
                    displayPeriod: {
                        t: 9
                    },
                    displayUnit: {
                        t: 9
                    },
                    enabled: {
                        t: 9
                    },
                    flexibleAllData: {
                        t: 9
                    },
                    items: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 7,
                            u: 0,
                            b: [{
                                t: 5,
                                u: 0,
                                c: function() {
                                    return Ut.BaseSettingsToolbarItem
                                },
                                x: function() {
                                    return i.Base.SettingsToolbarItem
                                }
                            }, {
                                t: 0
                            }]
                        }]
                    },
                    logScale: {
                        t: 9
                    },
                    periods: {
                        t: 6,
                        u: 0,
                        b: [{
                            t: 5,
                            u: 0,
                            c: function() {
                                return Ut.TimeChartSettingsAreaDisplayPeriod
                            },
                            x: function() {
                                return i.TimeChart.SettingsAreaDisplayPeriod
                            }
                        }]
                    },
                    zoomOut: {
                        t: 9
                    },
                    zoomOutFunction: {
                        t: 4
                    }
                }, r.SettingsMapping = Ut, a(Ut.BaseIChartErrorEventArguments, Ut.BaseIChartEventArguments), a(Ut.BaseIChartLassoUpdatedEventArguments, Ut.BaseIChartEventArguments), a(Ut.BaseIChartSettingsChangeEventArguments, Ut.BaseIChartEventArguments), a(Ut.BaseIDataErrorResponse, Ut.BaseIDataObjectBase), a(Ut.BaseSettingsBackgroundStyle, Ut.BaseSettingsLineStyle), a(Ut.BaseSettingsAdvancedStyleMessageBackground, Ut.BaseSettingsBackgroundStyle), a(Ut.BaseSettingsLegendPanel, Ut.BaseSettingsChartPanel), a(Ut.BaseSettingsToolbarItem, Ut.BaseSettingsToolbarItemBase), a(Ut.BaseSettingsValueAxisTitleStyle, Ut.BaseSettingsLabelStyle), a(Ut.FacetChartIChartEventArguments, Ut.BaseIChartEventArguments), a(Ut.FacetChartIChartClickEventArguments, Ut.FacetChartIChartEventArguments), a(Ut.FacetChartIDataObjectCommon, Ut.BaseIDataObjectBase), a(Ut.FacetChartIDataObject, Ut.FacetChartIDataObjectCommon), a(Ut.FacetChartIDataObjectRoot, Ut.FacetChartIDataObjectCommon), a(Ut.FacetChartIDataObjectRoot, Ut.BaseIDataErrorResponse), a(Ut.LinearChartSettings, Ut.BaseSettings), a(Ut.FacetChartSettings, Ut.LinearChartSettings), a(Ut.LinearChartSettingsArea, Ut.BaseSettingsArea), a(Ut.FacetChartSettingsArea, Ut.LinearChartSettingsArea), a(Ut.LinearChartSettingsAreaStyle, Ut.BaseSettingsAreaStyle), a(Ut.FacetChartSettingsAreaStyle, Ut.LinearChartSettingsAreaStyle), a(Ut.PieChartSettingsData, Ut.BaseSettingsData), a(Ut.FacetChartSettingsData, Ut.PieChartSettingsData), a(Ut.FacetChartSettingsFacetAxisLabels, Ut.BaseSettingsLabelStyle), a(Ut.FacetChartSettingsFacetAxisTitleStyle, Ut.BaseSettingsLabelStyle), a(Ut.LinearChartSettingsSeriesColumnsStyle, Ut.LinearChartSettingsSeriesStyle), a(Ut.FacetChartSettingsSeriesColumnsStyle, Ut.LinearChartSettingsSeriesColumnsStyle), a(Ut.FacetChartSettingsFacetStyle, Ut.FacetChartSettingsSeriesColumnsStyle), a(Ut.LinearChartSettingsInteraction, Ut.BaseSettingsInteraction), a(Ut.FacetChartSettingsInteraction, Ut.LinearChartSettingsInteraction), a(Ut.FacetChartSettingsSeries, Ut.LinearChartSettingsSeries), a(Ut.LinearChartSettingsSeriesColumns, Ut.LinearChartSettingsSeries), a(Ut.FacetChartSettingsSeriesColumns, Ut.LinearChartSettingsSeriesColumns), a(Ut.FacetChartSettingsSeriesData, Ut.LinearChartSettingsSeriesData), a(Ut.LinearChartSettingsSeriesLines, Ut.LinearChartSettingsSeries), a(Ut.FacetChartSettingsSeriesLines, Ut.LinearChartSettingsSeriesLines), a(Ut.LinearChartSettingsSeriesLinesStyle, Ut.LinearChartSettingsSeriesStyle), a(Ut.FacetChartSettingsSeriesLinesStyle, Ut.LinearChartSettingsSeriesLinesStyle), a(Ut.FacetChartSettingsToolbar, Ut.BaseSettingsToolbar), a(Ut.ItemsChartIDataObjectBase, Ut.BaseIDataErrorResponse), a(Ut.ItemsChartIDataObjectNode, Ut.ItemsChartIDataObjectBase), a(Ut.GeoChartIGeoDataObjectNode, Ut.ItemsChartIDataObjectNode), a(Ut.GeoChartIAggregationDataObjectNode, Ut.GeoChartIGeoDataObjectNode), a(Ut.GeoChartIDataObject, Ut.BaseIDataErrorResponse), a(Ut.ItemsChartIDataObjectLink, Ut.ItemsChartIDataObjectBase), a(Ut.GeoChartIGeoDataObjectLink, Ut.ItemsChartIDataObjectLink), a(Ut.ItemsChartSettings, Ut.BaseSettings), a(Ut.GeoChartSettings, Ut.ItemsChartSettings), a(Ut.GeoChartSettingsAggregatedShapeStyle, Ut.BaseSettingsBackgroundStyle), a(Ut.GeoChartSettingsArea, Ut.BaseSettingsArea), a(Ut.GeoChartSettingsAreaStyle, Ut.BaseSettingsAreaStyle), a(Ut.ItemsChartSettingsData, Ut.BaseSettingsData), a(Ut.GeoChartSettingsData, Ut.ItemsChartSettingsData), a(Ut.ItemsChartSettingsInteraction, Ut.BaseSettingsInteraction), a(Ut.GeoChartSettingsInteraction, Ut.ItemsChartSettingsInteraction), a(Ut.GeoChartSettingsInteractionZooming, Ut.ItemsChartSettingsInteractionZooming), a(Ut.GeoChartSettingsLayerOverlay, Ut.GeoChartSettingsLayerBase), a(Ut.GeoChartSettingsLayerAggregated, Ut.GeoChartSettingsLayerOverlay), a(Ut.GeoChartSettingsLayerCharts, Ut.GeoChartSettingsLayerOverlay), a(Ut.GeoChartSettingsLayerItems, Ut.GeoChartSettingsLayerBase), a(Ut.GeoChartSettingsLayerShapes, Ut.GeoChartSettingsLayerBase), a(Ut.ItemsChartSettingsNodesLayerStyle, Ut.ItemsChartSettingsItemsLayerStyle), a(Ut.GeoChartSettingsNodesLayerStyle, Ut.ItemsChartSettingsNodesLayerStyle), a(Ut.GeoChartSettingsShapesLayerNodeStyle, Ut.ItemsChartSettingsNodeStyle), a(Ut.GeoChartSettingsShapesLayerStyle, Ut.GeoChartSettingsNodesLayerStyle), a(Ut.ItemsChartIChartEventArguments, Ut.BaseIChartEventArguments), a(Ut.ItemsChartIChartClickEventArguments, Ut.ItemsChartIChartEventArguments), a(Ut.ItemsChartSettingsAdvanced, Ut.BaseSettingsAdvanced), a(Ut.ItemsChartSettingsAuraStyle, Ut.BaseSettingsBackgroundStyle), a(Ut.ItemsChartSettingsItemsLayerLabelStyle, Ut.BaseSettingsLabelStyle), a(Ut.ItemsChartSettingsItemsLayerCategoryLabelStyle, Ut.ItemsChartSettingsItemsLayerLabelStyle), a(Ut.ItemsChartSettingsItemsLayerItemStyle, Ut.ItemsChartSettingsItemsLayerLabelStyle), a(Ut.ItemsChartSettingsItemsLayerLinkLabelStyle, Ut.ItemsChartSettingsItemsLayerLabelStyle), a(Ut.ItemsChartSettingsLinkClass, Ut.ItemsChartSettingsItemClass), a(Ut.ItemsChartSettingsLinkItem, Ut.ItemsChartSettingsItemsLayerItemStyle), a(Ut.ItemsChartSettingsLinkMenu, Ut.ItemsChartSettingsMenu), a(Ut.ItemsChartSettingsNodeClass, Ut.ItemsChartSettingsItemClass), a(Ut.ItemsChartSettingsNodeItem, Ut.ItemsChartSettingsItemsLayerItemStyle), a(Ut.ItemsChartSettingsNodeMenu, Ut.ItemsChartSettingsMenu);
                var Wt = Ut.LinearChartSettingsEvents;
                Ut.LinearChartSettingsEvents = function(t, e) {
                    var i = Wt(t, e);
                    return a(i, Ut.BaseSettingsEvents(t, e)), i
                }, a(Ut.LinearChartSettingsLegend, Ut.BaseSettingsLegend), a(Ut.LinearChartSettingsLegendAdvanced, Ut.BaseSettingsLegendAdvanced), a(Ut.LinearChartSettingsLegendMarker, Ut.BaseSettingsLegendMarker), a(Ut.LinearChartSettingsLocalization, Ut.BaseSettingsLocalization), a(Ut.LinearChartSettingsLocalizationToolbar, Ut.BaseSettingsLocalizationToolbar), a(Ut.LinearChartSettingsSeriesCandleStick, Ut.LinearChartSettingsSeries), a(Ut.LinearChartSettingsSeriesCandleStickStyle, Ut.LinearChartSettingsSeriesStyle), a(Ut.LinearChartSettingsValueAxisBaseLineStyle, Ut.BaseSettingsLineStyle), a(Ut.NetChartBarSettingsLocalizationToolbar, Ut.BaseSettingsLocalizationToolbar), a(Ut.NetChartBarSettingsToolbar, Ut.BaseSettingsToolbar), a(Ut.NetChartIChartEventArguments, Ut.ItemsChartIChartEventArguments), a(Ut.NetChartIChartClickEventArguments, Ut.NetChartIChartEventArguments), a(Ut.NetChartIDataObject, Ut.BaseIDataErrorResponse), a(Ut.NetChartIDataObjectLink, Ut.ItemsChartIDataObjectLink), a(Ut.NetChartIDataObjectNode, Ut.ItemsChartIDataObjectNode), a(Ut.NetChartSettings, Ut.ItemsChartSettings), a(Ut.NetChartSettingsArea, Ut.BaseSettingsArea), a(Ut.NetChartSettingsData, Ut.ItemsChartSettingsData), a(Ut.NetChartSettingsEvents, Ut.BaseSettingsEvents(Ut.NetChartIChartEventArguments, Ut.NetChartIChartClickEventArguments)), a(Ut.NetChartSettingsInteraction, Ut.ItemsChartSettingsInteraction), a(Ut.NetChartSettingsInteractionSelection, Ut.ItemsChartSettingsInteractionSelection), a(Ut.NetChartSettingsInteractionZooming, Ut.ItemsChartSettingsInteractionZooming), a(Ut.NetChartSettingsLegend, Ut.BaseSettingsLegend), a(Ut.NetChartSettingsLegendAdvanced, Ut.BaseSettingsLegendAdvanced), a(Ut.NetChartSettingsLocalization, Ut.BaseSettingsLocalization), a(Ut.NetChartSettingsStyle, Ut.ItemsChartSettingsNodesLayerStyle), a(Ut.NetChartSettingsSwimlaneLayout, Ut.NetChartSettingsSwimlaneLayoutStyle), a(Ut.NetChartSettingsSwimlaneLayoutLane, Ut.NetChartSettingsSwimlaneLayoutStyle), a(Ut.PieChartIChartEventArguments, Ut.BaseIChartEventArguments), a(Ut.PieChartIChartClickEventArguments, Ut.PieChartIChartEventArguments), a(Ut.PieChartIDataObjectCommon, Ut.BaseIDataObjectBase), a(Ut.PieChartIDataObject, Ut.PieChartIDataObjectCommon), a(Ut.PieChartIDataObjectRoot, Ut.PieChartIDataObjectCommon), a(Ut.PieChartIDataObjectRoot, Ut.BaseIDataErrorResponse), a(Ut.PieChartSettings, Ut.BaseSettings), a(Ut.PieChartSettingsAdvanced, Ut.BaseSettingsAdvanced), a(Ut.PieChartSettingsEvents, Ut.BaseSettingsEvents(Ut.PieChartIChartEventArguments, Ut.PieChartIChartClickEventArguments)), a(Ut.PieChartSettingsInteraction, Ut.BaseSettingsInteraction), a(Ut.PieChartSettingsLegend, Ut.BaseSettingsLegend), a(Ut.PieChartSettingsLegendMarker, Ut.BaseSettingsLegendMarker), a(Ut.PieChartSettingsLocalization, Ut.BaseSettingsLocalization), a(Ut.PieChartSettingsPieMarker, Ut.BaseSettingsBackgroundStyle), a(Ut.TimeChartIChartEventArguments, Ut.BaseIChartEventArguments), a(Ut.TimeChartIDataObject, Ut.BaseIDataErrorResponse), a(Ut.TimeChartSettings, Ut.LinearChartSettings), a(Ut.TimeChartSettingsAdvanced, Ut.BaseSettingsAdvanced), a(Ut.TimeChartSettingsArea, Ut.LinearChartSettingsArea), a(Ut.TimeChartSettingsAreaStyle, Ut.LinearChartSettingsAreaStyle), a(Ut.TimeChartSettingsCurrentTime, Ut.TimeChartSettingsMarker), a(Ut.TimeChartSettingsData, Ut.BaseSettingsData), a(Ut.TimeChartSettingsEvents, Ut.LinearChartSettingsEvents(Ut.TimeChartIChartEventArguments, Ut.TimeChartIChartEventArguments)), a(Ut.TimeChartSettingsInteraction, Ut.LinearChartSettingsInteraction), a(Ut.TimeChartSettingsInteractionScrolling, Ut.LinearChartSettingsInteractionScrolling), a(Ut.TimeChartSettingsInteractionZooming, Ut.LinearChartSettingsInteractionZooming), a(Ut.TimeChartSettingsLocalization, Ut.LinearChartSettingsLocalization), a(Ut.TimeChartSettingsLocalizationToolbar, Ut.LinearChartSettingsLocalizationToolbar), a(Ut.TimeChartSettingsSeries, Ut.LinearChartSettingsSeries), a(Ut.TimeChartSettingsSeriesCandleStick, Ut.LinearChartSettingsSeriesCandleStick), a(Ut.TimeChartSettingsSeriesData, Ut.LinearChartSettingsSeriesData), a(Ut.TimeChartSettingsSeriesCandleStickData, Ut.TimeChartSettingsSeriesData), a(Ut.TimeChartSettingsSeriesColumns, Ut.LinearChartSettingsSeriesColumns), a(Ut.TimeChartSettingsSeriesLines, Ut.LinearChartSettingsSeriesLines), a(Ut.TimeChartSettingsSeriesLinesStyle, Ut.LinearChartSettingsSeriesLinesStyle), a(Ut.TimeChartSettingsToolbar, Ut.BaseSettingsToolbar);
                var Gt = function() {
                    function t() {}
                    return t.mergeDefaultValues = function(e, i, n, r, s, a) {
                        var o = i ? i.type : null;
                        if (!e || 0 === e.length) {
                            if (!o) return [];
                            e = [{
                                type: o
                            }]
                        }
                        for (var l = [], h = 0; h < e.length; h++) {
                            var u = e[h],
                                c = a + "[" + h + "]";
                            if (d.isObjectOrArray(u)) {
                                var p = u.type || o;
                                if (!p) throw new Error("`type` property must be specified in the settings for value: " + c);
                                var f = r(u, p),
                                    g = n[p];
                                i && (delete i.type, t.updateRecursive(f, i, s(f, i), {}, c), i.type = o), g && t.updateRecursive(f, g, s(f, g), {}, c), t.updateRecursive(f, u, s(f, u), {}, c), l.push(f)
                            }
                        }
                        return l
                    }, t.updateRecursive = function(t, e, i, n, r) {
                        if (void 0 === r && (r = ""), !t) throw new Error("Cannot update settings path '" + r + "' because the target object is not defined.");
                        if (e)
                            for (var s in e)
                                if (e.hasOwnProperty(s)) {
                                    var a = e[s],
                                        o = (r.length ? r + "." : "") + s,
                                        l = this.findPropertyConfiguration(s, i, o);
                                    null !== l && void 0 !== a && this.copyValue(t, s, a, l, n, o)
                                }
                    }, t.copyValueMergeByID = function(t, e, i, n, r, s) {
                        if (null != i) {
                            if (6 !== n.t) throw new Error("Property '" + s + "' is set to use merge-by-ID update mode which is only supported on arrays.");
                            if (this.replacingSettings) return this.copyValueRecursive(t, e, i, n, r, s);
                            var a = t[e];
                            null == a && (t[e] = a = []);
                            for (var o = {}, l = 0; l < a.length; l++) o[a[l].id] = a[l];
                            for (var h = 0; h < i.length; h++) {
                                var u = i[h];
                                if (null != u) {
                                    u.id || (u.id = d.getIdentifierStr());
                                    var c = o[u.id];
                                    r[e] || (r[e] = {}), this.copyValue(o, u.id, u, n.b[0], r[e], s + "[" + u.id + "]"), c || a.push(o[u.id])
                                }
                            }
                        }
                    }, t.retrieveOwnMethod = function(t, e) {
                        if (!t) return null;
                        var i = t[e],
                            n = t.__baseType;
                        return n && n[e] === i ? null : i
                    }, t.copyValueRecursive = function(t, e, i, n, r, s) {
                        if (null != i) {
                            var a = t[e];
                            if (n.c) {
                                var o = n.x ? n.x() : null,
                                    l = this.retrieveOwnMethod(o, "getMapping"),
                                    h = l ? l(a, i) : n.c();
                                if (null == a) {
                                    if (!o || n.y || this._ignoringCtor) a = {};
                                    else {
                                        var u = this.retrieveOwnMethod(o, "createInstance");
                                        a = u ? u(i) : new o
                                    }
                                    t[e] = a
                                }
                                if (n.y) try {
                                    this._ignoringCtor++, this.updateRecursive(a, i, h, r[e] = {}, s)
                                } finally {
                                    this._ignoringCtor--
                                } else this.updateRecursive(a, i, h, r[e] = {}, s)
                            } else if (6 === n.t) t[e] = a = [], this.copyArray(a, i, n.b[0], r[e] = [], s);
                            else {
                                if (8 !== n.t) throw new Error("Property '" + s + "' is set to use recursive update but does not define target object mapping.");
                                (null == a || this.replacingSettings) && (t[e] = a = {}), this.copyDictionary(a, i, n.b[0], r[e] = {}, s)
                            }
                        }
                    }, t.copyValue = function(t, e, i, n, r, s) {
                        if (void 0 === i) return delete t[e], void(r[e] = !0);
                        var a = this.ensurePropertyType(i, n, s);
                        if (a) {
                            i = a.value, n = a.configuration || n;
                            var o = t[e];
                            if (1 === n.u || void 0 === n.u) o !== i && (r[e] = i, t[e] = i);
                            else if (2 === n.u) i = JSON.parse(JSON.stringify(i)), r[e] = i, t[e] = i;
                            else if (4 === n.u) this.copyValueMergeByID(t, e, i, n, r, s);
                            else if (3 === n.u) {
                                if (null != i) {
                                    if (6 !== n.t) throw new Error("Property '" + s + "' is set to use concat update which is only supported for arrays.");
                                    o && !this.replacingSettings || (t[e] = o = []), this.copyArray(o, i, n.b[0], r[e] = [], s)
                                }
                            } else {
                                if (0 !== n.u) throw new Error("Property '" + s + "' does not have an update mode defined in the settings mapping or it is not implemented.");
                                this.copyValueRecursive(t, e, i, n, r, s)
                            }
                        }
                    }, t.copyDictionary = function(t, e, i, n, r) {
                        for (var s = Object.keys(e), a = 0; a < s.length; a++) {
                            var o = s[a],
                                l = {};
                            this.copyValue(t, o, e[o], i, l, r + "." + o), d.hasProperties(l) && (n[o] = l)
                        }
                    }, t.copyArray = function(t, e, i, n, r) {
                        for (var s = 0; s < e.length; s++) this.copyValue(t, t.length, e[s], i, n, r + "[" + s + "]")
                    }, t.ensurePropertyType = function(t, e, i, n) {
                        if (void 0 === n && (n = !1), null == t) return {
                            value: t
                        };
                        var r = null,
                            s = null,
                            a = void 0,
                            o = null;
                        switch (e.t) {
                            case 0:
                                t instanceof String && (t = t.valueOf()), d.isString(t) || (r = "String");
                                break;
                            case 1:
                                if (t instanceof Number && (t = t.valueOf()), 0 === e.d) {
                                    a = parseFloat(t);
                                    var l = Math.round(a);
                                    if (isNaN(a)) r = "Integer";
                                    else if (l !== a) {
                                        var h = Math.abs(l - a);
                                        n || d.warn("Settings value '" + i + "' expected to be an Integer but contains a decimal point: " + a + "."), h < 1e-8 && (a = l)
                                    }
                                } else a = parseFloat(t), isNaN(a) && (r = "Float");
                                break;
                            case 3:
                                d.isString(t) ? (a = document.getElementById(t), a || (s = "the property expects either a reference to a DOM element or a string containing the ID of the element. There is no element with the given ID '" + t + "'.")) : d.isDomObject(t) || (s = "the property expects either a reference to a DOM element or a string containing the ID of the element.");
                                break;
                            case 4:
                                d.isFunction(t) || (r = "Function");
                                break;
                            case 6:
                                Array.isArray(t) || (n ? r = "Array" : (d.warn("Settings value '" + i + "' expected to be an array but found " + typeof t + ". The value will be wrapped in an array."), a = [t]));
                                break;
                            case 16:
                                "undefined" != typeof Float32Array && t instanceof Float32Array || (r = "Float32Array");
                                break;
                            case 16:
                                "undefined" != typeof Float32Array && t instanceof Float32Array || (r = "Float32Array");
                                break;
                            case 17:
                                "undefined" != typeof Int32Array && t instanceof Int32Array || (r = "Int32Array");
                                break;
                            case 18:
                                "undefined" != typeof Uint32Array && t instanceof Uint32Array || (r = "UInt32Array");
                                break;
                            case 11:
                                if (Array.isArray(t))
                                    for (var u = 0; u < t.length; u++) {
                                        var c = t[u];
                                        if (!Array.isArray(c) || 2 !== c.length || !d.isNumber(c[0]) || !d.isString(c[1])) {
                                            s = "the property at index " + u + " has to be an array with two elements - a number and a string.";
                                            break
                                        }
                                    } else s = "the property has to be an array where each item is an array with two elements - a number and a string.";
                                break;
                            case 2:
                                var p = e.e(),
                                    f = d.isNumber(t);
                                f || d.isString(t) ? (a = p[t], void 0 === a && (s = "'" + t + "' is not a valid enumeration value. Please review the documentation for valid values.", t = p), f && (a = t)) : (s = "the value must be a number or a string (the preferred way is to use the enumeration from 'BoomCharts.Configuration' namespace).", t = p);
                                break;
                            case 14:
                                t instanceof CanvasGradient || (r = "CanvasGradient");
                                break;
                            case 12:
                                if (Array.isArray(t) && t.length === e.b.length)
                                    for (var g = 0; g < t.length; g++) {
                                        var m = this.ensurePropertyType(t[g], e.b[g], i + "[" + g + "]", n);
                                        if (!m) return null;
                                        t[g] = m.value
                                    } else s = "the property expects an array with exactly " + e.b.length + " elements.";
                                break;
                            case 7:
                                for (var v = !1, y = 0; y < e.b.length; y++) {
                                    var S = this.ensurePropertyType(t, e.b[y], i, !0);
                                    if (S) {
                                        a = S.value, o = S.configuration || e.b[y], v = !0;
                                        break
                                    }
                                }
                                v || (s = "the the given value does not match any constituent of the union type. Please review the documentation on the correct type.");
                                break;
                            case 5:
                            case 8:
                                d.isObjectOrArray(t) || (r = "Object");
                                break;
                            case 9:
                                t instanceof Boolean && (t = t.valueOf()), null !== t && t !== !0 && t !== !1 && (r = "Boolean");
                                break;
                            case 10:
                                break;
                            default:
                                throw new Error("Unsupported data type: " + e.t)
                        }
                        return null !== r && null === s && (s = "the given value '" + t + "' is not of type '" + r + "'."), null !== s ? (n || d.error("Cannot update settings value '" + i + "' because " + s, t), null) : (void 0 !== a && (t = a), {
                            value: t,
                            configuration: o
                        })
                    }, t.findPropertyConfiguration = function(t, e, i) {
                        var n = e[t];
                        return void 0 !== n ? n : (d.warn("Cannot update settings value '" + i + "' because such property does not exist.", null, !0), null)
                    }, t
                }();
                Gt._ignoringCtor = 0, Gt.replacingSettings = !1, r.SettingsHelper = Gt;
                var Vt = function() {
                    function t(t) {
                        this._mapping = null, this._computedDataMap = {}, this._initializing = !0, this.container = null, this.theme = null, this.assetsUrlBase = "", this.area = new qt, this.data = [], this.advanced = new Jt, this.events = new Yt, this.interaction = new Qt, this.localization = new jt, this.toolbar = new pt, this.title = new z, this.credits = new N, this.legend = new Ft, this.callbacks = new _t, this._mapping = t
                    }
                    return t.prototype.applyGlobalCustomizations = function() {
                        this.theme && Gt.updateRecursive(this, this.theme, this._mapping, {})
                    }, t.prototype.applyCompatibility = function(t, e, i) {
                        i = null == i ? "" : i + ".";
                        for (var n = 0; n < e.length; n++) {
                            var r = e[n],
                                s = r.from,
                                a = d.getProp(t, s, !!r.to && !r.filter);
                            if (void 0 !== a && (!r.filter || r.filter(a))) {
                                if (r.to) r.transform && (a = r.transform(a)), d.extendDeep(t, d.wrapValue(a, r.to)), d.warn("Setting `" + i + s + "` is being deprecated. Compatibility layer moved the value automatically to `" + i + r.to + "`. Please update the configuration to avoid using the obsolete property.", null, !0);
                                else {
                                    var o = r.alternativeAsWarning,
                                        l = "Setting `" + i + s + "` " + (o ? "is being deprecated" : "is no longer supported") + ". Consider using `" + r.alternative + "` instead.";
                                    o ? d.warn(l, null, !0) : d.error(l)
                                }
                            }
                        }
                    }, t.prototype.apply = function(t) {
                        this.applyCompatibility(t, [{
                            from: "width",
                            to: "area.width"
                        }, {
                            from: "height",
                            to: "area.height"
                        }, {
                            from: "minHeight",
                            to: "area.minHeight"
                        }, {
                            from: "maxHeight",
                            to: "area.maxHeight"
                        }, {
                            from: "minWidth",
                            to: "area.minWidth"
                        }, {
                            from: "maxWidth",
                            to: "area.maxWidth"
                        }]);
                        var e = {},
                            i = !1;
                        if (this._initializing) this.applyGlobalCustomizations(), t || (t = {}), t.data || (t.data = [{}]);
                        else if (!t) return e;
                        if (t.data) {
                            Array.isArray(t.data) || (t.data = [t.data], i = !0);
                            for (var n = 0; n < t.data.length; n++) {
                                var r = t.data[n];
                                r.id || (r.name ? (d.warn("The property `name` in the data object configuration is deprecated in favor of `id` property. Please update the configuration to avoid using the obsolete property.", null, !0), r.id = r.name, delete r.name) : 0 === n ? r.id = "default" : r.id = "default-" + n.toString(10))
                            }
                        }
                        if (Gt.updateRecursive(this, t.theme, this._mapping, e), Gt.updateRecursive(this, t, this._mapping, e), i && (t.data = t.data[0]), e.data || this._initializing) {
                            this._computedDataMap = {};
                            for (var n = 0; n < this.data.length; n++) {
                                var s = this.data[n];
                                this._computedDataMap[s.id] = s
                            }
                        }
                        return e
                    }, t
                }();
                r.Settings = Vt;
                var Yt = function() {
                    function t() {
                        this.onError = null, this.onSettingsChange = null, this.onClick = null, this.onDoubleClick = null, this.onTripleClick = null, this.onRightClick = null, this.onLongPress = null, this.onHoverChange = null, this.onSelectionChange = null, this.onChartUpdate = null, this.onPositionChange = null, this.onLassoChange = null, this.chartUpdateDelay = 0
                    }
                    return t
                }();
                r.SettingsEvents = Yt;
                var jt = function() {
                    function t() {
                        this.toolbar = new Zt, this.loadingLabel = "Loading...", this.closeButton = "Close", this.dataRequestFailed = "Data request failed", this.exportNotAvailable = "Your browser does not support exporting the chart."
                    }
                    return t
                }();
                r.SettingsLocalization = jt;
                var _t = function() {
                    function t() {
                        this.renderStart = null, this.renderFinish = null, this.renderFailed = null
                    }
                    return t
                }();
                r.SettingsCallbacks = _t;
                var Zt = function() {
                    function t() {
                        this.backButton = "Back", this.backTitle = "Move one step back in navigation", this.fullscreenButton = "Fullscreen", this.fullscreenTitle = "Toggle fullscreen mode", this.zoomoutButton = "Zoom-out", this.zoomoutTitle = "Zoom out", this.exportButton = "Export", this.exportTitle = "Export Data", this.exportJpeg = "For Office and Web (jpeg)", this.exportPNG = "For Photoshop (png)", this.exportPDF = "For Printer (pdf)", this.exportCSV = "Spreadsheet (csv)", this.exportXLS = "Spreadsheet (xls)"
                    }
                    return t
                }();
                r.SettingsLocalizationToolbar = Zt;
                var qt = function() {
                    function t() {
                        this.defaultHeight = 300, this.width = null, this.height = null, this.top = null, this.left = null, this.minHeight = 50, this.maxHeight = 2e4, this.minWidth = 50, this.maxWidth = 2e4, this.style = new Xt
                    }
                    return t
                }();
                r.SettingsArea = qt;
                var Xt = function() {
                    function t() {
                        this.fillColor = "transparent", this.image = null, this.overlayColor = null
                    }
                    return t
                }();
                r.SettingsAreaStyle = Xt;
                var Qt = function() {
                    function t() {
                        this.resizing = new tt
                    }
                    return t
                }();
                r.SettingsInteraction = Qt;
                var Jt = function() {
                    function t() {
                        this.labelCache = !0, this.labelCacheRotated = !0, this.highDPI = !0, this.pointer = new Kt, this.useAnimationFrame = !0, this.dataRequestClass = "XMLHttpRequest", this.showTouches = !1, this.showTouchTrail = !0, this.showFPS = !1, this.showTimestamp = !1, this.logging = !1, this.style = new $t, this.strictEscaping = !1, this.maxCanvasWidth = 4096, this.maxCanvasHeight = 4096, this.themeCSSClass = "BMCH-round", this.assets = [{
                            url: "assets://boomcharts.css",
                            required: function() {
                                return !d.isStyleSheetDefined("BMCH-suppress-default-styles", "color")
                            }
                        }], this.builtinAssets = {
                            "logo-blank": c.LicenseBannerBlank,
                            "logo-supported-by": c.LicenseBannerSupportedBy,
                            "logo-development": c.LicenseBannerDevelopment,
                            "logo-license-expired": c.LicenseBannerExpired,
                            "logo-unlicensed": c.LicenseBannerUnlicensed
                        }, this.exportPdfSize = [210, 297], this.crossOriginHeader = null, this.dataExportFunction = null, this.imageExportRenderingFunction = null, this.defaultExportFileName = "export"
                    }
                    return t
                }();
                r.SettingsAdvanced = Jt;
                var Kt = function() {
                    function t() {
                        this.noClickOnDoubleClick = !0, this.clickSensitivity = 10, this.doubleClickSensitivity = 20, this.doubleClickTimeout = 300, this.longPressTimeout = 500, this.longPressSensitivity = 10, this.speedAveragingPeriod = 200, this.scrollIntoView = !1, this.mouseWheelRequiresFocus = !1
                    }
                    return t
                }();
                r.SettingsAdvancedPointer = Kt;
                var $t = function() {
                    function t() {
                        this.messageTextStyle = {
                            fillColor: "#000",
                            font: "15px Arial"
                        }, this.messageBackgroundStyle = {
                            padding: 5
                        }, this.loadingArcStyle = {
                            r: 10,
                            lineColor: "#444",
                            lineWidth: 1,
                            location: "center"
                        }
                    }
                    return t
                }();
                r.SettingsAdvancedStyle = $t;
                var te = 2 * Math.PI,
                    ee = function() {
                        function t() {}
                        return t.cuberoot = function(t) {
                            var e = Math.pow(Math.abs(t), 1 / 3);
                            return t < 0 ? -e : e
                        }, t.solveCubic = function(e, i, n, r) {
                            if (Math.abs(e) < 1e-8) {
                                if (e = i, i = n, n = r, Math.abs(e) < 1e-8) return e = i, i = n, Math.abs(e) < 1e-8 ? [] : [-i / e];
                                var s = i * i - 4 * e * n;
                                return Math.abs(s) < 1e-8 ? [-i / (2 * e)] : s > 0 ? [(-i + Math.sqrt(s)) / (2 * e), (-i - Math.sqrt(s)) / (2 * e)] : []
                            }
                            var a, o = (3 * e * n - i * i) / (3 * e * e),
                                l = (2 * i * i * i - 9 * e * i * n + 27 * e * e * r) / (27 * e * e * e);
                            if (Math.abs(o) < 1e-8) a = [t.cuberoot(-l)];
                            else if (Math.abs(l) < 1e-8) a = [0].concat(o < 0 ? [Math.sqrt(-o), -Math.sqrt(-o)] : []);
                            else {
                                var s = l * l / 4 + o * o * o / 27;
                                if (Math.abs(s) < 1e-8) a = [-1.5 * l / o, 3 * l / o];
                                else if (s > 0) {
                                    var h = t.cuberoot(-l / 2 - Math.sqrt(s));
                                    a = [h - o / (3 * h)]
                                } else {
                                    var h = 2 * Math.sqrt(-o / 3),
                                        u = Math.acos(3 * l / o / h) / 3,
                                        c = 2 * Math.PI / 3;
                                    a = [h * Math.cos(u), h * Math.cos(u - c), h * Math.cos(u - 2 * c)]
                                }
                            }
                            for (var d = 0; d < a.length; d++) a[d] -= i / (3 * e);
                            return a
                        }, t.quadraticCurve = function(t, e, i, n) {
                            var r = 1 - n,
                                s = r * r,
                                a = n * n,
                                o = s * t + 2 * n * r * e + a * i;
                            return o
                        }, t.derivativeQuadraticCurve = function(t, e, i, n) {
                            return 2 * (-t * (1 - n) - 2 * e * n + e + i * n)
                        }, t.distSq = function(t, e, i, n) {
                            var r = i - t,
                                s = n - e,
                                a = r * r + s * s;
                            return a
                        }, t.distanceToQuadraticCurveSq = function(e, i, n, r, s, a, o, l) {
                            for (var h = e - o, u = i - l, c = n - e, d = r - i, p = s - n - c, f = a - r - d, g = p * p + f * f, m = 3 * (c * p + d * f), v = 2 * (c * c + d * d) + (h * p + u * f), y = h * c + u * d, S = t.solveCubic(g, m, v, y), b = Math.min(t.distSq(o, l, e, i), t.distSq(o, l, s, a)), x = 0; x < S.length; x++) {
                                var C = S[x],
                                    w = t.quadraticCurve(e, n, s, C),
                                    L = t.quadraticCurve(i, r, a, C),
                                    T = t.distSq(o, l, w, L);
                                T < b && (b = T)
                            }
                            return b
                        }, t.distanceToSegmentSq = function(t, e, i, n, r, s) {
                            var a = r - t,
                                o = s - e,
                                l = i - t,
                                h = n - e,
                                u = a * l + o * h,
                                c = l * l + h * h,
                                d = -1;
                            0 !== c && (d = u / c);
                            var p, f;
                            d < 0 ? (p = t, f = e) : d > 1 ? (p = i, f = n) : (p = t + d * l, f = e + d * h);
                            var g = r - p,
                                m = s - f;
                            return g * g + m * m
                        }, t.rayIntersectsSegment = function(t, e, i, n, r, s, a, o) {
                            var l = 1 / 0,
                                h = a - r,
                                u = o - s,
                                c = i * u - n * h;
                            if (0 !== c) {
                                var d = (e * h - t * u + r * u - s * h) / c,
                                    p = void 0;
                                p = Math.abs(h) > Math.abs(u) ? (t + i * d - r) / h : (e + n * d - s) / u, p >= 0 && p <= 1 && d >= 0 && (l = d)
                            }
                            return l
                        }, t.lineIntersectsSegment = function(t, e, i, n, r, s, a, o) {
                            var l = 1 / 0,
                                h = a - r,
                                u = o - s,
                                c = i * u - n * h;
                            if (0 !== c) {
                                var d = (e * h - t * u + r * u - s * h) / c,
                                    p = void 0;
                                p = Math.abs(h) > Math.abs(u) ? (t + i * d - r) / h : (e + n * d - s) / u, p >= 0 && p <= 1 && (l = d)
                            }
                            return l
                        }, t.lineIntersectsLine = function(t, e, i, n, r, s, a, o) {
                            var l = 1 / 0,
                                h = i - t,
                                u = n - e,
                                c = a - r,
                                d = o - s,
                                p = h * d - u * c;
                            if (0 !== p) {
                                var f = (e * c - t * d + r * d - s * c) / p,
                                    g = void 0;
                                g = Math.abs(c) > Math.abs(d) ? (t + h * f - r) / c : (e + u * f - s) / d, l = f
                            }
                            return l
                        }, t.rayIntersectsCircle = function(t, e, i, n, r) {
                            var s = i * i + n * n,
                                a = t * i + e * n,
                                o = t * t + e * e - r * r,
                                l = a * a - s * o,
                                h = 1 / 0;
                            if (l > 0) {
                                l = Math.sqrt(l);
                                var u = (-a - l) / s,
                                    c = (-a + l) / s;
                                u >= 0 && (h = u), c >= 0 && (h = Math.min(h, c))
                            }
                            return h
                        }, t.clipSegmentToRect = function(t, e, i, n, r, s, a, o) {
                            var l = 0,
                                h = 1;
                            if (0 !== n) {
                                var u = 1 / n,
                                    c = (s - e) * u,
                                    d = (o - e) * u;
                                if (l = Math.min(c, d), h = Math.max(c, d), l > 1 || h < 0) return null
                            } else if (e < s || e > o) return null;
                            if (0 !== i) {
                                var p = 1 / i,
                                    f = (r - t) * p,
                                    g = (a - t) * p,
                                    m = Math.min(f, g),
                                    v = Math.max(f, g);
                                if (l = Math.max(l, m), h = Math.min(h, v), l > 1 || h < 0 || l > h) return null
                            } else if (t < r || t > a) return null;
                            return [l, h]
                        }, t.rayIntersectsCircleOuter = function(t, e, i, n, r) {
                            var s = i * i + n * n,
                                a = t * i + e * n,
                                o = t * t + e * e - r * r,
                                l = a * a - s * o;
                            return l = Math.sqrt(l), Math.max((-a + l) / s, (-a - l) / s)
                        }, t.lineTouchingCircle = function(t, e, i, n, r) {
                            var s = Math.sqrt(t * t + e * e);
                            if (!(s > r)) return null;
                            var a = Math.sqrt(s * s - r * r),
                                o = r * a / s,
                                l = r * r / s,
                                h = t / s,
                                u = e / s,
                                c = t * n - e * i;
                            return c < 0 && (o = -o), {
                                x: h * l - u * o,
                                y: u * l + h * o
                            }
                        }, t.distanceToPolygonSq = function(e, i, n) {
                            if (t.isInsidePolygon(e, i, n)) return 0;
                            for (var r = 1 / 0, s = 0; s < n.length; s++)
                                for (var a = n[s], o = a.length, l = a[o - 2], h = a[o - 1], u = 0; u <= o - 2; u += 2) {
                                    var c = a[u],
                                        d = a[u + 1];
                                    r = Math.min(r, t.distanceToSegmentSq(l, h, c, d, e, i)), l = c, h = d
                                }
                            return r
                        }, t.distanceToLinesSq = function(e, i, n) {
                            for (var r = 1 / 0, s = 0; s < n.length; s++) {
                                var a = n[s],
                                    o = a.length;
                                if (2 === o) r = Math.min(r, (e - a[0]) * (e - a[0]) + (i - a[1]) * (i - a[1]));
                                else if (o > 2)
                                    for (var l = a[0], h = a[1], u = 2; u <= o - 2; u += 2) {
                                        var c = a[u],
                                            d = a[u + 1];
                                        r = Math.min(r, t.distanceToSegmentSq(l, h, c, d, e, i)), l = c, h = d
                                    }
                            }
                            return r
                        }, t.isInsidePolygon = function(t, e, i) {
                            for (var n = !1, r = 0; r < i.length; r++)
                                for (var s = i[r], a = s.length, o = s[a - 2], l = s[a - 1], h = 0; h <= a - 2; h += 2) {
                                    var u = s[h],
                                        c = s[h + 1];
                                    c > e != l > e && t < (u - o) * (e - l) / (c - l) + o && (n = !n), o = u, l = c
                                }
                            return n
                        }, t.distanceToBalloon = function(e, i, n, r) {
                            var s;
                            if (e >= i) s = e;
                            else if (0 === r) s = i;
                            else {
                                var a = d.sign(r);
                                s = e / r * a, Math.abs(n * s) > i - e && (s = t.rayIntersectsCircleOuter(-(i - e), 0, Math.abs(n), r, e))
                            }
                            return s
                        }, t.distanceToRect = function(t, e, i, n, s, a, o) {
                            void 0 === o && (o = !1);
                            var l, h;
                            i instanceof r.Rect ? (o = n, l = i.x0, h = i.y0, s = i.x1, a = i.y1) : (l = i, h = n);
                            var u, c;
                            return u = t < l ? l - t : t > s ? t - s : 0, c = e < h ? h - e : e > a ? e - a : 0, o ? u * u + c * c : Math.sqrt(u * u + c * c)
                        }, t.clipSegmentToBounds = function(e, i, n, r, s, a, o, l, h, u) {
                            var c = Math.max(s, a),
                                d = n - e,
                                p = r - i,
                                f = t.clipSegmentToRect(e, i, d, p, o - c, l - c, h + c, u + c);
                            if (null === f) return null;
                            var g = Math.max(0, f[0]),
                                m = Math.min(1, f[1]);
                            return [e + d * g, i + p * g, e + d * m, i + p * m]
                        }, t.computeBoundsSize = function(t) {
                            for (var e = 1 / 0, i = -(1 / 0), n = 1 / 0, r = -(1 / 0), s = t.length, a = 0; a < s; a += 2) {
                                var o = t[a],
                                    l = t[a + 1];
                                e = Math.min(o, e), i = Math.max(o, i), n = Math.min(l, n), r = Math.max(l, r)
                            }
                            return Math.max(i - e, r - n)
                        }, t.simplify = function(e, i) {
                            if (!i || !e.length) return e;
                            var n = i * i;
                            return e = t.reducePoints(e, n), e = t.simplifyDP(e, n)
                        }, t.simplifyDP = function(e, i) {
                            var n, r = e.length;
                            n = "undefined" != typeof Uint8Array ? new Uint8Array(r) : new Array(r), n[0] = n[r - 2] = 1, t.simplifyDPStep(e, n, i, 0, r - 2);
                            for (var s = [], a = 0; a < r; a += 2) n[a] && (s.push(e[a]), s.push(e[a + 1]));
                            return s
                        }, t.simplifyDPStep = function(e, i, n, r, s) {
                            for (var a = 0, o = 0, l = e[r], h = e[r + 1], u = e[s], c = e[s + 1], d = r + 2; d <= s - 2; d += 2) {
                                var p = t.distanceToSegmentSq(l, h, u, c, e[d], e[d + 1]);
                                p > a && (o = d, a = p)
                            }
                            a > n && (i[o] = 1, t.simplifyDPStep(e, i, n, r, o), t.simplifyDPStep(e, i, n, o, s))
                        }, t.reducePoints = function(t, e) {
                            for (var i, n, r = t[0], s = t[1], a = [r, s], o = t.length, l = 2; l < o; l += 2) i = t[l], n = t[l + 1], (r - i) * (r - i) + (s - n) * (s - n) > e && (a.push(i), a.push(n), r = i, s = n);
                            return r !== i && s !== n && a.push(i, n), a
                        }, t.transformPolyline = function(t, e, i, n, r) {
                            for (var s = [], a = 0; a < t.length; a += 2) s.push(t[a] * e + i, t[a + 1] * n + r);
                            return s
                        }, t.outlinePolylineByVectors = function(t, e, i) {
                            for (var n = [], s = [], a = t.length - 2, o = 0; o < a; o += 2) {
                                var l = e[o] * i,
                                    h = e[o + 1] * i,
                                    u = t[o] + l,
                                    c = t[o + 1] + h,
                                    d = t[o + 2] + l,
                                    p = t[o + 3] + h;
                                n.push(u, c, d, p)
                            }
                            s = n.slice(0, 2), a = n.length - 4;
                            for (var o = 0; o < a; o += 4) {
                                var f = r.Geometry.lineIntersectsLine(n[o], n[o + 1], n[o + 2], n[o + 3], n[o + 4], n[o + 5], n[o + 6], n[o + 7]);
                                f === 1 / 0 ? s.push(n[o + 2], n[o + 3]) : s.push(n[o] + (n[o + 2] - n[o]) * f, n[o + 1] + (n[o + 3] - n[o + 1]) * f)
                            }
                            return s.push.apply(s, n.slice(-2)), s
                        }, t.calculatePolyArea = function(t) {
                            for (var e = 0, i = t, n = t.length - 2, r = 0; r < n; r += 2) e += i[r] * i[r + 3] - i[r + 2] * i[r + 1];
                            return e / 2
                        }, t.calculatePolyCentroid = function(t, e) {
                            var i, n = 0,
                                r = 0,
                                s = t.length - 2;
                            e *= 6;
                            for (var a = 0; a < s; a += 2) i = t[a] * t[a + 3] - t[a + 2] * t[a + 1], n += (t[a] + t[a + 2]) * i, r += (t[a + 1] + t[a + 3]) * i;
                            return {
                                x: n / e,
                                y: r / e
                            }
                        }, t.normalizeAngle = function(t) {
                            return t < 0 ? (t %= te, t += te) : t >= te && (t %= te), t
                        }, t.sectorBetweenAngles = function(t, e) {
                            for (; e < t;) e += te;
                            return e - t
                        }, t.subtractAngle = function(t, e) {
                            var i = t - e;
                            return i > Math.PI ? i -= te : i < -Math.PI && (i += te), i
                        }, t.rotateVector = function(t, e, i, n) {
                            return {
                                x: t * n - e * i,
                                y: t * i + e * n
                            }
                        }, t.normalizeCircleAngles = function(t, e) {
                            var i = -2 * Math.PI,
                                n = 2 * Math.PI,
                                r = 2 * Math.PI;
                            if (t < i) {
                                var s = Math.ceil((i - t) / r);
                                t += s * r, e += s * r
                            }
                            if (e > n) {
                                var s = Math.ceil((e - n) / r);
                                t -= s * r, e -= s * r
                            }
                            return {
                                startAngle: t,
                                endAngle: e
                            }
                        }, t.boxBoundingCircleSector = function(e, i) {
                            var n = 0,
                                r = 0,
                                s = 0,
                                a = 0;
                            if (e >= i) return {
                                minX: n,
                                maxX: r,
                                minY: s,
                                maxY: a
                            };
                            c = t.normalizeCircleAngles(e, i), e = c.startAngle, i = c.endAngle;
                            for (var o = -2 * Math.PI, l = 2 * Math.PI, h = Math.PI / 2, u = o; u < l; u += h) d = t.circleSectorBoxForQuadrant(u, u + h, e, i, n, r, s, a), n = d.minX, r = d.maxX, s = d.minY, a = d.maxY;
                            return {
                                minX: n,
                                maxX: r,
                                minY: s,
                                maxY: a
                            };
                            var c, d
                        }, t.circleSectorBoxForQuadrant = function(t, e, i, n, r, s, a, o) {
                            if (t >= n || e <= i) return {
                                minX: r,
                                maxX: s,
                                minY: a,
                                maxY: o
                            };
                            t = Math.max(t, i), e = Math.min(e, n);
                            var l = Math.cos(t),
                                h = Math.cos(e),
                                u = Math.sin(t),
                                c = Math.sin(e);
                            return r = Math.min(r, l, h), s = Math.max(s, l, h), a = Math.min(a, u, c), o = Math.max(o, u, c), {
                                minX: r,
                                maxX: s,
                                minY: a,
                                maxY: o
                            }
                        }, t.circle2 = function(t, e, i) {
                            i.x = (t[0] + e[0]) / 2, i.y = (t[1] + e[1]) / 2, i.r = ((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1])) / 4
                        }, t.circle3 = function(t, e, i, n) {
                            var r = t[0],
                                s = t[1],
                                a = e[0],
                                o = e[1],
                                l = i[0],
                                h = i[1],
                                u = 2 * (r * (o - h) + a * (h - s) + l * (s - o));
                            if (0 === u) {
                                var c = Math.min(r, a, l),
                                    d = Math.min(s, o, h);
                                n.x = (c + Math.max(r, a, l)) / 2, n.y = (d + Math.max(s, o, h)) / 2, n.r = (n.x - c) * (n.x - c) + (n.y - d) * (n.y - d)
                            } else n.x = ((r * r + s * s) * (o - h) + (a * a + o * o) * (h - s) + (l * l + h * h) * (s - o)) / u, n.y = ((r * r + s * s) * (l - a) + (a * a + o * o) * (r - l) + (l * l + h * h) * (a - r)) / u, n.r = (r - n.x) * (r - n.x) + (s - n.y) * (s - n.y)
                        }, t.pointDistance = function(t, e) {
                            return (e[0] - t.x) * (e[0] - t.x) + (e[1] - t.y) * (e[1] - t.y)
                        }, t.pointsInCircle = function(e, i, n) {
                            return t.pointDistance(e, i) - e.r <= 1e-5 && (!n || t.pointDistance(e, n) - e.r <= 1e-5)
                        }, t.circumscribeCircle = function(e) {
                            function i(e, i, n, l, h) {
                                if (n ? t.circle3(e, i, n, s) : t.circle2(e, i, s), (!l || t.pointsInCircle(s, l, h)) && !(o && r.r <= s.r)) {
                                    var u = r;
                                    r = s, s = u, a[0] = e, a[1] = i, a[2] = n, o = !0
                                }
                            }
                            if (null == e || e.length < 1) return null;
                            if (1 === e.length) return {
                                x: e[0].x,
                                y: e[0].y,
                                r: e[0].r
                            };
                            var n = [
                                    [e[0].x - e[0].r, e[0].y],
                                    [e[0].x + e[0].r, e[0].y], null
                                ],
                                r = {
                                    x: 0,
                                    y: 0,
                                    r: 0
                                };
                            t.circle2(n[0], n[1], r);
                            for (var s = {
                                    x: 0,
                                    y: 0,
                                    r: 0
                                }, a = [
                                    [0, 0],
                                    [0, 0],
                                    [0, 0]
                                ], o = !1, l = t.pointKoef, h = [0, 0], u = 0; u < e.length; u++)
                                for (var c = 0; c < 8; c++)
                                    if (h[0] = e[u].x + e[u].r * l[c][0], h[1] = e[u].y + e[u].r * l[c][1], !(n[0][0] === h[0] && n[0][1] === h[1] || n[1][0] === h[0] && n[1][1] === h[1] || n[2] && n[2][0] === h[0] && n[2][1] === h[1] || t.pointsInCircle(r, h))) {
                                        var d = [h[0], h[1]];
                                        o = !1, i(n[0], d, null, n[1], n[2]), i(n[1], d, null, n[0], n[2]), i(n[0], n[1], d, n[2], null), n[2] && (i(n[2], d, null, n[0], n[1]), i(n[0], n[1], d, n[2], null), i(n[1], n[2], d, n[0], null), i(n[0], n[2], d, n[1], null));
                                        var p = n;
                                        n = a, a = p, u = -1;
                                        break
                                    } return r.r = Math.sqrt(r.r), r
                        }, t.findWeightedCenter = function(t) {
                            for (var e = 0, i = 0, n = 0, r = 0; r < t.length; r++) {
                                var s = t[r];
                                e += s.x * s.r, i += s.y * s.r, n += s.r
                            }
                            return {
                                x: e / n,
                                y: i / n,
                                r: n / t.length
                            }
                        }, t.mat3ToMat2d = function(t) {
                            var e = t.all();
                            return [e[0], e[3], e[1], e[4], e[2], e[5]]
                        }, t.transformVec2d = function(t, e, i) {
                            return {
                                x: i[0] * t + i[2] * e + i[4],
                                y: i[1] * t + i[3] * e + i[5]
                            }
                        }, t
                    }();
                ee.pointKoef = [
                    [-1, 0],
                    [0, -1],
                    [1, 0],
                    [0, 1],
                    [Math.SQRT1_2, Math.SQRT1_2],
                    [-Math.SQRT1_2, Math.SQRT1_2],
                    [Math.SQRT1_2, -Math.SQRT1_2],
                    [-Math.SQRT1_2, -Math.SQRT1_2]
                ], r.Geometry = ee;
                var ie = function() {
                    function t(t) {
                        this.scene = t, this.bounds = null
                    }
                    return t.prototype.setBounds = function(t, e, i, n) {
                        this.bounds = new Z(t, e, i, n)
                    }, t.prototype.findObjectAt = function(t, e, i) {
                        return null
                    }, t.prototype.remove = function() {}, t
                }();
                r.Layer = ie,
                    function(t) {
                        t.ToolbarItemNames.fullscreen = function(t, e) {
                            var i = t.settings.localization.toolbar;
                            return new r.Bar.ToggleButton(t, e, {
                                labelDisabled: e.label || i.fullscreenButton,
                                titleDisabled: e.title || i.fullscreenTitle,
                                cssClassEnabled: "BMCH-bar-btn-fullscreen-active",
                                cssClassDisabled: e.cssClass || "BMCH-bar-btn-fullscreen",
                                onEnable: function() {
                                    return t.setFullscreen(!0)
                                },
                                onDisable: function() {
                                    return t.setFullscreen(!1)
                                },
                                getChartState: function() {
                                    return t.isFullscreen()
                                }
                            })
                        };
                        var e = function(t) {
                            function e() {
                                return t.apply(this, arguments) || this
                            }
                            return n(e, t), e.prototype.onSceneChange = function(e) {
                                t.prototype.onSceneChange.call(this, e);
                                var i = this.chart.scene.backStack.length > 0,
                                    n = this.options;
                                n.enabled !== i && (n.enabled = i, this.updateSettings())
                            }, e
                        }(t.Button);
                        t.ToolbarItemNames.back = function(t, i) {
                            var n = t.settings.localization.toolbar;
                            i.label = i.label || n.backButton, i.title = i.title || n.backTitle, i.cssClass = i.cssClass || "BMCH-bar-btn-back";
                            var r = i.onClick;
                            return i.onClick = function(e, i) {
                                t.back(!0, "user"), r && r(e, i)
                            }, new e(t, i)
                        }
                    }(o = r.Bar || (r.Bar = {}));
                var ne = function() {
                    function t(t) {
                        this.seed = t, this.A = 48271, this.M = 2147483647, this.Q = this.M / this.A, this.R = this.M % this.A, this.oneOverM = 1 / this.M
                    }
                    return t.prototype.get = function() {
                        var t = this.seed / this.Q,
                            e = this.seed % this.Q,
                            i = this.A * e - this.R * t;
                        return i > 0 ? this.seed = i : this.seed = i + this.M, this.seed * this.oneOverM
                    }, t.prototype.getArrayElement = function(t) {
                        return t[Math.floor(t.length * this.get())]
                    }, t
                }();
                r.Random = ne;
                var re;
                ! function(t) {
                    t[t.inside = 0] = "inside", t[t.outside = 1] = "outside"
                }(re = r.InfoPopupPosition || (r.InfoPopupPosition = {}));
                var se = function() {
                    function t(t, e) {
                        this.chart = t, this.container = e ? e : t.shell.interactiveContainer, this.events = t.events, this.popup = null, this.visible = !1, this.x0 = null, this.x1 = null, this.y = null, this.contentsChanged = !1, this.ensurePopup()
                    }
                    return t.prototype.hide = function() {
                        return !(!this.visible || !this.popup) && (this.visible = !1, this.popup.style.display = "none", !0)
                    }, t.prototype.remove = function() {
                        this.popup && this.popup.parentNode && (this.popup.parentNode.removeChild(this.popup), this.popup = null)
                    }, t.prototype.ensurePopup = function() {
                        this.popup || (this.popup = d.createDom("bmch-div", "BMCH-info-center", null, this.container), d.createDom("bmch-em", null, null, this.popup), this.popup.style.position = "absolute", this.popup.style.display = "none")
                    }, t.prototype.show = function(t, e, i, n, s) {
                        void 0 === s && (s = re.inside);
                        var a = this.popup;
                        if (n) {
                            if (this.visible = !0, a.style.display = "block", r.Helpers.isString(n)) {
                                var o = n.indexOf("<") === -1 && n.indexOf(">") === -1;
                                if (n !== a.innerHTML) {
                                    r.Helpers.clearHtmlChildren(a);
                                    var l = a;
                                    if (o) {
                                        var h = document.createElement("bmch-b");
                                        a.appendChild(h), l = h
                                    }
                                    r.Helpers.addStrictHtml(l, n, this.chart.settings.advanced.strictEscaping), this.postProcessHtml(a), this.contentsChanged = !0
                                }
                            } else r.Helpers.isDomObject(n) && n.outerHTML !== a.innerHTML && (r.Helpers.clearHtmlChildren(a), a.appendChild(n), this.postProcessHtml(a), this.contentsChanged = !0);
                            this.updateXY(t, e, i, s);
                        } else a.style.display = "none"
                    }, t.prototype.postProcessHtml = function(t) {
                        if (t instanceof HTMLElement) {
                            var e = t.getAttribute("data-color");
                            e && (t.style.color = e, null != t.getAttribute("data-selected") && (t.style.borderColor = e))
                        }
                        for (var i = t.firstElementChild; i;) this.postProcessHtml(i), i = i.nextElementSibling
                    }, t.prototype.updateContents = function(t) {
                        null === t ? this.hide() : this.show(this.x0, this.x1, this.y, t, this.position)
                    }, t.prototype.updateXY = function(t, e, i, n) {
                        if (void 0 === n && (n = re.inside), this.visible && (this.contentsChanged || this.x0 !== t || this.x1 !== e || this.y !== i || this.position !== n)) {
                            this.contentsChanged && (this.contentsChanged = !1, this.popup.style.right = null, this.width = this.popup.offsetWidth, this.height = this.popup.offsetHeight), this.x0 = t, this.x1 = e, this.y = i, this.position = n;
                            var s, a = 12,
                                o = 10,
                                l = null,
                                h = this.popup.style,
                                u = this.chart.scene;
                            if (t > u.x0 + u.width || e < u.x0) return void(h.top = "-10000px");
                            var c, d, p, f, g, m, v = this.chart.getRootChart().scene;
                            w = this.applySceneTransform(v, t, i, e), g = w.sceneChartWidth, m = w.sceneChartHeight, c = w.sceneX0, d = w.sceneWidth, p = w.sceneY0, f = w.sceneHeight, t = w.x0, i = w.y, e = w.x1;
                            var y = this.popup.style.transform ? r.Helpers.extractCSSTransformScale(this.popup.style.transform, 1, 1) : [1, 1],
                                S = this.width * y[0],
                                b = this.height * y[1];
                            switch (n) {
                                default:
                                case re.inside:
                                    c <= t - S - o ? (l = t - this.width - o, s = "BMCH-info-left") : c + d >= e + S + o ? (l = e + o, s = "BMCH-info-right") : (l = (Math.max(t, c) + Math.min(e, c + d) - S) / 2, s = "BMCH-info-center"), i = Math.min(Math.max(p + a, i - b / 2), p + f - b), i = Math.max(this.chart.shell.getChartInnerArea().findTopPosition(l, l + S), i);
                                    break;
                                case re.outside:
                                    s = "BMCH-info-center", l = Math.min(c + d - S, Math.max(0, (t + e - S) / 2));
                                    var x = this.chart.shell.container.offsetTop;
                                    i = x > b ? p - b : p + f
                            }
                            var C = null;
                            S >= g ? (C = 0, l = 0) : l + S > g - 20 && (l + S > g ? (C = 0, l = null) : (C = g - l - S, l = null)), h.right = null !== C ? C + "px" : null, h.left = null !== l ? l + "px" : null, h.top = i + "px", h.width = "15%", this.popupClass !== s && (this.popupClass = s, this.popup.className = s);
                            var w;
                        }
                    }, t.prototype.applySceneTransform = function(t, e, i, n) {
                        var s = t.x0,
                            a = t.x0 + t.width,
                            o = t.y0,
                            l = t.y0 + t.height,
                            h = t.chartWidth,
                            u = t.chartHeight;
                        if (t.transform) {
                            var c = r.Geometry.transformVec2d(e, i, this.chart.scene.transform),
                                d = r.Geometry.transformVec2d(n, i + t.width, this.chart.scene.transform);
                            e = Math.min(c.x, d.x), n = Math.max(c.x, d.x), i = c.y, g = this.transformSceneBounds(s, o, a, l), s = g.sceneX0, o = g.sceneY0, a = g.sceneX1, l = g.sceneY1, m = this.transformXY(h, 0), h = m.x, u = m.y
                        }
                        var p = a - s,
                            f = l - o;
                        return {
                            sceneChartWidth: h,
                            sceneChartHeight: u,
                            sceneX0: s,
                            sceneWidth: p,
                            sceneY0: o,
                            sceneHeight: f,
                            x0: e,
                            y: i,
                            x1: n
                        };
                        var g, m
                    }, t.prototype.transformSceneBounds = function(t, e, i, n) {
                        return r = this.transformXY(t, e), t = r.x, e = r.y, s = this.transformXY(i, n), i = s.x, n = s.y, {
                            sceneX0: t,
                            sceneY0: e,
                            sceneX1: i,
                            sceneY1: n
                        };
                        var r, s
                    }, t.prototype.transformXY = function(t, e) {
                        var i = r.Geometry.transformVec2d(t, e, this.chart.scene.transform);
                        return t = i.x, e = i.y, {
                            x: t,
                            y: e
                        }
                    }, t
                }();
                r.InfoPopup = se;
                var ae = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        i.animationOrder = 600, i.paintOrder = 40, i.updateOrder = 2e3, i.contents = null, i.x = 0, i.y = 0, i.menuVisible = !1, i.settings = {
                            position: "center"
                        }, i.chart = e, i.container = e.shell.menuContainer, i.scene = e.scene, i.events = e.events, i.popup = r.Helpers.createDom("bmch-div", "BMCH-Menu", null, i.container), i.popupValue = r.Helpers.createDom("bmch-div", "BMCH-Menu-title", null, i.popup), i.popupTitle = r.Helpers.createDom("bmch-strong", "", null, i.popupValue), i.closeButton = r.Helpers.createDom("bmch-a", "BMCH-Menu-close", null, i.popup), i.closeButton.style.zIndex = "1000", i.detailsDiv = r.Helpers.createDom("bmch-div", "BMCH-Menu-details", null, i.popup), i.detailsDiv.style.paddingTop = "5px", i.detailsDiv.style.paddingBottom = "16px", i.popup.style.position = "absolute", i.popup.style.display = "none", i.popup.style.display = "none";
                        var n = i;
                        return i.closeButton.addEventListener("click", function(t) {
                            n.hideMenu()
                        }), i
                    }
                    return n(e, t), e.prototype.remove = function() {}, e.prototype.doAnimations = function(t) {}, e.prototype.isMenuVisible = function() {
                        return this.menuVisible
                    }, e.prototype.hideMenu = function() {
                        this.menuVisible = !1, this.popup.style.display = "none"
                    }, e.prototype.open = function(t, e, i) {
                        var n = this.buildContents(e, i);
                        n ? (this.menuVisible = !0, this.popup.style.display = "block", r.Helpers.clearHtmlChildren(this.detailsDiv), this.detailsDiv.appendChild(n), this.updateXY(t)) : this.popup.style.display = "none"
                    }, e.prototype.buildContents = function(t, e) {
                        var i = this;
                        this.popupTitle.innerText = t;
                        var n = document.createElement("bmch-div"),
                            r = document.createElement("bmch-div");
                        n.appendChild(r);
                        for (var s = function(t) {
                                var n = document.createElement("input");
                                n.type = "bmch-button", n.value = e[t].name;
                                var s = n.style;
                                if (e[t].style)
                                    for (var a in e[t].style) s[a] = e[t].style[a];
                                e[t].color && (n.style.color = e[t].color), n.addEventListener("click", function(n) {
                                    e[t].callback(i, n)
                                }), r.appendChild(n)
                            }, a = 0; a < e.length; a++) s(a);
                        return n
                    }, e.prototype.updateXY = function(t) {
                        var e, i, n, r, s, a, o = 12;
                        if (t) switch (s = t.x, a = t.y, this.settings.position) {
                            case "pointer":
                                e = r = a = this.y, i = this.x - o, n = this.x + o;
                                break;
                            case "center":
                                e = a, r = a, i = s, n = s;
                                break;
                            default:
                            case "outside":
                                e = a - o, r = a + o, i = s - o, n = s + o
                        } else e = r = a = this.y, i = this.x - o, n = this.x + o;
                        var l = this.chart.getRootChart().scene,
                            h = l.x0,
                            u = l.x0 + l.width,
                            c = this.popup.offsetWidth,
                            d = this.popup.offsetHeight;
                        a = Math.max(Math.min(a, l.y0 + l.height - d), l.y0), n + c <= u ? s = n : i - c >= h ? s = i - c : (s = Math.max(i - c / 2, h), a = r), this.popup.style.left = s + "px", this.popup.style.top = a + "px"
                    }, e
                }(r.ChartElement);
                r.Dialog = ae;
                var oe = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e.prototype.openConfirm = function(t, e) {
                        this.open(t, e, [{
                            name: "Ok",
                            callback: this.callbackOk,
                            color: "red"
                        }, {
                            name: "Cancel",
                            callback: this.callbackCancel,
                            color: "gray",
                            style: {
                                float: "right"
                            }
                        }])
                    }, e.prototype.setCallbacks = function(t, e) {
                        this.callbackOk = t, this.callbackCancel = e
                    }, e
                }(ae);
                r.DialogConfirm = oe;
                var le = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e
                }(r.ChartElement);
                r.Navigator = le;
                var he = function() {
                    function t() {}
                    return t.prototype.customize = function(t) {
                        var e = this.constructor.themes;
                        if (!e.hasOwnProperty(t)) throw new Error("The chart does not contain a predefined theme named `" + t + "`.");
                        return this.updateSettings(e[t])
                    }, t.prototype.saveState = function() {
                        return this.getImpl().save()
                    }, t.prototype.restoreState = function(t, e) {
                        void 0 === e && (e = !1), null == e && (e = !1), this.getImpl().restore(t, e)
                    }, t.prototype.fullscreen = function(t) {
                        return t === !0 ? this.getImpl().setFullscreen(!0) : t === !1 && this.getImpl().setFullscreen(!1), this.getImpl().isFullscreen()
                    }, t.prototype.updateSettings = function(t) {
                        return t && this.getImpl().updateSettings(t, "api"), this
                    }, t.prototype.replaceSettings = function(t) {
                        if (t) {
                            var e = i.Base.SettingsHelper;
                            try {
                                e.replacingSettings = !0, this.getImpl().updateSettings(t, "api")
                            } finally {
                                e.replacingSettings = !1
                            }
                        }
                        return this
                    }, t.prototype.updateFilters = function() {
                        this.getImpl().updateFilters(null)
                    }, t.prototype.updateStyle = function() {
                        this.getImpl().updateStyle(null)
                    }, t.prototype.on = function(t, e) {
                        this.getImpl().on(t, e)
                    }, t.prototype.off = function(t, e) {
                        return this.getImpl().off(t, e)
                    }, t.prototype.updateSize = function() {
                        return this.getImpl().updateSize(!0), this
                    }, t.prototype.reloadData = function(t) {
                        return void 0 === t && (t = null), this.getImpl().reloadData(t)
                    }, t.prototype.remove = function() {
                        return this.getImpl().remove()
                    }, t.prototype.saveAsImage = function(t, e, i) {
                        return this.getImpl().deprecated("saveAsImage", "exportAsString"), this.exportImageAsString(t, e, i)
                    }, t.prototype.exportGetDimensions = function(t) {
                        return this.getImpl().deprecated("exportGetDimensions", "exportImageGetDimensions"), this.exportImageGetDimensions(t)
                    }, t.prototype.exportImageAsString = function(t, e, i) {
                        return this.getImpl().deprecated("exportImageAsString", "exportAsString"), dt.export(this.getImpl(), t, e, i, function() {})
                    }, t.prototype.exportImageGetDimensions = function(t) {
                        return dt.getDimensions(this.getImpl(), t)
                    }, t.prototype.exportAsString = function(t, e, i, n) {
                        if (void 0 === n && (n = !1), !e) throw new Error("`callback` argument is mandatory.");
                        dt.export(this.getImpl(), t, i, n, e)
                    }, t.prototype.export = function(t, e, i, n) {
                        void 0 === i && (i = !1), dt.download(this.getImpl(), t, e, i, n)
                    }, t.prototype.addSubchartContainer = function(t) {
                        this.getImpl().shell.interactiveContainer.appendChild(t)
                    }, t.prototype.suspendPaint = function() {
                        this.getImpl().events.suspendPaint()
                    }, t.prototype.resumePaint = function() {
                        this.getImpl().events.resumePaint()
                    }, t.prototype.paintNow = function(t) {
                        return void 0 === t && (t = !1), this.getImpl().events.paintNow(t), this
                    }, t.prototype.back = function() {
                        return this.getImpl().back(), this
                    }, t.prototype.home = function() {
                        return this.getImpl().goHome()
                    }, t.prototype.clearHistory = function() {
                        return this.getImpl().clearHistory(), this
                    }, t.prototype.profiler = function() {
                        return this.getImpl().shell.profiler
                    }, t.prototype.measureFps = function(t, e) {
                        this.getImpl().deprecated("measureFps"), this.profiler().measureFps(t, e)
                    }, t.prototype.getImpl = function() {
                        return this._impl instanceof Array ? (this._impl)[0] : this._impl
                    }, t
                }();
                he.themes = {}, r.Api = he;
                var ue = function() {
                    function t(t, e, i, n) {
                        void 0 === i && (i = 0), void 0 === n && (n = t.length), null == n && (n = t.length), null == i && (i = 0), this.n0 = i;
                        var r = [];
                        r.length = n - i;
                        var s = 0;
                        r[n - i - 1] = (e[n - 1] - e[n - 2]) / (t[n - 1] - t[n - 2]);
                        var a, o = (e[i + 1] - e[i]) / (t[i + 1] - t[i]);
                        for (a = i + 1; a < n - 1; a++) {
                            var l = (e[a + 1] - e[a]) / (t[a + 1] - t[a]),
                                h = void 0;
                            if (0 === o) h = s = 0;
                            else {
                                h = (o + l) / 2;
                                var u = (s * s + h * h) / (o * o);
                                if (u > 9) {
                                    var c = 3 / Math.sqrt(u);
                                    s = c * s, h = c * h
                                }
                            }
                            r[a - i - 1] = s, s = h, o = l
                        }
                        r[a - i - 1] = s, this.x = t, this.y = e, this.m = r
                    }
                    return t.prototype.interpolate = function(t, e) {
                        var i = this.x[t + 1] - this.x[t],
                            n = (e - this.x[t]) / i,
                            r = n * n,
                            s = r * n,
                            a = 2 * s - 3 * r + 1,
                            o = s - 2 * r + n,
                            l = -2 * s + 3 * r,
                            h = s - r,
                            u = a * this.y[t] + o * i * this.m[t - this.n0] + l * this.y[t + 1] + h * i * this.m[t - this.n0 + 1];
                        return u
                    }, t.prototype.interpolateArray = function(t, e, i, n, r) {
                        for (var s = this.x[t], a = this.y[t], o = this.m[t - this.n0], l = this.y[t + 1], h = this.m[t - this.n0 + 1], u = this.x[t + 1] - s, c = 1 / u, d = i; d < n; d++) {
                            var p = (e[d] - s) * c,
                                f = p * p,
                                g = f * p,
                                m = 2 * g - 3 * f + 1,
                                v = g - 2 * f + p,
                                y = -2 * g + 3 * f,
                                S = g - f,
                                b = m * a + v * u * o + y * l + S * u * h;
                            r.push(b)
                        }
                    }, t.prototype.clear = function() {
                        this.m.length = 0
                    }, t
                }();
                r.MonotoneCurve = ue;
                var ce = function() {
                    function t() {
                        this.fromType = "constant", this.toType = "constant", this.seriesID = null, this.percentileFrom = 0, this.percentileTo = 0, this.from = -(1 / 0), this.to = 1 / 0, this.position = "under", this.style = {
                            fillColor: "rgba(255,133,152,0.2)",
                            lineColor: "rgba(255,0,0,0.5)",
                            lineWidth: 1,
                            lineDash: null
                        }, this.labelType = "text", this.labelHorizontalPosition = "left", this.labelVerticalPosition = "above", this.labelHorizontalPadding = 0, this.labelVerticalPadding = 0, this.labelDecimals = null, this.labelDisplayUnits = null
                    }
                    return t
                }();
                r.SettingsValueAxisThreshold = ce;
                var de = function() {
                    function t() {
                        this.locations = [], this.values = [], this.uniqueLocations = [], this.labels = [], this.forcedLocations = [], this.isDrawable = []
                    }
                    return t.prototype.generatePointsWithAutoSpacing = function(t, e, i, n, r, s, a, o, l, h, u, c, d, p, f, g, m, v, y, S, b, x, C) {
                        void 0 === x && (x = null), void 0 === C && (C = !1);
                        var w = a;
                        return v && (w = this.calcAutoSpacing(t, e, i, n, r, s, w, o, l, h, u, c, d, p, f, g, m, y, S, b, x, C)), this.generatePoints(t, e, i, n, r, s, w, o, l, h, u, c, d, p, f, g, m)
                    }, t.prototype.calcAutoSpacing = function(t, e, i, n, r, s, a, o, l, h, u, c, d, p, f, g, m, v, y, S, b, x) {
                        for (var C = this, w = 5, L = function(w) {
                                var L = T.generatePoints(t, e, i, n, r, s, a, o, l, h, u, c, d, p, f, g, m),
                                    M = function(e) {
                                        return C.getValueForValueUnit(t, !1, e, L)
                                    },
                                    k = function(t, e) {
                                        return C.generateLabelName(t, e, M(t), v, y, b)
                                    },
                                    P = "M",
                                    A = T.values.map(function(t, e) {
                                        return k(t, e)
                                    }).map(function(t) {
                                        return x ? R.getTextWidth(S, {
                                            font: d
                                        }, t + P) : C.getFontHeight(d)
                                    }).reduce(function(t, e) {
                                        return Math.max(t, e)
                                    }, 0);
                                a = Math.max(a, A)
                            }, T = this, M = 0; M < w; M++) L(M);
                        return a
                    }, t.prototype.generatePoints = function(t, e, i, n, r, s, a, o, l, h, u, c, d, p, f, g, m) {
                        this.forcedLocations = [], this.locations = [], this.values = [];
                        var v;
                        if (this.fontHeight = this.getFontHeight(d), o) {
                            var y = 15.4,
                                S = this.fontHeight ? this.fontHeight : y;
                            a = Math.round(a * S / y)
                        }
                        if (t.isScaleValid()) {
                            if (x = this.ensureInsideCanvas(e, i, this.fontHeight, c), e = x.y0, i = x.y1, t.isLogScale ? this.generateLogScale(t, e, i, a) : v = this.generateLinearScale(t, v, l, e, i, this.fontHeight, a, h, u), p && (this.forceLocation(t, this.fontHeight, e + f[0]), this.forceLocation(t, this.fontHeight, i + f[1])), n <= 0 && r >= 0) {
                                var b = g;
                                (2 === b || 1 === b && (n < 0 || !s && 0 === n)) && (this.locations.push(Math.floor(t.zeroY)), this.values.push(0))
                            }
                        } else v = this.generateDummyScale(v, i, e, l, a, t.isLogScale, m);
                        return v;
                        var x
                    }, t.prototype.negateValues = function() {
                        for (var t = 0; t < this.values.length; t++) this.values[t] = -this.values[t]
                    }, t.prototype.calcLinearValuePerLine = function(t, e, i, n, r) {
                        if (n) return n;
                        var s = t.linearRelativeYToValue(e);
                        s /= r;
                        var a = Math.log(s) / Math.log(10),
                            o = Math.pow(10, Math.floor(a - 1));
                        for (o = Math.max(o, i); o < s;) {
                            if (2 * o >= s) {
                                o = 2 * o;
                                break
                            }
                            if (o > 10 && 2.5 * o >= s) {
                                o = 2.5 * o;
                                break
                            }
                            if (5 * o >= s) {
                                o = 5 * o;
                                break
                            }
                            o *= 10
                        }
                        return o *= r
                    }, t.prototype.calcExpValuePerLine = function(t, e) {
                        var i = t.valueToRelativeY(10) - t.valueToRelativeY(1),
                            n = 10,
                            r = 10,
                            s = i;
                        if (s > 4 * e) return {
                            unit: 2,
                            valueMultiplier: 2
                        };
                        for (; s < e;) n *= 10, s += i;
                        return {
                            unit: r,
                            valueMultiplier: n
                        }
                    }, t.prototype.generateLogScale = function(t, e, i, n) {
                        for (var r = this.calcExpValuePerLine(t, n), s = r.unit, a = r.valueMultiplier, o = 1 / s;;) {
                            o *= a;
                            var l = t.valueToScreenY(o);
                            if (l <= e) break;
                            l >= i || (this.locations.push(Math.floor(l) - .5), this.values.push(o))
                        }
                        for (o = -1 / s;;) {
                            o *= a;
                            var l = t.valueToScreenY(o);
                            if (l >= i) break;
                            this.locations.push(Math.floor(l) - .5), this.values.push(o)
                        }
                    }, t.prototype.generateLinearScale = function(t, e, i, n, r, s, a, o, l) {
                        e = this.calcLinearValuePerLine(t, a, o, i, l);
                        var h = 0;
                        i && (e = Math.max(e, t.linearRelativeYToValue(s)));
                        var u = Math.pow(10, d.countDecimals(e)),
                            c = t.relativeYToValue(t.zeroY - n),
                            p = t.relativeYToValue(t.zeroY - r),
                            f = e * Math.floor(c / e),
                            g = e * Math.ceil(c / e),
                            m = e * Math.floor(p / e),
                            v = e * Math.ceil(p / e);
                        c = t.valueToScreenY(f) < n ? g : f, p = t.valueToScreenY(m) > r ? v : m;
                        var y = Math.min(c, p),
                            S = Math.max(c, p);
                        for (h = y; h <= S;) {
                            if (0 !== h) {
                                var b = t.valueToScreenY(h);
                                this.locations.push(Math.floor(b)), this.values.push(Math.round(1e6 * h) / 1e6)
                            }
                            h = (h * u + e * u) / u
                        }
                        return e
                    }, t.prototype.ensureInsideCanvas = function(t, e, i, n) {
                        return 0 === t && (t += i / 2), n < i && (e -= i / 2), {
                            y0: t,
                            y1: e
                        }
                    }, t.prototype.getFontHeight = function(t) {
                        return this.fontHeight || (this.fontHeight = 1.4 * r.Graphics.getTextHeightWithoutContext(t) || 0), this.fontHeight
                    }, t.prototype.generateDummyScale = function(t, e, i, n, r, s, a) {
                        t = n ? n : a ? .1 : 100;
                        var o = r,
                            l = e - o,
                            h = 1;
                        for (s || (h = t); l > i;) this.locations.push(l), this.values.push(h), s ? h *= 10 : h += t, l -= o;
                        return t
                    }, t.prototype.forceLocation = function(t, e, i) {
                        for (var n = Number.POSITIVE_INFINITY, r = -1, s = 0; s < this.locations.length; s++) {
                            var a = Math.abs(i - this.locations[s]);
                            a < n && (n = a, r = s)
                        }
                        var o = t.relativeYToValue(t.zeroY - i);
                        r !== -1 && n < e ? (this.forcedLocations.push(r), this.locations[r] = i, this.values[r] = o) : (this.forcedLocations.push(this.locations.length), this.locations.push(i), this.values.push(o))
                    }, t.prototype.generateLabels = function(t, e, i, n, s, a, o, l, h, u) {
                        void 0 === u && (u = 0), this.calcDrawableLabels(t, u);
                        for (var c = 0; c < this.values.length; c++) {
                            var d = this.values[c],
                                p = this.getValueForValueUnit(t, h, d, e),
                                f = this.generateLabelName(d, c, p, i, s, n),
                                g = new r.Label(a);
                            g.text = f.toString(), l || (g.style.align = o ? "left" : "right"), this.labels[c] = g
                        }
                        this.determineUniqueLocations()
                    }, t.prototype.calcDrawableLabels = function(t, e) {
                        var i = this;
                        if (this.locations.length <= 1) return void(this.isDrawable = this.locations.map(function(t) {
                            return !0
                        }));
                        var n = this.locations.map(function(t, e) {
                                return {
                                    l: t,
                                    i: e,
                                    v: i.values[e]
                                }
                            }).sort(function(t, e) {
                                return t.l - e.l
                            }).map(function(t, e, i) {
                                return t.delta = 0 === e ? null : t.l - i[e - 1].l, t
                            }),
                            r = n.reduce(function(t, e) {
                                return t + (null === e.delta ? 0 : e.delta)
                            }, 0) / (n.length - 1);
                        if (r >= e) return void(this.isDrawable = this.locations.map(function(t) {
                            return !0
                        }));
                        for (var s = Math.max(Math.floor(r), e), a = Math.ceil(s / Math.floor(r)), o = r * a, l = Math.floor(t.zeroY), h = n.map(function(t, e) {
                                return t.align = (t.l - l) / o, t.align = Math.abs(t.align - Math.round(t.align)), t.alignedI = e, t
                            }), u = h.reduce(function(t, e) {
                                return e.align < t.align ? e : t
                            }, h[0]), c = this.locations.map(function(t) {
                                return !1
                            }), d = u.alignedI; d < h.length; d += a) c[h[d].i] = !0;
                        for (var d = u.alignedI; d >= 0; d -= a) c[h[d].i] = !0;
                        this.isDrawable = c
                    }, t.prototype.getValueForValueUnit = function(t, e, i, n) {
                        return t.isLogScale || e ? i : n
                    }, t.prototype.generateLabelName = function(t, e, i, n, s, a) {
                        var o = r.Helpers.valueUnitAndName(i, n),
                            l = o.unit,
                            h = o.name,
                            u = (t / l).toFixed(o.digitsAfterComma);
                        if (t && (u = u + " " + h), a && (u = a(t, h, l, u, {
                                isForcedLocation: this.forcedLocations.indexOf(e) !== -1
                            })), !a && s) {
                            var c = r.Helpers.matchPercentFormat(s),
                                d = r.Helpers.matchCurrencyFormat(s);
                            if (c) {
                                var p = r.Helpers.valueUnitAndName(100 * t, n);
                                l = p.unit, h = p.name, u = r.Helpers.printPercentValue(t / l, c, h)
                            } else {
                                var f = r.Helpers.valueUnitAndName(t, n);
                                l = f.unit, h = f.name, u = r.Helpers.printCurrencyValue(t / l, d, h)
                            }
                        }
                        return u
                    }, t.prototype.determineUniqueLocations = function() {
                        this.uniqueLocations = r.Helpers.newFilledArray(this.labels.length, !1);
                        var t = {},
                            e = this.markZeroLabelAsUnique(t);
                        this.markAllUniqueLabels(t), this.unmarkForcedZerosAsUnique(e)
                    }, t.prototype.markZeroLabelAsUnique = function(t) {
                        var e = !1,
                            i = this.values.length - 1;
                        return this.labels.length > 0 && this.values.length > 0 && 0 === this.values[i] && (!this.forcedLocations || this.forcedLocations.indexOf(i) === -1) && (e = !0, t[this.labels[i].text] = !0, this.uniqueLocations[i] = !0), e
                    }, t.prototype.markAllUniqueLabels = function(t) {
                        var e = this;
                        this.labels.forEach(function(i, n) {
                            t.hasOwnProperty(i.text) || (e.uniqueLocations[n] = !t.hasOwnProperty(i.text), t[i.text] = !0)
                        })
                    }, t.prototype.unmarkForcedZerosAsUnique = function(t) {
                        var e = this;
                        t && this.forcedLocations && this.forcedLocations.forEach(function(t) {
                            0 === e.values[t] && (e.uniqueLocations[t] = !1)
                        })
                    }, t.prototype.paintLabels = function(t, e, i, n, s, a, o, l, h, u, c, d, p, f, g, m, v, y, S, b, x, C, w, L) {
                        if (i.assetsLoaded) {
                            for (var T = 10, M = !x, k = 0, P = 0, A = !1, I = C ? C.drawPaddingLeft : 0, D = C ? C.drawPaddingRight : 0, N = C ? C.drawPaddingTop : 0, O = C ? C.drawPaddingBottom : 0, F = I, E = D, H = N, R = O, z = 0, B = 0, U = 0, W = 0, G = 0; G < T; G++) {
                                var V = n.x0,
                                    Y = V + n.width;
                                s && (V = s.left, Y = s.right), u && (V = n.y0, Y = V + n.height);
                                var j = A ? k + P : 0;
                                if (u) {
                                    var _ = this.paintAxisTitle(a, n, l, Y, V, e, t, u, v, y, S, b, j, M);
                                    H = _.leftOffset, R = _.rightOffset
                                } else {
                                    var _ = this.paintAxisTitle(a, n, l, Y, V, e, t, u, v, y, S, b, j, M);
                                    V = _.x0, Y = _.x1, F = _.leftOffset, E = _.rightOffset
                                }
                                var Z = (V + Y) / 2,
                                    q = void 0;
                                if (q = l ? V + c : Y - 4 - c, M && !h && !m) {
                                    t.beginPath();
                                    for (var X = 0; X < this.locations.length; X++) {
                                        var Q = this.locations[X];
                                        u || (t.moveTo(q, Q), t.lineTo(q + 4, Q))
                                    }
                                    r.Graphics.stroke(t, o)
                                }
                                var J = 0,
                                    K = 0,
                                    $ = 0,
                                    tt = !1,
                                    et = !1;
                                z = 0, B = 0, U = 0, W = 0;
                                for (var it = 0; it < this.locations.length; it++)
                                    if (this.isDrawable[it] && (!m || 0 === this.values[it]) && (!p || this.forcedLocations.indexOf(it) !== -1) && (p || !f || this.uniqueLocations[it])) {
                                        var nt = p ? 0 === this.forcedLocations.indexOf(it) ? g : -g : 0,
                                            rt = this.locations[it] + nt,
                                            st = this.labels[it],
                                            at = void 0;
                                        e.measure(t, st);
                                        var ot = u || d ? st.hheight : st.hwidth,
                                            lt = u || d ? st.hwidth : st.hheight;
                                        at = h ? Z : l ? q + ot + 7 : q - ot - 3;
                                        var ht = u ? H : F,
                                            ut = u ? R : E,
                                            ct = l !== w,
                                            dt = u ? ct ? R : H : ct ? E : F,
                                            pt = u ? ct ? H : R : ct ? F : E,
                                            ft = ht + (u ? S : v),
                                            gt = ut + (u ? b : y),
                                            mt = dt + 2 * st.hheight + (u ? v : S),
                                            vt = pt + 2 * st.hheight + (u ? y : b),
                                            yt = L ? n.chartWidth : n.width,
                                            St = L ? n.chartHeight : n.height,
                                            bt = L ? n.chartTop : n.y0,
                                            xt = L ? n.chartLeft : n.x0,
                                            Ct = u ? bt : xt,
                                            wt = u ? xt : bt,
                                            Lt = u ? St : yt,
                                            Tt = u ? yt : St,
                                            Mt = Ct + Lt - ot - gt,
                                            kt = Ct + ot + ft,
                                            Pt = wt + lt + mt,
                                            At = wt + Tt - lt - vt,
                                            It = gt + ot,
                                            Dt = ft + ot,
                                            Nt = mt + lt,
                                            Ot = vt + lt;
                                        if (z = Math.max(z, u ? Nt : Dt), B = Math.max(B, u ? Ot : It), U = Math.max(U, u ? Dt : Nt), W = Math.max(W, u ? It : Ot), (!(rt > At) || p) && (!(rt < Pt) || p)) {
                                            if (J = Math.max(J, u || d ? 2 * st.hheight : 2 * st.hwidth), at = Math.min(at, Mt), at = Math.max(at, kt), u) {
                                                var Ft = at;
                                                at = rt, rt = Ft
                                            }
                                            M && e.paint(t, at, rt, 1, st)
                                        }
                                    } var Et = l ? $ : K,
                                    Ht = l ? et : tt,
                                    Rt = M;
                                if ((G === T - 2 || k === J && P === Et && A === Ht) && (Rt = !0), k = J, P = Et, A = Ht, M) break;
                                M = Rt
                            }
                            return F = Math.max(z, F), E = Math.max(B, E), H = Math.max(U, H), R = Math.max(W, R), {
                                drawPaddingLeft: F,
                                drawPaddingRight: E,
                                drawPaddingTop: H,
                                drawPaddingBottom: R
                            }
                        }
                    }, t.prototype.paintAxisTitle = function(t, e, i, n, r, s, a, o, l, h, u, c, d, p) {
                        var f = 0,
                            g = 0;
                        if (t.text && t) {
                            s.measure(a, t);
                            var m = o ? u : l,
                                v = o ? c : h,
                                y = d + (i ? v : m),
                                S = e.y0,
                                b = o ? e.width : e.height,
                                x = t.hheight,
                                C = (t.style.margin || 0) + y,
                                w = S + .5 * b,
                                L = void 0;
                            if (i ? (L = n - C - x, f = 2 * x + d + (t.style.margin || 0), n -= x + 2 * C) : (L = r + C + x, g = 2 * x + d + (t.style.margin || 0), r += x + 2 * C), o) {
                                var T = L;
                                L = w, w = T
                            }
                            p && s.paint(a, L, w, 1, t)
                        }
                        return {
                            x1: n,
                            x0: r,
                            rightOffset: f,
                            leftOffset: g
                        }
                    }, t.prototype.paintGrid = function(t, e, i, n, s, a) {
                        var o = i.y0;
                        o + i.height;
                        o += 1;
                        var l = this.locations,
                            h = e.lineColor;
                        e.lineWidth = 1;
                        var u;
                        u = this.beginDraw(t, a, e, !0);
                        var c, d;
                        n ? (c = i.y0, d = c + i.height) : (c = i.x0, d = i.x0 + i.width);
                        for (var p = 0; p < l.length; p++) {
                            var f = l[p];
                            p < this.values.length && 0 === this.values[p] || s && !this.uniqueLocations[p] || this.drawLineWithSwap(u, a, c, f + .5, d, f + .5, e, n)
                        }
                        this.endDraw(t, a, u, e);
                        var g = r.Colors.colorTone(h, .5, .5);
                        if (g.opacity < .3) {
                            e.lineColor = g.color, u = this.beginDraw(t, a, e, !1);
                            for (var p = 0; p < l.length; p++) {
                                var f = l[p];
                                p < this.values.length && 0 === this.values[p] || s && !this.uniqueLocations[p] || this.drawLineWithSwap(u, a, c, f - .5, d, f - .5, e, n)
                            }
                            this.endDraw(t, a, u, e), e.lineColor = h
                        }
                    }, t.prototype.beginDraw = function(t, e, i, n) {
                        if (void 0 === e) return n && r.Graphics.clearShadow(t), r.Graphics.beginStrokeAndFill(t, i)
                    }, t.prototype.drawLineWithSwap = function(t, e, i, n, r, s, a, o) {
                        o ? this.drawLine(t, e, n, i, s, r, a) : this.drawLine(t, e, i, n, r, s, a)
                    }, t.prototype.drawArrowWithSwap = function(t, e, i, n, r, s, a, o, l) {
                        l ? this.drawArrow(t, e, n, i, a, o, !1) : this.drawArrow(t, e, r, s, a, o, !0)
                    }, t.prototype.drawArrow = function(t, e, i, n, r, s, a) {
                        var o = i,
                            l = n,
                            h = a ? i - 2 * r : i - r,
                            u = a ? n - r : n + 2 * r,
                            c = a ? i - 2 * r : i + r,
                            d = a ? n + r : n + 2 * r;
                        if (e) {
                            var p = [];
                            p.push(o, l), p.push(h, u), p.push(c, d), e.addAuraMesh(p, s.fillColor)
                        } else t.moveTo(o, l), t.lineTo(h, u), t.lineTo(c, d), t.lineTo(o, l)
                    }, t.prototype.drawLine = function(t, e, i, n, r, s, a) {
                        e ? e.addImmediateLine(i, n, r, s, a.lineWidth, a.lineColor) : (t.moveTo(i, n), t.lineTo(r, s))
                    }, t.prototype.endDraw = function(t, e, i, n) {
                        void 0 === e && r.Graphics.endStrokeAndFill(t, i, n)
                    }, t.prototype.paintZeroLine = function(t, e, i, n, r, s) {
                        var a = i,
                            o = n.x0,
                            l = o + n.width;
                        s && (o = n.y0, l = o + n.height);
                        var h = o,
                            u = l;
                        s ? h += 2 * r : u -= 2 * r;
                        var c = Math.round(e.zeroY) - .5 * (a.lineWidth || 1),
                            d = this.determineContext(t),
                            p = d.context2D,
                            f = d.contextGL,
                            g = this.beginDraw(p, f, a, !1);
                        this.drawLineWithSwap(g, f, h, c, u, c, a, s), r > 0 && this.drawArrowWithSwap(g, f, o, c, l, c, r, a, s), this.endDraw(p, f, g, a)
                    }, t.prototype.determineContext = function(t) {
                        var e = t,
                            i = t;
                        return t instanceof CanvasRenderingContext2D ? i = void 0 : e = void 0, {
                            context2D: e,
                            contextGL: i
                        }
                    }, t
                }();
                r.ValueAxisPoints = de;
                var pe = function() {
                    function t(t) {
                        var e = this;
                        this.relativeYToValue = function(t) {
                            return 0 === e.scale ? t >= 0 ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY : e._isLogScale ? t > 0 ? Math.exp(t / e.scale) - e.logOffset : t < 0 ? -(Math.exp(-t / e.scale) - e.logOffset) : 0 : t / e.scale
                        }, this.updateScale(t), this.logOffset = 1, this._zeroY = 0, this.scale = 0
                    }
                    return Object.defineProperty(t.prototype, "zeroY", {
                        get: function() {
                            return this._zeroY
                        },
                        enumerable: !0,
                        configurable: !0
                    }), Object.defineProperty(t.prototype, "isLogScale", {
                        get: function() {
                            return this._isLogScale
                        },
                        enumerable: !0,
                        configurable: !0
                    }), t.prototype.getRawScale = function() {
                        return this.scale
                    }, t.prototype.resetToDefaultScale = function(t) {
                        this.scale = 0, this._zeroY = t
                    }, t.prototype.forceZeroY = function(t) {
                        var e = t - this._zeroY;
                        return this._zeroY += e, e
                    }, t.prototype.isScaleValid = function() {
                        return this.scale > 0
                    }, t.prototype.updateScale = function(t) {
                        this._isLogScale = t
                    }, t.prototype.updateRange = function(t, e, i, n) {
                        var r = this.computeAndUpdateRange(t, e);
                        this.scale = n / r;
                        var s = this.valueToRelativeY(t);
                        this._zeroY = i + n + s
                    }, t.prototype.computeAndUpdateRange = function(t, e) {
                        return this.isLogScale ? this.computeAndUpdateLogRange(t, e) : e - t
                    }, t.prototype.computeAndUpdateLogRange = function(t, e) {
                        return t <= 0 && e >= 0 ? this.computeAndUpdateLogRangeTouchingZero(t, e) : t < 0 ? this.computeAndUpdatePositiveLogRange(t) : e > 0 ? this.computeAndUpdateNegativeLogRange(e) : null
                    }, t.prototype.computeAndUpdateNegativeLogRange = function(t) {
                        return this.logOffset = 1 + t, Math.log(t + this.logOffset)
                    }, t.prototype.computeAndUpdatePositiveLogRange = function(t) {
                        return this.logOffset = 1 - t, Math.log(-t + this.logOffset)
                    }, t.prototype.computeAndUpdateLogRangeTouchingZero = function(t, e) {
                        return this.logOffset = 1, Math.log(e + this.logOffset) + Math.log(-t + this.logOffset)
                    }, t.prototype.valueToScreenYInRange = function(t, e, i) {
                        return r.Helpers.isNull(t) ? t : Math.floor(r.Helpers.clamp(this.valueToScreenY(t), e, i))
                    }, t.prototype.valueToScreenY = function(t) {
                        return Math.round(this.zeroY - this.valueToRelativeY(t))
                    }, t.prototype.screenYToValue = function(t) {
                        return this.relativeYToValue(this.zeroY - t)
                    }, t.prototype.linearValueToRelativeY = function(t) {
                        return this.scale * t
                    }, t.prototype.linearRelativeYToValue = function(t) {
                        return t / this.scale
                    }, t.prototype.valueToRelativeY = function(t) {
                        return 0 === this.scale ? 0 : this._isLogScale ? t > 0 ? this.scale * Math.log(t + this.logOffset) : t < 0 ? -this.scale * Math.log(-t + this.logOffset) : 0 : this.scale * t
                    }, t.prototype.absLog = function(t) {
                        return t > 0 ? Math.log(t + this.logOffset) : -Math.log(-t + this.logOffset)
                    }, t.prototype.absExp = function(t) {
                        return t > 0 ? Math.exp(t) - this.logOffset : -(Math.exp(-t) - this.logOffset)
                    }, t
                }();
                r.ValueAxisScale = pe;
                var fe = function() {
                        function t() {
                            this._min = Number.POSITIVE_INFINITY, this._sum = 0, this._count = 0, this._max = Number.NEGATIVE_INFINITY
                        }
                        return Object.defineProperty(t.prototype, "min", {
                            get: function() {
                                return this._min
                            },
                            enumerable: !0,
                            configurable: !0
                        }), Object.defineProperty(t.prototype, "max", {
                            get: function() {
                                return this._max
                            },
                            enumerable: !0,
                            configurable: !0
                        }), Object.defineProperty(t.prototype, "sum", {
                            get: function() {
                                return this._sum
                            },
                            enumerable: !0,
                            configurable: !0
                        }), Object.defineProperty(t.prototype, "count", {
                            get: function() {
                                return this._count
                            },
                            enumerable: !0,
                            configurable: !0
                        }), Object.defineProperty(t.prototype, "avg", {
                            get: function() {
                                return 0 === this._count ? null : this._sum / this._count
                            },
                            enumerable: !0,
                            configurable: !0
                        }), t.prototype.aggregateValues = function(t, e) {
                            for (var i = 0; i < t.length; i++) this.aggregate(t[i], e[i]);
                            return this
                        }, t.prototype.aggregate = function(t, e) {
                            return void 0 === t || null === t ? this : (this._min = Math.min(t, this._min), this._max = Math.max(t, this._max), this._sum += t * e, this._count += e, this)
                        }, t
                    }(),
                    ge = function(t) {
                        function e(e, i) {
                            var n = t.call(this) || this;
                            n.aggregateValues(e, i);
                            var s = n.computePercentiles(n.min, e, i);
                            return n.first = r.Helpers.firstNonNullInArray(e), n.last = r.Helpers.lastNonNullInArray(e), n.percentiles = s, n
                        }
                        return n(e, t), e.prototype.computePercentiles = function(t, e, i) {
                            var n = i.map(function(t) {
                                    return Math.max(t, 0)
                                }),
                                r = n.reduce(function(t, e) {
                                    return t + e
                                }, 0);
                            return r <= 0 ? null : this.computePercentilesFromMatrix(t, r, this.toValueCountMatrix(e, i.map(function(t) {
                                return Math.max(t, 0)
                            })))
                        }, e.prototype.toValueCountMatrix = function(t, e) {
                            return r.Helpers.transposeMatrix(r.Helpers.arraysToMatrix(t, e))
                        }, e.prototype.computePercentilesFromMatrix = function(t, e, i) {
                            if (e <= 0) return null;
                            i.sort(function(t, e) {
                                return t[0] - e[0]
                            });
                            for (var n = e / 100, r = [t], s = 0, a = n, o = 0; o < i.length; o++) {
                                var l = i[o][0],
                                    h = i[o][1];
                                u = this.collectPercentiles(l, h, s, a, r, n), s = u.currentCount, a = u.currentThreshold
                            }
                            return r;
                            var u
                        }, e.prototype.collectPercentiles = function(t, e, i, n, r, s) {
                            if (void 0 === t || null === t || void 0 === e || null === e) return {
                                currentCount: i,
                                currentThreshold: n
                            };
                            for (i += e; i >= n;) r.push(t), n += s;
                            return {
                                currentCount: i,
                                currentThreshold: n
                            }
                        }, e.prototype.selectSeriesAggregate = function(t, e, i) {
                            switch (e) {
                                case "first":
                                    t = this.first;
                                    break;
                                case "last":
                                    t = this.last;
                                    break;
                                case "minimum":
                                    t = this.min;
                                    break;
                                case "maximum":
                                    t = this.max;
                                    break;
                                case "median":
                                    t = null === this.percentiles ? null : this.percentiles[50];
                                    break;
                                case "average":
                                    t = this.avg;
                                    break;
                                case "percentile":
                                    t = null === this.percentiles ? null : this.percentiles[i];
                                    break;
                                default:
                                    r.Helpers.warn("Warning: Invalid threshold type '" + e + "'")
                            }
                            return t
                        }, e
                    }(fe);
                r.SeriesAggregates = ge;
                var me = function() {
                    function t() {}
                    return t.generatePanel = function(e, i, n, s, a, o) {
                        var l = new r.ChartPanel;
                        return l.packingOrder = a ? 1151 : 110, l.computeSize = function(r, a, l, h) {
                            if (!e.assetsLoaded) return {
                                width: 0,
                                height: 0
                            };
                            var u = 8;
                            if (i && (i.style.maxWidth = a), n) u = n;
                            else {
                                var c = s,
                                    d = ["9999 M", "999 M", "99 M", "9 M"],
                                    p = [1e10, 1e9, 1e8, 1e7].map(function(t) {
                                        return t - 1 - 2e-4
                                    });
                                o ? d = d.map(function(t, e) {
                                    return o(p[e], "M", 1e6, t) || t
                                }) : u++;
                                var f = !!e.settings.hasOwnProperty("horizontal") && e.settings.horizontal,
                                    g = t.computeMaxTextSize(f, l, c, d);
                                u += 2 * c.margin + g, i && i.text && (h.measure(l, i), u += 2 * (i.style.margin + i.hheight))
                            }
                            var m = Math.ceil(u),
                                v = a;
                            return {
                                width: m,
                                height: v
                            }
                        }, l
                    }, t.computeMaxTextSize = function(t, e, i, n) {
                        return t ? r.Graphics.getTextHeight(e, i.textStyle.font) : n.map(function(t) {
                            return r.Graphics.getTextWidth(e, i.textStyle, t)
                        }).reduce(function(t, e) {
                            return Math.max(t, e)
                        }, 0)
                    }, t.paintThresholds = function(e, i, n, r, s, a, o, l, h, u, c, d, p, f, g) {
                        if (void 0 === h && (h = !1), void 0 === u && (u = 1), void 0 === c && (c = 1), void 0 === d && (d = !0), void 0 === p && (p = !1), void 0 === f && (f = []), void 0 === g && (g = 1), l) {
                            for (var m = [], v = 0; v < l.length; v++) {
                                var y = l[v];
                                if (y.position === n) {
                                    var S = t.paintThreshold(e, i, r, s, a, o, y, h, u, c, d, p, f[v], g);
                                    S && m.push(S)
                                }
                            }
                            return function(t, e, i, n) {
                                for (var r = 0; r < m.length; r++) m[r](t, e, i, n)
                            }
                        }
                    }, t.paintThreshold = function(e, i, n, s, a, o, l, h, u, c, d, p, f, g) {
                        if (a.isScaleValid()) {
                            var m = h ? s.height : s.width,
                                v = h ? s.y0 : s.x0,
                                y = v + m,
                                S = s.y0,
                                b = S + s.height,
                                x = u * t.generateThresholdValue(l.to * c, l.toType, l.seriesID, l.percentileTo, o),
                                C = u * t.generateThresholdValue(l.from * c, l.fromType, l.seriesID, l.percentileFrom, o);
                            if (f) {
                                var w = u * t.generateThresholdValue(f.to * c, f.toType, f.seriesID, f.percentileTo, o),
                                    L = u * t.generateThresholdValue(f.from * c, f.fromType, f.seriesID, f.percentileFrom, o);
                                x = j.interpolateValue(g, w, x), C = j.interpolateValue(g, L, C)
                            }
                            if (d) {
                                if (n === !0 && C === x && "above" === l.position) return;
                                if (n === !1 && C !== x && "above" === l.position) return
                            }
                            var T = a.valueToScreenY(C) + .5,
                                M = a.valueToScreenY(x) + .5;
                            l.style.fillColor && r.Helpers.nonNull(T) && r.Helpers.nonNull(M) && (e.fillStyle = l.style.fillColor, e.beginPath(), h ? e.rect(M, v, T - M, m) : e.rect(v, M, m, T - M), e.fill(), e.closePath());
                            var k = r.Graphics.beginStroke(e, l.style);
                            T !== b && r.Helpers.nonNull(T) && (h ? (k.moveTo(T, v), k.lineTo(T, y)) : (k.moveTo(v, T), k.lineTo(y, T))), M !== S && null !== M && r.Helpers.nonNull(M) && (h ? (k.moveTo(M, v), k.lineTo(M, y)) : (k.moveTo(v, M), k.lineTo(y, M))), r.Graphics.endStroke(e, k, l.style);
                            var P = [];
                            if (l.label || "text" !== l.labelType) {
                                var A = l.labelStyle ? l.labelStyle : {
                                    textStyle: {}
                                };
                                A.textStyle || (A.textStyle = {}), A.textStyle.font || (A.textStyle.font = "12px Arial");
                                var I = new r.Label(A),
                                    D = l.valueFunction ? l.valueFunction : t.defaultThresholdValueFunction,
                                    N = D(C, x, l),
                                    O = N.fromLabel,
                                    F = N.toLabel;
                                switch (l.labelType) {
                                    case "text":
                                        I.text = l.label;
                                        break;
                                    case "fromValue":
                                        I.text = "" + O;
                                        break;
                                    case "toValue":
                                        I.text = "" + F;
                                        break;
                                    case "textFromValue":
                                        I.text = l.label + O;
                                        break;
                                    case "textToValue":
                                        I.text = l.label + F;
                                        break;
                                    default:
                                        I.text = l.label, r.Helpers.warn("Warning: '" + l.labelType + "' is not a valid label type.")
                                }
                                i.measure(e, I);
                                var E = h ? I.hwidth : I.hheight,
                                    H = h ? I.hheight : I.hwidth,
                                    R = Math.floor(l.labelHorizontalPadding || 0),
                                    z = Math.floor(l.labelVerticalPadding || 0),
                                    B = (I.style.angle || 0) * Math.PI / 180,
                                    U = r.Helpers.rotatedWidthAndHeight(B, 2 * H, 2 * E),
                                    W = .5 * U.width,
                                    G = .5 * U.height,
                                    V = "left" === l.labelHorizontalPosition ? v + W + R : "center" === l.labelHorizontalPosition ? v + (y - v) / 2 + R : y - W - R,
                                    Y = "above" === l.labelVerticalPosition ? M - G - z : "center" === l.labelVerticalPosition ? T + (M - T) / 2 - z : T + G - z;
                                if (h) {
                                    var _ = V;
                                    V = Y, Y = _
                                }
                                if (p) {
                                    var Z = function(t, n, a, o) {
                                        var l = h ? 1 : 3,
                                            u = (I.style.angle || 0) * Math.PI / 180,
                                            c = r.Helpers.rotatedWidthAndHeight(u, 2 * I.hwidth, 2 * I.hheight),
                                            d = .5 * c.height,
                                            p = .5 * c.width,
                                            f = s.y0 + s.height - l * d - o,
                                            g = s.y0 + l * d + a,
                                            m = s.x0 + s.width - p - n,
                                            v = s.x0 + p + t;
                                        if (h) {
                                            if (V > m || V < v) return
                                        } else if (Y > f || Y < g) return;
                                        Y = Math.min(Y, f), Y = Math.max(Y, g), V = Math.min(V, m), V = Math.max(V, v), i.paint(e, V, Y, 1, I)
                                    };
                                    P.push(Z)
                                } else i.paint(e, V, Y, 1, I)
                            }
                            return P.length > 0 ? function(t, e, i, n) {
                                for (var r = 0; r < P.length; r++) P[r](t, e, i, n)
                            } : void 0
                        }
                    }, t.generateThresholdValue = function(e, i, n, s, a) {
                        if ("constant" === i) return e;
                        if (null === n) return r.Helpers.warn("Warning: Specified non-constant threshold but did not specify the seriesID"), e;
                        if (!a) return e;
                        if (!a.hasOwnProperty(n)) return r.Helpers.warn("Warning: '" + n + "' does not exist."), e;
                        s = Math.round(Math.max(Math.min(s, 100), 0)), i = t.replaceExtremePercentiles(i, s);
                        var o = a[n];
                        return o.selectSeriesAggregate(e, i, s)
                    }, t.replaceExtremePercentiles = function(t, e) {
                        return "percentile" === t && (100 === e ? t = "maximum" : 0 === e && (t = "minimum")), t
                    }, t.applyDecimals = function(t, e) {
                        var i = r.Helpers.decimalShortening(e, t);
                        return null === i || void 0 === i ? "" : i
                    }, t
                }();
                me.defaultThresholdValueFunction = function(t, e, i) {
                        var n = r.Helpers.valueShorteningWithUnit(t, i.labelDisplayUnits),
                            s = r.Helpers.valueShorteningWithUnit(e, i.labelDisplayUnits),
                            a = me.applyDecimals(n.value, i.labelDecimals) + n.valueUnit,
                            o = me.applyDecimals(s.value, i.labelDecimals) + s.valueUnit;
                        return {
                            fromLabel: a,
                            toLabel: o
                        }
                    }, r.ValueAxisUtils = me,
                    function(t) {
                        var e = function(t) {
                            function e() {
                                return t.apply(this, arguments) || this
                            }
                            return n(e, t), e.prototype.onSceneChange = function(e) {
                                t.prototype.onSceneChange.call(this, e);
                                var i = this.chart.zoomOutPossible(),
                                    n = this.options;
                                n.enabled !== i && (n.enabled = i, this.updateSettings())
                            }, e
                        }(t.Button);
                        t.ToolbarItemNames.zoomOut = function(t, i) {
                            var n = t.settings.localization.toolbar;
                            i.label = i.label || n.zoomoutButton, i.title = i.title || n.zoomoutTitle, i.cssClass = i.cssClass || "BMCH-bar-btn-zoomout";
                            var r = i.onClick;
                            return i.onClick = function(e, i) {
                                t.zoomOut(!0, "user"), r && r(e, i)
                            }, new e(t, i)
                        }
                    }(o = r.Bar || (r.Bar = {}))
            }(d = i.Base || (i.Base = {})),
            function(t) {
                t.LicenseBannerBlank = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAAuCAYAAACWEqPeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAr2SURBVHgB7Z1dbBTXFcfPjNd82tiNTcJagL0k2K1CFVOUSE0fmKjNQ2VakqcaNRVua1vkKYBEnlpc6CMSNk9BNWodFSm8hVSO+tBWWUuljYj8EQmUxCh414BthEm8hpjw4d2c/92569nx7uzssuudXe5PWnvWOzP3zr3/e+45586ONXpMJjqMWtLpNaqgVo2okV+tFKNa0vilUOSHUCzGL40+pSgFaZHGAgPBED0GGuWAKfYOTae9mkYGKRQrDA+EYCxK7wb+GhygHMhK+BC87qO3ePOgsugKjxBiD2Og8UzwWDYHuRb+RKdh6Br9jTebSKHwHqHoIh1zOwNkFL6w8quoh0fVQVIovE6M+qKPeAAMBOecdnMUPou+Sa+k9wkBq0JROoSiD+kVpwA4rfBN0X9EyrVRlCaO4k8pfCV6RZmQVvzLhC98+koaJSV6RXkwZoo/yefX7XuJQFaJXlE+tHIKvsf+xySLP/E7o0OvEClLhaKsiMbY6p8JBuX7JIvPou8hhaIMwRqUuONAvpcb4W5DuTiKcqaJfEtrUQlXJ9xlTFAJC//Owyh9eG2Ohmbu0HjkW/Hev66SdtWtoz1ba+lH/FvxxDPHgW4AgW4F3sG313TqoCLx0j8+o8FrEdq37SnKhamFh/T7/4boXzfmaZq3V/O8VrfGJ7bH5++Lc2Mg/PjpKiplcD0//ec4Dd9eoD1binur1MjsN7T331+K7V3166lEWBPT6eapkdDHPrzTKmg/lSgQ/Zv/CwtRwKp3tdQndcTg5Bz1fzFL565+xeJfpJ6dDaR4cmFLv5d/9fmwWMX+jkElihR9Z8tG6mbR2xFuDg+ENy+E2RWKUEvNWmrf9j1SPJnENDIQ5PrwBRLyEHBJYJ0H2V+HoEFzzRpq3rCarflG4bdLMN1iH//aypSilzTwMUd3+nmQTLL1v5Wz8EfYxcDx9hjCWi97/asrdVH/NnZN9mypSXlezFoYlNZrxnGYudrZ/UsVn6AOKAcxDcrE/rs3VS9rIytu2vbkpZvinKdfbkxua8u1H9rxDDWsjX8WP19kWVm7/dV0+PlnHMu/+MsfUFHQ6TUf/zDIIwxORqj38oxoICAbHo2NFxoYHdRlijzIHQS6HEQvgYggIHTgeOQ+d/hqyob+z29R//is2K726aJu6LzBhYjwuU+8uIWqWHxyBpL1v/tgkYZnF8QLf7fX9dyXX/F5byUGkhwcGAzB6TviBfEf3rEkoitc/zeGJpbXRQyeCB1tbeCZLnmQBWfu0p9Hb2Rs27vsDsr6p7v2al9F4rNNa1fxLLq8LZurk/9mdUmt5RcFNvY+dnNeIA+ABjk+NiW2O5vrad+zdcKKATQafPUz3PiwOtWVFcJqQwCgmd0XN0DsQvjz97ISPkSBjken/5FjBIOtmb1e6FQIH9cBoUJEsv4yzrDWXZ735OWb4rzvvLx1WZCI8x+5eE1YScxasOgAsQo4xBYVrpws5y8sUNSll88pLLl5jRD923weYK8bBsLQ9Dz1sqWP1y95MV+KHrMqZk1ZR8y2wPBXifNl4sgn1xNxGOKsYgpfj1GTTjEKkIeAter+/sakDkCn429ndweESE5emkmySvbOSgdEJ35bLJYbIAjwzk8aE6K31utXLOQ7pqWExYZ1ttYJ4jzx0uakc0HUcvussS1lZgTnP81lHn7+aSFYKxD9vmefSioHdcHfUZeTPHPKcnovzSSOsdcN26jf37kOaFs5I0gGr8fdGNQj1+wNZuYrPKtg8OA8RbX2QKMXdE2jRvIICFDtU7QVWDEpgDeGrgoXAwzf/obcMDIb379qlXvhww0Qlqp+nSg/Fd0Wi5fO+uFYWDuIEq4WZh45UJyEIGYInv2sQEAQfSrEYGABy9nQWk66YwAG2aEdyT65jKEw0zyOWOXs4MYlXSFq3ZnKFeIXW2oy7tNudqwI6HymK5EiuLIDy4eBAtHssgSLOI/dp7Vy13QrmjesSbsPxCmF4SSQXfXxcuFqfTgZv1mwfVsdZYt/vbMIN/HncgbKphzhNvmWJDF1TwbA2cVDdrJ1SVeAWh95BKt4Mu0nOpYb8/yr2+nAhZCw5PCh01kUiBs+OMA+qbIbAMJMl31x6065JV+iSsUGiyuXbTmYmeRMmm/y3YaPA4QPk1D0JyZUZdEo1o5FoIQcPfzl6YUHy1Oe3InHRqcSAsdKbu/lKwlfdjun8jCY4IPK7Aum5kM7Nq1IR8lUpGJl8cViFNE88KgQCNOtCOB3Q6zYt5otFILOIxevJ9J5sFr4TObbAfxrlAFLD+zZDTDMgj8+Oi3OAUuJXHahgOuE+ohcfwGsvgSunSzHzYwqZwi32IPhEiGE4HaMPIIUpRPivptHUQ64lu67aTbF34ZAkTt63LTe6BQI/mirX2QT5C15CKLt2Q2ArMVZIyDOAffp3NWvqVBg0QgMmWsRhULGM++5bFuneMdKlZkhG5//NuO+cjDJY4oNG/uwHsUDeTwChD9uBkKpsKbm7NkTZCXg9nzw6nP0n5+30Ac/e06sDELwCNpkp8J/d1rlxUyCfDWQ6cZCIIN0XLOT2OLxSO4D0FoOFgjTYU2vukHMqnxeGAinPpPtjqyYV1y6GBt7Hc8hJI+ATATSlAhUrVOo6Hxe4fwNf4btTodleYAGtn8+NB23rG1bM3t1cpUX9cl26ncLBhiuA2Uc4MA7VWYKYnz7k2ti3QLXn2s5iFcAFgjRttaBhvZE2Whb4Xb53Iuz0zQ+R7iOqWYuLJwlDFWzZ1KZhOdv+vjHefLA1w0h1LbNNYnVWbxk3hxBqxwI6W5Gy4RMS8p7TDKBGWTkNgmfv1DIvDpWWo+PTolrbuFrrmLxTfOAGzbXHeDCwXK7dUPsYG0EA+yM2a5ObTvD792kh2X9xXm5zxBjoQ/hQuJ8ELz1vJ66dbmSxny4KX+yywjGiniHJhrMb66Cwi1Bx8Sn0Lj/CCsEFwUCWOkGlDNHJkvodzGg5H011pVjiAc3dMkbwILmzIR9U91mbT8+XZ3995LrYy3H3rbWcjC7yGuuStQ3/bWjz2AkMFiQQZPrBzK+ste/2LB/PxQ4HQyJcG+i0zioa9RLHkNajHz4hrCo6JwTL24WAsjEr3nqx8ILYoWiL7EXALQtZsF8X1s++6wQcO1+G+gPDsRr94gGKJ7P9xQiXZmnBmwzF6Xem8jsKyOPD9HDipej6EGqOChf5/XsuoRGIYgem6KGcHeiGp2iMgbTLRar5CpvOhBQHhuL+/UeurdEkQ+i9K7cTDiLB3/YNKb5qJ08sIpbKPCdW9y78v9b8ZuvGtavorrV8bs2MEW/H/6a/jB8g27fXxQLXPu3K+GXDWztG/uDry+9tWA+A/8jKmPEFyIuhEXWBGBaxsKKNWNi/+KHovSRvr18v+zZmeEuo49/vUVlDr4cgmAX9+hgJVh+jbAYmSNFwTnF1j7p/zuke2gsrL56Jr6i9GEXJ7qOdgb6Mjw0VgS6FfQ6DiCFopSB6HV6xS76+EdpmDhgNOlRtvwx9VhBRQkiRX869T+GSJtwxQE4UFl+Rcmh0ZiT6IHjSoMQ/wPayZtlneNXlBWn2Kd3FD1w/+8+u4wOTnX2KNdH4Ung2kQ5ZWl5Br7z7lkS7jb+xL/2qwGg8AhzrGJY+b5UQWw6sha+BDMAH4zXblIoVpgY0VAsRuepigayEbwkZ+FLkP2hh5zz18nQkPvnmcBLz+pRlDxz4nvh+CduSLTgi1Mb6HwuYrfyHYOZh67cy7RhAAAAAElFTkSuQmCC", 
                    t.LicenseBannerExpired = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAAuCAYAAACWEqPeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAzzSURBVHgB7Z1tbFPXGccf23HIi/PmYBKHQhIC6QupSumg0qYWs7dOajTolwLqqkJHEH2Z2q6t+qWjhXUf2q4baF1BAwHVKgH7MtjopG5TMZW2D0RApsJ4DQlQkkDIG0mckBC7z/+xj7mOrx07JIGY80Mm1/ec85xzr//nOc859/raQrdIw0pPPllpKdlonoWolF/zKED5ZOGXRjM2NAYC/LLQ/8hPXhqiuvKd3ka6BSw0CkJiX2mx0hKLhTyk0Uww3BG8AT99Wr7du5NGQVLCh+CtafQKb76qPbrmDqGRI4ydpdu865MplLDwG1Z7PFYL7eDNMtJo7jwa/UO0PtERYEThi5dPp3e4V71KGs2dToA2+m9wB9jp7YyXLa7wWfRlVjv9lTBh1WgmD43+QVocbwIcU/gh0R8gHdpoJidxxW8qfC16TYoQU/xRwpeY3k5HSYtekxrUhcQfEfNbh+eSiawWvSZ1mMdL8O8M3xnh8Rue96y02mTJUqNJKfwB9vrbvF71PsLjs+jfIY0mBcE1KLnjIESa2ji/xoO1+jLSjClDQ0PU3t5Gvd091NfXRwMD10kzNqSnT+FXOhUUOsnhyJHtOJSx2nEt6l28CYc652s8DaRj+zEDgr/aeoVar1yRbc34U+x2U1GxO16WTp7olmOiK6EOYnvSoh8zBgYG6PTJE9TS3KxFP4HgfJ84fkzOfwzy2euvxIYI32Kj50gzJuCk1585He/ka8aRkc6/jWgJ/lpCF6saSDMmjOBxNBME4v3K++4nm80WlcbhToEVXyAhzZhwuaU5YdFbM7LobmSijhufA+ZX5o2gpVb+z0MJsP9i54h5vC099MJ/z9PCv52gJf8+S1tPXaWJJJE2JsrBlm7qHvQnnB8nGjFmPEqWv0w5VQtke86vtpDz8SfpbiJvgUeO25p56+KHraKlq+LmweKC6RyLnT0vb9JDlAAbjsb/UHfXt9Pvv26h1ZVT6dBP76fN3y2l0119tJY7wkQxUhuT4XfHLlPPYOIT056e7hHzZM+eS7bMbNm+vHcHdR+rpbsJX/3/5bj9fT66VdKd0yhjelncPLKU3NYWtd/Ky/ZpvHZfnujXUZp8g7T7XLt4w5IsOy0qzqXlswokbVdDO235Xim5eT9A+ocLZ9Az3nN0uM1HjxSa93J4VdiEt0aZJ2fkU/WMPBktUE+O3Rrep0AnO3g56JFRpqbSRXPypkSlVXM51T5whNuBuk519Yfrgrjdciw5kr71VCuXcUr+DXVN4bLYhzxAte2zReXh9I62dkoGK3cA47CfU7VQXkN9vdT+1X4a7GgNp2FkyCgp531XqPPQgXCa64mn5b3z8Wp531l7gK43NQbts+38hYtNy9kLXFIGnbC3/hh11XrN22iwgXzdxw6JaNFOu9PF7fxc8sH7Wvgf6sf2YHurpGdXVEXYt2Vky34Am1mzH6D+S42Uv2AxtezbLrZRHuXMzoNKg81EgUNyTZsWudNCD1ktFipN0IaEMY40K3244B7x7Iev9tAzBxvYs/dLuhK9kUemZtGRq70xbW44eok71ACtm+cWm1tPttLP2Ka3uZtemzstvG/3uQ7JD098uK2X04pEeMvKC+iNQxe5DcELQ7tY2CiDst7ma5IfoEOsP9JE852Z0v4n78kTuxB6N4sfYRrSYW9+YdArr77Xxe0qkZfaB3uqbUaSvTBVyGLODHks14+X0fQVv6Ch/l6yZWXTrDc+oiklwbSiJatYGN8XQdvZy5W+tCEcKrieWEYznn+L/KFyFVxOpZVxPpTznTsmIitZ8bLsh+hhA/lhc9oTy6UOM9CO3AcflXwFbKvsxQ2yv5/fu7hcVsVcsYd2KJAPdWXPrpIOB/sI8UDG9NJwXrVdvPR5yafOA/KjPnUeYF+dB/fSn0te2M7jzpII/XzR0IT8NEoCeMg1904Nv39kajat/c95Wl/XzJ7TPB4OemXzK2roMBDsvh/NDu9b97CbO9gF2vfD2eGOtJlHkme5M1TmptNBFp0xP9rwmWeWjAzAOOpU5mXQ0n+dFW89fERC2nwu+yyPSGBPfRvV8LF53Llh2yWZ9ojOjA6CEcPYNsVoV3LgdV0/eZqadn0sHhPAk2MoT+O0wkXVdOa9F9iLBsUx6/XfiodU3hZ/Vbmcqkcpl71xJ3tYu7OIvfyX/PJS99e1MsIA2INwUR/ov9QgHaH1n3siQhB4dXjxxj+uk/eoY/bbW0Tsvvrj4o3RTnh3vFdtABCnsu87e1zsw6ObHfu5HW/IsanzUP/R63SdRwGAjubk9l794i/SbuM5kk6YQKQS43NJTvgrQiGAkeqZeexlO6g4M028sjG0QGiE8GHFrEIRDITusNvEDoQjYUZ2pIDQSZBmFBbCEogOIdMid05UG5TogbFcDtflSLdxG3qjbCq7Rnvu7LiXvKVzm9m5FZRH62XxKFr5gwb5PLSDshdvfo8aAlbzBDDQcXPlwt/XE95Wwsx5cKGIr/WLPbIf3n8KjzRz3t4c0Q5bpiNC+IifEZYY89l4NEnnfb56Env3/ubP4n3RMY2gPkV/KPTKmF5OZqgOnREa4WaueiviWHF8Ks14jhDuZPGcabRA+FgKGfUTEyBkeMbXqoroBfb+mNDO5/Cm2XeDxd6G70CyB2+U+Di4f1BGiRUVheLBJwIItmfAfKKazMpNPLBuPBqvP9QfPdGzF0zjGDcoYsS6jZ9E3juIfSMBYbax+BFOOR+rlrDhzHtrpSxiddW5FEqAN+vwSfx9ccf7pnWjw6IjwOM7eKWqIzQCSZrzZhiY6PKlsov6hgwdEPuNHV1hts+MWPfvWAMB6qIEQTw8nG28b1GxQ7wnQpL5hYjpfeKhP+BYGh53NU8+1z1cIpPNGo6bkW/rSR4O+25QMsC22TLjSOJFOXQ4NQ9QYESCPTMwl2nqG4zY18xzkZw0q2n+zFEu0UFw8JDOx4JLm8EYfL3E1sFVH4sIS4TJH1bJ8pfCHjAWEAVCIuTrZdvXWOhKKBA9whjYgs2cuQvF5nCucwgEr59V8UBE3coOwpcr3Lmadv2B4/Jl4ZELyOQ39B7zDAmHDKOAGRgZkC/vO4ulviFfj9SXEzp2pBnPkQPHkAB2c+E3pvHktg7HQQmA+BrhSfXM/HC860izyXsA8ZfwtnqP0AbedkVFZIgkKyocIn2e5Lo74nlMSt+svchzDRe5eaTBRHdXPeL3spjlEPK8VlUs5dDxUD/aholwLCGjk2442iT5sSJ1+lq/TGxrKqea5s92OKira3TXES7t/lhiVsSxAHGsimUhLEwAIS6IDvt99fFFFPTqtTLBDcbPDmoJLSOiPDwy1tORD3H8lVAYZARhBcpgson6ke/qV38XexhB8B7zCz/bQExexHm+CY0O6FxlL/1aQiXU2fjJOkqEi9vfl8k6VpJwrDhOteSr0nCO0AkQ6qgVong4nYVR+7gPn7c01Hg28kf/ykgGEJ7Aa8Prw3sirp6Tm0Fr7otduYQ1vBKEyeBwYGf/hS6JsX/JYZKxDNJQ1/D6MTkF+y90hj0/RIzJKyarxjyKNw99I7bQ3qaQbdV+lDvMoxM6FOxhyRR2FKhn/8Uu2Y905EdeM7BmjNsVbuWmNAgSYvSbhDLx0mKh5gNm5VTa8BAn2XYNBx0YokQohXKJ2E+mvmRt3j93rty+bITjg02W8f7W1Q/+cYo+eHRG1Do+ruxCkLHW9ycjuHKL2xbuZozCv90UFRdTsbskar/fT09ZWf57aRzBWjhCBqzuAHjbN3ndvTJ3SkqJHuBCyQhfhkh5Omq/lHnF7Qafg5noBTvVyUrohRrPAV588dA4gZAB8fSZa9clpl7GIQNWdYzLkKkCLmTVnzmj79C8jUD0FXPmRIU4gOP7g2XbvB5Zxx8K0D7rOD71uNow4U11cLJx0rX4bw/xRA8CFtqJv+LxQ8/SwT35+gnIY0hLcxPH/C2kGX9w3/1Ul0vCTZstxnVZvhBd+ievXEmTWAPfQfRbaBNpxhTEmFhVmDGzVJY77Xd5/D/W4Hzm5uVRyfR75DzjfMcUPfDTp2ozfLdD6KnIR/WTFjQpicHbg/DsUry+n1aRRpOC+AMU8cMREcsqoSdN6ZBHk2psKt8a+YMRUeuJ/kF54E4daTSpAIc4/uzgQ6SMRAlfQh4bPYUCpNFMZiB6Ky0u3xj96yixfxhirafM6qcDerKrmZQo0W8x/2GImJdOUQAFtefXTDosVBdP9CDuPQMi/gF6mPSEVzN52OTPii96kPjPfdZ4VlotpJ+orLkzQWjDy/HGZ+DHz54k59d43uU/z+kOoLlD6GQVw8tvNJvExiJp4SswAnBhvBaRRjPBBIgOBgK0lxy0MxnBK0YtfAVWf2iQ5uFRhBb8Hi6PBMk8q0ejGYFOfC/cgh9xw0LLEF9jyqW9oxG7kW8Bl6wL6XOb7LQAAAAASUVORK5CYII=",
                    t.LicenseBannerDevelopment = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAAuCAYAAACWEqPeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAt7SURBVHgB7Z1tbFPXGcefe5PQkoQklGQlCPJC22ywSg2EddImiKttEi/RoIBUUAtlEwnpJwoaXxDvIJBaiRG+FJpoywAJ9gENJhhIm4SDtH0AApk2QWGFOGFL6Ag0EBIoIfae/+Mc99q+frlOYsXZ+UmG63tebf/Pc/7nXOfaoCHSusaVRyYtoTQqN4iK+VFOPsojgx8azfDg8fn4YdDfyUtuGqCW0ka3h4aAQQkwKPY1hkmLDYNcpNEkGR4Ibp+Xflf6G3cjJYAj4UPwZjqt58OPdUTXjBI87DAaixvcO50Uilv4rWtdLtOg3/JhCWk0ow+Pd4B2xjsDxBS+RPlxtJ1H1cek0Yx2fHTA+4IHQKO7O1q2qMJn0ZeYGfQHwoJVo0kdPN5+eifaAjii8AdFf4G0tdGkJlHFbyt8LXrNGCGi+MOEL54+g66RFr1mbNAyKP4gz2+G5pKFrBa9ZuxQzlvw20NPBkX81l+61phpsmWp0YwpvD6O+g1ut3oeFPFZ9NtJoxmD4BqUfONgkHR10Fbjwl59CWmSQk+/l87e7aarD/ro5qNn1NnXTxp7CjMzaAo/Fk3Lo4pJmfI8AUpY7bgWtQNPAlanrdrVStrbjzgQ/Ik7D/nxQI41zqn+bgE/8ikBunmhW4qFrlgdeHvSoh9xOjiqf9B0h+pv3teiHwJ4/xb/5ctEZsk8jvprcCDCN9LoQ9KMKBD9R39r05ZmmMD7WJvA+5lGtBj/G4MXq1pJM6IkGKE0MYDfP1Y5nSZkmHGXYbsz0cQfkJBmRKn/4r4W/QiB9xVrJkeYtMTkf1yUAGfudsfM4773RKb3t/94QyJe/c0uSibx9DFemu71JOTLYXHqbzl73QsWLKBly5bRSJCZmUlbtmyhgoICGu2gr/n5sRexEL6jz4aDPW9v0luUALuudUZNP3H7If36H/dobVk+Xfr5DPrsR8V069FT8WXJIlYfnbD/n1/Rk/4Bcgq2K51SXFw8YsLMysqimTNnUiqA9+HgwYMx8/Xw53LWQZAzeds+nffuSxP7A0R/NMNoQzTEPmvl5BxaMX2ipB1vfUiHflwc2HNF+qdvT6P33XeomcWA/Vj7F+Hf7kO0Vnu3VdNyZbZAO/By6pwCg6zpK39ERpnqsgJ6I/elsLQqLqf6ByBKtIV9dNUWxF0or2WCpGMHYcX0VyT/rpaOQFmcQx6g+nassjTs9Zxtj/2BILLNnz9fxH7jxo2wdAhg3rx5kg/pFy9elGPMDOfOnaO+Pv/gmjNnjpxX6ZWVlVRUVETt7e10+fJl6uqyn3lQD/KhHtSn8uH89evXqaKiItA31A1mzJgh5+7fvy99U2lLly4Ny6vyI1+8baD/yA8w+125coXa2iIHzeauvsDnFBOD3jINg4opQWBjstNN+vQHUyWyN3c9ofebWjmyP5N0uwsNFfmZdLWrN2Kdu679hwfUc9pWXih1wh9/wHW6O3tow/e/Ezh34s7Xkh+RuPlBL6e9KsJ7r3Qi/erSXe7DN5J+nIWNMijr7nws+QEGxM6rHTT7lfHS/0VTc6Ve/1bjgNg0pKO+2ZOypMxa3j/eVj5FHuoc6lN9s6PjaWxvD+sBkUIMEC9EosBUv3XrVjmGgCECDBIICMKAcBRIUzPFxo0bae7cuVIG9aEOiMmubdSHtjEbWPPh/Lp16+Q80levXi3nAGYNtId+Gyyi2tpa2rt3r+RVz9XrwGDAc/QF6fv27ZPBHNqGKqcE74Rbj585yZ6XTkMAEbLGciGhIj+Lav/aRjtbOjly2nsuf1QeZ5uGAQPBnv7Z64Fz22YV8gBrp9M/fT0wkD7jmWQVD4aynHHUxKKz5kcfjrm+XeVbZ52y3JdpyZ+/lMgQOiMhbTaXXcUzEvj97QdykcRVmBOoe8r4jKDBjAGCGcPat1BiLWohjpKSElq/fr1ET9DQ0BBIh9gQ7Y4ePSrPkQdCOX/+vERGJS4MEIhp//79cg7HmzdvlvyIsKgTg8o6oyAfBGxtG6LEYDp58qQ8h1hV2wBiR9uKQ4cOBY4xYFReNSOgvYULF0q/ENkBxI02VFlrG3gd6BNeGx4YWKov0XC4eTA04a+0mVqqinI5yn5Nk8enS1S2WgtYI9iHldMniWAg9OyMNKkHwhGbkRUsIAwSpFmFBVsC0cEyVRZOCOuDdWvLWm4Ct5U9Lo370BtWp6rXWl9hlv0AVWBw29XjBIijt7c3IDwAoSsgYETDurq6wDk8BxCGivJK1KgHx8iDaB7allX4yqpY24adsK4vlFjVsXVWCbVOynKFtokBgcFq7b/Vtljbj2THhhsIHyZ02O6YACEjMm5481X6iKM/FrSz2d509r2Qy/S8puAI7hF/7D/fL7PEytcmSQRPBhDsk+f2C9XhvqKKQRFPNII4lHAQ9ZQAcE5Fv1AgGIgR1gBiR2QHaiDt2bMnKD/Oq0FjbTdSP+zSVT1OOXz4cJDAhxunwcf0+egRJQj8cCgNfK5ycrZET1iS2ZPg6fskQn/CXhoRdy0vPrfNmiKLTXzvAvnqv/gv++EX5ATUbbfNGEu8KAcxqnWAAjMS6rMDa5lQv97Ja5EJ6dEvnJTlvBw1HdEd3lZ5Z2U/rOkQto8/KAgHvh2eWdHc3CwLQ8wMKpqjDASO8yiDsqtWrQr46tC2VX1IxwCyRnlYEgxEtZhGG3aRPRJqcKq+YNDgtVrXMZFQ7YT22w6Hwvek8+tuQd2UAPDXsCdVRXkBv5udnibPAcQ/hY/Vc1gbRNuVrwVbJNlRYYt01uG+O/w8FqWbLt/ltUYBFfJMg4Xu8dvw7yURy8HybHhzspTDwEP76BsWwpGEjEG661qH5MeOFBZTWNhWl0XfZ64YHJyRwId75MgRsRDLly8nj8cTZHUQxWEXsK2nhLB79+5AelNTU2DXQ0VU5IN/hthRJ0SLeiBaq40JzYfn8NPW2QX1YsGrbFHoLBIPiPZqAQ9gc6zrhEggH9rHugPvUbQyVVNzKV44DrQZrdWuA/xRryeHwJ4gaiPqI3rCV7/B0a3me5H3n9X3K7AYDAX1nGl/JB57I9skaxmkoa3Q9rE4BWd4y1BFfogYi1csVq15FJsu/VvqQn87ButW/Uc5bIthQKE+bJmiHgXaOXP3kZxHOvIjbzQQELCg7nkR20IpcdkB8SKKO7ULag0RK0rb5cO6Qg2EaH2Ll0RfQ6j9siPaBkMo/EnUGcn+q6uf/OkmffLDaWH7+LiyC0FG2t9PZWSb9FZyr1oPB1bhj2awzVzj4GvKXi+9a7L8T1ESQSdhGdQVTUTbTbzvXpbz0pgUPVjB1g42LNWAtYh20Wg0gPe1xul38zOoRa7Ztle7LvBmi4uSBCwD/PS/Hn8jnvo9tgzY1XHyDbtUQ76WzNar86n+stpwAdFbr8XEA/v7ppIGt0v28Qd8dNpM4l2PqywL3v8X1C6XFv/wkIjogc+gRvwvEX/wXjr4Tr6+A3IS+Jw9f0MKev7RwJAcgkGe4s/dpf7DQVprXDtMn77LQrKQq9hdvbJLhBlAf18/Mojqag24qGhi4pbYRzuLG9w7cPit8P13Rb6m77SgGZNYoj0IDB385Tlv8/yCNJoxiJejvfV50JwxeKepOtJoxhZ1pfXBPxgRZpa8/XLDnRbSaMYCbHG8Wf6bSFkJE75YnjR6FwVIo0llIHqT3ik9EP7rKJF/GKLWVWJ66YJe7GpSEiX6Q/Y/DBFxXwgFUFBHfk3KYVBLNNGDqBuiIv7nNIv0gleTOtR5M6OLHsT/c5/VrjWmQfqOyprRCawNb8db74EfPbtD2vgKL//3oR4AmlFCN6sYUf6A3SI2EgneUcc/A3BhPCpJo0kyPqImn49OUTY1OhG8ImHhK7D7Q/1UjlsRGvg9XJ4JhnKvHo0mhG78XbiBH3HDRssAX2PKoVOJiN3K/wBRnr2REWjwRQAAAABJRU5ErkJggg==", 
                    t.LicenseBannerSupportedBy = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAAuCAYAAACWEqPeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAw0SURBVHgB7Z17bFPXHcd/vomBxHm/iAN5OGEBxiuE8WgnDQPd+kchQPdHm7aIbEsQldYB0voPSLyk8UcrbcmY1KrJtlSrFPbHVkjZpG1lGFVbeQwSRBikzcPhkYSQF3mRksTu73via+zEdvwgkWPOR3Lse8/jntjf8zvfc+71tYYCpLnIGEcK7aAwytMQZfIjj6wURxp+SCTPBrPVyg8NXScLmWiMag2VJjMFgIb8wCb2Io1C2zUaMpJEMsNwRzBZLfSx4Q+mSvIDn4QPwSvhtI9f7pcRXRIkmNlhVGZWmI75Ushr4TcXG42Khv7IL7NIIgk+zJYxOubtCDCl8EWUn0NHuFftJ4kk2LFSqWWUO0ClqddTNo/CZ9FnKVr6lDBhlUhmD2bLCG3yNAF2K3yb6M+TtDaS2YlH8bsUvhS9JERwK/5JwheeXks1JEUvCQ1qbeJ38vzKxFxiIitFLwkd8ngJ/sjEnU4Rv/mnxiIlTCxZSiQhhcXKUb/CZFK3nSI+i/4ISSQhCM5BiSsObISrL1r2GLFWn0WSoKSfPehf4nLoSmQq3YpIoHvaKAplFo4M0IInA7Szt4HWDz2gBbwdIFmsdpyLOooNu9VpKTE2k/T2QQcEX5mwlCoTv0v9YXPoeeWdjlp6p/M6BUgvT3QNmOgKqwNvT1L0Qcd9juoF2dvoZErecy16gPdg06Ifi/ckAOI46hfhhRC+Jox2kySowAf8VubLdH9OaFsaX8B7Id6TAMQfRrQdzxrbyapmkgQVIrpJ0bsE3r+66TOKtjwhf2C7E6/gCyQkCSpOJq+SovcA3hvMe/xGoR0K/zHSNHD2bu+UeUztA/T2f1toXfUt2v55A5XXd9JM4k0bveVCez/1j1goUDCMn0ye/bEoZd5c0oWHkz9sTkumg3mLPeb5GJN9xc95Dwd7Xt6kVTQNHK9p85h+qrGbfnOjnYpzk+hywVL64MVM+urRY9rLHWGmmKqNvvDrugc0MDJGgXIpcj6FAifWLqMNKfHkD/Mj5lJ2tM5jnj6e7P+Vl3f9QeFl+3Beuzf49wXEqWkdGqFTTd0iGqZFamljagy9nj3+ZlQ1d9OH388kPe8HSH9/XTq9aWqiq11DtCYx0mWdiKqoE9EaZV5Jj6Ot6bFitMBxorWKfZ8KOtmFB+MRGWVKcpPpO7FzJ6Vt5XJq+8A1bgeOVf9o2H4siFsv/pdokV5e/5DLJIj8x2tb7WWxD3mA2rZPNhpoKj6NXzRlHkTSbRmpQiAdw99QdUs7DY6O0vL4GErhff9ufSjyGaIjaQXvq77Tbn99o6ePCjL0nH+My7WJ8qAwZyGd43Kb9cmiXuRT6wGI4AWZej52mFMa9kPgTf1DtIUjdVXTPbGt04bR+pQElhfZ82J7Q3L8pGMDlF1ua5+3XOJzGru7b5HPaGiVotFQJk0TsDFR4Qq9v3ahiOxXOwfozQvNHNmHRboqekfWJEXStc5Bt3Uer7nPHeoJHc7TizrLbz+kt7hOU1s/HViWYt93qqlH5Eckvto1yGnzhfBeM8TTLy/f5TaMv+lVLGyUQVlTW5/ID9Ahjl1rpfyECNH+VxbGinoh9H4WP2wa0lFffuJ4dCpenMztShMPdR/qU9vmDd6cmCp7YSWLK5HqevtY0Dq7LViREEMvLXh6HETNgsw0++vCnHRuo0EIDh3kVxyVVTuCtIOrllCUlrdZFPuXLxKdC0DcZS+uFGJuHhikNzjvzxZnjadxPSiLB+qN4o7hitezWQNcBuV1fAz8D6jXnrYkS3SIFQmxbHW8e69wIs9P4vwzYV6CCLlncZJ9e02Sjvb+p4WO1bZx5HTth8ejsmvvhg4DwZ754dOoeHi1njvYHTrz0iJ7R/qAR5Jd3BlyY+bQBRadY3604RNjthgZgOOokxs7j3b8q0FE64kjEtLyuewuHpHAnxu7qIT/N6M+xl53WoTWqTOjg2DEcGzbVHizVAexldffpksdPXTxQY8QpDcIwd1soI7Htk6/eS1H2iQxIoDmgQGqqDeL1x2Ph2k7d5rPOA2ivtHdR2V1jSKtqW9IWJlTjfdc1ovoX5CRxu3rFtEeneuNRem078vr1MxpIIo7K0YQHA9ppXUN9pHhEKcZprA63r5Xbphe4RdmT+6RWzNiOcr2UGpEuIjKjtYC1gj2oTA7UQgGQo/iDxX1QDjCZuicBYROgjRHYcGWQHSwTBv10ZPaoIoeOJaL5mNFzQnjNgxOqlOt17E+vc7z5Aqd21U9gVLFgjuUt4QFOMhCGhTb3gBhquIEF1mYhhid07YKhA7BA+S51NFlT6uz2ZHsmEjc7cBetztgswDarILOauVjoBM71gma+H/yRviBAOFjaWPG7pgAISMyHlg+n97m6I8JbT7bm7ahURZ7F74zyRHcLPzx+P4RMUoU5iSKCD4TQLADT1xPVJ/Fyo0ncE3KVJGsqvGu8MgQ3jb267ANxV/UiLTIcPfRXzchDVZDjcAgymEVBlFcZXBk1GmFRrUo3qJ6eYwKD9x0ENTpqfO4IpDrdxTusY9omoAfnkgF79uYGiWiJyxJfiI8/ZCI0O+xl0bELebJ5+HVaWKyWcK+GfnKb3dQ6+NR8gXU7WqZcSrxohw6nDoPUMGIhPpcgblM6+MRp31tPBeJDlfIF5YOd3tMhwBLN6wUURRRGXZCFSmEM58FJCa58+baI7a9LOeDnwbIAz99o+fpx7+N7Ym6DFnCfvxca4fYX8d5MPlUBY/lRggYx/dEli1qqyPNuuQE8TzIn/W+ZTmiDdhG54PtATjGFi89Pk5k+Yk5nOcxtfxiWia48NewJ1sz4ux+F5MfbAOIP41fq9uwNoi2hTnOFkmsqLBF+puP6+7w85iUvnvlLs81kknPIw0mulWN8O9ZbsvB8hxYnirKoePh+GgbJsLuhIxOerymVeTHitRXfcNiYluSm0S+sG6wnT6PznCbjtWbSw97hMeGaGAZKm6bxf6L7Pk38+QWadg+d7/TaUkR+aO0Wqr+0QtiGxYJ8wQVdAKUhf2A9VAtFJ514Vqq+EG+2IboT9TeJk9gRMKEFZPqQ/+7SQf5ceJ7y3jynSzSIXbV3pTWfS1sENqFurG6hI42Fa8+aiR/4GDfEs6xz+xbTPIORE1EbUT9j3g1BL56dUIk7Vni/h8SHluruE1rHRxx6dldLX3m2/bheGfv9PKH12VfzjzC7UJ78l2Uy42ZJ+wY5iKwWmj/WY70yI+VpKs8Oukj5vBy6DynToDOijw4Ft5ZjAzIj87nC/gwcQLL00VpqtWB6BE9IXKA50NXboqIre6rqHe+GgXbKK/md8TM3vr3PNmE8CfaDrUcjumYBvEW/PPLSW2svtMmBKyCMsVfXBN1O7YZoBOoafaJt62NnkCQ8AcrB3tNsH3rasvf6+m99emTxIwzu+hI7tb3QwlcsvCsz94igorlTBaYKxBty3hlxVGswczPO67TLzpryR8sFtqpkIVOUxCBtXBYBqzuAHjtd3ndPTdm7nMheoCTMs/gixdOYKWkuqXVbToiLPLMBvDe+Ct6gZYjPp7vlBjP82KKkYIEYU3YT3/d942wE6/xciZWdaK102HKghOcyNqV9XKg15+HHBD9n8z/EN/Q8ge40KwKk1EsB4xZ6YwSRHc93uow4X1eWWj7gKX4nxKo6AH7+0o8i4hvu5cOZkHyDshByG/Z7/8ueVquJZwV4Lr73V23qKjr/xTj5zX4Ag2ZMz8yGcZf2mjeYzyqWOVdFoIVWJ/LulRxRSJGgFAfBRDdl/A5DXzR/NWehsAEr2KlY5kVpqN4+VT443dFrpF3WpCEJA7RHthni/jmOS/z/IQkkhDEwtHecdtpmcR2p6kykkhCizJDufMPRkxaH7SMiBvuBLBIKpEEEWxxLLrxm0g5Mkn4wvKE0U4UIIlkNgPRK7TJUDr511Hc/zDEXmOWYqHzcrIrmZWoov/Q9Q9DuD0VigIoKCO/ZNahoVpPogcerwEQ4n9Cq0lOeCWzhzJLpGfRA+9/7rPEWKRoSN5RWRKcwNrwcrzjPfA9Z/eRFj7Dy0+7ZQeQBAm9rGJE+VJXk1h3+H1HHYwAXBiPjSSRzDBWogtWK52mKKr0RfAqAd9KCqs/NEJ5uBWhBr+HyyPBdN6rR/Lc0YvvhWvwI25YaBnjc0wxdNofsTvyLUxKSaAIxD2iAAAAAElFTkSuQmCC", 
                    t.LicenseBannerUnlicensed = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAAuCAYAAACWEqPeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAubSURBVHgB7Z1rbFPnGcf/x05CLs6FXCAJDUkIhKJkKpcRpE0Cs0v5QDbolwLqqgIjCNpNLVvR9mGDgjppatUNpK2ggSidKsH2ZTDRSdWmYiptH0BAJqi4hiQwkkBISMiVhNh7/q99jJPYji8JOM77k5wcn/dyXtv/93mf5znHxwaipH6jPQsWrIUVCw2gWB4L4UIWDHloNONDg8slDwP/hRMODKG29KijAVFgIAI8Yt9oWLDGMGCHRvOMkYngcDnxaekRx1FEQFjCp+AtCXhbNt/RFl0TIzSIh3G0+LBjTziNQhZ+/Ra73WLgE9ksgUYTezQ4h7An1BVgTOErK5+E3TKr3oFGE+u4sM/5RCbAUUdHsGpBhS+iL7Ek4m9gwKrRTB4anINYGSwADih8j+hPQ7s2mslJUPH7Fb4WvSZOCCj+UcJXPn0iLkKLXhMf1HrEP8znt4yspQJZLXpN/LBQUvC7R+4cZvHrN9s3WqwqZanRxBVOl1j9ww6H+XyYxRfR74ZGE4fwHJS64sBDgrnRuNXOXH0JNDHD0NAQ2tvb0NPVjb6+PgwMPMZUISlpmjySMD0nGzZbutqOkhJRO89FvccnXlenscZeD+3bxwQU/IPW+2i9f19ta4D8ggLMzC9AlHRIoFvKQFe5OvTtoUUfEwwMDOD61StoaW7WoveB78eVry+r9ycKssTqb+SGEr5hxRvQPHf4odbduB7thxu3jMf7YwXW8L/hOVlVD81zZxws2pSA/n75iwtgtVoRCeLuTLfwCyTQPHfutTRr0YcI3yfGPxFjwVqL/LFjHDl1p2PMOo6Wbmz/TyOq/n4Fa/51E4euPcCzJJQxhsqZli50DToRDfwg6cNOBJlL7Zi5dpPazpf/c391ALFO9vLVyF31atA6DP4jjoHE2Et6Ey9hHNl7MfgHeLyuHb+/1IIt5bk4+8MFOPCtYlzv7MM2mQjPirHGGA6/u3wP3YPRBaHd3V2YKJKyZyB5Vonabvvqc9w7eQSxTvKsUjXuYKhUb1sbIsEiafsEyd2XRvYFxMA09Q7i+K12ZQ0LUxOxIj8D6+dMV2XH6ttx8NvFKJD9hOUfVhXhNcctnG/rxZKcVL990qqyT1prtlldlIXqoky1WvA46YkW7z4TTrIz99wWmW1qyvMwL3PaqLJqaWeOj1yQcfBY1zr7vceiuAvUa0lX5YeutUqbbFV/b22Tty33sQ4xx/bZilIE42FbO8aClnuwvRW9dV+r5+mVVeDF512Xz3m3LSlpSCurRE/dZXSec4zqI3F6HqzJtmHPs5dXwyrtRrZJLavw9Cvv/eWzo44b6Fhsl7V0JYb6etBx7jQeNzUMew1sw7L2r05h8GGr2m9JTkVW1UokF5aq/kKFBiNvxgyEjYGXLIaBYowzdGNsCRZ8uPQFZdnPP+jGa2fqxbL3q3JT9L4syU3FhQc9Afvce/GuTKgB7FpYoPo8dLUVP5I+Hc1d2FExw7vv+K2Hqj4t8fm2HimbqYS3rnQ63j17R8bgPgl0TITNNmzraH6k6hNOiD0XmrA4O0WNf/ULmapfCr1LxE83jeXsb3FOmmqzZX6ejKtQPcx97M8c21iEcmJq+tLvIG1uhfd5+jeq5LHMu1244adSXiliui8uzY/9ugpsn1llV9sU/Zx3P4I1NU21mbFqvbeNrXIpZm/+JZz9vfLoQZFsU7RjHYt12I5iZ9sy6Z8Tgcxcs0kdg2U8ZvFbe2XyuI1c/trNyFn+A9Uf+00rq0Ao9MtJvQjJSsAEQAu5dX6u9/mS3DRs+3cj9tQ2i+X07w+7rbL/s3OcMBTsye/P9e7btahAJthtnPzeXO9EOiAryesyGcozknBGROdbn2P4zD5HrQzEd9Upz0zG2n/eVNZ65IrEssXS9nVZkchf6tpQI6/NXpDh7bswJXHYZOYE4YrhO7ZgjEdQ2yMWuenYH9Q2LThF/uCLwPXzVq1Df1O9t03XpXPeSTFDylpOHFEW242hrLhp2QMdK0VclIH2++JSnXL3KSsFn3OS5ayoxo33t8uq5Q5KS97cq/rsunRWWfu6j36Ox3cbvGWhEMX7NjHC3+BxAXypnp0pVvYh8lMSlFX2dS3oGtF92DAnRwmGQrclWlU/FI5yM9KGC4iThGW+wqJbQtHRZVpRkD5qDKboiW+7dDmWLckqY+gZ1afZr29/BWnBT59zcvvrZyJx9j1dLYf6esasTx+65+ZTt4KToP+EO6tNH5sBcZ7HktOt8e0/0LEYQ6RXLsP83/wZ/Xfr1cThf9OCl7z59Pvg7DNZLLwpdvM/GXgYRcYmRCh8pjgm/I4JFDIt447Kmdgu1p8B7WJxb5p7n4jY2+g2igVvUP6xe/+gWiU2lOUoC/4soGC7B/wHqtFmboLBvHS41suanIah/rEFHggKluIzoZ9tTbEpd2Oorxf3TnyiLHs40JrfeH+bmjgUO90g4pT+eLyGj3ePGkOSrAbq+OL2sF44ry2a63csLhc6Mc7QHx7JYdm3It+mrCddksU59Ol7lYX+QHxpWtwtEnzuWlSogs0a8ZtZ79DV+2jqe4JwYN/+0oxjiZftOOHMOMCEKxL78wdjmaa+wWH7miUWSU+wIFRSUlLHrEORMLCcVlii/GYzUxMpFDVdjUSP8OhnF23+hdruPPelSiny5jUUc3pFFfJefnXMPnOlDn15WvmHZ7+UMXerlcUdGBvI/Kbd7epIv4Xr35JgtkQFuJxoeS+vU31wPIwjQiExcuE3JEhwWysb4xrg0r+me1I9O8vr79oSrOo5ofgLZdt8TteG1nZD2XAXSWVUxEX6PMy8O/15BqU7z92RWCMPBbLSMNA9Vkf/vSRgO7o8OyrzVTtOPB6fY2MgHEjInKR7Lzap+sxIXX/UrwLbmvJchEqazYbOzuCvsfWLvyphMmCkkPp9siWRwKxKUrZkuX59UD1nxqjh413eYxVu+Ikq44SjJTbLgtEtGSaOkT47YSDbIXEB+2j84y5VRl+fcYFvpujOkd9ilgTMLOM4nsYWwcnOzkEkyLxrNOpr7PvkI30b4wTdE1ptWn1aT/rV8zKSsfXFvIBtlFsjmSAGgyNhP6dudyof+2fiJvm2YRmPNfL4DE7JqdsdXstPETN4ZbDqW8dk59n/qb443iZP3+b42e68rE6cUOyPKVP2Y8LjnLrTqfaznPVZN1SYk+blCqGckEkUC2oGiOMB3R0K0V+fwcowxhjdE6Yn7LJwjrWgokJdvhwusu7vN2LlW1ff/cc1fLCsaFQen2d2KchA+f14gWduedmCJjRm5ucjv6AQkeB04hWLyP8EYgDmwukyMLtDaG13St69PGNa3Iue8ETMOHzZYkrA9ylS0SsSUavO2d6usZ+WpIodzxm6DPSnbzx6rHzqdeIyMKvjm4aMZ3giq+7GDX2xWhAo+rJ58yJycYj492dKDjvsKo8/5MJJSwzc9bjaJ+CdivDD5Ieqxe+faEVPXAaO8r+y+J576fDshb4DcozQ0twkPn8LNFDX3efm5Sl30GqN4pyrgYbiPznUhVPKh+B3EJ0G9kMTM9CHZdaiaHaxSncmTjH/n683IzMThbNeUO8D34+oRE+c+NTc9F6X6bkr8kV9pwVNXOJj7Yk3alRW34lN0GjiEKcLw344Yli6xHOnKe3yaOKN/aWHhv9gxKg8oXNQ3XCnFhpNPCAujjPNfRMpX0YJX7k8VrzCBtBoJjMUvQUrS/eN/nWUwD8Msc1eYnHitA52NZMSU/QH/f8wRMBTomzAhtryayYdBmqDiZ4EvRZAiX8Ai6ADXs3kYb8zNbjoSeg/91lj32gxoO+orIlN6NpIOt73HvjBq4dJ41b7e/LvDT0BNDFCh6iYVn6fvyA2EBHfUYcrgDTmYwU0mmeMCzjjcuEEbDgajuBNor6VFLM/GMRC3orQ4O/hykowEffq0UxZOvi9cIM/4sZEy5CcY8rAiUjE7sv/ATx4NdvxItTjAAAAAElFTkSuQmCC",
                    t.ErrorImage = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQIHWP4zwAAAgEBAMVfG14AAAAASUVORK5CYII=", 
                    t.PiechartBack = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIzSURBVHgB7ZZbTsJAFIYPIPCovnJJyg7qDmAJrkB2IK4AWIG6AuoOdAXUHbADMNwSnvrIJYD/iZi00/uUsZj0S4h2OgzfzJk5Z4gyMv4p0+m0yR9STJ4kmM/ng0KhMOTPYrF4JoXkKCYsl8vl2va2SqUSe5yoxFpBLzkwIoVEFvSRm2w2m3tSSKTQBMi1Go3GhBQSKpimHBMomLYc4yt4CXKMp6CPXBIs+jntH5jge5wJugS5OnACJoUcj0dju932o4hKVZKkcHTK5fIwSql0CdbrdRMzfCP1aByp2Wz2ENQp6JAYmKn4ZalDslqtdIRUz+fzXRazv8NiWHh35zdmWJo5m6RtzB7G7ArNJup5i+IKqpJEWDtYTcctaL/ft3h7iX1DD0m1Wm177EmNN/l4PNZIglqt9oI/pr0N+7Hr1TfSKVYhiRXr258xvo6xbkhGMERyQBKcwvn1+4xtdFMsFjWSFSR/ySZJgrEcd0lIamKf2IlalDwcDq+kkCuSgCWXy6XB/2PDmyQJVuza/oyTbbn6UEpgghoiMba3IXXdInU5JFOpxQy2hphbR6Ick4ogrx7C27O3+e3lPxc8hVa8zk12u53p1V/qkMjASbhUKj1CroNHR0LG6vneDc8iiHrtuqUI6Aip7vUCwn1kAsPvi4lPMQp/G+lBqpqwHFJWL6hP4j2IlWlSfCyE9SlMjkksiB8yYnT/5FVDvmucbjShnCVR88mk4Jo8Wa/XnnkuI+PS+Qb8Ci7p1BCcFwAAAABJRU5ErkJggg==";
            }(c = i.Resources || (i.Resources = {})),
            function(t) {
                var e = function() {
                        function t() {
                            this._dict = new Object(null), this._count = 0
                        }
                        return t.prototype.add = function(t) {
                            var e = this._dict[t.id];
                            e ? e.push(t) : this._dict[t.id] = [t], this._count++
                        }, t.prototype.remove = function(t) {
                            var e = this._dict[t.id];
                            e && d.Helpers.removeFromArrayHasty(e, t), this._count--
                        }, t.prototype.contains = function(t) {
                            var e = this._dict[t.id];
                            return e && e.indexOf(t) >= 0
                        }, t.prototype.clone = function() {
                            var e = new t;
                            for (var i in this._dict) e._dict[i] = this._dict[i].slice();
                            return e._count = this._count, e
                        }, t.prototype.count = function() {
                            return this._count
                        }, t
                    }(),
                    i = function(t) {
                        function i() {
                            var i = t.apply(this, arguments) || this;
                            return i.centerX = 0, i.centerY = 0, i.zoom = 1, i.hoverNode = null, i.hoverLink = null, i.hoverItem = null, i.lastClickedNode = null, i.selection = [], i.selectionSet = new e, i.notifyChanges = !0, i.lastNotifiedSelectionSet = new e, i.autoZoomMode = !1, i.layoutActive = !1, i
                        }
                        return n(i, t), i.prototype.xyInChart = function(t, e) {
                            return t >= this.x0 && t < this.x0 + this.width && e >= this.y0 && e < this.y0 + this.height
                        }, i.prototype.toDisplay = function(t, e) {
                            return {
                                x: (t - this.centerX) * this.zoom + this.x0 + .5 * this.width,
                                y: (e - this.centerY) * this.zoom + this.y0 + .5 * this.height
                            }
                        }, i.prototype.fromDisplay = function(t, e) {
                            return {
                                x: (t - this.x0 - .5 * this.width) / this.zoom + this.centerX,
                                y: (e - this.y0 - .5 * this.height) / this.zoom + this.centerY
                            }
                        }, i.prototype.toDisplayTransform = function() {
                            return {
                                xm: this.zoom,
                                xa: this.x0 + .5 * this.width - this.centerX * this.zoom,
                                ym: this.zoom,
                                ya: this.y0 + .5 * this.height - this.centerY * this.zoom
                            }
                        }, i.prototype.objectRemoved = function(t) {
                            d.Helpers.removeFromArray(this.selection, t) && (t.selected = !1), this.hoverNode !== t && this.hoverLink !== t || this.setActiveObject(null, null)
                        }, i.prototype.addToSelection = function(t) {
                            return !this.selectionSet.contains(t) && (this.selectionSet.add(t), this.selection.push(t), t.layer.touchNodeOrLink(t), t.selected = !0, !0)
                        }, i.prototype.removeFromSelection = function(t) {
                            return !!this.selectionSet.contains(t) && (this.selectionSet.remove(t), d.Helpers.removeFromArray(this.selection, t), t.selected = !1, t.layer.touchNodeOrLink(t), !0)
                        }, i.prototype.setSelection = function(t) {
                            for (var i = this.selectionSet, n = this.selection, r = new e, s = [], a = !1, o = 0; o < t.length; o++) {
                                var l = t[o];
                                r.contains(l) || (r.add(l), s.push(l)), i.contains(l) || (i.add(l), l.selected = !0, a = !0, l.layer.touchNodeOrLink(l))
                            }
                            for (var o = 0; o < n.length; o++) {
                                var l = n[o];
                                r.contains(l) || (l.selected = !1, l.layer.touchNodeOrLink(l), a = !0)
                            }
                            return this.selectionSet = r, this.selection = s, a
                        }, i.prototype.setActiveObject = function(t, e) {
                            if (this.hoverNode) {
                                this.hoverNode.layer.touchNode(this.hoverNode);
                                for (var i = 0; i < this.hoverNode.links.length; i++) {
                                    var n = this.hoverNode.links[i];
                                    n.layer.touchLink(n)
                                }
                                this.hoverNode.hovered = !1, this.hoverNode.locks--
                            }
                            if (this.hoverLink && (this.hoverLink.layer.touchLink(this.hoverLink), this.hoverLink.from.layer.touchNode(this.hoverLink.from), this.hoverLink.to.layer.touchNode(this.hoverLink.to), this.hoverLink.hovered = !1), this.hoverNode = null, this.hoverLink = null, this.hoverItem = e, t instanceof h) {
                                this.hoverNode = t, t.hovered = !0, t.locks++, this.hoverNode.layer.touchNode(this.hoverNode);
                                for (var i = 0; i < this.hoverNode.links.length; i++) {
                                    var n = this.hoverNode.links[i];
                                    n.layer.touchLink(n)
                                }
                            } else if (t instanceof u) this.hoverLink = t, t.hovered = !0, this.hoverLink.layer.touchLink(this.hoverLink), this.hoverLink.from.layer.touchNode(this.hoverLink.from), this.hoverLink.to.layer.touchNode(this.hoverLink.to);
                            else if (null !== t) throw "scene.setActiveObject invalid active object type " + t
                        }, i.prototype.getVisibleBounds = function() {
                            var t = this.fromDisplay(this.x0, this.y0),
                                e = t.x,
                                i = t.y;
                            t = this.fromDisplay(this.x0 + this.width, this.y0 + this.height);
                            var n = t.x,
                                r = t.y;
                            return new d.Rect(e, i, n, r)
                        }, i.prototype.disableSelectionChangeNotification = function() {
                            this.notifyChanges = !1
                        }, i.prototype.enableSelectionChangeNotification = function() {
                            this.notifyChanges = !0
                        }, i.prototype.notifySelectionChangesIfNeeded = function(t, e) {
                            if (this.notifyChanges) {
                                for (var i = !1, n = 0; n < this.selection.length; n++)
                                    if (!this.lastNotifiedSelectionSet.contains(this.selection[n])) {
                                        i = !0;
                                        break
                                    }(i || this.selection.length !== this.lastNotifiedSelectionSet.count()) && (t.events.notifySceneChanges({
                                        selection: !0
                                    }), t.notifySelectionChanged(t.createEventArguments(null, e)), this.lastNotifiedSelectionSet = this.selectionSet.clone())
                            }
                        }, i
                    }(d.Scene);
                t.Scene = i;
                var r = 2 * Math.PI,
                    s = function() {
                        function t(t, e) {
                            this.node = t, this.nodesLayer = e
                        }
                        return t.prototype.postProcess = function(t, e, i) {
                            var n = this.node;
                            n.targetHWidth = n.targetHHeight, n.bounds = new d.Rect(-n.targetHHeight, -n.targetHHeight, n.targetHHeight, n.targetHHeight), this.sizeScale = n.targetHHeight / t.nodeLabelScaleBase, this.postProcessLabel(e, i)
                        }, t.prototype.postProcessLabel = function(t, e) {
                            var i, n, r, s = this.node;
                            if (null != s.label && this.nodesLayer.chart.assetsLoaded) {
                                var a = s.label.toString();
                                if (0 === a.length) this.currentLabel = null;
                                else {
                                    var o = this.currentLabel;
                                    null == o ? o = this.currentLabel = new d.Label(s.labelStyle, !0) : o.style = s.labelStyle, o.text = a, e.measure(t, o), r = o.style.scaleWithSize ? this.sizeScale : (o.style.scaleWithZoom, 1), i = 0, n = s.targetHHeight + o.hheight * r * .8, s.outerBounds.addBounds(i - o.hwidth * r, n - o.hheight * r, i + o.hwidth * r, n + o.hheight * r)
                                }
                            }
                        }, t.prototype.getAnchor = function() {
                            return {
                                x: 0,
                                y: 0
                            }
                        }, t.prototype.adaptToViewport = function(t, e, i, n, r) {
                            var s = this.node;
                            this.x = s.x * t + e, this.y = s.y * i + n, this.hWidth = s.hHeight * r, this.hHeight = s.hWidth * r, this.zoom = r
                        }, t.prototype.isInViewport = function(t, e, i, n, r) {
                            var s = this.node.outerBounds;
                            return this.x + s.x0 * r < e && this.x + s.x1 * r > t && this.y + s.y0 * r < n && this.y + s.y1 * r > i
                        }, t.prototype.paintSelection = function(t, e, i) {
                            var n = this.hWidth * (1 + e) + i;
                            t.moveTo(this.x, this.y), t.arc(this.x, this.y, n, 0, 2 * Math.PI), t.closePath()
                        }, t.prototype.paint = function(t, e, i) {
                            this.paintBasicShape(t), i && (this.image = this.nodesLayer.getNodeImage(this.node, !0), this.paintDetails(t, e))
                        }, t.prototype.paintBasicShape = function(t) {
                            var e = d.Graphics.beginStrokeAndFill(t, this.node);
                            if (this.hWidth !== this.hHeight) {
                                var i = this.x + this.hHeight - this.hWidth;
                                e.moveTo(i, this.y - this.hWidth), e.arc(i, this.y, this.hWidth, -Math.PI / 2, Math.PI / 2, !1), i = this.x - this.hHeight + this.hWidth, e.lineTo(i, this.y + this.hWidth), e.arc(i, this.y, this.hWidth, .5 * Math.PI, 1.5 * Math.PI, !1), e.closePath()
                            } else e.moveTo(this.x + this.hWidth, this.y), e.arc(this.x, this.y, this.hWidth, 0, r, !1);
                            this.applyRadialGradient(t), d.Graphics.endStrokeAndFill(t, e, this.node)
                        }, t.prototype.applyRadialGradient = function(t) {
                            var e = this.node.fillGradient;
                            if (e) {
                                var i = this.hWidth;
                                "rectangle" == this.node.display && (i *= 2);
                                for (var n = t.createRadialGradient(this.x, this.y, 0, this.x, this.y, i), r = 0; r < e.length; r++) {
                                    var s = e[r];
                                    n.addColorStop(s[0], s[1])
                                }
                                this.node.fillColor = n
                            }
                        }, t.prototype.paintDetails = function(t, e) {
                            this.image && this.basicPaintImage(t), this.paintLabel(t, e)
                        }, t.prototype.basicPaintImage = function(t, e) {
                            if (void 0 === e && (e = 1), this.image) {
                                var i, n, r = 0,
                                    s = 0;
                                if (this.node.imageSlicing) {
                                    var a = this.node.imageSlicing;
                                    r = a[0], s = a[1], i = a[2], n = a[3]
                                } else i = this.image.width, n = this.image.height;
                                d.Graphics.drawImageInSquare(t, this.image, r, s, i, n, this.x - this.hHeight + this.hWidth, this.y, this.hWidth * e)
                            }
                        }, t.prototype.paintLabel = function(t, e) {
                            var i = this.nodesLayer.style.nodeLabelScaleBase;
                            if (this.node.hovered && (i = d.Helpers.toleranceMin(i, this.hWidth, .9)), this.currentLabel) {
                                var n = this.hWidth / i,
                                    r = this.currentLabel,
                                    s = 1;
                                if (this.node.labelStyle.scaleWithSize ? s = n : this.node.labelStyle.scaleWithZoom && (s = this.zoom), e.measure(t, r), r.hheight > 1.5) {
                                    var a = this.getLabelPosition(r, s);
                                    e.paint(t, a.x, a.y, s, r)
                                }
                            }
                        }, t.prototype.getLabelPosition = function(t, e) {
                            return {
                                x: this.x,
                                y: this.y + this.hWidth + t.hheight * e * .8 + (t.style.margin || 0) * this.zoom
                            }
                        }, t.prototype.distanceToEdge = function(t, e, i, n) {
                            return t
                        }, t.prototype.hitTest = function(t, e, i, n) {
                            var r, s = this.node,
                                a = s.renderHheight * i,
                                o = s.renderHwidth * i,
                                l = s.x,
                                h = s.y;
                            if (a < o) {
                                var u = o - a;
                                r = d.Geometry.distanceToSegmentSq(l - u, h, l + u, h, t, e)
                            } else r = (t - l) * (t - l) + (e - h) * (e - h);
                            var c = (a + n) * (a + n);
                            if (r < c) {
                                var p = a * a;
                                return r < p ? 0 : Math.sqrt(r) - a
                            }
                            return n
                        }, t
                    }();
                t.Shape = s;
                var a = function(t) {
                    function e(e, i) {
                        var n = t.call(this, e, i) || this;
                        return n.validate(), n
                    }
                    return n(e, t), e.prototype.postProcess = function(t, e) {
                        var i = this.node.customShape.onUpdate.call(this.node, e, this.node.radius),
                            n = new d.Rect(i.bounds[0], i.bounds[1], i.bounds[2], i.bounds[3]);
                        this.node.targetHWidth = i.HWidth, this.node.targetHHeight = i.HHeight, this.node.bounds = n, this.node.outerBounds = n.clone(), i.anchor && (this.node.shapeAnchorX = i.anchor[0], this.node.shapeAnchorY = i.anchor[1])
                    }, e.prototype.paint = function(t, e, i) {
                        var n = this.nodesLayer.getNodeImage(this.node, !0);
                        this.node.customShape.paint.call(this.node, t, this.x, this.y, this.hWidth, this.hHeight, n, i)
                    }, e.prototype.paintSelection = function(e, i, n) {
                        this.node.customShape.paintSelection ? this.node.customShape.paintSelection.call(this.node, e, this.x, this.y, this.hWidth, this.hHeight) : t.prototype.paintSelection.call(this, e, i, n)
                    }, e.prototype.distanceToEdge = function(e, i, n, r) {
                        return "function" == typeof this.node.customShape.distanceToEdge ? this.node.customShape.distanceToEdge.call(this.node, e, i, n, r) : t.prototype.distanceToEdge.call(this, e, i, n, r)
                    }, e.prototype.hitTest = function(e, i, n, r) {
                        return "function" == typeof this.node.customShape.hitTest ? this.node.customShape.hitTest.call(this.node, e, i, n, r) : t.prototype.hitTest.call(this, e, i, n, r)
                    }, e.prototype.validate = function() {
                        var t = this.node;
                        "object" != typeof t.customShape ? d.Helpers.error('If the display of an object is "customShape", it\'s mandatory to supply the rendering methods for the custom shape') : ("function" != typeof t.customShape.onUpdate && d.Helpers.error("onUpdate function was not supplied for the custom shape"), "function" != typeof t.customShape.paint && d.Helpers.error("paint function was not supplied for the custom shape"))
                    }, e
                }(t.Shape);
                t.CustomShape = a;
                var o;
                ! function(t) {
                    t[t.Floating = 0] = "Floating", t[t.Scene = 1] = "Scene", t[t.Fixed = 2] = "Fixed"
                }(o = t.NodeAnchorMode || (t.NodeAnchorMode = {}));
                var l = function() {
                    function t() {
                        this.id = null, this.data = null, this.added = !1, this.removed = !1, this.visibility = 1, this.selected = !1, this.hovered = !1, this.dragging = !1, this.selectionLock = !1, this.cursor = null, this.invisible = !1, this.items = [], this.currentItems = null, this.label = null, this._labelStyle = null
                    }
                    return Object.defineProperty(t.prototype, "labelStyle", {
                        get: function() {
                            return this._labelStyle
                        },
                        set: function(t) {
                            null !== this._labelStyle ? (d.Helpers.warn("For performance reasons it is not recommended to set `labelStyle` to a custom object. Instead modify properties on the existing object."), d.SettingsHelper.updateRecursive(this._labelStyle, t, d.SettingsMapping.ItemsChartSettingsItemsLayerLabelStyle, {})) : this._labelStyle = t
                        },
                        enumerable: !0,
                        configurable: !0
                    }), t
                }();
                t.ItemsLayerObject = l;
                var h = function(t) {
                    function e(e, i, n) {
                        void 0 === n && (n = !1);
                        var r = t.call(this) || this;
                        return r.parentNode = null, r.data = null, r.links = [], r.dataLinks = [], r.isNode = !0, r.isLink = !1, r.aura = null, r.updateableLinks = [], r._x = null, r._y = null, r.anchorX = null, r.anchorY = null, r.shapeAnchorX = 0, r.shapeAnchorY = 0, r.targetHHeight = null, r.targetHWidth = null, r.hHeight = 0, r.hWidth = 0, r.renderHheight = 0, r.renderHwidth = 0, r.anchorMode = o.Floating, r.coordinates = null, r.coordinatesCache = null, r.coordinatesCachePrecision = 1 / 0, r.hierarchyOffset = 0, r.hierarchyLevel = -1, r.hierarchyCategory = null, r.expanded = !1, r.focused = !1, r.background = !1, r.loading = !1, r.userLock = !1, r.relevance = 1, r.display = "image", r.image = null, r.onImageLoadError = null, r.imageCropping = null, r.imageSlicing = null, r.tintImage = !1, r._anchorStyle = null, r.zindex = 0, r.opacity = 1, r.aspectRatio = 1, r.locks = 0, r.locked = null, r.fillColor = null, r.fillGradient = null, r.lineColor = null, r.lineWidth = 1, r.draggable = !0, r.layer = i, r.id = e, r
                    }
                    return n(e, t), Object.defineProperty(e.prototype, "x", {
                        get: function() {
                            return this._x
                        },
                        set: function(t) {
                            this._x = t, this.updateLinks()
                        },
                        enumerable: !0,
                        configurable: !0
                    }), Object.defineProperty(e.prototype, "y", {
                        get: function() {
                            return this._y
                        },
                        set: function(t) {
                            this._y = t, this.updateLinks()
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.updateLinks = function() {
                        for (var t = 0; t < this.updateableLinks.length; t++) this.updateableLinks[t].updateInternalVariables()
                    }, e.prototype.addUpdateableLink = function(t) {
                        this.updateableLinks.push(t)
                    }, e.prototype.removeUpdateableLink = function(t) {
                        var e = this.updateableLinks.indexOf(t);
                        e > -1 && this.updateableLinks.splice(e, 1)
                    }, Object.defineProperty(e.prototype, "anchorStyle", {
                        get: function() {
                            return this._anchorStyle
                        },
                        set: function(t) {
                            null !== this._anchorStyle ? (d.Helpers.warn("For performance reasons it is not recommended to set `anchorStyle` to a custom object. Instead modify properties on the existing object."), d.SettingsHelper.updateRecursive(this._anchorStyle, t, d.SettingsMapping.ItemsChartSettingsNodeAnchorStyle, {})) : this._anchorStyle = t
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e
                }(l);
                t.Node = h;
                var u = function(t) {
                    function e(e, i) {
                        var n = t.call(this) || this;
                        return n.definesLayout = !0, n.data = null, n._from = null, n._to = null, n.isNode = !1, n.isLink = !0, n.multiId = null, n.radius = 1, n.fillColor = null, n.lineColor = null, n.length = 1, n.strength = 1, n.dashed = !1, n.currentRadius = 0, n.background = null, n._angle = null, n.targetRadius = null, n.targetStrength = null, n.targetLength = null, n.direction = null, n.fromDecoration = null, n.toDecoration = null, n.relevance = 1, n.toPieValue = 0, n.toPieColor = null, n.toPie0 = null, n.toPie1 = null, n.currentCenterOffset = 0, n._arcAmount = 0, n.arcOffset = 0, n.orthogonalOffset = 0, n.xOffset = 0, n.yOffset = 0, n.arcFactor = 1, n.layer = i, n.id = e, n
                    }
                    return n(e, t), Object.defineProperty(e.prototype, "from", {
                        get: function() {
                            return this._from
                        },
                        set: function(t) {
                            null !== this._from && this._from.removeUpdateableLink(this), this._from = t, null !== this._from && this._from.addUpdateableLink(this), this.updateInternalVariables()
                        },
                        enumerable: !0,
                        configurable: !0
                    }), Object.defineProperty(e.prototype, "to", {
                        get: function() {
                            return this._to
                        },
                        set: function(t) {
                            null !== this._to && this._to.removeUpdateableLink(this), this._to = t, null !== this._to && this._to.addUpdateableLink(this), this.updateInternalVariables()
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.updateInternalVariables = function() {
                        null !== this._to && null !== this._from && (this.updateControlPoint(), this.updateRenderPointsAndBound(), this.updateAABBVariables())
                    }, Object.defineProperty(e.prototype, "arcAmount", {
                        get: function() {
                            return this._arcAmount * this.arcFactor
                        },
                        set: function(t) {
                            this._arcAmount = t, this.updateInternalVariables()
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.setMultilinkOffsets = function(t, e, i) {
                        this.xOffset = t, this.yOffset = e, this.arcFactor = i, this.updateInternalVariables()
                    }, e.prototype.updateRenderPointsAndBound = function() {
                        var t = this._from._x + this.xOffset,
                            e = this._from._y + this.yOffset,
                            i = this._to._x + this.xOffset,
                            n = this._to._y + this.yOffset;
                        this.renderPointsX ? (this.renderPointsX[0] = t, this.renderPointsX[1] = i) : this.renderPointsX = [t, i], this.renderPointsY ? (this.renderPointsY[0] = e, this.renderPointsY[1] = n) : this.renderPointsY = [e, n], this.renderBounds ? (this.renderBounds.x0 = Math.min(t, i, this._controlPointX), this.renderBounds.x1 = Math.max(t, i, this._controlPointX), this.renderBounds.y0 = Math.min(e, n, this._controlPointY), this.renderBounds.y1 = Math.max(e, n, this._controlPointY)) : this.renderBounds = new d.Rect(t, e, i, n)
                    }, e.prototype.isCurved = function() {
                        return 0 !== this.arcAmount
                    }, e.prototype.isOrthogonal = function() {
                        return this.orthogonalOffset > 0 && this.orthogonalOffset < 1
                    }, e.prototype.updateControlPoint = function() {
                        var t = this._from._x + this.xOffset,
                            e = this._from._y + this.yOffset;
                        if (!this.isCurved()) return this._controlPointX = t, void(this._controlPointY = e);
                        var i = this._to._x + this.xOffset,
                            n = this._to._y + this.yOffset,
                            r = (this.arcOffset + 1) / 2,
                            s = 1 - r;
                        this._controlPointX = t * r + i * s, this._controlPointY = e * r + n * s;
                        var a = t - i,
                            o = n - e,
                            l = Math.sqrt(o * o + a * a);
                        o /= l, a /= l;
                        var h = this.arcAmount,
                            u = h > 0 ? 1 : -1,
                            c = h / 2 + u * l / 16;
                        this._controlPointX += o * c, this._controlPointY += a * c
                    }, e.prototype.updateAABBVariables = function() {
                        var t = this._from._x + this.xOffset,
                            e = this._from._y + this.yOffset,
                            i = this._to._x + this.xOffset,
                            n = this._to._y + this.yOffset;
                        this.minX = Math.min(t, i, this._controlPointX), this.maxX = Math.max(t, i, this._controlPointX), this.minY = Math.min(e, n, this._controlPointY), this.maxY = Math.max(e, n, this._controlPointY), this.x = (this.minX + this.maxX) / 2, this.y = (this.minY + this.maxY) / 2, this.hWidth = Math.abs(this.minX - this.maxX) / 2, this.hHeight = Math.abs(this.minY + this.maxY) / 2
                    }, e.prototype.returnFromRemoval = function() {
                        null !== this._from && this._from.addUpdateableLink(this), null !== this._to && this._to.addUpdateableLink(this)
                    }, e.prototype.cleanupForRemoval = function() {
                        null !== this._from && this._from.removeUpdateableLink(this), null !== this._to && this._to.removeUpdateableLink(this)
                    }, e.prototype.otherEnd = function(t) {
                        return t === this.from ? this.to : t === this.to ? this.from : null
                    }, e.prototype.commonNode = function(t) {
                        return this.from === t.from || this.from === t.to ? this.from : this.to === t.from || this.to === t.to ? this.to : null
                    }, e
                }(l);
                t.Link = u;
                var p = function(t) {
                    function e(e, i) {
                        var n = t.call(this, e) || this;
                        return n.parentId = null, n.scaleNodesWithZoom = !0, n.scaleLinksWithZoom = !0, n._nodes = [], n._links = [], n._nodesDel = null, n._linksDel = null, n.idToNode = {}, n.idToLink = {}, n.lastClickedNode = null, n.newNodes = {}, n.newLinks = {}, n.modifiedNodes = {}, n.modifiedLinks = {}, n.layoutLinks = {}, n.oldLayoutLinks = {}, n.deletedNodes = {}, n.deletedLinks = {}, n.drilldownId = null, n.layerSettings = i, n.scene = e, n.clearModified(), n.styleUpdater = n.createStyleUpdater(n.layerSettings.style), n
                    }
                    return n(e, t), e.prototype.onSettingsChanged = function(t) {
                        if (t.style) {
                            this.styleUpdater = this.createStyleUpdater(this.layerSettings.style);
                            for (var e = 0, i = this.nodes(); e < i.length; e++) {
                                var n = i[e];
                                this.touchNode(n)
                            }
                            for (var r = 0, s = this.links(); r < s.length; r++) {
                                var a = s[r];
                                this.touchLink(a)
                            }
                        }
                    }, e.prototype.updateStyle = function(t) {
                        this.styleUpdater.updateLayer(t, !0)
                    }, e.prototype.postprocessStyle = function(t) {
                        this.styleUpdater.postprocessLayer(t)
                    }, e.prototype.createStyleUpdater = function(t) {
                        return null
                    }, e.prototype.paintPrepare = function(t) {}, e.prototype.paintBackground = function(t) {}, e.prototype.findObjectById = function(t) {
                        return this.idToNode.hasOwnProperty(t) ? this.idToNode[t] : this.idToLink.hasOwnProperty(t) ? this.idToLink[t] : null
                    }, e.prototype.paint = function(t) {
                        this.paintPrepare(t), this.clearModified(), this.paintBackground(t);
                        var e = this.scene.selection;
                        if (e.length > 0) {
                            for (var i = [], n = [], r = 0; r < e.length; r++) {
                                var s = e[r];
                                s.layer === this && s instanceof h && i.push(s), s.layer === this && s instanceof u && n.push(s)
                            }(i.length > 0 || n.length > 0) && this.paintSelection(t, i, n)
                        }
                        var a = this.links(),
                            o = this._makeHoveredLast(a, this.scene.hoverLink);
                        this.paintLinks(t, a), this._restoreHovered(a, o, this.scene.hoverLink);
                        var l = this.nodes(),
                            c = this._makeHoveredLast(l, this.scene.hoverNode);
                        this.paintNodes(t, l), this._restoreHovered(l, c, this.scene.hoverNode), this.paintFinish(t)
                    }, e.prototype.clearObjects = function() {
                        for (var t = 0, e = this.nodes(); t < e.length; t++) {
                            var i = e[t];
                            this.removeNode(i)
                        }
                        for (var n = 0, r = this.links(); n < r.length; n++) {
                            var s = r[n];
                            this.removeLink(s)
                        }
                    }, e.prototype.nodes = function() {
                        if (null === this._nodesDel) return this._nodes;
                        for (var t = [], e = 0; e < this._nodes.length; e++) {
                            var i = this._nodes[e];
                            this._nodesDel[i.id] || t.push(i)
                        }
                        return this._nodes = t, this._nodesDel = null, t
                    }, e.prototype.links = function() {
                        if (null === this._linksDel) return this._links;
                        for (var t = [], e = 0; e < this._links.length; e++) {
                            var i = this._links[e];
                            this._linksDel[i.id] || t.push(i)
                        }
                        return this._links = t, this._linksDel = null, t
                    }, e.prototype.addNode = function(t) {
                        this.nodes();
                        var e;
                        return this.idToNode.hasOwnProperty(t) ? (e = this.idToNode[t], e.removed = !1, e.added || (e.added = !0)) : this.deletedNodes.hasOwnProperty(t) ? (e = this.deletedNodes[t], e.removed = !1, e.added || (e.added = !0), this.idToNode[t] = e, this._nodes.push(e), delete this.deletedNodes[t]) : (e = new h(t, this), e.added = !0, this.idToNode[t] = e, this._nodes.push(e), this.newNodes[t] = e), this.modifiedNodes[t] = e, e
                    }, e.prototype.touchNodeOrLink = function(t) {
                        t instanceof h ? this.touchNode(t) : t instanceof u && this.touchLink(t)
                    }, e.prototype.touchNode = function(t) {
                        this.modifiedNodes[t.id] = t
                    }, e.prototype.removeNode = function(t) {
                        var e = t.id;
                        this.idToNode.hasOwnProperty(e) && (t === this.lastClickedNode && (this.lastClickedNode = null), this.scene.objectRemoved(t), this.newNodes.hasOwnProperty(t.id) ? this.deleteNode(t) : (t.removed || (t.removed = !0), t.added = !1, this.modifiedNodes[e] = t))
                    }, e.prototype.deleteNode = function(t) {
                        null === this._nodesDel && (this._nodesDel = {}), this._nodesDel[t.id] = !0, this.scene.objectRemoved(t), delete this.newNodes[t.id], delete this.modifiedNodes[t.id], delete this.idToNode[t.id], this.deletedNodes[t.id] = t
                    }, e.prototype.addLink = function(t, e, i) {
                        var n = this.idToNode[e],
                            r = this.idToNode[i];
                        if (!n || !r) throw new Error("Cannot add link - missing nodes");
                        var s = null;
                        return this.links(), this.idToLink.hasOwnProperty(t) ? (s = this.idToLink[t], s.removed = !1, s.added || (s.added = !0)) : this.deletedLinks.hasOwnProperty(t) ? (s = this.deletedLinks[t], delete this.deletedLinks[t], s.returnFromRemoval(), this.idToLink[t] = s, this._links.push(s), s.removed = !1, s.added || (s.added = !0)) : (s = new u(t, this), s.added = !0, this._links.push(s), this.idToLink[t] = s, this.newLinks[t] = s), s.from && s.from !== n && (d.Helpers.removeFromArrayHasty(s.from.links, s), s.from = null), s.from || (s.from = n, s.from.links.push(s), this.touchNode(s.from)), s.to && s.to !== r && (d.Helpers.removeFromArrayHasty(s.to.links, s), s.to = null), s.to || (s.to = r, s.to !== s.from && (s.to.links.push(s), this.touchNode(s.to))), s.multiId = e < i ? e + d.Helpers.SeparatorChar + i : i + d.Helpers.SeparatorChar + e, this.touchLink(s), s
                    }, e.prototype.removeLink = function(t) {
                        var e = t.id;
                        this.idToLink.hasOwnProperty(e) && (this.scene.objectRemoved(t), this.newLinks.hasOwnProperty(e) ? this.deleteLink(t) : (t.added = !1, t.removed || (t.removed = !0), this.touchLink(t)))
                    }, e.prototype.deleteLink = function(t) {
                        null === this._linksDel && (this._linksDel = {}), this._linksDel[t.id] = !0, this.scene.objectRemoved(t), this.newLinks.hasOwnProperty(t.id) ? delete this.newLinks[t.id] : (this.deletedLinks[t.id] = t, t.cleanupForRemoval()), delete this.modifiedLinks[t.id], delete this.idToLink[t.id], d.Helpers.removeFromArrayHasty(t.from.links, t), d.Helpers.removeFromArrayHasty(t.to.links, t)
                    }, e.prototype.touchLink = function(t, e) {
                        this.modifiedLinks.hasOwnProperty(t.id) && !e || (this.modifiedLinks[t.id] = t, this.oldLayoutLinks[t.id] = this.layoutLinks[t.id], this.layoutLinks[t.id] = t.definesLayout)
                    }, e.prototype.getModified = function() {
                        return {
                            this_newNodes: this.newNodes,
                            this_newLinks: this.newLinks,
                            this_modifiedNodes: this.modifiedNodes,
                            this_modifiedLinks: this.modifiedLinks,
                            this_deletedNodes: this.deletedNodes,
                            this_deletedLinks: this.deletedLinks
                        }
                    }, e.prototype.hasTopologyChanges = function() {
                        var t = this;
                        return d.Helpers.hasProperties(this.newNodes) || d.Helpers.hasProperties(this.newLinks) || d.Helpers.hasProperties(this.deletedNodes) || d.Helpers.hasProperties(this.deletedLinks) || d.Helpers.hasProperties(this.modifiedLinks) && Object.keys(this.modifiedLinks).some(function(e) {
                            return t.layoutLinks[e] !== t.oldLayoutLinks[e]
                        })
                    }, e.prototype.hasStyleChanges = function() {
                        return this.hasTopologyChanges() || d.Helpers.hasProperties(this.modifiedLinks) || d.Helpers.hasProperties(this.modifiedNodes)
                    }, e.prototype.clearModified = function() {
                        var t = this;
                        Object.keys(this.deletedLinks).forEach(function(e) {
                            var i = t.deletedLinks[e];
                            t.oldLayoutLinks[i.id] = t.layoutLinks[i.id], delete t.layoutLinks[i.id]
                        }), this.newNodes = {}, this.newLinks = {}, this.modifiedNodes = {}, this.modifiedLinks = {}, this.deletedNodes = {}, this.deletedLinks = {}
                    }, e.prototype.paintNodeDetails = function(t, e, i, n, r, s, a, o, l) {
                        var h, u, c, p = o.labelRenderer,
                            f = o.context;
                        if (t.hovered ? (u = d.Helpers.toleranceMax(s, 1, .9), c = d.Helpers.toleranceMin(a, r, .9)) : (u = s, c = a), t.currentItems)
                            for (var g = 0; g < t.currentItems.length; g++) {
                                var m = t.currentItems[g];
                                if (l) {
                                    if (m.style.zIndex >= 0) break
                                } else if (m.style.zIndex < 0) continue;
                                var v = m.style.x || 0,
                                    y = m.style.y || 0,
                                    S = m.style.px || 0,
                                    b = m.style.py || 0,
                                    x = e + n * S + v,
                                    C = i + r * b + y,
                                    w = null == m.style.scale ? 1 : m.style.scale;
                                h = m.style.scaleWithSize ? r / (m.style.hoverEffect ? c : a) : m.style.scaleWithZoom ? m.style.hoverEffect ? u : s : 1, h *= w, p.measure(f, m), m.hheight > 1.5 && p.paint(f, x, C, h, m)
                            }
                    }, e.prototype.getNodesSceneZoom = function() {
                        return this.scaleNodesWithZoom ? 1 : 1 / this.scene.zoom
                    }, e.prototype.getGeometry = function() {
                        var t = this.scene.toDisplayTransform(),
                            e = t.xm,
                            i = t.xa,
                            n = t.ym,
                            r = t.ya,
                            s = this.bounds.x0,
                            a = this.bounds.x1,
                            o = this.bounds.y0,
                            l = this.bounds.y1,
                            h = (s - i) / e,
                            u = (a - i) / e,
                            c = (o - r) / n,
                            d = (l - r) / n,
                            p = this.scaleNodesWithZoom ? this.scene.zoom : 1,
                            f = this.scaleLinksWithZoom ? this.scene.zoom : 1;
                        return {
                            txm: e,
                            txa: i,
                            tym: n,
                            tya: r,
                            zoom: p,
                            linkZoom: f,
                            x0s: s,
                            x1s: a,
                            y0s: o,
                            y1s: l,
                            x0w: h,
                            y0w: c,
                            x1w: u,
                            y1w: d
                        }
                    }, e.prototype._makeHoveredLast = function(t, e) {
                        var i = t.length;
                        if (i < 2 || !e || e === t[i - 1]) return i - 1;
                        var n = t.indexOf(e);
                        return n > -1 ? (t.splice(n, 1), t.push(e), n) : i - 1
                    }, e.prototype._restoreHovered = function(t, e, i) {
                        var n = t.length;
                        e !== n - 1 && (t.pop(), t.splice(e, 0, i))
                    }, e
                }(d.Layer);
                t.ItemsLayer = p;
                var f = function() {
                    function t() {
                        this.nameLegend = null, this.showInLegend = !0, this.legendGroupId = null
                    }
                    return t
                }();
                t.SettingsItemClass = f;
                var g = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e
                }(f);
                t.SettingsNodeClass = g;
                var m = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e
                }(f);
                t.SettingsLinkClass = m;
                var v = function() {
                    function t() {
                        this.allObjectsStyleFunction = null, this.linkStyleFunction = null, this.nodeStyleFunction = null, this.nodeRules = {}, this.linkRules = {}, this.nodeClasses = [], this.linkClasses = [], this.node = {
                            fillColor: "rgba(85, 237, 255, 1)",
                            lineColor: null,
                            lineWidth: null,
                            radius: 30,
                            aspectRatio: 1,
                            shadowColor: null,
                            lineDash: null
                        }, this.nodeAnchor = {
                            lineColor: "blue",
                            lineWidth: 1
                        }, this.link = {
                            fillColor: "rgba(185, 185, 185, 1)",
                            shadowColor: null,
                            fromDecoration: null,
                            toDecoration: null,
                            label: null,
                            radius: 1,
                            length: 1,
                            strength: 1,
                            lineDash: null,
                            toPieValue: 0,
                            toPieColor: null
                        }, this.item = {
                            align: "center",
                            aspectRatio: 4,
                            borderRadius: 1e3,
                            textStyle: {
                                fillColor: "rgba(23, 23, 23, 1)",
                                font: "12px Arial"
                            },
                            backgroundStyle: {
                                fillColor: "rgba(85, 237, 255, 1)"
                            },
                            hoverEffect: !0,
                            zIndex: 0
                        }, this.linkLabel = {
                            padding: .6,
                            margin: 0,
                            align: "center",
                            aspectRatio: 4,
                            borderRadius: 1e3,
                            lineSpacing: .2,
                            textStyle: {
                                fillColor: "rgba(23, 23, 23, 1)",
                                font: "12px Arial"
                            },
                            backgroundStyle: {
                                fillColor: "rgba(85, 237, 255, 1)",
                                lineColor: "gray"
                            },
                            scaleWithZoom: !0,
                            scaleWithSize: !1,
                            rotateWithLink: !1
                        }, this.nodeLabel = {
                            padding: 0,
                            margin: 0,
                            align: "center",
                            aspectRatio: 4,
                            borderRadius: 1e3,
                            lineSpacing: .2,
                            textStyle: {
                                fillColor: "rgba(23, 23, 23, 1)",
                                font: "12px Arial"
                            },
                            backgroundStyle: {
                                fillColor: "rgba(85, 237, 255, 1)"
                            },
                            scaleWithZoom: !1,
                            scaleWithSize: !0
                        }, this.nodeLocked = {}, this.nodeExpanded = {}, this.nodeFocused = {
                            fillColor: "rgba(225, 101, 64, 1)"
                        }, this.nodeNotLoaded = {
                            fillColor: "#fff"
                        }, this.nodeHovered = {
                            shadowOffsetX: 0,
                            shadowOffsetY: 2,
                            shadowBlur: 6,
                            shadowColor: "rgba(0,0,0,.6)"
                        }, this.linkHovered = {
                            shadowOffsetX: 0,
                            shadowOffsetY: 0,
                            shadowBlur: 2,
                            shadowColor: "blue"
                        }, this.nodeSelected = {}, this.linkSelected = {}, this.selection = {
                            enabled: !0,
                            fillColor: null,
                            lineColor: "rgba(0,0,0,0)",
                            lineWidth: 1,
                            sizeConstant: .5,
                            sizeProportional: 0,
                            shadowBlur: 8,
                            shadowOffsetX: 1,
                            shadowOffsetY: 3,
                            shadowColor: "rgba(0,0,0,0.8)"
                        }, this.removedColor = "#EEE", this.nodeBackground = {}, this.nodeDetailMinZoom = .2, this.nodeDetailMinSize = 5, this.linkDetailMinZoom = .5, this.linkDetailMinSize = 12, this.linkDecorationScale = 4, this.linkDecorationMinSize = 4, this.nodeLabelScaleBase = 30, this.linkLabelScaleBase = 1, this.scaleObjectsWithZoom = !0, this.scaleLinksWithZoom = null, this.classSplitChar = " "
                    }
                    return t
                }();
                t.SettingsItemsLayerStyle = v;
                var y = function() {
                    function t(t, e) {
                        this.layer = e, this.styleSettings = t, this.nodeClasses = d.Helpers.arrayToMap(this.styleSettings.nodeClasses, "className"), this.linkClasses = d.Helpers.arrayToMap(this.styleSettings.linkClasses, "className"), this.nodeRules = this.sortRules(this.styleSettings.nodeRules), this.styleSettings.nodeStyleFunction && this.nodeRules.unshift(this.styleSettings.nodeStyleFunction), this.linkRules = this.sortRules(this.styleSettings.linkRules), this.styleSettings.linkStyleFunction && this.linkRules.unshift(this.styleSettings.linkStyleFunction)
                    }
                    return t.getClasses = function(t, e) {
                        return t ? null == e ? [t] : t.trim().split(e) : []
                    }, t.prototype.updateLayer = function(t, e) {
                        void 0 === e && (e = !1), null == e && (e = !1), this.isIncremental = e;
                        var i = this.styleSettings,
                            n = t.changes.style || t.changes.zoom && !(!this.nodeRules.length && !this.linkRules.length);
                        if (n) {
                            this.isIncremental = !1;
                            for (var r = 0, s = this.layer.nodes(); r < s.length; r++) this.layer.touchNode(s[r]);
                            for (var a = 0, o = this.layer.links(); a < o.length; a++) this.layer.touchLink(o[a])
                        }
                        var l = this.layer.modifiedNodes;
                        for (var h in l) {
                            var u = l[h];
                            if (this.updateNode(u), e)
                                for (var a = 0; a < u.links.length; a++) this.layer.touchLink(u.links[a])
                        }
                        var c = this.layer.modifiedLinks;
                        for (var h in c) {
                            var p = c[h];
                            this.updateLink(p)
                        }
                        if (i.allObjectsStyleFunction && (t.changes.zoom || this.layer.hasStyleChanges())) {
                            var f = this.layer.nodes(),
                                g = this.layer.links(),
                                m = i.allObjectsStyleFunction(f, g),
                                v = g,
                                y = f;
                            m && (v = m.modifiedLinks, y = m.modifiedNodes);
                            for (var S = 0; S < y.length; S += 1) this.layer.touchNode(y[S]);
                            for (var S = 0; S < v.length; S += 1) this.layer.touchLink(v[S])
                        }
                        if (this.nodeRules.length > 0) {
                            l = this.layer.modifiedNodes;
                            for (var h in l) {
                                var u = l[h];
                                this.applyStyleRules(u, this.nodeRules)
                            }
                        }
                        if (this.linkRules.length > 0 && d.Helpers.hasProperties(this.layer.modifiedLinks)) {
                            c = this.layer.modifiedLinks;
                            for (var h in c) {
                                var p = c[h];
                                this.applyStyleRules(p, this.linkRules), this.layer.touchLink(p, !0)
                            }
                        }
                    }, t.prototype.postprocessLayer = function(t) {
                        var e = this.layer.modifiedNodes;
                        for (var i in e) {
                            var n = e[i];
                            this.postprocessNode(n)
                        }
                        var r = this.layer.modifiedLinks;
                        for (var i in r) {
                            var s = r[i];
                            this.postprocessLink(s)
                        }
                    }, t.prototype.postprocessItems = function(t) {
                        for (var e = t.currentItems, i = t instanceof h ? d.SettingsMapping.ItemsChartSettingsNodeItem : d.SettingsMapping.ItemsChartSettingsLinkItem, n = this.styleSettings.item, r = 0; r < t.items.length; r++) {
                            var s = t.items[r],
                                a = new d.Label(n);
                            d.SettingsHelper.updateRecursive(a.style, s, i, {}, "items[" + r + "]"), e.push(a)
                        }
                    }, t.prototype.sortRules = function(t) {
                        var e = [];
                        for (var i in t) e.push(i);
                        e.sort();
                        for (var n = [], r = 0; r < e.length; r++) {
                            var i = e[r];
                            n.push(t[i])
                        }
                        return n
                    }, t.prototype.updateNode = function(t) {
                        var e = this.styleSettings,
                            i = t.hovered;
                        if (t.radius || (t.radius = 10), t.label = null, d.Helpers.extendStyleTo(e.node, t), t._labelStyle = d.Helpers.realClone(e.nodeLabel), t._anchorStyle = d.Helpers.realClone(e.nodeAnchor), t.userLock && d.Helpers.extendStyleTo(e.nodeLocked, t), t.expanded && d.Helpers.extendStyleTo(e.nodeExpanded, t), t.focused && d.Helpers.extendStyleTo(e.nodeFocused, t), t.background && d.Helpers.extendStyleTo(e.nodeBackground, t), t.data.loaded || d.Helpers.extendStyleTo(e.nodeNotLoaded, t), t.data && (t.data.error && (t.label = t.data.error, t.fillColor = "red"), t.data.style && d.Helpers.extendStyleTo(t.data.style, t), t.data.className))
                            for (var n = this.getClassSequence(t.data.className, this.nodeClasses, !t.removed), r = 0; r < n.length; r++) {
                                var s = n[r];
                                d.Helpers.extendStyleTo(this.styleSettings.nodeClasses[s].style, t)
                            }
                        t.removed && (t.fillColor = e.removedColor), t.selected && d.Helpers.extendStyleTo(e.nodeSelected, t), i && d.Helpers.extendStyleTo(e.nodeHovered, t)
                    }, t.prototype.updateLink = function(t) {
                        var e = this.styleSettings;
                        t.label = null, t._labelStyle = d.Helpers.realClone(e.linkLabel), t.radius = 1, d.Helpers.extendStyleTo(e.link, t);
                        var i = t.hovered || t.from.hovered || t.to.hovered;
                        if (t.data.style && d.Helpers.extendStyleTo(t.data.style, t),
                            t.data.className)
                            for (var n = this.getClassSequence(t.data.className, this.linkClasses, !t.removed), r = 0; r < n.length; r++) {
                                var s = n[r];
                                d.Helpers.extendStyleTo(e.linkClasses[s].style, t)
                            }
                        t.selected && d.Helpers.extendStyleTo(e.linkSelected, t), i && (d.Helpers.extendStyleTo(e.linkHovered, t), t.from.hovered && (t.toPieColor = t.fillColor)), t.removed && (t.fillColor = e.removedColor)
                    }, t.prototype.applyStyleRules = function(t, e) {
                        for (var i = 0; i < e.length; i++) {
                            var n = e[i];
                            n(t)
                        }
                    }, t.prototype.getClassSequence = function(e, i, n) {
                        for (var r = t.getClasses(e, this.styleSettings.classSplitChar), s = [], a = 0; a < r.length; a++) {
                            var o = r[a],
                                l = i[o];
                            l ? s.push(l.index) : n && d.Helpers.error("Unable to apply item style: class `" + o + "` undefined. Check if classSplitChar setting has been set correctly.")
                        }
                        return s.sort(function(t, e) {
                            return t - e
                        })
                    }, t
                }();
                t.ItemsStyle = y;
                var S = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.data = [], e.info = {
                            enabled: !1,
                            nodeContentsFunction: null,
                            linkContentsFunction: null
                        }, e.interaction = new x, e.nodeMenu = new W, e.linkMenu = new G, e.advanced = new L, e.style = {}, e
                    }
                    return n(e, t), e.prototype.apply = function(e) {
                        return this.applyCompatibility(e, [{
                            from: "style.makeImagesCircular",
                            to: "style.node.imageCropping"
                        }, {
                            from: "style.nodeDecorationMinSize",
                            alternative: "style.nodeDetailMinSize"
                        }, {
                            from: "style.nodeLabelMinSize",
                            to: "style.nodeDetailMinSize"
                        }, {
                            from: "style.nodeRules",
                            alternative: "style.nodeStyleFunction",
                            alternativeAsWarning: !0
                        }, {
                            from: "style.linkRules",
                            alternative: "style.linkStyleFunction",
                            alternativeAsWarning: !0
                        }]), t.prototype.apply.call(this, e)
                    }, e
                }(d.Settings);
                t.Settings = S;
                var b = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.cacheSize = 1e4, e.random = null, e.randomGridLinkProbability = .6, e.randomNodes = 0, e.randomLinks = 0, e.randomTreeDensity = 3, e.requestMaxUnits = 2, e
                    }
                    return n(e, t), e
                }(d.SettingsData);
                t.SettingsData = b;
                var x = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.nodesMovable = !0, e.zooming = new w, e.panning = {
                            enabled: !0
                        }, e.selection = new C, e
                    }
                    return n(e, t), e
                }(d.SettingsInteraction);
                t.SettingsInteraction = x;
                var C = function() {
                    function t() {
                        this.enabled = !0, this.nodesSelectable = !0, this.linksSelectable = !0, this.lockNodesOnMove = !0, this.allowMoveNodesOffscreen = !0, this.tolerance = 10
                    }
                    return t
                }();
                t.SettingsInteractionSelection = C;
                var w = function() {
                    function t() {
                        this.zoomInOnDoubleClick = !0, this.autoZoomAfterClick = !1, this.doubleClickZoom = 1.5, this.sensitivity = 1, this.wheel = !0, this.fingers = !0, this.fingersOverrideDrag = !1
                    }
                    return t
                }();
                t.SettingsInteractionZooming = w;
                var L = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.perNodeLoadingIndicator = !0, e.useLeafletInteractionContainer = !0, e
                    }
                    return n(e, t), e
                }(d.SettingsAdvanced);
                t.SettingsAdvanced = L;
                var T = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e
                }(s);
                t.ImageShape = T;
                var M = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.leftOffset = 0, e
                    }
                    return n(e, t), e.prototype.postProcessLabel = function(t, e) {
                        if (this.nodesLayer.chart.assetsLoaded) {
                            var i = this.node.targetHHeight,
                                n = this.currentLabel;
                            null == n ? n = this.currentLabel = new d.Label(this.node.labelStyle, !0) : n.style = this.node.labelStyle, n.text = this.node.label.toString(), n.style.backgroundStyle = null, n.style.image = null, e.measure(t, n);
                            var r = n.hwidth,
                                s = n.hheight,
                                a = r / s * i;
                            this.node.image && (a += i), this.node.targetHWidth = Math.max(a, i), this.node.bounds.x0 = -this.node.targetHWidth, this.node.bounds.x1 = this.node.targetHWidth
                        }
                    }, e.prototype.distanceToEdge = function(t, e, i, n) {
                        return d.Geometry.distanceToBalloon(t, e, i, n)
                    }, e.prototype.paintSelection = function(t, e, i) {
                        var n = this.node.renderHheight * (1 + e) + i,
                            r = this.node.renderHwidth - this.node.renderHheight + n,
                            s = this.x,
                            a = this.y,
                            o = s + r - n;
                        t.moveTo(o, a - n), t.arc(o, a, n, -Math.PI / 2, Math.PI / 2, !1), o = s - r + n, t.lineTo(o, a + n), t.arc(o, a, n, Math.PI / 2, -Math.PI / 2, !1), t.closePath()
                    }, e.prototype.paintDetails = function(t, e) {
                        var i = this.currentLabel;
                        if (i) {
                            if (this.hWidth > 2) {
                                if (e.measure(t, i), this._computeScale(), this.image) {
                                    var n = this.image,
                                        r = this.x - this.hHeight,
                                        s = this.y - this.imSize / 2;
                                    if (this.node.imageSlicing) {
                                        var a = this.node.imageSlicing;
                                        d.Graphics.drawImageHighQuality(t, n, a[0], a[1], a[2], a[3], r, s, this.imSize, this.imSize)
                                    } else d.Graphics.drawImageHighQuality(t, n, 0, 0, n.width, n.height, r, s, this.imSize, this.imSize)
                                }
                                e.paint(t, this.x + this.leftOffset, this.y, this.scale, i), d.Graphics.clearShadow(t)
                            }
                        } else this.basicPaintImage(t)
                    }, e.prototype._computeScale = function() {
                        this.scale = this.hWidth / this.currentLabel.hheight, this.image && (this.leftOffset = this.hWidth, this.imSize = 2 * this.hWidth)
                    }, e
                }(s);
                t.TextShape = M;
                var k = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e.prototype.postProcessLabel = function(t, e) {
                        if (this.nodesLayer.chart.assetsLoaded) {
                            var i = this.node.labelStyle;
                            if (i) {
                                i.backgroundStyle.fillColor = "transparent";
                                var n = this.currentLabel;
                                null == n ? n = this.currentLabel = new d.Label(i, !0) : n.style = this.node.labelStyle, n.text = this.node.label.toString(), n.style.aspectRatio = 1, n.style.image = null
                            }
                        }
                    }, e.prototype.distanceToEdge = function(t, e, i, n) {
                        return s.prototype.distanceToEdge.call(this, t, e, i, n)
                    }, e.prototype._computeScale = function() {
                        var t = Math.sqrt(this.currentLabel.hwidth * this.currentLabel.hwidth + this.currentLabel.hheight * this.currentLabel.hheight);
                        if (this.image) {
                            var e = this.currentLabel.lineHeight + 2 * this.currentLabel.hwidth,
                                i = (e * e + this.currentLabel.hheight * this.currentLabel.hheight) / 2 / e;
                            i > t && (this.leftOffset = i - t, t = i)
                        }
                        this.scale = this.hWidth / t, this.image && (this.imSize = this.currentLabel.lineHeight * this.scale)
                    }, e
                }(M);
                t.RoundTextShape = k;
                var P = {
                        a0x: 0,
                        a0y: -1,
                        a1x: .556548642145067,
                        a1y: -1,
                        a2x: 1,
                        a2y: -.5534547954623581,
                        b0x: 1,
                        b0y: 0,
                        b1x: 1,
                        b1y: .808869027157099,
                        b2x: 0,
                        b2y: 1.2870402200068753,
                        apexX: 0,
                        apexY: 1.878652526641458,
                        imageRadius: .6170212765957447
                    },
                    A = [P.a0x, P.a0y, P.a1x, P.a1y, P.a2x, P.a2y, P.b0x, P.b0y, P.b1x, P.b1y, P.b2x, P.b2y, P.apexX, P.apexY],
                    I = d.Helpers.reversePolyline(d.Geometry.transformPolyline(A, -1, 0, 1, 0)),
                    D = [0, -1, .7095605708093294, -.7046444467621514, 1, 0, 1, 0, .4313896533498214, .9021657092700437, 1, 0],
                    N = d.Helpers.reversePolyline(d.Geometry.transformPolyline(D, -1, 0, 1, 0)),
                    O = function(t) {
                        function e() {
                            return t.apply(this, arguments) || this
                        }
                        return n(e, t), e.prototype.postProcess = function(e, i, n) {
                            t.prototype.postProcess.call(this, e, i, n), this.node.bounds.addBounds(0, 0, 0, this.node.targetHHeight * P.apexY), this.node.shapeAnchorX = 0, this.node.shapeAnchorY = this.node.radius * P.apexY
                        }, e.prototype.getAnchor = function() {
                            return {
                                x: 0,
                                y: this.hWidth * P.apexY
                            }
                        }, e.prototype.adaptToViewport = function(e, i, n, r, s) {
                            t.prototype.adaptToViewport.call(this, e, i, n, r, s), this.controlPoints = d.Geometry.transformPolyline(A, this.hWidth, this.x, this.hHeight, this.y), this.reverseControlPoints = d.Geometry.transformPolyline(I, this.hWidth, this.x, this.hHeight, this.y)
                        }, e.prototype.paintSelection = function(t, e, i) {
                            var n = this.hWidth * e + i,
                                r = d.Geometry.outlinePolylineByVectors(this.controlPoints, D, n),
                                s = d.Geometry.outlinePolylineByVectors(this.reverseControlPoints, N, n);
                            t.moveTo.apply(t, r.slice(0, 2)), t.bezierCurveTo.apply(t, r.slice(2, 8)), t.bezierCurveTo.apply(t, r.slice(8, 14)), t.arc(this.controlPoints[12], this.controlPoints[13], n, 0, Math.PI, !1), t.bezierCurveTo.apply(t, s.slice(2, 8)), t.bezierCurveTo.apply(t, s.slice(8, 14)), t.closePath()
                        }, e.prototype.paintBasicShape = function(t) {
                            var e = d.Graphics.beginStrokeAndFill(t, this.node);
                            e.beginPath(), e.moveTo.apply(e, this.controlPoints.slice(0, 2)), e.bezierCurveTo.apply(e, this.controlPoints.slice(2, 8)), e.bezierCurveTo.apply(e, this.controlPoints.slice(8, 14)), e.bezierCurveTo.apply(e, this.reverseControlPoints.slice(2, 8)), e.bezierCurveTo.apply(e, this.reverseControlPoints.slice(8, 14)), e.closePath(), d.Graphics.endStrokeAndFill(t, e, this.node)
                        }, e.prototype.paintDetails = function(t, e) {
                            this.image && this.basicPaintImage(t, P.imageRadius), this.paintLabel(t, e)
                        }, e.prototype.getLabelPosition = function(t, e) {
                            return {
                                x: this.x,
                                y: this.y - this.hWidth - t.hheight * e * 1.1
                            }
                        }, e.prototype.distanceToEdge = function(t, e, i, n) {
                            var r = e,
                                s = t * P.apexY,
                                a = d.Geometry.rayIntersectsSegment(0, 0, i, n, 0, s, r, 0),
                                o = d.Geometry.rayIntersectsSegment(0, 0, i, n, -r, 0, 0, s),
                                l = Math.min(a, o);
                            return l < 1 / 0 ? l : t
                        }, e
                    }(s);
                t.DropletShape = O;
                var F = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e.prototype.calcHalf = function(t, e) {
                        return this.node.aspectRatio > 1 ? {
                            hWidth: t,
                            hHeight: t / this.node.aspectRatio
                        } : {
                            hWidth: e * this.node.aspectRatio,
                            hHeight: e
                        }
                    }, e.prototype.render = function(t, e, i) {
                        var n = this.calcHalf(this.hWidth, this.hHeight),
                            r = n.hHeight,
                            s = n.hWidth;
                        r = r * (1 + e) + i, s = s * (1 + e) + i, t.moveTo(this.x, this.y), t.moveTo(this.x - s, this.y - r), t.lineTo(this.x + s, this.y - r), t.lineTo(this.x + s, this.y + r), t.lineTo(this.x - s, this.y + r), t.lineTo(this.x - s, this.y - r), t.lineTo(this.x + s, this.y - r)
                    }, e.prototype.paint = function(t, e, i) {
                        this.paintBasicShape(t), i && (this.image = this.nodesLayer.getNodeImage(this.node, !1), this.paintDetails(t, e))
                    }, e.prototype.paintBasicShape = function(t) {
                        var e = d.Graphics.beginStrokeAndFill(t, this.node);
                        this.render(e, 0, 0), this.applyRadialGradient(t), d.Graphics.endStrokeAndFill(t, e, this.node)
                    }, e.prototype.basicPaintImage = function(t, e) {
                        if (void 0 === e && (e = 1), this.image) {
                            var i, n, r, s, a, o, l, h;
                            if (this.node.imageSlicing) {
                                var u = this.node.imageSlicing;
                                i = u[0], n = u[1], r = u[2], s = u[3]
                            } else i = 0, n = 0, r = this.image.width, s = this.image.height;
                            var c = this.calcHalf(this.hWidth, this.hHeight),
                                p = c.hHeight,
                                f = c.hWidth;
                            switch (this.node.imageCropping) {
                                case !0:
                                    a = this.x - f, o = this.y - p, l = 2 * f, h = 2 * p;
                                    break;
                                case "crop":
                                    if (a = this.x - f, o = this.y - p, l = 2 * f, h = 2 * p, s * this.node.aspectRatio <= r) {
                                        var g = s * this.node.aspectRatio;
                                        i += (r - g) / 2, r = g
                                    } else {
                                        var m = r / this.node.aspectRatio;
                                        n += (s - m) / 2, s = m
                                    }
                                    break;
                                case "letterbox":
                                case "fit":
                                    var v = Math.min(2 * p / s, 2 * f / r);
                                    h = s * v, l = r * v, a = this.x - l / 2, o = this.y - h / 2;
                                    break;
                                default:
                                    var y = 2 * Math.max(f, p),
                                        S = Math.min(y / s, y / r);
                                    h = s * S, l = r * S, a = this.x - l / 2, o = this.y - h / 2
                            }
                            d.Graphics.drawImageHighQuality(t, this.image, i, n, r, s, a, o, l, h)
                        }
                    }, e.prototype.paintSelection = function(t, e, i) {
                        this.render(t, e, i), t.closePath()
                    }, e.prototype.distanceToEdge = function(t, e, i, n) {
                        var r = this.calcHalf(t, e);
                        return Math.min(r.hHeight / Math.abs(n), r.hWidth / Math.abs(i))
                    }, e.prototype.hitTest = function(t, e, i, n) {
                        var r = this.node,
                            s = this.calcHalf(r.renderHwidth * i, r.renderHheight * i),
                            a = Math.max(Math.abs(t - r.x) - s.hWidth, Math.abs(e - r.y) - s.hHeight);
                        return a < 0 ? 0 : Math.min(a, n)
                    }, e
                }(s);
                t.RectangleShape = F;
                var E = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e.prototype.calcHalf = function(t, e) {
                        return {
                            hWidth: t,
                            hHeight: e
                        }
                    }, e.prototype.render = function(t, e, i) {
                        var n = this.calcHalf(this.hWidth, this.hHeight),
                            r = n.hHeight,
                            s = n.hWidth;
                        r = r * (1 + e) + i, s = s * (1 + e) + i, t.moveTo(this.x, this.y), t.moveTo(this.x, this.y - r), t.lineTo(this.x + s, this.y), t.lineTo(this.x, this.y + r), t.lineTo(this.x - s, this.y), t.lineTo(this.x, this.y - r), t.lineTo(this.x + s, this.y)
                    }, e.prototype.paint = function(t, e, i) {
                        this.paintBasicShape(t), i && (this.image = this.nodesLayer.getNodeImage(this.node, !1), this.paintDetails(t, e))
                    }, e.prototype.paintBasicShape = function(t) {
                        var e = d.Graphics.beginStrokeAndFill(t, this.node);
                        this.render(e, 0, 0), this.applyRadialGradient(t), d.Graphics.endStrokeAndFill(t, e, this.node)
                    }, e.prototype.paintSelection = function(t, e, i) {
                        this.render(t, e, i), t.closePath()
                    }, e.prototype.basicPaintImage = function(t, e) {
                        if (void 0 === e && (e = 1), this.image) {
                            var i, n, r, s, a, o, l, h;
                            if (this.node.imageSlicing) {
                                var u = this.node.imageSlicing;
                                i = u[0], n = u[1], r = u[2], s = u[3]
                            } else i = 0, n = 0, r = this.image.width, s = this.image.height;
                            var c = this.calcHalf(this.hWidth, this.hHeight),
                                p = c.hHeight,
                                f = c.hWidth;
                            switch (this.node.imageCropping) {
                                case !0:
                                    a = this.x - f, o = this.y - p, l = 2 * f, h = 2 * p;
                                    break;
                                case "crop":
                                    if (a = this.x - f, o = this.y - p, l = 2 * f, h = 2 * p, s * this.node.aspectRatio <= r) {
                                        var g = s * this.node.aspectRatio;
                                        i += (r - g) / 2, r = g
                                    } else {
                                        var m = r / this.node.aspectRatio;
                                        n += (s - m) / 2, s = m
                                    }
                                    break;
                                case "letterbox":
                                case "fit":
                                    var v = this.getDestinationMultiplier(r, s, f, p);
                                    h = s * v * .5, l = r * v * .5, a = this.x - l / 2, o = this.y - h / 2;
                                    break;
                                default:
                                    var y = 2 * Math.max(f, p),
                                        S = Math.min(y / s, y / r);
                                    h = s * S, l = r * S, a = this.x - l / 2, o = this.y - h / 2
                            }
                            "crop" === this.node.imageCropping && this.shapePushClip(t), d.Graphics.drawImageHighQuality(t, this.image, i, n, r, s, a, o, l, h), "crop" === this.node.imageCropping && this.shapePopClip(t)
                        }
                    }, e.prototype.shapePushClip = function(t) {
                        t.save(), t.beginPath(), this.render(t, 0, 0), t.closePath(), t.clip()
                    }, e.prototype.shapePopClip = function(t) {
                        t.restore()
                    }, e.prototype.getDestinationMultiplier = function(t, e, i, n) {
                        var r = 0,
                            s = 0,
                            a = 0,
                            o = 0;
                        if (e === t) r = s = (i / 2 + n / 2) / 2;
                        else if (e > t || e < t) {
                            r = n / 2, s = i / 2;
                            var l = "diamond" === this.node.display && e < t ? 2 : .5;
                            o = s * l, a = r * l
                        }
                        return Math.min((n + 2 * r + a) / e, (i + 2 * s + o) / t)
                    }, e.prototype.distanceToEdge = function(t, e, i, n) {
                        var r = this.calcHalf(t, e),
                            s = d.Geometry.rayIntersectsSegment(0, 0, i, n, 0, -r.hHeight, r.hWidth, 0),
                            a = d.Geometry.rayIntersectsSegment(0, 0, i, n, r.hWidth, 0, 0, r.hHeight),
                            o = d.Geometry.rayIntersectsSegment(0, 0, i, n, 0, r.hHeight, -r.hWidth, 0),
                            l = d.Geometry.rayIntersectsSegment(0, 0, i, n, -r.hWidth, 0, 0, -r.hHeight),
                            h = Math.min(s, a);
                        return h = Math.min(h, o), h = Math.min(h, l), h < 1 / 0 ? h : t
                    }, e.prototype.hitTest = function(t, e, i, n) {
                        var r = this.node,
                            s = this.calcHalf(r.renderHwidth, r.renderHheight),
                            a = s.hWidth * i,
                            o = s.hHeight * i,
                            l = r.x,
                            h = r.y,
                            u = [
                                [l, h - o, l + a, h, l + a, h, l, h + o, l, h + o, l - a, h, l - a, h, l, h - o]
                            ],
                            c = d.Geometry.distanceToPolygonSq(t, e, u);
                        return c < 1 / 0 ? c : Math.min(c, n)
                    }, e
                }(s);
                t.RhombusShape = E;
                var H = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e.prototype.calcHalf = function(t, e) {
                        return this.node.aspectRatio > 1 ? {
                            hWidth: t,
                            hHeight: t / this.node.aspectRatio
                        } : {
                            hWidth: e * this.node.aspectRatio,
                            hHeight: e
                        }
                    }, e
                }(E);
                t.DiamondShape = H;
                var R = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.multilinkSpacing = 10, e.multilinkAutoCurve = 1, e.nodeRadiusExtent = [10, 150], e.linkRadiusExtent = [.6, 30], e.linkStrengthExtent = [.1, 1], e.linkLengthExtent = [.3, 150], e.nodeAutoScaling = null, e.linkAutoScaling = null, e.linkStrengthAutoScaling = null, e.linkLengthAutoScaling = null, e.hiddenLinks = {
                            lineColor: "rgba(100,100,100,0.3)",
                            lineWidth: 1,
                            size: 7
                        }, e.fadeTime = 600, e.selfLinkHeightFactor = 1, e.selfLinkWidthFactor = 1, e.selfLinkShape = "quadratic", e.selfLinkAngle = 60, e
                    }
                    return n(e, t), e
                }(v);
                t.SettingsNodesLayerStyle = R;
                var z = function(t) {
                    function e(e, i, n) {
                        var r = t.call(this, e, i) || this;
                        return r.g = null, r.fadeout = n, r.styleSettings = e, r
                    }
                    return n(e, t), e.prototype.updateLayer = function(e, i) {
                        void 0 === i && (i = !1), this.nodeRadiusChanged = d.Helpers.hasProperties(this.layer.newNodes) || d.Helpers.hasProperties(this.layer.deletedNodes) || this.styleSettings.allObjectsStyleFunction && this.layer.hasStyleChanges() || this.nodeRules.length > 0, this.linkRadiusChanged = d.Helpers.hasProperties(this.layer.newLinks) || d.Helpers.hasProperties(this.layer.deletedLinks) || this.styleSettings.allObjectsStyleFunction && this.layer.hasStyleChanges() || this.linkRules.length > 0, t.prototype.updateLayer.call(this, e, i)
                    }, e.prototype.setItemRenderer = function(t) {
                        this.itemRenderer = t
                    }, e.prototype.setContext = function(t) {
                        this.g = t
                    }, e.prototype.postprocessLayer = function(t) {
                        this.g = t.context;
                        var e = this.layer,
                            i = this.styleSettings.removedColor;
                        this.setItemRenderer(t.labelRenderer);
                        for (var n in e.modifiedLinks) {
                            var r = e.modifiedLinks[n];
                            this.fadeout && r.relevance < 1 && (r.fillColor && (r.fillColor = d.Colors.blend(i, r.fillColor, r.relevance)), r.lineColor && (r.lineColor = d.Colors.blend(i, r.lineColor, r.relevance)), r.length = .2 + (r.length - .2) * r.relevance), this.postprocessLink(r)
                        }
                        for (var s in e.modifiedNodes) {
                            var a = e.modifiedNodes[s];
                            this.fadeout && a.relevance < 1 && (a.fillColor && (a.fillGradient || (a.fillColor = d.Colors.blend(i, a.fillColor, a.relevance))), a.lineColor && (a.lineColor = d.Colors.blend(i, a.lineColor, a.relevance)))
                        }
                        var o = this.layer.nodes();
                        if (this.nodeRadiusChanged || this.fadeout && t.changes.navigation) {
                            this.computeNodeSize(o, this.styleSettings.nodeAutoScaling, this.styleSettings.nodeRadiusExtent);
                            for (var l = 0; l < o.length; l++) {
                                var h = o[l];
                                this.postprocessNode(h)
                            }
                        } else
                            for (var u in e.modifiedNodes) {
                                var c = e.modifiedNodes[u];
                                this.postprocessNode(c)
                            }
                        if (this.linkRadiusChanged || t.changes.navigation) {
                            var p = e.links();
                            this.computeRadii(p, this.styleSettings.linkAutoScaling, this.styleSettings.linkRadiusExtent), this.computeStrengths(p, this.styleSettings.linkStrengthAutoScaling, this.styleSettings.linkStrengthExtent), this.computeLengths(p, this.styleSettings.linkLengthAutoScaling, this.styleSettings.linkLengthExtent), d.Helpers.sort(p, function(t, e) {
                                return t.targetRadius === e.targetRadius ? 0 : t.targetRadius > e.targetRadius ? 1 : -1
                            })
                        }
                        d.Helpers.sort(o, function(t, e) {
                            return t.zindex - e.zindex
                        })
                    }, e.prototype.updateLink = function(e) {
                        var i = e.radius;
                        t.prototype.updateLink.call(this, e), i !== e.radius && (this.linkRadiusChanged = !0)
                    }, e.prototype.updateNode = function(e) {
                        var i = e.radius;
                        t.prototype.updateNode.call(this, e), i !== e.radius && (this.nodeRadiusChanged = !0), null == e.label && e.data && (e.label = e.data.id)
                    }, e.prototype.computeNodeSize = function(t, e, i) {
                        var n = i[0],
                            r = i[1];
                        if ("linear" === e || "logarithmic" === e || "square" === e) {
                            for (var s = 1 / 0, a = -(1 / 0), o = 0; o < t.length; o++) {
                                var l = t[o];
                                if (!l.removed && !l.invisible) {
                                    var h = l.radius;
                                    d.Helpers.isNumber(h) ? (s = Math.min(s, h), a = Math.max(a, h)) : l.targetHHeight = n
                                }
                            }
                            if (s >= a)
                                for (var o = 0; o < t.length; o++) {
                                    var l = t[o];
                                    l.removed || (l.targetHHeight = r)
                                } else if ("linear" === e)
                                    for (var u = r / a, o = 0; o < t.length; o++) {
                                        var l = t[o];
                                        if (!l.removed) {
                                            var h = l.radius;
                                            d.Helpers.isNumber(h) && (l.targetHHeight = Math.max(n, h * u))
                                        }
                                    } else if ("square" === e)
                                        for (var u = r / Math.sqrt(a), o = 0; o < t.length; o++) {
                                            var l = t[o];
                                            if (!l.removed) {
                                                var h = l.radius;
                                                d.Helpers.isNumber(h) && (l.targetHHeight = Math.max(n, Math.sqrt(h) * u))
                                            }
                                        } else {
                                            s = Math.max(1e-4, s), a = Math.max(s + 1e-4, a);
                                            for (var u = r / Math.log(a), o = 0; o < t.length; o++) {
                                                var l = t[o];
                                                !l.removed && d.Helpers.isNumber(l.radius) && (l.targetHHeight = Math.max(n, Math.log(Math.max(1e-4, l.radius)) * u))
                                            }
                                        }
                        } else
                            for (var o = 0; o < t.length; o++) {
                                var l = t[o];
                                l.removed || (d.Helpers.isNumber(l.radius) ? l.targetHHeight = Math.min(Math.max(1e-6, l.radius), 1e30) : l.targetHHeight = n)
                            }
                        if (this.fadeout)
                            for (var o = 0; o < t.length; o++) {
                                var l = t[o];
                                l.relevance < 1 && (l.targetHHeight = l.targetHHeight * l.relevance)
                            }
                    }, e.prototype.computeRadii = function(t, e, i) {
                        var n = i[0],
                            r = i[1];
                        if ("linear" === e || "logarithmic" === e || "square" === e) {
                            for (var s = 1 / 0, a = -(1 / 0), o = 0; o < t.length; o++) {
                                var l = t[o];
                                if (!l.removed) {
                                    var h = l.radius;
                                    d.Helpers.isNumber(h) ? (s = Math.min(s, h), a = Math.max(a, h)) : l.targetRadius = n
                                }
                            }
                            if (s >= a)
                                for (var o = 0; o < t.length; o++) {
                                    var l = t[o];
                                    l.removed || (l.targetRadius = n)
                                } else if ("linear" === e)
                                    for (var u = r / a, o = 0; o < t.length; o++) {
                                        var l = t[o];
                                        if (!l.removed) {
                                            var h = l.radius;
                                            d.Helpers.isNumber(h) && (l.targetRadius = Math.max(n, h * u))
                                        }
                                    } else if ("square" === e)
                                        for (var u = r / Math.sqrt(a), o = 0; o < t.length; o++) {
                                            var l = t[o];
                                            if (!l.removed) {
                                                var h = l.radius;
                                                d.Helpers.isNumber(h) && (l.targetRadius = Math.max(n, Math.sqrt(h) * u))
                                            }
                                        } else {
                                            s = Math.max(1e-4, s), a = Math.max(s + 1e-4, a);
                                            for (var u = r / Math.log(a), o = 0; o < t.length; o++) {
                                                var l = t[o];
                                                !l.removed && d.Helpers.isNumber(l.radius) && (l.targetRadius = Math.max(n, Math.log(Math.max(1e-4, l.radius)) * u))
                                            }
                                        }
                        } else
                            for (var o = 0; o < t.length; o++) {
                                var l = t[o];
                                l.removed || (d.Helpers.isNumber(l.radius) ? l.targetRadius = Math.min(Math.max(1e-6, l.radius), 1e30) : l.targetRadius = n)
                            }
                        if (this.fadeout)
                            for (var o = 0; o < t.length; o++) {
                                var l = t[o];
                                l.relevance < 1 && (l.targetRadius = l.targetRadius * l.relevance)
                            }
                    }, e.prototype.computeStrengths = function(t, e, i) {
                        var n = i[0],
                            r = i[1];
                        if ("linear" === e || "logarithmic" === e || "square" === e) {
                            for (var s = 1 / 0, a = -(1 / 0), o = 0; o < t.length; o++) {
                                var l = t[o];
                                l.removed || (s = Math.min(s, l.strength), a = Math.max(a, l.strength))
                            }
                            if (s >= a)
                                for (var o = 0; o < t.length; o++) {
                                    var l = t[o];
                                    l.removed || (l.targetStrength = n)
                                } else if ("linear" === e)
                                    for (var h = r / a, o = 0; o < t.length; o++) {
                                        var l = t[o];
                                        l.removed || (l.targetStrength = Math.min(n, l.strength * h))
                                    } else if ("square" === e)
                                        for (var h = r / Math.sqrt(a), o = 0; o < t.length; o++) {
                                            var l = t[o];
                                            if (!l.removed) {
                                                var u = l.strength;
                                                d.Helpers.isNumber(u) && (l.targetStrength = Math.max(n, Math.sqrt(u) * h))
                                            }
                                        } else {
                                            s = Math.max(1e-4, s), a = Math.max(s + 1e-4, a);
                                            for (var h = r / Math.log(a), o = 0; o < t.length; o++) {
                                                var l = t[o];
                                                l.removed || (l.targetStrength = Math.max(n, Math.log(Math.max(1e-4, l.strength)) * h))
                                            }
                                        }
                        } else
                            for (var o = 0; o < t.length; o++) {
                                var l = t[o];
                                l.removed || (l.targetStrength = Math.min(Math.max(n, l.strength), r))
                            }
                    }, e.prototype.computeLengths = function(t, e, i) {
                        var n = i[0],
                            r = i[1];
                        if ("linear" === e || "logarithmic" === e || "square" === e) {
                            for (var s = 1 / 0, a = -(1 / 0), o = 0; o < t.length; o++) {
                                var l = t[o];
                                l.removed || (s = Math.min(s, l.length), a = Math.max(a, l.length))
                            }
                            if (s >= a)
                                for (var o = 0; o < t.length; o++) {
                                    var l = t[o];
                                    l.removed || (l.targetLength = n)
                                } else if ("linear" === e)
                                    for (var h = (r - n) / (a - s), u = r - a * h, o = 0; o < t.length; o++) {
                                        var l = t[o];
                                        l.removed || (l.targetLength = l.length * h + u)
                                    } else if ("square" === e)
                                        for (var h = r / Math.sqrt(a), o = 0; o < t.length; o++) {
                                            var l = t[o];
                                            if (!l.removed) {
                                                var c = l.length;
                                                d.Helpers.isNumber(c) && (l.targetLength = Math.max(n, Math.sqrt(c) * h))
                                            }
                                        } else {
                                            s = Math.max(1e-4, s), a = Math.max(s + 1e-4, a);
                                            for (var h = (r - n) / Math.log(a / s), u = r - h * Math.log(a), o = 0; o < t.length; o++) {
                                                var l = t[o];
                                                l.removed || (l.targetLength = Math.log(Math.max(1e-4, l.length)) * h + u)
                                            }
                                        }
                        } else
                            for (var o = 0; o < t.length; o++) {
                                var l = t[o];
                                l.removed || (l.targetLength = Math.min(Math.max(n, l.length), r))
                            }
                    }, e.prototype.postprocessNode = function(t) {
                        var e;
                        switch (t.display) {
                            case "customShape":
                                e = a;
                                break;
                            case "roundtext":
                                e = k;
                                break;
                            case "text":
                                e = M;
                                break;
                            case "droplet":
                                e = O;
                                break;
                            case "rectangle":
                                e = F;
                                break;
                            case "rhombus":
                                e = E;
                                break;
                            case "diamond":
                                e = H;
                                break;
                            default:
                                e = T
                        }
                        t.shape && t.shape.constructor === e || (t.shape && (t.shape.node = null), t.shape = new e(t, this.layer));
                        var i = t.outerBounds = d.Rect.createEmpty();
                        t.shape.postProcess(this.styleSettings, this.g, this.itemRenderer), i.addRect(t.bounds), t.currentItems = [], this.postprocessItems(t);
                        for (var n = t.targetHWidth, r = t.targetHHeight, s = 0; s < t.currentItems.length; s++) {
                            var o = t.currentItems[s];
                            this.measureCustomItem(n, r, t.shape.sizeScale, o, i)
                        }
                    }, e.prototype.measureCustomItem = function(t, e, i, n, r) {
                        this.itemRenderer.measure(this.g, n);
                        var s = 1;
                        n.style.scaleWithSize && (s = i);
                        var a = n.style.x || 0,
                            o = n.style.y || 0,
                            l = n.style.px || 0,
                            h = n.style.py || 0,
                            u = t * l + a,
                            c = e * h + o;
                        r.addBounds(u - n.hwidth * s, c - n.hheight * s, u + n.hwidth * s, c + n.hheight * s)
                    }, e.prototype.postprocessLink = function(t) {
                        var e = [];
                        if (t.label) {
                            var i = void 0;
                            t.currentItems && t.currentItems.length ? (i = t.currentItems[0], i.style = t.labelStyle) : i = new d.Label(t.labelStyle), i.text = t.label.toString(), i.style.px = 0, i.style.py = 0, e.push(i)
                        }
                        t.currentItems = e, this.postprocessItems(t)
                    }, e
                }(y);
                t.NodesStyle = z;
                var B = function() {
                    function t() {
                        this.className = null, this.text = null, this.title = null, this.onInit = null, this.onRefresh = null, this.onClick = null
                    }
                    return t
                }();
                t.SettingsMenuButton = B;
                var U = function() {
                    function t() {
                        this.enabled = !0, this.showData = !1, this.contentsFunction = null, this.buttons = []
                    }
                    return t
                }();
                t.SettingsMenu = U;
                var W = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.position = "outside", e.contentsFunction = null, e.buttons = [], e
                    }
                    return n(e, t), e
                }(U);
                t.SettingsNodeMenu = W;
                var G = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.contentsFunction = null, e
                    }
                    return n(e, t), e
                }(U);
                t.SettingsLinkMenu = G;
                var V = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 600, i.paintOrder = 40, i.updateOrder = 2e3, i.node = null, i.link = null, i.contents = null, i.x = 0, i.y = 0, i.chart = e, i.container = e.shell.menuContainer, i.scene = e.scene, i.events = e.events, i.buttons = [], i.popup = d.Helpers.createDom("bmch-div", "BMCH-Menu", null, i.container), i.closeButton = d.Helpers.createDom("bmch-a", "BMCH-Menu-close", null, i.popup), i.popupValue = d.Helpers.createDom("bmch-div", "BMCH-Menu-title", null, i.popup), i.detailsDiv = d.Helpers.createDom("bmch-div", "BMCH-Menu-details", null, i.popup), i.popupActions = d.Helpers.createDom("bmch-nav", null, null, i.popup), i.buildDetailsPanel(i.detailsDiv), i.buildCloseButton(i.closeButton), i.popup.style.position = "absolute", i.popup.style.display = "none", i
                    }
                    return n(e, t), e.prototype.remove = function() {
                        this.popup.parentNode && this.popup.parentNode.removeChild(this.popup)
                    }, e.prototype.doAnimations = function(t) {
                        (this.node || this.link) && (this.node && this.node.removed || this.link && this.link.removed ? this.hideMenu() : (this.node && this.node.layer.modifiedNodes.hasOwnProperty(this.node.id) || this.link && this.link.layer.modifiedLinks.hasOwnProperty(this.link.id)) && this.updateMenu())
                    }, e.prototype.previewPointerDown = function(t) {
                        this.hideMenu()
                    }, e.prototype.previewWheel = function(t) {
                        this.hideMenu()
                    }, e.prototype.toggleNodeMenu = function(t, e, i) {
                        this.x = t, this.y = e, this.node === i ? this.hideMenu() : this.showNodeMenu(i)
                    }, e.prototype.toggleLinkMenu = function(t, e, i) {
                        this.link === i ? this.hideMenu() : this.showLinkMenu(t, e, i)
                    }, e.prototype.showNodeMenu = function(t) {
                        this.scene.settings.nodeMenu.enabled && (this.node === t ? this.updateMenu() : (this.hideMenu(), this.showPopup(t, null)))
                    }, e.prototype.showLinkMenu = function(t, e, i) {
                        this.scene.settings.linkMenu.enabled && (this.x = t, this.y = e, this.link === i ? this.updateMenu() : (this.hideMenu(), this.showPopup(null, i)))
                    }, e.prototype.showPopup = function(t, e) {
                        this.node = t, this.link = e, this.node && (this.node.locks += 1), this.buildButtons(), this.contents = null, d.Helpers.clearHtmlChildren(this.popupValue), this.popup.style.display = "block", this.updateMenu(), this.updateXY()
                    }, e.prototype.hideMenu = function() {
                        (this.node || this.link) && (this.node && (this.node.locks -= 1), this.node = null, this.link = null, this.popup.style.display = "none")
                    }, e.prototype.updateMenu = function() {
                        var t = this;
                        this.closeButton.title = this.scene.settings.localization.closeButton;
                        var e, i;
                        this.node ? (e = this.scene.settings.nodeMenu, i = this.node) : (e = this.scene.settings.linkMenu, i = this.link);
                        var n = null,
                            r = this.node,
                            s = this.link,
                            a = function(e) {
                                if (t.node === r && t.link === s && e !== t.contents) {
                                    if (null == e) d.Helpers.clearHtmlChildren(t.popupValue);
                                    else if (d.Helpers.isString(e)) d.Helpers.addStrictHtml(t.popupValue, e, t.chart.settings.advanced.strictEscaping);
                                    else {
                                        if (!d.Helpers.isDomObject(e)) return void d.Helpers.error("Invalid value for menu text. Must be either a string or a DOM element.");
                                        d.Helpers.clearHtmlChildren(t.popupValue), t.popupValue.appendChild(e)
                                    }
                                    t.contents = e
                                }
                            };
                        if (e.contentsFunction) {
                            var o = e.contentsFunction.call(this.chart.api, i.data, i, a);
                            n = d.Helpers.isString(o) || d.Helpers.isDomObject(o) ? o : null == this.contents ? "<bmch-small>" + this.scene.settings.localization.loadingLabel + "</bmch-small>" : this.contents
                        } else n = i.label;
                        if (a(n), this.updateButtons(), e.showData) {
                            var l = JSON.stringify(i.data, null, "  ");
                            d.Helpers.addStrictHtml(this.details, l, this.chart.settings.advanced.strictEscaping), this.detailsDiv.style.display = "block"
                        } else this.detailsDiv.style.display = "none", null == n && 0 === this.buttons.length && this.hideMenu()
                    }, e.prototype.updateXY = function() {
                        var t, e, i, n, r, s, a = 12;
                        if (this.node) {
                            var o = this.scene.toDisplay(this.node.x, this.node.y);
                            switch (r = o.x, s = o.y, this.scene.settings.nodeMenu.position) {
                                case "pointer":
                                    t = n = s = this.y, e = this.x - a, i = this.x + a;
                                    break;
                                case "center":
                                    t = s, n = s, e = r, i = r;
                                    break;
                                default:
                                case "outside":
                                    t = s - this.node.renderHheight - a, n = s + this.node.renderHheight + a, e = r - this.node.renderHheight - a, i = r + this.node.renderHheight + a
                            }
                        } else t = n = s = this.y, e = this.x - a, i = this.x + a;
                        var l = this.chart.getRootChart().scene,
                            h = l.x0,
                            u = l.x0 + l.width,
                            c = this.popup.style.transform ? d.Helpers.extractCSSTransformScale(this.popup.style.transform, 1, 1) : [1, 1],
                            p = this.popup.offsetWidth * c[0],
                            f = this.popup.offsetHeight * c[1];
                        s = Math.max(Math.min(s, l.y0 + l.height - f), l.y0), i + p <= u ? r = i : e - p >= h ? r = e - p : (r = Math.max(e - p / 2, h), s = n), this.popup.style.left = r + "px", this.popup.style.top = s + "px"
                    }, e.prototype.buildDefaultButton = function(t, e) {
                        this.chart.error("The menu does not support any named buttons.")
                    }, e.prototype.buildButton = function(t, e, i, n, r, s, a) {
                        var o = this,
                            l = document.createElement("bmch-a");
                        null !== e && (l.className = e), null !== i && (d.Helpers.isString(i) ? d.Helpers.addStrictHtml(l, i, this.chart.settings.advanced.strictEscaping) : d.Helpers.isDomObject(i) && l.appendChild(i)), null !== this.popupActions && this.popupActions.appendChild(l);
                        var h = l;
                        h.title = n, h.onclick = function(e) {
                            s && s.call(o.chart.api, t, h), o.hideMenu(), e.preventDefault()
                        }, h.href = "#", r && r.call(this.chart.api, t, h), this.buttons.push({
                            e: h,
                            t: t,
                            a: a
                        })
                    }, e.prototype.buildButtons = function() {
                        d.Helpers.clearHtmlChildren(this.popupActions), this.buttons = [];
                        var t, e;
                        this.node ? (t = this.scene.settings.nodeMenu, e = this.node) : (t = this.scene.settings.linkMenu, e = this.link);
                        var i = t.buttons;
                        if (i)
                            for (var n = 0; n < i.length; n++) {
                                var r = i[n];
                                if (d.Helpers.isString(r)) this.buildDefaultButton(e, r);
                                else {
                                    var s = null != r.title ? r.title : d.Helpers.isDomObject(r.text) ? r.text.innerText : r.text;
                                    this.buildButton(e, r.className, r.text, s, r.onInit, r.onClick, r.onRefresh)
                                }
                            }
                    }, e.prototype.updateButtons = function() {
                        for (var t = 0; t < this.buttons.length; t++) {
                            var e = this.buttons[t];
                            e.a && e.a.call(this.chart.api, e.t, e.e)
                        }
                    }, e.prototype.buildCloseButton = function(t) {
                        var e = this;
                        t.onclick = function(t) {
                            e.hideMenu(), t.preventDefault()
                        }
                    }, e.prototype.buildDetailsPanel = function(t) {
                        var e = d.Helpers.createDom("bmch-small", null, "Technical data", t),
                            i = this.details = d.Helpers.createDom("bmch-pre", null, "", t);
                        i.style.display = "none", e.onclick = function() {
                            "none" === i.style.display ? i.style.display = "block" : i.style.display = "none"
                        }
                    }, e
                }(d.ChartElement);
                t.Menu = V;
                var Y = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 800, i.paintOrder = 45, i.updateOrder = 2e3, i.chart = e, i.scene = e.scene, i.options = i.scene.settings, i.item = null, i.x = null, i.y = null, i.popup = new d.InfoPopup(e), i
                    }
                    return n(e, t), e.prototype.previewPointerMove = function(t) {
                        this.onMove(t.x, t.y)
                    }, e.prototype.doAnimations = function(t) {
                        null !== this.x && null !== this.y && this.onMove(this.x, this.y)
                    }, e.prototype.previewPointerDown = function(t) {
                        this.x = this.y = null, this.setCurrentObject(0, 0, null)
                    }, e.prototype.previewPointerDrag = function(t) {
                        this.x = this.y = null, this.setCurrentObject(0, 0, null)
                    }, e.prototype.onPointerOut = function(t) {
                        this.x = this.y = null, this.setCurrentObject(0, 0, null)
                    }, e.prototype.onMove = function(t, e) {
                        if (this.y = e, this.x = t, this.options.info.enabled) {
                            var i = this.scene.hoverNode ? this.scene.hoverNode : this.scene.hoverLink;
                            this.setCurrentObject(t, e, i)
                        }
                    }, e.prototype.setCurrentObject = function(t, e, i) {
                        if (i) {
                            if (i !== this.item) {
                                var n = this.buildContents(i);
                                this.popup.show(t, t, e, n)
                            } else this.popup.updateXY(t, t, e);
                            this.item = i
                        } else this.item = null, this.popup.hide()
                    }, e.prototype.buildContents = function(t) {
                        var e = this,
                            i = null;
                        if (t instanceof h ? i = this.options.info.nodeContentsFunction : t instanceof u && (i = this.options.info.linkContentsFunction), i) {
                            var n = function(i) {
                                t === e.item && e.popup.updateContents(i)
                            };
                            return i.call(this.chart.api, t.data, t, n)
                        }
                        return t.label
                    }, e.prototype.remove = function() {
                        this.popup.remove()
                    }, e
                }(d.ChartElement);
                t.InfoPopup = Y;
                var j = "undefined" != typeof Float32Array,
                    _ = function() {
                        function t() {
                            this._calculatedStyles = {}, this._defaultStyles = {}, this.enabled = !0, this.drawLimit = .8, this.cellSize = 3, this.intensity = 6, this.style = {}, this.defaultStyle = null, this.defaultColors = ["rgba(225, 101, 64, 0.3)", "rgba(189, 82, 206, 0.3)", "rgba(255, 197, 72, 0.3)", "rgba(30, 249, 209, 0.3)", "rgba(82, 94, 206, 0.3)", "rgba(240, 75, 105, 0.3)", "rgba(189, 224, 91, 0.3)", "rgba(28,124,213,0.3)", "rgba(86,185,247,0.3)", "rgba(10,232,235,0.3)"], this.overlap = !1
                        }
                        return t
                    }();
                t.SettingsNodesLayerAuras = _;
                var Z = function() {
                    function t(t, e, i) {
                        this._marginCells = 1, this._polygons = [], this._autoAuraCounter = 0, this._overlapWarning = !0, this._auraCounter = 0, this._settings = i, this._scene = t, this._events = e
                    }
                    return t.prototype.recalculateStyles = function(t) {
                        var e = this._settings,
                            i = Object.keys(e.style);
                        e._calculatedStyles = {};
                        for (var n = 0; n < i.length; n++) {
                            var r = i[n],
                                s = d.Helpers.realClone(this._settings._defaultStyles[r]);
                            e.defaultStyle && d.Helpers.extendStyleTo(e.defaultStyle, s), e.style[r] && d.Helpers.extendStyleTo(e.style[r], s), e._calculatedStyles[r] = s, s.__auraCounter = this._auraCounter++
                        }
                        i = Object.keys(t).filter(function(t) {
                            return e._calculatedStyles[t].enabled
                        }), i.sort(function(t, i) {
                            var n = e._calculatedStyles[t].zIndex - e._calculatedStyles[i].zIndex;
                            return 0 === n ? t.localeCompare(i) : n
                        }), this._auras = new Array(i.length + 1), this._aurasMap = Object.create(null), this._aurasMap[""] = 0;
                        for (var n = 0; n < i.length; n++) {
                            var a = i[n];
                            this._aurasMap[a] = n + 1, this._auras[n + 1] = e._calculatedStyles[a]
                        }
                        this._events.notifySceneChanges({
                            auras: !0
                        })
                    }, t.prototype.recalculateGrid = function() {
                        var t = this._scene,
                            e = this._settings;
                        this._overlapWarning = e.overlap;
                        for (var i = t.x0 + t.width, n = t.y0 + t.height, r = this._marginCells, s = e.cellSize, a = this._widthCells = Math.ceil(i / s) + 2 * r, o = this._heightCells = Math.ceil(n / s) + 2 * r, l = this._cellLength = this._auras.length, h = a * o * l, u = this._cells = j ? new Float32Array(h) : new Array(h), c = this._cellEdges = j ? new Int8Array(h) : new Array(h), d = a * l, p = 0; p < h; p++) c[p] = -1;
                        if (!j)
                            for (var f = 0; f < u.length; f++) u[f] = 0;
                        var g = [-d, -d + l, +l, +d + l, +d, +d - l, -l, -d - l, -d, -d + l, +l, +d + l, +d, +d - l, -l, -d - l];
                        this._edgeFinderDeltas = j ? new Int16Array(g) : g
                    }, t.prototype.doAnimations = function(t, e) {
                        if (this._settings.enabled && t) {
                            for (var i = !1, n = {}, r = 0; r < t.length; r++) {
                                var s = t[r].aura;
                                if (s) {
                                    Array.isArray(s) ? !this._overlapWarning && s.length > 1 && (d.Helpers.warn("One or more nodes defined more than one aura. It is recommended to set `overlap: true` in the chart configuration to better handle this scenario."),
                                        this._overlapWarning = !0) : s = [s];
                                    for (var a = 0; a < s.length; a++) {
                                        var o = "" + (s[a] || "");
                                        "" !== o && (i = !0, n[o] = !0, this.ensureAura(o))
                                    }
                                }
                            }
                            for (var r in this._settings.style) d.Helpers.hasProperty(this._settings.style, r) && this.ensureAura(r);
                            var l, h = e.changes,
                                u = h.settingsChanges,
                                c = !1;
                            if (!this._auras || u && u.auras) l = !0;
                            else if (i) {
                                for (var p = Object.keys(n), f = 0, g = this._settings._calculatedStyles, r = 0; r < p.length; r++) {
                                    var m = p[r];
                                    if (null == g[m]) {
                                        l = !0;
                                        break
                                    }
                                    g[m].enabled && f++
                                }
                                l = l || this._auras.length - 1 !== f
                            }
                            if (l ? (this.recalculateStyles(n), c = !0) : h.bounds && (c = !0), !i || this._auras.length < 2) return void(this._polygons.length > 0 && (this._polygons = []));
                            c && this.recalculateGrid(), this.reset(), this.stage1(t), this.stage2(), this.stage3()
                        }
                    }, t.prototype.ensureAura = function(t) {
                        if (this._settings.style[t] || (this._settings.style[t] = {}), !this._settings._defaultStyles[t]) {
                            var e = this._settings.defaultColors;
                            e && e.length || (e = ["rgba(47,195,47,0.3)"]), this._autoAuraCounter = (this._autoAuraCounter + 1) % e.length, this._settings._defaultStyles[t] = {
                                lineWidth: 1,
                                showInLegend: !0,
                                enabled: !0,
                                zIndex: 0,
                                fillColor: e[this._autoAuraCounter]
                            }
                        }
                    }, t.prototype.reset = function() {
                        for (var t = this._cellEdges, e = 0; e < t.length; e++) t[e] = -1;
                        for (var i = this._cells, e = 0; e < i.length; e++) i[e] = 0;
                        this._polygons = new Array(this._auras.length);
                        for (var e = 0; e < this._polygons.length; e++) this._polygons[e] = []
                    }, t.prototype.stage1 = function(t) {
                        for (var e = this._scene, i = e.zoom, n = this._settings, r = n.cellSize, s = this._marginCells, a = this._widthCells, o = this._heightCells, l = this._cells, h = this._cellLength, u = this._aurasMap, c = n.intensity, p = e.centerX * e.zoom % r, f = e.centerY * e.zoom % r, g = 0; g < t.length; g++) {
                            var m = t[g],
                                v = e.toDisplay(m.x, m.y),
                                y = (v.x + p) / r + s,
                                S = (v.y + f) / r + s,
                                b = d.Helpers.trunc(y),
                                x = d.Helpers.trunc(S),
                                C = y - b,
                                w = S - x,
                                L = t[g].aura;
                            if (L) {
                                Array.isArray(L) || (L = [L]);
                                for (var T = 0; T < L.length; T++) {
                                    var M = "" + (L[T] || ""),
                                        k = u[M];
                                    if (void 0 !== k && this._auras[k].enabled) {
                                        var P = Math.min((m.hHeight * i + 5) / r, a, o),
                                            A = P * c + 1,
                                            I = 2 * A;
                                        if (y > -I && y < a + I && S > -I && S < o + I) {
                                            var D = P / 2,
                                                N = Math.ceil(A);
                                            A -= D;
                                            for (var O = -N; O < N; O++)
                                                if (!(y + O < s || y + O >= a - s))
                                                    for (var F = C - O, E = -N; E < N; E++)
                                                        if (!(S + E < s || S + E >= o - s)) {
                                                            var H = w - E,
                                                                R = Math.sqrt(F * F + H * H) - D;
                                                            if (R < A) {
                                                                R = R <= 0 ? 1 : 1 - R / A;
                                                                var z = k + (x + E) * a * h + (b + O) * h;
                                                                l[z] = l[z] + R - l[z] * R
                                                            }
                                                        }
                                        }
                                    }
                                }
                            }
                        }
                    }, t.prototype.stage2 = function() {
                        var t = this._cellLength;
                        if (1 !== t && !this._settings.overlap)
                            for (var e = this._cells, i = 0; i < e.length; i += t)
                                for (var n = i, r = e[i], s = 1; s < t; s++) {
                                    var a = e[i + s];
                                    a > r ? (r = a, e[n] = 0, n = i + s) : a > 0 && (e[i + s] = 0)
                                }
                    }, t.prototype.stage3FindEdge = function(t, e) {
                        var i = this._cells,
                            n = this._cellEdges,
                            r = this._settings,
                            s = r.drawLimit,
                            a = this._edgeFinderDeltas,
                            o = [e],
                            l = e,
                            h = 2,
                            u = 0,
                            c = 0,
                            p = r.overlap,
                            f = 0,
                            g = 0;
                        do {
                            for (var m = n[l], v = void 0, y = (h + 5) % 8, S = y, b = !1; S < y + 8; S++)
                                if (m !== S && (v = l + a[S], i[v] >= s)) {
                                    b = !0;
                                    break
                                } if (!b) {
                                l !== e && d.Helpers.warn("Edge finder stuck");
                                break
                            }
                            if (S %= 8, (h !== S || ++f > 5) && (0 === u && (u = 7 === S ? 7 : 1, c = 7 === S ? 6 : 2), (!p || h !== (S + u) % 8 && h !== (S + c) % 8) && o.push(l), f = 0), m === -1 && (n[l] = S), h = S, l = v, ++g > 1e4) {
                                d.Helpers.warn("Edge finder run into a loop");
                                break
                            }
                        } while (l !== e);
                        o[o.length - 1] !== e && o.push(e), t.push(o)
                    }, t.prototype.stage3 = function() {
                        for (var t = this._cellLength, e = this._widthCells * t, i = this._cells, n = this._cellEdges, r = this._settings, s = r.drawLimit, a = e - t, o = this._polygons, l = 0, h = i.length - t, u = 0; u < h; u++) {
                            var c = i[u];
                            if (u % e >= a || c < s) {
                                var p = u + t;
                                if (i[p] >= s && n[p] < 0 && (this.stage3FindEdge(o[p % t], p), ++l > 1e4)) {
                                    d.Helpers.warn("Edge finder found too many polygons");
                                    break
                                }
                            }
                        }
                    }, t.prototype.paintPolygons = function(t) {
                        if (this._settings.enabled) {
                            var e = t.context;
                            e.save();
                            for (var i = this._settings, n = i.cellSize, r = this._marginCells, s = r * n - n / 2, a = this._cellLength, o = this._widthCells, l = this._auras, h = this._polygons, u = this._scene, c = -u.centerX * u.zoom % n, p = -u.centerY * u.zoom % n, f = 1; f < h.length; f++) {
                                for (var g = h[f], m = l[f], v = d.Graphics.beginStrokeAndFill(e, m), y = 0; y < g.length; y++) {
                                    var S = g[y],
                                        b = d.Helpers.trunc(S[0] / a),
                                        x = b % o * n - s + c,
                                        C = d.Helpers.trunc(b / o) * n - s + p,
                                        w = d.Helpers.trunc(S[1] / a),
                                        L = w % o * n - s + c,
                                        T = d.Helpers.trunc(w / o) * n - s + p;
                                    v.moveTo((x + L) / 2, (T + C) / 2);
                                    for (var M = 2; M < S.length; M++) {
                                        w = d.Helpers.trunc(S[M] / a);
                                        var k = w % o * n - s + c,
                                            P = d.Helpers.trunc(w / o) * n - s + p;
                                        v.quadraticCurveTo(L, T, (k + L) / 2, (P + T) / 2), L = k, T = P
                                    }
                                    w = d.Helpers.trunc(S[1] / a);
                                    var A = w % o * n - s + c,
                                        I = d.Helpers.trunc(w / o) * n - s + p;
                                    v.quadraticCurveTo(L, T, (A + L) / 2, (I + T) / 2), v.closePath()
                                }
                                d.Graphics.endStrokeAndFill(e, v, m)
                            }
                            d.Graphics.restore(e)
                        }
                    }, t
                }();
                t.NodesLayerAuras = Z;
                var q = function(e) {
                    function i(t, i, n) {
                        var r = e.call(this, t.scene, i) || this;
                        r.useFindObjectHack = !1, r.chart = t, r.imageCache = {}, r.imageLoading = {}, r.multilinks = {}, r.useFadeout = n, r.styleUpdater = r.createStyleUpdater(i.style), r.events = t.events, r.layerSettings = i;
                        var s = i.style;
                        return r.style = s, r.scaleNodesWithZoom = s.scaleObjectsWithZoom, r.scaleLinksWithZoom = null == s.scaleLinksWithZoom ? s.scaleObjectsWithZoom : s.scaleLinksWithZoom, r._auras = new Z(t.scene, t.events, i.auras), r
                    }
                    return n(i, e), i.prototype.createStyleUpdater = function(t) {
                        return null == this.useFadeout ? null : new z(t, this, this.useFadeout)
                    }, i.prototype.updateStyle = function(t) {
                        var e = !t.changes.newGraph;
                        this.styleUpdater.updateLayer(t, e)
                    }, i.prototype.postprocessStyle = function(t) {
                        e.prototype.postprocessStyle.call(this, t), this.animateSize(t)
                    }, i.prototype.animateSize = function(t) {
                        var e = t.timeStamp,
                            i = t.changes.newGraph,
                            n = t.dtime,
                            r = !1,
                            s = !1,
                            a = this.style.fadeTime;
                        i = i || !(a > 0) || n > a;
                        var o = [],
                            l = [];
                        if (i) {
                            for (var h = 0, u = this.nodes(); h < u.length; h++) {
                                var c = u[h];
                                c.removed ? (c.visibility = 0, o.push(c)) : c.targetHWidth !== c.hWidth && (c.added = !1, c.visibility = 1, c.hHeight = c.targetHHeight, c.hWidth = c.targetHWidth)
                            }
                            for (var d = 0, p = this.links(); d < p.length; d++) {
                                var f = p[d];
                                f.removed ? (f.visibility = 0, l.push(f)) : f.targetRadius !== f.currentRadius && (f.added = !1, f.visibility = 1, f.currentRadius = f.targetRadius)
                            }
                        } else {
                            for (var g = a > 0 ? Math.max(0, Math.pow(.2, n / a)) : 0, m = .01, h = 0, u = this.nodes(); h < u.length; h++) {
                                var c = u[h];
                                if (c.added === !0 && (c.added = e), c.added + a < e && (c.added = !1), c.removed === !0 && (c.removed = e), c.removed) r = !0, c.visibility = g, c.hHeight = c.hHeight * g, c.hWidth = c.hWidth * g, e - c.removed < a ? c.visibility = 1 - (e - c.removed) / a : o.push(c);
                                else {
                                    e - c.added < a ? (c.visibility = (e - c.added) / a, r = !0) : c.visibility = 1;
                                    var v = c.targetHHeight,
                                        y = c.hHeight,
                                        S = c.targetHWidth,
                                        b = c.hWidth;
                                    v === y && S === b || (s || (Math.abs(v - y) / Math.max(v, y) >= .5 || Math.abs(S - b) / Math.max(S, b) >= .5) && (s = !0), r = !0, c.hHeight = y * g + v * (1 - g), c.hWidth = b * g + S * (1 - g), Math.abs(c.hHeight - v) < m * v && (c.hHeight = v, c.hWidth = S))
                                }
                            }
                            for (var d = 0, p = this.links(); d < p.length; d++) {
                                var f = p[d];
                                f.added === !0 && (f.added = e), f.added + a < e && (f.added = !1), f.removed === !0 && (f.removed = e), f.removed ? (r = !0, f.currentRadius = f.currentRadius * g, e - f.removed < a ? f.visibility = 1 - (e - f.removed) / a : l.push(f)) : (e - f.added < a && !f.invisible ? (f.visibility = (e - f.added) / a, r = !0) : f.visibility = 1, f.targetRadius !== f.currentRadius && (r = !0, f.currentRadius = f.currentRadius * g + f.targetRadius * (1 - g), Math.abs(f.currentRadius - f.targetRadius) < m * f.targetRadius && (f.currentRadius = f.targetRadius)))
                            }
                        }
                        for (var x = 0; x < l.length; x++) {
                            var C = l[x];
                            this.deleteLink(C)
                        }
                        for (var w = 0; w < o.length; w++) {
                            var L = o[w];
                            this.deleteNode(L)
                        }
                        if (r) {
                            var T = {
                                position: !0
                            };
                            s && (T.dynamicLayout = !0), this.events.notifySceneChanges(T), t.animating = !0
                        }
                    }, i.prototype.paintPrepare = function(t) {
                        this.computeNodeRenderRadii(), this.multilinks = this.updateMultilinks(), (t.changes.position || this.hasTopologyChanges()) && this.placePies()
                    }, i.prototype.paintBackground = function(t) {
                        this._auras.doAnimations(this.nodes(), t), this._auras.paintPolygons(t)
                    }, i.prototype.paintSelection = function(t, e, i) {
                        var n = this.style.selection;
                        if (n.enabled) {
                            null === n.fillColor && (n = d.Helpers.clone(n), n.fillColor = this.chart.settings.area.style.fillColor, n.fillColor && "transparent" !== n.fillColor || (n.fillColor = "white"));
                            var r = this.getGeometry(),
                                s = r.txm,
                                a = r.txa,
                                o = r.tym,
                                l = r.tya,
                                h = r.zoom,
                                u = t.context,
                                c = n.sizeProportional,
                                p = n.sizeConstant;
                            u.beginPath();
                            for (var f = 0; f < e.length; f++) {
                                var g = e[f];
                                g.invisible || (g.shape.adaptToViewport(s, a, o, l, h), g.shape.paintSelection(u, c, p * h))
                            }
                            for (var f = 0; f < i.length; f++) {
                                var m = i[f];
                                if (!m.invisible) {
                                    var v = (m.currentRadius / 2 * (1 + c) + .9 * p) * h,
                                        y = m.from,
                                        S = m.to,
                                        b = y.x * s + a,
                                        x = y.y * o + l,
                                        C = S.x * s + a,
                                        w = S.y * o + l,
                                        L = b - C,
                                        T = x - w,
                                        M = 1 / Math.sqrt(L * L + T * T),
                                        k = L * M,
                                        P = T * M;
                                    if (0 !== m.currentCenterOffset) {
                                        var A = P * m.currentCenterOffset * h,
                                            I = -k * m.currentCenterOffset * h;
                                        b += A, x += I, C += A, w += I
                                    }
                                    if (k *= v, P *= v, m.isOrthogonal() && m._from !== m._to) this.drawOrthogonalLink(m, s, a, o, l, v, u);
                                    else if (m.isCurved() && m._from !== m._to) {
                                        var D = m.renderPointsX[0] * s + a,
                                            N = m.renderPointsX[1] * s + a,
                                            O = m.renderPointsY[0] * o + l,
                                            F = m.renderPointsY[1] * o + l,
                                            E = m._controlPointX * s + a,
                                            H = m._controlPointY * o + l;
                                        m.renderCurveX && (D = m.renderCurveX[0] * s + a, E = m.renderCurveX[1] * s + a, N = m.renderCurveX[2] * s + a), m.renderCurveY && (O = m.renderCurveY[0] * o + l, H = m.renderCurveY[1] * o + l, F = m.renderCurveY[2] * o + l), u.moveTo(D + P, O - k), u.lineTo(D - P, O + k), u.quadraticCurveTo(E, H, N - P, F + k), u.lineTo(N + P, F - k), u.quadraticCurveTo(E, H, D + P, O - k), u.closePath()
                                    } else u.moveTo(b + P, x - k), u.lineTo(b - P, x + k), u.lineTo(C - P, w + k), u.lineTo(C + P, w - k), u.closePath()
                                }
                            }
                            return d.Graphics.paint(u, n)
                        }
                    }, i.prototype.paintLinks = function(t, e) {
                        var i = this.getGeometry();
                        this.paintLinksImpl(t, e, this.multilinks, {
                            geometry: i,
                            paintDetails: i.zoom > this.style.linkDetailMinZoom
                        })
                    }, i.prototype.paintNodes = function(t, e) {
                        var i = function(t) {
                            return t.selected ? 2 : t.hovered ? 1 : 0
                        };
                        e = e.slice(0).sort(function(t, e) {
                            return i(t) - i(e)
                        });
                        var n = this.getGeometry();
                        t.animating = this.paintNodesImpl(t, e, {
                            geometry: n,
                            paintDetails: n.zoom > this.style.nodeDetailMinZoom
                        }, t.timeStamp) || t.animating
                    }, i.prototype.updateMultilinks = function() {
                        if (!this.hasTopologyChanges()) return this.multilinks;
                        for (var t = this.links(), e = {}, i = [], n = 0; n < t.length; n++) {
                            var r = t[n],
                                s = r.multiId;
                            if (e.hasOwnProperty(s)) {
                                var a = e[s];
                                if (a instanceof Array) a.push(r);
                                else {
                                    var o = [a, r];
                                    i.push(o), e[s] = o
                                }
                            } else e[s] = r
                        }
                        for (var l = 0; l < i.length; l++) i[l].sort(function(t, e) {
                            return ("" + (t.id || "")).localeCompare("" + (e.id || ""))
                        });
                        return e
                    }, i.prototype.gradientToString = function(t) {
                        for (var e = "", i = 0; i < t.length; i++) e += t[i][1];
                        return e
                    }, i.prototype.getNodeImage = function(t, e, i) {
                        if (void 0 === i && (i = !1), !t.image) return null;
                        var n = t.tintImage && t.fillColor,
                            r = !!e && t.imageCropping,
                            s = t.image,
                            a = s;
                        if (n && !t.fillGradient && (s += "##" + t.fillColor), s += "##" + r, this.imageCache.hasOwnProperty(s)) return this.imageCache[s];
                        if (this.imageLoading[s]) return null;
                        var o = this.scene.assetsLoader.getAssetImage(a);
                        if (i) return o;
                        if (o) {
                            var l = null !== o && o.src === c.ErrorImage;
                            if (l && t.onImageLoadError && t.onImageLoadError(t), r) switch (t.display) {
                                case "circle":
                                default:
                                    o = d.Graphics.cropImageToCircle(o, r)
                            }
                            return n && !t.fillGradient && (o = d.Graphics.applyColorToImage(o, t.fillColor, !1)), this.imageCache[s] = o, delete this.imageLoading[s], this.events.notifySceneChanges({
                                layout: !0
                            }), o
                        }
                        return null
                    }, i.prototype.computeNodeRenderRadii = function() {
                        for (var t = this.getGeometry().zoom, e = 0, i = this.nodes(); e < i.length; e++) {
                            var n = i[e],
                                r = n.hHeight * t,
                                s = n.hWidth * t;
                            n.lineWidth && (r += n.lineWidth / 2, s += n.lineWidth / 2), n.renderHheight = r, n.renderHwidth = s
                        }
                    }, i.prototype.paintLinksImpl = function(t, e, i, n) {
                        var r = t.context,
                            s = n.geometry.txm,
                            a = n.geometry.txa,
                            o = n.geometry.tym,
                            l = n.geometry.tya,
                            h = n.geometry.linkZoom,
                            u = n.geometry.x0w,
                            c = n.geometry.y0w,
                            p = n.geometry.x1w,
                            f = n.geometry.y1w,
                            g = this.scaleNodesWithZoom ? 1 : 1 / this.scene.zoom;
                        r.textAlign = "center", r.textBaseline = "middle";
                        var m = this.style,
                            v = m.linkDetailMinSize * m.linkDetailMinSize,
                            y = n.paintDetails && this.chart.assetsLoaded,
                            S = (m.multilinkSpacing * h, m.linkDecorationScale),
                            b = m.linkDecorationMinSize,
                            x = m.linkLabelScaleBase,
                            C = 2,
                            w = 5,
                            L = .1;
                        this.linkItemsRenderList = [];
                        for (var T = 0; T < e.length; T++) {
                            var M = e[T];
                            if (M.updateInternalVariables(), !M.invisible && M.from !== M.to) {
                                var k = M.from.x,
                                    P = M.from.y,
                                    A = M.to.x,
                                    I = M.to.y,
                                    D = M.currentItems,
                                    N = D && D.length && D[0].style.rotateWithLink,
                                    O = void 0,
                                    F = M.from.renderHheight,
                                    E = M.to.renderHheight,
                                    H = M.from.renderHwidth,
                                    R = M.to.renderHwidth,
                                    z = d.Geometry.clipSegmentToBounds(k, P, A, I, (F + H) * g, (E + R) * g, u, c, p, f);
                                if (z) {
                                    k = z[0], P = z[1], A = z[2], I = z[3], k = k * s + a, P = P * o + l, A = A * s + a, I = I * o + l;
                                    var B = A - k,
                                        U = I - P,
                                        W = B * B + U * U,
                                        G = Math.max(.25, M.currentRadius * h * .5),
                                        V = M.hovered || M.from.hovered || M.to.hovered,
                                        Y = V || y && W > v;
                                    if (W > 25) {
                                        var j = Math.sqrt(W);
                                        if (N && (O = Math.atan2(U, B) * (180 / Math.PI), k >= A && (O -= 180), M.isOrthogonal() && (O = Math.abs(B) > Math.abs(U) ? 90 : 0), M.currentItems[0].style.angle = O), M.toPieValue > 0) {
                                            var _ = E + C,
                                                Z = _ + w + L * E;
                                            this.paintLinkPie(r, A, I, _, Z, M.toPie0, M.toPie1, M.toPieColor), E = Z
                                        }
                                        var q = 1 / j,
                                            X = B * q,
                                            Q = U * q,
                                            J = void 0,
                                            K = void 0;
                                        if (J = M.from.shape.distanceToEdge(F, H, X, Q), K = M.to.shape.distanceToEdge(E, R, -X, -Q), j <= J + K) continue;
                                        var $ = Math.min((j - J - K) / 4, Math.max(b, G * S));
                                        M.fromDecoration && (J += $), M.toDecoration && (K += $), k += X * J, P += Q * J, A -= X * K, I -= Q * K, B = A - k, U = I - P, j = j - J - K, q = 1 / j;
                                        var tt = M.multiId,
                                            et = i[tt];
                                        if (et instanceof Array) {
                                            var it = A - k,
                                                nt = I - P,
                                                rt = it * it + nt * nt,
                                                st = Math.sqrt(rt),
                                                at = 1 / st,
                                                ot = it * at,
                                                lt = nt * at,
                                                ht = M._from.hHeight,
                                                ut = M._to.hHeight,
                                                ct = m.multilinkSpacing,
                                                dt = et.length,
                                                pt = Math.min(ct * (dt - 1), 1.5 * ht, 1.5 * ut),
                                                ft = (et.indexOf(M) - (dt - 1) / 2) / (dt - 1),
                                                gt = pt * ft;
                                            M._from.id > M._to.id && (gt = -gt), M.currentCenterOffset = gt, k -= lt * gt, A -= lt * gt, P += ot * gt, I += ot * gt;
                                            var mt = 1 - m.multilinkAutoCurve + 2 * m.multilinkAutoCurve * ft;
                                            M.setMultilinkOffsets(-lt * gt, ot * gt, mt), M.updateInternalVariables()
                                        } else M.currentCenterOffset = 0;
                                        var vt = M._controlPointX * s + a,
                                            yt = M._controlPointY * o + l,
                                            St = k,
                                            bt = P,
                                            xt = X,
                                            Ct = Q,
                                            wt = -X,
                                            Lt = -Q;
                                        if (M.isCurved() && !M.isOrthogonal() && M._from !== M._to) {
                                            var Tt = this.computeCurvedLinkEnds(M, k, P, xt, Ct, $, M.fromDecoration, n.geometry),
                                                Mt = this.computeCurvedLinkEnds(M, A, I, wt, Lt, $, M.toDecoration, n.geometry);
                                            xt = Tt.dx, Ct = Tt.dy, wt = Mt.dx, Lt = Mt.dy, k = Tt.x, P = Tt.y, A = Mt.x, I = Mt.y;
                                            var kt = d.Geometry.quadraticCurve(M.renderPointsX[0], M._controlPointX, M.renderPointsX[1], .5) * s + a,
                                                Pt = d.Geometry.quadraticCurve(M.renderPointsY[0], M._controlPointY, M.renderPointsY[1], .5) * o + l;
                                            vt = 2 * kt - k / 2 - A / 2, yt = 2 * Pt - P / 2 - I / 2, M.renderCurveX ? (M.renderCurveX[0] = (k - a) / s, M.renderCurveX[1] = (vt - a) / s, M.renderCurveX[2] = (A - a) / s) : M.renderCurveX = [(k - a) / s, (vt - a) / s, (A - a) / s], M.renderCurveY ? (M.renderCurveY[0] = (P - l) / o, M.renderCurveY[1] = (yt - l) / o, M.renderCurveY[2] = (I - l) / o) : M.renderCurveY = [(P - l) / o, (yt - l) / o, (I - l) / o]
                                        } else M.renderCurveX = null, M.renderCurveY = null;
                                        if (Y && M.currentItems && !M.removed) {
                                            M.currentItems.sort(function(t, e) {
                                                return t.style.zIndex - e.style.zIndex
                                            });
                                            var At = {
                                                g: r,
                                                labelRenderer: t.labelRenderer,
                                                zoom: h,
                                                size: G / x,
                                                x: St,
                                                y: bt,
                                                dx: X,
                                                dy: Q,
                                                linkLength: j,
                                                linkRadius: G,
                                                items: M.currentItems,
                                                renderBounds: M.renderBounds,
                                                active: V,
                                                negative: !0,
                                                link: M,
                                                geometry: n.geometry
                                            };
                                            this.linkItemsRenderList.push(At)
                                        }
                                        if (M.lineDash && M.lineDashBackgroundFillColor && (r.beginPath(), r.moveTo(k + Q * G, P - X * G), r.lineTo(k - Q * G, P + X * G), r.lineTo(A - Q * G, I + X * G), r.lineTo(A + Q * G, I - X * G), r.closePath(), d.Graphics.fill(r, {
                                                fillColor: M.lineDashBackgroundFillColor
                                            })), r.beginPath(), M.fromDecoration && (this.paintLinkDecoration(r, k, P, xt, Ct, $, M.fromDecoration, M.fillColor, M, n.geometry, G), "hollow arrow" === M.fromDecoration && (k += xt * $, P += Ct * $)), M.toDecoration && (this.paintLinkDecoration(r, A, I, wt, Lt, $, M.toDecoration, M.fillColor, M, n.geometry, G), "hollow arrow" === M.toDecoration && (A += wt * $, I += Lt * $)), !M.lineDash || M.isCurved() || M.isOrthogonal()) M.isOrthogonal() ? this.drawOrthogonalLink(M, s, a, o, l, G, r) : M.isCurved() ? (r.moveTo(k + Q * G, P - X * G), r.lineTo(k - Q * G, P + X * G), r.quadraticCurveTo(vt, yt, A - Q * G, I + X * G), r.lineTo(A + Q * G, I - X * G), r.quadraticCurveTo(vt, yt, k + Q * G, P - X * G), r.closePath()) : (r.moveTo(k + Q * G, P - X * G), r.lineTo(k - Q * G, P + X * G), r.lineTo(A - Q * G, I + X * G), r.lineTo(A + Q * G, I - X * G), r.closePath());
                                        else {
                                            var It = k + Q * G,
                                                Dt = P - X * G,
                                                Nt = k - Q * G,
                                                Ot = P + X * G;
                                            if (M.lineDash.length > 0)
                                                for (var Ft = M.lineDash, Et = Ft.length, Ht = Ft.reduce(function(t, e) {
                                                        return t + e
                                                    }) * h, Rt = 0, zt = 0; zt <= j / Ht; zt++) {
                                                    for (var Bt = 0; Bt <= Et - 1; Bt += 2) {
                                                        var Ut = zt * Ht + Rt;
                                                        if (Ut > j - G) break;
                                                        var Wt = Ut + Ft[Bt] * h,
                                                            Gt = Wt >= j - G ? j - G : Wt,
                                                            Vt = [It + Ut * X, Dt + Ut * Q],
                                                            Yt = [Nt + Ut * X, Ot + Ut * Q],
                                                            jt = [Nt + Gt * X, Ot + Gt * Q],
                                                            _t = [It + Gt * X, Dt + Gt * Q];
                                                        if (M.lineDashShape && "rectangle" != M.lineDashShape) {
                                                            if ("triangle" == M.lineDashShape) {
                                                                var Zt = [(Vt[0] + Yt[0]) / 2, (Vt[1] + Yt[1]) / 2];
                                                                r.moveTo(Zt[0], Zt[1]), r.lineTo(jt[0], jt[1]), r.lineTo(_t[0], _t[1])
                                                            } else if ("inverseTriangle" == M.lineDashShape) {
                                                                var qt = [(jt[0] + _t[0]) / 2, (jt[1] + _t[1]) / 2];
                                                                r.moveTo(qt[0], qt[1]), r.lineTo(Vt[0], Vt[1]), r.lineTo(Yt[0], Yt[1])
                                                            } else if ("diamond" == M.lineDashShape) {
                                                                var Zt = [(Vt[0] + Yt[0]) / 2, (Vt[1] + Yt[1]) / 2],
                                                                    Xt = [(Yt[0] + jt[0]) / 2, (Yt[1] + jt[1]) / 2],
                                                                    qt = [(jt[0] + _t[0]) / 2, (jt[1] + _t[1]) / 2],
                                                                    Qt = [(_t[0] + Vt[0]) / 2, (_t[1] + Vt[1]) / 2];
                                                                r.moveTo(Zt[0], Zt[1]), r.lineTo(Xt[0], Xt[1]), r.lineTo(qt[0], qt[1]), r.lineTo(Qt[0], Qt[1])
                                                            } else if ("hexagon" == M.lineDashShape) {
                                                                var Zt = [(Vt[0] + Yt[0]) / 2, (Vt[1] + Yt[1]) / 2],
                                                                    Xt = [(Yt[0] + jt[0]) / 2, (Yt[1] + jt[1]) / 2],
                                                                    Qt = [(Vt[0] + _t[0]) / 2, (Vt[1] + _t[1]) / 2],
                                                                    Jt = [(Xt[0] + Qt[0]) / 2, (Xt[1] + Qt[1]) / 2];
                                                                r.moveTo(Zt[0], Zt[1]), r.lineTo(Xt[0], Xt[1]), r.lineTo(jt[0], jt[1]), r.lineTo(Jt[0], Jt[1]), r.lineTo(_t[0], _t[1]), r.lineTo(Qt[0], Qt[1])
                                                            } else if ("inverseHexagon" == M.lineDashShape) {
                                                                var Kt = [(Vt[0] + jt[0]) / 2, (Vt[1] + jt[1]) / 2],
                                                                    Xt = [(Yt[0] + jt[0]) / 2, (Yt[1] + jt[1]) / 2],
                                                                    qt = [(jt[0] + _t[0]) / 2, (jt[1] + _t[1]) / 2],
                                                                    Qt = [(Vt[0] + _t[0]) / 2, (Vt[1] + _t[1]) / 2];
                                                                r.moveTo(Vt[0], Vt[1]), r.lineTo(Kt[0], Kt[1]), r.lineTo(Yt[0], Yt[1]), r.lineTo(Xt[0], Xt[1]), r.lineTo(qt[0], qt[1]), r.lineTo(Qt[0], Qt[1])
                                                            }
                                                        } else r.moveTo(Vt[0], Vt[1]), r.lineTo(Yt[0], Yt[1]), r.lineTo(jt[0], jt[1]), r.lineTo(_t[0], _t[1]);
                                                        r.closePath(), Rt += h * (Ft[Bt] + Ft[Bt + 1])
                                                    }
                                                    Rt = 0
                                                } else
                                                    for (var $t = Math.max(5, 3 * G), zt = 0; zt <= j / $t; zt += 2) {
                                                        var Ut = zt * $t,
                                                            Gt = Math.min((zt + 1) * $t, j);
                                                        r.moveTo(It + Ut * X, Dt + Ut * Q), r.lineTo(Nt + Ut * X, Ot + Ut * Q), r.lineTo(Nt + Gt * X, Ot + Gt * Q), r.lineTo(It + Gt * X, Dt + Gt * Q), r.closePath()
                                                    }
                                        }
                                        if (d.Graphics.fill(r, M), Y && M.currentItems && !M.removed) {
                                            var At = {
                                                g: r,
                                                labelRenderer: t.labelRenderer,
                                                zoom: h,
                                                size: G / x,
                                                x: St,
                                                y: bt,
                                                dx: X,
                                                dy: Q,
                                                linkLength: j,
                                                linkRadius: G,
                                                items: M.currentItems,
                                                renderBounds: M.renderBounds,
                                                active: V,
                                                negative: !1,
                                                link: M,
                                                geometry: n.geometry
                                            };
                                            this.linkItemsRenderList.push(At)
                                        }
                                    } else if (M.fillColor) {
                                        if (r.beginPath(), r.lineWidth = Math.max(.1, 2 * G), r.strokeStyle = M.fillColor, M.dashed)
                                            for (var j = Math.sqrt(W), q = 1 / j, X = B * q, Q = U * q, $t = Math.max(5, 3 * G), zt = 0; zt <= j / $t; zt += 2) {
                                                var Ut = zt * $t,
                                                    Gt = Math.min((zt + 1) * $t, j);
                                                r.moveTo(k + Ut * X, P + Ut * Q), r.lineTo(k + Gt * X, P + Gt * Q)
                                            } else r.moveTo(k, P), r.lineTo(A, I);
                                        r.stroke(), M.renderPointsX ? (M.renderPointsX[0] = k, M.renderPointsX[1] = A) : M.renderPointsX = [k, A], M.renderPointsY ? (M.renderPointsY[0] = P, M.renderPointsY[1] = I) : M.renderPointsY = [P, I], M.renderBounds ? (M.renderBounds.x0 = Math.min(k, A), M.renderBounds.x1 = Math.max(k, A), M.renderBounds.y0 = Math.min(P, I), M.renderBounds.y1 = Math.max(P, I)) : M.renderBounds = new d.Rect(k, P, A, I)
                                    }
                                }
                            }
                        }
                    }, i.prototype.compareOrthoLinkDist = function(t, e, i) {
                        void 0 === i && (i = .001);
                        var n = Math.abs(t),
                            r = Math.abs(e);
                        return Math.abs(n - r) < i || n > r
                    }, i.prototype.drawOrthogonalLink = function(t, e, i, n, r, s, a) {
                        var o = this.calcOrthogonalLinkCoords(t, e, i, n, r, s),
                            l = o.x0,
                            h = o.x1,
                            u = o.y0,
                            c = o.y1,
                            d = t.orthogonalOffset,
                            p = l * (1 - d) + h * d,
                            f = u * (1 - d) + c * d,
                            g = l - h,
                            m = u - c,
                            v = u - c > 0 ? 1 : -1,
                            y = l - h > 0 ? 1 : -1,
                            S = v * y * s;
                        this.compareOrthoLinkDist(g, m) ? g < 0 ? (a.moveTo(l, u - s), a.lineTo(l, u + s), a.lineTo(p - S, u + s), a.lineTo(p - S, c + s), a.lineTo(h, c + s), a.lineTo(h, c - s), a.lineTo(p + S, c - s), a.lineTo(p + S, u - s)) : (a.moveTo(p + S, u - s), a.lineTo(p + S, c - s), a.lineTo(h, c - s), a.lineTo(h, c + s), a.lineTo(p - S, c + s), a.lineTo(p - S, u + s), a.lineTo(l, u + s), a.lineTo(l, u - s)) : m > 0 ? (a.moveTo(l - s, u), a.lineTo(l + s, u), a.lineTo(l + s, f - S), a.lineTo(h + s, f - S), a.lineTo(h + s, c), a.lineTo(h - s, c), a.lineTo(h - s, f + S), a.lineTo(l - s, f + S)) : (a.moveTo(l - s, f + S), a.lineTo(h - s, f + S), a.lineTo(h - s, c), a.lineTo(h + s, c), a.lineTo(h + s, f - S), a.lineTo(l + s, f - S), a.lineTo(l + s, u), a.lineTo(l - s, u)), a.closePath()
                    }, i.prototype.calcOrthogonalLinkCoords = function(t, e, i, n, r, s) {
                        var a = t.renderPointsX[0] * e + i,
                            o = t.renderPointsX[1] * e + i,
                            l = t.renderPointsY[0] * n + r,
                            h = t.renderPointsY[1] * n + r,
                            u = o - a,
                            c = h - l,
                            d = u * u + c * c,
                            p = Math.sqrt(d),
                            f = 1 / p,
                            g = u * f,
                            m = c * f,
                            v = t.from.renderHheight,
                            y = t.to.renderHheight,
                            S = t.from.renderHwidth,
                            b = t.to.renderHwidth,
                            x = t.from.shape.distanceToEdge(v, S, g, m),
                            C = t.to.shape.distanceToEdge(y, b, -g, -m),
                            w = this.style.linkDecorationScale,
                            L = this.style.linkDecorationMinSize,
                            T = Math.min((p - x - C) / 4, Math.max(L, s * w));
                        return t.fromDecoration && (x += T), t.toDecoration && (C += T), a += g * x, l += m * x, o -= g * C, h -= m * C, {
                            x0: a,
                            x1: o,
                            y0: l,
                            y1: h
                        }
                    }, i.prototype.paintNodesImpl = function(e, i, n, r) {
                        var s = !1,
                            a = e.context,
                            o = n.geometry.txm,
                            l = n.geometry.txa,
                            h = n.geometry.tym,
                            u = n.geometry.tya,
                            c = n.geometry.zoom,
                            p = n.geometry.x0s,
                            f = n.geometry.x1s,
                            g = n.geometry.y0s,
                            m = n.geometry.y1s,
                            v = 1 / o,
                            y = n.paintDetails,
                            S = this.style.nodeDetailMinSize * this.style.nodeDetailMinSize * v * v,
                            b = this.style.hiddenLinks,
                            x = this.style.nodeLabelScaleBase;
                        a.textAlign = "center", a.textBaseline = "middle";
                        for (var C = this.style.removedColor, w = 0; w < i.length; w++) {
                            var L = i[w];
                            L.data && !L.invisible && this.paintSelfLinks(e, L, n)
                        }
                        for (var w = 0; w < i.length; w++) {
                            var L = i[w];
                            if (L.data && !L.invisible) {
                                var T = L.shape;
                                if (T.adaptToViewport(o, l, h, u, c), null != L.anchorX && null != L.anchorY && L.anchorMode === t.NodeAnchorMode.Floating) {
                                    var M = L.anchorX * o + l,
                                        k = L.anchorY * h + u,
                                        P = T.getAnchor(),
                                        A = T.x + P.x,
                                        I = T.y + P.y,
                                        D = A - M,
                                        N = I - k,
                                        O = I;
                                    N < 0 && (O = Math.max(O, k - N * Math.min(.3, Math.abs(D) / N))), a.beginPath(), a.moveTo(A, I), a.lineTo(A, O), a.lineTo(M, k), d.Graphics.stroke(a, L.anchorStyle)
                                }
                            }
                        }
                        for (var w = 0; w < i.length; w++) {
                            var L = i[w],
                                T = L.shape;
                            if (L.data && !L.invisible && T.isInViewport(p, f, g, m, c)) {
                                var F = L.opacity,
                                    E = L.outerBounds.w(),
                                    H = L.outerBounds.h(),
                                    R = y && E * H > S || L.hovered;
                                if (F < 1 && (a.globalAlpha = F), R && !L.removed) {
                                    var z = L.dataLinks.length - L.links.length;
                                    if (z > 0)
                                        if (this.useFadeout && L.relevance < 1) {
                                            var B = b.lineColor;
                                            b.lineColor = d.Colors.blend(C, B, L.relevance), this.paintHiddenLinks(a, L, T.x, T.y, T.hWidth, T.hHeight, z, b, b.size * c), b.lineColor = B
                                        } else this.paintHiddenLinks(a, L, T.x, T.y, T.hWidth, T.hHeight, z, b, b.size * c);
                                    L.items.sort(function(t, e) {
                                        return t.zIndex - e.zIndex
                                    }), this.paintNodeDetails(L, T.x, T.y, T.hHeight, T.hWidth, c, x, e, !0)
                                }
                                T.paint(a, e.labelRenderer, R), R && !L.removed && this.paintNodeDetails(L, T.x, T.y, T.hHeight, T.hWidth, c, x, e, !1), F < 1 && (a.globalAlpha = 1)
                            }
                        }
                        if (this.scene.settings.advanced.perNodeLoadingIndicator) {
                            var U = this.scene.settings.advanced.style.loadingArcStyle;
                            a.save(), a.lineCap = "round", a.lineWidth = U.lineWidth, a.strokeStyle = U.lineColor;
                            var W = r / 1400;
                            W = (W - Math.floor(W)) * (2 * Math.PI);
                            for (var G = W + Math.PI / 2, w = 0; w < i.length; w++) {
                                var L = i[w];
                                if (!L.invisible) {
                                    var T = L.shape;
                                    if (L.loading || L.image && null === this.getNodeImage(L, !1, !0)) {
                                        if (!T.isInViewport(p, f, g, m, c)) continue;
                                        s = !0, a.beginPath(), a.arc(T.x, T.y, T.hWidth, W, G), a.stroke()
                                    }
                                }
                            }
                            d.Graphics.restore(a)
                        }
                        return s
                    }, i.prototype.paintFinish = function(t) {
                        for (var e = 0; e < this.linkItemsRenderList.length; e++) this.paintLinkItems(this.linkItemsRenderList[e]);
                        this.linkItemsRenderList = []
                    }, i.prototype.normalizedDir = function(t, e, i) {
                        void 0 === i && (i = 1);
                        var n = i / Math.sqrt(t * t + e * e);
                        return t *= n, e *= n, {
                            x: t,
                            y: e
                        }
                    }, i.prototype.paintLinkDecoration = function(t, e, i, n, r, s, a, o, l, h, u) {
                        if (t.fillStyle = o, l.isCurved() && !l.isOrthogonal() && l._from !== l._to);
                        else if (l.isOrthogonal() && l._from !== l._to) {
                            var c = Math.sqrt(n * n + r * r);
                            Math.abs(n) > Math.abs(r) ? (n = n > 0 ? c : -c, r = 0) : (n = 0, r = r > 0 ? c : -c)
                        }
                        if ("circle" === a) t.moveTo(e + s, i), t.arc(e, i, s, 0, 2 * Math.PI, !0);
                        else if ("arrow" === a || "open arrow" === a || "hollow arrow" === a) {
                            var p = e - n * s,
                                f = i - r * s,
                                g = e + n * s - r * s,
                                m = i + r * s + n * s,
                                v = e + n * s + r * s,
                                y = i + r * s - n * s;
                            if ("arrow" === a) t.moveTo(p, f), t.lineTo(g, m), t.lineTo(v, y);
                            else {
                                var S = (g + v + p) / 3,
                                    b = (m + y + f) / 3,
                                    x = this.normalizedDir(p - S, f - b),
                                    C = p - x.x * u * 4,
                                    w = f - x.y * u * 4;
                                if ("open arrow" === a) {
                                    var L = -2 * u * x.y,
                                        T = 2 * u * x.x;
                                    t.moveTo(p, f), t.lineTo(g, m), t.lineTo(g + L, m + T), t.lineTo(C, w), t.lineTo(v - L, y - T), t.lineTo(v, y), t.lineTo(p, f)
                                } else {
                                    var M = 2 * Math.sqrt(2) * u,
                                        k = this.normalizedDir(g - S, m - b, M),
                                        P = this.normalizedDir(v - S, y - b, M),
                                        A = g - k.x,
                                        I = m - k.y,
                                        D = v - P.x,
                                        N = y - P.y;
                                    t.moveTo(v, y), t.lineTo(p, f), t.lineTo(g, m), t.lineTo(A, I), t.lineTo(C, w), t.lineTo(D, N), t.lineTo(A, I), t.lineTo(g, m), t.lineTo(v, y)
                                }
                            }
                        } else d.Helpers.error("Unrecognized link decoration value. Valid values are 'circle', 'arrow', 'open arrow', and 'hollow arrow'.")
                    }, i.prototype.computeCurvedLinkEnds = function(t, e, i, n, r, s, a, o) {
                        var l = t.renderPointsX[0],
                            h = t.renderPointsX[1],
                            u = t.renderPointsY[0],
                            c = t.renderPointsY[1],
                            p = h - l,
                            f = c - u,
                            g = p * p + f * f,
                            m = p / g,
                            v = f / g,
                            y = (e - o.txa) / o.txm - l,
                            S = (i - o.tya) / o.tym - u,
                            b = y * m + S * v,
                            x = d.Geometry.quadraticCurve(l, t._controlPointX, h, b),
                            C = d.Geometry.quadraticCurve(u, t._controlPointY, c, b),
                            w = t._to,
                            L = t._to._x - x,
                            T = t._to._y - C,
                            M = t._from._x - x,
                            k = t._from._y - C,
                            P = L * L + T * T,
                            A = M * M + k * k,
                            I = !1;
                        A < P && (w = t._from, I = !0);
                        for (var D = "circle" === a ? 1 : 0, N = -1.1 + (null === a || void 0 === a ? -.9 : s), O = .1, F = 10, E = 1, H = 0, R = 0; R < F; R++) {
                            var z = x - w._x,
                                B = C - w._y,
                                U = z * z + B * B,
                                W = 1 / Math.sqrt(U),
                                G = w.shape.distanceToEdge(w.renderHheight / o.tym, w.renderHwidth / o.txm, z * W, B * W) + D * N / o.txm,
                                V = G * G,
                                Y = V - U;
                            if (Math.abs(Y) < O) break;
                            I ? Y > 0 ? H = b : E = b : Y > 0 ? E = b : H = b, b = (E + H) / 2, x = d.Geometry.quadraticCurve(l, t._controlPointX, h, b), C = d.Geometry.quadraticCurve(u, t._controlPointY, c, b)
                        }
                        var j = I ? 1 : -1,
                            _ = d.Geometry.derivativeQuadraticCurve(l, t._controlPointX, h, b) * j,
                            Z = d.Geometry.derivativeQuadraticCurve(u, t._controlPointY, c, b) * j,
                            q = 1 / Math.sqrt(_ * _ + Z * Z),
                            X = -Z * q,
                            Q = _ * q,
                            J = _ * q,
                            K = Z * q,
                            $ = 0;
                        e = (x - $ * X) * o.txm + o.txa + (1 - D) * N * J, i = (C - $ * Q) * o.tym + o.tya + (1 - D) * N * K;
                        var tt = _ * o.txm,
                            et = Z * o.tym,
                            it = 1 / Math.sqrt(tt * tt + et * et);
                        return tt *= it, et *= it, n = tt, r = et, {
                            x: e,
                            y: i,
                            dx: n,
                            dy: r
                        }
                    }, i.prototype.paintLinkPie = function(t, e, i, n, r, s, a, o) {
                        var l = (n + r) / 2,
                            h = r - n;
                        t.beginPath(), t.arc(e, i, l, s, a), d.Graphics.paint(t, {
                            lineColor: o,
                            lineWidth: h
                        })
                    }, i.prototype.paintLinkItems = function(t) {
                        var e, i, n = t.g,
                            r = t.labelRenderer,
                            s = t.zoom,
                            a = t.size,
                            o = t.x,
                            l = t.y,
                            h = t.dx,
                            u = t.dy,
                            c = t.linkLength,
                            p = t.linkRadius,
                            f = t.items,
                            g = (t.renderBounds, t.active),
                            m = t.negative,
                            v = t.link,
                            y = t.geometry;
                        g ? (e = d.Helpers.toleranceMax(s, 1, .9), i = d.Helpers.toleranceMax(a, 1, .9)) : (e = s, i = a);
                        for (var S = 0; S < f.length; S++) {
                            var b = f[S];
                            if (m) {
                                if (b.style.zIndex >= 0) break
                            } else if (b.style.zIndex < 0) continue;
                            var x = b.x || 0,
                                C = b.y || 0,
                                w = b.style.px || 0,
                                L = b.style.py || 0,
                                T = b.style.lx || 0,
                                M = b.style.ly || 0,
                                k = b.style.angle || 0,
                                P = Math.cos(k * Math.PI / 180),
                                A = Math.sin(k * Math.PI / 180),
                                I = b.style.align || "center",
                                D = b.style.width || 0,
                                N = 0,
                                O = null == b.style.scale ? 1 : b.style.scale;
                            N = b.style.scaleWithSize ? b.style.hoverEffect ? i : a : b.style.scaleWithZoom ? b.style.hoverEffect ? e : s : 1, N *= O, r.measure(n, b);
                            var F = 0 === D ? 1 : .5 * D * c / (b.hwidth * N),
                                E = b.hwidth * N * F;
                            w = c * (w + 1) * .5 + T, L = L * p + M;
                            var H = "left" === I ? E : "right" === I ? -E : 0,
                                R = H * P,
                                z = H * A,
                                B = o + h * w - u * L + x + R,
                                U = l + u * w + h * L + C + z;
                            if (v.isCurved() || v.isOrthogonal()) {
                                var W = v.renderPointsX[0],
                                    G = v.renderPointsX[1],
                                    V = v.renderPointsY[0],
                                    Y = v.renderPointsY[1],
                                    j = v._controlPointX,
                                    _ = v._controlPointY;
                                if (v.renderCurveX && (W = v.renderCurveX[0], j = v.renderCurveX[1], G = v.renderCurveX[2]), v.renderCurveY && (V = v.renderCurveY[0], _ = v.renderCurveY[1], Y = v.renderCurveY[2]), v.isOrthogonal()) {
                                    var Z = this.calcOrthogonalLinkCoords(v, y.txm, y.txa, y.tym, y.tya, 0);
                                    W = (Z.x0 - y.txa) / y.txm, G = (Z.x1 - y.txa) / y.txm, V = (Z.y0 - y.tya) / y.tym, Y = (Z.y1 - y.tya) / y.tym
                                }
                                var q = G - W,
                                    X = Y - V,
                                    Q = q * q + X * X,
                                    J = q / Q,
                                    K = X / Q,
                                    $ = (B - y.txa) / y.txm - W,
                                    tt = (U - y.tya) / y.tym - V,
                                    et = $ * J + tt * K;
                                if (v.isCurved() && !v.isOrthogonal()) B = d.Geometry.quadraticCurve(W, j, G, et) * y.txm + y.txa, U = d.Geometry.quadraticCurve(V, _, Y, et) * y.tym + y.tya;
                                else if (v.isOrthogonal()) {
                                    var it = v.orthogonalOffset,
                                        nt = W * (1 - it) + G * it,
                                        rt = V * (1 - it) + Y * it,
                                        st = Math.abs(q),
                                        at = Math.abs(X),
                                        ot = st + at;
                                    if (Math.min(st, at) > .001) {
                                        if (this.compareOrthoLinkDist(q, X)) {
                                            var lt = it * st / ot,
                                                ht = (it * st + at) / ot,
                                                ut = (et - lt) / (ht - lt),
                                                ct = (et - ht) / (1 - ht);
                                            U = et < lt ? V : et > ht ? Y : ut * (Y - V) + V, B = et < lt ? et / lt * (nt - W) + W : et > ht ? ct * (G - nt) + nt : nt
                                        } else {
                                            var lt = it * at / ot,
                                                ht = (it * at + st) / ot,
                                                ct = (et - lt) / (ht - lt),
                                                ut = (et - ht) / (1 - ht);
                                            B = et < lt ? W : et > ht ? G : ct * (G - W) + W, U = et < lt ? et / lt * (rt - V) + V : et > ht ? ut * (Y - rt) + rt : rt
                                        }
                                        B = B * y.txm + y.txa, U = U * y.tym + y.tya
                                    }
                                }
                            }
                            var dt = b.hwidth;
                            b.hwidth = b.hwidth * F, r.paint(n, B, U, N, b), b.hwidth = dt
                        }
                    }, i.prototype.paintBezierLinkItems = function(t, e, i, n, r, s, a, o, l, h, u) {
                        var c, p;
                        h ? (c = d.Helpers.toleranceMax(i, 1, .9), p = d.Helpers.toleranceMax(n, 1, .9)) : (c = i, p = n);
                        for (var f = 0; f < o.length; f++) {
                            var g = o[f];
                            if (u) {
                                if (g.style.zIndex >= 0) break
                            } else if (g.style.zIndex < 0) continue;
                            var m = g.x || 0,
                                v = g.y || 0,
                                y = g.style.px || 0,
                                S = g.style.py || 0,
                                b = g.style.lx || 0,
                                x = g.style.ly || 0,
                                C = 0;
                            y <= 0 ? y = 1 + y : C = 2;
                            var w = 1 - y,
                                L = r[C] * w + r[C + 1] * y,
                                T = s[C] * w + s[C + 1] * y,
                                M = r[C + 1] * w + r[C + 2] * y,
                                k = s[C + 1] * w + s[C + 2] * y,
                                P = M - L,
                                A = k - T,
                                I = Math.sqrt(P * P + A * A),
                                D = P / I,
                                N = A / I,
                                O = L * w + M * y + D * b - N * (S * a + x) + m,
                                F = T * w + k * y + N * b + D * (S * a + x) + v,
                                E = 0;
                            E = g.style.scaleWithSize ? g.style.hoverEffect ? p : n : g.style.scaleWithZoom ? g.style.hoverEffect ? c : i : 1, g.style.rotateWithLink && (g.style.angle = 180 * Math.atan2(N, D) / Math.PI), e.paint(t, O, F, E, g), l.addRect(g.currentBounds)
                        }
                    }, i.prototype.paintSelfLinks = function(t, e, i) {
                        var n = this.multilinks[e.id + d.Helpers.SeparatorChar + e.id];
                        if (null != n) {
                            n instanceof u && (n = [n]), n = n.filter(function(t) {
                                return !t.invisible
                            });
                            var r = n.length;
                            if (!(r < 1)) {
                                for (var s, a, o, l = e.dataLinks.length > e.links.length, h = 0, c = 0, p = 0, f = 0; f < e.links.length; f++) {
                                    var g = e.links[f];
                                    if (g.from !== g.to) {
                                        var m = g.otherEnd(e);
                                        h += m.x, c += m.y, p++
                                    }
                                }
                                if (0 === p) s = -1, a = 0, o = l ? 4 * Math.PI / 3 : 2 * Math.PI;
                                else {
                                    h = e.x - h / p, c = e.y - c / p;
                                    var v = h * h + c * c,
                                        y = 1 / Math.sqrt(0 === v ? 1e-4 : v);
                                    if (s = h * y, a = c * y, s || a || (s = 1), l) {
                                        o = Math.PI / 2;
                                        var S = Math.SQRT2 / 2,
                                            b = S * (s - a);
                                        a = S * (a + s), s = b
                                    } else o = Math.PI
                                }
                                var x, C, w, L, T = this.style.selfLinkAngle;
                                T <= 0 ? T = 60 : T > 90 && (T = 90);
                                var M = Math.PI * T / 180,
                                    k = Math.cos(M),
                                    P = Math.sin(M),
                                    A = Math.cos(M / 2),
                                    I = Math.sin(M / 2);
                                if (o >= M * r) {
                                    o /= r;
                                    var D = -(o * (r - 1) + M) / 2;
                                    w = Math.cos(D), L = Math.sin(D), x = s * w - a * L, C = s * L + a * w, w = Math.cos(o), L = Math.sin(o)
                                } else {
                                    var D = -o / 2;
                                    w = Math.cos(D), L = Math.sin(D), x = s * w - a * L, C = s * L + a * w;
                                    var N = (o - M) / (r - 1);
                                    w = Math.cos(N), L = Math.sin(N)
                                }
                                var O = t.context,
                                    F = i.geometry.txm,
                                    E = i.geometry.txa,
                                    H = i.geometry.tym,
                                    R = i.geometry.tya,
                                    z = i.geometry.linkZoom;
                                O.textAlign = "center", O.textBaseline = "middle";
                                for (var B = this.style, U = B.linkDetailMinSize * B.linkDetailMinSize, W = i.paintDetails && this.chart.assetsLoaded, G = B.linkDecorationScale, V = B.linkDecorationMinSize, Y = B.linkLabelScaleBase, j = 2, _ = 5, Z = .1, q = 5, X = e.x * F + E, Q = e.y * H + R, J = 1 + (this.style.selfLinkHeightFactor <= 0 ? 1 : this.style.selfLinkHeightFactor), K = Math.max(this.style.selfLinkWidthFactor, 0), $ = [0, 0, 0, 0, 0], tt = [0, 0, 0, 0, 0], et = [0, 0, 0, 0, 0], it = [0, 0, 0, 0, 0], nt = [0, 0, 0, 0, 0], rt = [0, 0, 0, 0, 0], st = 0; st < r; st++) {
                                    var g = n[st];
                                    if (!g.invisible) {
                                        var at = Math.max(e.renderHheight, e.renderHwidth);
                                        at *= at;
                                        var ot = e.renderHheight;
                                        if (at > 25 && g.toPieValue > 0) {
                                            var lt = ot + j,
                                                ht = lt + _ + Z * ot;
                                            this.paintLinkPie(O, X, Q, lt, ht, g.toPie0, g.toPie1, g.toPieColor), ot = ht
                                        }
                                        var ut = x * k - C * P,
                                            ct = x * P + C * k,
                                            dt = x * A - C * I,
                                            pt = x * I + C * A,
                                            ft = e.shape.distanceToEdge(ot, e.renderHwidth, x, C),
                                            gt = e.shape.distanceToEdge(ot, e.renderHwidth, ut, ct),
                                            mt = Math.max(ft, gt) * J,
                                            vt = Math.max(.25, g.currentRadius * z * .5),
                                            yt = Math.min((mt - Math.max(ft, gt) - vt) / 2, Math.max(V, vt * G));
                                        g.fromDecoration && (ft += yt), g.toDecoration && (gt += yt), et[0] = X + x * ft, it[0] = Q + C * ft, et[2] = X + dt * mt, it[2] = Q + pt * mt, et[4] = X + ut * gt, it[4] = Q + ct * gt, $[2] = X + dt * (mt - vt), tt[2] = Q + pt * (mt - vt), nt[2] = X + dt * (mt + vt), rt[2] = Q + pt * (mt + vt);
                                        var St = void 0,
                                            bt = void 0,
                                            xt = void 0,
                                            Ct = void 0;
                                        if ("parabolic" === this.style.selfLinkShape) {
                                            St = x, bt = C, xt = ut, Ct = ct, $[0] = et[0] - C * vt, tt[0] = it[0] + x * vt, $[4] = et[4] + ct * vt, tt[4] = it[4] - ut * vt;
                                            var wt = ((mt - vt) * I - vt) / A * K;
                                            $[1] = $[2] + pt * wt, tt[1] = tt[2] - dt * wt, $[3] = $[2] - pt * wt, tt[3] = tt[2] + dt * wt, nt[0] = et[0] + C * vt, rt[0] = it[0] - x * vt, nt[4] = et[4] - ct * vt, rt[4] = it[4] + ut * vt, wt = ((mt + vt) * I + vt) / A * K, nt[1] = nt[2] + pt * wt, rt[1] = rt[2] - dt * wt, nt[3] = nt[2] - pt * wt, rt[3] = rt[2] + dt * wt, wt = mt * I / A * K, et[1] = et[2] + pt * wt, it[1] = it[2] - dt * wt, et[3] = et[2] - pt * wt, it[3] = it[2] + dt * wt
                                        } else {
                                            St = dt, bt = pt, xt = dt, Ct = pt, $[0] = et[0] - pt * vt, tt[0] = it[0] + dt * vt, $[4] = et[4] + pt * vt, tt[4] = it[4] - dt * vt;
                                            var Lt = ($[4] - $[0]) * K / 2,
                                                Tt = (tt[4] - tt[0]) * K / 2;
                                            $[1] = $[2] - Lt, tt[1] = tt[2] - Tt, $[3] = $[2] + Lt, tt[3] = tt[2] + Tt, nt[0] = et[0] + pt * vt, rt[0] = it[0] - dt * vt, nt[4] = et[4] - pt * vt, rt[4] = it[4] + dt * vt, Lt = (nt[4] - nt[0]) * K / 2, Tt = (rt[4] - rt[0]) * K / 2, nt[1] = nt[2] - Lt, rt[1] = rt[2] - Tt, nt[3] = nt[2] + Lt, rt[3] = rt[2] + Tt, Lt = (et[4] - et[0]) * K / 2, Tt = (it[4] - it[0]) * K / 2, et[1] = et[2] - Lt, it[1] = it[2] - Tt, et[3] = et[2] + Lt, it[3] = it[2] + Tt
                                        }
                                        g.renderBounds || (g.renderBounds = new d.Rect(0, 0, 0, 0)), g.renderBounds.x0 = Math.min.apply(Math, nt), g.renderBounds.y0 = Math.min.apply(Math, rt), g.renderBounds.x1 = Math.max.apply(Math, nt), g.renderBounds.y1 = Math.max.apply(Math, rt), g.renderPointsX || (g.renderPointsX = new Array(2 * q), g.renderPointsY = new Array(2 * q));
                                        for (var Mt = 0; Mt < q; Mt++) {
                                            var kt = Mt / (q - 1),
                                                Pt = 1 - kt;
                                            g.renderPointsX[Mt] = Pt * Pt * et[0] + 2 * Pt * kt * et[1] + kt * kt * et[2], g.renderPointsY[Mt] = Pt * Pt * it[0] + 2 * Pt * kt * it[1] + kt * kt * it[2], g.renderPointsX[Mt + q] = Pt * Pt * et[2] + 2 * Pt * kt * et[3] + kt * kt * et[4], g.renderPointsY[Mt + q] = Pt * Pt * it[2] + 2 * Pt * kt * it[3] + kt * kt * it[4]
                                        }
                                        if (at > 25) {
                                            var At = g.hovered || g.from.hovered || g.to.hovered,
                                                It = At || W && at > U;
                                            It && g.currentItems && !g.removed && (g.currentItems.sort(function(t, e) {
                                                return t.style.zIndex - e.style.zIndex
                                            }), this.paintBezierLinkItems(O, t.labelRenderer, z, vt / Y, et, it, vt, g.currentItems, g.renderBounds, At, !0)), O.beginPath(), g.fromDecoration && this.paintLinkDecoration(O, et[0], it[0], St, bt, yt, g.fromDecoration, g.fillColor, g, i.geometry, vt), g.toDecoration && this.paintLinkDecoration(O, et[4], it[4], xt, Ct, yt, g.toDecoration, g.fillColor, g, i.geometry, vt), O.moveTo($[0], tt[0]), O.quadraticCurveTo($[1], tt[1], $[2], tt[2]), O.quadraticCurveTo($[3], tt[3], $[4], tt[4]), O.lineTo(nt[4], rt[4]), O.quadraticCurveTo(nt[3], rt[3], nt[2], rt[2]), O.quadraticCurveTo(nt[1], rt[1], nt[0], rt[0]), O.closePath(), d.Graphics.fill(O, g), It && g.currentItems && !g.removed && (g.currentItems.sort(function(t, e) {
                                                return t.style.zIndex - e.style.zIndex;
                                            }), this.paintBezierLinkItems(O, t.labelRenderer, z, vt / Y, et, it, vt, g.currentItems, g.renderBounds, At, !1))
                                        } else g.fillColor && (O.beginPath(), O.lineWidth = Math.max(.1, 2 * vt), O.strokeStyle = g.fillColor, O.moveTo(et[0], it[0]), O.quadraticCurveTo(et[1], it[1], et[2], it[2]), O.quadraticCurveTo(et[3], it[3], et[4], it[4]), O.stroke());
                                        var b = x * w - C * L;
                                        C = x * L + C * w, x = b
                                    }
                                }
                            }
                        }
                    }, i.prototype.paintHiddenLinks = function(t, e, i, n, r, s, a, o, l) {
                        for (var h, u, c, d = 0, p = 0, f = 0, g = !1, m = 0; m < e.links.length; m++) {
                            var v = e.links[m];
                            if (v.from === v.to) g = !0;
                            else {
                                var y = v.otherEnd(e);
                                d += y.x, p += y.y, f++
                            }
                        }
                        if (0 === f) h = 1, u = 0, c = 2 * Math.PI / a / 3;
                        else {
                            d = e.x - d / e.links.length, p = e.y - p / e.links.length;
                            var S = 1 / Math.sqrt(d * d + p * p);
                            if (h = d * S, u = p * S, g) {
                                c = Math.PI / a / 2;
                                var b = Math.SQRT2 / 2,
                                    x = b * (h + u);
                                u = b * (u - h), h = x
                            } else c = 2 * Math.PI / a / 3
                        }
                        var C = Math.cos(-c * (a - 1) / 2),
                            w = Math.sin(-c * (a - 1) / 2),
                            L = h * C - u * w,
                            T = h * w + u * C,
                            M = L;
                        C = Math.cos(c), w = Math.sin(c), t.beginPath();
                        for (var k = 1; k <= a; k++) {
                            var P = e.shape.distanceToEdge(r, s, M, T);
                            t.moveTo(i + M * P, n + T * P), t.lineTo(i + M * (P + l), n + T * (P + l)), L = M * C - T * w, T = M * w + T * C, M = L
                        }
                        t.strokeStyle = o.lineColor, t.lineWidth = o.lineWidth, t.stroke()
                    }, i.prototype.findObjectAt = function(t, e, i) {
                        var n = this.scene,
                            r = n.fromDisplay(t, e),
                            s = r.x,
                            a = r.y,
                            o = 1 / n.zoom,
                            l = this.scaleLinksWithZoom ? o : 1,
                            h = null,
                            u = [],
                            c = null,
                            p = i,
                            f = n.hoverNode;
                        if (f && f.layer === this && !f.invisible) {
                            var g = f.shape.hitTest(s, a, o, p * o);
                            if (g / o < p) {
                                p = g / o, h = f;
                                var m = this.findItem(t, e, h, i);
                                if (m && (c = m.item, p = Math.min(p, m.distance)), p <= 0) return {
                                    object: h,
                                    details: c
                                }
                            }
                        }
                        for (var v = this.nodes(), y = v.length - 1; y >= 0; y--) {
                            var S = v[y];
                            if (!S.removed && !S.invisible && d.Geometry.distanceToRect(s - S.x, a - S.y, S.outerBounds) < p * o) {
                                var g = S.shape.hitTest(s, a, o, p * o);
                                if (g <= 0) {
                                    p = 0, h = S;
                                    break
                                }
                                g / o < p && (p = g / o, h = S), u.push(S)
                            }
                        }
                        if (p > 0) {
                            var b = n.hoverLink;
                            if (b && b.layer === this && !b.invisible)
                                for (var x = b.targetRadius / 2 * l, y = 1; y < b.renderPointsX.length; y++) {
                                    var C = d.Geometry.distanceToSegmentSq(b.renderPointsX[y - 1], b.renderPointsY[y - 1], b.renderPointsX[y], b.renderPointsY[y], t, e);
                                    if (C <= (p + x) * (p + x)) {
                                        p = 0, h = b;
                                        var m = this.findItem(t, e, h, i);
                                        if (m && (c = m.item, p = Math.min(p, m.distance)), p <= 0) return {
                                            object: h,
                                            details: c
                                        };
                                        break
                                    }
                                }
                        }
                        var w = this.getGeometry();
                        if (p > 0)
                            for (var L = 0, T = this.links(); L < T.length; L++) {
                                var M = T[L],
                                    k = M._from === M._to,
                                    P = k ? t : r.x,
                                    A = k ? e : r.y;
                                if (!M.removed && !M.invisible && M.renderPointsX && d.Geometry.distanceToRect(P, A, M.renderBounds) < p) {
                                    for (var x = 2 * M.targetRadius, I = p * l, D = Math.min(I * I, x * x), y = 1; y < M.renderPointsX.length; y++) {
                                        var C = 0;
                                        if (M.isOrthogonal() && !k) {
                                            var N = w.txm,
                                                O = w.txa,
                                                F = w.tym,
                                                E = w.tya,
                                                H = this.calcOrthogonalLinkCoords(M, N, O, F, E, x),
                                                R = H.x0,
                                                z = H.x1,
                                                B = H.y0,
                                                U = H.y1;
                                            R = (R - O) / N, z = (z - O) / N, B = (B - E) / F, U = (U - E) / F;
                                            var W = M.orthogonalOffset,
                                                G = R * (1 - W) + z * W,
                                                V = B * (1 - W) + U * W,
                                                Y = R - z,
                                                j = B - U;
                                            C = this.compareOrthoLinkDist(Y, j) ? Math.min(d.Geometry.distanceToSegmentSq(R, B, G, B, P, A), d.Geometry.distanceToSegmentSq(G, B, G, U, P, A), d.Geometry.distanceToSegmentSq(G, U, z, U, P, A)) : Math.min(d.Geometry.distanceToSegmentSq(R, B, R, V, P, A), d.Geometry.distanceToSegmentSq(R, V, z, V, P, A), d.Geometry.distanceToSegmentSq(z, V, z, U, P, A))
                                        } else C = !M.isCurved() || k ? d.Geometry.distanceToSegmentSq(M.renderPointsX[y - 1], M.renderPointsY[y - 1], M.renderPointsX[y], M.renderPointsY[y], P, A) : d.Geometry.distanceToQuadraticCurveSq(M.renderPointsX[y - 1], M.renderPointsY[y - 1], M._controlPointX, M._controlPointY, M.renderPointsX[y], M.renderPointsY[y], P, A);
                                        if (C < D) {
                                            p = Math.sqrt(C) / l, h = M;
                                            break
                                        }
                                    }
                                    u.push(M)
                                }
                            }
                        if (0 === p) {
                            var m = this.findItem(t, e, h, i);
                            return {
                                object: h,
                                details: m ? m.item : null
                            }
                        }
                        var _ = this.useFindObjectHack;
                        if (!_)
                            for (var y = 0; y < u.length; y++) {
                                var Z = u[y],
                                    m = this.findItem(t, e, Z, i);
                                m && m.distance < p && (p = m.distance, h = Z, c = m.item)
                            }
                        return (_ || p > i) && (h = null, c = null), {
                            object: h,
                            details: c
                        }
                    }, i.prototype.findItem = function(t, e, i, n) {
                        if (!i) return null;
                        var r = n * n,
                            s = this.scene.hoverItem;
                        if (s && s.hwidth && i.currentItems.indexOf(s) > -1 && s.currentBounds) {
                            var a = d.Geometry.distanceToRect(t, e, s.currentBounds, !0);
                            if (a <= r) return {
                                item: s,
                                distance: Math.sqrt(a)
                            }
                        }
                        var o = null,
                            l = n * n;
                        if (i instanceof h) {
                            var u = i.shape.currentLabel;
                            if (u && u.currentBounds) {
                                var a = d.Geometry.distanceToRect(t, e, u.currentBounds, !0);
                                a < l && (o = u, l = a)
                            }
                        }
                        for (var c = 0; c < i.currentItems.length; c++) {
                            var p = i.currentItems[c];
                            if (p.hwidth && p.currentBounds) {
                                var a = d.Geometry.distanceToRect(t, e, p.currentBounds, !0);
                                a <= l && (o = p, l = a)
                            }
                        }
                        return l > r || !o ? null : {
                            item: o,
                            distance: Math.sqrt(l)
                        }
                    }, i.prototype.getGraphBounds = function(t) {
                        if (void 0 === t && (t = this.nodes()), !t || !t.length) return new d.Rect(0, 0, 0, 0);
                        for (var e = d.Rect.createEmpty(), i = 0, n = 0; n < t.length; n++) {
                            var r = t[n];
                            if (!r.removed) {
                                i++;
                                var s = r.x,
                                    a = r.y,
                                    o = r.outerBounds;
                                e.addBounds(o.x0 + s, o.y0 + a, o.x1 + s, o.y1 + a)
                            }
                        }
                        return i ? e : new d.Rect(0, 0, 0, 0)
                    }, i.prototype.getNodeNeighborsBounds = function(t) {
                        if (!t || 0 === this.nodes().length) return new d.Rect(0, 0, 0, 0);
                        for (var e = t.outerBounds.clone().moveBy(t.x, t.y), i = t, n = 0; n < t.links.length; n++) {
                            var r = t.links[n];
                            if (i = r.otherEnd(t), !i.removed) {
                                var s = i.outerBounds,
                                    a = i.x,
                                    o = i.y;
                                e.addBounds(s.x0 + a, s.y0 + o, s.x1 + a, s.y1 + o)
                            }
                        }
                        return e
                    }, i.prototype.placePies = function() {
                        for (var t = 2 * Math.PI, e = [], i = 0, n = this.nodes(); i < n.length; i++) {
                            for (var r = n[i], s = 0, a = 0; a < r.links.length; a++) {
                                var o = r.links[a];
                                o.to === r && o.toPieValue > 0 && (s += o.toPieValue, e.push(o), o._angle = Math.atan2(o.to.y - o.from.y, o.to.x - o.from.x))
                            }
                            if (s > 0) {
                                e.sort(function(t, e) {
                                    return t._angle - e._angle
                                });
                                for (var l = t / s, h = 0, u = 0, c = 0; c < e.length; c++) {
                                    var d = e[c];
                                    d.toPie0 = h, h += d.toPieValue * l, d.toPie1 = h;
                                    var p = d._angle - (d.toPie0 + d.toPie1) / 2;
                                    p < 0 && (p += 2 * Math.PI), u += p
                                }
                                u /= e.length, u -= Math.PI;
                                for (var f = 0; f < e.length; f++) {
                                    var g = e[f];
                                    g.toPie0 += u, g.toPie1 += u
                                }
                                e = []
                            }
                        }
                    }, i
                }(p);
                t.NodesLayer = q;
                var X = function(t) {
                    function e(e, i, n) {
                        return t.call(this, e, i, n) || this
                    }
                    return n(e, t), e.prototype.zoomOut = function() {}, e.prototype.zoomOutPossible = function() {
                        return !1
                    }, e.prototype.setSelection = function(t) {
                        for (var e, i = [], n = 0; n < t.length; n++) {
                            var r = t[n];
                            r instanceof h || r instanceof u ? i.push(r) : d.Helpers.isString(r) && (e = this.getNode(r) || this.getLink(r)) ? i.push(e) : this.error("setSelection: Could not find a chart object with the ID `" + r + "`.")
                        }
                        this.scene.setSelection(i) && (this.events.notifySceneChanges({
                            selection: !0
                        }), this.notifySelectionChanged(this.createEventArguments(null, "api")))
                    }, e.prototype.createEventArguments = function(t, e) {
                        var i = null,
                            n = null;
                        if (t && (t.x || t.y)) {
                            var r = this.scene.fromDisplay(t.x, t.y);
                            i = r.x, n = r.y
                        }
                        return {
                            chart: this.api,
                            origin: e,
                            chartX: i,
                            chartY: n,
                            hoverLink: this.scene.hoverLink,
                            hoverNode: this.scene.hoverNode,
                            hoverItem: this.scene.hoverItem,
                            selection: this.scene.selection.slice()
                        }
                    }, e
                }(d.Impl);
                t.Impl = X
            }(u = i.ItemsChart || (i.ItemsChart = {})),
            function(t) {
                var e, i = t.Gestures || (t.Gestures = {}),
                    r = t.Layouts || (t.Layouts = {}),
                    s = t.Bar || (t.Bar = {});
                ! function(t) {
                    t[t.NodeClass = 0] = "NodeClass", t[t.LinkClass = 1] = "LinkClass", t[t.Aura = 2] = "Aura"
                }(e = t.LegendItemType || (t.LegendItemType = {}));
                var a = function(t) {
                        function e(e, i, n, r, s, a, o, l, h) {
                            var u = t.call(this, i, n, r, s) || this;
                            return u.itemId = e, u.enabled = a, u.node = o, u.link = l, u.aura = h, u
                        }
                        return n(e, t), e
                    }(d.LegendEntry),
                    o = function(t) {
                        function e(e, i) {
                            var n = t.call(this, e, null) || this;
                            return n.halfSize = i, n
                        }
                        return n(e, t), e.prototype.distanceToEdge = function() {
                            return this.halfSize
                        }, e
                    }(u.Shape),
                    l = function(t) {
                        function e(e, i) {
                            var n = t.call(this, null, null, !0) || this;
                            return n.label = "", n.data = {
                                id: null,
                                loaded: !0
                            }, n.hHeight = e, n.hWidth = e, n.renderHheight = e, n.renderHwidth = e, n.x = i ? 2 * -e : e + e / 2, n.y = 0, n.shape = new o(n, e), n
                        }
                        return n(e, t), e
                    }(u.Node),
                    h = function(t) {
                        function e() {
                            var e = t.apply(this, arguments) || this;
                            return e.textColorDisabled = "rgba(185, 185, 185, 0.3)", e.showItemsWithClasses = "any", e
                        }
                        return n(e, t), e
                    }(d.SettingsLegendAdvanced);
                t.SettingsLegendAdvanced = h;
                var c = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.panel = new d.SettingsLegendPanel("bottom", "left"), e.advanced = new h, e.mode = "hide", e.marker.size = 30, e.padding = 15, e
                    }
                    return n(e, t), e
                }(d.SettingsLegend);
                t.SettingsLegend = c;
                var p = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.paintOrder = 51, e.updateOrder = 100, e.linkClassState = Object.create(null), e.nodeClassState = Object.create(null), e.allNodeClassesEnabled = !0, e.allLinkClassesEnabled = !0, e
                    }
                    return n(e, t), e.prototype.onSceneChange = function(e) {
                        t.prototype.onSceneChange.call(this, e);
                        var i = e.changes.settingsChanges;
                        (e.changes.auras || i && (i.style && (i.style.nodeClasses || i.style.linkClasses) || i.legend && i.legend.text)) && (this.rebuildItems(e), e.changes.bounds = !0, e.changes.filters = !0)
                    }, e.prototype.doAnimations = function() {
                        return 1
                    }, e.prototype.paintMarker = function(t, e, i, n, r) {
                        if (r.node) {
                            var s = {
                                geometry: this.getGeometry(e, i, .6),
                                paintDetails: !1
                            };
                            this.chart.renderer.paintNodes(t, [r.node], s, 0)
                        } else if (r.link) {
                            var s = {
                                geometry: this.getGeometry(e, i, 1),
                                paintDetails: !0
                            };
                            this.chart.renderer.paintLinks(t, [r.link], {}, s)
                        } else this.paintAuraMarker(t.context, e, i, n, r.aura)
                    }, e.prototype.paintAuraMarker = function(t, e, i, n, r) {
                        var s = n / 527,
                            a = e - n,
                            o = i - n,
                            l = d.Graphics.beginStrokeAndFill(t, r);
                        l.moveTo(878.4 * s + a, 413.8 * s + o), l.bezierCurveTo(856.4 * s + a, 404.2 * s + o, 817.1 * s + a, 388.9 * s + o, 769.7 * s + a, 378.2 * s + o), l.bezierCurveTo(696.1 * s + a, 361.5 * s + o, 679.5 * s + a, 324.1 * s + o, 676.7 * s + a, 308.7 * s + o), l.bezierCurveTo(674.4 * s + a, 296.1 * s + o, 652.9 * s + a, 188.3 * s + o, 589.9 * s + a, 107 * s + o), l.bezierCurveTo(543 * s + a, 42.5 * s + o, 466.9 * s + a, .6 * s + o, 381 * s + a, .6 * s + o), l.bezierCurveTo(238.4 * s + a, .6 * s + o, 122.8 * s + a, 116.2 * s + o, 122.8 * s + a, 258.8 * s + o), l.bezierCurveTo(122.8 * s + a, 264.7 * s + o, 123 * s + a, 270.5 * s + o, 123.4 * s + a, 276.3 * s + o), l.lineTo(122.8 * s + a, 276.9 * s + o), l.bezierCurveTo(122.8 * s + a, 276.9 * s + o, 127 * s + a, 333.8 * s + o, 136.7 * s + a, 389.3 * s + o), l.bezierCurveTo(146.4 * s + a, 444.8 * s + o, 138.1 * s + a, 500.4 * s + o, 106.2 * s + a, 543.4 * s + o), l.bezierCurveTo(74.3 * s + a, 586.4 * s + o, 2.1 * s + a, 689.2 * s + o, 4.9 * s + a, 754.4 * s + o), l.bezierCurveTo(5 * s + a, 755.9 * s + o, 5.2 * s + a, 757.3 * s + o, 5.4 * s + a, 758.8 * s + o), l.bezierCurveTo(4.1 * s + a, 769.2 * s + o, 3.5 * s + a, 779.8 * s + o, 3.5 * s + a, 790.5 * s + o), l.bezierCurveTo(3.5 * s + a, 933.1 * s + o, 119.1 * s + a, 1048.7 * s + o, 261.7 * s + a, 1048.7 * s + o), l.bezierCurveTo(349.6 * s + a, 1048.7 * s + o, 427.2 * s + a, 1004.7 * s + o, 473.9 * s + a, 937.6 * s + o), l.lineTo(474.1 * s + a, 937.6 * s + o), l.bezierCurveTo(474.1 * s + a, 937.6 * s + o, 510.2 * s + a, 891.8 * s + o, 518.5 * s + a, 884.8 * s + o), l.bezierCurveTo(526.8 * s + a, 877.9 * s + o, 568.5 * s + a, 854.3 * s + o, 608.7 * s + a, 869.5 * s + o), l.bezierCurveTo(631.7 * s + a, 878.2 * s + o, 675.6 * s + a, 894.2 * s + o, 719.1 * s + a, 905 * s + o), l.bezierCurveTo(743.4 * s + a, 912.6 * s + o, 769.3 * s + a, 916.7 * s + o, 796.1 * s + a, 916.7 * s + o), l.bezierCurveTo(938.7 * s + a, 916.7 * s + o, 1054.3 * s + a, 801.1 * s + o, 1054.3 * s + a, 658.5 * s + o), l.bezierCurveTo(1054.3 * s + a, 544.8 * s + o, 980.6 * s + a, 448.1 * s + o, 878.4 * s + a, 413.8 * s + o), l.closePath(), d.Graphics.endStrokeAndFill(t, l, r), l = d.Graphics.beginStrokeAndFill(t, {
                            fillColor: "white"
                        }), l.moveTo(796.1 * s + a, 825.2 * s + o), l.bezierCurveTo(718.8 * s + a, 825.2 * s + o, 653.8 * s + a, 772.6 * s + o, 635 * s + a, 701.2 * s + o), l.lineTo(423.3 * s + a, 750 * s + o), l.bezierCurveTo(426.5 * s + a, 763 * s + o, 428.3 * s + a, 776.5 * s + o, 428.3 * s + a, 790.5 * s + o), l.bezierCurveTo(428.3 * s + a, 882.5 * s + o, 353.7 * s + a, 957.1 * s + o, 261.7 * s + a, 957.1 * s + o), l.bezierCurveTo(169.7 * s + a, 957.1 * s + o, 95.1 * s + a, 882.5 * s + o, 95.1 * s + a, 790.5 * s + o), l.bezierCurveTo(95.1 * s + a, 698.5 * s + o, 169.7 * s + a, 623.9 * s + o, 261.7 * s + a, 623.9 * s + o), l.bezierCurveTo(270.7 * s + a, 623.9 * s + o, 279.4 * s + a, 624.6 * s + o, 288 * s + a, 626 * s + o), l.lineTo(331.2 * s + a, 417.8 * s + o), l.bezierCurveTo(263.6 * s + a, 396.6 * s + o, 214.5 * s + a, 333.4 * s + o, 214.5 * s + a, 258.8 * s + o), l.bezierCurveTo(214.5 * s + a, 166.8 * s + o, 289.1 * s + a, 92.2 * s + o, 381.1 * s + a, 92.2 * s + o), l.bezierCurveTo(473.1 * s + a, 92.2 * s + o, 547.7 * s + a, 166.8 * s + o, 547.7 * s + a, 258.8 * s + o), l.bezierCurveTo(547.7 * s + a, 298.1 * s + o, 534.1 * s + a, 334.1 * s + o, 511.4 * s + a, 362.6 * s + o), l.lineTo(684 * s + a, 535.3 * s + o), l.bezierCurveTo(713.6 * s + a, 508.4 * s + o, 752.9 * s + a, 492 * s + o, 796.1 * s + a, 492 * s + o), l.bezierCurveTo(888.1 * s + a, 492 * s + o, 962.7 * s + a, 566.6 * s + o, 962.7 * s + a, 658.6 * s + o), l.bezierCurveTo(962.7 * s + a, 750.6 * s + o, 888.1 * s + a, 825.2 * s + o, 796.1 * s + a, 825.2 * s + o), l.closePath(), l.moveTo(381 * s + a, 425.4 * s + o), l.bezierCurveTo(374.2 * s + a, 425.4 * s + o, 367.6 * s + a, 425 * s + o, 361 * s + a, 424.2 * s + o), l.lineTo(317.5 * s + a, 633.5 * s + o), l.bezierCurveTo(359.9 * s + a, 648.6 * s + o, 394.3 * s + a, 680.4 * s + o, 413 * s + a, 721 * s + o), l.lineTo(630 * s + a, 671 * s + o), l.bezierCurveTo(629.7 * s + a, 666.9 * s + o, 629.5 * s + a, 662.8 * s + o, 629.5 * s + a, 658.6 * s + o), l.bezierCurveTo(629.5 * s + a, 620.8 * s + o, 642.1 * s + a, 585.9 * s + o, 663.4 * s + a, 557.9 * s + o), l.lineTo(490.2 * s + a, 384.6 * s + o), l.bezierCurveTo(460.9 * s + a, 410 * s + o, 422.8 * s + a, 425.4 * s + o, 381 * s + a, 425.4 * s + o), l.closePath(), d.Graphics.endStrokeAndFill(t, l, {
                            fillColor: "white"
                        })
                    }, e.prototype.rebuildItems = function(t) {
                        var e = this.chart.scene.settings.style,
                            i = [],
                            n = this.settings.marker.size / 2,
                            r = this.settings.text.fillColor,
                            s = this.settings.advanced.textColorDisabled,
                            o = this.nodeClassState,
                            h = this.linkClassState;
                        this.nodeClassState = Object.create(null), this.linkClassState = Object.create(null), this.allLinkClassesEnabled = !0, this.allNodeClassesEnabled = !0, this.chart.layer.styleUpdater.setItemRenderer(t.labelRenderer), this.chart.layer.styleUpdater.setContext(t.context);
                        for (var c = 0; c < e.nodeClasses.length; c++) {
                            var p = e.nodeClasses[c];
                            if (p.showInLegend && null != p.style) {
                                var f = d.Helpers.clone(e.node);
                                d.Helpers.extendStyleTo(p.style, f);
                                var g = new l(n, !1);
                                d.Helpers.extendStyleTo(f, g), this.chart.layer.styleUpdater.postprocessNode(g);
                                var m = !d.Helpers.hasProperty(o, p.className) || o[p.className];
                                this.nodeClassState[p.className] = m, m || (this.allNodeClassesEnabled = !1), i.push(new a(p.className, p.nameLegend || p.className, r, s, p.legendGroupId, m, g, null, null))
                            }
                        }
                        for (var v = 0; v < e.linkClasses.length; v++) {
                            var y = e.linkClasses[v];
                            if (y.showInLegend && null != y.style) {
                                var f = d.Helpers.clone(e.link);
                                d.Helpers.extendStyleTo(y.style, f);
                                var S = new u.Link(null, null);
                                d.Helpers.extendStyleTo(f, S), S.currentRadius = S.radius, S.from = new l(n, !0), S.to = new l(n, !1);
                                var m = !d.Helpers.hasProperty(h, y.className) || h[y.className];
                                this.linkClassState[y.className] = m, this.allLinkClassesEnabled = this.allLinkClassesEnabled && m, i.push(new a(y.className, y.nameLegend || y.className, r, s, y.legendGroupId, m, null, S, null))
                            }
                        }
                        for (var b = this.chart.settings.auras._calculatedStyles, x = Object.keys(b), C = 0; C < x.length; C++) {
                            var w = x[C],
                                L = b[w];
                            L.enabled || (this.allNodeClassesEnabled = !1), (L.showInLegend || null == L.showInLegend) && i.push(new a(w, L.nameLegend || w, r, s, L.legendGroupId, L.enabled, null, null, L))
                        }
                        this.resetEntries(i)
                    }, e.prototype.getGeometry = function(t, e, i) {
                        var n = this.settings.marker.size,
                            r = -n,
                            s = n,
                            a = -n,
                            o = n,
                            l = i,
                            h = i,
                            u = t,
                            c = e,
                            d = t - n,
                            p = t + n,
                            f = e - n,
                            g = e + n;
                        return {
                            txm: l,
                            txa: u,
                            tym: h,
                            tya: c,
                            zoom: i,
                            x0s: d,
                            x1s: p,
                            y0s: f,
                            y1s: g,
                            x0w: r,
                            y0w: a,
                            x1w: s,
                            y1w: o,
                            linkZoom: i
                        }
                    }, e.prototype.itemClicked = function(e, i) {
                        t.prototype.itemClicked.call(this, e, i), this.nodeClassState = Object.create(null), this.linkClassState = Object.create(null), this.allLinkClassesEnabled = !0, this.allNodeClassesEnabled = !0;
                        for (var n = 0; n < this.entries.length; n++) {
                            var r = this.entries[n];
                            if (r.node) this.nodeClassState[r.itemId] = r.enabled, r.enabled || (this.allNodeClassesEnabled = !1);
                            else if (r.link) this.linkClassState[r.itemId] = r.enabled, r.enabled || (this.allLinkClassesEnabled = !1);
                            else {
                                var s = this.chart.settings.auras;
                                s._calculatedStyles[r.itemId].enabled = r.enabled, s.style[r.itemId].enabled = r.enabled, s._defaultStyles[r.itemId].enabled = r.enabled, this.chart.events.notifySceneChanges({
                                    settingsChanges: {
                                        auras: {}
                                    }
                                }), r.enabled || (this.allNodeClassesEnabled = !1)
                            }
                        }
                        this.chart.events.notifySceneChanges({
                            filters: !0
                        })
                    }, e.prototype.isNodeVisible = function(t) {
                        return "hide" !== this.settings.mode || this.isNodeEnabled(t)
                    }, e.prototype.isLinkVisible = function(t) {
                        return "hide" !== this.settings.mode || this.isLinkEnabled(t)
                    }, e.prototype.isNodeHighlighted = function(t) {
                        return "highlight" === this.settings.mode && !this.isNodeEnabled(t)
                    }, e.prototype.isLinkHighlighted = function(t) {
                        return "highlight" === this.settings.mode && !this.isLinkEnabled(t)
                    }, e.prototype.isNodeEnabled = function(t) {
                        if (this.allNodeClassesEnabled) return !0;
                        var e = t.className,
                            i = t.style ? t.style.aura : null;
                        if (!e && !i) return !0;
                        var n = u.ItemsStyle.getClasses(e, this.chart.settings.style.classSplitChar),
                            r = Array.isArray(i) ? i : [i],
                            s = this.chart.settings.auras._calculatedStyles;
                        if ("any" === this.settings.advanced.showItemsWithClasses) {
                            for (var a = !1, o = !1, l = 0; l < n.length; l++)
                                if (d.Helpers.hasProperty(this.nodeClassState, n[l])) {
                                    if (this.nodeClassState[n[l]]) {
                                        o = !0;
                                        break
                                    }
                                    a = !0
                                } for (var l = 0; l < r.length; l++)
                                if (d.Helpers.hasProperty(s, r[l])) {
                                    if (s[r[l]].enabled) {
                                        o = !0;
                                        break
                                    }
                                    a = !0
                                } return o || !a
                        }
                        for (var l = 0; l < n.length; l++)
                            if (d.Helpers.hasProperty(this.nodeClassState, n[l]) && !this.nodeClassState[n[l]]) return !1;
                        for (var l = 0; l < r.length; l++)
                            if (d.Helpers.hasProperty(s, r[l]) && !s[r[l]].enabled) return !1;
                        return !0
                    }, e.prototype.isLinkEnabled = function(t) {
                        if (this.allLinkClassesEnabled) return !0;
                        var e = t.className;
                        if (!e) return !0;
                        var i = u.ItemsStyle.getClasses(e, this.chart.settings.style.classSplitChar);
                        if ("any" === this.settings.advanced.showItemsWithClasses) {
                            for (var n = !1, r = !1, s = 0; s < i.length; s++)
                                if (d.Helpers.hasProperty(this.linkClassState, i[s])) {
                                    if (this.linkClassState[i[s]]) {
                                        r = !0;
                                        break
                                    }
                                    n = !0
                                } return r || !n
                        }
                        for (var s = 0; s < i.length; s++)
                            if (d.Helpers.hasProperty(this.linkClassState, i[s]) && !this.linkClassState[i[s]]) return !1;
                        return !0
                    }, e
                }(d.Legend);
                t.Legend = p,
                    function(e) {
                        var i = function(t) {
                            function e(e, i) {
                                var n = t.call(this, e, i) || this;
                                n.scene = e.scene, n.events = e.events;
                                var r = d.Helpers.createDom("bmch-div", null, null, this.chart.settings.container.getElementsByClassName("BMCH-container BMCH-NetChart")[0]);
                                var y = d.Helpers.createDom("bmch-li", null, null, null);
                                return r.id = this.chart.settings.container.id+" BMCH-NC-zoom-container", r.className = "BMCH-NC-zoom-container", n.domElement = y, n
                            }
                            return n(e, t), e.prototype.onDOMAdd = function() {
                                var t = this,
                                    y = document.getElementById(this.chart.settings.container.id+" BMCH-NC-zoom-container"),
                                    e = d.Helpers.createDom("bmch-span", "BMCH-NC-zoom", null, y);
                                this.handle = d.Helpers.createDom("bmch-em", null, null, e), this.mouse = new d.MouseEvents(y, this.scene.settings.advanced.pointer), this.mouse.listen("drag", function(e) {
                                    return t.zoomMove(e)
                                }), this.mouse.listen("down", function(e) {
                                    return t.zoomDown(e)
                                })
                            }, e.prototype.zoomDown = function(t) {
                                t.y < 100 && this.zoomMove(t)
                            }, e.prototype.zoomMove = function(t) {
                                var e = t.y - 10;
                                e = Math.max(0, Math.min(80, e)), this.handle.style.top = e + "px";
                                var i = this.getZoomValue(e / 80);
                                this.chart.autoZoom.manualZoom(i / this.scene.zoom), this.events.notifySceneChanges({
                                    position: !0
                                }), t.consumed = !0
                            }, e.prototype.getSliderPosition = function() {
                                if (!this.chart || !this.chart.autoZoom) return 0;
                                var t = this.scene.settings.interaction.zooming.zoomExtent,
                                    e = Math.min(t[0], this.chart.autoZoom.minimumAutoZoom),
                                    i = t[1],
                                    n = Math.log(Math.max(e, Math.min(i, this.scene.zoom)));
                                return e = Math.log(e), i = Math.log(i), 1 - (n - e) / (i - e)
                            }, e.prototype.getZoomValue = function(t) {
                                if (!this.chart || !this.chart.autoZoom) return 0;
                                var e = this.scene.settings.interaction.zooming.zoomExtent,
                                    i = Math.min(e[0], this.chart.autoZoom.minimumAutoZoom),
                                    n = e[1];
                                i = Math.log(i), n = Math.log(n);
                                var r = (1 - t) * (n - i) + i;
                                return Math.exp(r)
                            }, e.prototype.doAnimations = function(t) {
                                var e = this.getSliderPosition();
                                this.handle.style.top = 80 * e + "px"
                            }, e.prototype.remove = function() {
                                this.mouse.remove()
                            }, e
                        }(d.Bar.Item);
                        e.ZoomControl = i, d.Bar.ToolbarItemNames.zoomControl = d.Bar.ToolbarItemNames.zoomcontrol = function(e, i) {
                            return new t.Bar.ZoomControl(e, i)
                        };
                        var r = function(t) {
                            function e(e, i) {
                                var n = t.call(this, e, i, function() {
                                    var t = e.settings.localization.toolbar;
                                    return {
                                        labelDisabled: i.label || t.lassoButton,
                                        titleDisabled: i.title || t.lassoTitle,
                                        cssClassEnabled: "BMCH-bar-btn-lasso-active",
                                        cssClassDisabled: i.cssClass || "BMCH-bar-btn-lasso",
                                        onEnable: function() {
                                            e.isLassoEnabled = !0, n.initLassoEditMode(), n.newPoints = [], n.chart.events.notifySceneChanges({
                                                requestPaint: !0
                                            })
                                        },
                                        onDisable: function() {
                                            e.isLassoEnabled = !1, n.finishLassoDrawing(), n.deInitLassoEditMode()
                                        },
                                        getChartState: function() {
                                            return e.isLassoEnabled
                                        }
                                    }
                                }()) || this;
                                n.tolerance = .2, n.tolerances = [.2, .2, .2, .2, .2, .2, .05, .04, .03, .01, .005, .0025, .0012, 6e-4, 3e-4, 15e-5, 75e-6, 36e-6, 18e-6], n.defaultShapeMeta = {
                                    name: "untitled",
                                    fillColor: "#ff0000",
                                    fillColorOpacity: "10",
                                    lineColor: "#ff0000",
                                    lineColorOpacity: "100",
                                    lineWidth: "1"
                                }, n.points = [], n.pointsMeta = [], n.newPoints = [], n.curMousePos = {
                                    x: 0,
                                    y: 0
                                }, n.initialMousePos = {
                                    x: 0,
                                    y: 0
                                }, n.initialPointPos = {
                                    x: 0,
                                    y: 0
                                }, n.activeShapeId = null, n.activePointIndex = null, n.activeEdgeIndex = null, n.activeShapePoints = [], n.interactionMode = "viewing", n.shouldDrawMousePoint = !1, n.keyUpHandler = null, e.lasso = n, n.scene = e.scene;
                                var r = n;
                                return n.keyUpHandler = function(t) {
                                    r.onKeyUp(t)
                                }, n
                            }
                            return n(e, t), e.prototype.initLassoEditMode = function() {
                                document.addEventListener("keyup", this.keyUpHandler)
                            }, e.prototype.deInitLassoEditMode = function() {
                                document.removeEventListener("keyup", this.keyUpHandler)
                            }, e.prototype.onKeyUp = function(t) {
                                var e = t.keyCode,
                                    i = this.chart;
                                27 == e ? i.lassoMenu.isMenuVisible() ? i.lassoMenu.hideMenu() : "moving" == this.interactionMode ? (this.points[this.activeShapeId] = this.activeShapePoints, this.activeShapePoints = [], this.finishPointMoving()) : "drawing" == this.interactionMode ? (this.newPoints = [], this.finishLassoDrawing()) : "repositioning" == this.interactionMode && (this.points[this.activeShapeId] = d.Helpers.realClone(this.activeShapePoints), this.activeShapeId = null, this.finishRepositioning()) : 13 == e ? i.lassoMenu.isMenuVisible() ? i.lassoMenu.saveMeta() && i.lassoMenu.hideMenu() : "moving" == this.interactionMode ? this.finishPointMoving() : "repositioning" == this.interactionMode ? (this.activeShapePoints = d.Helpers.realClone(this.points[this.activeShapeId]), this.finishRepositioning()) : this.finishLassoDrawing() : 8 != e && 46 != e || ("moving" == this.interactionMode ? (this.points[this.activeShapeId].splice(2 * this.activePointIndex, 2), this.finishPointMoving()) : "drawing" == this.interactionMode ? this.newPoints.length > 1 && (this.newPoints.splice(this.newPoints.length - 2, 2), this.chart.events.notifySceneChanges({
                                    requestPaint: !0
                                })) : "repositioning" == this.interactionMode && (this.points.splice(this.activeShapeId, 1), this.pointsMeta.splice(this.activeShapeId, 1), this.finishRepositioning()))
                            }, e.prototype.paintScene = function(t) {
                                var e = t.context,
                                    i = this.chart;
                                if (i.isLassoEnabled) {
                                    for (var n = 0; n < this.points.length; n++) {
                                        var r = this.pointsMeta[n];
                                        this.activeShapeId === n && (r = d.Helpers.realClone(r), r.fillColorOpacity = "20"), this.paintArea(e, this.points[n], r)
                                    }
                                    for (var n = 0; n < this.points.length; n++) this.paintMarkers(e, this.points[n], n);
                                    if ("viewing" == this.interactionMode || "drawing" == this.interactionMode) {
                                        var s = this.shouldDrawMousePoint ? [this.curMousePos.x, this.curMousePos.y] : [];
                                        this.paintArea(e, this.newPoints.concat(s), this.defaultShapeMeta), this.paintMarkers(e, this.newPoints.concat(s), null, !0)
                                    }
                                }
                            }, e.prototype.finishLassoDrawing = function() {
                                var t = !1;
                                this.newPoints.length > 4 && (this.points.push(this.newPoints), this.pointsMeta.push(d.Helpers.realClone(this.defaultShapeMeta)), t = !0), this.newPoints = [], t && this.notifyLassoUpdated(), this.interactionMode = "viewing", this.chart.events.notifySceneChanges({
                                    requestPaint: !0
                                })
                            }, e.prototype.notifyLassoUpdated = function() {
                                this.chart.notifyLassoUpdated({
                                    chart: this.chart.api,
                                    origin: "user",
                                    points: this.points,
                                    pointsMeta: this.pointsMeta
                                })
                            }, e.prototype.setPoints = function(t, e) {
                                this.points = t, this.pointsMeta = this.validatePointsMeta(e), this.chart.events.notifySceneChanges({
                                    requestPaint: !0
                                })
                            }, e.prototype.validatePointsMeta = function(t) {
                                for (var e = t, i = 0; i < e.length; i++)
                                    for (var n in this.defaultShapeMeta) "undefined" == typeof e[i][n] && (e[i][n] = this.defaultShapeMeta[n]);
                                return e
                            }, e.prototype.paintArea = function(t, e, i) {
                                if (t.fillStyle = d.Colors.derive(i.fillColor, 1, parseFloat(i.fillColorOpacity) / 100), t.strokeStyle = d.Colors.derive(i.lineColor, 1, parseFloat(i.lineColorOpacity) / 100), t.lineWidth = parseInt(i.lineWidth), e.length >= 4) {
                                    t.beginPath();
                                    var n = this.scene.toDisplay(e[0], e[1]),
                                        r = n.x,
                                        s = n.y;
                                    t.moveTo(r, s);
                                    for (var a = 2; a < e.length; a += 2) {
                                        var o = this.scene.toDisplay(e[a], e[a + 1]),
                                            l = o.x,
                                            h = o.y;
                                        t.lineTo(l, h)
                                    }
                                    t.closePath(), t.stroke(), t.fill()
                                }
                            }, e.prototype.paintMarkers = function(t, e, i, n) {
                                void 0 === i && (i = null), void 0 === n && (n = !1);
                                var r = "black",
                                    s = null,
                                    a = 3,
                                    o = this.scene.settings.advanced.themeCSSClass;
                                "BMCH-dark" === o ? (t.strokeStyle = "darkgray", t.lineWidth = 1) : (t.strokeStyle = r, t.lineWidth = 0), n && (r = d.Colors.derive(r, 1, .75));
                                for (var l = 0; l < e.length; l += 2) {
                                    var h = n && l === e.length - 2 ? 2 * a : 3;
                                    this.activeShapeId === i && null !== this.activeShapeId && null === this.activeEdgeIndex ? null !== this.activePointIndex ? l / 2 == this.activePointIndex ? (s = "red", h = 3 * a) : s = r : s = "red" : null !== this.activeEdgeIndex && n ? (h = a, s = "red", t.lineWidth = 2, t.strokeStyle = "black") : s = r, t.fillStyle = s;
                                    var u = this.scene.toDisplay(e[l], e[l + 1]),
                                        c = u.x,
                                        p = u.y;
                                    t.beginPath(), d.Graphics.strokeMarker(t, "circle", c, p, h), t.fill(), t.stroke()
                                }
                            }, e.prototype.isOnLine = function(t, e, i, n, r, s, a) {
                                var o = r - t,
                                    l = s - e,
                                    h = r - i,
                                    u = s - n,
                                    c = i - t,
                                    d = n - e;
                                if (t <= i) {
                                    if (r < t - a || r > i + a) return !1
                                } else if (r < i - a || r > t + a) return !1;
                                if (e <= n) {
                                    if (s < e - a || s > n + a) return !1
                                } else if (s < n - a || s > e + a) return !1;
                                if (!o || !l) return !0;
                                var p = Math.sqrt(o * o + l * l),
                                    f = Math.sqrt(h * h + u * u),
                                    g = Math.sqrt(c * c + d * d),
                                    m = (f * f - p * p) / (-2 * g) - g / -2,
                                    v = Math.sqrt(p * p - m * m);
                                return v < a
                            }, e.prototype.isInsidePoly = function(t, e, i) {
                                for (var n = !1, r = 0, s = i.length - 2; r < i.length;) {
                                    var a = i[r],
                                        o = i[r + 1],
                                        l = i[s],
                                        h = i[s + 1],
                                        u = o > e != h > e && t < (l - a) * (e - o) / (h - o) + a;
                                    u && (n = !n), s = r, r += 2
                                }
                                return n
                            }, e.prototype.onLassoClick = function(t) {
                                var e = this.scene.fromDisplay(t.x, t.y),
                                    i = e.x,
                                    n = e.y;
                                if ("viewing" == this.interactionMode) {
                                    var r = this.hasHitShape(i, n);
                                    if (null !== this.activePointIndex && null !== this.activeShapeId) {
                                        this.interactionMode = "moving", this.activeShapePoints = [];
                                        for (var s = 0; s < this.points[this.activeShapeId].length; s++) this.activeShapePoints.push(this.points[this.activeShapeId][s]);
                                        this.initialPointPos = {
                                            x: this.points[this.activeShapeId][2 * this.activePointIndex],
                                            y: this.points[this.activeShapeId][2 * this.activePointIndex + 1]
                                        };
                                        var a = t;
                                        null !== this.activeEdgeIndex ? (this.points[this.activeShapeId].splice(2 * this.activePointIndex + 2, 0, this.curMousePos.x, this.curMousePos.y), this.activePointIndex++) : (a.shiftKey || a.metaKey || a.ctrlKey) && (this.points[this.activeShapeId].splice(2 * this.activePointIndex, 0, this.initialPointPos.x, this.initialPointPos.y), this.activePointIndex++), t.preventDefault(), t.consumed = !0, t.changes.requestPaint = !0
                                    } else if (null !== r) {
                                        this.interactionMode = "repositioning", this.activeShapePoints = [], this.activeShapeId = r;
                                        for (var o = 0; o < this.points[this.activeShapeId].length; o++) this.activeShapePoints.push(this.points[this.activeShapeId][o]);
                                        this.initialMousePos.x = i, this.initialMousePos.y = n, t.preventDefault(), t.consumed = !0, t.changes.requestPaint = !0
                                    } else this.interactionMode = "drawing", this.shouldDrawMousePoint = !1, t.preventDefault(), t.consumed = !0, this.newPoints.push(i), this.newPoints.push(n), t.changes.requestPaint = !0
                                } else if ("repositioning" == this.interactionMode) this.finishRepositioning(), t.consumed = !0, t.changes.requestPaint = !0, t.preventDefault();
                                else if ("drawing" == this.interactionMode) t.preventDefault(), t.consumed = !0, this.newPoints.push(i), this.newPoints.push(n), t.changes.requestPaint = !0;
                                else if ("moving" == this.interactionMode) {
                                    var a = t;
                                    a.shiftKey || a.metaKey || a.ctrlKey ? (this.points[this.activeShapeId].splice(2 * this.activePointIndex, 0, i, n), this.activePointIndex++) : this.finishPointMoving(), t.consumed = !0, t.changes.requestPaint = !0, t.preventDefault()
                                }
                            }, e.prototype.finishRepositioning = function() {
                                this.activeShapeId = null, this.interactionMode = "viewing", this.notifyLassoUpdated()
                            }, e.prototype.finishPointMoving = function() {
                                this.notifyLassoUpdated(), this.interactionMode = "viewing", this.activePointIndex = null, this.activeShapeId = null
                            }, e.prototype.onPointerDown = function(t) {}, e.prototype.onPointerUp = function(t) {}, e.prototype.onPointerDrag = function(t) {}, e.prototype.onInstantClick = function(t) {}, e.prototype.onPointerMove = function(t) {
                                var e = this.scene.fromDisplay(t.x, t.y),
                                    i = e.x,
                                    n = e.y;
                                if (this.curMousePos = {
                                        x: i,
                                        y: n
                                    }, this.shouldDrawMousePoint = !1, t.changes.requestPaint = !0, "viewing" == this.interactionMode) {
                                    var r = (this.chart.scene, d.Helpers.extractCSSTransformScaleRecursive(this.chart.settings.container, 1, 1));
                                    this.activePointIndex = null, this.activeShapeId = null, this.activeEdgeIndex = null;
                                    for (var s = this.points, a = this.getToleranceAtZoomLevel(), o = function(t) {
                                            return Math.round(100 * t) / 100
                                        }, l = 0; l < s.length; l++)
                                        for (var h = s[l].length / 2, u = 0; u < h; u++) {
                                            var c = s[l][2 * u],
                                                p = s[l][2 * u + 1],
                                                f = a * r[0] - Math.abs(i - c),
                                                g = a * r[0] - Math.abs(n - p);
                                            if (f >= 0 && g >= 0) return this.activeShapeId = l, void(this.activePointIndex = u)
                                        }
                                    for (var l = 0; l < s.length; l++)
                                        for (var h = s[l].length / 2, u = 0; u < h; u++) {
                                            var m = u == h - 1 ? 0 : u + 1,
                                                c = s[l][2 * u],
                                                p = s[l][2 * u + 1],
                                                v = s[l][2 * m],
                                                y = s[l][2 * m + 1];
                                            ["shape:", l, "point", u, "x0", o(c), "y0", o(p), "x1", o(v), "y1", o(y), "x", o(i), "y", o(n), "tolerance", a / 2 * r[0]].join("\t");
                                            if (this.isOnLine(c, p, v, y, i, n, a / 2 * r[0])) return this.activeEdgeIndex = u, this.activePointIndex = u, void(this.activeShapeId = l)
                                        }
                                } else if ("moving" == this.interactionMode) this.points[this.activeShapeId][2 * this.activePointIndex] = i, this.points[this.activeShapeId][2 * this.activePointIndex + 1] = n;
                                else if ("repositioning" == this.interactionMode)
                                    for (var S = this.points[this.activeShapeId], f = i - this.initialMousePos.x, g = n - this.initialMousePos.y, l = 0; l < S.length / 2; l++) this.points[this.activeShapeId][2 * l] = this.activeShapePoints[2 * l] + f, this.points[this.activeShapeId][2 * l + 1] = this.activeShapePoints[2 * l + 1] + g
                            }, e.prototype.getToleranceAtZoomLevel = function() {
                                var t = this.chart.scene,
                                    e = t.zoomLevel;
                                return "undefined" != typeof this.tolerances[e] ? this.tolerances[e] : this.tolerance
                            }, e.prototype.onPointerOut = function(t) {}, e.prototype.onRightClick = function(t) {
                                t.preventDefault(), t.consumed = !0;
                                var e = this.scene.fromDisplay(t.x, t.y),
                                    i = e.x,
                                    n = e.y;
                                if ("viewing" == this.interactionMode) {
                                    var r = this.hasHitShape(i, n);
                                    null !== r && (this.showPointMetaEditor(r, t), t.changes.requestPaint = !0)
                                } else "drawing" == this.interactionMode ? this.newPoints.length > 3 && (this.newPoints.push(i), this.newPoints.push(n), this.finishLassoDrawing()) : "moving" == this.interactionMode && this.finishPointMoving();
                                return !1
                            }, e.prototype.hasHitShape = function(t, e) {
                                for (var i = this.points.length - 1; i >= 0; i--)
                                    if (this.isInsidePoly(t, e, this.points[i])) return i;
                                return null
                            }, e.prototype.showPointMetaEditor = function(t, e) {
                                this.interactionMode = "editing";
                                var i = this.chart;
                                i.lassoMenu.toggleMenu(e, t, this.pointsMeta[t], this)
                            }, e.prototype.setShapeMeta = function(t, e) {
                                this.pointsMeta[t] = e, this.notifyLassoUpdated(), this.chart.events.notifySceneChanges({
                                    requestPaint: !0
                                })
                            }, e.prototype.metaEditorClosed = function() {
                                this.interactionMode = "viewing"
                            }, e.prototype.deleteShape = function(t) {
                                this.points.splice(t, 1), this.pointsMeta.splice(t, 1), this.notifyLassoUpdated(), this.chart.events.notifySceneChanges({
                                    requestPaint: !0
                                })
                            }, e.prototype.onLongPress = function(t) {}, e.prototype.onDoubleClick = function(t) {}, e
                        }(d.Bar.ToggleButton);
                        e.LassoTool = r, d.Bar.ToolbarItemNames.lasso = function(e, i) {
                            return new t.Bar.LassoTool(e, i)
                        }, d.Bar.ToolbarItemNames.rearrange = function(t, e) {
                            var i = t.settings.localization.toolbar;
                            e.label = e.label || i.rearrangeButton, e.title = e.title || i.rearrangeTitle, e.cssClass = e.cssClass || "BMCH-bar-btn-rearrange";
                            var n = e.onClick;
                            return e.onClick = function(e, i) {
                                t.resetLayout(), n && n(e, i)
                            }, new d.Bar.Button(t, e)
                        }, d.Bar.ToolbarItemNames.freeze = function(t, e) {
                            var i = t.settings.localization.toolbar;
                            return new d.Bar.ToggleButton(t, e, {
                                labelDisabled: e.label || i.freezeButton,
                                cssClassEnabled: "BMCH-bar-btn-lock-all-active",
                                cssClassDisabled: e.cssClass || "BMCH-bar-btn-lock-all",
                                titleEnabled: i.unfreezeTitle,
                                titleDisabled: i.freezeTitle,
                                getChartState: function() {
                                    return t.isLayoutFrozen
                                },
                                onEnable: function() {
                                    return t.freezeLayout()
                                },
                                onDisable: function() {
                                    return t.unfreezeLayout()
                                }
                            })
                        }, d.Bar.ToolbarItemNames.fit = function(t, e) {
                            var i = t.settings.localization.toolbar;
                            return new d.Bar.ToggleButton(t, e, {
                                labelDisabled: e.label || i.fitButton,
                                cssClassEnabled: "BMCH-bar-btn-fit-active",
                                cssClassDisabled: e.cssClass || "BMCH-bar-btn-fit",
                                titleDisabled: e.title || i.fitTitle,
                                getChartState: function() {
                                    return "overview" === t.scene.autoZoomMode
                                },
                                onEnable: function() {
                                    return t.autoZoom.setZoom("overview")
                                },
                                onDisable: function() {
                                    return t.autoZoom.setZoom("auto")
                                }
                            })
                        };
                        var s = function(t) {
                            function e() {
                                var e = t.call(this) || this;
                                return e.zoomControl = !0, e.fit = !0, e.freeze = !0, e.rearrange = !0, e.enabled = !0, e.showLabels = !1, e.fullscreen = !0, e.fit = !0, e.freeze = !0, e.rearrange = !0, e.export = !1, e.items = [new d.SettingsToolbarItem("fit"), new d.SettingsToolbarItem("rearrange"), new d.SettingsToolbarItem("freeze"), new d.SettingsToolbarItem("back"), new d.SettingsToolbarItem("fullscreen"), new d.SettingsToolbarItem("export"), new d.SettingsToolbarItem("zoomControl")], e
                            }
                            return n(e, t), e
                        }(d.SettingsToolbar);
                        e.SettingsToolbar = s;
                        var a = function(t) {
                            function e() {
                                var e = t.apply(this, arguments) || this;
                                return e.rearrangeButton = "Rearrange", e.rearrangeTitle = "Rearrange elements", e.freezeButton = "Freeze", e.freezeTitle = "Lock all", e.unfreezeTitle = "Unlock all", e.fitButton = "Fit", e.fitTitle = "Fit to screen", e.lassoButton = "Lasso", e.lassoTitle = "Lasso shape tool", e
                            }
                            return n(e, t), e
                        }(d.SettingsLocalizationToolbar);
                        e.SettingsLocalizationToolbar = a
                    }(s = t.Bar || (t.Bar = {}));
                var f = function(t) {
                    function e(i) {
                        var n = t.call(this, d.SettingsMapping.NetChartSettings) || this;
                        return n.theme = f.DarkTheme, n.data = [], n.area = new m, n.events = new P, n.style = new k, n.auras = new u.SettingsNodesLayerAuras, n.layout = new C, n.filters = {
                                nodeFilter: null,
                                linkFilter: null,
                                nodeLinksProcessor: null,
                                multilinkProcessor: null
                            }, n.interaction = new v, n.navigation = new b, n.toolbar = new s.SettingsToolbar,
                            n.localization = new g, n.legend = new c, n.nodeMenu.buttons = ["hide", "expand", "focus", "lock"], n.apply(i), n._initializing = !1, n
                    }
                    return n(e, t), e.prototype.apply = function(e) {
                        return this.applyCompatibility(e, [{
                            from: "interaction.zooming.autoZoomPositionEllasticity",
                            to: "interaction.zooming.autoZoomPositionElasticity"
                        }, {
                            from: "navigation.nodeExpansionRadius",
                            to: "navigation.focusNodeExpansionRadius"
                        }, {
                            from: "localization.menu.dynaminc",
                            to: "localization.menu.dynamic"
                        }]), t.prototype.apply.call(this, e)
                    }, e
                }(u.Settings);
                f.FlatTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat"
                    }
                }, f.LightTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat"
                    },
                    area: {
                        style: {
                            fillColor: "rgba(236, 236, 236, 1)"
                        }
                    },
                    title: {
                        margin: 15,
                        style: {
                            fillColor: "rgba(23, 23, 23, 0.8)"
                        }
                    },
                    legend: {
                        advanced: {
                            textColorDisabled: "rgba(23, 23, 27, 0.3)"
                        },
                        text: {
                            fillColor: "rgba(23, 23, 23, 0.8)"
                        }
                    },
                    style: {
                        node: {
                            fillColor: "rgba(77, 187, 200, 1)"
                        },
                        link: {
                            fillColor: "rgba(30, 30, 35, 0.2)"
                        },
                        linkHovered: {
                            shadowColor: "rgba(77, 187, 200, 1)"
                        },
                        hiddenLinks: {
                            lineColor: "rgba(30, 30, 35, 0.2)"
                        },
                        nodeHovered: {
                            shadowColor: "rgba(77, 187, 200, 1)",
                            shadowOffsetY: 0,
                            shadowBlur: 12
                        },
                        nodeLabel: {
                            padding: 4,
                            borderRadius: 10,
                            textStyle: {
                                fillColor: "rgba(23, 23, 23, 1)",
                            },
                            backgroundStyle: {
                                fillColor: "rgba(77, 187, 200, 1)",
                                lineColor: null
                            }
                        },
                        linkLabel: {
                            padding: .6,
                            backgroundStyle: {
                                lineColor: "rgba(30, 30, 35, 0.2)",
                                fillColor: "rgba(30, 30, 35, 0.2)"
                            },
                            textStyle: {
                                fillColor: "rgba(23, 23, 23, 1)"
                            }
                        },
                        selection: {
                            fillColor: "rgba(195, 102, 74, 1)",
                            shadowColor: "rgba(30, 30, 35, 0.2)",
                            sizeConstant: 1,
                            shadowBlur: 24,
                            shadowOffsetY: 1
                        }
                    }
                }, f.DarkTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-dark"
                    },
                    area: {
                        style: {
                            fillColor: "rgba(23, 23, 27, 1)"
                        }
                    },
                    title: {
                        margin: 15,
                        style: {
                            fillColor: "rgba(185, 185, 185, 1)"
                        }
                    },
                    legend: {
                        text: {
                            fillColor: "rgba(185, 185, 185, 1)",
                        },
                    },
                    style: {
                        node: {
                            fillColor: "rgba(85, 237, 255, 1)"
                        },
                        link: {
                            fillColor: "rgba(185, 185, 185, 0.2)"
                        },
                        linkHovered: {
                            shadowColor: "rgba(85, 237, 255, 1)"
                        },
                        hiddenLinks: {
                            lineColor: "rgba(185, 185, 185, 0.2)"
                        },
                        nodeHovered: {
                            shadowColor: "rgba(85, 237, 255, 1)",
                            shadowOffsetY: 0,
                            shadowBlur: 12
                        },
                        nodeLabel: {
                            padding: 4,
                            borderRadius: 10,
                            textStyle: {
                                fillColor: "rgba(23, 23, 23, 1)",
                            },
                            backgroundStyle: {
                                fillColor: "rgba(85, 237, 255, 1)",
                                lineColor: null
                            }
                        },
                        linkLabel: {
                            padding: .6,
                            backgroundStyle: {
                                lineColor: "rgba(185, 185, 185, 0.2)",
                                fillColor: "rgba(185, 185, 185, 0.2)"
                            },
                            textStyle: {
                                fillColor: "rgba(23, 23, 23, 1)"
                            }
                        },
                        selection: {
                            fillColor: "rgba(225, 101, 64, 1)",
                            shadowColor: "rgba(225, 101, 64, 0.2s)",
                            sizeConstant: 1,
                            shadowBlur: 24,
                            shadowOffsetY: 1
                        }
                    }
                }, t.Settings = f;
                var g = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.toolbar = new s.SettingsLocalizationToolbar, e.menu = {
                            dynamic: "Pin",
                            fixed: "Unpin",
                            focus: "Focus",
                            unfocus: "Unfocus",
                            collapse: "Collapse",
                            close: "Close",
                            expand: "Expand",
                            hide: "Hide"
                        }, e
                    }
                    return n(e, t), e
                }(d.SettingsLocalization);
                t.SettingsLocalization = g;
                var m = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.centerX = .5, e.centerY = .5, e.paddingTop = 0, e.paddingLeft = 0, e.paddingRight = 0, e.paddingBottom = 0, e
                    }
                    return n(e, t), e
                }(d.SettingsArea);
                t.SettingsArea = m;
                var v = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.zooming = new S, e.selection = new y, e.rotation = {
                            fingers: !1
                        }, e
                    }
                    return n(e, t), e
                }(u.SettingsInteraction);
                t.SettingsInteraction = v;
                var y = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.dragSelect = !0, e
                    }
                    return n(e, t), e
                }(u.SettingsInteractionSelection);
                t.SettingsInteractionSelection = y;
                var S = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.initialAutoZoom = "overview", e.zoomExtent = [.5, 4], e.autoZoomExtent = [null, 1], e.autoZoomSize = .9, e.autoZoomPositionElasticity = 2.5e-7, e.shouldKeepGraphOnScreen = !0, e
                    }
                    return n(e, t), e
                }(u.SettingsInteractionZooming);
                t.SettingsInteractionZooming = S;
                var b = function() {
                    function t() {
                        this.mode = "showall", this.initialNodes = null, this.focusNodeExpansionRadius = 2, this.defaultExpandDepth = 0, this.defaultExpandMode = "both", this.initialFocusNodeExpansionRadius = null, this.focusNodeTailExpansionRadius = null, this.focusAutoFadeout = !1, this.numberOfFocusNodes = 3, this.minNumberOfFocusNodes = 1, this.expandDelay = 0, this.expandOnClick = !0, this.autoZoomOnFocus = !1, this.autoUnfocus = !0
                    }
                    return t
                }();
                t.SettingsNavigation = b;
                var x = function() {
                    function t() {
                        this.strength = .01, this.from = "auto", this.fromCenter = "weighted", this.to = "graph", this.toCenter = "weighted"
                    }
                    return t
                }();
                t.GravitySettings = x;
                var C = function() {
                    function t() {
                        this.mode = "dynamic", this.nodeSpacing = 16, this.rowSpacing = null, this.groupSpacing = null, this.incrementalLayoutMaxTime = 300, this.initialLayoutMaxTime = 2e3, this.layoutFreezeTimeout = 1e4, this.layoutFreezeMinTimeout = 1500, this.aspectRatio = !1, this.globalLayoutOnChanges = !0, this.advanced = {
                            adaptiveFreezeTreshold: 1.2
                        }, this.twoRingRadialLayout = !1, this.sortNodes = !1, this.sortForestBySize = !0, this.centerNodes = !1, this.rotation = 0, this.scaleX = 1, this.scaleY = 1, this.categoryLabelStyle = {
                            textStyle: {
                                font: "12px Arial",
                                fillColor: "#000"
                            }
                        }, this.onCycleDetect = null, this.gravity = new x, this.swimlane = new L
                    }
                    return t
                }();
                t.SettingsLayout = C;
                var w = function() {
                    function t() {
                        this.shouldZoomBox = !0
                    }
                    return t
                }();
                t.SettingsSwimlaneLayoutStyle = w;
                var L = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.laneSpreadX = 200, e.laneSpreadY = 200, e.lineWidth = 3, e.lineColor = "rgba(23, 23, 23, 1)", e.drawVerticalFirst = !0, e.labelAlign = "center", e.labelSideVertical = "top", e.labelSideHorizontal = "left", e.boxFillColor = "transparent", e
                    }
                    return n(e, t), e
                }(w);
                t.SettingsSwimlaneLayout = L;
                var T = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.label = null, e
                    }
                    return n(e, t), e
                }(w);
                t.SettingsSwimlaneLayoutLane = T;
                var M = function() {
                    function t() {}
                    return t
                }();
                t.SettingsSwimlaneLayoutCell = M;
                var k = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.dragSelection = {
                            fillColor: "rgba(85, 237, 255, 0.15)",
                            lineColor: "rgba(23, 23, 23, 1)",
                            lineWidth: 1,
                            lineDash: [1, 2]
                        }, e
                    }
                    return n(e, t), e
                }(u.SettingsNodesLayerStyle);
                t.SettingsStyle = k;
                var P = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.onPointerDown = null, e.onPointerUp = null, e.onPointerDrag = null, e.onPointerMove = null, e.onDataUpdated = null, e
                    }
                    return n(e, t), e
                }(d.SettingsEvents);
                t.SettingsEvents = P;
                var A = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e
                }(u.Scene);
                t.Scene = A,
                    function(t) {
                        function e(t) {
                            if (0 === t.children.length) return 0;
                            var e = t.children[0],
                                i = t.children[t.children.length - 1];
                            return (e.node.x - e.hWidth + (i.node.x + i.hWidth)) / 2
                        }

                        function i(t, e, i, n, s) {
                            null == e && (t[0].node.x = 0, e = t[0]);
                            for (var a = e.levelIndex + 1, o = null === i ? t.length : i.levelIndex, l = e.node.x + e.hWidth, h = a; h < o; h++) {
                                var u = t[h];
                                l += u.hWidth + r(t, h, n, s), u.node.x = l, l += u.hWidth
                            }
                        }

                        function r(t, e, i, n) {
                            return null == t[e].parent || t[e - 1].parent !== t[e].parent ? n : i
                        }
                        var s = function() {
                                function t() {
                                    this.forceLinkList = null, this.fx = 0, this.fy = 0, this.sizeEstimate = 0, this.left = null, this.right = null, this.leafCount = 0, this.leaves = null, this.x = 0, this.y = 0, this.z = 0, this.r = 1, this.repulsiveForceX = 0, this.repulsiveForceY = 0, this.repulsiveForceZ = 0
                                }
                                return t
                            }(),
                            a = function() {
                                function t() {
                                    this.maxLeafCount = 5, this.root = null, this.freeNodeRoot = null, this.temperature = 0, this.nodeCount = 0
                                }
                                return t._swap = function(t, e, i) {
                                    var n = t[e];
                                    t[e] = t[i], t[i] = n
                                }, t.prototype.buildTree = function(t) {
                                    this.iters = 0;
                                    var e = t.length;
                                    this.root && this.freeNode(this.root), this.root = this.newNode(), e > 0 && this.buildTreeRecursive(t, 0, e, this.root);
                                    for (var i = 0; i <= e - 1; i++) t[i].repulsiveForceX = 0, t[i].repulsiveForceY = 0, t[i].repulsiveForceZ = 0;
                                    this.calculateForces()
                                }, t.prototype.freeNode = function(t) {
                                    t.left && this.freeNode(t.left), t.right && this.freeNode(t.right), t.left = this.freeNodeRoot, this.freeNodeRoot = t
                                }, t.prototype.newNode = function() {
                                    var t;
                                    return this.freeNodeRoot ? (t = this.freeNodeRoot, this.freeNodeRoot = t.left, t.left = null, t.right = null, t.leafCount = 0, t.sizeEstimate = 0, t.forceLinkList.length = 0) : (t = new s, t.forceLinkList = [], t.leaves = new Array(this.maxLeafCount)), t.repulsiveForceX = 0, t.repulsiveForceY = 0, t.repulsiveForceZ = 0, t
                                }, t.prototype.addForceLink = function(t, e) {
                                    t.forceLinkList.push(e)
                                }, t.prototype.getMedianX = function(e, i, n) {
                                    n -= 1;
                                    for (var r = d.Helpers.trunc((i + n) / 2);;) {
                                        if (n <= i) return r;
                                        if (n === i + 1 && e[i].x > e[n].x) return t._swap(e, i, n), r;
                                        var s = d.Helpers.trunc((i + n) / 2);
                                        e[s].x > e[n].x && t._swap(e, s, n), e[i].x > e[n].x && t._swap(e, i, n), e[s].x > e[i].x && t._swap(e, s, i), t._swap(e, s, i + 1);
                                        for (var a = i + 1, o = n;;) {
                                            for (;;)
                                                if (a += 1, !(e[i].x > e[a].x)) break;
                                            for (;;)
                                                if (o -= 1, !(e[o].x > e[i].x)) break;
                                            if (o < a) break;
                                            var l = e[a];
                                            e[a] = e[o], e[o] = l
                                        }
                                        t._swap(e, i, o), o <= r && (i = a), o >= r && (n = o - 1)
                                    }
                                }, t.prototype.getMedianY = function(e, i, n) {
                                    n -= 1;
                                    for (var r = d.Helpers.trunc((i + n) / 2);;) {
                                        if (n <= i) return r;
                                        if (n === i + 1) return e[i].y > e[n].y && t._swap(e, i, n), r;
                                        var s = d.Helpers.trunc((i + n) / 2);
                                        e[s].y > e[n].y && t._swap(e, s, n), e[i].y > e[n].y && t._swap(e, i, n), e[s].y > e[i].y && t._swap(e, s, i), t._swap(e, s, i + 1);
                                        for (var a = i + 1, o = n;;) {
                                            for (;;)
                                                if (a += 1, !(e[i].y > e[a].y)) break;
                                            for (;;)
                                                if (o -= 1, !(e[o].y > e[i].y)) break;
                                            if (o < a) break;
                                            var l = e[a];
                                            e[a] = e[o], e[o] = l
                                        }
                                        t._swap(e, i, o), o <= r && (i = a), o >= r && (n = o - 1)
                                    }
                                }, t.prototype.buildTreeRecursive = function(t, e, i, n) {
                                    for (var r = t[e].x, s = t[e].y, a = r, o = s, l = e + 1; l < i; l++) {
                                        var h = t[l],
                                            u = h.x,
                                            c = h.y;
                                        u < r && (r = u), u > a && (a = u), c < s && (s = c), c > o && (o = c)
                                    }
                                    n.sizeEstimate = Math.max(a - r, o - s), n.sizeEstimate = n.sizeEstimate * n.sizeEstimate + .1, n.sizeEstimate *= 2;
                                    var d = i - e;
                                    if (d <= this.maxLeafCount) {
                                        n.leafCount = d;
                                        for (var u = 0, c = 0, p = 0, f = 0, l = 0; l < d; l++) {
                                            var g = t[l + e];
                                            u += g.x, c += g.y, p += g.z, f += g.r, n.leaves[l] = g
                                        }
                                        var m = 1 / d;
                                        return n.r = f, n.x = u * m, n.y = c * m, void(n.z = p * m)
                                    }
                                    var v;
                                    v = a - r > o - s ? this.getMedianX(t, e, i) : this.getMedianY(t, e, i), v++;
                                    var y = this.newNode();
                                    n.left = y, this.buildTreeRecursive(t, e, v, y), y = this.newNode(), n.right = y, this.buildTreeRecursive(t, v, i, y);
                                    var S = 1 / d;
                                    n.r = n.right.r + n.left.r, n.x = (n.left.x * (v - e) + n.right.x * (i - v)) * S, n.y = (n.left.y * (v - e) + n.right.y * (i - v)) * S, n.z = (n.left.z * (v - e) + n.right.z * (i - v)) * S
                                }, t.prototype.calculateForces = function() {
                                    var t = new Array(this.nodeCount),
                                        e = 0,
                                        i = 0;
                                    for (null !== this.root.left ? (t[i] = this.root.left, i++, t[i] = this.root.right, i++, this.addForceLink(this.root.left, this.root.right)) : (t[i] = this.root, i++); e < i;) {
                                        var n = t[e];
                                        e++;
                                        var r = 1 / n.r;
                                        if (null !== n.left) {
                                            this.processTreeNode(n, n.left), this.processTreeNode(n, n.right), t[i] = n.left, i++, t[i] = n.right, i++;
                                            var s = n.left.r * r,
                                                a = n.repulsiveForceX * s,
                                                o = n.repulsiveForceY * s;
                                            n.left.repulsiveForceX += a, n.left.repulsiveForceY += o, n.right.repulsiveForceX += n.repulsiveForceX - a, n.right.repulsiveForceY += n.repulsiveForceY - o, this.addForceLink(n.left, n.right)
                                        } else
                                            for (var l = 0; l <= n.leafCount - 1; l++) {
                                                var h = n.leaves[l];
                                                this.processLeafNode(n, h);
                                                var s = h.r * r;
                                                h.repulsiveForceX += n.repulsiveForceX * s, h.repulsiveForceY += n.repulsiveForceY * s;
                                                for (var u = l + 1; u <= n.leafCount - 1; u++) {
                                                    var c = n.leaves[u];
                                                    this.forceBetweenParticles(h, c)
                                                }
                                            }
                                        n.forceLinkList.length = 0
                                    }
                                }, t.prototype.processTreeNode = function(t, e) {
                                    for (var i = t.forceLinkList.length, n = 0; n < i; n++) {
                                        var r = t.forceLinkList[n],
                                            a = e.x - r.x,
                                            o = e.y - r.y,
                                            l = a * a + o * o,
                                            h = e.sizeEstimate;
                                        if (r instanceof s && (h += r.sizeEstimate), h < l) {
                                            var u = e.r * r.r / (l * Math.sqrt(l)),
                                                c = a * u;
                                            e.repulsiveForceX += c, r.repulsiveForceX -= c;
                                            var d = o * u;
                                            e.repulsiveForceY += d, r.repulsiveForceY -= d
                                        } else r instanceof s ? this.addForceLink(r, e) : this.addForceLink(e, r)
                                    }
                                }, t.prototype.processLeafNode = function(t, e) {
                                    for (var i = 0; i < t.forceLinkList.length; i++) {
                                        var n = t.forceLinkList[i];
                                        if (n instanceof s) {
                                            var r = e.x - n.x,
                                                a = e.y - n.y,
                                                o = r * r + a * a,
                                                l = n.sizeEstimate;
                                            if (l < o) {
                                                var h = e.r * n.r / (o * Math.sqrt(o)),
                                                    u = r * h;
                                                e.repulsiveForceX += u, n.repulsiveForceX -= u;
                                                var c = a * h;
                                                e.repulsiveForceY += c, n.repulsiveForceY -= c
                                            } else this.addForceLink(n, e)
                                        } else this.forceBetweenParticles(e, n)
                                    }
                                }, t.prototype.forceBetweenParticles = function(t, e) {
                                    var i, n = t.x - e.x,
                                        r = t.y - e.y,
                                        s = t.z - e.z,
                                        a = n * n + r * r + s * s,
                                        o = t.r + e.r;
                                    i = a * this.temperature < o ? .25 * this.temperature * Math.sqrt(this.temperature * o) : .25 * o * o / (a * Math.sqrt(a)), t.repulsiveForceX += n * i, e.repulsiveForceX -= n * i, t.repulsiveForceY += r * i, e.repulsiveForceY -= r * i, t.repulsiveForceZ += s * i, e.repulsiveForceZ -= s * i
                                }, t
                            }();
                        t.BHTree = a;
                        var o = function(t) {
                            function e(e) {
                                var i = t.call(this) || this;
                                return i.animationOrder = 600, i.paintOrder = 10, i.updateOrder = 1600, i.baseY0 = null, i.baseX0 = null, i.chart = e, i
                            }
                            return n(e, t), e.ConstructLayout = function(t) {
                                switch (t.settings.layout.mode) {
                                    case "dynamic":
                                        return new S(t);
                                    case "radial":
                                        return new b(t);
                                    case "hierarchy":
                                        return new C(t);
                                    case "static":
                                        return new w(t);
                                    case "swimlane":
                                        return new L(t);
                                    case "categoryHierarchy":
                                        return new T(t);
                                    default:
                                        return t.error("Unknown layout mode: '" + t.settings.layout.mode + "'"), new S(t)
                                }
                            }, e
                        }(d.ChartElement);
                        t.LayoutBase = o;
                        var l = function() {
                                function t(t, e) {
                                    this.strength = t, this.nodes = e
                                }
                                return t.prototype.filterLockedNodes = function(t) {
                                    for (var e = new Array(t.length), i = 0, n = 0; n < t.length; n++) t[n].layerNode.locked && (e[i++] = t[n]);
                                    return e.length = i, e
                                }, t.prototype.filterUnlockedNodes = function(t) {
                                    for (var e = new Array(t.length), i = 0, n = 0; n < t.length; n++) t[n].layerNode.locked || (e[i++] = t[n]);
                                    return e.length = i, e
                                }, t
                            }(),
                            h = function(t) {
                                function e(e, i) {
                                    var n = t.call(this, e, i) || this;
                                    return n.clusters = n.calculateClusters(i), n
                                }
                                return n(e, t), e.prototype.calculateClusters = function(t) {
                                    for (var e = [], i = new Array(t.length), n = new Object(null), r = 0; r < t.length; r++) {
                                        var s = t[r],
                                            a = s.layerNode.id;
                                        if (!n[a]) {
                                            var o = [s];
                                            e.push(o), n[a] = !0;
                                            var l = 0,
                                                h = 0;
                                            for (i[h] = s, h++; l < h;) {
                                                s = i[l], l++;
                                                for (var u = 0; u < s.edges.length; u++) {
                                                    var c = s.edges[u],
                                                        d = c.to,
                                                        p = d.layerNode.id;
                                                    n[p] || (n[p] = !0, o.push(d), i[h] = d, h++)
                                                }
                                            }
                                        }
                                    }
                                    return e
                                }, e
                            }(l),
                            u = function(t) {
                                function e(e, i, n, r) {
                                    var s = t.call(this, e, i) || this;
                                    return s.toCenter = n, s.lockedOnly = r, s
                                }
                                return n(e, t), e.prototype.recalculate = function() {
                                    for (var t = 0; t < this.clusters.length; t++)
                                        for (var e = this.clusters[t], i = this.lockedOnly ? this.toCenter(this.filterLockedNodes(e)) : this.toCenter(e), n = 0; n < e.length; n++) {
                                            var r = e[n];
                                            r.layerNode.userLock || (r.gravityForceX = (i.x - r.x) * this.strength, r.gravityForceY = (i.y - r.y) * this.strength)
                                        }
                                }, e
                            }(h),
                            c = function(t) {
                                function e(e, i, n, r) {
                                    var s = t.call(this, e, i) || this;
                                    return s.toCenter = n, s.lockedOnly = r, s
                                }
                                return n(e, t), e.prototype.recalculate = function() {
                                    for (var t = this.lockedOnly ? this.toCenter(this.filterLockedNodes(this.nodes)) : this.toCenter(this.nodes), e = 0; e < this.nodes.length; e++) {
                                        var i = this.nodes[e];
                                        i.layerNode.userLock || (i.gravityForceX = (t.x - i.x) * this.strength, i.gravityForceY = (t.y - i.y) * this.strength)
                                    }
                                }, e
                            }(l),
                            p = function(t) {
                                function e(e, i, n, r, s) {
                                    var a = t.call(this, e, i) || this;
                                    return a.fromCenter = n, a.toCenter = r, a.lockedOnly = s, a
                                }
                                return n(e, t), e.prototype.recalculate = function() {
                                    for (var t = 0; t < this.clusters.length; t++) {
                                        var e = this.clusters[t],
                                            i = this.filterUnlockedNodes(e);
                                        if (!(i.length < 1)) {
                                            var n = this.fromCenter(i),
                                                r = void 0;
                                            if (this.lockedOnly) {
                                                var s = this.filterLockedNodes(e);
                                                r = s.length < 1 ? this.toCenter(e) : this.toCenter(s)
                                            } else r = this.toCenter(e);
                                            if (r.x !== n.x || r.y !== n.y)
                                                for (var a = Math.min(10, Math.sqrt(i.length)) * this.strength, o = (r.x - n.x) * a, l = (r.y - n.y) * a, h = 0; h < e.length; h++) {
                                                    var u = e[h];
                                                    u.gravityForceX = o, u.gravityForceY = l
                                                }
                                        }
                                    }
                                }, e
                            }(h),
                            f = function(t) {
                                function e(e, i, n, r, s) {
                                    var a = t.call(this, e, i) || this;
                                    return a.fromCenter = n, a.toCenter = r, a.lockedOnly = s, a
                                }
                                return n(e, t), e.prototype.recalculate = function() {
                                    var t;
                                    if (this.lockedOnly) {
                                        var e = this.filterLockedNodes(this.nodes);
                                        t = e.length < 1 ? this.toCenter(this.nodes) : this.toCenter(e)
                                    } else t = this.toCenter(this.nodes);
                                    for (var i = 0; i < this.clusters.length; i++) {
                                        var n = this.clusters[i],
                                            r = this.filterUnlockedNodes(n);
                                        if (!(r.length < 1)) {
                                            var s = this.fromCenter(r);
                                            if (t.x !== s.x || t.y !== s.y)
                                                for (var a = Math.min(10, Math.sqrt(r.length)) * this.strength, o = (t.x - s.x) * a, l = (t.y - s.y) * a, h = 0; h < n.length; h++) {
                                                    var u = n[h];
                                                    u.gravityForceX = o, u.gravityForceY = l
                                                }
                                        }
                                    }
                                }, e
                            }(h),
                            g = function(t) {
                                function e() {
                                    return t.apply(this, arguments) || this
                                }
                                return n(e, t), e.prototype.recalculate = function() {
                                    for (var t = new Object(null), e = new Array(this.nodes.length), i = 0, n = 0, r = 0; r < this.nodes.length; r++) {
                                        var s = this.nodes[r];
                                        s.layerNode.userLock && (e[n++] = s, t[s.layerNode.id] = s)
                                    }
                                    for (; i < n;)
                                        for (var s = e[i++], a = t[s.layerNode.id], r = 0; r < s.edges.length; r++) {
                                            var o = s.edges[r].to;
                                            t[o.layerNode.id] || (t[o.layerNode.id] = a, e[n++] = o)
                                        }
                                    for (var l = null, r = 0; r < this.nodes.length; r++) {
                                        var s = this.nodes[r];
                                        if (!s.layerNode.userLock) {
                                            var h = t[s.layerNode.id];
                                            h ? (s.gravityForceX = (h.x - s.x) * this.strength, s.gravityForceY = (h.y - s.y) * this.strength) : (null == l && (l = d.Geometry.findWeightedCenter(this.nodes)), s.gravityForceX = (l.x - s.x) * this.strength, s.gravityForceY = (l.y - s.y) * this.strength)
                                        }
                                    }
                                }, e
                            }(l),
                            m = function() {
                                function t(t) {
                                    this._needsReset = !0, this._calculation = null, this._chart = t
                                }
                                return t.prototype.reset = function() {
                                    this._needsReset = !0
                                }, t.prototype.guessBestMode = function(t) {
                                    if (t.length < 1) return "node";
                                    var e = new Object(null),
                                        i = new Array(t.length),
                                        n = 0,
                                        r = 1;
                                    for (e[t[0].layerNode.id] = !0, i[0] = t[0]; n < r;)
                                        for (var s = i[n++], a = 0; a < s.edges.length; a++) {
                                            var o = s.edges[a].to;
                                            e[o.layerNode.id] || (e[o.layerNode.id] = !0, i[r++] = o)
                                        }
                                    return r < t.length ? "node" : "cluster"
                                }, t.prototype.resetCalculation = function(t) {
                                    var e = this._chart.settings.layout.gravity;
                                    if (this._calculation = null, 0 !== e.strength) {
                                        var i = e.from;
                                        if ("nearestLockedNode" === e.to) return void("node" !== i && "auto" !== i || (this._calculation = new g(e.strength, t)));
                                        var n = "weighted" === e.toCenter ? d.Geometry.findWeightedCenter : d.Geometry.circumscribeCircle;
                                        if ("auto" === i && (i = this.guessBestMode(t)), "cluster" === i) {
                                            var r = "weighted" === e.fromCenter ? d.Geometry.findWeightedCenter : d.Geometry.circumscribeCircle;
                                            "cluster" === e.to ? this._calculation = new p(e.strength, t, r, n, !1) : "clusterLockedNodes" === e.to ? this._calculation = new p(e.strength, t, r, n, !0) : "graph" === e.to ? this._calculation = new f(e.strength, t, r, n, !1) : "graphLockedNodes" === e.to && (this._calculation = new f(e.strength, t, r, n, !0))
                                        } else "node" === i && ("cluster" === e.to ? this._calculation = new u(e.strength, t, n, !1) : "clusterLockedNodes" === e.to ? this._calculation = new u(e.strength, t, n, !0) : "graph" === e.to ? this._calculation = new c(e.strength, t, n, !1) : "graphLockedNodes" === e.to && (this._calculation = new c(e.strength, t, n, !0)))
                                    }
                                }, t.prototype.recalculate = function(t) {
                                    t.length < 2 || (this._needsReset && (this.resetCalculation(t), this._needsReset = !1), this._calculation && this._calculation.recalculate())
                                }, t
                            }();
                        t.Gravity = m;
                        var v = function() {
                                function t(t, e, i) {
                                    this.pair = null, this.K = null, this.len = null, this.strength = null, this.visibility = null, this.to = t, this.direction = e, this.links = i
                                }
                                return t
                            }(),
                            y = function() {
                                function t() {
                                    this.layerNode = null, this.x = 0, this.y = 0, this.z = 0, this.r = 1, this.zattr = 1, this.repulsiveForceX = 0, this.repulsiveForceY = 0, this.repulsiveForceZ = 0, this.gravityForceX = 0, this.gravityForceY = 0, this.forceX = null, this.forceY = null, this.forceZ = null, this.forceSum = null, this.oldForceX = null, this.oldForceY = null, this.oldForceZ = null, this.locked = !1, this.offsetX = 0, this.offsetY = 0, this.minr = 0, this.fsum = 0, this.edges = []
                                }
                                return t
                            }(),
                            S = function(t) {
                                function e(e) {
                                    var i = t.call(this, e) || this;
                                    return i.enableDebugState = !1, i.debugState = [], i.nodeRepulsionFactor = 15, i.linkForceFactor = .2, i.nodeDegreeModifier = 1, i.forceReductionFactor = 1, i.random = new d.Random(1), i.nodeCount = 0, i.nodes = [], i.edges = [], i.nodesAspect = 1, i.idToNode = {}, i.temperature = 0, i.unitTemperature = 0, i.randomLayoutRadius = 0, i.zAxisAttraction = 1, i.repulsiveForceTree = new a, i.aspectRatio = null, i.idleSince = 0, i.noMovementSince = 0, i.layoutMovement = 0, i.gravity = null, i.gravity = new m(e), i
                                }
                                return n(e, t), e.prototype.updateGraph = function(t, e, i) {
                                    (i || t.length !== this.nodeCount) && (this.rebuildGraph(t, e), i = !0);
                                    for (var n = 0; n < this.edges.length; n++) {
                                        for (var r = this.edges[n], s = r.links, a = 0; a < s.length; a++) {
                                            var o = s[a],
                                                l = o.targetStrength,
                                                h = o.targetLength,
                                                u = o.visibility;
                                            if (o.added) {
                                                var c = o.from.links.length > 1 && o.to.links.length > 1,
                                                    d = c || o.removed ? .2 : l;
                                                h = .2 + (h - .2) * u, l = l * u + d * (1 - u)
                                            }
                                            0 === a ? (r.strength = l, r.len = h, r.visibility = u) : (r.strength = Math.max(l, r.strength), r.len = Math.max(h, r.len), r.visibility = Math.max(u, r.visibility))
                                        }
                                        r.pair.strength = r.strength, r.pair.len = r.len, r.pair.visibility = r.visibility, r.K = r.pair.K = 0
                                    }
                                    for (var p = this.chart.settings.layout.nodeSpacing / 2, n = 0; n < t.length; n++) {
                                        var f = this.nodes[n],
                                            g = f.layerNode,
                                            m = g.outerBounds.w(),
                                            v = g.outerBounds.h();
                                        f.offsetX = g.outerBounds.x0 + g.outerBounds.x1, f.offsetY = g.outerBounds.y0 + g.outerBounds.y1, f.x = g.x + f.offsetX, f.y = g.y + f.offsetY, f.zattr = g.visibility, f.locked = g.locked, f.forceX = 0, f.forceY = 0, f.forceZ = 0, f.forceSum = 0;
                                        for (var y = 0, S = 0; S < f.edges.length; S++) {
                                            var b = f.edges[S];
                                            y += b.to.edges.length * b.visibility
                                        }
                                        var x = Math.sqrt(y);
                                        f.r = .5 * Math.max(1, m) + p, f.minr = Math.max(1, (v + .5 * m) / 3) + p, x > 4 && (f.r += (x - 4) * f.r / 4 * this.nodeDegreeModifier, f.minr += (x - 4) * f.minr / 4 * this.nodeDegreeModifier)
                                    }
                                    for (var C = 0, w = 0, L = 0, n = 0; n < this.nodes.length; n++) {
                                        for (var f = this.nodes[n], T = 0, a = 0; a < f.edges.length; a++) {
                                            var b = f.edges[a],
                                                M = b.to;
                                            if (!(f.locked && M.locked || f === M)) {
                                                L++;
                                                var k = f.minr + M.minr;
                                                b.len > 0 ? (b.len = Math.max(1, k * b.len), b.K = 30 * Math.min(20, b.strength) / b.len, T += b.K, C += b.len) : (b.K = b.strength, T += b.K, C += k)
                                            }
                                        }
                                        f.fsum = T, w += f.r * f.r
                                    }
                                    L > 0 ? (this.randomLayoutRadius = Math.max(1, C / 10), this.unitTemperature = C / (50 * L)) : (this.randomLayoutRadius = Math.max(1, Math.sqrt(w)), this.unitTemperature = 1), i && this.saveDebugState("updateGraph: Graph rebuilt.")
                                }, e.prototype.rebuildGraph = function(t, e) {
                                    var i = this.idToNode;
                                    this.nodeCount = t.length, this.nodes = new Array(this.nodeCount), this.idToNode = {};
                                    for (var n = 0, r = 0, s = 0; s < t.length; s++) {
                                        var a = t[s],
                                            o = a.id,
                                            l = new y;
                                        l.layerNode = a;
                                        var h = a.outerBounds.w(),
                                            u = a.outerBounds.h();
                                        if (u > 0 && (n += u / h, r += 1), this.idToNode[o] = l, this.nodes[s] = l, d.Helpers.hasProperty(i, o)) {
                                            var c = i[o];
                                            l.z = c.z, l.oldForceX = c.oldForceX, l.oldForceY = c.oldForceY, l.oldForceZ = c.oldForceZ
                                        } else l.oldForceX = 0, l.oldForceY = 0, l.oldForceZ = 0
                                    }
                                    r > 0 ? this.nodesAspect = Math.max(.3, n / r) : this.nodesAspect = 1;
                                    var p = {},
                                        f = {
                                            U: "D",
                                            null: null,
                                            D: "U",
                                            L: "R",
                                            R: "L"
                                        };
                                    this.edges = [];
                                    for (var s = 0; s < e.length; s++) {
                                        var g = e[s],
                                            m = g.multiId;
                                        if (d.Helpers.hasProperty(p, m)) p[m].push(g);
                                        else {
                                            var S = this.idToNode[g.from.id],
                                                b = this.idToNode[g.to.id],
                                                x = [g],
                                                C = new v(b, g.direction, x),
                                                w = new v(S, f[g.direction], x);
                                            C.pair = w, w.pair = C, p[m] = x, S.edges.push(C), b.edges.push(w), this.edges.push(C)
                                        }
                                    }
                                    this.gravity.reset()
                                }, e.prototype.saveDebugState = function(t) {
                                    this.enableDebugState && this.debugState.push({
                                        extra: {
                                            comment: t
                                        },
                                        nodes: this.nodes.map(function(t) {
                                            return {
                                                id: t.layerNode.id,
                                                x: t.x - t.offsetX,
                                                y: t.y - t.offsetY,
                                                style: t.layerNode.data.style,
                                                extra: t.layerNode.data.extra,
                                                loaded: !0
                                            }
                                        }),
                                        links: this.edges.map(function(t) {
                                            return {
                                                from: t.to.layerNode.id,
                                                to: t.pair.to.layerNode.id
                                            }
                                        })
                                    })
                                }, e.prototype.globalLayout = function(t, e) {
                                    if (!(this.nodeCount <= 0)) {
                                        if (e) {
                                            if (1 === this.nodeCount) return this.nodes[0].locked || (this.nodes[0].layerNode.x = this.nodes[0].layerNode.y = 0), void this.saveDebugState("globalLayout: resetPositions");
                                            this.initialRandomLayout(), this.saveDebugState("globalLayout: resetPositions")
                                        }
                                        for (var i = 0, n = 0; n < this.nodes.length; n++) {
                                            var r = this.nodes[n];
                                            r.locked || i++
                                        }
                                        var s = Math.floor(Math.sqrt(i) + 10),
                                            a = 2 * s;
                                        this.forceReductionFactor = 1, this.temperature = (2 * Math.sqrt(i) + 20) * this.unitTemperature, this.zAxisAttraction = .02;
                                        for (var o = d.Helpers.performanceNow(), l = 3; this.temperature > this.unitTemperature && (a-- <= 0 && (a = 3 * s / l++, this.temperature = this.temperature / 1.5 - .5, this.temperature < 20 * this.unitTemperature && (this.zAxisAttraction = 1.5 * this.zAxisAttraction + .02)), this.randomnodesForRepulsion(), this.repulsiveForceTree.temperature = 1.75 * this.zAxisAttraction, this.repulsiveForceTree.buildTree(this.nodes), this.moveNodesGlobal(), this.saveDebugState("globalLayout: iteration"), !(d.Helpers.performanceNow() > o + t)););
                                        e && (this.centerNodes(), this.saveDebugState("globalLayout: centerNodes")), this.storeNodes()
                                    }
                                }, e.prototype.initialRandomLayout = function() {
                                    for (var t = this.nodeCount, e = new Array(t), i = 0; i <= t - 1; i++) e[i] = this.nodes[i];
                                    for (var i = 0; i < t; i++) {
                                        var n = Math.floor(this.random.get() * (t - i)) + i,
                                            r = e[i];
                                        e[i] = e[n], e[n] = r
                                    }
                                    for (var s = this.randomLayoutRadius, a = 2 * Math.PI / this.nodeCount, o = 0; o < t; o++) {
                                        var l = e[o];
                                        if (l.oldForceX = 0, l.oldForceY = 0, l.oldForceZ = 0, l.z = this.random.get() - .5, !l.locked) {
                                            var h = s + l.r;
                                            l.x = h * Math.cos(o * a), l.y = h * Math.sin(o * a)
                                        }
                                    }
                                }, e.prototype.timedLayout = function(t) {
                                    if (!(this.nodeCount <= 1) && t > 0) {
                                        var e = 0;
                                        t < .1 ? (e = 2, this.forceReductionFactor = Math.max(.002, Math.min(this.forceReductionFactor, 10 * t))) : e = Math.min(6, Math.round(2 + 10 * t)), this.zAxisAttraction = this.nodeRepulsionFactor / 28, this.temperature = this.unitTemperature;
                                        for (var i = 0; i <= e - 1; i++) this.randomnodesForRepulsion(), this.applyAspect(1 / this.nodesAspect), this.repulsiveForceTree.temperature = 1.75 * this.zAxisAttraction, this.repulsiveForceTree.buildTree(this.nodes), this.applyAspect(this.nodesAspect), this.moveNodesIncremental(), this.saveDebugState("timedLayout: iteration");
                                        this.storeNodes()
                                    }
                                }, e.prototype.prepareAspectRatio = function(t) {
                                    for (var e, i, n, r, s, a, o, l = this.nodes, h = l[0].x, u = l[0].y, c = h, d = u, p = !0, f = 1; f <= this.nodeCount - 1; f++) h = Math.min(h, l[f].x), c = Math.max(c, l[f].x), u = Math.min(u, l[f].y), d = Math.max(d, l[f].y);
                                    var g = (h + c) / 2,
                                        m = (u + d) / 2,
                                        v = c - h,
                                        y = d - u;
                                    return 0 === v || 0 === y ? p = !1 : (e = Math.sqrt(this.aspectRatio), i = Math.sqrt(v * y), n = i * e / v, r = i / e / y, n = t * n + (1 - t), r = t * r + (1 - t), s = g - g * n, a = m - m * r, o = 1 / this.forceReductionFactor), {
                                        scaleX: n,
                                        incX: s,
                                        scaleY: r,
                                        incY: a,
                                        invForce: o,
                                        aspectRatioPrepared: p
                                    }
                                }, e.prototype.updateAspectRatioNode = function(t, e) {
                                    e.forceX += (e.x * (t.scaleX - 1) + t.incX) * t.invForce, e.forceY += (e.y * (t.scaleY - 1) + t.incY) * t.invForce
                                }, e.prototype.updateAspectRatio = function(t) {
                                    for (var e = this.prepareAspectRatio(t), i = this.nodes, n = 0; n <= this.nodeCount - 1; n++) this.updateAspectRatioNode(e, i[n])
                                }, e.prototype.moveNodesGlobal = function() {
                                    this.gravity.recalculate(this.nodes);
                                    var t, e = .5 * this.temperature,
                                        i = this.forceReductionFactor;
                                    this.aspectRatio && (t = this.prepareAspectRatio(.005), t.aspectRatioPrepared || (this.aspectRatio = null));
                                    for (var n = 0; n <= this.nodeCount - 1; n++) {
                                        var r = this.nodes[n];
                                        if (!r.locked) {
                                            this.calculateForce(r, .5), this.aspectRatio && this.updateAspectRatioNode(t, r);
                                            var s = r.oldForceX = r.forceX,
                                                a = r.oldForceY = r.forceY,
                                                o = r.oldForceZ = r.forceZ,
                                                l = r.forceSum;
                                            s *= l, a *= l, o *= l;
                                            var h = s * s + a * a + o * o;
                                            h < this.temperature * this.temperature && h > .001 && (h = this.temperature / Math.sqrt(h), s *= h, a *= h, o *= h), r.x += s * i + (this.random.get() - .5) * e, r.y += a * i + (this.random.get() - .5) * e, r.z += o * i + (this.random.get() - .5) * e
                                        }
                                    }
                                }, e.prototype.moveNodesIncremental = function() {
                                    this.gravity.recalculate(this.nodes);
                                    for (var t = 0; t <= this.nodeCount - 1; t++) this.nodes[t].locked || this.calculateForce(this.nodes[t], 0);
                                    if (this.aspectRatio) {
                                        var e = Math.min(.4, .5 / Math.pow(this.nodeCount, .5));
                                        this.updateAspectRatio(e)
                                    }
                                    for (var i = 0, n = 0, r = 0, s = 0, a = new Array(this.nodeCount), t = 0; t <= this.nodeCount - 1; t++) {
                                        var o = this.nodes[t];
                                        if (!o.locked) {
                                            var l = o.forceX,
                                                h = o.forceY,
                                                u = o.forceZ,
                                                c = o.forceSum,
                                                d = l * l + h * h + u * u;
                                            if (d * c * c > this.unitTemperature * this.unitTemperature * .05 * .05) {
                                                s += d;
                                                var p = o.oldForceX * l + o.oldForceY * h + o.oldForceZ * u;
                                                r += p, p > 0 ? n += p : i -= p
                                            } else a[t] = !0
                                        }
                                    }
                                    this.layoutMovement = (n - 5 * i) / this.nodeCount, r > 1e-7 ? this.forceReductionFactor *= 1 + .4 / 1.618033989 : r < -1e-7 && (this.forceReductionFactor /= 1.4), this.forceReductionFactor = Math.min(1, this.forceReductionFactor), this.forceReductionFactor = Math.max(.002, this.forceReductionFactor);
                                    for (var t = 0; t <= this.nodeCount - 1; t++) {
                                        var f = this.nodes[t];
                                        if (!f.locked && !a[t]) {
                                            var c = f.forceSum * this.forceReductionFactor;
                                            f.x += f.forceX * c, f.y += f.forceY * c, f.z += f.forceZ * c
                                        }
                                        f.oldForceX = f.forceX, f.oldForceY = f.forceY, f.oldForceZ = f.forceZ
                                    }
                                }, e.prototype.applyAspect = function(t) {
                                    for (var e = 0; e < this.nodes.length; e++) {
                                        var i = this.nodes[e];
                                        i.y *= t
                                    }
                                }, e.prototype.calculateForce = function(t, e) {
                                    for (var i = t.oldForceX * e, n = t.oldForceY * e, r = t.oldForceZ * e, s = 0; s < t.edges.length; s++) {
                                        var a = t.edges[s],
                                            o = a.to,
                                            l = a.len,
                                            h = t.x - t.offsetX - o.x + o.offsetX,
                                            u = t.y - t.offsetY - o.y + o.offsetY,
                                            c = t.z - o.z;
                                        a.direction && ("U" === a.direction ? (u -= l, l = 0) : "D" === a.direction ? (u += l, l = 0) : "L" === a.direction ? (h -= l, l = 0) : "R" === a.direction && (h += l, l = 0));
                                        var d = Math.sqrt(h * h + u * u + c * c);
                                        d < .01 && (d = .01);
                                        var p = (l - d) * a.K / d * this.linkForceFactor;
                                        i += p * h, n += p * u, r += p * c
                                    }
                                    i += t.repulsiveForceX * this.nodeRepulsionFactor, n += t.repulsiveForceY * this.nodeRepulsionFactor, r += t.repulsiveForceZ * this.nodeRepulsionFactor;
                                    var f = t.zattr * this.zAxisAttraction;
                                    if (r -= t.z * f, i += t.gravityForceX, n += t.gravityForceY, isNaN(i)) throw "Internal error: Nan in layout";
                                    t.forceX = i, t.forceY = n, t.forceZ = r, t.fsum + f !== 0 && (t.forceSum = 1 / (t.fsum + f))
                                }, e.prototype.storeNodes = function() {
                                    for (var t = 0; t <= this.nodeCount - 1; t++) {
                                        var e = this.nodes[t];
                                        e.locked || (e.layerNode.x = e.x - e.offsetX, e.layerNode.y = e.y - e.offsetY)
                                    }
                                }, e.prototype.centerNodes = function() {
                                    for (var t = new d.Random(243178931), e = this.nodes, i = e[0].x, n = i, r = e[0].y, s = r, a = 1; a <= this.nodeCount - 1; a++) i = Math.min(i, e[a].x), n = Math.max(n, e[a].x), r = Math.min(r, e[a].y), s = Math.max(s, e[a].y);
                                    for (var o = (i + n) / 2, l = (r + s) / 2, a = 0; a <= this.nodeCount - 1; a++) {
                                        var h = e[a];
                                        if (h.x -= o, h.y -= l, !h.locked) {
                                            var u = .3 * h.r;
                                            h.x += t.get() * u, h.y += t.get() * u
                                        }
                                    }
                                }, e.prototype.randomnodesForRepulsion = function() {
                                    for (var t = 0; t <= this.nodeCount - 1; t++) {
                                        var e = Math.floor(this.random.get() * (this.nodeCount - t)) + t,
                                            i = this.nodes[t];
                                        this.nodes[t] = this.nodes[e], this.nodes[e] = i
                                    }
                                }, e.prototype.onSceneChange = function(t) {
                                    var e = t.changes.settingsChanges;
                                    if (e && e.layout || t.changes.navigation || this.chart.layer.hasTopologyChanges())
                                        for (var i = this.chart.layer, n = i.links(), r = 0; r < n.length; r++) {
                                            var s = n[r];
                                            s.background && (s.background = !1, i.touchLink(s))
                                        }
                                    e && e.layout && this.gravity.reset()
                                }, e.prototype.doAnimations = function(t) {
                                    var e = this.chart.settings.layout,
                                        i = this.chart.layer,
                                        n = e.layoutFreezeTimeout,
                                        r = e.layoutFreezeMinTimeout,
                                        s = i.hasTopologyChanges(),
                                        a = t.dtime;
                                    (0 === this.idleSince || t.changes.dynamicLayout || s || t.changes.coordinates || t.changes.layout || t.changes.bounds) && (this.idleSince = t.timeStamp, this.noMovementSince = 0);
                                    var o = 1;
                                    if (!s) {
                                        var l = t.timeStamp - this.idleSince;
                                        if (this.layoutMovement < e.advanced.adaptiveFreezeTreshold)
                                            if (0 !== this.noMovementSince) {
                                                var h = t.timeStamp - this.noMovementSince;
                                                o = Math.min((r - h) / r, o)
                                            } else this.noMovementSince = t.timeStamp;
                                        o = Math.min((n - l) / n, o)
                                    }
                                    o > 0 && (this.doForceLayout(a * o, !1), t.animating = !0, t.changes.position = !0)
                                }, e.prototype.placeNewNodes = function() {
                                    for (var t = {}, e = this.chart.layer, i = !1, n = 0, r = e.nodes(); n < r.length; n++) {
                                        var s = r[n];
                                        null !== s.x && null !== s.y || (t[s.id] = !0)
                                    }
                                    for (var n = 0, r = e.nodes(); n < r.length; n++) {
                                        var s = r[n],
                                            a = 1;
                                        if (t.hasOwnProperty(s.id)) {
                                            var o = 0,
                                                l = 0,
                                                h = 0;
                                            a = 1;
                                            for (var u = void 0, c = 0; c < s.links.length; c++) {
                                                var d = s.links[c],
                                                    p = d.otherEnd(s);
                                                t.hasOwnProperty(p.id) || (u = p, l += p.x, h += p.y, o += 1)
                                            }
                                            var f = void 0,
                                                g = void 0;
                                            if (o > 1) f = l / o, g = h / o, a = .5;
                                            else if (1 === o) {
                                                for (var m = 0, v = 0, y = 0, c = 0; c < u.links.length; c++) {
                                                    var d = u.links[c],
                                                        S = d.otherEnd(u);
                                                    S === s || t.hasOwnProperty(S.id) || (v += S.x - u.x, y += S.y - u.y, m += 1)
                                                }
                                                if (m > 0) {
                                                    var b = Math.sqrt(v * v + y * y);
                                                    if (b > 0) {
                                                        var x = 1 / (b * m);
                                                        v *= x, y *= x, f = u.x - v * u.hHeight * 1.2, g = u.y - y * u.hHeight * 1.2, a = .2
                                                    } else f = u.x, g = u.y
                                                } else i = !0, f = u.x, g = u.y
                                            } else i = !0, f = 0, g = 0;
                                            s.x = f + (this.random.get() - .5) * a * (s.hHeight + 1), s.y = g + (this.random.get() - .5) * a * (s.hHeight + 1)
                                        }
                                    }
                                    return {
                                        newNodes: t,
                                        majorChanges: i
                                    }
                                }, e.prototype.doForceLayout = function(t, e) {
                                    var i, n = this.chart.scene,
                                        r = this.chart.layer,
                                        s = this.chart.settings.layout,
                                        a = r.nodes(),
                                        o = r.links(),
                                        l = {},
                                        h = !1;
                                    if (e) {
                                        for (var u = 0; u < a.length; u++) {
                                            var c = a[u];
                                            l[c.id] = !0, c.x = null, c.y = null, c.userLock = !1
                                        }
                                        i = !0, h = !0
                                    }
                                    if (r.hasTopologyChanges() || e) {
                                        i = !0, this.random = new d.Random(1);
                                        var p = this.placeNewNodes();
                                        l = p.newNodes, h = p.majorChanges
                                    }
                                    var f = (n.width + 1) / (n.height + 1);
                                    f > 0 || (f = null);
                                    var g = n.settings.layout.aspectRatio ? f : null;
                                    this.aspectRatio = g;
                                    for (var m = !1, u = 0; u < a.length; u++) {
                                        var c = a[u];
                                        c.locked = c.userLock || c.locks > 0, m = m || c.locked
                                    }
                                    if (d.Helpers.hasProperties(l)) {
                                        for (var u = 0; u < a.length; u++) {
                                            var c = a[u];
                                            c.locked = c.locked || !d.Helpers.hasProperty(l, c.id)
                                        }
                                        this.updateGraph(a, o, i), h || n.settings.layout.globalLayoutOnChanges ? (this.aspectRatio = f, this.globalLayout(h ? s.initialLayoutMaxTime : s.incrementalLayoutMaxTime, h && !m)) : this.timedLayout(.001 * t)
                                    } else this.updateGraph(a, o, i), this.timedLayout(.001 * t)
                                }, e.prototype.resetLayout = function() {
                                    this.doForceLayout(1, !0), this.idleSince = 0
                                }, e
                            }(o);
                        t.TimedSpringEmbedder = S;
                        var b = function(t) {
                            function e() {
                                var e = t.apply(this, arguments) || this;
                                return e.twoCircles = !1, e
                            }
                            return n(e, t), e.getNodeSize = function(t) {
                                return Math.max(t.hHeight, t.hWidth) * t.visibility * 2
                            }, e.getNodesBounds = function(t) {
                                if (t.length < 1) return new d.Rect(0, 0, 0, 0);
                                for (var e = t[0], i = new d.Rect(e.x - e.hWidth, e.y - e.hHeight, e.x + e.hWidth, e.y + e.hHeight), n = 1; n < t.length; n++) e = t[n], i.addBounds(e.x - e.hWidth, e.y - e.hHeight, e.x + e.hWidth, e.y + e.hHeight);
                                return i
                            }, e.prototype.onSceneChange = function(t) {
                                var e = t.changes.settingsChanges;
                                (e && e.layout || t.changes.navigation || this.chart.layer.hasTopologyChanges() || t.changes.highlight) && this.updateBackgroundLinks(this.chart.getLastFocusNode(), !1)
                            }, e.prototype.doAnimations = function(t) {
                                var e = t.changes.settingsChanges,
                                    i = null != e && null != e.layout || t.changes.navigation || this.chart.layer.hasTopologyChanges(),
                                    n = t.changes.position || t.changes.dynamicLayout;
                                (i || n) && (this.performLayout(i), t.changes.position = !0), (t.changes.coordinates || t.changes.bounds) && (t.changes.position = !0)
                            }, e.prototype.resetLayout = function() {
                                for (var t = this.chart.layer.nodes(), e = 0; e < t.length; e++) t[e].userLock = !1;
                                this.performLayout(!0)
                            }, e.prototype.performLayout = function(t) {
                                var i = [];
                                this.visitedNodes = {}, this.subnodes = {}, this.minAngle = {}, this.radiuses = [];
                                var n = this.chart.getLastFocusNode();
                                if (n) {
                                    i.push(this.layoutCircle(n, t));
                                    for (var r = this.chart.layer.nodes(), s = 0; s < r.length; s++) {
                                        var a = r[s];
                                        d.Helpers.hasProperty(this.visitedNodes, a.id) || i.push(this.layoutCircle(a, t))
                                    }
                                    if (i.length > 1)
                                        for (var o = 2 * this.chart.settings.layout.nodeSpacing, l = e.getNodesBounds(i[0]).x1 + o, s = 1; s < i.length; s++) {
                                            var h = i[s];
                                            if (!(h.length < 1)) {
                                                var u = e.getNodesBounds(h);
                                                l -= u.x0;
                                                for (var c = 0; c < h.length; c++) h[c].x += l;
                                                l += u.x1 + o
                                            }
                                        }
                                    this.updateBackgroundLinks(n, !0) && this.chart.events.notifySceneChanges({
                                        highlight: !0
                                    })
                                }
                            }, e.prototype.layoutCircle = function(t, e) {
                                var i = [];
                                return this.visitedNodes[t.id] = !0, this.computeMaxRadius(t, e), this.placeNodeRec(t, 0, .5 * -Math.PI, 2 * Math.PI, i), i
                            }, e.prototype.updateBackgroundLinks = function(t, e) {
                                if (t) {
                                    if (this.visitedNodes = {}, this.updateBackgroudLinkCircle(t, e) && e) return !0;
                                    for (var i = this.chart.layer.nodes(), n = 0; n < i.length; n++) {
                                        var r = i[n];
                                        if (!d.Helpers.hasProperty(this.visitedNodes, r.id) && this.updateBackgroudLinkCircle(r, e) && e) return !0
                                    }
                                    return !1
                                }
                            }, e.prototype.updateBackgroudLinkCircle = function(t, e) {
                                var i = [t];
                                this.visitedNodes[t.id] = !0;
                                for (var n = {}, r = this.chart.layer; i.length > 0;) {
                                    for (var s = [], a = 0; a < i.length; a++)
                                        for (var o = i[a], l = 0; l < o.links.length; l++) {
                                            var h = o.links[l];
                                            if (!d.Helpers.hasProperty(n, h.id)) {
                                                n[h.id] = !0;
                                                var u = h.otherEnd(o),
                                                    c = !0;
                                                if (d.Helpers.hasProperty(this.visitedNodes, u.id) || (this.visitedNodes[u.id] = !0, s.push(u), c = !1), h.background !== c) {
                                                    if (e) return !0;
                                                    h.background = c, r.touchLink(h)
                                                }
                                            }
                                        }
                                    i = s
                                }
                                return !1
                            }, e.prototype.getSubnodes = function(t) {
                                var e = t.id;
                                if (this.subnodes[e]) return this.subnodes[e];
                                for (var i = [], n = 0; n < t.links.length; n++) {
                                    var r = t.links[n],
                                        s = r.otherEnd(t);
                                    d.Helpers.hasProperty(this.visitedNodes, s.id) || (i.push(s), this.visitedNodes[s.id] = !0)
                                }
                                return this.subnodes[e] = i, i
                            }, e.prototype.computeMaxRadius = function(t, i) {
                                var n = this.chart.settings.layout.nodeSpacing,
                                    r = 0;
                                this.radiuses[0] = r;
                                for (var s = 1, a = [t]; a.length > 0;) {
                                    var o = void 0;
                                    if (1 === s && this.chart.settings.layout.twoRingRadialLayout) {
                                        t = a[0];
                                        var l = e.getNodeSize(t);
                                        o = this.getSubnodes(t);
                                        for (var h = Math.floor(o.length / 2), u = new Array(h), c = new Array(o.length - h), d = 0; d < o.length; d++)(d % 2 === 0 ? c : u)[Math.floor(d / 2)] = o[d];
                                        for (var p = 0, f = 0, d = 0; d < u.length; d++) {
                                            var g = u[d],
                                                m = e.getNodeSize(g);
                                            p = Math.max(p, m), f += n + m
                                        }
                                        for (var v = 0, y = 0, d = 0; d < c.length; d++) {
                                            var g = c[d],
                                                m = e.getNodeSize(g);
                                            v = Math.max(v, m), y += n + m
                                        }
                                        var S = Math.max(.5 * (Math.max(p, v) + l) + n, (f + y) / (2 * Math.PI)),
                                            b = Math.max(.5 * (p + l) + n, f / (2 * Math.PI)),
                                            x = Math.max(b + .5 * (v + p), y / (2 * Math.PI));
                                        i && (this.twoCircles = x < S), this.twoCircles ? (this.radiuses[1] = b, this.radiuses[2] = x) : (this.radiuses[1] = S, this.radiuses[2] = S), r = this.radiuses[2], s = 3
                                    } else {
                                        var C = 0,
                                            w = 0;
                                        o = [];
                                        for (var L = 0; L < a.length; L++) {
                                            t = a[L];
                                            for (var l = e.getNodeSize(t), T = 0, M = this.getSubnodes(t); T < M.length; T++) {
                                                var g = M[T],
                                                    m = e.getNodeSize(g);
                                                C = Math.max(C, m + l), w += n + m, o.push(g)
                                            }
                                        }
                                        var k = r + .5 * C + n,
                                            P = w / (2 * Math.PI),
                                            A = Math.max(k, P);
                                        this.radiuses[s] = A, r = A, s += 1
                                    }
                                    a = o
                                }
                            }, e.prototype.computeMinAngle = function(t, i) {
                                var n = t.id;
                                if (d.Helpers.hasProperty(this.minAngle, n)) return this.minAngle[n];
                                for (var r = this.chart.settings.layout.nodeSpacing, s = this.radiuses[i], a = e.getNodeSize(t), o = (a + r) / s, l = 0, h = this.chart.settings.layout.twoRingRadialLayout && 1 === i ? 3 : i + 1, u = 0, c = this.getSubnodes(t); u < c.length; u++) {
                                    var p = c[u];
                                    l += this.computeMinAngle(p, h)
                                }
                                return o = Math.max(o, l), this.minAngle[n] = o, o
                            }, e.prototype.placeNodeRec = function(t, e, i, n, r) {
                                var s = i + .5 * n,
                                    a = this.radiuses[e];
                                t.userLock || (t.x = a * Math.cos(s), t.y = a * Math.sin(s), r.push(t));
                                var o = this.getSubnodes(t),
                                    l = e + 1,
                                    h = !1;
                                if (this.chart.settings.layout.twoRingRadialLayout && (0 === e ? h = !0 : 1 === e && (l = 3)), o.length > 0) {
                                    for (var u = 0, c = 0; c < o.length; c++) {
                                        var d = o[c];
                                        u += this.computeMinAngle(d, h ? c % 2 === 0 ? 2 : 1 : l)
                                    }
                                    for (var p = n / u, f = i, c = 0; c < o.length; c++) {
                                        var d = o[c];
                                        h && (l = c % 2 === 0 ? 2 : 1);
                                        var g = this.computeMinAngle(d, l) * p;
                                        this.placeNodeRec(d, l, f, g, r), f += g
                                    }
                                }
                            }, e
                        }(o);
                        t.RadialLayout = b;
                        var x = function() {
                                function t(t, e) {
                                    this.children = [], this.parent = null, this.node = t, this.level = e, this.reset()
                                }
                                return t.prototype.reset = function() {
                                    this.hWidth = this.node.hWidth, this.origX = this.node.x, this.shift = 0
                                }, t.prototype.isAnimating = function() {
                                    return this.node.hWidth !== this.node.targetHWidth
                                }, t
                            }(),
                            C = function(t) {
                                function s() {
                                    var e = t.apply(this, arguments) || this;
                                    return e.isAnimating = !1, e.forest = null, e.lastSortSetting = null, e
                                }
                                return n(s, t), s.prototype.wrapNodes = function() {
                                    for (var t = d.Helpers.clone(this.chart.layer.idToNode), e = [];;) {
                                        var i = null;
                                        for (var n in t)
                                            if (d.Helpers.hasProperty(t, n)) {
                                                i = t[n], delete t[n];
                                                break
                                            } if (null === i) return e;
                                        var r = {},
                                            s = [new x(i, 0)],
                                            a = 0,
                                            o = 0;
                                        r[i.id] = s[0];
                                        for (var l = {}, h = 0; h < s.length; h++) {
                                            var u = s[h],
                                                c = u.node;
                                            c.hierarchyLevel != -1 ? (u.level = c.hierarchyLevel, l[c.id] = u) : 0 != c.hierarchyOffset && (u.level += c.hierarchyOffset);
                                            for (var p = 0; p < c.links.length; p++) {
                                                var f = c.links[p];
                                                if (f.definesLayout)
                                                    if (f.to === c) {
                                                        var g = void 0;
                                                        d.Helpers.hasProperty(r, f.from.id) ? g = r[f.from.id] : (g = new x(f.from, u.level - 1), a === u.level && a--, r[f.from.id] = g, s.push(g)), null === u.parent && u.level === g.level + 1 && (u.parent = g, g.children.push(u))
                                                    } else {
                                                        var g = void 0;
                                                        d.Helpers.hasProperty(r, f.to.id) ? g = r[f.to.id] : (g = new x(f.to, u.level + 1), o === u.level && o++, r[f.to.id] = g, s.push(g)), null === g.parent && g.level === u.level + 1 && (u.children.push(g), g.parent = u)
                                                    }
                                            }
                                        }
                                        for (var m in l) {
                                            var u = l[m];
                                            u.level += a
                                        }
                                        for (var v = new Array(o - a + 1), h = 0; h < v.length; h++) v[h] = [];
                                        for (var h = 0; h < s.length; h++) {
                                            var u = s[h];
                                            delete t[u.node.id], u.level -= a, null === u.parent && (u.levelIndex = v[u.level].length, v[u.level].push(u))
                                        }
                                        for (var y = 0; y < v.length; y++)
                                            for (var S = v[y], b = 0; b < S.length; b++)
                                                for (var C = S[b], w = 0; w < C.children.length; w++) {
                                                    var L = y + 1,
                                                        T = C.children[w];
                                                    T.level = L, T.levelIndex = v[L].length, v[L].push(T)
                                                }
                                        e.push({
                                            levels: v,
                                            levelStarts: new Array(v.length),
                                            levelEnds: new Array(v.length)
                                        })
                                    }
                                }, s.prototype.layoutNodes = function(t) {
                                    var n = t.levels,
                                        r = this.chart.settings.layout,
                                        s = r.nodeSpacing,
                                        a = null === r.groupSpacing ? 2 * s : r.groupSpacing,
                                        o = null === r.rowSpacing ? s : r.rowSpacing;
                                    i(n[n.length - 1], null, null, s, a);
                                    for (var l = n.length - 2; l >= 0; l--) {
                                        for (var h = n[l], u = null, c = void 0, d = 0; d < h.length; d++)
                                            if (h[d].children.length > 0) {
                                                c = h[d];
                                                break
                                            } if (c.node.x = e(c), c.levelIndex > 0) {
                                            i(h, null, c, s, a);
                                            var p = h[c.levelIndex - 1],
                                                f = p.node.x + p.hWidth + s + c.hWidth;
                                            f > c.node.x && (c.shift = f - c.node.x, c.node.x += c.shift)
                                        }
                                        for (;;) {
                                            u = c, c = null;
                                            for (var d = u.levelIndex + 1; d < h.length; d++)
                                                if (h[d].children.length > 0) {
                                                    c = h[d];
                                                    break
                                                } if (null === c) break;
                                            c.node.x = e(c) + u.shift, c.shift = u.shift;
                                            for (var g = 0, m = 0, d = u.levelIndex + 1; d < c.levelIndex; d++) g += 2 * h[d].hWidth, null != h[d].parent && h[d].parent === h[d - 1].parent || m++;
                                            null != c.parent && c.parent === h[c.levelIndex - 1].parent || m++;
                                            var v = c.levelIndex - u.levelIndex,
                                                y = u.hWidth + c.hWidth + g + (v - m) * s + m * a,
                                                S = c.node.x - u.node.x;
                                            if (y > S) {
                                                var b = y - S;
                                                c.node.x += b, c.shift += b, S = y, i(h, u, c, s, a)
                                            } else if (0 === m) {
                                                var x = (S - u.hWidth - c.hWidth - g) / (c.levelIndex - u.levelIndex);
                                                i(h, u, c, x, 0)
                                            } else {
                                                var C = (S - u.hWidth - c.hWidth - g - (v - m) * s) / m;
                                                i(h, u, c, s, C)
                                            }
                                        }
                                        i(h, u, null, s, a)
                                    }
                                    for (var w = 0, l = 0; l < n.length; l++) {
                                        for (var h = n[l], L = 0, d = 0; d < h.length; d++) L = Math.max(L, 2 * h[d].node.targetHHeight);
                                        w += L / 2, t.levelStarts[l] = h[0].node.x - h[0].hWidth, t.levelEnds[l] = h[h.length - 1].node.x + h[h.length - 1].hWidth;
                                        for (var d = 0; d < h.length; d++) {
                                            var T = h[d];
                                            T.node.userLock ? T.node.x = T.origX : T.node.y = w;
                                            for (var M = 0; M < T.children.length; M++) {
                                                var k = T.children[M];
                                                k.node.x += T.shift, k.shift += T.shift
                                            }
                                        }
                                        w += L / 2 + o
                                    }
                                    r.centerNodes && !this.isAnimating && this.centerHierarchyNodes(n, s, a)
                                }, s.prototype.centerHierarchyNodes = function(t, e, i) {
                                    for (var n = {}, r = 0; r < t.length; r++)
                                        for (var s = t[r], a = 0; a < s.length; a++) {
                                            var o = s[a];
                                            n[o.node.id] = o
                                        }
                                    for (var l = function(r) {
                                            for (var s = t[r], a = {}, o = 0; o < s.length; o++) a[s[o].node.id] = o;
                                            var l = h.computerCenteredNodePoses(s, n, r),
                                                u = Object.keys(l);
                                            if (u.length <= 0) return "continue";
                                            h.breakIdealPosTies(s, l);
                                            var c = {};
                                            u.forEach(function(t) {
                                                return c[t] = l[t]
                                            }), u.length > 1 && h.optimizeCenteredNodePos(c, l, s, e, i), h.resortLevel(s, c), h.layoutRecenteredNodes(s, c, e, i), s.sort(function(t, e) {
                                                return a[t.node.id] - a[e.node.id]
                                            })
                                        }, h = this, r = t.length - 2; r >= 0; r--) l(r)
                                }, s.prototype.breakIdealPosTies = function(t, e) {
                                    for (var i = .1, n = {}, r = !0; r;) {
                                        r = !1, n = {};
                                        for (var s = 0; s < t.length; s++) {
                                            var a = t[s].node.id;
                                            if (e.hasOwnProperty(a)) {
                                                var o = "" + e[a];
                                                n.hasOwnProperty(o) || (n[o] = []), n[o].push(a)
                                            }
                                        }
                                        Object.keys(n).forEach(function(t) {
                                            var s = n[t];
                                            if (!(s.length <= 1)) {
                                                r = !0;
                                                for (var a = -.5 * i * (s.length - 1), o = 0; o < s.length; o++) e[s[o]] += a, a += i
                                            }
                                        })
                                    }
                                }, s.prototype.computerCenteredNodePoses = function(t, e, i) {
                                    for (var n = {}, r = function(r) {
                                            var s = t[r],
                                                a = s.node.links.filter(function(t) {
                                                    return t.definesLayout
                                                }).filter(function(t) {
                                                    return t.to !== s.node
                                                }).map(function(t) {
                                                    return e[t.otherEnd(s.node).id]
                                                }).filter(function(t) {
                                                    return void 0 !== t && null !== t
                                                }).filter(function(t) {
                                                    return t.level > i
                                                });
                                            if (!a || a.length <= 0) return "continue";
                                            for (var o = 0, l = 0; l < a.length; l++) o += a[l].node.x;
                                            o /= a.length, n[s.node.id] = o
                                        }, s = 0; s < t.length; s++) r(s);
                                    return n
                                }, s.prototype.optimizeCenteredNodePos = function(t, e, i, n, s) {
                                    for (var a = Object.keys(e).sort(function(t, e) {
                                            return t.localeCompare(e)
                                        }), o = 1, l = 1e4, h = 1, u = 0, c = .5, d = 0; d < l; d++) {
                                        for (var p = 0; p < a.length; p++) {
                                            var f = t[a[p]],
                                                g = e[a[p]];
                                            t[a[p]] += c * (g - f)
                                        }
                                        this.resortLevel(i, t);
                                        for (var m = {}, v = 0, y = -1, p = 0; p < i.length; p++) {
                                            var S = i[p];
                                            0 !== p && (v += i[p - 1].hWidth, v += r(i, p, n, s), v += S.hWidth), t.hasOwnProperty(S.node.id) && (y !== -1 && (m[y] = v), v = 0, y = p)
                                        }
                                        y = -1;
                                        for (var p = 0; p < i.length; p++) {
                                            var S = i[p];
                                            if (t.hasOwnProperty(S.node.id))
                                                if (y !== -1) {
                                                    var b = i[y],
                                                        x = m[y],
                                                        C = t[b.node.id],
                                                        w = t[S.node.id],
                                                        L = C <= w ? 1 : -1,
                                                        T = Math.abs(w - C);
                                                    if (T < x) {
                                                        var M = .5 * (x - T);
                                                        t[b.node.id] -= L * M, t[S.node.id] += L * M
                                                    }
                                                    y = p
                                                } else y = p
                                        }
                                        c = 1 / (1 / c + o);
                                        for (var k = 0, p = 0; p < a.length; p++) {
                                            var f = t[a[p]],
                                                g = e[a[p]];
                                            k += Math.abs(g - f)
                                        }
                                        if (k /= a.length, Math.abs(k - u) < h * c) break;
                                        u = k
                                    }
                                }, s.prototype.resortLevel = function(t, e) {
                                    var i = {};
                                    t.forEach(function(t, e) {
                                        return i[t.node.id] = e
                                    }), t.sort(function(t, n) {
                                        var r = e && e.hasOwnProperty(t.node.id) ? e[t.node.id] : t.node.x,
                                            s = e && e.hasOwnProperty(n.node.id) ? e[n.node.id] : n.node.x;
                                        return r === s ? i[t.node.id] - i[n.node.id] : r - s
                                    })
                                }, s.prototype.layoutRecenteredNodes = function(t, e, i, n) {
                                    for (var s = {}, a = 0; a < t.length; a++) {
                                        var o = t[a];
                                        e.hasOwnProperty(o.node.id) && (s[a] = e[o.node.id])
                                    }
                                    for (var l = Object.keys(s).map(function(t) {
                                            return parseInt(t, 10)
                                        }).sort(function(t, e) {
                                            return t - e
                                        }), h = l[0], u = l[l.length - 1], c = s[h], d = h - 1; d >= 0; d--) {
                                        c -= t[d + 1].hWidth, c -= r(t, d + 1, i, n), c -= t[d].hWidth;
                                        var o = t[d],
                                            p = c - o.node.x;
                                        o.node.x += p, o.shift += p
                                    }
                                    c = s[u];
                                    for (var d = u + 1; d < t.length; d++) {
                                        c += t[d - 1].hWidth, c += r(t, d, i, n), c += t[d].hWidth;
                                        var o = t[d],
                                            p = c - o.node.x;
                                        o.node.x += p, o.shift += p
                                    }
                                    for (var f = 0, d = h; d <= u; d++) {
                                        var o = t[d];
                                        if (s.hasOwnProperty("" + d)) {
                                            var g = s[d],
                                                m = g - o.node.x;
                                            o.node.x += m, o.shift += m, f++
                                        } else {
                                            var v = l[f - 1],
                                                y = l[f],
                                                S = s[v],
                                                b = s[y],
                                                x = (b - S) / (y - v),
                                                C = d - v,
                                                w = C * x + S,
                                                p = w - o.node.x;
                                            o.node.x += p, o.shift += p, f++
                                        }
                                    }
                                }, s.prototype.layoutTrees = function(t) {
                                    var e = this.chart.settings.layout;
                                    t.sort(function(t, i) {
                                        var n = i.levels.length - t.levels.length;
                                        return e.sortForestBySize && 0 !== n ? n : t.levels[0][0].node.id.localeCompare(i.levels[0][0].node.id)
                                    });
                                    for (var i = t[0].levelEnds.slice(), n = null == e.groupSpacing ? 4 * e.nodeSpacing : 2 * e.groupSpacing, r = 1; r < t.length; r++) {
                                        for (var s = t[r], a = 0, o = 0; o < s.levels.length; o++) {
                                            var l = i[o] + n,
                                                h = a + s.levelStarts[o];
                                            h < l && (a += l - h)
                                        }
                                        for (var o = 0; o < s.levels.length; o++) {
                                            for (var u = s.levels[o], c = 0; c < u.length; c++) {
                                                var d = u[c];
                                                d.node.userLock || (d.node.x += a)
                                            }
                                            i[o] = a + s.levelEnds[o]
                                        }
                                    }
                                    var p = (e.rotation || 0) % 360;
                                    if (0 !== p) {
                                        p = p * Math.PI / 180;
                                        for (var f = Math.sin(p), g = Math.cos(p), m = this.chart.layer.nodes(), r = 0; r < m.length; r++) {
                                            var d = m[r];
                                            if (!d.userLock) {
                                                var c = d.x,
                                                    o = d.y;
                                                d.x = c * g - o * f, d.y = c * f + o * g
                                            }
                                        }
                                    }
                                }, s.prototype.performLayout = function(t) {
                                    var e = this.chart.settings.layout.sortNodes;
                                    if (t || null === this.forest || void 0 === this.forest || e !== this.lastSortSetting) this.forest = this.wrapNodes();
                                    else
                                        for (var i = 0; i < this.forest.length; i++)
                                            for (var n = this.forest[i], r = 0; r < n.levels.length; r++)
                                                for (var s = n.levels[r], a = 0; a < s.length; a++) s[a].reset(), s[a].isAnimating() && (this.isAnimating = !0);
                                    if (this.resetAnimatingFlag(), !(this.forest.length < 1)) {
                                        e === !0 && (this.mergeAllTrees(), this.sortTreeLevels()), this.lastSortSetting = e;
                                        var o = this.chart.navigator.getLastExpandedOrCollapsed(),
                                            l = null,
                                            h = null;
                                        o && (l = o.x, h = o.y);
                                        for (var i = 0; i < this.forest.length; i++) this.layoutNodes(this.forest[i]);
                                        if (this.layoutTrees(this.forest), o)
                                            for (var u = l - o.x, c = h - o.y, i = 0; i < this.forest.length; i++)
                                                for (var n = this.forest[i], r = 0; r < n.levels.length; r++)
                                                    for (var s = n.levels[r], a = 0; a < s.length; a++) s[a].node.userLock || (s[a].node.x += u, s[a].node.y += c);
                                        this.setBackgroundFlag(!0) && this.chart.events.notifySceneChanges({
                                            highlight: !0
                                        })
                                    }
                                }, s.prototype.resetAnimatingFlag = function() {
                                    this.isAnimating = !1;
                                    for (var t = 0; t < this.forest.length; t++)
                                        for (var e = this.forest[t], i = 0; i < e.levels.length; i++)
                                            for (var n = e.levels[i], r = 0; r < n.length; r++) n[r].isAnimating() && (this.isAnimating = !0)
                                }, s.prototype.sortTreeLevels = function() {
                                    for (var t = 0; t < this.forest.length; t++)
                                        for (var e = this.forest[t], i = 0; i < e.levels.length; i++) {
                                            e.levels[i] = e.levels[i].sort(function(t, e) {
                                                var i = t.parent ? t.parent.levelIndex : 0,
                                                    n = e.parent ? e.parent.levelIndex : 0,
                                                    r = t.children ? t.node.dataLinks.length : 0,
                                                    s = e.children ? e.node.dataLinks.length : 0;
                                                return i < n ? -1 : i > n ? 1 : r < s ? -1 : r > s ? 1 : e.node.id.localeCompare(t.node.id)
                                            });
                                            for (var n = 0; n < e.levels[i].length; n++) e.levels[i][n].levelIndex = n
                                        }
                                }, s.prototype.mergeAllTrees = function() {
                                    for (var t = this.forest[0], e = 1; e < this.forest.length; e++)
                                        for (var i = this.forest[e], n = 0; n < i.levels.length; n++) n < t.levels.length ? t.levels[n] = t.levels[n].concat(i.levels[n]) : (t.levels.push(i.levels[n]), t.levelStarts.push(i.levelStarts[n]), t.levelEnds.push(i.levelEnds[n]));
                                    this.forest = [t];
                                    for (var e = 0; e < this.forest.length; e++)
                                        for (var i = this.forest[e], n = 0; n < i.levels.length; n++)
                                            for (var r = 0; r < i.levels[n].length; r++) i.levels[n][r].levelIndex = r
                                }, s.prototype.setBackgroundFlag = function(t) {
                                    for (var e = d.Helpers.clone(this.chart.layer.idToNode);;) {
                                        var i = null;
                                        for (var n in e)
                                            if (d.Helpers.hasProperty(e, n)) {
                                                i = e[n], delete e[n];
                                                break
                                            } if (null == i) return !1;
                                        var r = {},
                                            s = {},
                                            a = [{
                                                node: i,
                                                level: 0,
                                                hasParent: !1
                                            }],
                                            o = this.chart.layer;
                                        r[i.id] = a[0];
                                        for (var l = 0; l < a.length; l++)
                                            for (var h = a[l], u = h.node, c = 0; c < u.links.length; c++) {
                                                var p = u.links[c];
                                                if (p.definesLayout && !d.Helpers.hasProperty(s, p.id)) {
                                                    s[p.id] = !0;
                                                    var f = !0;
                                                    if (p.to === u) {
                                                        var g = void 0;
                                                        d.Helpers.hasProperty(r, p.from.id) ? g = r[p.from.id] : (g = {
                                                            node: p.from,
                                                            level: h.level - 1,
                                                            hasParent: !1
                                                        }, delete e[g.node.id], r[p.from.id] = g, a.push(g)), h.hasParent || h.level !== g.level + 1 || (h.hasParent = !0, f = !1)
                                                    } else {
                                                        var g = void 0;
                                                        d.Helpers.hasProperty(r, p.to.id) ? g = r[p.to.id] : (g = {
                                                            node: p.to,
                                                            level: h.level + 1,
                                                            hasParent: !1
                                                        }, delete e[g.node.id], r[p.to.id] = g, a.push(g)), g.hasParent || g.level !== h.level + 1 || (g.hasParent = !0, f = !1)
                                                    }
                                                    if (p.background !== f) {
                                                        if (t) return !0;
                                                        p.background = f, o.touchLink(p)
                                                    }
                                                }
                                            }
                                    }
                                }, s.prototype.onSceneChange = function(t) {
                                    var e = t.changes.settingsChanges;
                                    (e && e.layout || t.changes.navigation || this.chart.layer.hasTopologyChanges() || t.changes.highlight) && this.setBackgroundFlag(!1)
                                }, s.prototype.doAnimations = function(t) {
                                    var e = t.changes.settingsChanges,
                                        i = this.chart.layer.hasTopologyChanges();
                                    (e && e.layout || t.changes.navigation || i || t.changes.dynamicLayout || this.isAnimating) && (this.performLayout(i), t.changes.position = !0, t.animating = t.animating || this.isAnimating)
                                }, s.prototype.resetLayout = function() {
                                    for (var t = this.chart.layer.nodes(), e = 0; e < t.length; e++) t[e].userLock = !1;
                                    this.performLayout(!1)
                                }, s
                            }(o);
                        t.HierarchyLayout = C;
                        var w = function(t) {
                            function e() {
                                return t.apply(this, arguments) || this
                            }
                            return n(e, t), e.prototype.resetLayout = function() {
                                for (var t = this.chart.layer.nodes(), e = 0; e < t.length; e++) {
                                    var i = t[e],
                                        n = i.data;
                                    d.Helpers.isNumber(n.x) && (i.x = n.x), d.Helpers.isNumber(n.y) && (i.y = n.y), i.userLock = !1
                                }
                            }, e
                        }(o);
                        t.StaticLayout = w;
                        var L = function(t) {
                            function e() {
                                var e = t.apply(this, arguments) || this;
                                return e.needsLayoutUpdate = !0, e.recalculateNodePositions = !0, e.laneEndsX = null, e.laneEndsY = null, e.baseYs = null, e.baseXs = null, e
                            }
                            return n(e, t), e.prototype.resetLayout = function() {
                                this.needsLayoutUpdate = !0, this.performLayout()
                            }, e.prototype.onSceneChange = function(t) {
                                this.needsLayoutUpdate = this.needsLayoutUpdate || !!t.changes.data, t.changes && t.changes.settingsChanges && t.changes.settingsChanges.layout && t.changes.settingsChanges.layout.swimlane && (this.needsLayoutUpdate = !0, this.recalculateNodePositions = !1), this.performLayout()
                            }, e.prototype.paintScene = function(t) {
                                if (!this.needsLayoutUpdate) {
                                    var e = this.numLanesX(),
                                        i = this.numLanesY();
                                    if (!(e < 1 && i < 1)) {
                                        var n = this.chart.settings.layout.swimlane,
                                            r = t.context,
                                            s = this.chart.scene.toDisplayTransform(),
                                            a = this.generateLabels(r, t.labelRenderer, n, s, !0),
                                            o = this.generateLabels(r, t.labelRenderer, n, s, !1);
                                        this.paintSwimlanes(e, n, s, r, i), this.paintLabels(a, n, s, t, r, o)
                                    }
                                }
                            }, e.prototype.paintSwimlanes = function(t, e, i, n, r) {
                                var s = this,
                                    a = e.lineWidth,
                                    o = e.lineColor,
                                    l = function() {
                                        var o = e.cellSettings;
                                        if (o)
                                            for (var l = 0; l < t + (t > 0 ? 1 : 0); l++) {
                                                var h = o[l];
                                                if (h)
                                                    for (var u = s.getLaneEndX(l - 1), c = s.getLaneEndX(l), p = (u + a) * i.xm + i.xa, f = (c - a) * i.xm + i.xa, g = 0; g < r + (r > 0 ? 1 : 0); g++) {
                                                        var m = h[g];
                                                        if (m && m.fillColor) {
                                                            var v = s.getLaneEndY(g - 1),
                                                                y = s.getLaneEndY(g),
                                                                S = (v + a) * i.ym + i.ya,
                                                                b = (y - a) * i.ym + i.ya;
                                                            n.beginPath(), n.moveTo(p, S), n.lineTo(f, S), n.lineTo(f, b), n.lineTo(p, b), n.closePath(), d.Graphics.fill(n, {
                                                                fillColor: m.fillColor
                                                            })
                                                        }
                                                    }
                                            }
                                    },
                                    h = function() {
                                        for (var r = 0; r < t + (t > 0 ? 1 : 0); r++) {
                                            var l = s.baseYs[Math.min(r, t - 1)],
                                                h = 0 === r ? l : s.baseYs[Math.min(r - 1, t - 1)],
                                                u = s.getSetting("lineColor", r - 1, e, !0),
                                                c = s.getLaneEndX(r - 1),
                                                p = s.getLaneEndX(r),
                                                f = "bottom" === e.labelSideVertical,
                                                g = Math.min(h, l),
                                                m = s.getLaneLengthY(),
                                                v = (c - a) * i.xm + i.xa,
                                                y = (c + a) * i.xm + i.xa,
                                                S = (f ? 0 : g) * i.ym + i.ya,
                                                b = (a + m - (f ? g : 0)) * i.ym + i.ya;
                                            if (n.beginPath(), n.moveTo(v, S), n.lineTo(y, S), n.lineTo(y, b), n.lineTo(v, b), n.closePath(), d.Graphics.fill(n, {
                                                    fillColor: u
                                                }), r < t) {
                                                var x = (c + a) * i.xm + i.xa,
                                                    C = (p + a) * i.xm + i.xa,
                                                    w = ((f ? m : l) + a) * i.ym + i.ya,
                                                    L = ((f ? m - l : 0) - a) * i.ym + i.ya;
                                                n.beginPath(), n.moveTo(x, w), n.lineTo(C, w), n.lineTo(C, L), n.lineTo(x, L), n.closePath(), d.Graphics.fill(n, {
                                                    fillColor: s.getSetting("boxFillColor", r, e, !0)
                                                });
                                                var T = s.getSetting("laneFillColor", r, e, !0);
                                                if (T) {
                                                    var M = (c + a) * i.xm + i.xa,
                                                        k = (p - a) * i.xm + i.xa,
                                                        P = 0 * i.ym + i.ya,
                                                        A = (a + m) * i.ym + i.ya;
                                                    n.beginPath(), n.moveTo(M, P), n.lineTo(k, P), n.lineTo(k, A), n.lineTo(M, A), n.closePath(), d.Graphics.fill(n, {
                                                        fillColor: T
                                                    })
                                                }
                                                var I = f ? m - l : l,
                                                    D = (I - a) * i.ym + i.ya,
                                                    N = (I + a) * i.ym + i.ya,
                                                    O = (c - a) * i.xm + i.xa,
                                                    F = (p + a) * i.xm + i.xa;
                                                n.beginPath(), n.moveTo(O, D), n.lineTo(F, D), n.lineTo(F, N), n.lineTo(O, N), n.closePath(), d.Graphics.fill(n, {
                                                    fillColor: o
                                                })
                                            }
                                        }
                                    },
                                    u = function() {
                                        for (var t = 0; t < r + (r > 0 ? 1 : 0); t++) {
                                            var l = s.baseXs[Math.min(t, r - 1)],
                                                h = 0 === t ? l : s.baseXs[Math.min(t - 1, r - 1)],
                                                u = s.getSetting("lineColor", t - 1, e, !1),
                                                c = s.getLaneEndY(t - 1),
                                                p = s.getLaneEndY(t),
                                                f = "right" === e.labelSideHorizontal,
                                                g = Math.min(h, l),
                                                m = s.getLaneLengthX(),
                                                v = (c - a) * i.ym + i.ya,
                                                y = (c + a) * i.ym + i.ya,
                                                S = (f ? 0 : g) * i.xm + i.xa,
                                                b = (a + m - (f ? g : 0)) * i.xm + i.xa;
                                            if (n.beginPath(), n.moveTo(S, v), n.lineTo(b, v), n.lineTo(b, y), n.lineTo(S, y), n.closePath(), d.Graphics.fill(n, {
                                                    fillColor: u
                                                }), t < r) {
                                                var x = (c + a) * i.ym + i.ya,
                                                    C = (p + a) * i.ym + i.ya,
                                                    w = ((f ? m : l) + a) * i.xm + i.xa,
                                                    L = ((f ? m - l : 0) - a) * i.xm + i.xa;
                                                n.beginPath(), n.moveTo(w, x), n.lineTo(L, x), n.lineTo(L, C), n.lineTo(w, C), n.closePath(), d.Graphics.fill(n, {
                                                    fillColor: s.getSetting("boxFillColor", t, e, !1)
                                                });
                                                var T = s.getSetting("laneFillColor", t, e, !1);
                                                if (T) {
                                                    var M = (c + a) * i.ym + i.ya,
                                                        k = (p - a) * i.ym + i.ya,
                                                        P = 0 * i.xm + i.xa,
                                                        A = b;
                                                    n.beginPath(), n.moveTo(P, M), n.lineTo(A, M), n.lineTo(A, k), n.lineTo(P, k), n.closePath(), d.Graphics.fill(n, {
                                                        fillColor: T
                                                    })
                                                }
                                                var I = f ? m - l : l,
                                                    D = (I - a) * i.xm + i.xa,
                                                    N = (I + a) * i.xm + i.xa,
                                                    O = (c - a) * i.ym + i.ya,
                                                    F = (p + a) * i.ym + i.ya;
                                                n.beginPath(), n.moveTo(D, O), n.lineTo(N, O), n.lineTo(N, F), n.lineTo(D, F), n.closePath(), d.Graphics.fill(n, {
                                                    fillColor: o
                                                })
                                            }
                                        }
                                    };
                                l(), e.drawVerticalFirst ? (h(), u()) : (u(), h())
                            }, e.prototype.paintLabels = function(t, e, i, n, r, s) {
                                var a = this,
                                    o = e.lineWidth;
                                if (t)
                                    for (var l = t.reduce(function(t, i, n) {
                                            return Math.max(t, a.calcLabelSpace(i, n, e, !0, 0))
                                        }, 0), h = 0; h < t.length; h++) {
                                        var u = this.getLaneEndX(h - 1),
                                            c = this.getLaneEndX(h),
                                            d = .5 * (c + u),
                                            p = .5 * (c - u),
                                            f = this.getSetting("labelAlign", h, e, !0),
                                            g = this.getSetting("boxHeight", h, e, !0),
                                            m = this.getSetting("shouldZoomBox", h, e, !0),
                                            v = void 0 !== g ? g : l,
                                            y = m ? 0 : v,
                                            S = m ? v : 0,
                                            b = t[h],
                                            x = b.hwidth,
                                            C = "left" === f ? -(p - o) : "right" === f ? p - o : 0,
                                            w = "left" === f ? x : "right" === f ? -x : 0,
                                            L = (d + C) * i.xm + i.xa + w,
                                            T = "bottom" === e.labelSideVertical,
                                            M = T ? this.getLaneLengthY() : this.baseYs[h],
                                            k = (M + o + y) * i.ym + i.ya + S;
                                        n.labelRenderer.paint(r, L, k, 1, b)
                                    }
                                if (s)
                                    for (var l = s.reduce(function(t, i, n) {
                                            return Math.max(t, a.calcLabelSpace(i, n, e, !1, 0))
                                        }, 0), h = 0; h < s.length; h++) {
                                        var P = this.getLaneEndY(h - 1),
                                            A = this.getLaneEndY(h),
                                            I = .5 * (A + P),
                                            D = .5 * (A - P),
                                            f = this.getSetting("labelAlign", h, e, !1),
                                            g = this.getSetting("boxHeight", h, e, !1),
                                            m = this.getSetting("shouldZoomBox", h, e, !1),
                                            v = void 0 !== g ? g : l,
                                            y = m ? 0 : v,
                                            S = m ? v : 0,
                                            b = s[h],
                                            x = b.hwidth,
                                            N = "right" === f ? -(D - o) : "left" === f ? D - o : 0,
                                            O = "right" === f ? x : "left" === f ? -x : 0,
                                            k = (I + N) * i.ym + i.ya + O,
                                            T = "right" === e.labelSideHorizontal,
                                            F = T ? this.getLaneLengthX() : this.baseXs[h],
                                            L = (F + o + y) * i.xm + i.xa + S;
                                        n.labelRenderer.paint(r, L, k, 1, b)
                                    }
                            }, e.prototype.generateLabels = function(t, e, i, n, r) {
                                var s = this,
                                    a = r ? i.lanesVertical : i.lanesHorizontal,
                                    o = this.calcLabelStyle(i.labelStyle, null, r),
                                    l = /\r?\n/g,
                                    h = a ? a.map(function(t, e) {
                                        var n = s.hasSetting("labelStyle", e, i, r) ? s.calcLabelStyle(s.getSetting("labelStyle", e, i, r), o, r) : o,
                                            a = new d.Label(n);
                                        return a.text = t.label.toString().replace(l, "<br>"), a
                                    }) : [],
                                    u = h.map(function(n, a) {
                                        return e.measure(t, n), s.calcLabelSpace(n, a, i, r, 0)
                                    }).reduce(function(t, e) {
                                        return Math.max(t, e)
                                    }, 0),
                                    c = function() {
                                        var t = r ? n.ym : n.xm;
                                        return a.map(function(e, n) {
                                            var a = s.getSetting("boxHeight", n, i, r),
                                                o = s.getSetting("shouldZoomBox", n, i, r),
                                                l = o ? t : 1,
                                                h = void 0 !== a ? a : u;
                                            return -(2 * h / l + 2 * i.lineWidth)
                                        })
                                    };
                                return r ? (this.baseYs = c(), this.baseY0 = this.baseYs.reduce(function(t, e) {
                                    return Math.min(t, e)
                                }, 0)) : (this.baseXs = c(), this.baseX0 = this.baseXs.reduce(function(t, e) {
                                    return Math.min(t, e)
                                }, 0)), h
                            }, e.prototype.calcLabelStyle = function(t, e, i) {
                                var n = i || e ? t : d.Helpers.realClone(t, !1);
                                if (e) {
                                    var r = d.Helpers.realClone(e, !1);
                                    d.Helpers.extendDeep(r, n), n = r
                                }
                                if (!i) {
                                    var s = this.chart.settings.layout.swimlane,
                                        a = "right" === s.labelSideHorizontal,
                                        o = a ? 90 : -90;
                                    n.angle = o + (n.angle ? n.angle : 0)
                                }
                                return n
                            }, e.prototype.calcLabelSpace = function(t, e, i, n, r) {
                                var s = n ? i.lanesVertical : i.lanesHorizontal,
                                    a = s[e];
                                if (void 0 !== a.boxHeight) return void 0 !== r ? r : a.boxHeight;
                                var o = (t.style.angle || 0) * Math.PI / 180,
                                    l = d.Helpers.rotatedWidthAndHeight(o, 2 * t.hwidth, 2 * t.hheight);
                                return n ? l.height : l.width
                            }, e.prototype.performLayout = function() {
                                if (this.needsLayoutUpdate) {
                                    var t = this.chart.layer.nodes();
                                    if (0 === t.length) return this.needsLayoutUpdate = !0, void(this.recalculateNodePositions = !0);
                                    var e = this.chart.settings.layout.swimlane;
                                    this.calcLaneEnds(e);
                                    for (var i = 0; i < t.length; i++) {
                                        var n = t[i],
                                            r = n.data,
                                            s = !r.locked,
                                            a = this.recalculateNodePositions ? r.x : n.x,
                                            o = this.recalculateNodePositions ? r.y : n.y;
                                        d.Helpers.isNumber(a) ? n.x = s ? this.getLaneMidX(this.coordToLaneIndexX(a)) : a : n.x = this.getLaneMidX(this.randLaneIndex(!0)), d.Helpers.isNumber(o) ? n.y = s ? this.getLaneMidY(this.coordToLaneIndexY(o)) : o : n.y = this.getLaneMidY(this.randLaneIndex(!1)), n.userLock = !1
                                    }
                                    this.needsLayoutUpdate = !1, this.recalculateNodePositions = !0
                                }
                            }, e.prototype.randLaneIndex = function(t) {
                                var e = t ? this.laneEndsX : this.laneEndsY;
                                return Math.floor(Math.random() * e.length)
                            }, e.prototype.coordToLaneIndexX = function(t) {
                                return this.coordToLaneIndex(t, !0)
                            }, e.prototype.coordToLaneIndexY = function(t) {
                                return this.coordToLaneIndex(t, !1)
                            }, e.prototype.coordToLaneIndex = function(t, e) {
                                var i = e ? this.laneEndsX : this.laneEndsY,
                                    n = i[i.length - 1];
                                if (null === t || void 0 === t || isNaN(t)) return null;
                                if (t >= n) return i.length;
                                if (t < 0) return -1;
                                for (var r = 0, s = i.length - 1; r <= s;) {
                                    var a = Math.floor(.5 * (r + s)),
                                        o = this.getLaneEnd(a - 1, i),
                                        l = this.getLaneEnd(a, i);
                                    if (t < o) s = a - 1;
                                    else {
                                        if (!(t >= l)) return a;
                                        r = a + 1
                                    }
                                }
                                return d.Helpers.warn("Swimlane layout returned 'null' coordinate for " + t + " with max boundary " + n), null
                            }, e.prototype.getLaneMidX = function(t) {
                                return .5 * (this.getLaneEndX(t - 1) + this.getLaneEndX(t))
                            }, e.prototype.getLaneMidY = function(t) {
                                return .5 * (this.getLaneEndY(t - 1) + this.getLaneEndY(t))
                            }, e.prototype.getLaneEndX = function(t) {
                                return this.getLaneEnd(t, this.laneEndsX)
                            }, e.prototype.getLaneEndY = function(t) {
                                return this.getLaneEnd(t, this.laneEndsY)
                            }, e.prototype.getLaneEnd = function(t, e) {
                                return t < 0 ? 0 : t >= e.length ? e[e.length - 1] : e[t]
                            }, e.prototype.getLaneLengthX = function() {
                                return this.laneEndsX[this.laneEndsX.length - 1]
                            }, e.prototype.getLaneLengthY = function() {
                                return this.laneEndsY[this.laneEndsY.length - 1]
                            }, e.prototype.numLanesX = function() {
                                var t = this.chart.settings.layout.swimlane;
                                return t.lanesVertical ? t.lanesVertical.length : 0
                            }, e.prototype.numLanesY = function() {
                                var t = this.chart.settings.layout.swimlane;
                                return t.lanesHorizontal ? t.lanesHorizontal.length : 0
                            }, e.prototype.calcLaneEnds = function(t) {
                                this.laneEndsX = [], this.laneEndsY = [];
                                for (var e = t.laneSpreadX, i = t.laneSpreadY, n = 0, r = 0; r < this.numLanesX(); r++) {
                                    var s = this.getSetting("laneWidth", r, t, !0);
                                    void 0 === s && (s = e), n += s, this.laneEndsX.push(n)
                                }
                                for (var a = 0, r = 0; r < this.numLanesY(); r++) {
                                    var s = this.getSetting("laneWidth", r, t, !1);
                                    void 0 === s && (s = i), a += s, this.laneEndsY.push(a)
                                }
                            }, e.prototype.getSetting = function(t, e, i, n) {
                                var r = n ? i.lanesVertical : i.lanesHorizontal,
                                    s = r[e];
                                return void 0 !== s && void 0 !== s[t] ? s[t] : i[t]
                            }, e.prototype.hasSetting = function(t, e, i, n) {
                                var r = n ? i.lanesVertical : i.lanesHorizontal;
                                return !!r[e][t]
                            }, e
                        }(o);
                        t.SwimlaneLayout = L;
                        var T = function(t) {
                            function e(e) {
                                var i = t.call(this, e) || this;
                                return i.needsLayoutUpdate = !0, i.recalculateNodePositions = !0, i.labels = [], i.labelXY = [], i.paintOrder = 40, i
                            }
                            return n(e, t), e.prototype.doAnimations = function(t) {
                                var e = t.changes.settingsChanges,
                                    i = this.chart.layer.hasTopologyChanges();
                                (e && e.layout || t.changes.navigation || i || t.changes.dynamicLayout) && (this.recalculateNodePositions = this.recalculateNodePositions || i, i && (this.needsLayoutUpdate = !0), this.performLayout(), t.changes.position = !0, t.animating = t.animating)
                            }, e.prototype.resetLayout = function() {
                                for (var t = this.chart.layer.nodes(), e = 0; e < t.length; e++) t[e].userLock = !1;
                                this.needsLayoutUpdate = !0, this.performLayout()
                            }, e.prototype.onSceneChange = function(t) {
                                this.needsLayoutUpdate = this.needsLayoutUpdate || !!t.changes.data, t.changes && t.changes.settingsChanges && t.changes.settingsChanges.layout && (this.needsLayoutUpdate = !0, this.recalculateNodePositions = !1)
                            }, e.prototype.paintScene = function(t) {
                                this.needsLayoutUpdate || this.paintLabels(t)
                            }, e.prototype.paintLabels = function(t) {
                                for (var e = this.chart.scene.toDisplayTransform(), i = 0, n = 0; n < this.labels.length; n++) {
                                    var r = this.labels[n],
                                        s = t.context;
                                    t.labelRenderer.measure(s, r), i = Math.max(i, r.hwidth)
                                }
                                for (var a = this.chart.settings.toolbar, o = a.enabled ? 35 : 0, l = 0, h = 0, u = a.enabled && "outside" !== a.location ? 30 : 0, n = 0; n < this.labels.length; n++) {
                                    var r = this.labels[n],
                                        s = t.context,
                                        c = r.style,
                                        d = c.align || "center",
                                        p = c.side || "center",
                                        f = i - r.hwidth,
                                        g = r.hwidth + f,
                                        m = "left" === d ? -f : "right" === d ? f : 0,
                                        v = "left" === p ? -g : "right" === p ? g : 0,
                                        y = m + v,
                                        S = this.labelXY[n],
                                        b = S.x * e.xm + e.xa,
                                        x = S.y * e.ym + e.ya,
                                        C = c.positionX || "start";
                                    "left" === C ? b = this.chart.scene.x0 + o : "right" === C && (b = this.chart.scene.x0 + this.chart.scene.chartWidth - l), b += y;
                                    var w = c.positionY || "start";
                                    "top" === w ? x = this.chart.scene.y0 + h : "bottom" === w && (x = this.chart.scene.y0 + this.chart.scene.chartHeight - u), t.labelRenderer.paint(s, b, x, 1, r)
                                }
                            }, e.prototype.performLayout = function() {
                                var t = this;
                                if (this.needsLayoutUpdate) {
                                    var e = this.chart.layer.nodes();
                                    if (0 === e.length) return this.needsLayoutUpdate = !0, void(this.recalculateNodePositions = !0);
                                    for (var i = this.chart.settings.layout, n = e.map(function(t) {
                                            return {
                                                node: t,
                                                nodeWidth: 2 * Math.max(t.hWidth || 0, t.targetHWidth || 0),
                                                nodeHeight: 2 * Math.max(t.hHeight || 0, t.targetHHeight || 0),
                                                visitStatus: "never",
                                                level: 0,
                                                category: t.hierarchyCategory ? t.hierarchyCategory : ""
                                            }
                                        }), r = {}, s = {}, a = 0; a < n.length; a++) {
                                        var o = n[a];
                                        s[o.node.id] = o, r.hasOwnProperty(o.category) || (r[o.category] = {
                                            levelWidths: {},
                                            currentLevelOffset: {},
                                            finalLevelOffset: {}
                                        })
                                    }
                                    for (var l = [], h = [], u = function(t, e) {
                                            if (l.push(e), "done" === t.visitStatus) return void l.pop();
                                            if ("once" === t.visitStatus) {
                                                if (e && i.onCycleDetect) {
                                                    for (var n = 0, r = 0; r < l.length; r++) {
                                                        var a = l[r];
                                                        if (a && a.from === t.node) {
                                                            n = r;
                                                            break
                                                        }
                                                    }
                                                    i.onCycleDetect(e, l.slice(n))
                                                }
                                                return void l.pop()
                                            }
                                            t.visitStatus = "once";
                                            for (var r = 0; r < t.node.links.length; r++) {
                                                var o = t.node.links[r];
                                                o.from === t.node && u(s[o.to.id], o)
                                            }
                                            t.visitStatus = "done", h.push(t), l.pop()
                                        }, a = 0; a < n.length; a++) {
                                        var o = n[a];
                                        "never" === o.visitStatus && u(o, null)
                                    }
                                    for (var c = h.length, a = h.length - 1; a >= 0; a--) {
                                        for (var o = h[a], p = o.node, f = o.level, g = 0; g < p.links.length; g++) {
                                            var m = p.links[g];
                                            m.from !== p && (f = Math.max(f, s[m.from.id].level))
                                        }
                                        o.level = f + 1, c = Math.min(c, o.level)
                                    }
                                    for (var a = 0; a < h.length; a++) h[a].level -= c;
                                    for (var v = n.reduce(function(t, e) {
                                            return Math.max(t, e.nodeHeight)
                                        }, 0) || 30, y = i.nodeSpacing, S = null === i.groupSpacing ? 2 * y : i.groupSpacing, b = null === i.rowSpacing ? y : i.rowSpacing, x = b + v, a = 0; a < h.length; a++) {
                                        var o = h[a],
                                            C = r[o.category].levelWidths,
                                            w = r[o.category].currentLevelOffset,
                                            L = r[o.category].finalLevelOffset;
                                        C.hasOwnProperty(o.level) ? C[o.level] += o.nodeWidth + y : (C[o.level] = o.nodeWidth, w[o.level] = 0, L[o.level] = 0)
                                    }
                                    var T = 0;
                                    Object.keys(r).sort(function(t, e) {
                                        return t.localeCompare(e)
                                    }).forEach(function(t) {
                                        var e = r[t].levelWidths,
                                            i = Object.keys(e).map(function(t) {
                                                return e[t]
                                            }).reduce(function(t, e) {
                                                return Math.max(t, e)
                                            }, 0),
                                            n = Object.keys(e),
                                            s = {};
                                        n.forEach(function(t) {
                                            s[t] = (i - e[t]) / 2
                                        }), r[t].maxLevelWidth = i, r[t].levelOffsets = s, r[t].categoryOffset = T, T += i + S
                                    });
                                    for (var M = h.reverse(), a = 0; a < M.length; a++) {
                                        var o = M[a],
                                            k = o.category,
                                            P = r[k],
                                            A = P.levelOffsets[o.level],
                                            w = P.currentLevelOffset[o.level];
                                        P.finalLevelOffset[o.level] = w, P.currentLevelOffset[o.level] += o.nodeWidth + y;
                                        var p = o.node;
                                        p.userLock || (p.x = P.categoryOffset + A + w, p.y = o.level * x)
                                    }
                                    this.applyRotation(i), this.labels = [], this.labelXY = [], Object.keys(r).forEach(function(e) {
                                        var n = r[e],
                                            s = n.finalLevelOffset,
                                            a = Object.keys(s).map(function(t) {
                                                return s[t]
                                            }).reduce(function(t, e) {
                                                return Math.max(t, e)
                                            }, 0),
                                            o = n.categoryOffset + a / 2,
                                            l = -x,
                                            h = new d.Label(i.categoryLabelStyle);
                                        h.text = e, t.labels.push(h), t.labelXY.push(t.transformXY(o, l, i))
                                    }), this.needsLayoutUpdate = !1, this.recalculateNodePositions = !0
                                }
                            }, e.prototype.applyRotation = function(t) {
                                for (var e = this.chart.layer.nodes(), i = 0; i < e.length; i++) {
                                    var n = e[i];
                                    if (!n.userLock) {
                                        var r = this.transformXY(n.x, n.y, t);
                                        n.x = r.x, n.y = r.y
                                    }
                                }
                            }, e.prototype.transformXY = function(t, e, i) {
                                var n = (i.rotation || 0) % 360 * Math.PI / 180,
                                    r = Math.sin(n),
                                    s = Math.cos(n);
                                return {
                                    x: (t * s - e * r) * i.scaleX,
                                    y: (t * r + e * s) * i.scaleY
                                }
                            }, e
                        }(o);
                        t.CategoryHierarchyLayout = T
                    }(r = t.Layouts || (t.Layouts = {}));
                var I = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 500, i.paintOrder = 35, i.updateOrder = 1800, i.chart = e, i.scene = e.scene, i.events = e.events, i
                    }
                    return n(e, t), e.prototype.doAnimations = function(t) {
                        var e = this.chart.layer;
                        e.updateStyle(t), e.postprocessStyle(t)
                    }, e.prototype.paintScene = function(t) {
                        d.Graphics.pushClip(t, this.scene.x0, this.scene.y0, this.scene.width, this.scene.height);
                        var e = this.chart.layer;
                        e.setBounds(this.scene.x0, this.scene.y0, this.scene.x0 + this.scene.width, this.scene.y0 + this.scene.height), e.paint(t), this.chart.lasso && this.chart.lasso.paintScene(t), d.Graphics.popClip(t)
                    }, e.prototype.paintLinks = function(t, e, i, n) {
                        this.chart.layer.paintLinksImpl(t, e, i, n)
                    }, e.prototype.paintNodes = function(t, e, i, n) {
                        this.chart.layer.paintNodesImpl(t, e, i, n)
                    }, e.prototype.findObjectAt = function(t, e, i) {
                        return this.chart.layer.findObjectAt(t, e, i)
                    }, e
                }(d.ChartElement);
                t.Renderer = I;
                var D = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        i.errorVisible = !1, i.animationOrder = 600, i.paintOrder = 40, i.updateOrder = 2e3, i.contents = null, i.x = 0, i.y = 0, i.settings = {}, i.menuVisible = !1, i.fieldsDom = {}, i.lassoShapeId = null, i.lassoShapeMeta = null, i.dialogConfirm = null, i.fields = [{
                            id: "name",
                            name: "Shape Name",
                            field_type: "input",
                            default: ""
                        }, {
                            id: "lineColor",
                            name: "Outline Color",
                            field_type: "color",
                            default: "#ff0000"
                        }, {
                            id: "lineColorOpacity",
                            name: "Outline Color Opacity",
                            field_type: "range",
                            min: 0,
                            max: 100,
                            default: 100
                        }, {
                            id: "lineWidth",
                            name: "Outline width",
                            field_type: "range",
                            min: 1,
                            max: 20,
                            default: 1
                        }, {
                            id: "fillColor",
                            name: "Fill Color",
                            field_type: "color",
                            default: "#ff0000"
                        }, {
                            id: "fillColorOpacity",
                            name: "Fill Color Opacity",
                            field_type: "range",
                            min: 0,
                            max: 100,
                            default: 10
                        }], i.chart = e, i.container = e.shell.menuContainer, i.scene = e.scene, i.events = e.events, i.popup = d.Helpers.createDom("bmch-div", "BMCH-Menu", null, i.container), i.popupValue = d.Helpers.createDom("bmch-div", "BMCH-Menu-title", null, i.popup);
                        var n = d.Helpers.createDom("bmch-strong", "", null, i.popupValue);
                        n.innerText = "Edit Shape Details", i.error = d.Helpers.createDom("bmch-div", "BMCH-Menu-error", null, i.popup), i.error.style.display = "none", i.error.style.padding = "5px", i.error.style.color = "red", i.error.style.fontWeight = "800", i.closeButton = d.Helpers.createDom("bmch-a", "BMCH-Menu-close", null, i.popup), i.closeButton.style.zIndex = "1000", i.detailsDiv = d.Helpers.createDom("bmch-div", "BMCH-Menu-details", null, i.popup), i.detailsDiv.style.paddingTop = "5px", i.detailsDiv.style.paddingBottom = "16px", i.popupActions = d.Helpers.createDom("bmch-nav", null, null, i.popup), i.popup.style.position = "absolute", i.popup.style.display = "none";
                        var r = i;
                        return i.closeButton.addEventListener("click", function(t) {
                            r.hideMenu()
                        }), i.dialogConfirm = new d.DialogConfirm(i.chart), i
                    }
                    return n(e, t), e.prototype.remove = function() {}, e.prototype.doAnimations = function(t) {
                        !this.lassoShapeId
                    }, e.prototype.isMenuVisible = function() {
                        return this.menuVisible
                    }, e.prototype.toggleMenu = function(t, e, i, n) {
                        this.x = t.x, this.y = t.y, this.callback = n, null != e && this.lassoShapeId === e ? this.hideMenu() : this.showMenu(t, e, i, n)
                    }, e.prototype.showMenu = function(t, e, i, n) {
                        this.lassoShapeId === e ? this.updateMenu() : this.showPopup(t, e, i, n)
                    }, e.prototype.showPopup = function(t, e, i, n) {
                        this.hideError(), this.menuVisible = !0, this.lassoShapeId = e, this.lassoShapeMeta = i, this.contents = "", this.popup.style.display = "block", this.updateMenu(), this.updateXY(t)
                    }, e.prototype.hideMenu = function() {
                        this.hideError(), this.menuVisible = !1, this.lassoShapeId = null, this.popup.style.display = "none", this.dialogConfirm.hideMenu(), this.callback.metaEditorClosed()
                    }, e.prototype.updateMenu = function() {
                        var t = this;
                        d.Helpers.clearHtmlChildren(this.detailsDiv);
                        for (var e = this, i = function(i) {
                                var r = n.fields[i],
                                    s = r.field_type,
                                    a = r.id,
                                    o = d.Helpers.createDom("label", "", null, n.detailsDiv);
                                o.innerText = r.name + ":", o.style.width = "150px", o.style.display = "inline-block";
                                var l = d.Helpers.createDom("input", "", null, n.detailsDiv),
                                    h = function() {
                                        t.validateFieldByIndex(a, l.value) ? (e.setMeta(a, l.value), e.hideError(), l.style.color = null) : l.style.color = "red"
                                    };
                                switch (l.value = "undefined" != typeof n.lassoShapeMeta[a] ? n.lassoShapeMeta[a] : n.setMeta(a, r.default), s) {
                                    case "color":
                                        l.type = "color";
                                        var u = d.Helpers.createDom("input", "", null, n.detailsDiv);
                                        u.style.width = "6em", u.style.marginLeft = "1em", u.style.marginBottom = "-2em", u.type = "text", u.value = l.value, u.onkeydown = function(t) {
                                            window.setTimeout(function() {
                                                l.value = u.value, h()
                                            }, 0)
                                        }, l.oninput = function(t) {
                                            window.setTimeout(function() {
                                                u.value = l.value, h()
                                            }, 0)
                                        };
                                        break;
                                    case "range":
                                        l.type = "number", l.min = r.min + "", l.max = r.max + ""
                                }
                                d.Helpers.createDom("br", "", null, n.detailsDiv);
                                l.addEventListener("change", function(t) {
                                    return h()
                                }), n.fieldsDom[a] = l
                            }, n = this, r = 0; r < this.fields.length; r++) i(r);
                        var s = (d.Helpers.createDom("br", "", null, this.detailsDiv), d.Helpers.createDom("input", "", null, this.detailsDiv));
                        s.type = "bmch-button", s.value = "Save and Close", s.addEventListener("click", function(t) {
                            e.saveMeta() && e.hideMenu()
                        });
                        var a = function(t, i) {
                                t.hideMenu(), e.deleteShape(), e.hideMenu()
                            },
                            o = function(t, e) {
                                t.hideMenu()
                            };
                        this.dialogConfirm.setCallbacks(a, o);
                        var l = d.Helpers.createDom("input", "", null, this.detailsDiv);
                        l.type = "bmch-button", l.value = "Delete", l.style.color = "red", l.addEventListener("click", function(t) {
                            e.dialogConfirm.openConfirm(t, "Do you want to delete the shape?");
                            var i = parseInt(e.popup.style.left.slice(0, -2)) + 35,
                                n = parseInt(e.popup.style.top.slice(0, -2)) + 80;
                            e.dialogConfirm.popup.style.left = i + "px", e.dialogConfirm.popup.style.top = n + "px"
                        })
                    }, e.prototype.setMeta = function(t, e) {
                        return this.lassoShapeMeta[t] = e
                    }, e.prototype.saveMeta = function() {
                        return !(!this.validateForm() || this.errorVisible) && (this.callback.setShapeMeta(this.lassoShapeId, this.lassoShapeMeta), !0)
                    }, e.prototype.validateForm = function() {
                        for (var t = 0; t < this.fields.length; t++) {
                            var e = this.fields[t],
                                i = this.fieldsDom[e.id].value;
                            if (!this.validateField(e, i)) return !1
                        }
                        return !0
                    }, e.prototype.validateFieldByIndex = function(t, e) {
                        for (var i = 0; i < this.fields.length; i++)
                            if (this.fields[i].id == t) return this.validateField(this.fields[i], e);
                        return !1
                    }, e.prototype.validateField = function(t, e) {
                        if ("range" == t.field_type) {
                            var i = t.min,
                                n = t.max,
                                r = parseInt(e);
                            if (r < i || r > n) return this.displayError(t.id, "Value must be between " + i + " and " + n)
                        }
                        return !0
                    }, e.prototype.displayError = function(t, e) {
                        return this.error.innerText = e, this.error.style.display = "block", this.errorVisible = !0, !1
                    }, e.prototype.hideError = function() {
                        this.error.innerText = "", this.error.style.display = "none", this.errorVisible = !1
                    }, e.prototype.deleteShape = function() {
                        this.callback.deleteShape(this.lassoShapeId)
                    }, e.prototype.updateXY = function(t) {
                        var e, i, n, r, s, a, o = 12;
                        if (t) switch (s = t.x, a = t.y, this.settings.position) {
                            case "pointer":
                                e = r = a = this.y, i = this.x - o, n = this.x + o;
                                break;
                            case "center":
                                e = a, r = a, i = s, n = s;
                                break;
                            default:
                            case "outside":
                                e = a - o, r = a + o, i = s - o, n = s + o
                        } else e = r = a = this.y, i = this.x - o, n = this.x + o;
                        var l = this.chart.getRootChart().scene,
                            h = l.x0,
                            u = l.x0 + l.width,
                            c = this.popup.offsetWidth,
                            d = this.popup.offsetHeight;
                        n + c <= u ? s = n : i - c >= h ? s = i - c : (s = Math.max(i - c / 2, h), a = r), a = Math.max(Math.min(a, l.y0 + l.height - d), l.y0), this.popup.style.left = s + "px", this.popup.style.top = a + "px"
                    }, e
                }(d.ChartElement);
                t.LassoMenu = D;
                var N = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.dataFunction = null, e.preloaded = null, e
                    }
                    return n(e, t), e
                }(u.SettingsData);
                t.SettingsData = N;
                var O = function(t) {
                    function e(e, i) {
                        var n = t.call(this, e, i) || this;
                        return n.nodes = {}, n.links = {}, n.nodeToLinks = {}, n.pendingNodes = {}, n.requestedNodes = {}, n.pendingAllData = !1, n.requestedAllData = !1, n.nextLinkId = 0, n.hasAllData = !n.hasDataFunc(), n
                    }
                    return n(e, t), e.otherEnd = function(t, e) {
                        return e === t.from ? t.to : e === t.to ? t.from : null
                    }, e.multiLinkId = function(t) {
                        return t.from < t.to ? t.from + d.Helpers.SeparatorChar + t.to : t.to + d.Helpers.SeparatorChar + t.from
                    }, e.prototype.buildRequest = function() {
                        if (this.pendingAllData) return this.requestedAllData ? null : (this.requestedAllData = !0, {
                            nodes: []
                        });
                        var t = [];
                        for (var e in this.pendingNodes)
                            if (t.push(e), delete this.pendingNodes[e], this.requestedNodes[e] = !0, t.length >= this.dataSettings.requestMaxUnits) break;
                        return 0 === t.length ? null : {
                            nodes: t
                        }
                    }, e.prototype.dataFunc = function(t, e, i) {
                        var n = this.dataSettings;
                        if (n.dataFunction) n.dataFunction(t.nodes || null, e, i);
                        else if (n.url) {
                            var r = [];
                            if (t.nodes) {
                                for (var s = "", a = 0; a < t.nodes.length; a++) s.length && (s += ","), s += encodeURIComponent(t.nodes[a]);
                                r.push(["nodes", s])
                            }
                            var o = window[this.settings.advanced.dataRequestClass];
                            d.Data.doRequest(o, n.url, n, r, e, i)
                        } else i({
                            error: "Chart configuration does not define data retrieval function"
                        })
                    }, e.prototype.verifyData = function(t, e) {
                        d.Helpers.hasProperty(e, "links") || (e.links = []), d.Helpers.hasProperty(e, "nodes") || (e.nodes = []);
                        var i = !0;
                        if (!Array.isArray(e.nodes)) {
                            var n = e.nodes;
                            e.nodes = [];
                            for (var r = Object.keys(n), s = 0; s < r.length; s++) {
                                var a = r[s],
                                    o = n[a];
                                o.id = a, e.nodes.push(o)
                            }
                        }
                        if (!Array.isArray(e.links)) {
                            var l = e.links;
                            e.links = [];
                            for (var r = Object.keys(l), s = 0; s < r.length; s++) {
                                var a = r[s],
                                    h = l[a];
                                h.id = a, e.links.push(h)
                            }
                        }
                        for (var u = {}, c = !t && !this.hasDataFunc(), s = 0; s < e.nodes.length; s++) {
                            var o = e.nodes[s];
                            null == o.id ? (o.id = d.Helpers.getIdentifierStr(), d.Helpers.warn("Data response: `id` property is mandatory for all nodes in the NetChart data object.", null, !0)) : o.id = o.id.toString(), u.hasOwnProperty(o.id) && d.Helpers.warn('Data response: Multiple nodes with the same ID: "' + o.id + '". Data will be merged.'), u[o.id] = !0, c ? o.loaded = !0 : d.Helpers.hasProperty(o, "loaded") ? o.loaded = !!o.loaded : (d.Helpers.warn('Data response: Node with ID "' + o.id + '" does not have the "loaded" flag. Assuming "false".'), o.loaded = !1), d.Helpers.hasProperty(o, "className") && null != o.className && !d.Helpers.isString(o.className) && (d.Helpers.warn('Data response: Node property "className" must be a string. Node ID: "' + o.id + '".'), o.className = "" + o.className), d.Helpers.hasProperty(o, "error") && null != o.error && !d.Helpers.isString(o.error) && (d.Helpers.warn('Data response: Node property "error" must be a string. Node ID: "' + o.id + '".'), o.error = "" + o.error), d.Helpers.hasProperty(o, "x") && null != o.x && !d.Helpers.isNumber(o.x) && (d.Helpers.warn('Data response: Node property "x" must be a number. Node ID: "' + o.id + '".'), o.x = d.Helpers.tryParseFloat(o.x, null)), d.Helpers.hasProperty(o, "y") && null != o.y && !d.Helpers.isNumber(o.y) && (d.Helpers.warn('Data response: Node property "y" must be a number. Node ID: "' + o.id + '".'), o.y = d.Helpers.tryParseFloat(o.y, null))
                        }
                        for (var p = {}, s = 0; s < e.links.length; s++) {
                            var h = e.links[s];
                            null != h.from ? (h.from = h.from.toString(), null != h.to ? (h.to = h.to.toString(), null == h.id ? (h.id = d.Helpers.SeparatorChar + this.nextLinkId, this.nextLinkId += 1) : h.id = h.id.toString(), p.hasOwnProperty(h.id) && d.Helpers.warn('Data response: Multiple links with the same ID: "' + h.id + '". Data will be merged.'), p[h.id] = !0, d.Helpers.hasProperty(h, "className") && null != h.className && !d.Helpers.isString(h.className) && (d.Helpers.warn('Data response: Link property "className" must be a string. Link ID: "' + h.id + '".'), h.className = "" + h.className), d.Helpers.hasProperty(h, "error") && null != h.error && !d.Helpers.isString(h.error) && (d.Helpers.warn('Data response: Link property "error" must be a string. Link ID: "' + h.id + '".'), h.error = "" + h.error), d.Helpers.hasProperty(this.nodes, h.from) || d.Helpers.hasProperty(u, h.from) || e.nodes.push({
                                id: h.from,
                                loaded: c
                            }), d.Helpers.hasProperty(this.nodes, h.to) || d.Helpers.hasProperty(u, h.to) || e.nodes.push({
                                id: h.to,
                                loaded: c
                            })) : d.Helpers.warn('Data response: Link missing property "to" and will be ignored. Link id: "' + h.id + '"')) : d.Helpers.warn('Data response: Link missing property "from" and will be ignored. Link id: "' + h.id + '"')
                        }
                        if (t ? this.chart.log("Got " + e.nodes.length + " nodes on [" + t.nodes.join(", ") + "]") : this.chart.log("Got " + e.nodes.length + " nodes on all nodes"), t && t.nodes.length > 0) {
                            for (var f = !1, g = !1, m = 0; m < e.nodes.length; m++) {
                                var o = e.nodes[m];
                                t.nodes.indexOf(o.id) > -1 && (f = !0, g = g || o.loaded)
                            }
                            f ? g || (this.chart.error("Data response: loaded field was not set on any of the requested nodes!"), i = !1) : (this.chart.error("Data response: Results set did not contain any of requested nodes!", t.nodes), i = !1)
                        }
                        return i
                    }, e.prototype.addVerifiedData = function(t, e) {
                        for (var i = this.updateGraph(e), n = 0; n < e.nodes.length; n++) {
                            var r = e.nodes[n];
                            (r.loaded || r.error) && (delete this.requestedNodes[r.id], delete this.pendingNodes[r.id])
                        }
                        if (t)
                            if (0 === t.nodes.length) this.hasAllData = !0, this.pendingAllData = !1, this.requestedAllData = !1;
                            else
                                for (var n = 0; n < t.nodes.length; n++) {
                                    var s = t.nodes[n];
                                    this.requestedNodes[s] && (this.pendingNodes[s] = !0, delete this.requestedNodes[s])
                                }
                        return i
                    }, e.prototype.requestFailedPermanently = function(t) {
                        if (t.nodes) {
                            for (var e = [], i = 0; i < t.nodes.length; i++) {
                                var n = t.nodes[i];
                                e.push({
                                    id: n,
                                    error: "Bad response",
                                    loaded: !0
                                })
                            }
                            var r = this.addVerifiedData(t, {
                                nodes: e,
                                links: []
                            });
                            r.dataArrived || (r.dataArrived = {}), r.dataArrived[this.dataSettings.id] = !0, this.chart.events.notifySceneChanges(r)
                        }
                        this.chart.error("Failed data request, giving up on nodes: ", t.nodes)
                    }, e.prototype.removeData = function(t) {
                        var e = {},
                            i = [];
                        if (t.nodes)
                            for (var n = 0; n < t.nodes.length; n++) {
                                var r = t.nodes[n];
                                e[r.id] = !0, i = this.removeNode(r.id, i)
                            }
                        if (t.links)
                            for (var s = 0; s < t.links.length; s++) {
                                var a = t.links[s],
                                    o = this.links[a.id];
                                o && (e[o.from] = !0, e[o.to] = !0, this.removeLink(o))
                            }
                        for (var l = 0; l < i.length; l++) {
                            var o = i[l];
                            e[o.from] = !0, e[o.to] = !0, this.removeLink(o)
                        }
                        var h = this.chart.createEventArguments(null, "api");
                        return h.dataArrived = null, h.dataRemoved = t, this.chart.notifyDataUpdated(h), {
                            netChartDataNodes: e
                        }
                    }, e.prototype.exportData = function() {
                        var t = [],
                            e = [];
                        for (var i in this.nodes) {
                            var n = this.nodes[i];
                            t.push(n)
                        }
                        for (var i in this.links) {
                            var r = this.links[i];
                            e.push(r)
                        }
                        return {
                            nodes: t,
                            links: e
                        }
                    }, e.prototype.applyPreloadedData = function() {
                        this.dataSettings.randomNodes > 0 ? this.addData(this.genRandomGraph(this.dataSettings)) : t.prototype.applyPreloadedData.call(this)
                    }, e.prototype.getNode = function(t, e, i) {
                        void 0 === e && (e = !0), void 0 === i && (i = null);
                        var n = d.Helpers.hasProperty(this.nodes, t) ? this.nodes[t] : null;
                        if (i && (i.loading = !1), n) {
                            if (this.settings.legend.enabled && !this.chart.legend.isNodeVisible(n)) return null;
                            var r = this.settings.filters.nodeFilter;
                            if (r) {
                                var s = d.Helpers.hasProperty(this.nodeToLinks, t) ? this.nodeToLinks[t] : null;
                                if (!r(n, s)) return null
                            }!n.loaded && e && (i && (i.loading = !0), this.requestNodeData(t))
                        } else e ? (i && (i.loading = !0), this.requestNodeData(t)) : i && (i.loading = this.isNodeLoading(t));
                        return n
                    }, e.prototype.isNodeLoading = function(t) {
                        return this.pendingAllData || this.requestedAllData || d.Helpers.hasProperty(this.pendingNodes, t) || d.Helpers.hasProperty(this.requestedNodes, t)
                    }, e.prototype.getLinks = function(t, i) {
                        void 0 === i && (i = !0);
                        var n = this.settings.legend.enabled,
                            r = d.Helpers.hasProperty(this.nodes, t) ? this.nodes[t] : null;
                        if (!r) return i && this.requestNodeData(t), [];
                        if (n && !this.chart.legend.isNodeVisible(r)) return [];
                        var s = d.Helpers.hasProperty(this.nodeToLinks, t) ? this.nodeToLinks[t] : [],
                            a = this.settings.filters.nodeFilter;
                        if (a && !a(r, s)) return [];
                        !r.loaded && i && this.requestNodeData(t);
                        var o = this.settings.filters.linkFilter,
                            l = this.settings.filters.nodeLinksProcessor,
                            h = this.settings.filters.multilinkProcessor,
                            u = {};
                        if (u[t] = !0, s.length > 0 && (a || o || n)) {
                            for (var c = new Array(s.length), p = 0, f = 0; f < s.length; f++) {
                                var g = s[f],
                                    m = e.otherEnd(g, t);
                                if (null != m)
                                    if (d.Helpers.hasProperty(this.nodes, m)) {
                                        var v = this.nodes[m];
                                        if (a || n)
                                            if (d.Helpers.hasProperty(u, m)) {
                                                if (!u[m]) continue
                                            } else {
                                                var y = !n || this.chart.legend.isNodeVisible(v);
                                                if (y && a && (y = a(v, d.Helpers.hasProperty(this.nodeToLinks, m) ? this.nodeToLinks[m] : null)), u[m] = y, !y) continue
                                            } if (o || n) {
                                            var S = void 0,
                                                b = void 0;
                                            if (g.from === t ? (S = r, b = v) : (S = v, b = r), n && !this.chart.legend.isLinkVisible(g)) continue;
                                            if (o && !o(g, S, b)) continue;
                                            g = this.applyLinkHighlight(n, g)
                                        }
                                        c[p++] = g
                                    } else d.Helpers.error("Invalid situation: link data found from '" + t + "' to '" + m + "', but no node data found for '" + m + "'");
                                else d.Helpers.error("Invalid situation: link data found from '" + g.from + "' to '" + g.to + "' in the collection of links for '" + t + "'")
                            }
                            c.length = p, s = c
                        }
                        if (l && (s = l(r, s)), !Array.isArray(s)) return [];
                        if (h) {
                            for (var x = {}, C = !1, f = 0; f < s.length; f++) {
                                var w = e.otherEnd(s[f], t);
                                if (w) {
                                    if (d.Helpers.hasProperty(x, w)) {
                                        C = !0;
                                        break
                                    }
                                    x[w] = !0
                                }
                            }
                            if (C) {
                                for (var c = [], L = {}, T = {}, f = 0; f < s.length; f++) {
                                    var M = s[f],
                                        k = e.multiLinkId(M);
                                    L.hasOwnProperty(k) ? T.hasOwnProperty(k) ? T[k].push(M) : T[k] = [L[k], M] : L[k] = M
                                }
                                for (var f = 0; f < s.length; f++) {
                                    var M = s[f],
                                        k = e.multiLinkId(M);
                                    T.hasOwnProperty(k) || c.push(M)
                                }
                                for (var P = Object.keys(T), f = 0; f < P.length; f++) {
                                    var A = T[P[f]],
                                        M = A[0],
                                        I = h(A, this.nodes[M.from], this.nodes[M.to]);
                                    Array.isArray(I) ? c = c.concat(I) : I && c.push(I)
                                }
                                s = c
                            }
                        }
                        return s
                    }, e.prototype.applyLinkHighlight = function(t, e) {
                        if (t && this.chart.legend.isLinkHighlighted(e)) {
                            var i = d.Helpers.realClone(e);
                            i.style || (i.style = {}), i.style.shadowBlur = 10, i.style.shadowColor = "black", i.style.shadowOffsetX = 0, i.style.shadowOffsetY = 0, e = i
                        }
                        return e
                    }, e.prototype.getAllNodes = function(t) {
                        void 0 === t && (t = !0);
                        for (var e = this.settings.filters.nodeFilter, i = Object.keys(this.nodes), n = new Array(i.length), r = 0, s = 0; s < i.length; s++) {
                            var a = i[s],
                                o = this.nodes[a];
                            this.settings.legend.enabled && !this.chart.legend.isNodeVisible(o) || e && !e(o, d.Helpers.hasProperty(this.nodeToLinks, a) ? this.nodeToLinks[a] : null) || (o = this.applyNodeHighlight(o), n[r++] = o)
                        }
                        return n.length = r, this.hasAllData || this.pendingAllData || !t || (this.pendingAllData = !0, this.scheduleRequests()), n
                    }, e.prototype.applyNodeHighlight = function(t) {
                        if (this.settings.legend.enabled && this.chart.legend.isNodeHighlighted(t)) {
                            var e = d.Helpers.realClone(t);
                            e.style || (e.style = {}), e.style.shadowBlur = 10, e.style.shadowColor = "black", e.style.shadowOffsetX = 0, e.style.shadowOffsetY = 0, t = e
                        }
                        return t
                    }, e.prototype.requestNodeData = function(t) {
                        return this.hasDataFunc() ? void(this.pendingNodes.hasOwnProperty(t) || this.requestedNodes.hasOwnProperty(t) || (this.pendingNodes[t] = !0, this.scheduleRequests())) : void this.chart.error("Cannot request node data! Please specify either data function or data URL in the settings!")
                    }, e.prototype.hasDataFunc = function() {
                        return null != this.dataSettings.dataFunction || null != this.dataSettings.url
                    }, e.prototype.updateGraph = function(t) {
                        for (var e = {}, i = 0; i < t.nodes.length; i++) {
                            var n = t.nodes[i];
                            if (d.Helpers.hasProperty(this.nodes, n.id)) {
                                var r = this.nodes[n.id];
                                n.error || r.loaded && !n.loaded || (d.Helpers.extendDataItem(r, n), r.resetCoordinates = (null != n.x || null != n.y) && null != r.x && null != r.y, r.resetLocked = null != n.locked, e[n.id] = !0)
                            } else {
                                var s = d.Helpers.extendDataItem({}, n);
                                s.resetCoordinates = null != s.x && null != s.y, s.resetLocked = null != s.locked, this.nodes[n.id] = s, this.nodeToLinks[n.id] = [], e[n.id] = !0
                            }
                        }
                        for (var a = 0; a < t.links.length; a++) {
                            var o = t.links[a];
                            if (d.Helpers.hasProperty(this.links, o.id)) {
                                var r = this.links[o.id];
                                if (o.from && r.from !== o.from || o.to && r.to !== o.to) {
                                    this.chart.error('Changing link from/to not supported. Link ignored. Link ID: "' + o.id + '"');
                                    continue
                                }
                                d.Helpers.extendDataItem(r, o)
                            } else {
                                if (!o.from || !o.to) continue;
                                this.links[o.id] = o, this.nodeToLinks[o.from].push(o), o.from !== o.to && this.nodeToLinks[o.to].push(o)
                            }
                            e[o.from] = !0, e[o.to] = !0
                        }
                        return {
                            netChartDataNodes: e
                        }
                    }, e.prototype.removeNode = function(t, e) {
                        return delete this.pendingNodes[t], delete this.requestedNodes[t], d.Helpers.hasProperty(this.nodes, t) && delete this.nodes[t], d.Helpers.hasProperty(this.nodeToLinks, t) && (e = e.concat(this.nodeToLinks[t]), delete this.nodeToLinks[t]), e
                    }, e.prototype.removeLink = function(t) {
                        delete this.links[t.id], d.Helpers.hasProperty(this.nodeToLinks, t.from) && d.Helpers.removeFromArrayHasty(this.nodeToLinks[t.from], t), d.Helpers.hasProperty(this.nodeToLinks, t.to) && d.Helpers.removeFromArrayHasty(this.nodeToLinks[t.to], t)
                    }, e.prototype.genRandomGraph = function(t) {
                        var e, i = t.randomNodes,
                            n = t.randomLinks;
                        e = "grid" === t.random ? this.genRandomGrid(i, t.randomGridLinkProbability) : "tree" === t.random ? this.genRandomTree(i, t.randomTreeDensity) : this.genRandomUniform(i, n);
                        for (var r = 0; r < e.nodes.length; r++) {
                            var s = e.nodes[r];
                            s.style = {
                                label: "Node " + s.id
                            }
                        }
                        for (var a = 0; a < e.links.length; a++) {
                            var o = e.links[a];
                            o.style = {
                                label: "Link " + o.id
                            }
                        }
                        return e
                    }, e.prototype.genRandomGrid = function(t, e) {
                        for (var i = [], n = [], r = 0; r <= t - 1; r++) {
                            var s = {
                                id: "n" + r,
                                loaded: !0
                            };
                            i.push(s)
                        }
                        for (var a = Math.ceil(Math.sqrt(t)), o = new d.Random(32131), l = 0; l <= a - 1; l++)
                            for (var h = 0; h <= a - 1; h++) {
                                var u = h + l * a;
                                u >= t || (h > 0 && o.get() <= e && n.push({
                                    from: "n" + u,
                                    to: "n" + (u - 1)
                                }), l > 0 && o.get() <= e && n.push({
                                    from: "n" + u,
                                    to: "n" + (u - a)
                                }))
                            }
                        for (var c = 0; c < n.length; c++) {
                            var p = n[c];
                            p.id = "" + c
                        }
                        return {
                            nodes: i,
                            links: n
                        }
                    }, e.prototype.genRandomUniform = function(t, e) {
                        for (var i = new d.Random(32131), n = [], r = [], s = 0; s < t; s++) {
                            var a = {
                                id: "n" + s,
                                loaded: !0
                            };
                            if (n.length > 0) {
                                var o = {
                                    id: "l" + s,
                                    from: a.id,
                                    to: n[Math.floor(i.get() * n.length)].id
                                };
                                r.push(o)
                            }
                            n.push(a)
                        }
                        for (var s = r.length; s <= e - 1; s++) {
                            var o = {
                                id: "l" + (s + 1),
                                from: n[Math.floor(i.get() * n.length)].id,
                                to: n[Math.floor(i.get() * n.length)].id
                            };
                            r.push(o)
                        }
                        return {
                            nodes: n,
                            links: r
                        }
                    }, e.prototype.genRandomTree = function(t, e) {
                        for (var i = new d.Random(31927832), n = {
                                id: "n0",
                                loaded: !0
                            }, r = [n], s = [n], a = []; s.length < t;) {
                            var o = i.getArrayElement(r);
                            d.Helpers.removeFromArrayHasty(r, o);
                            for (var l = Math.max(1, Math.ceil(i.get() * e)), h = 0; h < l; h++) {
                                var u = {
                                        id: "n" + s.length,
                                        loaded: !0
                                    },
                                    c = {
                                        id: "l" + s.length,
                                        from: o.id,
                                        to: u.id
                                    };
                                a.push(c), s.push(u), r.push(u)
                            }
                        }
                        return {
                            nodes: s,
                            links: a
                        }
                    }, e
                }(d.Data);
                t.Data = O;
                var F = function() {
                    function t(t) {
                        this.restoredState = {}, this.chart = t
                    }
                    return t.prototype.exportCoordinates = function(t) {
                        for (var e = this.chart.layer.idToNode, i = 0; i < t.length; i++) {
                            var n = t[i],
                                r = n.id;
                            if (d.Helpers.hasProperty(e, r)) {
                                var s = e[r];
                                s.removed || (n.x = s.x, n.y = s.y)
                            }
                        }
                    }, t.prototype.save = function() {
                        for (var t = {}, e = this.chart.layer.idToNode, i = Object.keys(e), n = 0; n < i.length; n++) {
                            var r = e[i[n]];
                            r.removed || (t[r.id] = {
                                x: r.x,
                                y: r.y,
                                r: r.hHeight,
                                w: r.hWidth
                            })
                        }
                        return t
                    }, t.prototype.restore = function(t) {
                        this.restoredState = {};
                        for (var e = this.chart.layer.idToNode, i = Object.keys(t), n = 0; n < i.length; n++) {
                            var r = i[n],
                                s = t[r];
                            if (d.Helpers.hasProperty(e, r)) {
                                var a = e[r];
                                a.x = s.x, a.y = s.y, a.hHeight = s.r, a.hWidth = s.w ? s.w : s.r
                            } else this.restoredState[r] = s
                        }
                    }, t.prototype.applyRestoredCoordinates = function(t) {
                        if (d.Helpers.hasProperty(this.restoredState, t.id)) {
                            var e = this.restoredState[t.id];
                            delete this.restoredState[t.id], t.x = e.x, t.y = e.y, t.hHeight = e.r, t.hWidth = e.w ? e.w : e.r
                        }
                    }, t.prototype.lockNode = function(t, e, i) {
                        void 0 === e && (e = null), void 0 === i && (i = null);
                        var n = this.chart.layer.idToNode;
                        if (d.Helpers.hasProperty(n, t)) {
                            var r = n[t];
                            r.userLock = !0, null !== e && null !== i && (r.x = e, r.y = i), this.chart.layer.touchNode(r)
                        } else this.chart.error("Locking nonexistant node: " + t)
                    }, t.prototype.unlockNode = function(t) {
                        var e = this.chart.layer.idToNode;
                        if (d.Helpers.hasProperty(e, t)) {
                            var i = e[t];
                            i.userLock && (i.userLock = !1, this.chart.layer.touchNode(i), this.chart.events.notifySceneChanges({
                                dynamicLayout: !0
                            }))
                        } else this.chart.error("Unlocking nonexistant node: " + t)
                    }, t.prototype.exportData = function() {
                        for (var t = this.chart.layer.idToNode, e = Object.keys(t), i = new Array(e.length), n = 0, r = 0; r < e.length; r++) {
                            var s = t[e[r]];
                            s.removed || (i[n++] = s.data)
                        }
                        i.length = n;
                        var a = this.chart.layer.idToLink;
                        e = Object.keys(a);
                        var o = new Array(e.length);
                        n = 0;
                        for (var r = 0; r < e.length; r++) {
                            var l = a[e[r]];
                            l.removed || (o[n++] = l.data)
                        }
                        return o.length = n, {
                            nodes: i,
                            links: o
                        }
                    }, t
                }();
                t.Graph = F;
                var E = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        i.numPointers = 0, i.resetZoom = !1, i.minimumAutoZoom = 1 / 0, i.animationOrder = 700, i.paintOrder = 20, i.updateOrder = 2e3, i.chart = e, i.scene = e.scene, i.layer = e.layer, i.events = e.events, i.settings = i.scene.settings;
                        var n = i._getInertiaAccelerations();
                        return i.inertiaX = new d.Inertia(n.x, 0), i.inertiaY = new d.Inertia(n.y, 0), i.inertiaZ = new d.Inertia(n.z, 1), i
                    }
                    return n(e, t), e.prototype.setZoom = function(t, e) {
                        void 0 === e && (e = !0);
                        var i = 1 + this.scene.settings.interaction.zooming.sensitivity;
                        if ("auto" === t) this.scene.autoZoomMode = !0, this.autoZoom(e);
                        else if ("overview" === t) this.scene.autoZoomMode = "overview", this.autoZoom(e);
                        else {
                            var n = void 0;
                            "in" === t ? n = 1 / this.inertiaZ.getTargetValue() * i : "out" === t ? n = 1 / this.inertiaZ.getTargetValue() / i : null === (n = d.Helpers.tryParseFloat(t, null)) && (this.chart.error("Invalid zoom value: " + t), n = 1 / this.inertiaZ.getTargetValue()), this.manualZoom(n / this.scene.zoom, void 0, void 0, e)
                        }
                        this.chart.events.notifySceneChanges({
                            position: !0
                        })
                    }, e.prototype.previewPointerDown = function() {
                        this.numPointers += 1
                    }, e.prototype.previewPointerUp = function() {
                        this.numPointers -= 1
                    }, e.prototype.previewPointerCancel = function() {
                        this.numPointers -= 1
                    }, e.prototype.doAnimations = function(t) {
                        var e = t.changes.settingsChanges;
                        if (e && e.interaction && e.interaction.zooming && Object.keys(e.interaction.zooming).length > 0) {
                            this.minimumAutoZoom = 1 / 0;
                            var i = e.interaction.zooming.initialAutoZoom;
                            "true" === i ? i = !0 : "false" === i && (i = !1), this.scene.autoZoomMode = i, i && this.autoZoom(!0)
                        }
                        if (this.resetZoom || t.changes.newGraph) this.resetZoom = !1, this.setZoom("overview", !1);
                        else if (0 === this.numPointers && this.layer.nodes().length > 0) {
                            this.scene.autoZoomMode && this.autoZoom(!0) && (t.changes.position = !0);
                            var n = t.timeStamp,
                                r = this.inertiaX.getValue(n),
                                s = this.inertiaY.getValue(n),
                                a = 1 / this.inertiaZ.getValue(n);
                            r === this.scene.centerX && s === this.scene.centerY && a === this.scene.zoom || (this.scene.centerX = r, this.scene.centerY = s, this.scene.zoom = a, t.changes.position = !0), this.inertiaX.finished(n) && this.inertiaY.finished(n) && this.inertiaZ.finished(n) || (t.animating = !0)
                        } else this.inertiaX.jump(this.scene.centerX), this.inertiaY.jump(this.scene.centerY), this.inertiaZ.jump(1 / this.scene.zoom)
                    }, e.prototype._getInertiaAccelerations = function() {
                        var t = this.scene.settings.interaction.zooming.autoZoomPositionElasticity,
                            e = .5 * (this.scene.width + this.scene.height) * t;
                        return {
                            x: e,
                            y: e,
                            z: 2 * t
                        }
                    }, e.prototype.autoZoom = function(t, e) {
                        var i = !1,
                            n = this.computeAutoZoom("overview" === this.scene.autoZoomMode);
                        if (null == n) return !1;
                        var r = n.centerX,
                            s = n.centerY,
                            a = n.zoom,
                            o = .01,
                            l = 1 + o,
                            h = 1 - o,
                            u = 1 / this.inertiaZ.getTargetValue() / a,
                            c = this._getInertiaAccelerations(),
                            d = void 0;
                        (u > l || u < h) && (t ? this.inertiaZ.setTarget(1 / a, e, c.z, d, !0) : (this.inertiaZ.jump(1 / a), this.scene.zoom = a), i = !0);
                        var p = this.scene.width,
                            f = (this.inertiaX.getTargetValue() - r) * a / p;
                        (f > o || f < -o) && (t ? this.inertiaX.setTarget(r, e, c.x, d) : (this.inertiaX.jump(r), this.scene.centerX = r), i = !0);
                        var g = this.scene.height,
                            m = (this.inertiaY.getTargetValue() - s) * a / g;
                        return (m > o || m < -o) && (t ? this.inertiaY.setTarget(s, e, c.y, d) : (this.inertiaY.jump(s), this.scene.centerY = s), i = !0), i
                    }, e.prototype.computeAutoZoom = function(t, e, i) {
                        var n, r = this.scene;
                        n = t ? this.layer.getGraphBounds(e) : this.layer.getNodeNeighborsBounds(r.lastClickedNode);
                        var s = n.x0,
                            a = n.y0,
                            o = n.x1,
                            l = n.y1;
                        if (0 === s && 0 === o && 0 === a && 0 === l) return null;
                        i && (n.y0 -= i[0], n.x1 += i[1], n.y1 += i[2], n.x0 -= i[3]);
                        var h = r.getVisibleBounds(),
                            u = r.settings.interaction.zooming,
                            c = (1 - u.autoZoomSize) / 2,
                            d = c * n.w(),
                            p = c * n.h(),
                            f = n.clone();
                        if (f.x0 -= d, f.x1 += d, f.y0 -= p, f.y1 += p, n.isInside(h) && !f.isInside(h)) return null;
                        var g = Math.min(r.width / f.w(), r.height / f.h()),
                            m = u.autoZoomExtent;
                        m && (g = Math.min(m[1], g), null === m[0] ? this.minimumAutoZoom = Math.min(g, this.minimumAutoZoom) : g = Math.max(m[0], g));
                        var v = (f.x0 + f.x1) / 2,
                            y = (f.y0 + f.y1) / 2,
                            S = (h.x0 + h.x1) / 2,
                            b = (h.y0 + h.y1) / 2;
                        return this.scene.zoom === g && Math.abs(v - S) <= d && Math.abs(y - b) <= p ? null : {
                            centerX: v,
                            centerY: y,
                            zoom: g
                        }
                    }, e.prototype.manualZoom = function(t, e, i, n) {
                        void 0 === e && (e = null), void 0 === i && (i = null), void 0 === n && (n = !1);
                        var r = this.scene,
                            s = this.settings.interaction.zooming.zoomExtent,
                            a = this.layer.getGraphBounds(),
                            o = this.chart && this.chart.layout ? this.chart.layout.baseY0 : null,
                            l = this.chart && this.chart.layout ? this.chart.layout.baseX0 : null,
                            h = null !== l ? Math.min(l, a.x0) : a.x0,
                            c = null !== o ? Math.min(o, a.y0) : a.y0,
                            d = a.x1,
                            p = a.y1,
                            f = r.zoom * t;
                        f = Math.min(f, Math.max(r.zoom, s[1])), f = Math.max(f, Math.min(r.zoom, Math.min(this.minimumAutoZoom, s[0]))), t = f / r.zoom;
                        var g, m;
                        if (null !== e && null !== i) {
                            var v = r.fromDisplay(e, i);
                            g = v.x, m = v.y
                        } else if (r.selection.length > 0) {
                            for (var y = 0, S = 0, b = 0, x = 0; x < r.selection.length; x++) {
                                var C = r.selection[x];
                                C instanceof u.Node && (y += C.x, S += C.y, b += 1)
                            }
                            b > 0 && (g = y / b, m = S / b)
                        }
                        var w, L;
                        g && m ? (w = (r.centerX - g) / t + g, L = (r.centerY - m) / t + m) : (w = g = r.centerX, L = m = r.centerY);
                        var T = r.zoom * t;
                        if (this.scene.settings.interaction.zooming.shouldKeepGraphOnScreen) {
                            var M = r.getVisibleBounds();
                            if (g < h || g > d) {
                                var k = void 0;
                                k = M.x0 > h && M.x1 > d ? Math.max(d - M.x1, h - M.x0) : M.x1 < d && M.x0 < h ? Math.min(d - M.x1, h - M.x0) : 0, w += k
                            }
                            if (m < c || m > p) {
                                var P = void 0;
                                P = M.y0 > c && M.y1 > p ? Math.max(p - M.y1, c - M.y0) : M.y1 < p && M.y0 < h ? Math.min(p - M.y1, c - M.y0) : 0, L += P
                            }
                        }
                        var A = void 0;
                        if (n && T !== r.zoom) {
                            var I = this._getInertiaAccelerations();
                            this.inertiaZ.setTarget(1 / T, null, I.z, A, !0)
                        } else this.inertiaZ.jump(1 / T), r.zoom = T;
                        if (!n || w === r.centerX && L === r.centerY) r.centerX = w, r.centerY = L, this.inertiaX.jump(w), this.inertiaY.jump(L);
                        else {
                            var I = this._getInertiaAccelerations();
                            this.inertiaX.setTarget(w, null, I.x, A), this.inertiaY.setTarget(L, null, I.y, A)
                        }
                        r.autoZoomMode = !1
                    }, e.prototype.scrollIntoView = function(t, e) {
                        if (t && t.length) {
                            var i = d.Helpers.performanceNow();
                            this.scene.autoZoomMode = !1;
                            var n = this._getInertiaAccelerations(),
                                r = this.computeAutoZoom(!0, t, e),
                                s = void 0;
                            r && (this.inertiaX.setTarget(r.centerX, i, n.x, s), this.inertiaY.setTarget(r.centerY, i, n.y, s), this.inertiaZ.setTarget(1 / r.zoom, i, n.z, s, !0), this.chart.events.notifySceneChanges({
                                position: !0
                            }))
                        }
                    }, e
                }(d.ChartElement);
                t.AutoZoom = E;
                var H = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.updateOrder = 150, i.chart = e, i
                    }
                    return n(e, t), e.CreateNavigator = function(t) {
                        switch (t.settings.navigation.mode) {
                            case "manual":
                                return new R(t);
                            case "showall":
                                return new z(t);
                            case "focusnodes":
                                return new U(t);
                            default:
                                return t.error("Unknown navigation mode: '" + t.settings.navigation.mode + "'"), new z(t)
                        }
                    }, e.prototype.updateGraphWithNewData = function(t, e) {
                        for (var i = this.chart.layer, n = this.chart.scene.mainData, r = i.idToNode, s = Object.keys(t ? t : r), a = {
                                loading: !1
                            }, o = 0; o < s.length; o++) {
                            var l = s[o];
                            if (d.Helpers.hasProperty(r, l)) {
                                var h = r[l];
                                if (!h.removed) {
                                    var u = n.getNode(l, !1, a);
                                    u ? (this.updateNodeWithNewData(h, u, n.getLinks(l, !1)), i.touchNode(h)) : a.loading ? h.loading || (h.loading = !0, i.touchNode(h)) : this.ensureNodeRemoved(h)
                                }
                            }
                        }
                    }, e.prototype.calcExpanded = function(t) {
                        var e = t.expanded;
                        if (t.links.length < t.dataLinks.length) return t.expanded = !1, e;
                        for (var i = 0; i < t.links.length; i++)
                            if (t.links[i].removed) return t.expanded = !1, e;
                        return t.expanded = !0, !e
                    }, e.prototype.syncNodeLinks = function(t) {
                        for (var e = this.chart.layer, i = t.links, n = t.dataLinks, r = {}, s = 0; s < n.length; s++) r[n[s].id] = n[s];
                        for (var a = 0; a < i.length; a++) {
                            var o = i[a];
                            o.removed || (d.Helpers.hasProperty(r, o.id) ? (o.data = r[o.id], e.touchLink(o), delete r[o.id]) : this.ensureLinkRemoved(o))
                        }
                        for (var l = Object.keys(r), h = t.id, s = 0; s < l.length; s++) {
                            var o = r[l[s]],
                                u = O.otherEnd(o, h);
                            d.Helpers.hasProperty(e.idToNode, u) && !e.idToNode[u].removed && this.ensureLink(o)
                        }
                        this.calcExpanded(t)
                    }, e.prototype.updateNodeWithNewData = function(t, e, i) {
                        t.data = e, e.resetCoordinates && (t.x = e.x, t.y = e.y, e.resetCoordinates = !1), e.resetLocked && (t.userLock = e.locked, e.resetLocked = !1), e.loaded && (t.loading = !1), t.dataLinks = i, this.syncNodeLinks(t)
                    }, e.prototype.ensureNode = function(t, e) {
                        var i = this.chart.layer,
                            n = d.Helpers.hasProperty(i.idToNode, t.id) ? i.idToNode[t.id] : null;
                        return !(n && !n.removed) && (n = i.addNode(t.id), null != t.x && (n.x = t.x), null != t.y && (n.y = t.y), null != t.locked && (n.userLock = t.locked), t.resetCoordinates = !1, n.loading = !t.loaded, n.data = t, n.dataLinks = e, this.chart.graph.applyRestoredCoordinates(n), this.syncNodeLinks(n), !0)
                    }, e.prototype.ensureLink = function(t) {
                        var e = this.chart.layer,
                            i = d.Helpers.hasProperty(e.idToLink, t.id) ? e.idToLink[t.id] : null;
                        if (i && !i.removed) return !1;
                        var n = d.Helpers.hasProperty(e.idToNode, t.from) ? e.idToNode[t.from] : null,
                            r = d.Helpers.hasProperty(e.idToNode, t.to) ? e.idToNode[t.to] : null;
                        return !(!n || n.removed || !r || r.removed) && (i = e.addLink(t.id, t.from, t.to), i.data = t, this.calcExpanded(n), this.calcExpanded(r), !0)
                    }, e.prototype.ensureNodeRemoved = function(t) {
                        if (!t || t.removed) return !1;
                        for (var e = this.chart.layer, i = t.links, n = i.length - 1; n >= 0; n--) {
                            var r = i[n];
                            if (!r.removed) {
                                var s = r.otherEnd(t);
                                s !== t && !s.removed && s.expanded && (s.expanded = !1, e.touchNode(s)), e.removeLink(r)
                            }
                        }
                        return e.removeNode(t), !0
                    }, e.prototype.ensureLinkRemoved = function(t) {
                        if (!t || t.removed) return !1;
                        var e = this.chart.layer;
                        return !t.from.removed && t.from.expanded && (t.from.expanded = !1, e.touchNode(t.from)), !t.to.removed && t.to.expanded && (t.to.expanded = !1, e.touchNode(t.to)), e.removeLink(t), !0
                    }, e
                }(d.Navigator);
                t.Navigator = H;
                var R = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.saveHack = null, e.lastExpandedOrCollapsed = null, e.retryList = [], e
                    }
                    return n(e, t), e.prototype.getLastExpandedOrCollapsed = function() {
                        return this.lastExpandedOrCollapsed
                    }, e.prototype.setLastExpandedOrCollapsed = function(t) {
                        this.lastExpandedOrCollapsed = t
                    }, e.prototype.executeAllSceneChanges = function(t) {
                        var e = this.retryList;
                        this.retryList = [];
                        for (var i = 0; i < e.length; i++) {
                            var n = e[i].fun(t);
                            null === n ? this.retryList.push(e[i]) : n && e[i].origin && this.chart.notifyChartUpdate(e[i].origin)
                        }
                    }, e.prototype.notifyNavigation = function(t, e) {
                        this.chart.events.notifySceneChanges({
                            navigation: !0
                        }), this.retryList.push({
                            fun: e,
                            origin: t
                        })
                    }, e.prototype.clearFocusNodes = function(t) {
                        var e = this;
                        this.notifyNavigation(t, function() {
                            for (var t = !1, i = e.chart.layer, n = i.idToNode, r = Object.keys(n), s = 0; s < r.length; s++) {
                                var a = n[r[s]];
                                a.focused && !a.removed && (t = !0, a.focused = !1, i.touchNode(a))
                            }
                            return t
                        })
                    }, e.prototype.hideNode = function(t, e) {
                        var i = this;
                        this.notifyNavigation(e, function() {
                            return i.ensureNodeRemoved(d.Helpers.hasProperty(i.chart.layer.idToNode, t) ? i.chart.layer.idToNode[t] : null)
                        })
                    }, e.prototype.showNode = function(t, e) {
                        var i = this;
                        this.notifyNavigation(e, function() {
                            var e = {
                                    loading: !1
                                },
                                n = i.chart.scene.mainData,
                                r = n.getNode(t, !0, e);
                            return r ? (i.ensureNode(r, n.getLinks(t)), !0) : !!e.loading && null
                        })
                    }, e.prototype.collapseNode = function(t, e) {
                        var i = this;
                        this.notifyNavigation(e, function() {
                            var e = i.chart.layer,
                                n = d.Helpers.hasProperty(e.idToNode, t) ? e.idToNode[t] : null;
                            if (!n || n.removed) return !1;
                            for (var r = !1, s = 0; s < n.links.length; s++) {
                                var a = n.links[s];
                                if (!a.removed) {
                                    var o = a.otherEnd(n);
                                    o !== n && (r = i.ensureNodeRemoved(o) || r)
                                }
                            }
                            return i.canHideNode(n) && (r = i.ensureNodeRemoved(n) || r), i.lastExpandedOrCollapsed = n, r
                        })
                    }, e.prototype.calculateCloseNodes = function(t) {
                        for (var e = {}, i = [], n = 0; n < t.links.length; n++) {
                            var r = t.links[n];
                            if (!r.removed) {
                                var s = r.otherEnd(t);
                                s === t || s.removed || (i.push(s), e[s.id] = !0)
                            }
                        }
                        e[t.id] = !0;
                        for (var a = [], n = 0; n < i.length; n++) {
                            for (var o = i[n], l = !0, h = 0; h < o.links.length; h++) {
                                var s = o.links[h].otherEnd(o);
                                if (!d.Helpers.hasProperty(e, s.id)) {
                                    l = !1;
                                    break
                                }
                            }
                            l && a.push(o)
                        }
                        return a
                    }, e.prototype.closeNode = function(t, e) {
                        var i = this;
                        this.notifyNavigation(e, function() {
                            var e = i.chart.layer,
                                n = d.Helpers.hasProperty(e.idToNode, t) ? e.idToNode[t] : null;
                            if (!n || n.removed) return !1;
                            for (var r = !1, s = i.calculateCloseNodes(n), a = 0; a < s.length; a++) r = i.ensureNodeRemoved(s[a]) || r;
                            return r
                        })
                    }, e.prototype.focusNode = function(t, e, i) {
                        var n = this;
                        return this.chart.settings.navigation.autoUnfocus && this.clearFocusNodes("single"), this.notifyNavigation(i, function() {
                            var e = n.chart.layer.idToNode[t];
                            return e instanceof u.Node && !e.removed && (!e.focused && (e.focused = !0, n.chart.layer.touchNode(e), !0))
                        }), !0
                    }, e.prototype.expandNode = function(t, e) {
                        var i = this,
                            n = {},
                            r = !1;
                        this.notifyNavigation(e, function() {
                            var e = i.chart.layer,
                                s = e.idToNode[t];
                            if (!(s instanceof u.Node) || s.removed) return !1;
                            var a = i.chart.scene.mainData,
                                o = s.dataLinks;
                            if (null != o)
                                for (var l = 0; l < o.length; l++) {
                                    var h = o[l];
                                    if (!d.Helpers.hasProperty(n, h.id)) {
                                        n[h.id] = !0;
                                        var c = d.Helpers.hasProperty(e.idToLink, h.id) ? e.idToLink[h.id] : null;
                                        if (!c || c.removed) {
                                            var p = O.otherEnd(h, t);
                                            if (p !== t) {
                                                var f = d.Helpers.hasProperty(e.idToNode, p) ? e.idToNode[p] : null;
                                                if (!f || f.removed) {
                                                    var g = a.getNode(p);
                                                    if (!g) continue;
                                                    i.ensureNode(g, a.getLinks(p))
                                                }
                                            }
                                            r = !0
                                        }
                                    }
                                }
                            return s.data.loaded ? (i.lastExpandedOrCollapsed = s, r) : null
                        })
                    }, e.prototype.unfocusNode = function(t, e) {
                        var i = this;
                        this.notifyNavigation(e, function() {
                            var e = i.chart.layer.idToNode[t];
                            return e instanceof u.Node && !e.removed && (!!e.focused && (e.focused = !1, i.chart.layer.touchNode(e), !0))
                        })
                    }, e.prototype.save = function() {
                        if (this.saveHack) return this.saveHack;
                        for (var t = {}, e = this.chart.layer.idToNode, i = Object.keys(e), n = 0; n < i.length; n++) {
                            var r = e[i[n]];
                            r.removed || (t[r.id] = r.focused)
                        }
                        return t
                    }, e.prototype.restore = function(t) {
                        var e = this,
                            i = t;
                        if (i) {
                            this.saveHack = i, this.chart.notifyChartUpdate("restore"), this.saveHack = null;
                            var n = {},
                                r = !1,
                                s = !1;
                            this.notifyNavigation(null, function() {
                                var t, a = e.chart.layer,
                                    o = e.chart.scene.mainData,
                                    l = !1,
                                    h = {
                                        loading: !1
                                    },
                                    u = a.idToNode;
                                if (!s) {
                                    t = Object.keys(u);
                                    for (var c = 0; c < t.length; c++) {
                                        var p = t[c];
                                        d.Helpers.hasProperty(i, p) || u[p].removed || (r = e.ensureNodeRemoved(u[p]) || r)
                                    }
                                    s = !0
                                }
                                t = Object.keys(i);
                                for (var c = 0; c < t.length; c++) {
                                    var p = t[c];
                                    if (!d.Helpers.hasProperty(n, p)) {
                                        var f = d.Helpers.hasProperty(a.idToNode, p) ? a.idToNode[p] : null;
                                        if (!f || f.removed) {
                                            var g = o.getNode(p, !0, h);
                                            if (!g) {
                                                h.loading ? l = !0 : n[p] = !0;
                                                continue
                                            }
                                            e.ensureNode(g, o.getLinks(p)), a.idToNode[p].focused = i[p], r = !0
                                        } else f && f.focused !== i[p] && (f.focused = i[p], a.touchNode(f), r = !0);
                                        n[p] = !0
                                    }
                                }
                                return l ? null : r
                            })
                        }
                    }, e.prototype.onNewDataObject = function() {
                        for (var t = this, e = this.save(), i = this.chart.scene.mainData, n = Object.keys(e), r = 0; r < n.length; r++) i.getNode(n[r]);
                        this.notifyNavigation(null, function() {
                            var n, r = t.chart.layer,
                                s = r.idToNode,
                                a = {
                                    loading: !1
                                };
                            n = Object.keys(e);
                            for (var o = 0; o < n.length; o++) {
                                var l = n[o];
                                if (d.Helpers.hasProperty(s, l) && !s[l].removed) {
                                    var h = i.getNode(l, !0, a);
                                    if (h) delete e[l];
                                    else if (a.loading) return null
                                } else delete e[l]
                            }
                            return !0
                        })
                    }, e.prototype.showInitialNodes = function() {
                        var t = this,
                            e = !1,
                            i = this.chart.settings.navigation.initialNodes,
                            n = !1,
                            r = !1;
                        this.retryList = [], this.notifyNavigation("init", function(s) {
                            var a = t.chart.layer;
                            if (e || (d.Helpers.hasProperties(a.nodes) && (a.clearObjects(), n = !0), e = !0), null == i || i.length < 1) return n;
                            var o = {
                                    loading: !1
                                },
                                l = t.chart.scene.mainData,
                                h = !1,
                                u = i;
                            i = [];
                            for (var c = 0; c < u.length; c++) {
                                var p = u[c],
                                    f = l.getNode(p, !0, o);
                                f ? (n = t.ensureNode(f, l.getLinks(p)) || n, r || (r = !0, s.changes.newGraph = !0)) : o.loading && (i.push(p), h = !0)
                            }
                            return h ? null : n
                        })
                    }, e.prototype.onSceneChange = function(t) {
                        t.changes.filters ? this.updateGraphWithNewData(null, t) : (t.changes.dataArrived || t.changes.data) && this.updateGraphWithNewData(t.changes.netChartDataNodes, t), this.retryList.length > 0 && (t.changes.navigation || t.changes.dataArrived) && this.executeAllSceneChanges(t)
                    }, e.prototype.canFocusNode = function(t) {
                        return !t.focused
                    }, e.prototype.canUnfocusNode = function(t) {
                        return t.focused
                    }, e.prototype.canExpandNode = function(t) {
                        return !t.expanded
                    }, e.prototype.canCollapseNode = function(t) {
                        return this.canHideNode(t)
                    }, e.prototype.canHideNode = function(t) {
                        for (var e = this.chart.layer, i = Object.keys(e.idToNode), n = 0; n < i.length; n++) {
                            var r = e.idToNode[i[n]];
                            if (r !== t && !r.removed) return !0
                        }
                        return !1
                    }, e.prototype.canCloseNode = function(t) {
                        return this.calculateCloseNodes(t).length > 0
                    }, e.prototype.getHiddenNodes = function() {
                        return this.chart && this.chart.layer ? Object.keys(this.chart.layer.deletedNodes) : []
                    }, e
                }(H);
                t.ManualNavigator = R;
                var z = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.hiddenNodes = {}, e.isInitialized = !1, e
                    }
                    return n(e, t), e.prototype.showNode = function(e, i) {
                        delete this.hiddenNodes[e], t.prototype.showNode.call(this, e, i)
                    }, e.prototype.hideNode = function(e, i) {
                        var n = this.chart.layer.idToNode;
                        d.Helpers.hasProperty(n, e) && (this.hiddenNodes[e] = !0, t.prototype.hideNode.call(this, e, i))
                    }, e.prototype.collapseNode = function(e, i) {
                        var n = this.chart.layer.idToNode;
                        if (d.Helpers.hasProperty(n, e)) {
                            this.hiddenNodes[e] = !0;
                            for (var r = n[e], s = 0; s < r.links.length; s++) {
                                var a = r.links[s];
                                if (!a.removed) {
                                    var o = a.otherEnd(r);
                                    o !== r && (this.hiddenNodes[o.id] = !0)
                                }
                            }
                            t.prototype.collapseNode.call(this, e, i)
                        }
                    }, e.prototype.closeNode = function(e, i) {
                        var n = this.chart.layer.idToNode;
                        if (d.Helpers.hasProperty(n, e)) {
                            for (var r = this.calculateCloseNodes(n[e]), s = 0; s < r.length; s++) this.hiddenNodes[r[s].id] = !0;
                            t.prototype.closeNode.call(this, e, i)
                        }
                    }, e.prototype.save = function() {
                        if (this.saveHack) return this.saveHack;
                        var t;
                        t = [];
                        for (var e = this.chart.layer.idToNode, i = Object.keys(e), n = 0; n < i.length; n++) {
                            var r = e[i[n]];
                            !r.removed && r.focused && t.push(r.id)
                        }
                        return {
                            hidden: Object.keys(this.hiddenNodes),
                            focused: t
                        }
                    }, e.prototype.restore = function(t) {
                        var e = this,
                            i = t;
                        this.hiddenNodes = {};
                        for (var n = 0; n < i.hidden.length; n++) this.hiddenNodes[i.hidden[n]] = !0;
                        this.saveHack = i, this.chart.notifyChartUpdate("restore"), this.saveHack = null, this.notifyNavigation(null, function(t) {
                            e.updateGraphWithNewData(null, t);
                            for (var n = {}, r = 0; r < i.focused.length; r++) n[i.focused[r]] = !0;
                            for (var s = e.chart.layer, a = s.idToNode, o = Object.keys(a), r = 0; r < o.length; r++) {
                                var l = a[o[r]],
                                    h = d.Helpers.hasProperty(n, o[r]);
                                l.removed || l.focused === h || (l.focused = h, s.touchNode(l))
                            }
                            return !1
                        })
                    }, e.prototype.expandNode = function(e, i) {
                        var n = this.chart.layer.idToNode;
                        if (d.Helpers.hasProperty(n, e)) {
                            for (var r = n[e], s = 0; s < r.dataLinks.length; s++) {
                                var a = r.dataLinks[s],
                                    o = O.otherEnd(a, e);
                                o !== e && delete this.hiddenNodes[o]
                            }
                            t.prototype.expandNode.call(this, e, i)
                        }
                    }, e.prototype.showInitialNodes = function() {
                        var t = this;
                        this.retryList = [], this.notifyNavigation("init", function(e) {
                            var i = t.chart.layer,
                                n = t.chart.scene.mainData;
                            t.hiddenNodes = {}, i.clearObjects(), t.isInitialized = !0;
                            var r, s = t.chart.settings.navigation.initialNodes,
                                a = {};
                            if (null == s || s.length < 1) {
                                r = n.getAllNodes();
                                for (var o = 0; o < r.length; o++) a[r[o].id] = !0
                            } else {
                                r = n.getAllNodes(!1);
                                for (var o = 0; o < r.length; o++) a[r[o].id] = !0;
                                for (var o = 0; o < s.length; o++) {
                                    var l = s[o];
                                    if (!d.Helpers.hasProperty(a, l)) {
                                        var h = n.getNode(l);
                                        h && (r.push(h), a[l] = !0)
                                    }
                                }
                            }
                            for (var o = 0; o < r.length; o++) {
                                var u = r[o],
                                    c = n.getLinks(u.id);
                                t.ensureNode(u, c);
                                for (var p = 0; p < c.length; p++) {
                                    var f = O.otherEnd(c[p], u.id);
                                    if (f && f !== u.id && !d.Helpers.hasProperty(a, f)) {
                                        a[f] = !0;
                                        var g = n.getNode(f);
                                        g && r.push(g)
                                    }
                                }
                            }
                            return r.length > 0 && (e.changes.newGraph = !0), !0
                        })
                    }, e.prototype.onNewDataObject = function() {
                        var t = this,
                            e = this.chart.settings.navigation.initialNodes;
                        (null == e || e.length < 1) && this.chart.scene.mainData.getAllNodes(), this.notifyNavigation(null, function(e) {
                            return t.updateGraphWithNewData(null, e), !1
                        })
                    }, e.prototype.updateGraphWithNewData = function(t, e) {
                        if (this.isInitialized) {
                            var i, n = this.chart.layer,
                                r = this.chart.scene.mainData,
                                s = n.idToNode,
                                a = {};
                            if (t) {
                                i = Object.keys(t);
                                for (var o = 0; o < i.length; o++) a[i[o]] = r.getNode(i[o], !1)
                            } else {
                                for (var l = r.getAllNodes(!1), o = 0; o < l.length; o++) a[l[o].id] = l[o];
                                for (var h = Object.keys(s), o = 0; o < h.length; o++) d.Helpers.hasProperty(a, h[o]) || (a[h[o]] = null);
                                h = Object.keys(this.hiddenNodes);
                                for (var o = 0; o < h.length; o++) d.Helpers.hasProperty(a, h[o]) || (a[h[o]] = null);
                                i = Object.keys(a)
                            }
                            for (var u = !1, c = Object.keys(s), o = 0; o < c.length; o++)
                                if (!s[c[o]].removed) {
                                    u = !0;
                                    break
                                } for (var p = !1, o = 0; o < i.length; o++) {
                                var f = i[o],
                                    g = a[f],
                                    m = d.Helpers.hasProperty(s, f) ? s[f] : null;
                                if (g) {
                                    if (d.Helpers.hasProperty(this.hiddenNodes, f)) {
                                        this.ensureNodeRemoved(m);
                                        continue
                                    }
                                    var v = r.getLinks(f, !1);
                                    m && !m.removed ? (this.updateNodeWithNewData(m, g, v), n.touchNode(m)) : (this.ensureNode(g, v), m = s[f], p = !0);
                                    for (var y = 0; y < v.length; y++) {
                                        var S = O.otherEnd(v[y], f);
                                        if (S && S !== f && !d.Helpers.hasProperty(this.hiddenNodes, S)) {
                                            var b = d.Helpers.hasProperty(s, S) ? s[S] : null;
                                            if (!b || b.removed) {
                                                var x = r.getNode(S);
                                                x && this.ensureNode(x, r.getLinks(S))
                                            }
                                        }
                                    }
                                } else r.isNodeLoading(f) ? m && !m.loading && (m.loading = !0, n.touchNode(m)) : (this.ensureNodeRemoved(m), delete this.hiddenNodes[f])
                            }!u && p && (e.changes.newGraph = !0)
                        }
                    }, e.prototype.getHiddenNodes = function() {
                        return Object.keys(this.hiddenNodes)
                    }, e
                }(R);
                t.ShowAllNavigator = z;
                var B;
                ! function(t) {
                    t[t.Hidden = 1] = "Hidden", t[t.Expanded = 2] = "Expanded", t[t.FromExpanded = 3] = "FromExpanded", t[t.ToExpanded = 4] = "ToExpanded"
                }(B || (B = {}));
                var U = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.focusNodes = [], e.extraFlags = {}, e.needsFullRecalculate = !1, e.wasReset = !1, e.lastExpandedOrCollapsed = null, e.lastExpandMode = null, e.forceNormalExpansionRadius = !1, e.customExpandMode = null, e.nodesToExpand = [], e.currentExpandNodes = {}, e
                    }
                    return n(e, t), e.prototype.getLastExpandedOrCollapsed = function() {
                        return this.lastExpandedOrCollapsed
                    }, e.prototype.setLastExpandedOrCollapsed = function(t) {
                        this.lastExpandedOrCollapsed = t
                    }, e.prototype.expandNode = function(t, e, i, n) {
                        var r = this.chart.layer.idToNode,
                            s = d.Helpers.hasProperty(r, t) ? r[t] : null,
                            a = !1;
                        if (null !== i && void 0 !== i || (i = this.chart.settings.navigation.defaultExpandDepth), null !== n && void 0 !== n || (n = this.chart.settings.navigation.defaultExpandMode), s && !s.removed) {
                            var o = this.extraFlags.hasOwnProperty(t),
                                l = "from" === n ? B.FromExpanded : "to" === n ? B.ToExpanded : B.Expanded;
                            (s.relevance < 2 || this.lastExpandMode !== n || o && this.extraFlags[t] !== l) && (o ? this.extraFlags[t] !== l && (this.extraFlags[t] = B.Expanded) : this.extraFlags[t] = l, a = !0);
                            for (var h = 0; h < s.dataLinks.length; h++)
                                if (!("from" === n && s.dataLinks[h].to == t || "to" === n && s.dataLinks[h].from == t)) {
                                    var u = O.otherEnd(s.dataLinks[h], t);
                                    u && u !== t && d.Helpers.hasProperty(this.extraFlags, u) && this.extraFlags[u] === B.Hidden && (delete this.extraFlags[u], a = !0), i > 0 && !this.currentExpandNodes.hasOwnProperty(u) && (this.nodesToExpand.push([u, e, i - 1, n]), a = !0)
                                } this.customExpandMode = n, a && (this.forceNormalExpansionRadius = !0, this.scheduleFullRecalculate(), this.chart.notifyChartUpdate(e)), this.lastExpandedOrCollapsed = s, this.lastExpandMode = n
                        }
                    }, e.prototype.collapseNode = function(t, e, i) {
                        var n = this.chart.layer.idToNode,
                            r = d.Helpers.hasProperty(n, t) ? n[t] : null,
                            s = !1;
                        if (null !== i && void 0 !== i || (i = this.chart.settings.navigation.defaultExpandMode), r && !r.removed) {
                            if (d.Helpers.hasProperty(this.extraFlags, t)) {
                                var a = "from" === i ? B.FromExpanded : "to" === i ? B.ToExpanded : B.Expanded;
                                this.extraFlags.hasOwnProperty(t) && (this.extraFlags[t] === a || a === B.Expanded ? delete this.extraFlags[t] : this.extraFlags[t] = a === B.FromExpanded ? B.ToExpanded : B.FromExpanded), s = !0
                            }
                            for (var o = 0; o < r.links.length; o++)
                                if (!("from" === i && r.links[o].to.id == t || "to" === i && r.links[o].from.id == t)) {
                                    var l = r.links[o].otherEnd(r);
                                    l && l !== r && !l.removed && l.baseRelevance < r.baseRelevance && (this.extraFlags[l.id] = B.Hidden, s = !0)
                                } s && (this.forceNormalExpansionRadius = !0, this.scheduleFullRecalculate(), this.chart.notifyChartUpdate(e)), this.lastExpandedOrCollapsed = r
                        }
                    }, e.prototype.closeNode = function(t, e) {}, e.prototype.focusNode = function(t, e, i) {
                        for (var n = 0; n < this.focusNodes.length; n++)
                            if (this.focusNodes[n].id === t) return !1;
                        if (this.focusNodes.length >= this.chart.settings.navigation.numberOfFocusNodes) {
                            if (!this.chart.settings.navigation.autoUnfocus) return !1;
                            this.focusNodes.pop()
                        }
                        this.focusNodes.unshift({
                            id: t,
                            assignedRelevance: e,
                            calculatedRelevance: null
                        }), d.Helpers.hasProperty(this.extraFlags, t) && this.extraFlags[t] === B.Hidden && delete this.extraFlags[t];
                        var r = this.chart.scene.mainData.getLinks(t, !1);
                        if (r)
                            for (var n = 0; n < r.length; n++) {
                                var s = O.otherEnd(r[n], t);
                                s && s !== t && d.Helpers.hasProperty(this.extraFlags, s) && this.extraFlags[s] === B.Hidden && delete this.extraFlags[s]
                            }
                        return this.chart.notifyChartUpdate(i), this.forceNormalExpansionRadius = !0, this.scheduleFullRecalculate(), !0
                    }, e.prototype.unfocusNode = function(t, e) {
                        if (!(this.focusNodes.length <= Math.max(this.chart.settings.navigation.minNumberOfFocusNodes, 1)))
                            for (var i = 0; i < this.focusNodes.length; i++)
                                if (this.focusNodes[i].id === t) return this.focusNodes.splice(i, 1), this.forceNormalExpansionRadius = !0, this.chart.notifyChartUpdate(e), void this.scheduleFullRecalculate()
                    }, e.prototype.clearFocusNodes = function(t) {
                        this.focusNodes = [], this.extraFlags = {}, this.wasReset = !0, this.chart.notifyChartUpdate(t), this.scheduleFullRecalculate()
                    }, e.prototype.hideNode = function(t, e) {
                        var i = this.chart.layer.idToNode,
                            n = d.Helpers.hasProperty(i, t) ? i[t] : null;
                        n && !n.removed && this.canHideNode(n) && (this.extraFlags[t] = B.Hidden, this.chart.notifyChartUpdate(e), this.forceNormalExpansionRadius = !0, this.scheduleFullRecalculate())
                    }, e.prototype.showNode = function(t, e) {
                        d.Helpers.hasProperty(this.extraFlags, t) && this.extraFlags[t] === B.Hidden && (delete this.extraFlags[t], this.forceNormalExpansionRadius = !0, this.scheduleFullRecalculate())
                    }, e.prototype.showInitialNodes = function() {
                        this.extraFlags = {};
                        var t = this.chart.settings.navigation.initialNodes;
                        if (t) {
                            var e = {};
                            this.focusNodes = new Array(t.length);
                            for (var i = 0, n = 0; n < t.length; n++) {
                                var r = t[n];
                                d.Helpers.hasProperty(e, r) || (e[r] = !0, this.focusNodes[i++] = {
                                    id: r,
                                    assignedRelevance: -1,
                                    calculatedRelevance: null
                                })
                            }
                            i < this.chart.settings.navigation.minNumberOfFocusNodes && this.chart.error("Too few initialNodes. minNumberOfFocusNodes is " + this.chart.settings.navigation.minNumberOfFocusNodes + " but there are only " + i + " nodes in initialNodes"), i > this.chart.settings.navigation.numberOfFocusNodes && (this.chart.error("Too many initialNodes. numberOfFocusNodes is " + this.chart.settings.navigation.numberOfFocusNodes + " but there are " + i + " nodes in initialNodes. Discarding excess focus nodes."), i = this.chart.settings.navigation.numberOfFocusNodes), this.focusNodes.length = i
                        } else this.focusNodes = [];
                        this.wasReset = !0, this.chart.notifyChartUpdate("init"), this.scheduleFullRecalculate()
                    }, e.prototype.save = function() {
                        return {
                            focusNodes: this.focusNodes,
                            extraFlags: this.extraFlags
                        }
                    }, e.prototype.restore = function(t) {
                        this.focusNodes = d.Helpers.realClone(t.focusNodes), this.extraFlags = d.Helpers.clone(t.extraFlags), this.scheduleFullRecalculate(), this.chart.notifyChartUpdate("restore")
                    }, e.prototype.onNewDataObject = function() {
                        for (var t = this.chart.scene.mainData, e = Object.keys(this.chart.layer.idToNode), i = 0; i < e.length; i++) t.getNode(e[i])
                    }, e.prototype.onSceneChange = function(t) {
                        t.changes.filters ? (this.updateGraphWithNewData(null, t), this.needsFullRecalculate = !0) : t.changes.dataArrived || t.changes.data ? (this.updateGraphWithNewData(t.changes.netChartDataNodes, t), this.needsFullRecalculate = !0) : t.changes.settings && t.changes.settingsChanges.navigation && (this.needsFullRecalculate = !0), this.needsFullRecalculate && (this.needsFullRecalculate = !1, this.fullRecalculate(t.timeStamp, t))
                    }, e.prototype.scheduleFullRecalculate = function() {
                        this.needsFullRecalculate = !0, this.chart.events.notifySceneChanges({
                            navigation: !0
                        })
                    }, e.prototype.fullRecalculate = function(t, e) {
                        var i = this,
                            n = this.chart.settings.navigation,
                            r = this.chart.layer,
                            s = this.chart.scene.mainData,
                            a = d.Helpers.nonNull(n.initialFocusNodeExpansionRadius) ? n.initialFocusNodeExpansionRadius : n.focusNodeExpansionRadius,
                            o = !this.wasReset && this.forceNormalExpansionRadius ? n.focusNodeExpansionRadius : a,
                            l = !this.wasReset && this.customExpandMode ? this.customExpandMode : n.defaultExpandMode;
                        if (this.forceNormalExpansionRadius = !1, this.customExpandMode = null, this.focusNodes.length < 1) return r.clearObjects(), this.wasReset && (e.changes.newGraph = !0), void(this.wasReset = !1);
                        for (var h = t - this.chart.settings.navigation.expandDelay, u = r.idToNode, c = Object.keys(u), p = r.idToLink, f = 0; f < c.length; f++) {
                            var g = u[c[f]];
                            g.baseRelevance = -(1 / 0), g.relevance = -(1 / 0), g.focused = !1, r.touchNode(g)
                        }
                        if (n.numberOfFocusNodes > 1)
                            for (var m = null == n.focusNodeTailExpansionRadius ? o : n.focusNodeTailExpansionRadius, v = Math.max(o + 1, 1), y = Math.max(m + 1, 1), S = (v - y) / (n.numberOfFocusNodes - 1), f = 0; f < this.focusNodes.length; f++) this.focusNodes[f].calculatedRelevance = v - f * S;
                        else this.focusNodes[0].calculatedRelevance = Math.max(o + 1, 1);
                        for (var b = [], x = {}, C = {}, f = 0; f < this.focusNodes.length; f++) {
                            var w = this.focusNodes[f],
                                g = d.Helpers.hasProperty(u, w.id) ? u[w.id] : null;
                            if (!g || g.removed) {
                                var L = s.getNode(w.id);
                                if (!L) continue;
                                this.ensureNode(L, s.getLinks(w.id)), g = u[w.id]
                            }
                            g.focused = !0, g.baseRelevance = w.assignedRelevance >= 1 ? w.assignedRelevance : w.calculatedRelevance, g.relevance = g.baseRelevance, g.showTimestamp = -(1 / 0), b.push(g), x[w.id] = !0, C[w.id] = !0, this.wasReset && (this.wasReset = !1, e.changes.newGraph = !0)
                        }
                        for (var T = Object.keys(this.extraFlags), f = 0; f < T.length; f++) {
                            var M = T[f],
                                g = d.Helpers.hasProperty(u, M) ? u[M] : null;
                            if (g && !g.removed)
                                if (this.extraFlags[M] === B.Hidden) g.relevance = -100;
                                else if (this.extraFlags[M] === B.Expanded || this.extraFlags[M] === B.FromExpanded || this.extraFlags[M] === B.ToExpanded)
                                if (g.relevance < 2) {
                                    g.relevance = 2;
                                    for (var k = 0; k < g.links.length; k++) {
                                        var P = g.links[k].otherEnd(g);
                                        P && P !== g && P.relevance < 1 && P.relevance !== -100 && (P.relevance = 1)
                                    }
                                } else delete this.extraFlags[M];
                            else d.Helpers.error("An invalid extra flag has been set in the focus node navigator.")
                        }
                        for (var A = 1 / 0, f = 0; f < b.length; f++) {
                            var g = b[f];
                            delete x[g.id];
                            for (var M = g.id, I = g.baseRelevance - 1, D = g.relevance - 1, N = d.Helpers.hasProperty(C, M) && g.relevance > 0, k = 0; k < g.dataLinks.length; k++) {
                                var F = g.dataLinks[k],
                                    E = O.otherEnd(F, M);
                                if (E && E !== M) {
                                    N && (C[E] = !0);
                                    var H = d.Helpers.hasProperty(this.extraFlags, E) ? this.extraFlags[E] : null;
                                    if (H !== B.Hidden) {
                                        var R = D;
                                        H === B.Expanded && D >= 2 && delete this.extraFlags[E];
                                        var P = d.Helpers.hasProperty(u, E) ? u[E] : null,
                                            z = !1;
                                        if (!P || P.removed) {
                                            if (R <= 0) continue;
                                            if ("from" === l && F.to == M) continue;
                                            if ("to" === l && F.from == M) continue;
                                            if (this.extraFlags[M] === B.FromExpanded && F.to === M) continue;
                                            if (this.extraFlags[M] === B.ToExpanded && F.from === M) continue;
                                            var L = s.getNode(E);
                                            if (!L) continue;
                                            if (g.showTimestamp > h) {
                                                A > g.showTimestamp && (A = g.showTimestamp);
                                                continue
                                            }
                                            this.ensureNode(L, s.getLinks(E)), P = u[E], P.relevance = R, P.baseRelevance = I, P.showTimestamp = t, z = !0
                                        } else P.relevance < R && (P.relevance = R, r.touchNode(P), z = !0), P.baseRelevance < I && (P.baseRelevance = I, r.touchNode(P), z = !0);
                                        var U = p[F.id],
                                            W = Math.min(g.relevance, P.relevance);
                                        U.relevance !== W && (U.relevance = W, r.touchLink(U)), z && !d.Helpers.hasProperty(x, E) && (x[E] = !0, b.push(P))
                                    }
                                }
                            }
                        }
                        for (var f = 0; f < c.length; f++) {
                            var M = c[f],
                                g = u[M];
                            g.removed || (d.Helpers.hasProperty(C, M) ? g.relevance <= 0 && this.ensureNodeRemoved(g) : (this.ensureNodeRemoved(g), delete this.extraFlags[M]))
                        }
                        if (A < 1 / 0 && window.setTimeout(function() {
                                return i.scheduleFullRecalculate()
                            }, A + this.chart.settings.navigation.expandDelay - t), this.nodesToExpand.length > 0) {
                            var G = this.nodesToExpand;
                            this.nodesToExpand = [];
                            for (var f = 0; f < G.length; f++) this.currentExpandNodes.hasOwnProperty(G[f][0]) || (this.currentExpandNodes[G[f][0]] = !0, this.expandNode(G[f][0], G[f][1], G[f][2], G[f][3]))
                        } else this.currentExpandNodes = {}
                    }, e.prototype.canFocusNode = function(t) {
                        return !t.focused && (this.focusNodes.length < this.chart.settings.navigation.numberOfFocusNodes || this.chart.settings.navigation.autoUnfocus)
                    }, e.prototype.canUnfocusNode = function(t) {
                        return t.focused && this.focusNodes.length > Math.max(this.chart.settings.navigation.minNumberOfFocusNodes, 1)
                    }, e.prototype.canExpandNode = function(t) {
                        return !t.expanded
                    }, e.prototype.canCollapseNode = function(t) {
                        for (var e = 0; e < t.links.length; e++) {
                            var i = t.links[e].otherEnd(t);
                            if (i && i !== t && !i.removed && i.baseRelevance < t.baseRelevance) return !0
                        }
                        return !1
                    }, e.prototype.canHideNode = function(t) {
                        return !t.focused || this.canUnfocusNode(t)
                    }, e.prototype.canCloseNode = function(t) {
                        return !1
                    }, e.prototype.getHiddenNodes = function() {
                        var t = this;
                        return Object.keys(this.extraFlags).filter(function(e) {
                            return t.extraFlags[e] === B.Hidden
                        })
                    }, e
                }(H);
                t.FocusNodesNavigator = U,
                    function(t) {
                        var e = function() {
                            function t(t) {
                                this.pointers = [], this.manager = t
                            }
                            return t.prototype.addPointer = function(t, e) {
                                this.pointers.push(t.identifier), t.consumed = !0
                            }, t.prototype.removePointer = function(t) {
                                d.Helpers.removeFromArrayHasty(this.pointers, t.identifier), t.consumed = !0
                            }, t.prototype.movePointer = function(t) {
                                t.consumed = !0
                            }, t
                        }();
                        t.Gesture = e;
                        var i = function(t) {
                            function e() {
                                var e = t.apply(this, arguments) || this;
                                return e.startX = 0, e.startY = 0, e.lastX = 0, e.lastY = 0, e.selectedNodes = null, e
                            }
                            return n(e, t), e.prototype.addPointer = function(e, i) {
                                t.prototype.addPointer.call(this, e, i), this.startX = this.lastX = e.x, this.startY = this.lastY = e.y, this.selectedNodes = new Object(null), e.cursor = "crosshair";
                                var n = this.manager.chart.scene;
                                n.disableSelectionChangeNotification();
                                var r = n.selection.filter(function(t) {
                                    return t.dragging
                                });
                                r.length !== n.selection.length && n.setSelection(r), this.manager.chart.events.requestPaint()
                            }, e.prototype.movePointer = function(e) {
                                t.prototype.movePointer.call(this, e), this.lastX = e.x, this.lastY = e.y, this.manager.chart.events.requestPaint(), e.cursor = "crosshair", this.updateSelection()
                            }, e.prototype.removePointer = function(e) {
                                t.prototype.removePointer.call(this, e);
                                for (var i in this.selectedNodes) this.selectedNodes[i].selectionLock = !1;
                                this.manager.chart.scene.enableSelectionChangeNotification(), this.manager.chart.scene.notifySelectionChangesIfNeeded(this.manager.chart, "user"), this.manager.chart.events.requestPaint()
                            }, e.prototype.doAnimations = function(t) {
                                this.pointers.length > 0 && (t.changes.position || t.changes.selection || this.manager.chart.layer.hasTopologyChanges()) && this.updateSelection()
                            }, e.prototype.updateSelection = function() {
                                for (var t = this.manager.chart.layer.nodes(), e = this.manager.chart.scene, i = e.fromDisplay(this.startX, this.startY), n = e.fromDisplay(this.lastX, this.lastY), r = Math.min(i.x, n.x), s = Math.min(i.y, n.y), a = Math.max(i.x, n.x), o = Math.max(i.y, n.y), l = 0; l < t.length; l++) {
                                    var h = t[l];
                                    h.removed ? this.selectedNodes[h.id] && delete this.selectedNodes[h.id] : h.dragging || (h.x >= r && h.x <= a && h.y >= s && h.y <= o ? this.selectedNodes[h.id] || (this.selectedNodes[h.id] = h, h.selectionLock = !0, h.selected || e.addToSelection(h)) : this.selectedNodes[h.id] && (delete this.selectedNodes[h.id], h.selectionLock = !1, h.selected && e.removeFromSelection(h)))
                                }
                            }, e.prototype.paintScene = function(t) {
                                if (this.pointers.length > 0) {
                                    var e = this.manager.chart.settings.style.dragSelection,
                                        i = d.Graphics.beginStrokeAndFill(t.context, e);
                                    i.rect(this.startX - .5, this.startY - .5, this.lastX - this.startX, this.lastY - this.startY), d.Graphics.endStrokeAndFill(t.context, i, e)
                                }
                            }, e
                        }(e);
                        t.MultiSelectGesture = i;
                        var r = function(t) {
                            function e() {
                                var e = t.apply(this, arguments) || this;
                                return e.dragPointers = {}, e
                            }
                            return n(e, t), e.prototype.addPointer = function(e, i) {
                                t.prototype.addPointer.call(this, e, i);
                                var n = this.manager.chart.scene.selection.filter(function(t) {
                                    return !t.dragging
                                });
                                n.indexOf(i.object) < 0 && n.push(i.object);
                                for (var r = n.filter(function(t) {
                                        return t instanceof u.Node
                                    }), s = 0; s < r.length; s++) r[s].locks++;
                                for (var s = 0; s < n.length; s++) n[s].dragging = !0;
                                var a = this.manager.chart.scene.fromDisplay(e.x, e.y);
                                this.dragPointers[e.identifier] = {
                                    nodes: r,
                                    all: n,
                                    mainNode: i.object,
                                    startPointerX: e.x,
                                    startPointerY: e.y,
                                    lastPointerX: e.x,
                                    lastPointerY: e.y,
                                    lastSceneX: a.x,
                                    lastSceneY: a.y
                                }
                            }, e.prototype.removePointer = function(e) {
                                t.prototype.removePointer.call(this, e);
                                var i = this.dragPointers[e.identifier];
                                delete this.dragPointers[e.identifier];
                                for (var n = 0; n < i.nodes.length; n++) i.nodes[n].locks--;
                                for (var n = 0; n < i.all.length; n++) i.all[n].dragging = !1;
                                this.manager.autoZoomIn(e, i.mainNode)
                            }, e.prototype.movePointer = function(e) {
                                t.prototype.movePointer.call(this, e);
                                var i = this.dragPointers[e.identifier];
                                i.lastPointerX = e.x, i.lastPointerY = e.y;
                                var n = this.manager.chart.settings.interaction.selection,
                                    r = this.manager.chart.scene,
                                    s = r.fromDisplay(e.x, e.y),
                                    a = s.x - i.lastSceneX,
                                    o = s.y - i.lastSceneY;
                                if (0 !== a || 0 !== o) {
                                    i.lastSceneX = s.x, i.lastSceneY = s.y;
                                    var l = n.lockNodesOnMove;
                                    if (l) {
                                        var h = e.x - i.startPointerX,
                                            u = e.y - i.startPointerY,
                                            c = this.manager.chart.settings.advanced.pointer,
                                            d = Math.max(c.clickSensitivity, c.longPressSensitivity);
                                        l = h * h + u * u > d * d
                                    }
                                    this.moveNodes(i.nodes, a, o, l), this.manager.chart.events.notifySceneChanges({
                                        coordinates: !0
                                    })
                                }
                            }, e.prototype.moveNodes = function(t, e, i, n) {
                                for (var r = this.manager.chart.scene, s = r.getVisibleBounds(), a = r.zoom, o = this.manager.chart.settings.interaction.selection.allowMoveNodesOffscreen, l = this.manager.chart.layer, h = 0; h < t.length; h++) {
                                    var u = t[h];
                                    if (u.x += e, u.y += i, n && !u.userLock && (u.userLock = !0, l.touchNode(u)), !o) {
                                        var c = 1.2 * u.renderHwidth / a,
                                            d = 1.2 * u.renderHheight / a;
                                        u.x = Math.min(Math.max(u.x, s.x0 + c), s.x1 - c), u.y = Math.min(Math.max(u.y, s.y0 + d), s.y1 - d)
                                    }
                                }
                            }, e.prototype.doAnimations = function(t) {
                                for (var e = this.manager.chart.scene, i = 0; i < this.pointers.length; i++) {
                                    var n = this.dragPointers[this.pointers[i]],
                                        r = e.fromDisplay(n.lastPointerX, n.lastPointerY),
                                        s = r.x - n.lastSceneX,
                                        a = r.y - n.lastSceneY;
                                    0 === s && 0 === a || (n.lastSceneX = r.x, n.lastSceneY = r.y, this.moveNodes(n.nodes, s, a, !1), t.changes.coordinates = !0)
                                }
                            }, e
                        }(e);
                        t.NodeDragGesture = r;
                        var s = function(t) {
                            function e() {
                                var e = t.apply(this, arguments) || this;
                                return e.pinnedSceneX = 0, e.pinnedSceneY = 0, e
                            }
                            return n(e, t), e.prototype.addPointer = function(e, i) {
                                t.prototype.addPointer.call(this, e, i);
                                var n = this.manager.chart.scene.fromDisplay(e.x, e.y);
                                this.pinnedSceneX = n.x, this.pinnedSceneY = n.y
                            }, e.prototype.movePointer = function(e) {
                                t.prototype.movePointer.call(this, e);
                                var i = this.manager.chart.scene;
                                i.autoZoomMode = !1;
                                var n = i.fromDisplay(e.x, e.y);
                                i.centerX += this.pinnedSceneX - n.x, i.centerY += this.pinnedSceneY - n.y, e.changes.position = !0
                            }, e
                        }(e);
                        t.PanGesture = s;
                        var a = function(t) {
                            function e() {
                                var e = t.apply(this, arguments) || this;
                                return e.x1 = 0, e.y1 = 0, e.x2 = 0, e.y2 = 0, e.centerX = 0, e.centerY = 0, e.centerDistance = 0, e
                            }
                            return n(e, t), e.prototype.addPointer = function(e, i) {
                                if (t.prototype.addPointer.call(this, e, i), 1 === this.pointers.length) this.x1 = e.x, this.y1 = e.y;
                                else {
                                    this.x2 = e.x, this.y2 = e.y;
                                    var n = this.manager.chart.scene,
                                        r = n.fromDisplay((this.x1 + this.x2) / 2, (this.y1 + this.y2) / 2);
                                    this.centerX = r.x, this.centerY = r.y;
                                    var s = this.x1 - this.x2,
                                        a = this.y1 - this.y2,
                                        o = Math.sqrt(s * s + a * a);
                                    this.centerDistance = o / n.zoom
                                }
                            }, e.prototype.movePointer = function(e) {
                                t.prototype.movePointer.call(this, e), e.identifier === this.pointers[0] ? (this.twoFingerDrag(e.x, e.y, this.x2, this.y2), this.x1 = e.x, this.y1 = e.y) : (this.twoFingerDrag(this.x1, this.y1, e.x, e.y), this.x2 = e.x, this.y2 = e.y), e.changes.position = !0
                            }, e.prototype.twoFingerDrag = function(t, e, i, n) {
                                var r = this.manager.chart.settings.interaction,
                                    s = this.manager.chart.scene;
                                s.autoZoomMode = !1;
                                var a = i - t,
                                    o = n - e,
                                    l = this.manager.chart.settings.layout.mode;
                                !r.rotation.fingers || "static" !== l && "dynamic" !== l || this._twoFingerRotation(t, e, i, n);
                                var h = Math.sqrt(a * a + o * o) / s.zoom,
                                    u = (i + t) / 2,
                                    c = (n + e) / 2;
                                if (!r.rotation.fingers && r.panning.enabled) {
                                    var d = s.fromDisplay(u, c);
                                    s.centerX += this.centerX - d.x, s.centerY += this.centerY - d.y
                                }
                                if (r.zooming.fingers) {
                                    var p = h / this.centerDistance;
                                    this.manager.chart.autoZoom.manualZoom(p, u, c)
                                }
                            }, e.prototype._twoFingerRotation = function(t, e, i, n) {
                                var r = i - t,
                                    s = n - e,
                                    a = Math.atan2(s, r),
                                    o = Math.atan2(this.y2 - this.y1, this.x2 - this.x1),
                                    l = a - o;
                                if (0 === l) return !1;
                                var h, u, c, p, f, g = t - this.x1,
                                    m = e - this.y1,
                                    v = i - this.x2,
                                    y = n - this.y2,
                                    S = g * g + m * m,
                                    b = v * v + y * y;
                                S >= b ? (h = this.x1, u = this.y1, c = t, p = e, f = Math.sqrt(S)) : (h = this.x2, u = this.y2, c = i, p = n, f = Math.sqrt(b));
                                var x = c - h,
                                    C = p - u,
                                    w = x / f,
                                    L = C / f,
                                    T = (Math.PI + l) / 2,
                                    M = Math.PI - T,
                                    k = d.Geometry.rotateVector(w, L, Math.sin(M), Math.cos(M)),
                                    P = d.Geometry.rotateVector(w, L, Math.sin(T), Math.cos(T)),
                                    A = d.Geometry.lineIntersectsLine(0, 0, k.x, k.y, x, C, x + P.x, C + P.y);
                                if (A === 1 / 0) return !1;
                                for (var I, D = h + k.x * A, N = u + k.y * A, O = this.manager.chart.scene.fromDisplay(D, N), F = O.x, E = O.y, H = this.manager.chart.layer.nodes(), R = Math.sin(l), z = Math.cos(l), B = 0; B < H.length; B++) {
                                    var U = H[B];
                                    U.dragging || (I = d.Geometry.rotateVector(U.x - F, U.y - E, R, z), U.x = F + I.x, U.y = E + I.y)
                                }
                                return !0
                            }, e
                        }(e);
                        t.TwoFingerGesture = a;
                        var o = {
                                object: null,
                                details: null
                            },
                            l = function(t) {
                                function l(n) {
                                    var o = t.call(this) || this;
                                    return o.animationOrder = 2e3, o.updateOrder = 1100, o.paintOrder = 37, o.hoverPointer = null, o.ignoreGesture = new e(o), o.postponeGesture = new e(o), o.multiSelectGesture = new i(o), o.nodeDragGesture = new r(o), o.panGesture = new s(o), o.twoFingerGesture = new a(o), o.pointerMap = {}, o.chart = n, o
                                }
                                return n(l, t), l.prototype.findObject = function(t) {
                                    var e = this.chart.renderer.findObjectAt(t.x, t.y, this.chart.settings.interaction.selection.tolerance);
                                    return e || o
                                }, l.prototype.assignPointer = function(t, e, i) {
                                    var n = this.pointerMap[t.identifier];
                                    return n ? (n.gesture.removePointer(t), n.gesture = i) : n = this.pointerMap[t.identifier] = {
                                        gesture: i,
                                        lastX: t.x,
                                        lastY: t.y,
                                        longPressGesture: null
                                    }, i.addPointer(t, e), n
                                }, l.prototype.reassignToTwoFinger = function(t, e, i) {
                                    var n = this.pointerMap[t],
                                        r = new d.MouseEvent(n.lastX, n.lastY, e.timeStamp, t);
                                    n.longPressGesture = null, this.assignPointer(r, o, this.twoFingerGesture), this.assignPointer(e, i, this.twoFingerGesture)
                                }, l.prototype.assignUnknownPointer = function(t, e) {
                                    e.object instanceof u.Node && this.chart.settings.interaction.nodesMovable && e.object.draggable ? this.assignNodePointer(t, e) : this.assignEmptyPointer(t, e)
                                }, l.prototype.assignEmptyPointer = function(t, e) {
                                    var i = this.chart.settings.interaction,
                                        n = i.rotation.fingers || i.zooming.fingers,
                                        r = i.selection.enabled && i.selection.dragSelect && !t.defaultPrevented;
                                    if (this.twoFingerGesture.pointers.length > 0) {
                                        var s = this.assignPointer(t, e, this.ignoreGesture);
                                        r && (s.longPressGesture = this.multiSelectGesture)
                                    } else if (n && this.panGesture.pointers.length > 0) this.reassignToTwoFinger(this.panGesture.pointers[0], t, e);
                                    else if (n && this.postponeGesture.pointers.length > 0) this.reassignToTwoFinger(this.postponeGesture.pointers[0], t, e);
                                    else if (n && this.nodeDragGesture.pointers.length > 0) this.reassignToTwoFinger(this.nodeDragGesture.pointers[0], t, e);
                                    else {
                                        var s = this.assignPointer(t, e, i.panning.enabled && this.panGesture.pointers.length < 1 ? this.panGesture : this.postponeGesture);
                                        r && (s.longPressGesture = this.multiSelectGesture)
                                    }
                                }, l.prototype.assignNodePointer = function(t, e) {
                                    var i = this.chart.settings.interaction,
                                        n = i.rotation.fingers || i.zooming.fingers;
                                    if (n && this.panGesture.pointers.length > 0) this.reassignToTwoFinger(this.panGesture.pointers[0], t, e);
                                    else if (n && this.postponeGesture.pointers.length > 0 && this.twoFingerGesture.pointers.length < 1) this.reassignToTwoFinger(this.postponeGesture.pointers[0], t, e);
                                    else if (n && this.nodeDragGesture.pointers.length > 0 && i.zooming.fingersOverrideDrag) this.reassignToTwoFinger(this.nodeDragGesture.pointers[0], t, e);
                                    else if (e.object.dragging) {
                                        var r = this.assignPointer(t, e, this.postponeGesture);
                                        r.longPressGesture = this.ignoreGesture
                                    } else {
                                        var r = this.assignPointer(t, e, this.nodeDragGesture);
                                        r.longPressGesture = this.ignoreGesture
                                    }
                                }, l.prototype.updateSelection = function(t, e) {
                                    var i = this.chart.settings.interaction.selection;
                                    if (i.enabled && (e.object instanceof u.Node && i.nodesSelectable || e.object instanceof u.Link && i.linksSelectable) && !e.object.selectionLock && !e.object.dragging) {
                                        var n = !1;
                                        if (t.shiftKey || t.ctrlKey || t.metaKey) n = e.object.selected ? this.chart.scene.removeFromSelection(e.object) : this.chart.scene.addToSelection(e.object);
                                        else if (!e.object.selected) {
                                            var r = this.chart.scene.selection.filter(function(t) {
                                                return t.dragging || t.selectionLock
                                            });
                                            r.push(e.object), n = this.chart.scene.setSelection(r)
                                        }
                                        n && this.chart.scene.notifySelectionChangesIfNeeded(this.chart, "user")
                                    }
                                }, l.prototype.onPointerDown = function(t) {
                                    if (this.chart.notifyPointerDown(t, this.buildClickEventArgs(t)), t.defaultPrevented && (t.consumed = !0), this.chart.isLassoEnabled) return this.chart.lasso.onPointerDown(t);
                                    var e = this.findObject(t);
                                    this.updateSelection(t, e), this.assignUnknownPointer(t, e)
                                }, l.prototype.onPointerUp = function(t) {
                                    if (this.chart.notifyPointerUp(t, this.buildClickEventArgs(t)), t.defaultPrevented && (t.consumed = !0), this.chart.isLassoEnabled) return this.chart.lasso.onPointerUp(t);
                                    var e = this.pointerMap[t.identifier];
                                    if (e.gesture.removePointer(t), delete this.pointerMap[t.identifier], e.gesture === this.twoFingerGesture) {
                                        var i = this.twoFingerGesture.pointers[0],
                                            n = this.pointerMap[i];
                                        delete this.pointerMap[i];
                                        var r = new d.MouseEvent(n.lastX, n.lastY, t.timeStamp, i);
                                        this.twoFingerGesture.removePointer(r), this.assignPointer(r, o, this.chart.settings.interaction.panning.enabled ? this.panGesture : this.postponeGesture)
                                    }
                                }, l.prototype.onPointerDrag = function(t) {
                                    if (this.chart.notifyPointerDrag(t, this.buildClickEventArgs(t)), t.defaultPrevented && (t.consumed = !0), this.chart.isLassoEnabled) return this.chart.lasso.onPointerDrag(t);
                                    var e = this.findObject(t);
                                    t.cursor = e.object && e.object.cursor || "default";
                                    var i = this.pointerMap[t.identifier];
                                    i.lastX = t.x, i.lastY = t.y, i.gesture.movePointer(t)
                                }, l.prototype.onPointerCancel = function(t) {
                                    this.onPointerUp(t)
                                }, l.prototype.onInstantClick = function(t) {
                                    if (this.chart.isLassoEnabled) return this.chart.lasso.onInstantClick(t);
                                    if (!(t.shiftKey || t.ctrlKey || t.metaKey || this.findObject(t).object)) {
                                        var e = this.chart.scene.selection.filter(function(t) {
                                            return t.dragging || t.selectionLock
                                        });
                                        e.length !== this.chart.scene.selection.length && (this.chart.scene.setSelection(e), this.chart.scene.notifySelectionChangesIfNeeded(this.chart, "user"))
                                    }
                                }, l.prototype.doAnimations = function(t) {
                                    this.nodeDragGesture.doAnimations(t), this.multiSelectGesture.doAnimations(t)
                                }, l.prototype.paintScene = function(t) {
                                    this.multiSelectGesture.paintScene(t)
                                }, l.prototype.buildClickEventArgs = function(t) {
                                    var e = this.chart.createEventArguments(t, "user"),
                                        i = this.findObject(t);
                                    e.clickItem = i.details;
                                    var n = i.object;
                                    return n instanceof u.Node ? (e.clickNode = n, this.autoZoomIn(t, n)) : e.clickLink = n, e
                                }, l.prototype.updateHover = function(t, e) {
                                    t.changes.current = !0, this.chart.scene.setActiveObject(e.object, e.details), this.chart.notifyHoverChanged(t, this.chart.createEventArguments(null, "api"))
                                }, l.prototype.autoZoomIn = function(t, e) {
                                    this.chart.scene.lastClickedNode = e, this.chart.settings.interaction.zooming.autoZoomAfterClick && (this.chart.scene.autoZoomMode = !0, t.changes.zoom = !0)
                                }, l.prototype.onPointerMove = function(t) {
                                    if (this.chart.notifyPointerMove(t, this.chart.createEventArguments(null, "user")), t.defaultPrevented && (t.consumed = !0), this.chart.isLassoEnabled) return this.chart.lasso.onPointerMove(t);
                                    if (!this.chart.scene.xyInChart(t.x, t.y)) return void this.onPointerOut(t);
                                    this.hoverPointer = t.identifier;
                                    var e = this.findObject(t);
                                    t.cursor = e.object && e.object.cursor || "default", e.object === (this.chart.scene.hoverLink || this.chart.scene.hoverNode) && e.details === this.chart.scene.hoverItem || this.updateHover(t, e)
                                }, l.prototype.onPointerOut = function(t) {
                                    return this.chart.isLassoEnabled ? this.chart.lasso.onPointerOut(t) : (this.hoverPointer === t.identifier && (this.hoverPointer = null, this.updateHover(t, o)), void(this.pointerMap[t.identifier] && this.onPointerUp(t)))
                                }, l.prototype.onWheel = function(t) {
                                    if (this.chart.scene.xyInChart(t.x, t.y) && this.chart.settings.interaction.zooming.wheel) {
                                        var e = Math.pow(1 + this.chart.settings.interaction.zooming.sensitivity, .004 * t.wheely);
                                        this.chart.autoZoom.manualZoom(e, t.x, t.y), t.consumed = !0, t.changes.position = !0
                                    }
                                }, l.prototype.onClick = function(t) {
                                    return this.chart.isLassoEnabled ? this.chart.lasso.onLassoClick(t) : (this.chart.notifyClick(t, this.buildClickEventArgs(t)), void(t.defaultPrevented && (t.consumed = !0)))
                                }, l.prototype.onRightClick = function(t) {
                                    return this.chart.isLassoEnabled ? this.chart.lasso.onRightClick(t) : void(this.chart.scene.xyInChart(t.x, t.y) && (this.chart.notifyRightClick(t, this.buildClickEventArgs(t)), t.defaultPrevented && (t.consumed = !0)))
                                }, l.prototype.onLongPress = function(t) {
                                    if (this.chart.isLassoEnabled) return this.chart.lasso.onLongPress(t);
                                    if (this.chart.scene.xyInChart(t.x, t.y)) {
                                        if (this.chart.notifyLongPress(t, this.buildClickEventArgs(t)), t.defaultPrevented) return void(t.consumed = !0);
                                        var e = this.pointerMap[t.identifier];
                                        e && (e.longPressGesture && (e.longPressGesture === this.multiSelectGesture && this.multiSelectGesture.pointers.length > 0 && (e.longPressGesture = this.ignoreGesture), this.assignPointer(t, o, e.longPressGesture), e.longPressGesture = null), t.consumed = e.gesture !== this.ignoreGesture)
                                    }
                                }, l.prototype.onDoubleClick = function(t) {
                                    if (this.chart.lasso) return this.chart.lasso.onDoubleClick(t);
                                    if (this.chart.scene.xyInChart(t.x, t.y))
                                        if (this.chart.notifyDoubleClick(t, this.buildClickEventArgs(t)), t.defaultPrevented) t.consumed = !0;
                                        else {
                                            var e = this.chart.settings.interaction.zooming.doubleClickZoom;
                                            e && this.chart.settings.interaction.zooming.zoomInOnDoubleClick && (this.chart.autoZoom.manualZoom(e, t.x, t.y), t.changes.position = !0, t.consumed = !0)
                                        }
                                }, l
                            }(d.ChartElement);
                        t.GestureManager = l
                    }(i = t.Gestures || (t.Gestures = {}));
                var W = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e.prototype.showHide = function(t, e) {
                        t.style.display = e ? "" : "none"
                    }, e.prototype.btnExpand = function(t) {
                        var e = this;
                        this.buildButton(t, "BMCH-NC-button-expand", this.scene.settings.localization.menu.expand, this.scene.settings.localization.menu.expand, null, function(t, i) {
                            e.chart.expandNode(t.id)
                        }, function(t, i) {
                            e.showHide(i, e.chart.navigator.canExpandNode(t))
                        })
                    }, e.prototype.btnCollapse = function(t) {
                        var e = this;
                        this.buildButton(t, "BMCH-NC-button-collapse", this.scene.settings.localization.menu.collapse, this.scene.settings.localization.menu.collapse, null, function(t, i) {
                            e.chart.collapseNode(t.id)
                        }, function(t, i) {
                            e.showHide(i, e.chart.navigator.canCollapseNode(t))
                        })
                    }, e.prototype.btnClose = function(t) {
                        var e = this;
                        this.buildButton(t, "BMCH-NC-button-collapse", this.scene.settings.localization.menu.close, this.scene.settings.localization.menu.close, null, function(t, i) {
                            e.chart.closeNode(t.id)
                        }, function(t, i) {
                            e.showHide(i, e.chart.navigator.canCloseNode(t))
                        })
                    }, e.prototype.btnFocus = function(t) {
                        var e = this;
                        this.buildButton(t, "BMCH-NC-button-focus", this.scene.settings.localization.menu.focus, this.scene.settings.localization.menu.focus, null, function(t, i) {
                            e.chart.addFocusNode(t.id, -1)
                        }, function(t, i) {
                            e.showHide(i, e.chart.navigator.canFocusNode(t))
                        })
                    }, e.prototype.btnUnfocus = function(t) {
                        var e = this;
                        this.buildButton(t, "BMCH-NC-button-unfocus", this.scene.settings.localization.menu.unfocus, this.scene.settings.localization.menu.unfocus, null, function(t, i) {
                            e.chart.removeFocusNode(t.id)
                        }, function(t, i) {
                            e.showHide(i, e.chart.navigator.canUnfocusNode(t))
                        })
                    }, e.prototype.btnLock = function(t) {
                        var e = this;
                        this.buildButton(t, "BMCH-NC-button-lock", this.scene.settings.localization.menu.fixed, this.scene.settings.localization.menu.fixed, null, function(t, i) {
                            e.chart.unlockNode(t.id)
                        }, function(t, i) {
                            e.showHide(i, t.userLock)
                        })
                    }, e.prototype.btnUnlock = function(t) {
                        var e = this;
                        this.buildButton(t, "BMCH-NC-button-unlock", this.scene.settings.localization.menu.dynamic, this.scene.settings.localization.menu.dynamic, null, function(t, i) {
                            e.chart.lockNode(t.id)
                        }, function(t, i) {
                            e.showHide(i, !t.userLock)
                        })
                    }, e.prototype.btnHide = function(t) {
                        var e = this;
                        this.buildButton(t, "BMCH-NC-button-hide", this.scene.settings.localization.menu.hide, this.scene.settings.localization.menu.hide, null, function(t, i) {
                            e.chart.hideNode(t.id)
                        }, function(t, i) {
                            e.showHide(i, e.chart.navigator.canHideNode(t))
                        })
                    }, e.prototype.buildDefaultButton = function(t, e) {
                        if (t instanceof u.Node) switch (e) {
                            case "btn:expand":
                                this.btnExpand(t);
                                break;
                            case "btn:collapse":
                                this.btnCollapse(t);
                                break;
                            case "btn:close":
                                this.btnClose(t);
                                break;
                            case "btn:focus":
                                this.btnFocus(t);
                                break;
                            case "btn:unfocus":
                                this.btnUnfocus(t);
                                break;
                            case "btn:lock":
                                this.btnLock(t);
                                break;
                            case "btn:unlock":
                                this.btnUnlock(t);
                                break;
                            case "btn:hide":
                                this.btnHide(t);
                                break;
                            case "expand":
                                this.btnExpand(t), this.btnCollapse(t), this.btnClose(t);
                                break;
                            case "focus":
                                this.btnFocus(t), this.btnUnfocus(t);
                                break;
                            case "lock":
                                this.btnLock(t), this.btnUnlock(t);
                                break;
                            case "hide":
                                this.btnHide(t);
                                break;
                            default:
                                this.chart.error("The node menu button with name `" + e + "` was not recognized.")
                        } else this.chart.error("The link menu does not support any named buttons.")
                    }, e
                }(u.Menu);
                t.Menu = W;
                var G = function(e) {
                    function s(n, s) {
                        var a = e.call(this, new f(n), new A, s) || this;
                        a.isLayoutFrozen = !1, a.isLassoEnabled = !1, a.lasso = null, a.lassoMenu = null, a.focusNodeStack = [];
                        var o = "focusnodes" === a.settings.navigation.mode && a.settings.navigation.focusAutoFadeout;
                        return a.layer = new u.NodesLayer(a, a.settings, o), a.graph = new F(a), a.navigator = a.events.addElement(H.CreateNavigator(a)), a.gestures = a.events.addElement(new i.GestureManager(a)), a.layout = a.events.addElement(r.LayoutBase.ConstructLayout(a)), a.info = a.events.addElement(new u.InfoPopup(a)), a.menu = a.events.addElement(new t.Menu(a)), a.autoZoom = a.events.addElement(new E(a)), a.renderer = a.events.addElement(new I(a)), a.legend = a.events.addElement(new p(a)), a.lassoMenu = a.events.addElement(new D(a)), a.autoZoom.resetZoom = !0, a.scene.loading = !1, a.navigator.showInitialNodes(), a.finalInitialize(), a
                    }
                    return n(s, e), s.prototype.createDataObj = function(t) {
                        return new O(this, t)
                    }, s.prototype.getData = function(t) {
                        return e.prototype.getData.call(this, t)
                    }, s.prototype.onSettingsChanged = function(t) {
                        var e = {};
                        this.layer.onSettingsChanged(t), t.navigation && t.navigation.mode && (this.events.removeElement(this.navigator), this.navigator = H.CreateNavigator(this), this.events.addElement(this.navigator));
                        var i = !(!t.navigation || !t.navigation.mode && !t.navigation.initialNodes);
                        if (t.data && t.data.length) {
                            var n = t.data[0];
                            (n.dataFunction || n.format || n.preloaded || n.url || n.randomNodes) && (i = !0)
                        }
                        i && (this.navigator.showInitialNodes(), this.autoZoom.resetZoom = !0), t.filters && (e.filters = !0), t.style && (e.style = !0), t.layout && t.layout.mode && (this.events.removeElement(this.layout), this.layout = r.LayoutBase.ConstructLayout(this), this.events.addElement(this.layout), this.isLayoutFrozen = !1), this.events.notifySceneChanges(e)
                    }, s.prototype.save = function() {
                        var t = this.graph.save(),
                            e = this.navigator.save();
                        return JSON.stringify({
                            xy: t,
                            nav: e
                        })
                    }, s.prototype.restore = function(t, e) {
                        if (t) {
                            var i = JSON.parse(t),
                                n = i.xy,
                                r = i.nav;
                            r && this.navigator.restore(r), n && this.graph.restore(n), this.autoZoom.resetZoom = !0
                        }
                    }, s.prototype.saveNavigation = function() {
                        var t = JSON.stringify(this.navigator.save());
                        return "{}" === t ? null : t
                    }, s.prototype.restoreNavigation = function(t) {
                        this.navigator.restore(JSON.parse(t))
                    }, s.prototype.getCurrentNodes = function() {
                        for (var t = [], e = 0, i = this.layer.nodes(); e < i.length; e++) {
                            var n = i[e];
                            n.removed || t.push(n)
                        }
                        return t
                    }, s.prototype.getCurrentLinks = function() {
                        for (var t = [], e = 0, i = this.layer.links(); e < i.length; e++) {
                            var n = i[e];
                            n.removed || t.push(n)
                        }
                        return t
                    }, s.prototype.getNodeDimensions = function(t) {
                        var e;
                        if (e = d.Helpers.isString(t) ? this.getNode(t) : t, !e) return null;
                        var i = this.scene.toDisplay(e.x, e.y),
                            n = i.x,
                            r = i.y,
                            s = e.hHeight * this.scene.zoom,
                            a = e.hWidth * this.scene.zoom;
                        return {
                            x: n,
                            y: r,
                            radius: s,
                            hwidth: a
                        }
                    }, s.prototype.lockNode = function(t, e, i) {
                        void 0 === e && (e = null), void 0 === i && (i = null), d.Helpers.isObjectOrArray(t) && (t = t.id), this.graph.lockNode(t, e, i)
                    }, s.prototype.unlockNode = function(t) {
                        t.id && (t = t.id), this.graph.unlockNode(t)
                    }, s.prototype.addFocusNode = function(t, e) {
                        t.id && (t = t.id), this.settings.navigation.autoZoomOnFocus && (this.scene.autoZoomMode = !0);
                        var i = this.navigator.focusNode(t, e, "api");
                        return i && this.focusNodeStack.push(t), i
                    }, s.prototype.getLastFocusNode = function() {
                        for (; this.focusNodeStack.length > 0;) {
                            var t = this.focusNodeStack[this.focusNodeStack.length - 1],
                                e = d.Helpers.hasProperty(this.layer.idToNode, t) ? this.layer.idToNode[t] : null;
                            if (e && e.focused) return e;
                            this.focusNodeStack.pop()
                        }
                        if (this.settings.navigation.initialNodes)
                            for (var i = 0; i < this.settings.navigation.initialNodes.length; i++) {
                                var t = this.settings.navigation.initialNodes[i],
                                    e = d.Helpers.hasProperty(this.layer.idToNode, t) ? this.layer.idToNode[t] : null;
                                if (e) return e
                            }
                        var n = this.layer.nodes();
                        return n.length > 0 ? n[0] : null
                    }, s.prototype.clearFocus = function() {
                        this.navigator.clearFocusNodes("api")
                    }, s.prototype.removeFocusNode = function(t) {
                        return t.id && (t = t.id), this.navigator.unfocusNode(t, "api")
                    }, s.prototype.expandNode = function(t, e, i) {
                        return t.id && (t = t.id), this.navigator.expandNode(t, "api", e, i)
                    }, s.prototype.collapseNode = function(t, e) {
                        return t.id && (t = t.id), this.navigator.collapseNode(t, "api", e)
                    }, s.prototype.closeNode = function(t) {
                        return t.id && (t = t.id), this.navigator.closeNode(t, "api")
                    }, s.prototype.hideNode = function(t) {
                        return t.id && (t = t.id), this.navigator.hideNode(t, "api")
                    }, s.prototype.showNode = function(t) {
                        return this.navigator.showNode(t, "api")
                    }, s.prototype.getNode = function(t) {
                        return this.layer.idToNode[t]
                    }, s.prototype.getLink = function(t) {
                        return this.layer.idToLink[t]
                    }, s.prototype.getHiddenNodes = function() {
                        return this.navigator.getHiddenNodes()
                    }, s.prototype.touchObjects = function(t) {
                        for (var e = 0; e < t.length; e++) {
                            var i = this.layer,
                                n = i.findObjectById(t[e]);
                            n && i.touchNodeOrLink(n)
                        }
                    }, s.prototype.setZoom = function(t, e) {
                        this.autoZoom.setZoom(t, e)
                    }, s.prototype.resetLayout = function() {
                        this.layout.resetLayout(), this.autoZoom.setZoom("overview", !1), this.events.notifySceneChanges({
                            layout: !0
                        })
                    }, s.prototype.removeData = function(t, e) {
                        if (void 0 === e && (e = "default"), null == e && (e = "default"), !this.removed) {
                            var i = this.getData(e),
                                n = i.removeData(t);
                            n.data = {}, n.data[e] = !0, this.events.notifySceneChanges(n)
                        }
                    }, s.prototype.exportData = function(t, e) {
                        var i;
                        return i = t ? this.graph.exportData() : this.scene.mainData.exportData(), e && this.graph.exportCoordinates(i.nodes), i
                    }, s.prototype.hideMenu = function() {
                        this.menu.hideMenu()
                    }, s.prototype.showNodeMenu = function(t) {
                        this.menu.showNodeMenu(t)
                    }, s.prototype.createEventArguments = function(t, i) {
                        var n = e.prototype.createEventArguments.call(this, t, i),
                            r = this.layer;
                        return r && (n.nodes = r.nodes(), n.links = r.links()), n
                    }, s.prototype.defaultClick = function(t, e) {
                        if (!(t.shiftKey || t.ctrlKey || t.metaKey)) {
                            var i = e.clickNode;
                            i && this.scene.settings.navigation.expandOnClick && (i.expanded || (this.expandNode(i.id), t.preventDefault()))
                        }
                    }, s.prototype.defaultRightClick = function(t, e) {
                        e.clickNode && (this.scene.mainData.getLinks(e.clickNode.id), this.menu.toggleNodeMenu(t.x, t.y, e.clickNode), t.preventDefault()), e.clickLink && (this.menu.toggleLinkMenu(t.x, t.y, e.clickLink), t.preventDefault())
                    }, s.prototype.defaultDoubleClick = function(t, e) {
                        var i = e.clickNode;
                        i && (this.addFocusNode(i.id, -1), t.preventDefault())
                    }, s.prototype.scrollIntoView = function(t, e) {
                        for (var i, n = [], r = 0; r < t.length; r++) {
                            var s = t[r];
                            s instanceof u.Node ? n.push(s) : d.Helpers.isString(s) && (i = this.getNode(s)) ? n.push(i) : this.error("scrollIntoView: the argument is not a node or the ID cannot be found: `" + s + "`.")
                        }
                        this.autoZoom.scrollIntoView(n, e)
                    }, s.prototype.freezeLayout = function() {
                        this.isLayoutFrozen || ("swimlane" !== this.settings.layout.mode && this.events.removeElement(this.layout), this.isLayoutFrozen = !0, this.events.notifySceneChanges({
                            layout: !0
                        }))
                    }, s.prototype.unfreezeLayout = function() {
                        this.isLayoutFrozen && ("swimlane" !== this.settings.layout.mode && this.events.addElement(this.layout), this.isLayoutFrozen = !1, this.events.notifySceneChanges({
                            layout: !0
                        }))
                    }, s.prototype.remove = function() {
                        e.prototype.remove.call(this), this.info.remove(), this.menu.remove()
                    }, s.prototype.getMouseCoordinates = function(x, y) {
                        const container = this.settings.container;
                        const offsetLeftAndWidth = container.offsetLeft + container.offsetWidth;
                        const offsetTopAndHeight = container.offsetTop + container.offsetHeight;

                        const xInChart = x < offsetLeftAndWidth ? (x - container.offsetLeft) : (offsetLeftAndWidth - x);
                        const yInChart = y < offsetTopAndHeight ? (y - container.offsetTop) : (offsetTopAndHeight - y);

                        return {x: xInChart, y: yInChart};
                    }, s
                }(u.Impl);
                t.Impl = G
            }(h = i.NetChart || (i.NetChart = {})),
            function(t) {
                var e = t.Bar || (t.Bar = {}),
                    i = t.Series || (t.Series = {}),
                    r = t.Renderers || (t.Renderers = {}),
                    s = function(t) {
                        function e() {
                            var e = t.apply(this, arguments) || this;
                            return e.panel = new d.SettingsLegendPanel("bottom", "left", void 0, 95), e.advanced = new o, e.marker = new a, e
                        }
                        return n(e, t), e
                    }(d.SettingsLegend);
                t.SettingsLegend = s;
                var a = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.shape = null, e
                    }
                    return n(e, t), e
                }(d.SettingsLegendMarker);
                t.SettingsLegendMarker = a;
                var o = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.disabledSeries = {
                            fillColor: "rgba(191,187,185,0.3)",
                            lineColor: "rgba(64,62,62,0.3)",
                            textColor: "rgba(64,62,62,0.3)"
                        }, e.legendSortFunction = null, e
                    }
                    return n(e, t), e
                }(d.SettingsLegendAdvanced);
                t.SettingsLegendAdvanced = o;
                var l = function(t) {
                        function e(e, i, n, r, s, a, o, l) {
                            var h = t.call(this, i, n, r, s, l) || this;
                            return h.seriesHovered = !1, h.disabledSeries = o, h.series = e, h.enabled = a, h
                        }
                        return n(e, t), e.prototype.isHovered = function() {
                            return this.hoverCount > 0 || this.seriesHovered
                        }, e
                    }(d.LegendEntry),
                    h = function(t) {
                        function e(e) {
                            var i = t.call(this, e) || this;
                            return i.paintOrder = 75, i.updateOrder = 100, i
                        }
                        return n(e, t), e.prototype.notifyHoveredSeries = function(t) {
                            for (var e = 0; e < this.entries.length; e++) {
                                var i = this.entries[e];
                                i.seriesHovered = i.series.indexOf(t) >= 0
                            }
                        }, e.prototype.getLastHoveredSeries = function() {
                            var t = this.getLastHoveredEntry();
                            return t ? t.series[0] : null
                        }, e.prototype.onSceneChange = function(e) {
                            t.prototype.onSceneChange.call(this, e);
                            var i = e.changes;
                            i.linearChartSeries && (this.rebuildItems(e), i.bounds = !0)
                        }, e.prototype.paintMarker = function(t, e, i, n, s) {
                            var a = t.context,
                                o = s.isEnabled() ? s.series[0] : s.disabledSeries,
                                l = this.settings.marker,
                                h = o.style.legend.marker,
                                u = h.shape || l.shape;
                            if (a.beginPath(), u) {
                                var c = {
                                    fillColor: h.fillColor || o.style.fillColor || o.style.lineColor,
                                    lineColor: h.lineColor || l.lineColor,
                                    lineWidth: h.lineWidth || 1
                                };
                                null != h.width && (n = h.width / 2), d.Graphics.strokeMarker(a, u, e, i, n), d.Graphics.paint(a, c)
                            } else {
                                var p = l.size,
                                    f = e - p / 2,
                                    g = e,
                                    m = e + p / 2,
                                    v = p / 2.1,
                                    y = p / 2,
                                    S = 3 * p / 4,
                                    w = i + p / 2;
                                if (o instanceof x) {
                                    var L = o.style.marker.width;
                                    o.style.marker.width *= .8;
                                    var T = [
                                            [v, y, S]
                                        ],
                                        M = [f, g, m],
                                        k = [M, [w - v, w - y, w - S]],
                                        P = w - y,
                                        A = new r.Line(null, [o]);
                                    A.paintLines(a, [o], [{
                                        markerY: null,
                                        segments: k
                                    }], M, [null], T, [], w, !0, "normal", s.isEnabled()), A.paintMarkers(a, o, [g], [y], [P], null), o.style.marker.width = L
                                } else if (o instanceof b) {
                                    var T = [p, p],
                                        I = new r.Columns(this.chart.scene, [o]);
                                    I.paintStack(t, [e], [p / 2], [T], [null], w, !1, "normal", void 0, s.isEnabled())
                                } else if (o instanceof C) {
                                    var D = new r.Candlestick(this.chart.scene, [o]),
                                        N = [
                                            [0],
                                            [p / 3],
                                            [2 * p / 3],
                                            [p]
                                        ];
                                    D.paintStack(t, [e], [p / 2], N, [null], w, !1, "normal")
                                }
                            }
                        }, e.prototype.rebuildItems = function(t) {
                            var e = [],
                                n = this.chart.scene.settings._computedSeries.slice(),
                                r = this.settings.advanced.disabledSeries,
                                s = {},
                                a = this.settings.text.fillColor;
                            this.settings && this.settings.advanced && this.settings.advanced.legendSortFunction && (n = n.sort(this.settings.advanced.legendSortFunction));
                            for (var o = 0; o < n.length; o++) {
                                var h = n[o];
                                if (!(!h.showInLegend || h.extra && h.extra._isStyleSeries)) {
                                    var u = void 0;
                                    if (h instanceof C) {
                                        if (d.Helpers.hasProperty(s, h.stack)) {
                                            s[h.stack].push(h);
                                            continue
                                        }
                                        u = [h], s[h.stack] = u
                                    } else u = [h];
                                    var c = h.nameLegend || h.name || this.chart.settings.localization.unnamedSeries,
                                        p = d.Helpers.realClone(h),
                                        f = p.style;
                                    f.fillColor = f._currentFillStyle = (f.fillColor || f.fillGradient) && r.fillColor, f._currentFillStyleKey = null, f.fillPattern && (f._fillPatternOpacity = .3, i.Stack.computeFillPattern(this.chart, t.context, f)), f.lineColor = f._currentLineStyle = (f.lineColor || f.lineGradient) && r.lineColor, f._currentLineStyleKey = null;
                                    var g = f.marker;
                                    g && (g.fillColor = (g.fillColor || g.fillGradient) && r.fillColor, g.lineColor = g.lineColor && r.fillColor);
                                    var m = f.legend.marker;
                                    m.fillColor = m.fillColor && r.fillColor, m.lineColor = m.lineColor && r.lineColor, e.push(new l(u, c, h.style.legend.textColor || a, r.textColor, h.legendGroupId, h.enabled, p, h.legendGroupMode))
                                }
                            }
                            this.resetEntries(e)
                        }, e.prototype.itemClicked = function(e, i) {
                            t.prototype.itemClicked.call(this, e, i);
                            for (var n = 0; n < this.entries.length; n++)
                                for (var r = this.entries[n], s = 0; s < r.series.length; s++) r.series[s].enabled = r.enabled;
                            this.chart.events.notifySceneChanges({
                                linearChartSeries: !0
                            })
                        }, e
                    }(d.Legend);
                t.Legend = h,
                    function(t) {
                        var e = function() {
                                function t(t, e, i, n, r) {
                                    this.topStyle = t, this.bottomStyle = t, this.ctop = e, this.cFillHeight = i, this.cleft = n, this.cwidth = r
                                }
                                return Object.defineProperty(t.prototype, "cbottom", {
                                    get: function() {
                                        return this.ctop + this.cFillHeight
                                    },
                                    enumerable: !0,
                                    configurable: !0
                                }), Object.defineProperty(t.prototype, "cright", {
                                    get: function() {
                                        return this.cleft + this.cwidth
                                    },
                                    enumerable: !0,
                                    configurable: !0
                                }), Object.defineProperty(t.prototype, "ccenterX", {
                                    get: function() {
                                        return this.cleft + this.cwidth / 2
                                    },
                                    enumerable: !0,
                                    configurable: !0
                                }), t.prototype.ensureRange = function(t, e, i, n, r) {
                                    var s = e + i,
                                        a = this.ctop,
                                        o = this.cbottom;
                                    e < a && (a = e, this.ctop = e, this.topStyle = t, this.cleft = n, this.cwidth = r), s > o && (o = s, this.bottomStyle = t, this.cleft = n, this.cwidth = r), this.ctop = a, this.cFillHeight = o - a
                                }, t
                            }(),
                            i = function() {
                                function t(t, e) {
                                    this.series = e, this.scene = t, this.prevys = []
                                }
                                return t.prototype.hitTest = function(t, e, i, n, r, s, a, o, l) {
                                    var h = t.length;
                                    if (!(h > 0)) return {
                                        result: null,
                                        distance: 1 / 0
                                    };
                                    var u = this.series,
                                        c = d.Helpers.binSearch(t, s),
                                        p = t[c] - e[c],
                                        f = t[c] + e[c];
                                    if (c > 0) {
                                        var g = t[c - 1] - e[c - 1],
                                            m = t[c - 1] + e[c - 1];
                                        (m > s || Math.abs(m - s) < Math.abs(p - s)) && (c -= 1, p = g, f = m)
                                    }
                                    for (var v = null, y = 1 / 0, S = r, b = 0; b < u.length; b++) {
                                        var x = i[b][c];
                                        if (d.Helpers.isNumber(x)) {
                                            var C = S - x;
                                            "based" === l && (S = r);
                                            var w = Math.min(S, C),
                                                L = Math.max(S, C),
                                                T = d.Geometry.distanceToRect(s, a, p, w, f, L);
                                            T <= y && (y = T, v = {
                                                x0: p,
                                                y0: w,
                                                x1: f,
                                                y1: L,
                                                seriesIndex: b,
                                                isMarker: !1
                                            }), S = C
                                        }
                                    }
                                    return {
                                        result: v,
                                        distance: y
                                    }
                                }, t.prototype.paintStack = function(t, e, i, n, r, s, a, o, l, h) {
                                    if (this.zeroY = s, e.length > 0) {
                                        var u = this.series;
                                        this.initPrevYs(u, e.length, s), this.computeBaseYs(u, e.length, n), this.connectorLines = {}, this.drawStackedColumns(u, r, l, t, e, i, n, a, o, h), this.drawConnectorLines(t.context)
                                    }
                                }, t.prototype.computeBaseYs = function(t, e, i) {
                                    for (var n = 1; n < t.length; n++)
                                        for (var r = i[n - 1], s = this.prevys[n - 1], a = this.prevys[n], o = 0; o < e; o++) {
                                            a[o] = s[o];
                                            var l = r[o];
                                            if (d.Helpers.isNumber(l)) {
                                                var h = s[o],
                                                    u = h - l;
                                                a[o] = u
                                            }
                                        }
                                }, t.prototype.initPrevYs = function(t, e, i) {
                                    if (this.prevys.length < t.length) {
                                        this.prevys = new Array(t.length);
                                        for (var n = 0; n < this.prevys.length; n++) this.prevys[n] = new Array(t.length)
                                    }
                                    for (var n = 0; n < t.length; n++) this.prevys[n].length < e && (this.prevys[n] = new Array(e));
                                    if (t.length > 0)
                                        for (var n = 0; n < t.length; n++)
                                            for (var r = 0; r < e; r++) this.prevys[n][r] = i
                                }, t.prototype.drawStackedColumns = function(t, e, i, n, r, s, a, o, l, h) {
                                    for (var u = 0; u < t.length; u++) {
                                        var c = t[u],
                                            d = e[u],
                                            p = i && i.length ? i[u] : null;
                                        c.invisible || this.plainColumns(n, c.style, r, s, this.prevys[u], a, d, u, o, l, p, h)
                                    }
                                }, t.prototype.drawConnectorLines = function(t) {
                                    for (var e in this.connectorLines)
                                        for (var i = this.connectorLines[e], n = null, r = 0; r < i.length; r++) {
                                            var s = i[r];
                                            null !== s && (null !== n && this.drawConnectorLine(t, n, s), n = s)
                                        }
                                }, t.prototype.drawConnectorLine = function(t, e, i) {
                                    var n = this.determineConnectorLineYAndStyle(e, i, e.ccenterX, i.ccenterX),
                                        r = n.startY,
                                        s = n.endY,
                                        a = n.style1,
                                        o = n.style2,
                                        l = this.selectConnectorLineXPosition(a.connectorLinePositionX, e.cright, e.ccenterX, e.cleft),
                                        h = this.selectConnectorLineXPosition(o.connectorLinePositionX, i.cleft, i.ccenterX, i.cright),
                                        u = (l + h) / 2,
                                        c = (r + s) / 2;
                                    this.drawLine(t, a, l, r, u, c), this.drawLine(t, o, u, c, h, s)
                                }, t.prototype.selectConnectorLineXPosition = function(t, e, i, n) {
                                    var r = e;
                                    switch (t) {
                                        case "edge":
                                            r = e;
                                            break;
                                        case "center":
                                            r = i;
                                            break;
                                        case "full":
                                            r = n;
                                            break;
                                        default:
                                            d.Helpers.warn("Warning: " + t + " is not a valid connector line position.")
                                    }
                                    return r
                                }, t.prototype.drawLine = function(t, e, i, n, r, s) {
                                    var a = d.Graphics.beginStroke(t, e);
                                    a.moveTo(i, n), a.lineTo(r, s), d.Graphics.endStroke(t, a, e)
                                }, t.prototype.determineConnectorLineYAndStyle = function(t, e, i, n) {
                                    for (var r = t.ctop, s = t.cbottom, a = e.ctop, o = e.cbottom, l = t.topStyle, h = t.bottomStyle, u = e.topStyle, c = e.bottomStyle, d = [
                                            [this.distSq(i, n, r, a), r, a, l, u],
                                            [this.distSq(i, n, r, o), r, o, l, c],
                                            [this.distSq(i, n, s, a), s, a, h, u],
                                            [this.distSq(i, n, s, o), s, o, h, c]
                                        ], p = Number.POSITIVE_INFINITY, f = 0, g = Number.NEGATIVE_INFINITY, m = 0; m < d.length; m++) {
                                        var v = d[m][0];
                                        if (v <= p) {
                                            var y = d[m][1] + d[m][2];
                                            if (v === p && y < g) continue;
                                            f = m, p = v, g = y
                                        }
                                    }
                                    var S = d[f],
                                        b = S[1],
                                        x = S[2],
                                        C = S[3],
                                        w = S[4];
                                    return {
                                        startY: b,
                                        endY: x,
                                        style1: C,
                                        style2: w
                                    }
                                }, t.prototype.distSq = function(t, e, i, n) {
                                    var r = e - t,
                                        s = n - i;
                                    return r * r + s * s
                                }, t.prototype.plainColumns = function(t, e, i, n, r, s, a, o, l, h, u, c) {
                                    for (var p, f, g, m, v, y = t.context, S = this.scene.y0, b = this.scene.height, x = e.minHeight, C = S + b, w = s[o], L = null, T = 0; T < i.length; T++) {
                                        var M = i[T],
                                            k = w[T];
                                        if (d.Helpers.isNumber(k)) {
                                            var P = n[T],
                                                A = r[T],
                                                I = A - k,
                                                D = M - P,
                                                N = P + P,
                                                O = void 0,
                                                F = void 0,
                                                E = void 0,
                                                H = void 0,
                                                R = !0,
                                                z = A == I && l;
                                            if (A < I) {
                                                R = !1, O = Math.max(I - A, x);
                                                var B = "based" === h || l;
                                                E = B ? this.zeroY : A, F = B ? O + (A - this.zeroY) : O;
                                                for (var U = !0, W = o - 1; W > 0;) {
                                                    if (null !== s[W][T]) {
                                                        U = !1;
                                                        break
                                                    }
                                                    W--
                                                }
                                                H = U
                                            } else {
                                                if (!(A > I || z)) continue;
                                                O = z ? 0 : Math.max(A - I, x), E = A - O, F = l ? this.zeroY - E : O;
                                                for (var G = !0, W = o + 1; W < s.length;) {
                                                    if (null !== s[W][T]) {
                                                        G = !1;
                                                        break
                                                    }
                                                    W++
                                                }
                                                H = G
                                            }
                                            V = this.determineItemStyle(a, T, e, L, v, f, p, g, m, y, C, b, N, M, O, E, c), L = V.curStyle, v = V.strokeWidth, f = V.shadowColor, p = V.depth, g = V.fillStyle, m = V.depthColor, D += N / 2, N *= Math.min(Math.max(L.widthScale, 0), 1), D -= N / 2, this.paintDepthShade(m, y, L, H, D, N, E, p, O, g, f), this.buildConnectionLines(L, i, T, E, F, D, N), this.fill(g, L, R, y, F, N, D, E, m, f), Y = this.stroke(v, E, D, N, F, y, L, R, A, M, g, m, f, c), E = Y.ctop, D = Y.cleft, N = Y.cwidth, O = Y.cheight, k = this.paintPreview(L, u, T, y, I, A, k, D, N)
                                        }
                                    }
                                    var V, Y
                                }, t.prototype.buildConnectionLines = function(t, i, n, r, s, a, o) {
                                    if (null !== t.connectorLineID) {
                                        var l = this.getConnectorArray(t.connectorLineID, i),
                                            h = l[n];
                                        null === h ? l[n] = new e(t, r, s, a, o) : h.ensureRange(t, r, s, a, o)
                                    }
                                }, t.prototype.getConnectorArray = function(t, e) {
                                    var i = this.connectorLines[t];
                                    if (void 0 === i) {
                                        i = new Array(e.length);
                                        for (var n = 0; n < i.length; n++) i[n] = null;
                                        this.connectorLines[t] = i
                                    }
                                    return i
                                }, t.prototype.determineItemStyle = function(t, e, i, n, r, s, a, o, l, h, u, c, p, f, g, m, v) {
                                    var y = t ? t[e] || i : i;
                                    if (n !== y) {
                                        n = y, r = n.enableOutlineLines && (v && n._currentLegendLineStyle || !v && n._currentLineStyle) ? n.lineWidth : 0, s = n.shadowColor, a = n.depth, o = v ? n._currentLegendFillStyle : n._currentFillStyle;
                                        var S = n.gradient,
                                            b = d.Helpers.isString(o);
                                        if (b && a ? (l = n.fillColor, d.Helpers.isNumber(n.depthBrightness) && (l = d.Colors.derive(l, n.depthBrightness, 1))) : l = null, S && 1 !== S && b) {
                                            var x = h.createLinearGradient(0, u, 0, u - 2 * c / 3);
                                            x.addColorStop(0, d.Colors.derive(o, S, 1)), x.addColorStop(1, o), o = x
                                        }
                                        h.fillStyle = o
                                    }
                                    if (n.fillGradientMode) {
                                        var C = n.fillGradient ? n.fillGradient : [],
                                            w = this.determineBarGradient(n, p, h, f, g, m);
                                        if ("cylinder" === n.fillGradientType) {
                                            var L = d.Colors.parse(n.fillColor);
                                            C.push([0, d.Colors.format(d.Colors.derive(L, .6, 1))]), C.push([.25, d.Colors.format(d.Colors.derive(L, .8, 1))]), C.push([.75, d.Colors.format(d.Colors.derive(L, 1.1, 1))]), C.push([1, d.Colors.format(d.Colors.derive(L, .8, 1))])
                                        }
                                        if (w) {
                                            for (var T = 0, M = C; T < M.length; T++) {
                                                var k = M[T];
                                                w.addColorStop(k[0], k[1])
                                            }
                                            h.fillStyle = w
                                        }
                                    }
                                    return {
                                        curStyle: n,
                                        strokeWidth: r,
                                        shadowColor: s,
                                        depth: a,
                                        fillStyle: o,
                                        depthColor: l
                                    }
                                }, t.prototype.determineBarGradient = function(t, e, i, n, r, s) {
                                    return "horizontal" === t.fillGradientMode && e > 2 ? i.createLinearGradient(n - e / 2, 0, n + e / 2, 0) : "vertical" === t.fillGradientMode && r > 2 ? i.createLinearGradient(0, s, 0, s + r) : null
                                }, t.prototype.paintDepthShade = function(t, e, i, n, r, s, a, o, l, h, u) {
                                    t && (e.beginPath(), d.Graphics.applyShadow(e, i), n ? (e.moveTo(r + o, a - o), e.lineTo(r + s + o, a - o), e.lineTo(r + s + o, a + l - o), e.lineTo(r + s, a + l), e.lineTo(r + s, a), e.lineTo(r, a)) : (e.moveTo(r + s, a), e.lineTo(r + s + o, a - o), e.lineTo(r + s + o, a + l - o), e.lineTo(r + s, a + l), e.lineTo(r + s, a)), e.closePath(), e.fillStyle = t, e.fill(), d.Graphics.clearShadow(e), e.fillStyle = h), !t && u && d.Graphics.applyShadow(e, i)
                                }, t.prototype.fill = function(t, e, i, n, r, s, a, o, l, h) {
                                    if (t) {
                                        var u = e.radius;
                                        if (u[0] || u[1] || u[2] || u[3]) {
                                            var c = [];
                                            i ? c = u : (c[0] = u[2], c[1] = u[3], c[2] = u[0], c[3] = u[1]), n.beginPath();
                                            var p = r / 2,
                                                f = s / 2;
                                            c[0] ? (n.moveTo(a, o + Math.min(p, c[0])), n.quadraticCurveTo(a, o, a + Math.min(f, c[0]), o)) : n.moveTo(a, o), c[1] ? (n.lineTo(a + s - Math.min(c[1], f), o), n.quadraticCurveTo(a + s, o, a + s, o + Math.min(c[1], p))) : n.lineTo(a + s, o), c[2] ? (n.lineTo(a + s, o + r - Math.min(c[2], p)), n.quadraticCurveTo(a + s, o + r, a + s - Math.min(c[2], f), o + r)) : n.lineTo(a + s, o + r), c[3] ? (n.lineTo(a + Math.min(f, c[3]), o + r), n.quadraticCurveTo(a, o + r, a, o + r - Math.min(p, c[2]))) : n.lineTo(a, o + r), n.closePath(), n.fill()
                                        } else n.fillRect(a, o, s, r);
                                        !l && h && d.Graphics.clearShadow(n)
                                    }
                                }, t.prototype.stroke = function(t, e, i, n, r, s, a, o, l, h, u, c, p, f) {
                                    if (t > 0) {
                                        r < 0 && (e += r, r = -r), e += t / 2, i += t / 2, n -= t, r -= t;
                                        var g = r / 2,
                                            m = n / 2,
                                            v = d.Helpers.clone(a);
                                        v.lineColor = f ? a._currentLegendLineStyle : a._currentLineStyle;
                                        var y = d.Graphics.beginStroke(s, v);
                                        if (n > 0)
                                            if (r > 0) {
                                                var S = v.radius,
                                                    b = [];
                                                o ? b = S : (b[0] = S[2], b[1] = S[3], b[2] = S[0], b[3] = S[1]), b[0] ? (y.moveTo(i, e + Math.min(g, b[0])), y.quadraticCurveTo(i, e, i + Math.min(m, b[0]), e)) : y.moveTo(i, e), b[1] ? (y.lineTo(i + n - Math.min(b[1], m), e), y.quadraticCurveTo(i + n, e, i + n, e + Math.min(b[1], g))) : y.lineTo(i + n, e), b[2] ? (y.lineTo(i + n, e + r - Math.min(b[2], g)), y.quadraticCurveTo(i + n, e + r, i + n - Math.min(b[2], m), e + r)) : y.lineTo(i + n, e + r), b[3] ? (y.lineTo(i + Math.min(m, b[3]), e + r), y.quadraticCurveTo(i, e + r, i, e + r - Math.min(g, b[2]))) : y.lineTo(i, e + r), y.closePath()
                                            } else t > 0 && (s.moveTo(i, l), s.lineTo(i + n, l));
                                        else t > 0 && (s.moveTo(h, e), s.lineTo(h, e + r));
                                        d.Graphics.endStroke(s, y, v)
                                    }
                                    return u || c || !p || d.Graphics.clearShadow(s), {
                                        ctop: e,
                                        cleft: i,
                                        cwidth: n,
                                        cheight: r
                                    }
                                }, t.prototype.paintPreview = function(t, e, i, n, r, s, a, o, l) {
                                    if (!e || !e[i]) return a;
                                    var h = t.previewLineColor;
                                    n.beginPath();
                                    for (var u = 0, c = r - s, d = e[i], p = 0; p < d.length; p++) {
                                        var f = d[p];
                                        u += f, a = s + u * c, n.moveTo(o, a), n.lineTo(o + l, a)
                                    }
                                    return n.lineWidth = 1, n.strokeStyle = h, n.stroke(), a
                                }, t
                            }();
                        t.Columns = i;
                        var n = function() {
                            function t(t, e) {
                                this.stack = t, this.series = e, this.seriesData = [];
                                for (var i = 0; i < e.length; i++) this.seriesData.push({
                                    markerY: [],
                                    segments: [],
                                    xIndices: [],
                                    missingSegments: []
                                });
                                this.prevyL = [], this.prevyR = [], this.seriesIDToVstack = null
                            }
                            return t.prototype.paintStack = function(t, e, i, n, r, s, a, o) {
                                if (0 !== e.length) {
                                    this.generateSeriesMap();
                                    var l = t.context;
                                    this.paintLines(l, this.series, this.seriesData, e, i, n, r, s, a, o, !1);
                                    for (var h = 0; h < this.series.length; h++) {
                                        var u = this.series[h];
                                        u.style.markerStyleFunction ? this.paintCustomMarkers(l, u, e, n[h], this.seriesData[h].markerY, r[h]) : this.paintMarkers(l, u, e, n[h], this.seriesData[h].markerY, r[h])
                                    }
                                }
                            }, t.prototype.paintLines = function(t, e, i, n, r, s, a, o, l, h, u) {
                                this.computeLineSegments(n, r, o, s, h);
                                for (var c = [
                                        [-(1 / 0), 0, 1 / 0],
                                        [o, o, o]
                                    ], p = 0; p < e.length; p++) {
                                    var f = e[p];
                                    if (!(f.extra && f.extra._isStyleSeries || f.invisible)) {
                                        var g = f.extra ? f.extra._styleSeries : null,
                                            m = this.canApplyStyleSeries(g) ? d.Helpers.realClone(f.style) : f.style;
                                        this.paintLine(t, m, a[p], c, i[p], o, r, g, u), !l && p < e.length - 1 && (c = i[p].segments)
                                    }
                                }
                            }, t.prototype.canApplyStyleSeries = function(t) {
                                return t && this.seriesIDToVstack && this.seriesIDToVstack.hasOwnProperty(t)
                            }, t.prototype.hasStyleSeries = function() {
                                for (var t = 0; t < this.series.length; t++) {
                                    var e = this.series[t];
                                    if (e.extra && e.extra._styleSeries) return !0
                                }
                                return !1
                            }, t.prototype.generateSeriesMap = function() {
                                if (this.hasStyleSeries()) {
                                    var t = {},
                                        e = this.stack.chart.renderer.r.clusters,
                                        i = [].concat.apply([], e.map(function(t) {
                                            return t.stacks
                                        })),
                                        n = i.map(function(t) {
                                            return t.series.map(function(t) {
                                                return t.id
                                            })
                                        }),
                                        r = i.map(function(t) {
                                            return t.vstack
                                        });
                                    n.forEach(function(e, i) {
                                        return e.forEach(function(e, n) {
                                            return t[e] = r[i][n]
                                        })
                                    }), this.seriesIDToVstack = t
                                }
                            }, t.prototype.paintCustomMarkers = function(t, e, i, n, r, s) {
                                var a = e.style.markerStyleFunction(this.stack.externalItems(), n);
                                if (!a || a.length !== n.length) return void d.Helpers.error("markerStyleFunction() must return an array with the same number of elements as the input arrays.");
                                for (var o = s && s.some(function(t) {
                                        return !!t
                                    }), l = {}, h = 0; h < n.length; h++) {
                                    var u = a[h];
                                    if (u && u.shape) {
                                        var c = o ? s[h] || e.style : e.style,
                                            p = c.marker;
                                        u.fillColor || (u.fillColor = p.fillColor || c.lineColor || c.fillColor), u.width || (u.width = p.width || 10);
                                        var f = this.computeMarkerStyle(u, c, t, l, r[h]);
                                        t.beginPath(), d.Graphics.strokeMarker(t, u.shape, i[h], r[h], u.width / 2), d.Graphics.paint(t, f)
                                    }
                                }
                            }, t.prototype.paintMarkers = function(t, e, i, n, r, s) {
                                var a = s && s.some(function(t) {
                                        return !!t
                                    }),
                                    o = a && s.filter(function(t) {
                                        return !!t
                                    }).some(function(t) {
                                        return !!t.marker && !!t.marker.shape
                                    }),
                                    l = e.style.marker;
                                if (l.shape || o) {
                                    var h = {},
                                        u = this.computeMarkerStyle(l, e.style, t, h),
                                        c = e.style,
                                        p = !1;
                                    l.shape && (t.beginPath(), p = !0);
                                    for (var f = 0; f < n.length; f++) {
                                        var g = n[f];
                                        if (null !== g) {
                                            var m = a ? s[f] || e.style : e.style;
                                            m && m.marker && m.marker.shape || (m = c), (m !== c || this.doesMarkerStyleAlwaysNeedUpdate(l)) && (p && d.Graphics.paint(t, u), t.beginPath(), p = !0, c = m, u = this.computeMarkerStyle(c.marker, c, t, h, r[f])), p && d.Graphics.strokeMarker(t, c.marker.shape, i[f], r[f], c.marker.width / 2)
                                        }
                                    }
                                    p && d.Graphics.paint(t, u)
                                }
                            }, t.prototype.doesMarkerStyleAlwaysNeedUpdate = function(t) {
                                var e = !!t.fillGradient,
                                    i = "clamp" === t.fillGradientClampMode;
                                return e && i
                            }, t.prototype.computeMarkerStyle = function(t, e, i, n, r) {
                                void 0 === r && (r = null);
                                var s = !!t.fillGradient,
                                    a = {
                                        fillColor: t.fillColor || e.lineColor || e.fillColor,
                                        lineColor: t.lineColor,
                                        lineWidth: t.lineWidth
                                    },
                                    o = "clamp" === t.fillGradientClampMode;
                                if (s && this.stack)
                                    if (o && null !== r && r === r) {
                                        var l = t.fillGradient.toString() + "_sorted";
                                        if (!n.hasOwnProperty(l)) {
                                            var h = B.toScreenCoords(t.fillGradient, this.stack.va);
                                            n[l] = B.sortGradient(h)
                                        }
                                        a.fillColor = B.colorAt(n[l], r, !0)
                                    } else {
                                        var l = t.fillGradient.toString();
                                        if (!n.hasOwnProperty(l)) {
                                            var u = this.stack.chart.scene.x0,
                                                c = this.stack.chart.scene.y0,
                                                d = this.stack.chart.scene.height,
                                                h = B.toScreenCoords(t.fillGradient, this.stack.va);
                                            n[l] = B.generateGradient(i, h, u, c, d)
                                        }
                                        a.fillColor = n[l]
                                    } return a
                            }, t.prototype.hitTest = function(t, e, i, n, r, s, a, o, l) {
                                var h = this.series,
                                    u = t.length;
                                if (0 === u) return {
                                    result: null,
                                    distance: 1 / 0
                                };
                                for (var c = Math.min(d.Helpers.binSearch(t, s), u - 2), p = null, f = 1 / 0, g = r - a, m = 0; m < h.length; m++) {
                                    var v = h[m];
                                    if (!v.extra || !v.extra._isStyleSeries) {
                                        for (var y = v.style, S = this.seriesData[m], b = Math.max(0, c - 2); b < Math.min(u, c + 3); b++) {
                                            var x = i[m][b];
                                            if (null !== x && y.marker) {
                                                var C = t[b],
                                                    w = S.markerY[b],
                                                    L = y.marker.width / 2,
                                                    T = s - C,
                                                    M = a - w,
                                                    k = Math.sqrt(T * T + M * M);
                                                k < L + o && f > k - L && (f = k - L, p = {
                                                    x0: C,
                                                    y0: w,
                                                    x1: C,
                                                    y1: w,
                                                    seriesIndex: m,
                                                    isMarker: !0
                                                })
                                            }
                                        }
                                        for (var P = null, A = S.segments, b = 0; b < A.length; b += 2)
                                            for (var I = A[b], D = A[b + 1], N = I[0], O = 1; O < I.length; O++) {
                                                var F = I[O];
                                                if (N <= s + o && F >= s - o) {
                                                    var E = D[O - 1],
                                                        H = D[O],
                                                        R = Math.sqrt(d.Geometry.distanceToSegmentSq(N, E, F, H, s, a));
                                                    R < o && R <= f && (f = R, p = {
                                                        x0: N,
                                                        y0: E,
                                                        x1: F,
                                                        y1: H,
                                                        seriesIndex: m,
                                                        isMarker: !1
                                                    })
                                                }
                                                if (N <= s && F >= s) {
                                                    var E = D[O - 1],
                                                        H = D[O],
                                                        z = d.Geometry.lineIntersectsSegment(s, a, 0, 1, N, E, F, H);
                                                    z !== 1 / 0 && (P = z)
                                                }
                                                N = F
                                            }
                                        null !== P && (d.Helpers.sign(P) !== d.Helpers.sign(g) && (y.fillColor || y.fillGradient) && f >= 0 && (f = 0, p = {
                                            x0: 0,
                                            y0: 0,
                                            x1: 1,
                                            y1: 1,
                                            seriesIndex: m,
                                            isMarker: !1
                                        }), g = P)
                                    }
                                }
                                return {
                                    result: p,
                                    distance: Math.max(f, 0)
                                }
                            }, t.prototype.computeLineSegments = function(t, e, i, n, r) {
                                var s = t.length,
                                    a = this.prevyL,
                                    o = this.prevyR;
                                a.length < s && (a.length = s, o.length = s);
                                for (var l = 0; l < s; l++) a[l] = i, o[l] = i;
                                n = this.applyNoDataPolicy(n, t, r, i);
                                for (var h = a, u = 0; u < this.series.length; u++) {
                                    var c = this.series[u],
                                        d = this.seriesData[u];
                                    if (d.segments.length = 0, d.markerY.length < s) {
                                        var p = d.markerY.length;
                                        d.markerY.length = s;
                                        for (var l = p; l < s; l++) d.markerY[l] = i
                                    }
                                    if (h.length < s) {
                                        var p = h.length;
                                        h.length = s;
                                        for (var l = p; l < s; l++) h[l] = i
                                    }
                                    if (c.style.steps) {
                                        var f = this.buildStepSegments(t, e, i, a, o, h, n[u], c.data.noDataPolicy);
                                        d.segments = f.segments, d.xIndices = this.processXIndices(f.xIndices), d.markerY = f.markerY, d.missingSegments = []
                                    } else {
                                        var g = this.buildLineSegments(t, i, a, o, h, n[u], c.data.noDataPolicy, r);
                                        if (d.segments = g.segments, d.xIndices = this.processXIndices(g.xIndices), d.markerY = g.markerY, d.missingSegments = g.missingSegments, c.style.smoothing)
                                            for (var m = 0; m < d.segments.length; m += 2) {
                                                var v = this.smoothLine(d.segments[m], d.segments[m + 1], d.xIndices[m / 2], d.missingSegments[m / 2]);
                                                d.segments[m] = v.x, d.segments[m + 1] = v.y, d.xIndices[m / 2] = v.xi, d.missingSegments[m / 2] = v.ms
                                            }
                                    }
                                    h = d.markerY
                                }
                            }, t.prototype.applyNoDataPolicy = function(t, e, i, n) {
                                for (var r = this, s = t.map(function(t) {
                                        return t.slice()
                                    }), a = this.stack ? this.stack.vstack.map(function(t) {
                                        return t.slice()
                                    }) : t.map(function(t) {
                                        return t.slice()
                                    }), o = e.map(function(t) {
                                        return 0
                                    }), l = e.map(function(t) {
                                        return 0
                                    }), h = function(t) {
                                        return null !== t && void 0 !== t
                                    }, u = function(t) {
                                        var e = c.series[t].data.noDataPolicy,
                                            n = s[t],
                                            u = a[t],
                                            d = {},
                                            p = {},
                                            f = -1;
                                        n.forEach(function(t, e) {
                                            if (null !== n[e]) {
                                                for (var i = f + 1; i < e; i++) p[i] = e;
                                                return f = e, void(o[e] += n[e])
                                            }
                                            d[e] = f
                                        }), n.forEach(function(s, a) {
                                            if (null === s) {
                                                var c = d[a],
                                                    f = p[a],
                                                    g = n[c],
                                                    m = n[f];
                                                if ("zero" === e) {
                                                    var v = "normal" === i ? g : o[c],
                                                        y = "normal" === i ? m : o[f];
                                                    r.series[t].data.alwaysZeroMode ? (u[a] = 0, "normal" === i ? n[a] = 0 : (n[a] = -o[a], l[a] -= n[a])) : h(v) && h(y) && (n[a] = 0, u[a] = 0, "normal" !== i && (n[a] -= o[a], l[a] -= n[a]))
                                                }
                                                if ("join" === e) {
                                                    var v = "normal" === i ? g : o[c],
                                                        y = "normal" === i ? m : o[f],
                                                        S = u[c],
                                                        b = u[f];
                                                    if (h(v) && h(y)) {
                                                        var x = (a - c) / (f - c);
                                                        n[a] = (1 - x) * v + y * x, u[a] = (1 - x) * S + b * x, "normal" !== i && (n[a] -= o[a], l[a] -= n[a])
                                                    }
                                                }
                                                "proportional" === i && (n[a] = null), n[a] && (o[a] += n[a])
                                            } else o[a] += l[a], n[a] = s + l[a], l[a] -= l[a]
                                        })
                                    }, c = this, p = 0; p < this.series.length; p++) u(p);
                                if ("proportional" === i) {
                                    var f = d.Helpers.transposeMatrix(a).map(function(t) {
                                        return .01 * t.reduce(function(t, e) {
                                            return t + (null !== e ? Math.abs(e) : 0)
                                        }, 0)
                                    });
                                    s = a.map(function(t) {
                                        return t.map(function(t, e) {
                                            return 0 === f[e] ? 0 : null !== t ? r.stack.va.valueToRelativeY(Math.abs(t) / f[e]) : null
                                        })
                                    })
                                }
                                return t = s.map(function(e, i) {
                                    return "skip" === r.series[i].data.noDataPolicy ? t[i] : e
                                })
                            }, t.prototype.processXIndices = function(t) {
                                return t.forEach(function(t) {
                                    for (var e = 1; e < t.length - 1; e++) {
                                        var i = t[e - 1],
                                            n = t[e],
                                            r = t[e + 1];
                                        n === r && (t[e] = i)
                                    }
                                }), t
                            }, t.prototype.buildLineSegments = function(t, e, i, n, r, s, a, o) {
                                for (var l = [], h = [], u = [], c = [], d = [], p = [], f = 0; f < t.length; f++) p.push(null === s[f]);
                                if ("zero" === a) {
                                    for (var g = null, f = 0; f < t.length; f++) {
                                        var m = t[f],
                                            v = p[f],
                                            y = s[f],
                                            S = i[f],
                                            b = n[f];
                                        if (null !== y) {
                                            if (null === g) l.push(b - y), h.push(m), c.push(f), d.push(v), u.push(b - y), n[f] -= y;
                                            else {
                                                if (g < f - 1)
                                                    for (var x = s[g], C = g + 1; C < f; C++) {
                                                        var w = t[C],
                                                            L = p[C],
                                                            T = i[C],
                                                            M = n[C];
                                                        T !== M ? (h.push(w), c.push(f), d.push(L), u.push(M - x), l.push(M - x)) : (h.push(w), c.push(f), d.push(L), u.push(T - x), l.push(T - x)), i[C] -= x, n[C] -= x
                                                    }
                                                l.push(S - y), h.push(m), c.push(f), d.push(v), u.push(S - y), S !== b && (h.push(m), c.push(f), d.push(v), u.push(b - y)), i[f] -= y, n[f] -= y
                                            }
                                            g = f
                                        } else null === g && l.push(r[f])
                                    }
                                    return h.length > 2 && h[h.length - 1] === h[h.length - 2] && (h.pop(), u.pop(), c.pop(), d.pop()), {
                                        segments: [h, u],
                                        xIndices: [c],
                                        markerY: l,
                                        missingSegments: [d]
                                    }
                                }
                                if ("join" === a) {
                                    for (var g = null, f = 0; f < t.length; f++) {
                                        var m = t[f],
                                            v = p[f],
                                            y = s[f],
                                            S = i[f],
                                            b = n[f];
                                        if (null !== y) {
                                            if (null === g) l.push(r[f] - y), h.push(m), c.push(f), d.push(v), u.push(b - y), n[f] -= y;
                                            else {
                                                if (g < f - 1)
                                                    for (var x = s[g], k = t[g], P = x, A = y, I = (A - P) / (m - k), C = g + 1; C < f; C++) {
                                                        var w = t[C],
                                                            L = p[C],
                                                            D = x + I * (w - k);
                                                        l.push(r[C] - D);
                                                        var T = i[C],
                                                            M = n[C];
                                                        T !== M ? (h.push(w), c.push(f), d.push(L), u.push(M - D)) : (h.push(w), c.push(f), d.push(L), u.push(T - D)), i[C] -= D, n[C] -= D
                                                    }
                                                l.push(r[f] - y), S !== b ? (h.push(m), c.push(f), d.push(v), u.push(b - y)) : (h.push(m), c.push(f), d.push(v), u.push(S - y)), i[f] -= y, n[f] -= y
                                            }
                                            g = f
                                        } else null === g && l.push(r[f])
                                    }
                                    return h.length > 2 && h[h.length - 1] === h[h.length - 2] && (h.pop(), u.pop(), c.pop(), d.pop()), {
                                        segments: [h, u],
                                        xIndices: [c],
                                        markerY: l,
                                        missingSegments: [d]
                                    }
                                }
                                for (var N = !1, O = [], F = [], E = [], g = null, f = 0; f < t.length; f++) {
                                    var m = t[f],
                                        v = p[f],
                                        y = s[f],
                                        S = i[f],
                                        b = n[f];
                                    null !== y ? (l.push(r[f] - y), N ? (h.length > 1 && i[f - 1] !== n[f - 1] && (h.push(t[f - 1]), c.push(f), d.push(p[f - 1]), u.push(n[f - 1])), h.push(m), c.push(f), d.push(v), u.push(S - y), i[f] -= y, n[f] -= y) : (h.push(m), c.push(f), d.push(v), u.push(b - y), n[f] -= y, null !== g && (i[f] -= y)), N = !0, g = f) : (l.push(r[f]), N && h.length > 0 && (1 === h.length && (h.push(h[0]), c.push(c[0]), d.push(d[0]), u.push(u[0])), O.push(h, u), F.push(c), E.push(d), h = [], c = [], d = [], u = []), N = !1)
                                }
                                return h.length > 0 && (1 === h.length && (h.push(h[0]), c.push(c[0]), d.push(d[0]), u.push(u[0])), O.push(h, u), F.push(c), E.push(d)), {
                                    segments: O,
                                    xIndices: F,
                                    markerY: l,
                                    missingSegments: E
                                }
                            }, t.prototype.buildStepSegments = function(t, e, i, n, r, s, a, o) {
                                for (var l = [], h = [], u = [], c = [], d = [], p = [], f = null, g = 0, m = 0, v = 0; v < t.length; v++) {
                                    var y = t[v] - e[v],
                                        S = a[v];
                                    if (null !== S) {
                                        null !== f && (c.push(y), d.push(v), p.push(f));
                                        var b = s[v] - S;
                                        c.push(y), d.push(v), p.push(b), f = b, g = y + 2 * e[v], m = v, u.push(b), n[v] = r[v] = b
                                    } else if ("zero" === o) {
                                        var b = s[v];
                                        u.push(b), r[v] = n[v] = b, null !== f && (c.push(g), d.push(v), p.push(f)), c.push(y), d.push(v), p.push(b), f = b, g = y + 2 * e[v], m = v
                                    } else if ("join" === o) {
                                        var b = null !== f ? f : s[v];
                                        u.push(b), r[v] = n[v] = b
                                    } else {
                                        var b = s[v];
                                        u.push(b), r[v] = n[v] = b, c.length > 0 && (null !== f && (c.push(g), d.push(v), p.push(f)), f = null, l.push(c, p), h.push(d), c = [], d = [], p = [])
                                    }
                                }
                                return c.length > 0 && (null !== f && (c.push(g), d.push(m), p.push(f)), l.push(c, p), h.push(d)), {
                                    xIndices: h,
                                    segments: l,
                                    markerY: u
                                }
                            }, t.prototype.smoothLine = function(t, e, i, n) {
                                var r = t[0],
                                    s = t[t.length - 1],
                                    a = (s - r) / t.length;
                                if (a < 2) return {
                                    x: t,
                                    y: e,
                                    xi: i,
                                    ms: n
                                };
                                var o = [],
                                    l = [],
                                    h = [],
                                    u = [];
                                o.push(r), l.push(e[0]), h.push(i[0]), u.push(n[0]);
                                for (var c = 0; c + 1 < t.length;) {
                                    var p = c + 1;
                                    if (t[c] !== t[p])
                                        for (; p + 1 < t.length && t[p] !== t[p + 1];) p += 1;
                                    if (p - c === 1) o.push(t[p]), l.push(e[p]), h.push(i[p]), u.push(n[p]);
                                    else {
                                        var f = new d.MonotoneCurve(t, e, c, p + 1);
                                        s = t[c];
                                        for (var g = i[c], m = g, v = n[c], y = v, S = c + 1; S <= p; S++) {
                                            r = s, m = g, y = v, s = t[S], g = i[S], v = n[S];
                                            var b = e[S];
                                            a = s - r;
                                            for (var x = Math.ceil(Math.min(50, Math.max(2, a / 3))), C = a / x, w = y || v, L = o.length;
                                                (r += C) < s;) o.push(r), h.push(m), u.push(w);
                                            f.interpolateArray(S - 1, o, L, o.length, l), o.push(s), h.push(g), u.push(v), l.push(b)
                                        }
                                        f.clear()
                                    }
                                    c = p
                                }
                                return t.length = 0, e.length = 0, i.length = 0, n.length = 0, {
                                    x: o,
                                    y: l,
                                    xi: h,
                                    ms: u
                                }
                            }, t.prototype.paintLine = function(t, e, i, n, r, s, a, o, l) {
                                var h = r.segments,
                                    u = r.xIndices,
                                    c = r.missingSegments,
                                    p = !!i && i.some(function(t) {
                                        return !!t
                                    }),
                                    f = !!o;
                                e = d.Helpers.clone(e), e.lineColor = l ? e._currentLegendLineStyle : e._currentLineStyle, e.fillColor = l ? e._currentLegendFillStyle : e._currentFillStyle, p && (i = i.map(function(t) {
                                    return t ? (t = d.Helpers.clone(t), t.lineColor = l ? t._currentLegendLineStyle : t._currentLineStyle, t.fillColor = l ? t._currentLegendFillStyle : t._currentFillStyle, t) : t
                                }));
                                var g = e,
                                    m = g.fillColor || p && i.filter(function(t) {
                                        return !!t
                                    }).some(function(t) {
                                        return !!t.fillColor
                                    });
                                if (m) {
                                    g.shadowColor && d.Graphics.applyShadow(t, g), t.fillStyle = g.fillColor, t.beginPath();
                                    for (var v = 0; v < h.length; v += 2) this.paintArea(t, h[v], h[v + 1], n, s, u, i, e, v);
                                    t.fill(), t.fillStyle = g.fillColor, g.shadowColor && d.Graphics.clearShadow(t)
                                }
                                var y = g.lineColor || p && i.filter(function(t) {
                                    return !!t
                                }).some(function(t) {
                                    return !!t.lineColor
                                });
                                if (y) {
                                    !g.fillColor && g.shadowColor && d.Graphics.applyShadow(t, g);
                                    for (var S = d.Graphics.beginStroke(t, g), v = 0; v < h.length; v += 2) {
                                        var b = h[v],
                                            x = h[v + 1],
                                            C = a[v / 2];
                                        S.moveTo(b[0], x[0]), 1 !== b.length || g.steps || this.handleDegenerateLine(t, S, g, b[0], x[0], s, C);
                                        var w = b[0],
                                            L = x[0],
                                            T = 0;
                                        if (!f) {
                                            var M = i ? i[u[v / 2][0]] || e : e;
                                            M !== g && (S = this.changeSeriesStyle(t, S, g, M, w, L, 0), g = M)
                                        }
                                        var k = 0;
                                        k = this.updateStyleSeries(k, o, t, S, g, c, u, v, 0, w, L, T);
                                        for (var P = 1; P < b.length; P++) {
                                            var A = b[P],
                                                I = x[P],
                                                D = A - w,
                                                N = I - L;
                                            if (T += Math.sqrt(D * D + N * N), k <= 1 && (A !== w || I !== L || g.steps ? S.lineTo(A, I) : this.handleDegenerateLine(t, S, g, b[0], x[0], s, C)), w = A, L = I, !f) {
                                                var M = i ? i[u[v / 2][P]] || e : e;
                                                M !== g && (S = this.changeSeriesStyle(t, S, g, M, A, I, P), g = M)
                                            }
                                            k = this.updateStyleSeries(k, o, t, S, g, c, u, v, P, A, I, T)
                                        }
                                    }
                                    d.Graphics.endStroke(t, S, g), !g.fillColor && g.shadowColor && d.Graphics.clearShadow(t)
                                }
                            }, t.prototype.changeSeriesStyle = function(t, e, i, n, r, s, a) {
                                var o = i.steps && 0 !== a;
                                o && (e.moveTo(r - .5 * i.lineWidth, s), e.lineTo(r + .5 * i.lineWidth + .05, s)), d.Graphics.endStroke(t, e, i), e = d.Graphics.beginStroke(t, n);
                                var l = o ? .5 * i.lineWidth : 0;
                                return e.moveTo(r + l, s), e
                            }, t.prototype.updateStyleSeries = function(t, e, i, n, r, s, a, o, l, h, u, c) {
                                if (!this.canApplyStyleSeries(e)) return t;
                                var p = this.seriesIDToVstack[e][a[o / 2][l]];
                                return null === p ? t : (d.Graphics.endStroke(i, n, r), this.applyDynamicSeriesStyle(p, r, c), n = d.Graphics.beginStroke(i, r), n.moveTo(h, u), p)
                            }, t.prototype.applyDynamicSeriesStyle = function(t, e, i) {
                                t <= 0 ? (e.lineDash = null, e.lineDashOffset = 0) : t <= 1 ? (e.lineDash = [4, 4], e.lineDashOffset = i) : (e.lineDash = null, e.lineDashOffset = 0)
                            }, t.prototype.handleDegenerateLine = function(t, e, i, n, r, s, a) {
                                switch (i.degenerateLinePolicy) {
                                    case "column":
                                        var o = i.degenerateLineColumnWidthScale;
                                        null !== o && void 0 !== o || (o = 1), t.fillRect(n - a * o, r, a * o * 2, s - r);
                                        break;
                                    case "zero":
                                        e.lineTo(n, s);
                                        break;
                                    default:
                                    case "point":
                                        e.lineTo(n, r)
                                }
                            }, t.prototype.paintArea = function(t, e, i, n, r, s, a, o, l) {
                                for (var h = o, u = 0, c = 0, d = 0; d < e.length; d++) {
                                    c = d;
                                    var p = a ? a[s[l / 2][d]] || o : o;
                                    this.isFillStyleEqual(p, h) || (this.createAreaPath(t, e, i, n, r, u, c, 0), t.fill(), t.beginPath(), this.createAreaPath(t, e, i, n, r, u, c, -1), t.fill(), h = p, u = d, t.fillStyle = h.fillColor, t.beginPath())
                                }
                                this.createAreaPath(t, e, i, n, r, u, c, 0)
                            }, t.prototype.isFillStyleEqual = function(t, e) {
                                return t.fillColor === e.fillColor || (!!(t.fillColor instanceof CanvasGradient && e.fillColor instanceof CanvasGradient && d.Helpers.arraysEqual(t.fillGradient, e.fillGradient)) || t.fillColor instanceof CanvasPattern && e.fillColor instanceof CanvasPattern && t.fillPattern === e.fillPattern)
                            }, t.prototype.createAreaPath = function(t, e, i, n, r, s, a, o) {
                                if (s !== a) {
                                    t.moveTo(e[s] + o, i[s]);
                                    for (var l = s + 1; l <= a; l++) t.lineTo(e[l] + o, i[l]);
                                    this.closeAreaPath(t, e, n, r, s, a)
                                }
                            }, t.prototype.closeAreaPath = function(t, e, i, n, r, s) {
                                for (var a = e[r], o = e[s], l = n, h = o, u = i.length - 2; u >= 0; u += -2) {
                                    var c = i[u],
                                        d = i[u + 1];
                                    if (!(c.length < 2 || c[r] > h || c[s] < a)) {
                                        var p = s,
                                            f = c[p];
                                        f < h && (t.lineTo(h, l), t.lineTo(f, l), h = f);
                                        var g = void 0,
                                            m = void 0;
                                        for (g = p; g >= r; g--) {
                                            if (m = c[g], h === f) t.lineTo(f, d[g + 1]), h = m;
                                            else if (h < f && h > m) {
                                                var v = d[g],
                                                    y = d[g + 1],
                                                    S = (h - m) / (f - m),
                                                    b = v + S * (y - v);
                                                t.lineTo(h, b), h = m
                                            }
                                            if (h <= a) {
                                                h = a;
                                                var v = d[g],
                                                    y = d[g + 1],
                                                    S = (h - m) / (f - m),
                                                    b = v + S * (y - v);
                                                t.lineTo(h, b);
                                                break
                                            }
                                            f = m
                                        }
                                        g === -1 && h === m && t.lineTo(h, d[0])
                                    }
                                }
                                h !== a && (t.lineTo(h, l), t.lineTo(a, l)), t.closePath()
                            }, t
                        }();
                        t.Line = n;
                        var r = function() {
                            function t(t, e) {
                                this.series = e, this.scene = t, this.prevy = []
                            }
                            return t.prototype.paintStack = function(t, e, i, n, r, s, a, o) {
                                if (e.length > 0) {
                                    var l = this.series[0];
                                    this.seriesEnabled = f.isSeriesEnabled(l, this.scene.isAggregated);
                                    var h = this.prevy;
                                    h.length < e.length && (h = this.prevy = new Array(e.length));
                                    for (var u = 0; u <= e.length - 1; u++) h[u] = s;
                                    l.invisible || this.plainBar(t.context, l.style, e, i, h, n)
                                }
                            }, t.prototype.hitTest = function(t, e, i, n, r, s, a, o, l) {
                                var h = t.length;
                                if (!(h > 1)) return {
                                    result: null,
                                    distance: 1 / 0
                                };
                                var u = this.series,
                                    c = d.Helpers.binSearch(t, s),
                                    p = t[c] - e[c],
                                    f = t[c] + e[c];
                                if (p > s && c > 0) {
                                    var g = t[c - 1] - e[c - 1],
                                        m = t[c - 1] + e[c - 1];
                                    (m > s || Math.abs(m - s) < Math.abs(p - s)) && (c -= 1, p = g, f = m)
                                }
                                for (var v = null, y = 1 / 0, S = r, b = 0; b < u.length; b++) {
                                    var x = i[b][c];
                                    if (null !== x) {
                                        var C = S - x,
                                            w = Math.min(S, C),
                                            L = Math.max(S, C),
                                            T = d.Geometry.distanceToRect(s, a, p, w, f, L);
                                        T < y && (y = T, v = {
                                            x0: p,
                                            y0: w,
                                            x1: f,
                                            y1: L,
                                            seriesIndex: b,
                                            isMarker: !1
                                        }), S = C
                                    }
                                }
                                return {
                                    result: v,
                                    distance: y
                                }
                            }, t.prototype.plainBar = function(t, e, i, n, r, s) {
                                for (var a = 0; a < i.length; a++) {
                                    var o = i[a],
                                        l = r[a],
                                        h = s[0][a],
                                        u = s[1][a],
                                        c = s[2][a],
                                        p = s[3][a];
                                    if (void 0 !== p && null !== p || void 0 !== h && null !== h || void 0 !== u && null !== u || void 0 !== c && null !== c) {
                                        var f = (o - n[a] || 0) + .5,
                                            g = (o + n[a] || 0) + .5,
                                            m = (l - p || 0) + .5,
                                            v = (l - h || 0) + .5,
                                            y = (l - u || 0) + .5,
                                            S = (l - c || 0) + .5,
                                            b = this.applyPatternStyle(t, e, y, S);
                                        if ("bar" === e.pattern) {
                                            var x = d.Graphics.beginStroke(t, b);
                                            x.moveTo(o, v), x.lineTo(o, m), x.moveTo(f, y), x.lineTo(o, y), x.moveTo(g, S), x.lineTo(o, S), d.Graphics.endStroke(t, x, b)
                                        } else {
                                            var x = d.Graphics.beginStroke(t, b);
                                            x.moveTo(o, v), x.lineTo(o, y), x.moveTo(o, S), x.lineTo(o, m), d.Graphics.endStroke(t, x, b), x = d.Graphics.beginStroke(t, b, !0), x.moveTo(f, y), x.lineTo(g, y), x.lineTo(g, S), x.lineTo(f, S), x.closePath(), d.Graphics.endStroke(t, x, b, !0)
                                        }
                                        e.shadowColor && d.Graphics.clearShadow(t)
                                    }
                                }
                            }, t.prototype.applyPatternStyle = function(t, e, i, n) {
                                var r = i >= n ? e.increase : e.decrease,
                                    s = "candlestick" === e.pattern ? r.candlestick : r.bar,
                                    a = s;
                                if (!this.seriesEnabled) {
                                    a = d.Helpers.realClone(s);
                                    var o = this.scene.settings.legend.advanced.disabledSeries;
                                    a.lineColor = o.lineColor, void 0 !== a.fillColor && (a.fillColor = o.fillColor)
                                }
                                return e.lineColor && e.shadowColor && d.Graphics.applyShadow(t, e), a
                            }, t
                        }();
                        t.Candlestick = r
                    }(r = t.Renderers || (t.Renderers = {}));
                var u = function() {
                    function t(t, e, i) {
                        this.scene = e, this.chart = t, this.valueAxis = i
                    }
                    return t.prototype.setSeriesFont = function(t, e, i, n, r, s) {
                        var a = this.scene.dataLabels.metaData,
                            o = 2 * n[0],
                            l = this.scene.width;
                        null === a.styles && (a.styles = {}), a.reducedStyles = [];
                        var h = a.styles,
                            u = {
                                context: t,
                                event: e,
                                series: i,
                                radii: n,
                                vstack: r,
                                times: s
                            };
                        for (this.genFontStyles(u, h, o), o *= 2; o < l;) h = {}, this.genFontStyles(u, h, o), a.reducedStyles.push(h), o *= 2
                    }, t.prototype.genFontStyles = function(t, e, i) {
                        for (var n = t, r = 0; r < n.series.length; r++) {
                            var s = n.series[r],
                                a = this.getLongestNumber(n.vstack[r]);
                            if (e[s.id] = null, a.max !== -(1 / 0)) {
                                var o = this.createContent(a.max, n.times[a.index], s.valueLabels.contentsFunction) || "",
                                    l = this.reduceFontWidth(n.context, n.event, s.id, s.valueLabels, i, o);
                                l && (e[s.id] = l)
                            }
                        }
                    }, t.prototype.scanValueLabels = function(t, e, i, n, r, s, a, o, l) {
                        for (var h = this.chart.shell.getChartInnerArea(), u = this.chart.getBottomHeight(), c = 0; c < 2; c++) {
                            var d = 0 === c ? s : a;
                            if (null !== d) {
                                for (var p = [], f = 0; f < d.length; f++) p.push(0);
                                for (var g = 0; g < n.length; g++)
                                    for (var m = n[g], v = this.valueAxis.zeroY, y = 0, S = 0; S < d.length; S++) {
                                        var x = o[S][g],
                                            C = d[S][g];
                                        if (null !== C && null !== x) {
                                            y += x, v -= C;
                                            var w = r[S];
                                            if (w.valueLabels && w.valueLabels.enabled) {
                                                var L = w.valueLabels.useStackedValue,
                                                    T = this.chart.settings._computedStacks[w.stack],
                                                    M = T && "based" === T.type;
                                                if (null === L && (L = !M), !M || 0 !== C || 0 === y) {
                                                    var k = i[0];
                                                    if (w instanceof b) {
                                                        var P = C >= 0 ? 1 : -1,
                                                            A = w.style.minHeight;
                                                        A && (C = C * P < A ? A * P : C), k *= Math.max(Math.min(w.style.widthScale, 1), 0)
                                                    }
                                                    var I = v + C,
                                                        D = C;
                                                    M && (D += this.valueAxis.zeroY - I, I = this.valueAxis.zeroY), this.createDrawingSpots(t, h, D, I, m, w, L ? y : x, x, u, k, l[g], p[S]), p[S]++
                                                }
                                            }
                                        }
                                    }
                            }
                        }
                        this.paintDataLabels(t, e, i[0], r.length)
                    }, t.prototype.createDrawingSpots = function(t, e, i, n, r, s, a, o, l, h, u, c) {
                        var p = s.id,
                            f = s.valueLabels.position,
                            g = s.valueLabels.xPosition,
                            m = this.scene.dataLabels,
                            v = r.toFixed(1),
                            y = this.scene.dataLabels.spots[v],
                            S = m.metaData.styles,
                            b = 1;
                        if (null === S[p] || void 0 === S[p]) {
                            if (!s.valueLabels.allowLabelSkip) return;
                            for (var x = m.metaData.reducedStyles, C = !1, w = 0; w < x.length; w++)
                                if (b = 2 * b, null !== x[w][p] && void 0 !== x[w][p]) {
                                    S = x[w], C = !0;
                                    break
                                } if (!C || c % b !== 0) return
                        }
                        var L = this.createContent(a, u, s.valueLabels.contentsFunction);
                        if (null != L) {
                            var T = (new d.LabelLayoutBase).totalPadding(s.valueLabels.style),
                                M = this.getPositionVerticalDimensions(t, o, n, i, S[p], s.valueLabels.minFontSize, f, T, s.valueLabels.style.angle, L);
                            if (null !== M) {
                                var k = M.min,
                                    P = M.max,
                                    A = this.chart.settings.horizontal ? 0 : e.findTopPosition(r, Math.min(r + h, this.scene.x0 + this.scene.width));
                                A > k && (P = P - k + A, k = A);
                                var I = this.scene.chartTop + this.scene.chartHeight - this.scene.bottomAxisSize;
                                if (P > I && (k = k - P + I, P = I), y && !s.valueLabels.allowOverlap)
                                    for (var D = 0; D < y.length; D++) {
                                        var N = y[D];
                                        if (null != N) {
                                            var O = N.edges[0],
                                                F = N.edges[1];
                                            if (k < F && P > O) {
                                                if (!(s.type === N.type && a > N.value)) return;
                                                y[D] = null
                                            }
                                        }
                                    }
                                y || (y = this.scene.dataLabels.spots[v] = []);
                                var E = 0;
                                switch (g) {
                                    case "center":
                                        E = 0;
                                        break;
                                    case "insideRight":
                                        E = h;
                                        break;
                                    case "centerRight":
                                        E = 0;
                                        break;
                                    case "outsideRight":
                                        E = h;
                                        break;
                                    case "insideLeft":
                                        E = -h;
                                        break;
                                    case "centerLeft":
                                        E = 0;
                                        break;
                                    case "outsideLeft":
                                        E = -h;
                                        break;
                                    case "right":
                                        E = h;
                                        break;
                                    case "left":
                                        E = -h;
                                        break;
                                    default:
                                        d.Helpers.warn("Invalid xPosition: '" + g + "'. Possible values: center, right, left, insideRight, centerRight, outsideRight, insideLeft, centerLeft, outsideLeft"), E = 0
                                }
                                this.shouldShowValue(a, s.valueLabels) && y.push({
                                    value: a,
                                    type: s.type,
                                    edges: [k, P],
                                    x: parseInt(v, 10) + E,
                                    y: k + M.fontHeight / 2,
                                    font: M.font,
                                    id: p,
                                    xPosition: g,
                                    style: s.valueLabels.style,
                                    function: s.valueLabels.contentsFunction,
                                    timestamp: u
                                })
                            }
                        }
                    }, t.prototype.shouldShowValue = function(t, e) {
                        var i = null !== t && void 0 !== t,
                            n = 0 === t;
                        return !(!e.showNullData && !i) && !(!e.showZeroData && n)
                    }, t.prototype.reduceFontSize = function(t, e, i, n, r) {
                        var s = e.match(/^([^\"\d]*)(\d+\.?\d*)(.*)$/i);
                        if (!s) return d.Helpers.warn("Could not parse the font size from the value `" + e + "`."), {
                            font: e,
                            value: n(e)
                        };
                        for (var a = s[2], o = s[1], l = s[3], h = parseFloat(a); h >= i;) {
                            var u = o + h + l,
                                c = n(u);
                            if (c <= r) return {
                                font: u,
                                value: c
                            };
                            if (h === i) break;
                            h = Math.round((h - 1) * r / c * 100) / 100, h < i && (h = i)
                        }
                        return null
                    }, t.prototype.getTextHeight = function(t, e) {
                        return d.Graphics.getTextHeight(t, e) + 4
                    }, t.prototype.getPositionVerticalDimensions = function(t, e, i, n, r, s, a, o, l, h) {
                        var u = e >= 0 ? -1 : 1,
                            c = null,
                            p = null,
                            f = -n;
                        n = Math.abs(n);
                        var g = this.rotatedFontWidthHeight(t, r, h, l, o).height,
                            m = g < Math.abs(n);
                        if (!m && ("insideTop" === a || "insideCenter" === a || "insideBase" === a)) {
                            var v = this.reduceFontSize(t, r, s, function(e) {
                                return d.Graphics.getTextHeight(t, e)
                            }, n);
                            if (!v) return null;
                            r = v.font, g = v.value + 2 * o + 4
                        }
                        switch (a) {
                            case "outsideBottom":
                                e < 0 ? (c = i + n, p = c + g) : (c = i, p = c + g);
                                break;
                            case "outsideTop":
                                e >= 0 ? (c = i - n, p = c - g) : (c = i, p = c - g);
                                break;
                            case "outside":
                                c = i + f, p = c + u * g;
                                break;
                            case "insideTop":
                                c = i + f, p = c - u * g;
                                break;
                            case "insideCenter":
                                c = i + f / 2 + g / 2, p = c - g;
                                break;
                            case "insideBase":
                                c = i + u * g, p = i;
                                break;
                            case "aboveValue":
                                c = i + f, p = c - g;
                                break;
                            case "belowValue":
                                c = i + f, p = c + g;
                                break;
                            case "insideTopAuto":
                                m ? (c = i + f, p = c - u * g) : (c = i + f, p = c + u * g);
                                break;
                            case "value":
                                m && (c = i + f - g / 2, p = c + g);
                                break;
                            default:
                                d.Helpers.warn("Invalid position: '" + a + "'. Possible values: outside, insideTop, insideCenter, insideBase, aboveValue, belowValue, belowValueAuto, value."), c = i + f, p = c + u * g
                        }
                        return null === c ? null : c > p ? {
                            min: p,
                            max: c,
                            font: r,
                            fontHeight: g
                        } : {
                            min: c,
                            max: p,
                            font: r,
                            fontHeight: g
                        }
                    }, t.prototype.calcFontWidth = function(t, e) {
                        var i = this.scene.dataLabels.fontWidths[t];
                        if (!i) return 1 / 0;
                        var n = e.length;
                        if (n <= 2) return i[n];
                        var r = i[2] - i[1];
                        return (n - 1) * r + i[1]
                    }, t.prototype.rotatedFontWidthHeight = function(t, e, i, n, r) {
                        r = r || 0;
                        var s = this.calcFontWidth(e, i) + 2 * r,
                            a = this.getTextHeight(t, e) + 2 * r,
                            o = (n || 0) * Math.PI / 180;
                        return d.Helpers.rotatedWidthAndHeight(o, s, a)
                    }, t.prototype.reduceFontWidth = function(t, e, i, n, r, s) {
                        var a = this,
                            o = this.scene.dataLabels.fontWidths,
                            l = n.style.textStyle;
                        if (s = s.replace(/\d/g, "9"), this.rotatedFontWidthHeight(t, l.font, s, n.style.angle, n.style.padding).width <= r) return l.font;
                        var h = new d.Label(n.style),
                            u = h.style.textStyle,
                            c = u.font;
                        h.text = s;
                        var p = this.reduceFontSize(t, c, n.minFontSize, function(i) {
                            var r = o[i];
                            if (!r) {
                                u.font = i, h.text = "", e.labelRenderer.measure(t, h);
                                var l = 2 * h.hwidth;
                                h.text = "9", e.labelRenderer.measure(t, h);
                                var c = 2 * h.hwidth;
                                h.text = "99", e.labelRenderer.measure(t, h);
                                var d = 2 * h.hwidth;
                                o[i] = r = [l, c, d], h.text = s, e.labelRenderer.measure(t, h)
                            }
                            return a.rotatedFontWidthHeight(t, i, s, n.style.angle, n.style.padding).width
                        }, r);
                        return p ? p.font : null
                    }, t.prototype.getLongestNumber = function(t) {
                        for (var e = 0, i = -1, n = 0; n < t.length; n++) {
                            var r = t[n];
                            r < 0 && (r *= -10), e <= r && null !== r && (e = r, i = n)
                        }
                        return {
                            max: i === -1 || null === t[i] ? -(1 / 0) : t[i],
                            index: i
                        }
                    }, t.prototype.createContent = function(t, e, i) {
                        if (i) {
                            var n = i.call(this.chart.api, t, e) || null;
                            return null != n && "string" != typeof n ? void d.Helpers.warn("`valueLabels.contentsFunction` has to return `null` or a string value.") : n
                        }
                        return t === d.Helpers.trunc(t) ? t.toFixed(0) : t.toFixed(2)
                    }, t.prototype.paintDataLabels = function(t, e, i, n) {
                        for (var r = this.scene, s = r.dataLabels.metaData, a = 2 * i, o = s.availableWidth !== a, l = r.dataLabels.spots, h = Object.keys(l), u = 0, c = h.length; u < c; u++) {
                            var p = l[h[u]];
                            if (p)
                                for (var f = 0; f < p.length; f++) {
                                    var g = p[f];
                                    if (null != g) {
                                        var m = new d.Label(g.style);
                                        m.text = this.createContent(g.value, g.timestamp, g.function), m.style.textStyle.font = g.font, e.labelRenderer.measure(t, m);
                                        var v = g.xPosition,
                                            y = 0;
                                        switch (v) {
                                            case "center":
                                                y = 0;
                                                break;
                                            case "right":
                                                y = 0;
                                                break;
                                            case "left":
                                                y = 0;
                                                break;
                                            case "insideRight":
                                                y = -m.hwidth;
                                                break;
                                            case "centerRight":
                                                y = m.hwidth;
                                                break;
                                            case "outsideRight":
                                                y = m.hwidth;
                                                break;
                                            case "insideLeft":
                                                y = m.hwidth;
                                                break;
                                            case "centerLeft":
                                                y = -m.hwidth;
                                                break;
                                            case "outsideLeft":
                                                y = 1 - m.hwidth;
                                                break;
                                            default:
                                                d.Helpers.warn("Invalid xPosition: '" + v + "'. Possible values: center, right, left, insideRight, centerRight, outsideRight, insideLeft, centerLeft, outsideLeft"), y = 0
                                        }
                                        e.labelRenderer.paint(t, g.x + y, g.y, 1, m)
                                    }
                                }
                        }
                        r.dataLabels.spots = {}, o && (s.availableWidth = a)
                    }, t
                }();
                t.ValueLabels = u,
                    function(t) {
                        var e = function() {
                            function t(t, e, i, n, r) {
                                this.series = [], this.seriesId = [], this.min = 0, this.max = 0, this.renderingType = null, this.needsAfterProcess = !1, this.paddingLeft = 0, this.paddingRight = 0, this.clusterPaddingLeft = 0, this.clusterPaddingRight = 0, this.centers = [], this.radii = [], this.vstack = [], this.seriesAggregates = {}, this.countStack = [], this.ystack = [], this.xes = [], this.times = [], this.styles = [], this.previewData = [], this.calculatedDepth = 0, this.ystackNegative = null, this.valueLabels = null, this.leadIndices = [], this.numCenterSplices = 0, this.externalItems = null, this.externalItemsCache = null, this.va = r, this.options = n, this.cluster = i, this.scene = e, this.chart = t, this.va.series++
                            }
                            return t.computeFillPattern = function(t, e, i) {
                                var n = i.fillPattern,
                                    r = i._currentFillStyleKey,
                                    s = i.fillColor,
                                    a = s + "|" + n;
                                if (!r || r.pattern !== a) {
                                    var o, l, h = t.assetsLoader.getAssetImage(i.fillPattern);
                                    if (h) {
                                        var u = i._fillPatternOpacity;
                                        if (s || u) {
                                            var c = document.createElement("canvas");
                                            c.width = h.width, c.height = h.height;
                                            var d = c.getContext("2d");
                                            s && (d.fillStyle = s, d.fillRect(0, 0, h.width, h.height)), d.globalAlpha = i._fillPatternOpacity, d.drawImage(h, 0, 0), h = c
                                        }
                                        o = e.createPattern(h, "repeat"), l = {
                                            pattern: a
                                        }
                                    } else o = s || null, l = null;
                                    i._currentFillStyle = o, i._currentLegendFillStyle = o, i._currentFillStyleKey = l, i._currentLegendFillStyleKey = l
                                }
                            }, t.prototype.addSeries = function(t, e) {
                                this.renderingType || (this.renderingType = e.type), this.series.push(e), this.seriesId.push(t);
                                var i = e;
                                this.calculatedDepth = Math.max(this.calculatedDepth, i.style.depth), "columns" === this.renderingType && this.aggregatePadding(i)
                            }, t.prototype.aggregatePadding = function(t) {
                                this.paddingLeft = Math.max(this.paddingLeft, t.style.padding[0]), this.paddingRight = Math.max(this.paddingRight, t.style.padding[1]), this.clusterPaddingLeft = Math.max(this.clusterPaddingLeft, t.style.clusterPadding[0]), this.clusterPaddingRight = Math.max(this.clusterPaddingRight, t.style.clusterPadding[1])
                            }, t.prototype.afterInit = function() {
                                "line" === this.renderingType ? this.renderer = new r.Line(this, this.series) : "columns" === this.renderingType ? this.renderer = new r.Columns(this.scene, this.series) : "candlestick" === this.renderingType && (this.candleStacks = !0, this.renderer = new r.Candlestick(this.scene, this.series))
                            }, t.prototype.process = function(t) {
                                this.processData(t), this.computeMinMax(), this.numCenterSplices = 0, this.leadIndices = this.addLeads(t), this.computeSeriesAggregates(t, this.leadIndices), this.sendMinMaxToValueAxis(this.min, this.max), this.needsAfterProcess = !0
                            }, t.prototype.afterProcess = function() {
                                if (this.needsAfterProcess || this.va.axisChanged) return this.needsAfterProcess = !1, this.computeY()
                            }, t.prototype.paint = function(t, e) {
                                if (0 !== this.ystack.length && !isNaN(this.radii[0])) {
                                    for (var i = 0; i < this.series.length; i++) {
                                        var n = this.series[i];
                                        this.computeFillStyle(e, n.style), this.chart.assetsLoaded && n.valueLabels && n.valueLabels.enabled && (null === this.valueLabels && (this.valueLabels = new u(this.chart, this.scene, this.va)), this.valueLabels.setSeriesFont(e, t, this.series, this.radii, this.vstack, this.times))
                                    }
                                    var r = this.styles;
                                    if (r)
                                        for (var s = 0; s < r.length; s++) {
                                            var a = r[s];
                                            if (a)
                                                for (var o = 0; o < a.length; o++) this.computeFillStyle(e, a[o])
                                        }
                                    var l = null === this.options.drawFullArea ? "based" === this.options.type : this.options.drawFullArea,
                                        h = this.options.type;
                                    this.ystackNegative && this.renderer.paintStack(t, this.centers, this.radii, this.ystackNegative, this.styles, this.va.zeroY, l, h, this.previewData), this.renderer.paintStack(t, this.centers, this.radii, this.ystack, this.styles, this.va.zeroY, l, h, this.previewData)
                                }
                            }, t.prototype.paintValueLabels = function(t, e) {
                                null !== this.valueLabels && this.valueLabels.scanValueLabels(e, t, this.radii, this.centers, this.series, this.ystack, this.ystackNegative, this.vstack, this.times)
                            }, t.prototype.hitTestStack = function(t, e) {
                                var i = d.Helpers.binSearch(this.centers, t),
                                    n = this.centers[i] - this.radii[i],
                                    r = this.centers[i] + this.radii[i];
                                if (n > t && i > 0) {
                                    var s = this.centers[i - 1] - this.radii[i - 1],
                                        a = this.centers[i - 1] + this.radii[i - 1];
                                    (a > t || Math.abs(a - t) < Math.abs(n - t)) && (i -= 1, n = s, r = a)
                                }
                                return {
                                    result: {
                                        x0: n,
                                        y0: 0,
                                        x1: r,
                                        y1: 0,
                                        seriesIndex: null,
                                        isMarker: !1,
                                        stack: this
                                    },
                                    distance: d.Geometry.distanceToRect(t, 0, n, 0, r, 0)
                                }
                            }, t.prototype.hitTest = function(t, e, i) {
                                var n = this.renderer.hitTest(this.centers, this.radii, this.ystack, this.styles, this.va.zeroY, t, e, i, this.options.type),
                                    r = n.result,
                                    s = n.distance;
                                return this.ystackNegative && (n = this.renderer.hitTest(this.centers, this.radii, this.ystackNegative, this.styles, this.va.zeroY, t, e, i, this.options.type), n.distance < s && (r = n.result, s = n.distance)), null !== r && (r.seriesIndex = this.seriesId[r.seriesIndex], r.stack = this), {
                                    result: r,
                                    distance: s
                                }
                            }, t.prototype.computeFillStyle = function(e, i) {
                                i && (i.lineGradient ? (this.computeFillGradient(e, i, !0, "lineGradient", "_currentLegendLineStyleKey", "_currentLegendLineStyle", "lineGradientMode"), this.computeFillGradient(e, i, !1, "lineGradient", "_currentLineStyleKey", "_currentLineStyle", "lineGradientMode")) : (i._currentLineStyle = i.lineColor || null, i._currentLegendLineStyle = i.lineColor || null, i._currentLegendLineStyleKey = null), i.fillPattern ? t.computeFillPattern(this.chart, e, i) : i.fillGradient ? (this.computeFillGradient(e, i, !0, "fillGradient", "_currentLegendFillStyleKey", "_currentLegendFillStyle", "fillGradientMode"), this.computeFillGradient(e, i, !1, "fillGradient", "_currentFillStyleKey", "_currentFillStyle", "fillGradientMode")) : (i._currentFillStyle = i.fillColor || null, i._currentLegendFillStyle = i.fillColor || null, i._currentFillStyleKey = null, i._currentLegendFillStyleKey = null))
                            }, t.prototype.computeFillGradient = function(t, e, i, n, r, s, a) {
                                var o = e,
                                    l = o[n],
                                    h = this.va,
                                    u = h.zeroY,
                                    c = i ? 0 : this.scene.y0,
                                    p = i ? this.scene.chartHeight - c : this.scene.height,
                                    f = this.scene.x0,
                                    g = this.scene.width,
                                    m = o[r],
                                    v = h.scale + "|" + u + "|" + c + "|" + f + "|" + p + "|" + u;
                                if (!m || !e._currentFillStyle || l !== m.gradient || v !== m.hash) {
                                    var y = null;
                                    if (y = "horizontal" == o[a] ? t.createLinearGradient(f, c, f + g, c) : "vertical" == o[a] ? t.createLinearGradient(f, c + p, f, c) : t.createLinearGradient(f, c, f, c + p), i) {
                                        for (var S = l.map(function(t) {
                                                return [t[0], t[1]]
                                            }).sort(function(t, e) {
                                                return t[0] - e[0]
                                            }), b = S[S.length - 1][0], x = S[0][0], C = [], w = S.length - 1; w >= 0; w--) {
                                            var L = S[w],
                                                T = L[0] - x,
                                                M = b - x,
                                                k = 0 === M ? 0 : T / M;
                                            C.push([.99999 - k / 1.0001, L[1]])
                                        }
                                        for (var P = this.chart.legend.entryHeight, A = Math.max(1, (this.scene.chartHeight - c) / P), I = -.825, D = "bottom" !== this.chart.settings.legend.panel.side ? 0 : A - Math.floor(A), N = !1, O = null, F = -1, w = -1; w < Math.ceil(A) + 1; w++) {
                                            for (var E = w / A + (D + I) / A, H = 0; H < C.length; H++) {
                                                var R = C[H][0],
                                                    z = C[H][1],
                                                    U = E + R / A;
                                                if (U > 0) {
                                                    if (O && F < 0 && y.addColorStop(0, d.Colors.blend(O[1], z, (0 - F) / (U - F), !1)), U >= 1) {
                                                        O && y.addColorStop(1, d.Colors.blend(O[1], z, (1 - F) / (U - F), !1)), N = !0;
                                                        break
                                                    }
                                                    y.addColorStop(U, C[H][1])
                                                }
                                                O = C[H], F = U
                                            }
                                            if (N) break
                                        }
                                    } else {
                                        var W = [];
                                        if (null == o[a]) W = B.toScreenCoords(l, h), y = B.generateGradient(t, W, f, c, p);
                                        else
                                            for (var G = 0; G < l.length; G++) {
                                                var V = l[G];
                                                y.addColorStop(V[0], V[1])
                                            }
                                    }
                                    o[s] = y, o[r] = {
                                        hash: v,
                                        gradient: l
                                    }
                                }
                            }, t.generateAggregateOffsetVisitor = function(t, e, i, n) {
                                return function(r, s) {
                                    if (d.Helpers.nonNull(s) && n(s, t)) return e * r + i
                                }
                            }, t.prototype.computeSeriesAggregates = function(e, i) {
                                for (var n = this.scene.x0, r = this.scene.x0 + this.scene.width, s = t.generateAggregateOffsetVisitor(n, 1, 0, function(t, e) {
                                        return t >= e
                                    }), a = d.Helpers.visitArrayForwards(this.centers, s), o = t.generateAggregateOffsetVisitor(r, -1, this.centers.length, function(t, e) {
                                        return t < e
                                    }), l = d.Helpers.visitArrayBackwards(this.centers, o), h = 0, u = 0; u < i.length; u++) {
                                    var c = i[u];
                                    c <= a && h++
                                }
                                a -= h, this.seriesAggregates = {};
                                for (var u = 0; u < this.seriesId.length; u++) {
                                    var p = e[this.seriesId[u]],
                                        f = p.fromIndex + a,
                                        g = p.toIndex - l;
                                    this.seriesAggregates[this.series[u].id] = new d.SeriesAggregates(p.values.slice(f, g), p.counts.slice(f, g))
                                }
                            }, t.prototype.processData = function(t) {
                                var e = this;
                                this.vstack = [], this.countStack = [], this.styles = [];
                                var i = t[this.seriesId[0]];
                                if (0 !== i.times.length) {
                                    this.xes = i.xes.slice(i.fromIndex, i.toIndex), this.times = i.times.slice(i.fromIndex, i.toIndex), this.centers = new Array(this.xes.length - 1), this.radii = new Array(this.xes.length - 1), this.cluster.computeStackCenterRadius(this, this.xes, this.centers, this.radii), this.externalItemsCache = null, this.externalItems = function() {
                                        var t = e.externalItemsCache;
                                        if (null === t) {
                                            var n = e.leadIndices.some(function(t) {
                                                    return 0 === t
                                                }) ? -1 : 0,
                                                r = e.numCenterSplices + n - 1,
                                                s = e.times,
                                                a = i.externalItems(i.fromIndex + n, i.toIndex + r, s);
                                            t = e.externalItemsCache = a
                                        }
                                        return t
                                    }, this.previewData = [];
                                    for (var n = 0; n < this.seriesId.length; n++) {
                                        var r = this.seriesId[n];
                                        if (i = t[r], this.vstack.push(i.values.slice(i.fromIndex, i.toIndex - 1)), this.countStack.push(i.counts.slice(i.fromIndex, i.toIndex - 1)), i.config) {
                                            for (var s = [], a = [], o = i.fromIndex; o < i.toIndex - 1; o++) {
                                                var l = i.config[o];
                                                l && (s.push(l.style), a.push(l.previewData))
                                            }
                                            this.styles.push(s), this.previewData.push(a)
                                        } else this.styles.push(null)
                                    }
                                }
                            }, t.prototype.addLeads = function(t) {
                                for (var e = [], i = 0; i < this.seriesId.length; i++) {
                                    var n = this.seriesId[i],
                                        r = t[n];
                                    r.leadIn && e.push(this.injectLead(r.leadIn, i)), r.leadOut && e.push(this.injectLead(r.leadOut, i))
                                }
                                return e.sort(function(t, e) {
                                    return t - e
                                }), e
                            }, t.prototype.injectLead = function(t, e) {
                                var i = this.series.length,
                                    n = t.values[0],
                                    r = t.times[0],
                                    s = [0],
                                    a = [0];
                                this.cluster.computeStackCenterRadius(this, t.xes, s, a);
                                var o = s[0],
                                    l = a[0],
                                    h = d.Helpers.firstIndexLessThanInArray(this.centers, o);
                                if (null === h && (h = this.centers.length), h === this.centers.length || this.centers[h] > o) {
                                    this.numCenterSplices++, this.centers.splice(h, 0, o), this.radii.splice(h, 0, l), this.times.splice(h, 0, r);
                                    for (var u = 0; u <= i - 1; u++) this.vstack[u].splice(h, 0, null), this.countStack[u].splice(h, 0, null), this.styles[u] && this.styles[u].splice(h, 0, null)
                                }
                                return this.vstack[e][h] = n, this.countStack[e][h] = t.counts[0], h
                            }, t.prototype.getSeparateNegative = function() {
                                var t = this.options.separateNegativeValues;
                                return null === t && (t = "line" !== this.renderingType), t
                            }, t.prototype.computeMinMax = function() {
                                var t = 1 / 0,
                                    e = -(1 / 0);
                                if (this.vstack.length > 0) {
                                    for (var i = this.vstack, n = i[0].length, r = i.length, s = this.options.type, a = this.getSeparateNegative(), o = this.scene.x0, l = o + this.scene.width, h = 0, u = n - 1, c = 1e-4; h < n && this.centers[h] + this.radii[h] < o + c;) h += 1;
                                    for (; u >= h && this.centers[u] - this.radii[u] > l - c;) u -= 1;
                                    if ("proportional" === s) t = 0, e = 100;
                                    else if (this.candleStacks)
                                        for (var p = h; p <= u; p++)
                                            for (var f = 0; f <= r - 1; f++) {
                                                var g = i[f][p];
                                                d.Helpers.isNumber(g) && (t = Math.min(t, g), e = Math.max(e, g))
                                            } else if (1 === r)
                                                for (var m = i[0], p = h; p <= u; p++) {
                                                    var g = m[p];
                                                    d.Helpers.isNumber(g) && (t = Math.min(t, g), e = Math.max(e, g))
                                                } else if ("based" === s)
                                                    for (var p = h; p <= u; p++)
                                                        for (var f = 0; f <= r - 1; f++) {
                                                            var g = i[f][p];
                                                            d.Helpers.isNumber(g) && (t = Math.min(t, g), e = Math.max(e, g))
                                                        } else if ("normal" !== s || a) {
                                                            if ("normal" !== s) throw "stack.type unknown value: " + s;
                                                            for (var p = h; p <= u; p++)
                                                                for (var v = 0, y = 0, f = 0; f <= r - 1; f++) {
                                                                    var g = i[f][p];
                                                                    d.Helpers.isNumber(g) && (g > 0 ? y += g : g < 0 && (v += g), t = Math.min(t, v), e = Math.max(e, y))
                                                                }
                                                        } else
                                                            for (var p = h; p <= u; p++)
                                                                for (var S = 0, f = 0; f <= r - 1; f++) {
                                                                    var g = i[f][p];
                                                                    d.Helpers.isNumber(g) && (null !== g && (S += g), t = Math.min(t, S), e = Math.max(e, S))
                                                                }
                                }
                                this.min = t, this.max = e
                            }, t.prototype.sendMinMaxToValueAxis = function(t, e) {
                                t <= e ? this.va.receiveSeriesGeometry(t, e, this.calculatedDepth, this.seriesAggregates) : this.va.receiveSeriesGeometry(void 0, void 0, this.calculatedDepth, this.seriesAggregates)
                            }, t.prototype.computeY = function() {
                                var t = this.vstack,
                                    e = t.length;
                                if (0 !== e) {
                                    var i, n = this.options.type,
                                        r = this.getSeparateNegative(),
                                        s = t[0].length,
                                        a = this.va,
                                        o = null;
                                    if ("proportional" === n) {
                                        i = t.map(function() {
                                            return []
                                        }), a.options.scaleAdjustmentTolerance = 0;
                                        for (var l = 0; l <= s - 1; l++) {
                                            for (var h = 0, u = 0; u <= e - 1; u++) {
                                                var c = t[u][l];
                                                null !== c && (h += Math.abs(c))
                                            }
                                            if (h > 0) {
                                                h *= .01;
                                                for (var u = 0; u <= e - 1; u++) {
                                                    var c = t[u][l];
                                                    null !== c ? i[u].push(a.valueToRelativeY(Math.abs(c) / h)) : i[u].push(null)
                                                }
                                            } else
                                                for (var u = 0; u <= e - 1; u++) i[u].push(null !== t[u][l] ? 0 : null)
                                        }
                                    } else if ("based" === n || 1 === e) {
                                        i = [];
                                        for (var d = t[0].map(function() {
                                                return 0
                                            }), p = 0; p < t.length; p++) {
                                            for (var f = t[p], g = new Array(s), m = 0; m < f.length; m++) {
                                                var c = f[m];
                                                if (null !== c) {
                                                    var v = a.valueToRelativeY(c),
                                                        y = d[m];
                                                    g[m] = v - y, d[m] = v
                                                } else g[m] = null
                                            }
                                            i.push(g)
                                        }
                                    } else if ("normal" === n && r && this.min < 0 && this.max > 0) {
                                        i = t.map(function() {
                                            return []
                                        }), o = t.map(function() {
                                            return []
                                        });
                                        for (var l = 0; l <= s - 1; l++)
                                            for (var u = 0; u <= e - 1; u++) {
                                                var c = t[u][l];
                                                c > 0 ? (i[u].push(a.valueToRelativeY(c)), o[u].push(null)) : c < 0 ? (i[u].push(null), o[u].push(a.valueToRelativeY(c))) : (i[u].push(null), o[u].push(null))
                                            }
                                    } else if ("candlestick" === this.renderingType) {
                                        i = t.map(function() {
                                            return []
                                        });
                                        for (var l = 0; l <= s - 1; l++)
                                            for (var u = 0; u <= e - 1; u++) {
                                                var c = t[u][l];
                                                null !== c ? i[u].push(a.valueToRelativeY(c)) : i[u].push(null)
                                            }
                                    } else {
                                        if ("normal" !== n) throw "stack.type unknown value: " + n;
                                        var S = 0,
                                            b = 0,
                                            x = 0;
                                        i = t.map(function() {
                                            return []
                                        });
                                        for (var l = 0; l <= s - 1; l++)
                                            for (var u = 0; u <= e - 1; u++) {
                                                var c = t[u][l];
                                                if (0 === u && (S = b = x = 0), null !== c) {
                                                    b += c;
                                                    var C = a.valueToRelativeY(b);
                                                    i[u].push(C - x), x = C
                                                } else i[u].push(null)
                                            }
                                    }
                                    this.ystackNegative = o, this.ystack = i
                                }
                            }, t.prototype.exportData = function(t, e) {
                                var i;
                                if (this.times && this.vstack) {
                                    for (var n = this.times, r = this.centers.length, s = 0; s < r && n[s + 1] <= t;) s++;
                                    for (var a = s; a < r && n[a + 1] < e;) a++;
                                    i = [];
                                    for (var o = 0; o < this.vstack.length; o++) {
                                        var l = this.vstack[o],
                                            h = this.countStack[o],
                                            u = 0,
                                            c = -(1 / 0),
                                            d = 1 / 0,
                                            p = null,
                                            f = null;
                                        r = 0;
                                        var g = this.series[o].data.aggregation,
                                            m = !1,
                                            v = !1;
                                        "sum" === g ? (m = !1, v = !0) : "avg" === g && (m = !0, v = !0);
                                        for (var y = s; y <= a; y++) {
                                            var S = l[y],
                                                b = h[y];
                                            null == S || isNaN(S) || (u += m ? S * b : S, c = Math.max(c, S), d = Math.min(d, S), null === p && (p = S), f = S, r += b)
                                        }
                                        r > 0 ? i.push({
                                            sum: u,
                                            max: c,
                                            min: d,
                                            first: p,
                                            last: f,
                                            count: r,
                                            avg: v ? u / r : null,
                                            change: f - p,
                                            fromIndex: s,
                                            toIndex: a
                                        }) : i.push(null)
                                    }
                                } else i = this.series.map(function() {
                                    return null
                                });
                                for (var x = [], C = this.series.length - 1; C >= 0; C--) {
                                    var w = this.series[C];
                                    x.push({
                                        name: w.name || "",
                                        values: i[C],
                                        config: w
                                    })
                                }
                                return {
                                    name: this.options.name,
                                    stack: this,
                                    config: this.options,
                                    data: x
                                }
                            }, t
                        }();
                        t.Stack = e
                    }(i = t.Series || (t.Series = {}));
                var c = function() {
                    function t() {
                        this.enabled = !0, this.hideInvalidAxis = !1, this.onlyPaintMinMax = !1, this.onlyPaintUniqueLabels = !0, this.forcedMinMaxInset = 0, this.animate = "auto", this.initialAnimationValue = null, this.initialAnimationValueMultiplier = 4.5, this.logScale = !1, this.position = "outside", this.gridPosition = "above", this.side = "left", this.title = null, this.minValue = null, this.maxValue = null, this.forceTopAndBottomValues = !1, this.forcedTopAndBottomOffsets = [0, 0], this.alignZero = !1, this.size = null, this.hgrid = null, this.axisLine = !1, this.scaleAdjustmentTolerance = .3, this.scaleAdjustmentAnimationDelay = 200, this.scaleAdjustmentAnimation = "=", this.scaleStep = null, this.scaleMinStep = 0, this.snapScale = 1, this.zeroLine = "visible", this.valueFormatterFunction = null, this.style = {
                            title: {
                                textStyle: {
                                    fillColor: "rgba(185, 185, 185, 1)",
                                    font: "13px Arial"
                                },
                                reverseDirection: !1,
                                align: "center",
                                margin: 5
                            },
                            tick: {
                                lineColor: "transparent"
                            },
                            axisLine: {
                                lineColor: "transparent",
                                lineWidth: 1
                            },
                            valueLabel: {
                                textStyle: {
                                    fillColor: "rgba(185, 185, 185, 1)",
                                    font: "11px Arial"
                                },
                                margin: 0
                            },
                            labelSpacing: 25,
                            labelSpacingMode: "fixed",
                            autoScaleLabelSpacing: !0,
                            baseLine: {
                                lineColor: "rgba(230, 230, 230, 0.1)",
                                depthColor: "rgba(230, 230, 230, 0.1)",
                                lineWidth: 1,
                                lineDepth: 0,
                                showLabel: 1
                            },
                            hgrid: {
                                lineColor: "rgba(230, 230, 230, 0.1)"
                            }
                        }, this.thresholds = []
                    }
                    return t
                }();
                t.SettingsValueAxis = c;
                var p = function() {
                    function t(t, e) {
                        this.axisPoints = new d.ValueAxisPoints, this.title = null, this.isPrimary = !1, this._chart = t, this.options = e, this.events = t.events, this.scene = t.scene, this.axisScale = new d.ValueAxisScale(this.options.logScale), this.isInside = "inside" === this.options.position, this.createTitle(), this.panel = d.ValueAxisUtils.generatePanel(t, this.title, this.options.size, this.options.style.valueLabel, this.isInside, this.options.valueFormatterFunction), this.lastMaxValue = 0, this.lastMinValue = 0, this.minValue = 0, this.maxValue = 0, this.lastScaleMin = 0, this.lastScaleMax = 0, this.minValueAnimation = null, this.maxValueAnimation = null, this.usingDefaultMinMax = !0, this.axisChanged = !1, this.seriesDepth = 0, this.seriesMinValue = null, this.seriesMaxValue = null, this.series = 0
                    }
                    return Object.defineProperty(t.prototype, "scale", {
                        get: function() {
                            return this.axisScale.getRawScale()
                        },
                        enumerable: !0,
                        configurable: !0
                    }), Object.defineProperty(t.prototype, "zeroY", {
                        get: function() {
                            return this.axisScale.zeroY
                        },
                        enumerable: !0,
                        configurable: !0
                    }), t.prototype.valueToRelativeY = function(t) {
                        return this.axisScale.valueToRelativeY(t)
                    }, t.prototype.valueToScreenY = function(t) {
                        var e = this.scene.y0,
                            i = e + this.scene.height;
                        return this.axisScale.valueToScreenYInRange(t, e, i)
                    }, t.prototype.createTitle = function() {
                        var t = this.options,
                            e = t.style.title,
                            i = this.title = new d.Label(e);
                        i.text = t.title, i.allowCache = !1;
                        var n = i.style.angle;
                        null == n && (n = "right" === t.side ? 90 : -90);
                        var r = this.isChartHorizontal() && "right" === t.side;
                        (e.reverseDirection ? !r : r) && (n = -n), i.style.angle = n
                    }, t.prototype.isChartHorizontal = function() {
                        var t = this._chart.settings;
                        return !!t.hasOwnProperty("horizontal") && t.horizontal
                    }, t.prototype.getPanel = function() {
                        var t = this.options;
                        return t.enabled ? (this.panel.location = t.position, this.panel.side = t.side, this.panel) : null
                    }, t.prototype.setPanel = function(t) {
                        null != t && (this.panel = t)
                    }, t.prototype.receiveSeriesGeometry = function(t, e, i, n) {
                        if (null === this.options.minValue || this.options.alignZero ? void 0 !== t && (null !== this.seriesMinValue ? this.seriesMinValue = Math.min(t, this.seriesMinValue) : this.seriesMinValue = t) : this.seriesMinValue = this.options.minValue, null === this.options.maxValue || this.options.alignZero ? void 0 !== e && (null !== this.seriesMaxValue ? this.seriesMaxValue = Math.max(e, this.seriesMaxValue) : this.seriesMaxValue = e) : this.seriesMaxValue = this.options.maxValue, this.seriesDepth = Math.max(i, this.seriesDepth), d.Helpers.isNull(this.seriesAggregates)) this.seriesAggregates = n;
                        else
                            for (var r in n) {
                                var s = n[r];
                                this.seriesAggregates[r] = s
                            }
                    }, t.prototype.updateMinMax = function(t) {
                        var e = t.changes,
                            i = e.bounds || e.assets || 0 === this.axisPoints.locations.length;
                        if (e.settings && (this.axisScale.updateScale(this.options.logScale), this.isInside = "inside" === this.options.position, i = !0), this.shouldChangeScale() && (this.seriesMinValue !== this.lastMinValue && (i = !0, "always" === this.options.animate || null !== this.lastMinValue && !e.displayUnit && this.minValue !== this.maxValue ? this.minValueAnimation ? this.minValueAnimation.retarget(this.seriesMinValue, t.timeStamp) : this.minValueAnimation = new d.Animator(this.lastMinValue, this.seriesMinValue, this.options.scaleAdjustmentAnimationDelay, this.options.scaleAdjustmentAnimation, t.timeStamp) : this.minValueAnimation = null, this.lastMinValue = this.seriesMinValue), this.seriesMaxValue !== this.lastMaxValue)) {
                            if (i = !0, "always" === this.options.animate || null !== this.lastMaxValue && !e.displayUnit && this.minValue !== this.maxValue)
                                if (this.maxValueAnimation) this.maxValueAnimation.retarget(this.seriesMaxValue, t.timeStamp);
                                else {
                                    var n = this.lastMaxValue;
                                    this.lastMaxValue || (null !== this.options.initialAnimationValue ? n = this.options.initialAnimationValue : this.seriesMaxValue && (n = this.seriesMaxValue * this.options.initialAnimationValueMultiplier)), this.maxValueAnimation = new d.Animator(n, this.seriesMaxValue, this.options.scaleAdjustmentAnimationDelay, this.options.scaleAdjustmentAnimation, t.timeStamp)
                                }
                            else this.maxValueAnimation = null;
                            this.lastMaxValue = this.seriesMaxValue
                        }
                        this.seriesMaxValue = this.options.alignZero ? null : this.options.minValue, this.seriesMinValue = this.options.alignZero ? null : this.options.maxValue;
                        var r, s;
                        this.minValueAnimation ? (i = !0, r = this.minValueAnimation.get(t.timeStamp), this.minValueAnimation.finished(t.timeStamp) && (this.minValueAnimation = null)) : r = this.lastMinValue, this.maxValueAnimation ? (i = !0, s = this.maxValueAnimation.get(t.timeStamp), this.maxValueAnimation.finished(t.timeStamp) && (this.maxValueAnimation = null)) : s = this.lastMaxValue, this.axisChanged = i, i && this.computeNewScaleInternal(r, s, !0), (this.minValueAnimation || this.maxValueAnimation) && (t.animating = !0)
                    }, t.prototype.doAnimations = function(t) {
                        if (this.axisChanged && this._chart.assetsLoaded) {
                            this.axisChanged = !1;
                            var e = this.options;
                            if (e.enabled) {
                                var i = "right" === e.side,
                                    n = this.options.style.labelSpacingMode,
                                    r = "auto" === n && this.isChartHorizontal(),
                                    s = e && e.valueFormat && e.valueFormat.indexOf("%") !== -1,
                                    a = this.axisPoints.generatePointsWithAutoSpacing(this.axisScale, this.scene.y0, this.scene.y0 + this.scene.height, this.minValue, this.maxValue, this.isInside, this.options.style.labelSpacing, e.style.autoScaleLabelSpacing, e.scaleStep, e.scaleMinStep, e.snapScale, this.scene.bottomAxisSize, e.style.valueLabel.textStyle.font, e.forceTopAndBottomValues || e.onlyPaintMinMax, e.forcedTopAndBottomOffsets, e.style.baseLine.showLabel, s, r, this.scene.settings.localization.valueUnits, e.valueFormat, t.context, e.valueFormatterFunction, this.isChartHorizontal());
                                this.axisPoints.generateLabels(this.axisScale, a, this.scene.settings.localization.valueUnits, e.valueFormatterFunction, e.valueFormat, e.style.valueLabel, i, this.isInside, !1)
                            }
                        }
                    }, t.prototype.paintUnder = function(t) {
                        var e = this.options;
                        if (e.enabled) {
                            var i = t.context;
                            this.paintThresholds(t, "under", !1), "under" === e.gridPosition && this.paintGrid(i), this.paintZeroLineDepth(i)
                        }
                    }, t.prototype.canPaintData = function() {
                        var t = this;
                        return !this.seriesAggregates || Object.keys(this.seriesAggregates).some(function(e) {
                            return !!t.seriesAggregates[e].percentiles
                        })
                    }, t.prototype.paint = function(t) {
                        var e = this.options;
                        if (e.enabled) {
                            var i = !this.canPaintData() && e.hideInvalidAxis,
                                n = t.context;
                            if (this.canPaintData() && this.paintThresholds(t, "above", !0), i || e.gridPosition && "above" !== e.gridPosition || this.paintGrid(n), this.axisPoints.locations.length > 0 && (this.paintZeroLine(n), this.paintLabels(n, t.labelRenderer, i)), !i && e.axisLine) {
                                var r = d.Graphics.beginStrokeAndFill(n, e.style.axisLine);
                                this.paintAxisLine(r), d.Graphics.endStrokeAndFill(n, r, e.style.axisLine)
                            }
                        }
                    }, t.prototype.shouldChangeScale = function() {
                        var t = this.seriesMinValue,
                            e = this.seriesMaxValue;
                        if (null === t || null === e) return !1;
                        if (null === this.lastMinValue || null === this.lastMaxValue || !(this.lastMinValue < this.lastMaxValue)) return !0;
                        if ("center" === this.options.zeroLine ? (e = Math.max(e, -t), t = -e) : "visible" === this.options.zeroLine && (t = Math.min(t, 0), e = Math.max(e, 0)), t < this.minValue || e > this.maxValue) return !0;
                        if (t < this.lastMinValue || e > this.lastMaxValue) return !0;
                        var i = (this.lastMaxValue - this.lastMinValue) * this.options.scaleAdjustmentTolerance;
                        return t > this.lastMinValue + i || e < this.lastMaxValue - i
                    }, t.prototype.computeNewScale = function(t, e, i) {
                        if (t > 0 && e > 0 || t < 0 && e < 0) return Number.POSITIVE_INFINITY;
                        var n = 0 === t ? 0 : this.lastScaleMin / t,
                            r = 0 === e ? 0 : this.lastScaleMax / e,
                            s = Math.max(n, r);
                        if (0 === s) return Number.POSITIVE_INFINITY;
                        for (var a = t * s, o = e * s, l = 0; l < 10; l++) {
                            if (this.computeNewScaleInternal(a, o, !1), void 0 === i || !this.options.alignZero || this.usingDefaultMinMax) return this.computeScaleError(o, a);
                            var h = this.axisScale.forceZeroY(i),
                                u = this.axisScale.relativeYToValue(h);
                            if (Math.abs(u) === Number.POSITIVE_INFINITY) break;
                            var c = a + u,
                                d = o + u,
                                p = Math.abs(u);
                            c -= p, d += p, a = c, o = d
                        }
                        return this.computeScaleError(o, a)
                    }, t.prototype.computeScaleError = function(t, e) {
                        var i = (t - e) / (this.lastScaleMax - this.lastScaleMin),
                            n = i < 0 ? Number.POSITIVE_INFINITY : Math.log(i);
                        return n
                    }, t.prototype.computeNewScaleInternal = function(t, e, i) {
                        i && (this.lastScaleMin = t, this.lastScaleMax = e), this.axisChanged = !0;
                        var n = this.scene.height,
                            r = this.scene.y0;
                        if ("center" === this.options.zeroLine ? (e = Math.max(e, -t), t = -e) : "visible" === this.options.zeroLine && (t = Math.min(t, 0), e = Math.max(e, 0)), "center" === this.options.zeroLine && 0 === t && 0 === e || "floating" === this.options.zeroLine && t === e) {
                            var s = .5;
                            t -= s, e += s
                        }
                        if (this.options.alignZero || null === this.options.minValue || (t = this.options.minValue), this.options.alignZero || null === this.options.maxValue || (e = this.options.maxValue), !(n > 0 && t < e)) return this.minValue = 0, this.maxValue = 0, this.axisScale.resetToDefaultScale(r + n), void(this.usingDefaultMinMax = !0);
                        this.usingDefaultMinMax = !1;
                        var a = 0;
                        this.options.scaleStep > 0 ? a = this.options.scaleStep : this.options.scaleMinStep > 0 && (a = this.options.scaleMinStep), a > 0 && (t < 0 && (t = Math.floor(t / a) * a), e > 0 && (e = Math.ceil(e / a) * a));
                        var o = e - t;
                        if (this.axisScale.isLogScale) t = d.Helpers.sign(t) * Math.pow(Math.abs(t), 1 - d.Helpers.sign(t) * this.options.scaleAdjustmentTolerance);
                        else {
                            var l = t - o * this.options.scaleAdjustmentTolerance;
                            t > 0 ? t = Math.max(0, l) : t < 0 && (t = Math.min(0, l))
                        }
                        if (this.axisScale.isLogScale) e = d.Helpers.sign(e) * Math.pow(Math.abs(e), 1 + d.Helpers.sign(e) * this.options.scaleAdjustmentTolerance);
                        else {
                            var h = e + o * this.options.scaleAdjustmentTolerance;
                            e > 0 ? e = Math.max(0, h) : e < 0 && (e = Math.min(0, h))
                        }
                        this.options.alignZero || null === this.options.minValue || (t = this.options.minValue), this.options.alignZero || null === this.options.maxValue || (e = this.options.maxValue), this.options.alignZero && i && (null !== this.options.minValue || null !== this.options.maxValue) && d.Helpers.warn("Cannot use alignZero with custom minValue or maxValue. minValue and maxValue are being ignored."), this.minValue = t, this.maxValue = e, this.axisScale.updateRange(t, e, r, n)
                    }, t.prototype.paintGrid = function(t) {
                        this.options.hgrid === !1 || null == this.options.hgrid && !this.isPrimary || this.axisPoints.paintGrid(t, this.options.style.hgrid, this.scene, !1, !1)
                    }, t.prototype.paintAxisLine = function(t) {
                        var e, i = this.options.side,
                            n = this.panel.left,
                            r = this.panel.right,
                            s = this.scene.y0 + this.scene.height;
                        this.isInside ? ("right" === i && (e = n), "left" === i && (e = r)) : e = "right" === i ? n - .5 : r + .5, t.moveTo(e, this.scene.y0), t.lineTo(e, s)
                    }, t.prototype.paintZeroLineDepth = function(t) {
                        if (!(this.axisScale.zeroY > this.scene.chartHeight - (this.scene.topMargin + this.scene.bottomMargin))) {
                            var e = this.options.style.baseLine,
                                i = Math.max(e.lineDepth, this.seriesDepth);
                            if (i > 0) {
                                var n = d.Graphics.beginStroke(t, this.options.style.baseLine),
                                    r = this.scene.x0,
                                    s = r + this.scene.width,
                                    a = Math.round(this.axisScale.zeroY) - .5 * (e.lineWidth || 1);
                                n.moveTo(r, a), n.lineTo(r + i, a - i), n.lineTo(s, a - i), n.lineTo(s, a), t.fillStyle = e.depthColor, t.fill(), d.Graphics.endStroke(t, n, e)
                            }
                        }
                    }, t.prototype.paintZeroLine = function(t) {
                        this.axisScale.zeroY > this.scene.chartHeight - (this.scene.topMargin + this.scene.bottomMargin) || this.axisPoints.paintZeroLine(t, this.axisScale, this.options.style.baseLine, this.scene, 0, !1)
                    }, t.prototype.paintThresholds = function(t, e, i) {
                        var n = this.options;
                        n.enabled && d.ValueAxisUtils.paintThresholds(t.context, t.labelRenderer, e, i, this.scene, this.axisScale, this.seriesAggregates, n.thresholds)
                    }, t.prototype.paintLabels = function(t, e, i) {
                        this.axisPoints.paintLabels(t, e, this._chart, this.scene, this.panel, this.title, this.options.style.tick, "right" === this.options.side, this.isInside, !1, 0, this.isChartHorizontal(), this.options.onlyPaintMinMax, this.options.onlyPaintUniqueLabels, this.options.forcedMinMaxInset, i, 0, 0, 0, 0, !1, null, !1, !0)
                    }, t
                }();
                t.ValueAxis = p;
                var f = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e._computedValueAxisList = [], e._computedValueAxis = {}, e._computedSeries = [], e._computedStacks = {}, e.area = new N, e.legend = new s, e.scrollButtons = new d.SettingsScrollButtons, e.valueAxisDefault = new c, e.valueAxis = {}, e.chartTypes = {
                            columns: {
                                type: "columns"
                            },
                            line: {
                                type: "line"
                            },
                            candlestick: {
                                type: "candlestick"
                            }
                        }, e.stacks = {}, e.seriesDefault = {
                            type: "columns"
                        }, e.series = [], e.info = new M, e.events = new g, e.horizontal = !1, e.interaction = new A, e.localization = new k, e.style = {
                            columnColors: ["#55EDFF", "#E16540", "#BD52CE", "#FFC548", "#1EF9D1", "#525ECE", "#F04B69", "#BDE05B", "#56b9f7", "#2fc32f"],
                            lineColors: ["#55EDFF", "#E16540", "#BD52CE", "#FFC548", "#1EF9D1", "#525ECE", "#F04B69", "#BDE05B", "#56b9f7", "#2fc32f"]
                        }, e
                    }
                    return n(e, t), e.isSeriesEnabled = function(t, e) {
                        return !(!t.enabled || e && !t.enabledWhenAggregated || !e && !t.enabledWhenNotAggregated)
                    }, e.addSeparateSeries = function(t, e, i, n, r, s, a) {
                        var o = d.Helpers.extendCopy({}, t);
                        o.stack = r, o.id = "series" + d.Helpers.SeparatorChar + s, o.name = e, o.data = {
                            aggregation: n,
                            index: i
                        }, o.style = t.style, a.push(o)
                    }, e._hasSeriesSettingsChanged = function(t) {
                        return t.series || t.chartTypes || t.seriesDefault || t.stacks || t.style
                    }, e.prototype.apply = function(i, n) {
                        var r = i.valueAxis;
                        if (r) {
                            var s = [{
                                from: "style.baseLineColor",
                                to: "style.baseLine.lineColor"
                            }, {
                                from: "style.baseLineWidth",
                                to: "style.baseLine.lineWidth"
                            }, {
                                from: "style.hgridLineColor",
                                to: "style.hgrid.lineColor"
                            }, {
                                from: "style.title.alignment",
                                to: "style.title.align"
                            }, {
                                from: "style.title.font",
                                to: "style.title.textStyle.font"
                            }, {
                                from: "style.title.fillColor",
                                to: "style.title.textStyle.fillColor"
                            }, {
                                from: "style.valueLabel.font",
                                to: "style.valueLabel.textStyle.font"
                            }, {
                                from: "style.valueLabel.fillColor",
                                to: "style.valueLabel.textStyle.fillColor"
                            }];
                            for (var a in r) this.applyCompatibility(r[a], s, "valueAxis[" + a + "]")
                        }
                        this.applyCompatibility(i, [{
                            from: "valueAxis.default",
                            to: "valueAxisDefault"
                        }, {
                            from: "valueAxisDefault.style.baseLineColor",
                            to: "valueAxisDefault.style.baseLine.lineColor"
                        }, {
                            from: "valueAxisDefault.style.baseLineWidth",
                            to: "valueAxisDefault.style.baseLine.lineWidth"
                        }, {
                            from: "valueAxisDefault.style.hgridLineColor",
                            to: "valueAxisDefault.style.hgrid.lineColor"
                        }, {
                            from: "valueAxisDefault.style.title.alignment",
                            to: "valueAxisDefault.style.title.align"
                        }, {
                            from: "valueAxisDefault.style.title.font",
                            to: "valueAxisDefault.style.title.textStyle.font"
                        }, {
                            from: "valueAxisDefault.style.title.fillColor",
                            to: "valueAxisDefault.style.title.textStyle.fillColor"
                        }, {
                            from: "valueAxisDefault.style.valueLabel.font",
                            to: "valueAxisDefault.style.valueLabel.textStyle.font"
                        }, {
                            from: "valueAxisDefault.style.valueLabel.fillColor",
                            to: "valueAxisDefault.style.valueLabel.textStyle.fillColor"
                        }]);
                        var o = t.prototype.apply.call(this, i);
                        if (this._initializing || e._hasSeriesSettingsChanged(o)) {
                            this._initializing && !o.series && (o.series = []);
                            var l = this.series,
                                h = [],
                                u = null,
                                p = 0;
                            this._computedStacks = d.Helpers.clone(this.stacks);
                            for (var f = 0; f < l.length; f++) {
                                var g = l[f];
                                if (!g.valueAxis || "default" === g.valueAxis || this.valueAxis[g.valueAxis])
                                    if (g.data && 0 === g.data.index) d.Helpers.error("Value `0` references the timestamp and cannot be used when specifying `series.data.index`.");
                                    else if (g.data && 0 === g.data.countIndex) d.Helpers.error("Value `0` references the timestamp and cannot be used when specifying `series.data.countIndex`.");
                                else if ("candlestick" !== g.type || g.data && g.data.index) h.push(g);
                                else {
                                    if (void 0 === g.stack || null === g.stack) {
                                        u = "default" + d.Helpers.SeparatorChar + p++;
                                        var v = new m;
                                        v.name = g.name, this._computedStacks[u] = v
                                    }
                                    var y = g.data;
                                    if (null == y || null == y.high || null == y.low || null == y.open || null == y.close) {
                                        d.Helpers.error("Each candlestick series should define four data properties: low, high, open, close");
                                        continue
                                    }
                                    var S = g.localization;
                                    S || (S = this.chartTypes.candlestick.localization), S || (S = (new C).localization), e.addSeparateSeries(g, S.high || "high", y.high, "max", u, p++, h), e.addSeparateSeries(g, S.open || "open", y.open, "first", u, p++, h), e.addSeparateSeries(g, S.close || "close", y.close, "last", u, p++, h), e.addSeparateSeries(g, S.low || "low", y.low, "min", u, p++, h)
                                } else d.Helpers.error("The series reference a non-existant value axis `" + g.valueAxis + "`.")
                            }
                            this._computedSeries = d.SettingsHelper.mergeDefaultValues(h, this.seriesDefault, this.chartTypes, n.createInstance, n.getMapping, "series"), this.applySeriesColor(this._computedSeries)
                        }
                        if (this._initializing || o.valueAxis || o.valueAxisDefault || !this._computedValueAxisList.length) {
                            this._initializing && !o.valueAxis && (o.valueAxis = {});
                            for (var b = !1, x = 0; x < this._computedSeries.length; x++) {
                                var w = this._computedSeries[x];
                                b = b || "default" === w.valueAxis
                            }
                            this._computedValueAxisList = [], this._computedValueAxis = {};
                            var L = this.valueAxisDefault;
                            for (var T in this.valueAxis) {
                                var M = new c,
                                    k = this.valueAxis[T];
                                this.applyCompatibility(k, [{
                                    from: "style.baseLineColor",
                                    to: "style.baseLine.lineColor"
                                }, {
                                    from: "style.baseLineWidth",
                                    to: "style.baseLine.lineWidth"
                                }, {
                                    from: "style.hgridLineColor",
                                    to: "style.hgrid.lineColor"
                                }]), d.SettingsHelper.updateRecursive(M, L, d.SettingsMapping.LinearChartSettingsValueAxis, {}, "valueAxisDefault"), d.SettingsHelper.updateRecursive(M, k, d.SettingsMapping.LinearChartSettingsValueAxis, {}, "valueAxis[" + T + "]"), M.id = T, this._computedValueAxis[T] = M, this._computedValueAxisList.push(M)
                            }
                            if (b && !this.valueAxis.default) {
                                var P = d.Helpers.realClone(L);
                                P.id = "default", this._computedValueAxis[P.id] = P, this._computedValueAxisList.push(P)
                            }
                            this._computedValueAxisList.sort(function(t, e) {
                                return t.id.localeCompare(e.id)
                            })
                        }
                        return o
                    }, e.prototype.applySeriesColor = function(t) {
                        for (var e = 0, i = 0, n = this.theme.chartTypes == undefined ? this.style.columnColors : this.theme.chartTypes.columnColors ?? this.style.columnColors, r = this.theme.chartTypes == undefined ? this.style.lineColors : this.theme.chartTypes.lineColors ?? this.style.lineColors, s = 0; s < t.length; s++) {
                            var a = t[s];
                            "columns" === a.type && null == a.style.fillColor ? (a.style.fillColor = n[e], e = (e + 1) % n.length) : "line" === a.type && null == a.style.lineColor && (a.style.lineColor = r[i], i = (i + 1) % r.length)
                        }
                    }, e
                }(d.Settings);
                t.Settings = f;
                var g = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.onAnimationDone = null, e
                    }
                    return n(e, t), e
                }(d.SettingsEvents);
                t.SettingsEvents = g;
                var m = function() {
                    function t() {
                        this.name = "", this.type = "normal", this.separateNegativeValues = null, this.drawFullArea = null
                    }
                    return t
                }();
                t.SettingsStack = m;
                var v = function() {
                    function t() {
                        this.id = null, this.enabled = !0, this.invisible = !1, this.enabledWhenAggregated = !0, this.enabledWhenNotAggregated = !0, this.data = new S, this.type = "columns", this.valueAxis = "default", this.name = null, this.aggregatedName = null, this.unitName = null, this.nameLegend = null, this.showInLegend = !0, this.showInInfoPopup = !0, this.legendGroupId = null, this.legendGroupMode = "default", this.stack = null, this.cluster = null, this.style = new y
                    }
                    return t.getMapping = function(t, e) {
                        throw new Error("This method is abstract.")
                    }, t.createInstance = function(t, e) {
                        throw new Error("This method is abstract.")
                    }, t
                }();
                t.SettingsSeries = v;
                var y = function() {
                    function t() {
                        this.fillColor = null, this.lineColor = null, this.tooltipColor = null, this.tooltipGradient = null, this.tooltipShadowLightnessMinThreshold = 1, this.tooltipShadowLightnessMaxThreshold = 0, this.tooltipShadowSize = "0.5px", this.tooltipShadowColor = "rgba(0.0,0.0,0.0,1.0)", this.tooltipShadowBlur = "1.5px", this.fillGradient = null, this.fillGradientMode = null, this.lineGradient = null, this.lineGradientMode = null, this.fillPattern = null, this._fillPatternOpacity = 1, this._currentFillStyleKey = null, this._currentLegendFillStyleKey = null, this._currentLineStyleKey = null, this._currentLegendLineStyleKey = null, this.lineDash = null, this.lineDashOffset = 0, this.lineWidth = 1, this.shadowOffsetX = 1, this.shadowOffsetY = -1, this.shadowColor = null, this.legend = {
                            textColor: null,
                            marker: {
                                shape: null
                            }
                        }, this.depth = 0
                    }
                    return t
                }();
                t.SettingsSeriesStyle = y;
                var S = function() {
                    function t() {
                        this.source = "default", this.valueFunction = null, this.aggregation = "sum", this.percentile = .5, this.aggregatedValueFunction = null, this.noDataPolicy = "join", this.alwaysZeroMode = !1, this.aggregationFunction = null
                    }
                    return t
                }();
                t.SettingsSeriesData = S;
                var b = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.valueLabels = {
                            enabled: !1,
                            style: {
                                padding: 1,
                                margin: 0,
                                aspectRatio: 3,
                                align: "center",
                                textStyle: {
                                    fillColor: "rgba(185, 185, 185, 1)",
                                    font: "12px Arial"
                                },
                                backgroundStyle: {
                                    lineColor: "rgba(255,255,255,0.4)",
                                    fillColor: "rgba(255,255,255,0.4)"
                                }
                            },
                            position: "insideTopAuto",
                            xPosition: "center",
                            allowLabelSkip: !1,
                            allowOverlap: !1,
                            minFontSize: 7,
                            contentsFunction: null,
                            useStackedValue: 1,
                            showZeroData: !0,
                            showNullData: !0
                        }, e.style = new w, e.type = "columns", e
                    }
                    return n(e, t), e
                }(v);
                t.SettingsSeriesColumns = b;
                var x = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.valueLabels = {
                            enabled: !1,
                            style: {
                                padding: 2,
                                margin: 0,
                                aspectRatio: 3,
                                align: "center",
                                textStyle: {
                                    fillColor: "rgba(185, 185, 185, 1)",
                                    font: "12px Arial"
                                },
                                backgroundStyle: {
                                    lineColor: "rgba(255,255,255,0.4)",
                                    fillColor: "rgba(255,255,255,0.4)"
                                }
                            },
                            position: "value",
                            xPosition: "center",
                            allowLabelSkip: !1,
                            allowOverlap: !1,
                            minFontSize: 7,
                            contentsFunction: null,
                            useStackedValue: null,
                            showZeroData: !0,
                            showNullData: !0
                        }, e.style = new L, e.type = "line", e
                    }
                    return n(e, t), e
                }(v);
                t.SettingsSeriesLines = x;
                var C = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.style = new T, e.localization = {
                            high: "high",
                            low: "low",
                            open: "open",
                            close: "close"
                        }, e.type = "candlestick", e
                    }
                    return n(e, t), e
                }(v);
                t.SettingsSeriesCandleStick = C;
                var w = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.minHeight = 4, e.gradient = .8, e.fillGradientMode = null, e.fillGradientType = null, e.lineColor = "", e.padding = [1, 1], e.clusterPadding = [2, 2], e.shadowBlur = 3, e.depth = 0, e.depthBrightness = .5, e.radius = [0, 0, 0, 0], e.widthScale = 1, e.connectorLineID = null, e.connectorLinePositionX = "edge", e.enableOutlineLines = !0, e
                    }
                    return n(e, t), e
                }(y);
                t.SettingsSeriesColumnsStyle = w;
                var L = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.shadowBlur = 5, e.smoothing = !1, e.steps = !1, e.marker = {
                            shape: null,
                            width: 10,
                            fillColor: null,
                            lineColor: null,
                            lineWidth: 1
                        }, e.degenerateLinePolicy = "point", e.degenerateLineColumnWidthScale = 1, e.markerStyleFunction = null, e
                    }
                    return n(e, t), e
                }(y);
                t.SettingsSeriesLinesStyle = L;
                var T = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.pattern = "candlestick", e.padding = [1, 1], e.increase = {
                            bar: {
                                lineColor: "#2fc32f",
                                shadowColor: null,
                                lineDash: null,
                                lineWidth: 1,
                                shadowOffsetX: 1,
                                shadowOffsetY: -1,
                                shadowBlur: 0
                            },
                            candlestick: {
                                lineColor: "#2fc32f",
                                shadowColor: null,
                                lineDash: null,
                                lineWidth: 1,
                                shadowOffsetX: 1,
                                shadowOffsetY: -1,
                                shadowBlur: 0,
                                fillColor: "#2fc32f"
                            }
                        }, e.decrease = {
                            bar: {
                                lineColor: "#ec2e2e",
                                shadowColor: null,
                                lineDash: null,
                                lineWidth: 1,
                                shadowOffsetX: 1,
                                shadowOffsetY: -1,
                                shadowBlur: 0
                            },
                            candlestick: {
                                lineColor: "#ec2e2e",
                                shadowColor: null,
                                lineDash: null,
                                lineWidth: 1,
                                shadowOffsetX: 1,
                                shadowOffsetY: -1,
                                shadowBlur: 0,
                                fillColor: "#ec2e2e"
                            }
                        }, e
                    }
                    return n(e, t), e
                }(y);
                t.SettingsSeriesCandleStickStyle = T;
                var M = function() {
                    function t() {
                        this.enabled = !0, this.container = null, this.useStackedValue = !1, this.showNoData = !0, this.showZeroData = !0, this.showNullData = !0, this.showAtDataPoint = !1, this.position = "inside", this.valueFormatterFunction = null, this.aggregations = null, this.style = {
                            highlight: {
                                fillColor: "rgba(30,160,220,0.15)",
                                fadeIn: 200,
                                fadeOut: 200
                            }
                        }, this.advanced = {
                            contentsFunction: null,
                            showOnlyHoveredSeries: !1,
                            scope: null,
                            showHeader: !0
                        }
                    }
                    return t
                }();
                t.SettingsInfoPopup = M;
                var k = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.valueUnits = {
                            K: 1e3,
                            M: 1e6,
                            B: 1e9,
                            T: 1e12,
                            P: 1e15
                        }, e.noDataLabel = "No data", e.unnamedSeries = "Unnamed", e.toolbar = new P, e
                    }
                    return n(e, t), e
                }(d.SettingsLocalization);
                t.SettingsLocalization = k;
                var P = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.linButton = "Lin", e.logButton = "Log", e.linLogTitle = "Switch lin/log scale", e
                    }
                    return n(e, t), e
                }(d.SettingsLocalizationToolbar);
                t.SettingsLocalizationToolbar = P;
                var A = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.swipeSensitivity = .6, e.ignoreBottomAxis = !1, e.scrolling = new D, e.zooming = new I, e
                    }
                    return n(e, t), e
                }(d.SettingsInteraction);
                t.SettingsInteraction = A;
                var I = function() {
                    function t() {
                        this.enabled = !0, this.wheel = !1, this.swipe = !0, this.fingers = !0, this.fingersMaxZoom = 10, this.sensitivity = 2, this.wheelSensitivity = 1.5, this.keyboardFactor = 2, this.upDownTreshold = 10, this.zoomHighlightThreshold = 1.5
                    }
                    return t
                }();
                t.SettingsInteractionZooming = I;
                var D = function() {
                    function t() {
                        this.enabled = !0, this.swipePageFlipping = !0, this.keyboardScrollingFactor = 1, this.kineticFriction = 1e-6, this.maxAnimationLength = 1500
                    }
                    return t
                }();
                t.SettingsInteractionScrolling = D;
                var N = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.style = new O, e
                    }
                    return n(e, t), e
                }(d.SettingsArea);
                t.SettingsArea = N;
                var O = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.noData = {
                            fillColor: "#EEE",
                            image: null
                        }, e.zoomHighlight = {
                            fillColor: "rgba(30,160,220,0.15)",
                            fadeIn: 100,
                            fadeOut: 500
                        }, e.zoomHighlightInactive = {
                            fillColor: "rgba(30,160,220,0.08)"
                        }, e
                    }
                    return n(e, t), e
                }(d.SettingsAreaStyle);
                t.SettingsAreaStyle = O,
                    function(e) {
                        var i = function(t) {
                            function e(e, i) {
                                var n, r = e.settings.localization.toolbar;
                                i.title = i.title || r.linLogTitle, i.label = i.label || r.linButton, n = t.call(this, e, i) || this;
                                var s = (i.cssClass || "") + " BMCH-bar-btn BMCH-bar-btn-l";
                                return n.linClass = s + "in", n.logClass = s + "og", n.logScale = n.chart.scene.settings.valueAxisDefault.logScale, n.updateElements(), n
                            }
                            return n(e, t), e.prototype.onClick = function(e) {
                                this.chart.setLogScale(!this.chart.scene.settings.valueAxisDefault.logScale, "user"), t.prototype.onClick.call(this, e)
                            }, e.prototype.updateElements = function() {
                                var t = this.chart.settings.localization.toolbar,
                                    e = this.logScale;
                                this.a.className = e ? this.logClass : this.linClass, this.options.showLabel !== !1 && d.Helpers.addStrictHtml(this.p, e ? t.logButton : t.linButton, !0)
                            }, e.prototype.onSceneChange = function(t) {
                                var e = this.chart.scene.settings.valueAxisDefault.logScale;
                                t.settings && e !== this.logScale && (this.logScale = e, this.updateElements())
                            }, e
                        }(d.Bar.Button);
                        e.LinLogButton = i, d.Bar.ToolbarItemNames.logScale = function(e, i) {
                            return new t.Bar.LinLogButton(e, i)
                        }
                    }(e = t.Bar || (t.Bar = {}));
                var F = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.enabled = !0, e.export = !0, e.back = !0, e.zoomOut = !0, e.logScale = !0, e
                    }
                    return n(e, t), e
                }(d.SettingsToolbar);
                t.SettingsToolbar = F;
                var E = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 1e3, i.chart = null, i.scene = null, i.events = null, i.pointer1 = null, i.pointer2 = null, i.t1 = 0, i.t2 = 0, i.x1 = 0, i.x2 = 0, i.scaleOrigin = null, i.initialZoom = null, i.dragStartFrom = null, i.dragStartTo = null, i.active = !1, i.lastScrollingY = 0, i.scrollingActive = !1, i.scalingActive = 0, i.hadSecondPointer = !1, i.wheelOrigin = null, i.wheelProportion = null, i.highlight = null, i.highlightRemoveWhenDone = !1, i._animationsDone = !0, i.chart = e, i.scene = e.scene, i.events = e.events, i._settings = e.settings.interaction, i.inertiaF = new d.Inertia(1, 0, !0), i.inertiaT = new d.Inertia(1, 0, !0), i
                    }
                    return n(e, t), e.prototype.getVisibleRange = function() {
                        return this._currentTo - this._currentFrom
                    }, e.prototype.onZoomOut = function(t, e, i, n) {
                        return null == n && (n = 2), {
                            from: i - (i - t) * n,
                            to: i + (e - i) * n,
                            center: i
                        }
                    }, e.prototype.onZoomIn = function(t, e, i, n) {
                        return void 0 === n && (n = .5), null == n && (n = .5), {
                            from: i - (i - t) * n,
                            to: i + (e - i) * n,
                            center: i
                        }
                    }, e.prototype.onScroll = function(t, e, i) {
                        return "<" === i ? {
                            from: 2 * t - e,
                            to: t
                        } : {
                            from: e,
                            to: 2 * e - t
                        }
                    }, e.prototype.onGoHome = function(t, e) {
                        return {
                            from: t,
                            to: e,
                            origin: e
                        }
                    }, e.prototype.getFrom = function(t) {
                        return null == t || t === 1 / 0 ? this.inertiaF.getTargetValue() : this.inertiaF.getValue(t)
                    }, e.prototype.getTo = function(t) {
                        return null == t || t === 1 / 0 ? this.inertiaT.getTargetValue() : this.inertiaT.getValue(t)
                    }, e.prototype.setFrom = function(t, e, i, n) {
                        void 0 === e && (e = !1), void 0 === n && (n = !1), e ? (this.inertiaF.setTarget(t, i, void 0, n ? this._settings.scrolling.maxAnimationLength : null), this._animationsDone = !1) : (this._currentFrom = t, this.inertiaF.jump(t))
                    }, e.prototype.setTo = function(t, e, i, n) {
                        void 0 === e && (e = !1), void 0 === n && (n = !1), e ? (this.inertiaT.setTarget(t, i, void 0, n ? this._settings.scrolling.maxAnimationLength : null), this._animationsDone = !1) : (this._currentTo = t, this.inertiaT.jump(t))
                    }, e.prototype.onWheel = function(t) {
                        if (null === this.pointer1) {
                            var e = this.getFrom(),
                                i = this.getTo();
                            if (!(e >= i)) {
                                var n = this._settings;
                                if (n.zooming.wheel && n.zooming.enabled && this.xyInArea(t.x, t.y)) {
                                    this.active = !0;
                                    var r = this.wheelOrigin;
                                    null === r && (this.wheelOrigin = this.scaleOrigin = r = this.xyToPosition(t.x, t.y), this.wheelProportion = (r - e) / (i - e), this.x1 = t.x);
                                    var s = this.wheelProportion,
                                        a = Math.pow(Math.max(1.1, n.zooming.wheelSensitivity), .004 * t.wheely);
                                    e = r - (i - e) * s * a, i = r + (i - e) * (1 - s) * a;
                                    var o = t.wheely < 0 ? 1 : -1,
                                        l = d.Helpers.performanceNow();
                                    this.handleZoomWheel(e, i, r, l, o), t.consumed = !0, this.active = !1
                                }
                            }
                        }
                    }, e.prototype.onPointerDown = function(t) {
                        this.wheelOrigin = null;
                        var e = this._settings;
                        if (this.xyInArea(t.x, t.y) && (e.scrolling.enabled || e.zooming.enabled)) {
                            var i = this.xyToPosition(t.x, t.y),
                                n = d.Helpers.performanceNow(),
                                r = this.getFrom(n),
                                s = this.getTo(n);
                            if (r > s) {
                                var a = s;
                                s = r, r = a
                            }
                            null === this.pointer1 ? (this.pointer1 = t.identifier, this.x1 = t.x, this.t1 = i, this.scaleOrigin = i, this.onStartDragging(r, s, i), this.lastScrollingY = t.y, this.dragStartFrom = r, this.dragStartTo = s, this.dragCurFrom = r, this.dragCurTo = s, t.consumed = !0, this.inertiaF.finished(n) && this.inertiaT.finished(n) || (this.setFrom(r), this.setTo(s), this.stopAnimations(), this.scrollingActive = !0), this.chart.cancelChartUpdateNotify(), t.consumed = !0) : null === this.pointer2 ? (this.pointer2 = t.identifier, this.x2 = t.x, this.t2 = i, this.initialZoom = s - r, this.scaleOrigin = (this.t1 + this.t2) / 2, t.consumed = !0) : (this.scalingActive || this.scrollingActive) && (t.consumed = !0)
                        }
                    }, e.prototype.xyToDragPosition = function(t, e) {
                        return this.dragCurFrom + (t - this.scene.x0) / this.scene.width * (this.dragCurTo - this.dragCurFrom)
                    }, e.prototype.scaleViewRange = function(t, e, i) {
                        var n = Math.pow(1 + this._settings.zooming.sensitivity, -t.dy / this.scene.height);
                        return e = (e - this.scaleOrigin) * n + this.scaleOrigin, i = (i - this.scaleOrigin) * n + this.scaleOrigin, {
                            from: e,
                            to: i
                        }
                    }, e.prototype.onPointerMove = function(t) {
                        null !== this.wheelOrigin && Math.abs(this.x1 - t.x) > this._settings.zooming.sensitivity && (this.wheelOrigin = null)
                    }, e.prototype.onPointerDrag = function(t) {
                        var e = this.dragCurFrom,
                            i = this.dragCurTo,
                            n = this._settings;
                        if (t.identifier === this.pointer1 && null === this.pointer2) {
                            this.scaleOrigin = this.t1, this.x1 = t.x;
                            var r = t.y - this.lastScrollingY;
                            if (Math.abs(t.dx) > 4 * Math.abs(t.dy) && n.scrolling.enabled && (this.scrollingActive = !0), !this.hadSecondPointer && (n.zooming.enabled && n.zooming.swipe && Math.abs(r) > n.zooming.upDownTreshold ? this.scalingActive = r > 0 ? 1 : -1 : this.scalingActive = 0, this.scalingActive)) {
                                this.clearZoomHighlight();
                                var s = this.scaleViewRange(t, e, i);
                                e = s.from, i = s.to, t.consumed = !0
                            }
                            if (this.scrollingActive) {
                                var a = this.xyToDragPosition(t.x, t.y),
                                    o = this.t1 - a;
                                e += o, i += o
                            }
                        } else if (t.identifier === this.pointer1 && n.scrolling.enabled) {
                            this.x1 = t.x, this.clearZoomHighlight();
                            var l = this.twoPointerDrag();
                            e = l.from, i = l.to
                        } else {
                            if (t.identifier !== this.pointer2 || !n.scrolling.enabled) return void((this.scalingActive || this.scrollingActive) && (t.consumed = !0));
                            this.x2 = t.x, this.clearZoomHighlight();
                            var l = this.twoPointerDrag();
                            e = l.from, i = l.to
                        }
                        this.dragCurFrom = e, this.dragCurTo = i;
                        var h = this.onSnapWhileDragging(e, i, this.scaleOrigin, this.scrollingActive, this.scalingActive);
                        this.goToPositionDragging(h.from, h.to), t.consumed = !0
                    }, e.prototype.twoPointerDrag = function() {
                        var t = this._settings,
                            e = t.zooming.fingersMaxZoom;
                        this.scaleOrigin = (this.t1 + this.t2) / 2;
                        var i = this.t2 - this.t1,
                            n = this.dragCurFrom,
                            r = this.dragCurTo,
                            s = this.xyToDragPosition(this.x1, 0),
                            a = this.xyToDragPosition(this.x2, 0);
                        if (t.scrolling.enabled && t.zooming.enabled && t.zooming.fingers && 0 !== i) {
                            var o = this.initialZoom,
                                l = ((s + a) / 2 - this._currentFrom) / (this._currentTo - this._currentFrom),
                                h = (a - s) / (this._currentTo - this._currentFrom),
                                u = void 0;
                            u = i * h > 0 ? i / h : 1 / 0;
                            var c = o * e,
                                d = o / e;
                            u = Math.max(d, Math.min(c, u)), n = this.scaleOrigin - l * u, r = this.scaleOrigin + (1 - l) * u, this.scalingActive = u < o ? 1 : -1, this.scrollingActive = !0, this.hadSecondPointer = !0
                        } else if (t.scrolling.enabled) {
                            var p = (this.t1 + this.t2) / 2,
                                f = (s + a) / 2,
                                g = p - f;
                            n += g, r += g, this.scrollingActive = !0
                        }
                        return {
                            from: n,
                            to: r
                        }
                    }, e.prototype.onPointerUp = function(t) {
                        var e = this._settings,
                            i = d.Helpers.performanceNow(),
                            n = this.scrollingActive,
                            r = this.scalingActive;
                        if (t.identifier === this.pointer2) this.pointer2 = null, t.consumed = !0, this.scaleOrigin = this.t1;
                        else if (t.identifier === this.pointer1 && null !== this.pointer2) this.pointer1 = this.pointer2, this.pointer2 = null, this.t1 = this.t2, this.scaleOrigin = this.t1, t.consumed = !0;
                        else if (t.identifier === this.pointer1) {
                            this.pointer1 = null, this.active = !0;
                            var s = void 0,
                                a = void 0,
                                o = void 0;
                            if (e.scrolling.enabled) {
                                o = -t.vx, o = o > 0 ? Math.min(o, .002 * this.scene.width) : Math.max(o, .002 * -this.scene.width);
                                var l = this.getVisibleRange();
                                o = o * l / this.scene.width
                            } else o = 0;
                            if (this.updateFriction(i), this.inertiaF.jump(this._currentFrom, o, i), this.inertiaT.jump(this._currentTo, o, i), this._animationsDone = !1, e.scrolling.swipePageFlipping && t.swipeUp && this.scalingActive && t.swipeSpeed > this.scene.height / e.swipeSensitivity) {
                                var h = this.onZoomOut(this.dragStartFrom, this.dragStartTo, this.scaleOrigin);
                                s = h.from, a = h.to
                            } else if (e.scrolling.swipePageFlipping && t.swipeDown && this.scalingActive && t.swipeSpeed > this.scene.height / e.swipeSensitivity) {
                                var u = this.onZoomIn(this.dragStartFrom, this.dragStartTo, this.scaleOrigin);
                                s = u.from, a = u.to
                            } else if (n || r) {
                                if (n && !r && e.scrolling.swipePageFlipping && (t.swipeLeft || t.swipeRight) && t.swipeSpeed > this.scene.width / e.swipeSensitivity * .7) {
                                    var c = t.swipeLeft ? "<" : ">",
                                        p = this.onScroll(this.dragStartFrom, this.dragStartTo, c);
                                    s = p.from, a = p.to
                                } else s = this._currentFrom, a = this._currentTo;
                                this.scaleOrigin = (s + a) / 2
                            }
                            if (s || a) {
                                var f = this.onSnapAfterDragging(this.inertiaF.getTargetValue(), this.inertiaT.getTargetValue(), this.scaleOrigin, n || 0 !== r, r);
                                f && this.goToPosition(f.from, f.to, !0, i, !1), t.consumed = !0, this.scaleOrigin = null
                            }
                            this.hadSecondPointer = !1, this.active = !1, this.dragStartFrom = null, this.dragStartTo = null, this.scalingActive = 0, this.scrollingActive = !1
                        } else(r || n) && (t.consumed = !0)
                    }, e.prototype.onPointerCancel = function(t) {
                        t.identifier === this.pointer2 ? (this.pointer2 = null, this.scaleOrigin = this.t1) : t.identifier === this.pointer1 && null !== this.pointer2 ? (this.pointer1 = this.pointer2, this.t1 = this.t2, this.scaleOrigin = this.t1, this.pointer2 = null, this.t2 = null) : t.identifier === this.pointer1 && (this.active = !0, this.pointer1 = null, this.t1 = null, this.scaleOrigin = null, this.dragStartFrom = null, this.dragStartTo = null, this.scalingActive = 0, this.scrollingActive = !1, this.active = !1, this.hadSecondPointer = !1)
                    }, e.prototype.onKeyDown = function(t) {}, e.prototype.goToPositionDragging = function(t, e) {
                        this.setFrom(t), this.setTo(e), this.clearZoomHighlight(), this.onPositionChanged(t, e)
                    }, e.prototype.goToPosition = function(t, e, i, n, r) {
                        if (t < e)
                            if (this._currentFrom < this._currentTo || (i = !1), this.stopAnimations(), i) {
                                var s = this._settings.zooming.zoomHighlightThreshold,
                                    a = this._currentFrom,
                                    o = this._currentTo;
                                this.updateFriction(n, t, e), this.setFrom(t, !0, n, r), this.setTo(e, !0, n, r);
                                var l = Math.abs((t - e) / (a - o + 1));
                                if (l < 1 / s) this.setZoomHighlight(t, e, !0);
                                else if (l > s) {
                                    var h = null !== this.dragStartFrom ? this.dragStartFrom : a,
                                        u = null !== this.dragStartTo ? this.dragStartTo : o;
                                    this.setZoomHighlight(h, u, !1)
                                }
                                this.events.notifySceneChanges({
                                    requestPaint: !0
                                })
                            } else this.setFrom(t), this.setTo(e), this.clearZoomHighlight(), this.onPositionChanged(t, e), this.onAnimationDone(t, e), this._animationsDone = !0
                    }, e.prototype.doAnimations = function(t) {
                        if (!this._animationsDone) {
                            var e = t.timeStamp,
                                i = this.inertiaF.finished(e),
                                n = this.inertiaT.finished(e);
                            this._animationsDone = i && n;
                            var r = this._currentFrom = this.getFrom(e),
                                s = this._currentTo = this.getTo(e);
                            this._animationsDone || isNaN(r + s) ? (this.stopAnimations(), this.onPositionChanged(r, s, !1), this.onAnimationDone(r, s)) : (this.onPositionChanged(r, s, !0), t.animating = !0)
                        }
                    }, e.prototype.stopAnimations = function() {
                        this.highlight && (this.highlightRemoveWhenDone ? this.clearZoomHighlight() : (this.highlight.style.fillColor = this.scene.settings.area.style.zoomHighlightInactive.fillColor, this.events.notifySceneChanges({
                            highlight: !0
                        })))
                    }, e.prototype.abort = function() {
                        this.isActive() && (this.pointer2 && this.onPointerCancel({
                            identifier: this.pointer2
                        }), this.pointer1 && this.onPointerCancel({
                            identifier: this.pointer1
                        }), this.setFrom(this._currentFrom), this.setTo(this._currentTo), this.clearZoomHighlight(), this._animationsDone = !0)
                    }, e.prototype.isActive = function() {
                        return this.active || null != this.pointer1 || !this._animationsDone
                    }, e.prototype.clearZoomHighlight = function() {
                        this.highlight && (this.scene.removeHighlight("zoomTrace"), this.highlight = null, this.events.notifySceneChanges({
                            highlight: !0
                        }))
                    }, e.prototype.setZoomHighlight = function(t, e, i) {
                        this.highlight = this.scene.setHighlight("zoomTrace", t, e, this.scene.settings.area.style.zoomHighlight), this.highlightRemoveWhenDone = i, this.events.notifySceneChanges({
                            highlight: !0
                        })
                    }, e.prototype.updateFriction = function(t, e, i) {
                        var n = this.getVisibleRange();
                        if (null != e && null != i) {
                            var r = i - e,
                                s = .3,
                                a = n * (1 - s) > r,
                                o = n * (1 + s) < r;
                            o && (n = r), (a || o) && (n *= 2)
                        }
                        var l = n * this._settings.scrolling.kineticFriction;
                        this.inertiaF.setAcceleration(l, t), this.inertiaT.setAcceleration(l, t)
                    }, e
                }(d.ChartElement);
                t.Scrolling = E;
                var H = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.highlights = {}, e.dataLabels = {
                            spots: {},
                            fontWidths: Object.create(null),
                            metaData: {
                                availableWidth: 0,
                                styles: null,
                                reducedStyles: []
                            }
                        }, e.transform = [1, 0, 0, 1, 0, 0], e.invertedTransform = [1, 0, 0, 1, 0, 0], e.bottomAxisSize = 0, e.isAggregated = !1, e
                    }
                    return n(e, t), e.prototype.xyInChart = function(t, e) {
                        return t >= this.x0 && t < this.x0 + this.width && e >= this.y0 && e < this.y0 + this.height
                    }, e.prototype.xyInChartOrBottom = function(t, e) {
                        var i = this.settings.interaction.ignoreBottomAxis ? 0 : this.bottomAxisSize;
                        return t >= this.x0 && t < this.x0 + this.width && e >= this.y0 && e < this.y0 + this.height + i
                    }, e.prototype.xyInBottom = function(t, e) {
                        return !this.settings.interaction.ignoreBottomAxis && (t >= this.x0 && t < this.x0 + this.width && e >= this.y0 + this.height && e < this.y0 + this.height + this.bottomAxisSize)
                    }, e.prototype.timeToX = function(t) {
                        throw "Need to implement timeToX"
                    }, e.prototype.xToTime = function(t) {
                        throw "Need to implement xToTime"
                    }, e.prototype.setHighlight = function(t, e, i, n) {
                        var r = this.highlights[t];
                        return r ? (r.from = e, r.to = i, r.style = n, r.removed = !1) : (r = {
                            from: e,
                            to: i,
                            style: n,
                            removed: !1
                        }, this.highlights[t] = r), r
                    }, e.prototype.removeHighlight = function(t) {
                        var e = this.highlights[t];
                        e && (e.removed = !0, delete this.highlights[t])
                    },/* e.prototype.prepareRotationMatrix = function(t) {
                        const e = [
                            [0, -1, 0],
                            [1, 0, 0],
                            [0, 0, 1]
                        ];
                          
                        const i = [
                            [1, 0, this.height + this.topMargin + this.bottomMargin],
                            [0, 1, 0],
                            [0, 0, 1]
                        ];
                          
                        const n = multiplyMatrices(i, e); // Reversed order of matrices in multiplication
                          
                        const invertedN = invertMatrix(n);
                          
                        const transform = mat3ToMat2d(n);
                        const invertedTransform = mat3ToMat2d(invertedN);
                          
                        this.transform = transform.slice(); // Copy values of transform to this.transform
                        this.invertedTransform = invertedTransform.slice(); // Copy values of invertedTransform to this.invertedTransform
                          
                        function multiplyMatrices(a, b) {
                            const result = [];
                            for (let i = 0; i < 3; i++) {
                                result[i] = [];
                                for (let j = 0; j < 3; j++) {
                                    let sum = 0;
                                    for (let k = 0; k < 3; k++) {
                                        sum += a[i][k] * b[k][j];
                                    }
                                    result[i][j] = sum;
                                }
                            }
                            return result;
                        }
                          
                        function mat3ToMat2d(matrix) {
                            return [matrix[0][0], matrix[0][1], matrix[1][0], matrix[1][1], matrix[0][2], matrix[1][2]];
                        }
                          
                        function invertMatrix(matrix) {
                            const det = matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0];
                            if (det === 0) throw new Error("Matrix is not invertible.");
                            const invDet = 1.0 / det;
                            return [
                                [matrix[1][1] * invDet, -matrix[0][1] * invDet, (matrix[0][1] * matrix[2][2] - matrix[1][1] * matrix[2][0]) * invDet],
                                [-matrix[1][0] * invDet, matrix[0][0] * invDet, (-matrix[0][0] * matrix[2][2] + matrix[1][0] * matrix[2][0]) * invDet],
                                [0, 0, 1]
                            ];
                        }                                                                    
                    },*/ e.prototype.assignTransform = function(t, e) {
                        for (var i = 0; i < t.length; i++) t[i] = e[i]
                    }, e
                }(d.Scene);
                t.Scene = H;
                var R = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 2e3, i.paintOrder = 45, i.updateOrder = 700, i.scene = null, i.customId = 0, i.animating = !1, i.highlights = {}, i.chart = e, i.scene = e.scene, i
                    }
                    return n(e, t), e.prototype.doAnimations = function(t) {
                        if (t.changes.highlight) {
                            var e = [];
                            for (var i in this.highlights) {
                                var n = this.highlights[i];
                                n.exiting = !0, n.origin.removed && (delete this.highlights[i], n.animator = null, e.push(n))
                            }
                            for (var r = 0; r < e.length; r++) {
                                var n = e[r];
                                this.highlights["__" + ++this.customId] = n
                            }
                            for (var i in this.scene.highlights) {
                                var s = this.scene.highlights[i];
                                if (this.highlights[i]) {
                                    var n = this.highlights[i];
                                    n.exiting = !1, n.from = s.from, n.to = s.to, n.style = d.Helpers.clone(s.style)
                                } else {
                                    var n = {
                                        from: s.from,
                                        to: s.to,
                                        style: d.Helpers.clone(s.style),
                                        animator: null,
                                        exiting: !1,
                                        origin: s
                                    };
                                    this.highlights[i] = n, s.style.fadeIn > 0 && (this.animating = !0, n.animator = new d.ColorAnimator(d.Colors.derive(d.Colors.parse(n.style.fillColor), 1, 0), n.style.fillColor, n.style.fadeIn, "=", t.timeStamp))
                                }
                            }
                            for (var i in this.highlights) {
                                var n = this.highlights[i];
                                if (n.exiting && !n.animator) {
                                    var a = n.style;
                                    a.fadeOut > 0 ? (this.animating = !0, n.animator = new d.ColorAnimator(a.fillColor, d.Colors.derive(d.Colors.parse(a.fillColor), 1, 0), a.fadeOut, "=", t.timeStamp)) : delete this.highlights[i]
                                }
                            }
                        }
                        if (this.animating) {
                            var o = !1,
                                l = t.timeStamp;
                            for (var i in this.highlights) {
                                var n = this.highlights[i];
                                n.animator && (n.style.fillColor = n.animator.get(l), n.animator.finished(l) ? (n.animator = null, n.exiting && delete this.highlights[i]) : o = !0)
                            }
                            this.animating = o, t.animating = t.animating || o
                        }
                    }, e.prototype.paintScene = function(t) {
                        var e = this.scene.x0,
                            i = e + this.scene.width,
                            n = Math.round(this.scene.y0),
                            r = this.scene.height,
                            s = t.context,
                            a = this.chart.settings.horizontal;
                        a && s.transform.apply(s, this.chart.scene.transform);
                        for (var o in this.highlights) {
                            var l = this.highlights[o],
                                h = Math.max(this.scene.timeToX(l.from), e),
                                u = Math.min(this.scene.timeToX(l.to), i);
                            u < e || h > i || (d.Graphics.rectStyle(s, l.style), s.fillRect(h, n, u - h, r))
                        }
                        a && s.transform.apply(s, this.chart.scene.invertedTransform)
                    }, e
                }(d.ChartElement);
                t.Highlights = R;
                var z = function(t) {
                    function e(e) {
                        var i = t.call(this, e) || this;
                        return i.rightAxis = null, i.leftAxis = null, i.timeAxisPanel = null, i
                    }
                    return n(e, t), e.prototype.createDom = function(e) {
                        t.prototype.createDom.call(this, e), this.timeAxisPanel = d.Helpers.createDom("bmch-div", "BMCH-TC-timeAxis", null, this.backgroundContainer), d.DomLayer.setContainerStyle(this.timeAxisPanel), this.leftAxis = d.Helpers.createDom("bmch-div", "BMCH-valueAxis", null, this.backgroundContainer), d.DomLayer.setContainerStyle(this.leftAxis), this.rightAxis = d.Helpers.createDom("bmch-div", "BMCH-valueAxis", null, this.backgroundContainer), d.DomLayer.setContainerStyle(this.rightAxis)
                    }, e.prototype.doAnimations = function(e) {
                        if (t.prototype.doAnimations.call(this, e), e.changes.bounds) {
                            var i = this.scene.x0,
                                n = this.scene.width,
                                r = this.scene.leftMargin,
                                s = this.scene.rightMargin,
                                a = this.scene.bottomMargin,
                                o = this.scene.chartWidth - (i + n),
                                l = this.scene.y0 + this.scene.height;
                            this.isChartHorizontal() && (a = this.scene.rightMargin, s = this.scene.topMargin, r = this.scene.bottomMargin, n = this.scene.height, o = this.scene.y0, i = this.scene.chartHeight - (this.scene.y0 + this.scene.height)), this.background.style.left = i + "px", this.background.style.right = o + "px", this.leftAxis.style.width = r + "px", this.leftAxis.style.bottom = a + "px", this.rightAxis.style.width = s + "px", this.rightAxis.style.bottom = a + "px", this.timeAxisPanel.style.top = l + "px", this.timeAxisPanel.style.left = i + "px", this.timeAxisPanel.style.width = n + "px", this.outerBorder.style.left = i + "px", this.outerBorder.style.width = n + "px"
                        }
                    }, e
                }(d.DomLayer);
                t.DomLayer = z;
                var B = function() {
                    function t() {}
                    return t.toScreenCoords = function(t, e) {
                        for (var i = e.zeroY, n = [], r = t.length - 1; r >= 0; r--) {
                            var s = t[r],
                                a = i - e.valueToRelativeY(s[0]);
                            n.push([a, s[1]])
                        }
                        return n.sort(function(t, e) {
                            return t[0] - e[0]
                        }), n
                    }, t.colorAt = function(t, e, i) {
                        void 0 === i && (i = !1);
                        var n = i ? t : this.sortGradient(t),
                            r = null !== e && void 0 !== e,
                            s = "",
                            a = n[n.length - 1],
                            o = n[0];
                        if (!r || e >= a[0]) s = a[1];
                        else if (e <= o[0]) s = o[1];
                        else {
                            for (var l = 0, h = 1; h < n.length; h++)
                                if (e <= n[h][0]) {
                                    l = h;
                                    break
                                } var u = n[l],
                                c = n[l - 1],
                                p = (e - c[0]) / (u[0] - c[0]);
                            s = d.Colors.blend(c[1], u[1], p)
                        }
                        return s
                    }, t.sortGradient = function(t) {
                        return t.map(function(t) {
                            return t
                        }).sort(function(t, e) {
                            return t[0] - e[0]
                        })
                    }, t.generateGradient = function(t, e, i, n, r) {
                        for (var s = t.createLinearGradient(i, n, i, n + r), a = e.map(function(t) {
                                return [(t[0] - n) / r, t[1]]
                            }), o = null, l = 0; l < a.length; l++) {
                            var h = a[l],
                                u = h[0],
                                c = h[1];
                            if (u > 0) {
                                if (o && o[0] < 0 && s.addColorStop(0, d.Colors.blend(o[1], c, (0 - o[0]) / (u - o[0]), !1)), u > 1) {
                                    o && s.addColorStop(1, d.Colors.blend(o[1], c, (1 - o[0]) / (u - o[0]), !1));
                                    break
                                }
                                s.addColorStop(u, c)
                            }
                            o = h
                        }
                        return s
                    }, t
                }();
                t.Gradients = B;
                var U = function(t) {
                    function e(e) {
                        var i = t.call(this, e, e.settings.scrollButtons) || this;
                        return i.linearChart = e, i
                    }
                    return n(e, t), e.prototype.isHorizontal = function() {
                        return this.linearChart.settings.horizontal
                    }, e.prototype.setPosition = function(t, e, i) {
                        return this.linearChart.scrolling.goToPosition(t, e, !0, i, !0)
                    }, e
                }(d.ScrollButtons);
                t.ScrollButtons = U;
                var W = function(t) {
                    function e(e, i, n) {
                        var r = t.call(this, e, i, n) || this;
                        return r.scrolling = null, r.renderer = null, /*r.scene.prepareRotationMatrix(e.horizontal),*/ r
                    }
                    return n(e, t), e.prototype.createDomLayer = function() {
                        return new z(this)
                    }, e.prototype.notifyAnimationDone = function() {
                        var t = this;
                        window.setTimeout(function() {
                            t.removed || t.dispatchEventParams("animationDone", t.createEventArguments(null, "api"), null)
                        }, 0)
                    }, e.prototype.processChangedSettings = function(t) {
                        var e = t.settingsChanges;
                        e && (f._hasSeriesSettingsChanged(e) && (t.linearChartSeries = !0), (e.valueAxis || e.valueAxisDefault) && (t.linearChartValueAxis = !0))
                    }, e.prototype.updateSettings = function(e, i) {
                        t.prototype.updateSettings.call(this, e, i)
                    }, e.prototype.setLogScale = function(t, e) {
                        var i = {};
                        for (var n in this.settings.valueAxis) i[n] = {
                            logScale: t
                        };
                        this.updateSettings({
                            valueAxisDefault: {
                                logScale: t
                            },
                            valueAxis: i
                        }, e)
                    }, e.prototype.finalInitialize = function() {
                        t.prototype.finalInitialize.call(this), this.legend = this.events.addElement(new h(this))
                    }, e.prototype.getEnabledSeries = function() {
                        for (var t = [], e = this.settings._computedSeries, i = 0, n = e.length; i < n; i++) f.isSeriesEnabled(e[i], this.scene.isAggregated) && t.push(e[i]);
                        return t
                    }, e.prototype.getSeries = function() {
                        for (var t = [], e = this.settings._computedSeries, i = 0, n = e.length; i < n; i++) t.push(e[i]);
                        return t
                    }, e
                }(d.Impl);
                t.Impl = W;
                var G = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 10, i.t0 = 0, i.t1 = 0, i.object = null, i.activePointer = null, i.pointerX = 0, i.pointerY = 0, i.lastYOffset = 0, i.calcYOffset = function() {
                            if (!i.chart.settings.info.showAtDataPoint) return 0;
                            var t = i.chart.renderer.exportData(i.t0, i.t1),
                                e = i.scene.hoverSeriesItem && i.scene.hoverSeriesItem.seriesIndex ? i.scene.hoverSeriesItem.seriesIndex : null,
                                n = null;
                            if (null !== e && i.scene.settings._computedSeries.length > e && (n = i.scene.settings._computedSeries[e]), null !== e && void 0 !== e && null !== n && void 0 !== n) {
                                var r = t.map(function(t, e) {
                                    return t.data[0].config.id === n.id ? e : void 0
                                }).filter(function(t) {
                                    return void 0 !== t
                                })[0];
                                if (void 0 !== r && null !== r) {
                                    var s = t[r].stack.va,
                                        a = t[r].data[0].values,
                                        o = a ? s.valueToScreenY(a.max) : i.lastYOffset;
                                    return i.lastYOffset = o, o
                                }
                            }
                            return i.lastYOffset
                        }, i.computeSeriesColor = function(t, e, n, r) {
                            var s, a, o = i.getSeriesStyle(e, t, n);
                            e.config instanceof b ? (s = o.fillGradient ? o.fillGradient : o.fillColor, a = o.lineGradient ? o.lineGradient : o.lineColor) : (s = o.lineGradient ? o.lineGradient : o.lineColor, a = o.fillGradient ? o.fillGradient : o.fillColor), s && "transparent" !== s || (s = a), o.tooltipColor && (s = o.tooltipColor), o.tooltipGradient && (s = o.tooltipGradient), null === s || void 0 === s || "string" == typeof s || s instanceof String || (s = B.colorAt(s, r));
                            var l = d.Colors.parse(s);
                            return l.A = 1, d.Colors.format(l)
                        }, i.computeTextShadow = function(t, e, n, r) {
                            var s = d.Colors.lightness(d.Colors.parse(r));
                            null !== s && (s /= 255);
                            var a = i.getSeriesStyle(e, t, n),
                                o = a.tooltipShadowLightnessMinThreshold,
                                l = a.tooltipShadowLightnessMaxThreshold,
                                h = "";
                            if (null !== s && (s > o || s < l)) {
                                var u = a.tooltipShadowSize,
                                    c = a.tooltipShadowColor,
                                    p = a.tooltipShadowBlur,
                                    f = ["-" + u + " -" + u + " " + p + " " + c + ",", "0        -" + u + " " + p + " " + c + ",", u + "  -" + u + " " + p + " " + c + ",", u + "  0        " + p + " " + c + ",", u + "  " + u + "  " + p + " " + c + ",", "0        " + u + "  " + p + " " + c + ",", "-" + u + " " + u + "  " + p + " " + c + ",", "-" + u + " 0        " + p + " " + c].join(" ");
                                h = f
                            }
                            return h
                        }, i.chart = e, i.container = e.shell.interactiveContainer, i.scene = e.scene, i.events = e.events, i.popup = new V(i.chart, e.settings.info.container), i.settings = e.scene.settings.info, i
                    }
                    return n(e, t), e.prototype.getPopupAreaMouseMoved = function(t, e) {
                        return null
                    }, e.prototype.buildHeader = function(t, e) {
                        return null
                    }, e.prototype.applyEventPosToPointer = function(t) {
                        this.pointerX = t.x, this.pointerY = t.y
                    }, e.prototype.show = function(t) {
                        this.settings.enabled && (this.applyEventPosToPointer(t), this.updatePopup(t))
                    }, e.prototype.previewPointerMove = function(t) {
                        !this.settings.enabled || null !== this.activePointer && this.activePointer !== t.identifier || (this.applyEventPosToPointer(t), this.updatePopup(t))
                    }, e.prototype.previewPointerDrag = function(t) {
                        !this.settings.enabled || null !== this.activePointer && this.activePointer !== t.identifier || (this.activePointer = t.identifier, this.applyEventPosToPointer(t))
                    }, e.prototype.previewPointerCancel = function(t) {
                        null !== this.activePointer && this.activePointer === t.identifier && (this.activePointer = null)
                    }, e.prototype.previewPointerUp = function(t) {
                        null !== this.activePointer && this.activePointer === t.identifier && (this.activePointer = null)
                    }, e.prototype.previewPointerOut = function(t) {
                        !this.settings.enabled || null !== this.activePointer && this.activePointer !== t.identifier || t.touch || (this.activePointer = null, this.pointerX = null, this.pointerY = null, d.Helpers.isParentOf(this.popup.popup, t.target) || this.hideInfoPopup(t))
                    }, e.prototype.previewRightClick = function(t) {
                        this.settings.enabled && t.touch && (this.activePointer = t.identifier, this.previewPointerMove(t))
                    }, e.prototype.previewPointerDown = function(t) {
                        this.settings.enabled && null === this.activePointer && (this.activePointer = t.identifier, this.hideInfoPopup(t))
                    }, e.prototype.updatePopup = function(t) {
                        if (!this.pointerX && !this.pointerY) return void this.hideInfoPopup(t);
                        var e = this.getPopupMouseMoved(this.pointerX, this.pointerY, this.t0, this.t1, this.object, this.contents);
                        e ? this.showInfoPopup(e.t0, e.t1, e.obj, e.contents, t) : this.hideInfoPopup(t)
                    }, e.prototype.manualShowInfoPopup = function(t, e, i) {
                        this.showInfoPopup(t, e, null, i || this.buildContent(t, e, null, null), null)
                    }, e.prototype.showInfoPopup = function(t, e, i, n, r) {
                        if (!this.popup.visible || t !== this.t0 || e !== this.t1 || i !== this.object || this.contents !== n) {
                            var s = this.scene,
                                a = this.settings;
                            this.t0 = t, this.t1 = e, this.object = i, this.contents = n, s.setHighlight("infoRange", t, e, a.style.highlight), this.popup.show(s.timeToX(this.t0), s.timeToX(this.t1), s.y0 + this.calcYOffset(), n, d.InfoPopupPosition[a.position]), this.notifyChanges(r)
                        }
                    }, e.prototype.notifyChanges = function(t) {
                        t ? (t.changes.infoLabel = !0, t.changes.highlight = !0) : this.events.notifySceneChanges({
                            infoLabel: !0,
                            highlight: !0
                        })
                    }, e.prototype.hideInfoPopup = function(t) {
                        this.popup.visible && (this.popup.hide(), this.t0 = 0, this.t1 = 0, this.scene.removeHighlight("infoRange"), this.notifyChanges(t))
                    }, e.prototype.paintScene = function(t) {
                        this.popup.visible && this.updateXY()
                    }, e.prototype.updateXY = function() {
                        var t = this.scene,
                            e = t.timeToX(this.t0),
                            i = t.timeToX(this.t1),
                            n = t.y0 + this.calcYOffset();
                        this.popup.updateXY(e, i, n, d.InfoPopupPosition[t.settings.info.position])
                    }, e.prototype.getPopupMouseMoved = function(t, e, i, n, r, s) {
                        if (this.scene.displayUnit && !this.scene.xyInChartOrBottom(t, e)) return null;
                        var a = this.getPopupAreaMouseMoved(t, e);
                        if (!a) return null;
                        var o = a.t0,
                            l = a.t1,
                            h = null,
                            u = null,
                            c = this.scene.hoverSeriesItem,
                            d = this.settings.advanced.scope,
                            p = o,
                            f = l;
                        if (c && (u = c.seriesIndex, ("stack" === d || "value" === d || "auto" === d && void 0 !== u && null !== u) && (p = this.scene.xToTime(c.x0), f = this.scene.xToTime(c.x1)), h = c.stack), null === p) return null;
                        if (p === i && f === n && u === r) return {
                            t0: i,
                            t1: n,
                            obj: r,
                            contents: s
                        };
                        var g = this.buildContent(o, l, u, h);
                        return {
                            t0: p,
                            t1: f,
                            obj: u,
                            contents: g
                        }
                    }, e.prototype.getContentsFunctionRange = function(t, e) {
                        return [t, e]
                    }, e.prototype.buildContent = function(t, e, i, n) {
                        var r = this.settings.advanced,
                            s = this.chart.renderer.exportData(t, e);
                        s = this.sortInfoGroups(s);
                        var a;
                        if (r.contentsFunction) {
                            var o = null;
                            null !== i && this.scene.settings._computedSeries.length > i && (o = this.scene.settings._computedSeries[i]);
                            var l = {
                                computeSeriesColor: this.computeSeriesColor,
                                computeTextShadow: this.computeTextShadow
                            };
                            a = r.contentsFunction.call(this.chart.api, s, o, this.getContentsFunctionRange(t, e), l)
                        } else a = this.buildValues(s, i, n);
                        if (!r.showHeader) return a;
                        var h = this.buildHeader(t, e);
                        if (!h) return a;
                        var u = document.createElement("bmch-div");
                        return d.Helpers.isString(a) ? this.chart.settings.advanced.strictEscaping ? (u.appendChild(h), u.appendChild(document.createTextNode(a))) : d.Helpers.addStrictHtml(u, h.outerHTML + a, !1) : (u.appendChild(h), u.appendChild(a)), u
                    }, e.prototype.buildValues = function(t, e, i) {
                        var n = this.chart.settings,
                            r = {},
                            s = 0;
                        for (var a in n.valueAxis)
                            if (n.valueAxis[a].valueFormat) {
                                var o = d.Helpers.matchPercentFormat(n.valueAxis[a].valueFormat);
                                r[a] = o, s++
                            } var l = void 0;
                        n.valueAxisDefault && n.valueAxisDefault.valueFormat && (l = d.Helpers.matchPercentFormat(n.valueAxisDefault.valueFormat));
                        var h = {},
                            u = 0;
                        for (var a in n.valueAxis)
                            if (n.valueAxis[a].valueFormat) {
                                var o = d.Helpers.matchCurrencyFormat(n.valueAxis[a].valueFormat);
                                h[a] = o, u++
                            } var c = void 0;
                        n.valueAxisDefault && n.valueAxisDefault.valueFormat && (c = d.Helpers.matchCurrencyFormat(n.valueAxisDefault.valueFormat));
                        for (var p = n.localization.noDataLabel, f = n.info.valueFormatterFunction, g = n.info.advanced.showOnlyHoveredSeries ? n.info.advanced.scope : null, m = i && ("stack" === g || "value" === g) || "auto" === g && void 0 !== e && null !== e, v = "value" === g, y = document.createElement("bmch-div"), S = !1, b = null, x = 0; x < t.length; x++) {
                            var C = t[x];
                            if (m) {
                                for (var w = !1, L = 0; L < C.data.length; L++) {
                                    var T = C.data[L];
                                    T.config.showInInfoPopup && (T.values || n.info.showNoData && n.info.showNullData) && (w = w || null !== e && T.config === n._computedSeries[e] || i === C.stack)
                                }
                                if (!w) continue
                            }
                            var M = t.length + C.data.length === 2 ? "" : n.localization.unnamedSeries;
                            if (C.name)
                                if (S && (y.appendChild(b), S = !1), C.data.length > 1) {
                                    var k = document.createElement("bmch-h3");
                                    k.appendChild(document.createTextNode(C.name)), y.appendChild(k)
                                } else M = C.name;
                            S || (b = document.createElement("bmch-table"), b.setAttribute("cellspacing", "0"), S = !0);
                            for (var P = this.computeEffectiveSeries(C, n), L = 0; L < P.length; L++) {
                                var T = C.data[L];
                                if (!T.config.extra || !T.config.extra._isStyleSeries) {
                                    var A = P[L].values,
                                        I = null !== e && T.config === this.scene.settings._computedSeries[e];
                                    if (T.config.showInInfoPopup && (A || n.info.showNoData && n.info.showNullData) && (!v || I)) {
                                        var D = "",
                                            N = null;
                                        if (s > 0 || l || u > 0 || c) {
                                            if (A) {
                                                var O = T.config.data.aggregation && A.hasOwnProperty(T.config.data.aggregation) ? A[T.config.data.aggregation] : A.sum;
                                                if (this.cantShowValue(n, O)) continue;
                                                N = O, D += r[T.config.valueAxis] ? d.Helpers.printPercentValue(O, r[T.config.valueAxis]) : l ? d.Helpers.printPercentValue(O, l) : h[T.config.valueAxis] ? d.Helpers.printCurrencyValue(O, h[T.config.valueAxis]) : c ? d.Helpers.printPercentValue(O, c) : d.Helpers.numberFormat(O)
                                            } else if (D += n.localization.noDataLabel, !n.info.showNullData) continue
                                        } else if (A)
                                            if (A.count > 1 && n.info.aggregations && n.info.aggregations.length > 0) {
                                                for (var F = !1, E = 0; E < n.info.aggregations.length; E++) {
                                                    var H = n.info.aggregations[E],
                                                        O = A[H];
                                                    if (this.cantShowValue(n, O)) {
                                                        F = !0;
                                                        break
                                                    }
                                                    N = O, D += "" + d.Helpers.numberFormat(O) + ("&nbsp;(" + H + ")")
                                                }
                                                if (F) continue
                                            } else if (T.config.data.aggregation && A.hasOwnProperty(T.config.data.aggregation)) {
                                            var O = A[T.config.data.aggregation];
                                            if (this.cantShowValue(n, O)) continue;
                                            N = O, D += d.Helpers.numberFormat(O)
                                        } else {
                                            var O = A.sum;
                                            if (this.cantShowValue(n, O)) continue;
                                            N = O, D += d.Helpers.numberFormat(O)
                                        } else if (D += p, !n.info.showNullData) continue;
                                        var R = this.computeSeriesColor(C, T, L, N),
                                            z = this.buildTableRowWithName(C, T, L, R, I, M),
                                            B = "";
                                        B += f ? f.call(this.chart.api, A, T.config) : D, T.config.unitName && (B += " " + T.config.unitName);
                                        var U = document.createElement("bmch-td");
                                        d.Helpers.addStrictHtml(U, B, this.chart.settings.advanced.strictEscaping), z.appendChild(U), b.appendChild(z)
                                    }
                                }
                            }
                        }
                        return S && y.appendChild(b), y
                    }, e.prototype.buildTableRowWithName = function(t, e, i, n, r, s) {
                        var a = document.createElement("bmch-tr"),
                            o = document.createElement("bmch-td"),
                            l = e.name,
                            h = this.scene.isAggregated;
                            if(n != "rgba(0,0,0,1.000)") o.setAttribute("style", "color:" + n);
                        return null !== h && void 0 !== h && h && e.config.aggregatedName && (l = e.config.aggregatedName), r && o.setAttribute("data-selected", ""), o.style.textShadow = this.computeTextShadow(t, e, i, n), o.appendChild(document.createTextNode(l || s)), a.appendChild(o), a
                    }, e.prototype.getSeriesStyle = function(t, e, i) {
                        var n = t.config.style;
                        if (t.values && t.values.fromIndex == t.values.toIndex) {
                            var r = t.values.fromIndex,
                                s = e.stack.styles[e.stack.styles.length - i - 1];
                            s && s[r] && (n = s[r])
                        }
                        return n
                    }, e.prototype.sortInfoGroups = function(t) {
                        var e = {};
                        return this.chart.scene.settings._computedSeries.forEach(function(t, i) {
                            return e[t.id] = i
                        }), t = t.sort(function(t, i) {
                            return e[t.stack.series[0].id] - e[i.stack.series[0].id]
                        })
                    }, e.prototype.computeEffectiveSeries = function(t, e) {
                        for (var i = [], n = 0; n < t.data.length; n++) i.push(d.Helpers.realClone(t.data[n]));
                        var r = e.info.useStackedValue,
                            s = t.config && "based" === t.config.type;
                        return null === r && (r = !s), r && (t.config.separateNegativeValues ? this.computeStackTotalsWithSeparateNegativeValues(i) : this.computeStackTotalsWithoutSeparateNegativeValues(i)), i
                    }, e.prototype.computeStackTotalsWithSeparateNegativeValues = function(t) {
                        for (var e = 0, i = 0, n = 0, r = Number.POSITIVE_INFINITY, s = Number.NEGATIVE_INFINITY, a = 0, o = 0, l = 0, h = 0, u = 0, c = Number.POSITIVE_INFINITY, d = Number.NEGATIVE_INFINITY, p = 0, f = 0, g = t.length - 1; g >= 0; g--) {
                            var m = t[g].values;
                            null !== m && void 0 !== m && (m.avg >= 0 && (m.avg += e, e = m.avg), m.change >= 0 && (m.change += i, i = m.change), m.sum >= 0 && (m.sum += n, n = m.sum), m.first >= 0 && (m.first += a, a = m.first), m.last >= 0 && (m.last += o, o = m.last), m.min >= 0 && (m.min = Math.min(m.min, r), r = m.min), m.max >= 0 && (m.max = Math.max(m.max, s), s = m.max), m.avg <= 0 && (m.avg += l, l = m.avg), m.change <= 0 && (m.change += h, h = m.change), m.sum <= 0 && (m.sum += u, u = m.sum), m.first <= 0 && (m.first += p, p = m.first), m.last <= 0 && (m.last += f, f = m.last), m.min <= 0 && (m.min = Math.min(m.min, c), c = m.min), m.max <= 0 && (m.max = Math.max(m.max, d), d = m.max))
                        }
                    }, e.prototype.computeStackTotalsWithoutSeparateNegativeValues = function(t) {
                        for (var e = t.length - 2; e >= 0; e--) {
                            var i = t[e].values,
                                n = t[e + 1].values;
                            null !== i && void 0 !== i && null !== n && void 0 !== n && (i.avg += n.avg, i.change += n.change, i.sum += n.sum, i.min = Math.min(i.min, n.min), i.max = Math.max(i.max, n.max), i.first += n.first, i.last += n.last)
                        }
                    }, e.prototype.cantShowValue = function(t, e) {
                        return !t.info.showNullData && (null === e || void 0 == e) || !t.info.showZeroData && 0 === e
                    }, e.prototype.remove = function() {
                        this.popup.remove()
                    }, e
                }(d.ChartElement);
                t.InfoPopup = G;
                var V = function(t) {
                        function e() {
                            return t.apply(this, arguments) || this
                        }
                        return n(e, t), e.prototype.updateXY = function(e, i, n, r) {
                            void 0 === r && (r = d.InfoPopupPosition.inside), t.prototype.updateXY.call(this, e, i, n, r)
                        }, e
                    }(d.InfoPopup),
                    Y = function() {
                        function t(t, e) {
                            if (this.axisConfigList = e, this.chart = t, this.axis = Object.create(null), 0 !== e.length)
                                for (var i = !1, n = 0; n < e.length; n++) {
                                    var r = e[n];
                                    this.axis[r.id] = new p(t, r), !i && r.enabled && (i = !0, this.axis[r.id].isPrimary = !0)
                                }
                        }
                        return t.prototype.getAxis = function(t) {
                            return this.axis[t]
                        }, t.prototype.getPanels = function(t) {
                            for (var e = [], i = 0; i < this.axisConfigList.length; i++) {
                                var n = this.axisConfigList[i],
                                    r = this.axis[n.id].getPanel();
                                (r || t) && e.push(r)
                            }
                            return e
                        }, t.prototype.setPanels = function(t) {
                            for (var e = 0; e < this.axisConfigList.length; e++) {
                                var i = this.axisConfigList[e];
                                this.axis[i.id].setPanel(t[e])
                            }
                        }, t.prototype.updateMinMax = function(t) {
                            var e = Number.POSITIVE_INFINITY,
                                i = Number.NEGATIVE_INFINITY,
                                n = 0,
                                r = 0;
                            for (var s in this.axis) {
                                var a = this.axis[s];
                                a.updateMinMax(t), a.options.alignZero && (e = Math.min(e, a.lastScaleMin), i = Math.max(i, a.lastScaleMax), n++, r += a.zeroY)
                            }
                            if (!(n < 2)) {
                                r /= n;
                                var o = this.chart.scene.y0 + .001,
                                    l = this.chart.scene.y0 + this.chart.scene.height - .001,
                                    h = this.computeMinMaxForZeroLine(e, i, o),
                                    u = this.computeMinMaxForZeroLine(e, i, l),
                                    c = this.computeMinMaxForZeroLine(e, i, r),
                                    d = this.binaryMinSearch(e, i, r, c, o, h, l, u, 40);
                                this.computeMinMaxForZeroLine(e, i, d)
                            }
                        }, t.prototype.binaryMinSearch = function(t, e, i, n, r, s, a, o, l) {
                            if (l <= 0) return i;
                            for (var h = (r + a) / 2, u = this.computeMinMaxForZeroLine(t, e, h), c = 0; c < l; c++)
                                if (u < s && u < o) {
                                    var d = (h + r) / 2,
                                        p = (h + a) / 2,
                                        f = this.computeMinMaxForZeroLine(t, e, d),
                                        g = this.computeMinMaxForZeroLine(t, e, p);
                                    if (f > s || g > o) return this.pickBestZero(i, n, h, u, r, s, a, o);
                                    if (u < f && u < g) r = d, a = p, s = f, o = g;
                                    else if (u < f && u > g) r = h, s = u, h = p, u = g;
                                    else {
                                        if (!(u < g && u > f)) return this.forkBinaryMin(l - c - 1, h, u, r, s, o, a, t, e, i, n);
                                        a = h, o = u, h = d, u = f
                                    }
                                } else {
                                    if (u > s && u > o) return this.pickBestZero(i, n, h, u, r, s, a, o);
                                    if (s < o) a = h, o = u;
                                    else {
                                        if (!(s > o)) return this.forkBinaryMin(l - c - 1, h, u, r, s, o, a, t, e, i, n);
                                        r = h, s = u
                                    }
                                    h = (r + a) / 2, u = this.computeMinMaxForZeroLine(t, e, h)
                                } return this.pickBestZero(i, n, h, u, r, s, a, o)
                        }, t.prototype.forkBinaryMin = function(t, e, i, n, r, s, a, o, l, h, u) {
                            if (0 === t) return this.pickBestZero(h, u, e, i, n, r, a, s);
                            var c = Math.floor(t / 2) + 1,
                                d = this.pickBestZero(e, i, e, i, n, r, a, s),
                                p = i;
                            d === n && (p = r), d === a && (p = s);
                            var f = this.binaryMinSearch(o, l, d, p, n, r, e, i, c),
                                g = this.binaryMinSearch(o, l, d, p, e, i, a, s, c),
                                m = this.computeMinMaxForZeroLine(o, l, f),
                                v = this.computeMinMaxForZeroLine(o, l, g);
                            return this.pickBestZero(h, u, f, m, g, v, d, p)
                        }, t.prototype.pickBestZero = function(t, e, i, n, r, s, a, o) {
                            var l = t,
                                h = e;
                            return n < h && (h = n, l = i), s < h && (h = s, l = r), o < h && (h = o, l = a), t = l
                        }, t.prototype.computeMinMaxForZeroLine = function(t, e, i) {
                            var n = t,
                                r = e,
                                s = (i - this.chart.scene.y0 - this.chart.scene.height) / this.chart.scene.height,
                                a = s / (1 + s),
                                o = e * a,
                                l = 0 === a ? Number.NEGATIVE_INFINITY : t / a;
                            o < t ? n = o : l > e && (r = l);
                            var h = void 0,
                                u = 0;
                            for (var c in this.axis) {
                                var d = this.axis[c];
                                d.options.alignZero && (u += d.computeNewScale(n, r, h), void 0 === h && (h = d.zeroY))
                            }
                            return u
                        }, t.prototype.doAnimations = function(t) {
                            for (var e in this.axis) this.axis[e].doAnimations(t)
                        }, t.prototype.paintUnder = function(t) {
                            for (var e in this.axis) this.axis[e].paintUnder(t)
                        }, t.prototype.paint = function(t) {
                            for (var e in this.axis) this.axis[e].paint(t)
                        }, t.prototype.paintThresholds = function(t, e, i) {
                            for (var n in this.axis) this.axis[n].paintThresholds(t, e, i)
                        }, t
                    }();
                t.ValueAxisSet = Y,
                    function(t) {
                        var e = function() {
                            function e(t, e) {
                                this.stacks = [], this.idToStack = {}, this.scene = e, this.chart = t
                            }
                            return e.prototype.addSeries = function(e, i, n, r) {
                                var s;
                                if (i.stack) {
                                    var a = i.stack + "#" + i.type;
                                    s = this.idToStack[a], s || (s = this.idToStack[a] = new t.Stack(this.chart, this.scene, this, n, r), this.stacks.push(s))
                                } else s = new t.Stack(this.chart, this.scene, this, n, r), this.stacks.push(s);
                                s.addSeries(e, i)
                            }, e.prototype.afterInit = function() {
                                for (var t = 0; t < this.stacks.length; t++) {
                                    var e = this.stacks[t];
                                    e.afterInit()
                                }
                            }, e.prototype.process = function(t) {
                                for (var e = 0; e < this.stacks.length; e++) {
                                    var i = this.stacks[e];
                                    i.process(t)
                                }
                            }, e.prototype.afterProcess = function() {
                                for (var t = 0; t < this.stacks.length; t++) {
                                    var e = this.stacks[t];
                                    e.afterProcess()
                                }
                            }, e.prototype.paint = function(t, e) {
                                for (var i = 0; i < this.stacks.length; i++) {
                                    var n = this.stacks[i];
                                    n.paint(t, e)
                                }
                            }, e.prototype.paintValueLabels = function(t, e) {
                                for (var i = 0; i < this.stacks.length; i++) {
                                    var n = this.stacks[i];
                                    n.paintValueLabels(t, e)
                                }
                            }, e.prototype.hitTestStack = function(t, e) {
                                for (var i = null, n = 1 / 0, r = 0; r < this.stacks.length; r++) {
                                    var s = this.stacks[r],
                                        a = s.hitTestStack(t, e),
                                        o = a.result,
                                        l = a.distance;
                                    l < n && (n = l, i = o)
                                }
                                return {
                                    result: i,
                                    distance: n
                                }
                            }, e.prototype.hitTest = function(t, e, i) {
                                for (var n = null, r = 1 / 0, s = 0; s < this.stacks.length; s++) {
                                    var a = this.stacks[s],
                                        o = a.hitTest(t, e, i),
                                        l = o.result,
                                        h = o.distance;
                                    h < r && (r = h, n = l)
                                }
                                return {
                                    result: n,
                                    distance: r
                                }
                            }, e.prototype.exportData = function(t, e, i) {
                                for (var n = 0; n < this.stacks.length; n++) {
                                    var r = this.stacks[n];
                                    i.push(r.exportData(t, e))
                                }
                            }, e.prototype.computeStackCenterRadius = function(t, e, i, n) {
                                if (!(e.length < 2)) {
                                    var r = this.computeClusterPadding(),
                                        s = r.paddingSubtract,
                                        a = r.paddingAdd;
                                    s = this.computeStackPaddingSubtract(s), a = this.computeStackPaddingAdd(a, t), o = this.ensurePaddingIsInsideRenderArea(e, s, a), s = o.paddingSubtract, a = o.paddingAdd, this.computePaddedStackCenterRadius(t, e, s, i, a, n);
                                    var o
                                }
                            }, e.prototype.computeStackPaddingAdd = function(t, e) {
                                for (var i = 0; i < this.stacks.length; i++) {
                                    var n = this.stacks[i];
                                    if (t += n.paddingLeft, n === e) break;
                                    t += n.paddingRight
                                }
                                return t
                            }, e.prototype.computeStackPaddingSubtract = function(t) {
                                for (var e = 0; e < this.stacks.length; e++) {
                                    var i = this.stacks[e];
                                    t += i.paddingLeft + i.paddingRight
                                }
                                return t
                            }, e.prototype.computeClusterPadding = function() {
                                var t = this.aggregateClusterPadding(),
                                    e = t.clusterPaddingLeft,
                                    i = t.clusterPaddingRight,
                                    n = e + i,
                                    r = e;
                                return {
                                    paddingSubtract: n,
                                    paddingAdd: r
                                }
                            }, e.prototype.aggregateClusterPadding = function() {
                                for (var t = 0, e = 0, i = 0; i < this.stacks.length; i++) t = Math.max(t, this.stacks[i].clusterPaddingLeft), e = Math.max(e, this.stacks[i].clusterPaddingRight);
                                return {
                                    clusterPaddingLeft: t,
                                    clusterPaddingRight: e
                                }
                            }, e.prototype.ensurePaddingIsInsideRenderArea = function(t, e, i) {
                                var n = t[1] - t[0];
                                if (e > n / 2) {
                                    var r = i / e;
                                    e = n / 2, i = e * r
                                }
                                return {
                                    paddingSubtract: e,
                                    paddingAdd: i
                                }
                            }, e.prototype.computePaddedStackCenterRadius = function(t, e, i, n, r, s) {
                                for (var a = this.stacks.length, o = this.stacks.indexOf(t), l = (o + .5) / a, h = .5 / a, u = 0; u < e.length - 1; u++) {
                                    var c = e[u],
                                        d = e[u + 1] - c - i;
                                    n[u] = c + d * l + r, s[u] = d * h
                                }
                            }, e
                        }();
                        t.Cluster = e
                    }(i = t.Series || (t.Series = {}));
                var j = function() {
                    function t(t, e) {
                        this.indexToOriginal = null, this.valueAxisSet = e, this.chart = t, this.scene = this.chart.scene, this.clusters = [], this.buildSeries()
                    }
                    return t.prototype.buildSeries = function() {
                        this.clusters = [];
                        for (var t = {}, e = null, n = {}, r = new m, s = this.scene.settings, a = this.sortSeries(s), o = 0; o < a.length; o++) {
                            var l = a[o];
                            if (f.isSeriesEnabled(l, this.scene.isAggregated)) {
                                var h = void 0;
                                l.cluster ? (h = t[l.cluster], h || (h = t[l.cluster] = new i.Cluster(this.chart, this.scene), this.clusters.push(h))) : "line" === l.type ? l.stack ? n.hasOwnProperty(l.stack) ? h = n[l.stack] : (h = n[l.stack] = new i.Cluster(this.chart, this.scene), this.clusters.push(h)) : (h = new i.Cluster(this.chart, this.scene), this.clusters.push(h)) : (e || (e = new i.Cluster(this.chart, this.scene), this.clusters.push(e)), h = e);
                                var u = s._computedStacks[l.stack] || r;
                                h.addSeries(this.indexToOriginal[o], l, u, this.valueAxisSet.getAxis(l.valueAxis));
                            }
                        }
                        for (var c = 0; c < this.clusters.length; c++) {
                            var h = this.clusters[c];
                            h.afterInit()
                        }
                    }, t.prototype.sortSeries = function(t) {
                        for (var e = {}, i = 0; i < t._computedSeries.length; i++) {
                            var n = t._computedSeries[i];
                            e.hasOwnProperty(n.stack) || (e[n.stack] = i)
                        }
                        var r = {};
                        Object.keys(e).map(function(t) {
                            return {
                                stack: t,
                                index: e[t]
                            }
                        }).sort(function(t, e) {
                            return t.index - e.index
                        }).forEach(function(t, e) {
                            return r[t.stack] = e
                        });
                        var s = t._computedSeries.map(function(t, e) {
                            return {
                                i: e,
                                val: t,
                                sortVal: r[t.stack]
                            }
                        }).sort(function(t, e) {
                            return t.sortVal - e.sortVal
                        });
                        return this.indexToOriginal = s.map(function(t) {
                            return t.i
                        }), s.map(function(t) {
                            return t.val
                        })
                    }, t.prototype.process = function(t) {
                        var e = t.reduce(function(t, e) {
                            return Math.max(t, e.counts.reduce(function(t, e) {
                                return Math.max(t, e)
                            }, 0))
                        }, 0);
                        this.scene.isAggregated = e > 1;
                        for (var i = 0; i < this.clusters.length; i++) {
                            var n = this.clusters[i];
                            n.process(t)
                        }
                    }, t.prototype.afterProcess = function() {
                        for (var t = 0; t < this.clusters.length; t++) {
                            var e = this.clusters[t];
                            e.afterProcess()
                        }
                    }, t.prototype.paint = function(t) {
                        for (var e = t.context, i = 0; i < this.clusters.length; i++)
                            for (var n = this.clusters[i], r = 0; r < n.stacks.length; r++)
                                for (var s = n.stacks[r].series, a = 0; a < s.length; a++) {
                                    s[a]
                                }
                        for (var o = 0; o < this.clusters.length; o++) {
                            var l = this.clusters[o];
                            l.paint(t, e)
                        }
                        this.valueAxisSet.paintThresholds(t, "above", !1);
                        for (var o = 0; o < this.clusters.length; o++) {
                            var l = this.clusters[o];
                            l.paintValueLabels(t, t.context)
                        }
                    }, t.prototype.hitTest = function(t, e, i) {
                        void 0 === i && (i = 4);
                        for (var n = null, r = 1 / 0, s = 1e-4, a = 0; a < this.clusters.length; a++) {
                            var o = this.clusters[a],
                                l = o.hitTest(t, e, i),
                                h = l.result,
                                u = l.distance;
                            u < r + s && (n = h, r = u)
                        }
                        if (r > i) {
                            r = 1 / 0, n = null;
                            for (var a = 0; a < this.clusters.length; a++) {
                                var o = this.clusters[a],
                                    c = o.hitTestStack(t, e),
                                    h = c.result,
                                    u = c.distance;
                                u < r + s && (n = h, r = u)
                            }
                        }
                        return n
                    }, t.prototype.exportData = function(t, e) {
                        for (var i = [], n = 0; n < this.clusters.length; n++) {
                            var r = this.clusters[n];
                            r.exportData(t, e, i)
                        }
                        return i
                    }, t
                }();
                t.Renderer = j
            }(l = i.LinearChart || (i.LinearChart = {})),
            function(t) {
                var e = t.Bar || (t.Bar = {}),
                    i = 864e5,
                    r = function() {
                        function e(t, i, n) {
                            this.count = i;
                            var r = e.parsingMap[t];
                            if (!r) throw new Error("Time unit `" + t + "` is not recognized.");
                            this.unit = r, this.name = void 0 === n ? i + " " + r : n
                        }
                        return e.isGoodUnit = function(t) {
                            return e.parsingMap.hasOwnProperty(t)
                        }, e.parse = function(t, i, n) {
                            if (void 0 === n && (n = !0), null == t) return null;
                            if (d.Helpers.isString(t)) {
                                var r = 1,
                                    s = void 0,
                                    a = t.split(" ");
                                if (2 === a.length) {
                                    if (r = d.Helpers.tryParseFloat(a[0], null), null === r || Math.floor(r) !== r) {
                                        if (n) throw new Error("Cannot parse the time unit - the correct format is `1 s`: " + t);
                                        return null
                                    }
                                    s = a[1]
                                } else {
                                    if (1 !== a.length) {
                                        if (n) throw new Error("Cannot parse the time unit - the correct format is `1 s`: " + t);
                                        return null
                                    }
                                    r = 1, s = a[0]
                                }
                                if (!this.isGoodUnit(s)) {
                                    if (n) throw new Error("Cannot parse the time unit - unrecognized time unit: " + t);
                                    return null
                                }
                                return new e(s, r, i || t)
                            }
                            if (t instanceof e) return t;
                            if (n) throw new Error("Cannot parse the unit text because it is not a string: " + t);
                            return null
                        }, e.prototype.clone = function() {
                            return new e(this.unit, this.count, this.name)
                        }, e.prototype.add = function(t, e) {
                            void 0 === e && (e = 1);
                            var n = this.unit,
                                r = this.count * e;
                            if ("ms" === n) t += r;
                            else if ("s" === n) t += 1e3 * r;
                            else if ("m" === n) t += 6e4 * r;
                            else if ("h" === n) t += 36e5 * r;
                            else if ("d" === n) t += r * i;
                            else if ("w" === n) t += r * i * 7;
                            else {
                                var s = new Date(t);
                                "y" === n ? s.setUTCFullYear(s.getUTCFullYear() + r) : "M" === n && s.setUTCMonth(s.getUTCMonth() + r), t = s.getTime()
                            }
                            return t
                        }, e.prototype.sub = function(t, e) {
                            return void 0 === e && (e = 1), this.add(t, -1 * e)
                        }, e.prototype.numberOfUnits = function(i, n) {
                            return Math.round(t.moment(n).utc().diff(t.moment(i).utc(), e.unitsTranslation[this.unit], !0) / this.count)
                        }, e.prototype.toShortString = function() {
                            return 1 === this.count ? this.unit : this.toString()
                        }, e.prototype.toString = function() {
                            return this.count + " " + this.unit
                        }, e.prototype.approxTime = function() {
                            return e.timeUnitDiffs[this.unit] * this.count
                        }, e.prototype.isSmallerOrEqual = function(t) {
                            return this.approxTime() <= t.approxTime()
                        }, e.prototype.isSmaller = function(t) {
                            return this.approxTime() < t.approxTime()
                        }, e.prototype.isBigger = function(t) {
                            return this.approxTime() > t.approxTime()
                        }, e.prototype.isEqual = function(t) {
                            return !!t && this.approxTime() === t.approxTime()
                        }, e.prototype.getBigger = function() {
                            return "y" === this.unit ? new e(this.unit, 10 * this.count) : new e(e.toBiggerUnit[this.unit], 1)
                        }, e.prototype.roundTime = function(t, e, n) {
                            if (null == t) return null;
                            t = Math.round(t);
                            var r = this.count,
                                s = this.unit;
                            if ("ms" === s) return n(t / r) * r;
                            if ("s" === s) return n(t / 1e3 / r) * r * 1e3;
                            if ("m" === s) return n(t / 6e4 / r) * r * 6e4;
                            if ("h" === s) return n(t / 36e5 / r) * r * 36e5;
                            if ("d" === s) {
                                if (r % 7 !== 0) return n(t / i / r) * r * i;
                                s = "w", r /= 7
                            }
                            if ("w" === s) {
                                var a = e.week.dow + 3,
                                    o = t;
                                return t = (t / i - a) / 7 + 1, t = (n(t / r) * r * 7 + a) * i, t > o && (t -= 7 * i), t
                            }
                            var l = new Date(n(t / i) * i);
                            if ("y" === s) {
                                var h = new Date(l.getUTCFullYear(), 0),
                                    u = new Date(l.getUTCFullYear() + 1, 0),
                                    c = u.getTime() - h.getTime(),
                                    d = 6e4 * l.getTimezoneOffset() / c,
                                    p = d + (0 === c ? 0 : (l.getTime() - h.getTime()) / c);
                                return l.setUTCFullYear(n((l.getUTCFullYear() + p) / r) * r, 0, 1), l.getTime()
                            }
                            if ("M" === s) {
                                var f = new Date(l.getUTCFullYear(), l.getUTCMonth()),
                                    g = new Date(l.getUTCFullYear(), l.getUTCMonth() + 1),
                                    m = g.getTime() - f.getTime(),
                                    d = 6e4 * l.getTimezoneOffset() / m,
                                    p = d + (0 === m ? 0 : (l.getTime() - f.getTime()) / m),
                                    v = 12 * l.getUTCFullYear() + l.getUTCMonth(),
                                    y = l.getUTCMonth() + n((v + p) / r) * r - v;
                                return l.setUTCMonth(y, 1), l.getTime()
                            }
                            throw new Error("Unrecognized unit: `" + this.unit + "`")
                        }, e.prototype.roundTimeDown = function(t, e) {
                            return this.roundTime(t, e, Math.floor)
                        }, e.prototype.roundTimeUp = function(t, e) {
                            return this.roundTime(t, e, Math.ceil)
                        }, e.prototype.roundedTimeRange = function(t, e) {
                            return null == t ? {
                                t0: null,
                                t1: null
                            } : {
                                t0: this.roundTimeDown(t, e),
                                t1: this.roundTimeUp(t + 1, e)
                            }
                        }, e.prototype.roundTimeRound = function(t, e) {
                            return null == t ? null : this.roundTimeDown((this.add(t) + t - 1) / 2, e)
                        }, e.prototype.isMultipleOf = function(t) {
                            var e = this.unit,
                                i = t.unit,
                                n = this.approxTime(),
                                r = t.approxTime(),
                                s = n / r;
                            if (s < 1 || Math.floor(s) !== s) return !1;
                            if (e === i) return !0;
                            if (1 === t.count && "w" !== i) return !0;
                            var a = 864e5,
                                o = a / r;
                            return o >= 1 && Math.floor(o) === o || ("y" === e ? "M" === i : "M" !== e && "w" !== e)
                        }, e
                    }();
                r.parsingMap = {
                        milliseconds: "ms",
                        millisecond: "ms",
                        sec: "s",
                        second: "s",
                        seconds: "s",
                        min: "m",
                        minute: "m",
                        minutes: "m",
                        hour: "h",
                        hours: "h",
                        day: "d",
                        days: "d",
                        week: "w",
                        weeks: "w",
                        mon: "M",
                        month: "M",
                        months: "M",
                        year: "y",
                        years: "y",
                        ms: "ms",
                        s: "s",
                        m: "m",
                        h: "h",
                        d: "d",
                        D: "d",
                        w: "w",
                        W: "w",
                        M: "M",
                        y: "y",
                        Y: "y"
                    }, r.knownUnits = ["ms", "s", "m", "h", "d", "w", "M", "y"], r.timeUnitDiffs = {
                        ms: 1,
                        s: 1e3,
                        m: 6e4,
                        h: 36e5,
                        d: 864e5,
                        w: 6048e5,
                        M: 2592e6,
                        y: 31104e6
                    }, r.unitsTranslation = {
                        ms: "millisecond",
                        s: "second",
                        m: "minute",
                        h: "hour",
                        d: "day",
                        w: "week",
                        M: "month",
                        y: "year"
                    }, r.toBiggerUnit = {
                        ms: "s",
                        s: "m",
                        m: "h",
                        h: "d",
                        d: "w",
                        w: "M",
                        M: "y",
                        y: null
                    }, r.toSmallerUnit = {
                        ms: null,
                        s: "ms",
                        m: "s",
                        h: "m",
                        d: "h",
                        w: "d",
                        M: "d",
                        y: "M"
                    }, t.TimeStep = r,
                    function(e) {
                        var i = function(t) {
                            function e(e, i) {
                                var n;
                                return i.cssClass = i.cssClass || "BMCH-bar-btn-month", i.title = i.title || e.settings.localization.toolbar.periodDropdownTitle, n = t.call(this, e, i) || this, n._getItemsCache = null, n.custom = {
                                    displayAnchor: null,
                                    disabled: !1,
                                    displayPeriod: null,
                                    displayPeriodStr: null,
                                    displayUnit: null,
                                    displayUnitStr: null,
                                    selected: !1,
                                    name: e.settings.localization.toolbar.customPeriod
                                }, n.updateSelectedItem(), n
                            }
                            return n(e, t), e.prototype.onSelectionChange = function(t) {
                                this.chart.setDisplayPeriod(t.displayPeriodStr, t.displayAnchor, null == t.displayUnit ? null : t.displayUnit.toString(), !0, "user")
                            }, e.prototype.onSceneChange = function(t) {
                                t.settings && (this._getItemsCache = null), (t.settingsChanges && (t.settingsChanges.area || t.settingsChanges.toolbar) || t.time) && this.updateSelectedItem()
                            }, e.prototype.updateSelectedItem = function() {
                                var t = this._lastSelectedItem;
                                if (t && t !== this.custom && this.chart.isThisDisplayPeriod(t.displayPeriodStr, t.displayAnchor, t.displayUnitStr)) return void this.setSelectedItem(t);
                                var e = this.getItems(),
                                    i = this.getLastNavigatorUnit(e);
                                if (this.isItemCurrentPeriod(i, t)) return void this.setSelectedItem(i);
                                for (var n = 0; n < e.length; n++) {
                                    var r = e[n];
                                    if (this.isItemCurrentPeriod(r, t)) return void this.setSelectedItem(r)
                                }
                                this.setSelectedItem(this.custom)
                            }, e.prototype.isItemCurrentPeriod = function(t, e) {
                                return null !== t && t !== e && this.chart.isThisDisplayPeriod(t.displayPeriodStr, t.displayAnchor, t.displayUnitStr)
                            }, e.prototype.setSelectedItem = function(e) {
                                this._lastSelectedItem && (this._lastSelectedItem.selected = !1), e.selected = !0, t.prototype.setSelectedItem.call(this, e), this._lastSelectedItem = e
                            }, e.prototype.getItems = function() {
                                if (this._getItemsCache) return this._getItemsCache;
                                for (var t = [], e = this.chart.settings._minUnit, i = this.custom, n = 0; n < this.chart.settings.toolbar.periods.length; n++) {
                                    var r = this.chart.settings.toolbar.periods[n],
                                        s = r.parse(),
                                        a = s.displayPeriod,
                                        o = s.displayUnit;
                                    o && o.isSmaller(e) || a && a.isSmallerOrEqual(e) || (t.push(s), i === this.custom && this.chart.isThisDisplayPeriod(r.displayPeriod, s.displayAnchor, r.displayUnit) && (i = s))
                                }
                                var l = this.getLastNavigatorUnit(t);
                                return this.isItemCurrentPeriod(l, i) && (i = l), this._lastSelectedItem = i, i.selected = !0, this._getItemsCache = t, t
                            }, e.prototype.getSelectedDisplayPeriod = function() {
                                var t = this.getItems().filter(function(t) {
                                    return t.selected
                                });
                                return 0 === t.length ? null : t[0].displayPeriodStr
                            }, e.prototype.getLastNavigatorUnit = function(t) {
                                if (!this.chart || !this.chart.navigator) return null;
                                for (var e = 0; e < t.length; e++) {
                                    var i = t[e];
                                    if (i.displayPeriodStr === this.chart.navigator.lastDisplayPeriodStr) return i
                                }
                                return null
                            }, e
                        }(d.Bar.Combobox);
                        e.DisplayPeriodDropdown = i, d.Bar.ToolbarItemNames.displayPeriod = function(e, i) {
                            return new t.Bar.DisplayPeriodDropdown(e, i)
                        };
                        var r = function(t) {
                            function e(e, i) {
                                var n;
                                return i || (i = {}), i.cssClass = i.cssClass || "BMCH-bar-btn-bars", i.title = i.title || e.settings.localization.toolbar.unitDropdownTitle, n = t.call(this, e, i) || this, n.updateSelectedItem(), n
                            }
                            return n(e, t), e.prototype.onSelectionChange = function(t) {
                                var e = this.chart.settings;
                                this.chart.setDisplayUnit(t.value, !0, "user"), e && e.interaction && e.interaction.selection && e.interaction.selection.clearOnDropdownUnitMismatch && this.chart.clearSelectionOnMismatch()
                            }, e.prototype.onSceneChange = function(t) {
                                t.settings && (this._getItemsCache = null), (t.settingsChanges && (t.settingsChanges.area || t.settingsChanges.toolbar) || t.time) && this.updateSelectedItem()
                            }, e.prototype.updateSelectedItem = function() {
                                var t = this.chart.displayUnit;
                                if (t) {
                                    for (var e = this.getItems(), i = 0; i < e.length; i++) {
                                        var n = e[i];
                                        if (n.value.isEqual(t)) return void this.setSelectedItem(n)
                                    }
                                    this.setSelectedItem({
                                        name: t.name,
                                        value: t,
                                        disabled: !1,
                                        selected: !0
                                    })
                                }
                            }, e.prototype.getItems = function() {
                                if (this._getItemsCache) return this._getItemsCache;
                                for (var t = this.chart.scene, e = [], i = t.width ? (t.timeEnd - t.timeStart) / t.width * this.chart.settings.timeAxis.minUnitWidth : 0, n = !1, r = 0; r < this.chart.settings._displayUnitsParsed.length; r++) {
                                    var s = this.chart.settings._displayUnitsParsed[r];
                                    s.approxTime() < i ? n || (e.push({
                                        name: this.chart.settings.localization.toolbar.unavailableUnitTitle,
                                        value: s,
                                        disabled: !0,
                                        selected: !1
                                    }), n = !0) : e.push({
                                        name: s.name,
                                        value: s,
                                        disabled: !1,
                                        selected: s.isEqual(t.displayUnit)
                                    })
                                }
                                return e
                            }, e
                        }(d.Bar.Combobox);
                        e.DisplayUnitDropdown = r, d.Bar.ToolbarItemNames.displayUnit = function(e, i) {
                            return new t.Bar.DisplayUnitDropdown(e, i);
                        }
                    }(e = t.Bar || (t.Bar = {}));
                var s = function() {
                    function t(t, e, i, n) {
                        this.name = null, this.displayAnchor = null, this.displayPeriod = null, this.displayUnit = null, void 0 === e ? this.displayPeriod = t : (this.name = t, this.displayAnchor = e, this.displayPeriod = i, this.displayUnit = n)
                    }
                    return t.prototype.parse = function() {
                        var t = this.displayPeriod,
                            e = this.displayUnit;
                        return {
                            name: this.name,
                            displayAnchor: this.displayAnchor,
                            displayPeriod: "max" === t ? null : r.parse(t),
                            displayPeriodStr: t,
                            displayUnit: "auto" === e ? null : r.parse(e),
                            displayUnitStr: e,
                            selected: !1,
                            disabled: !1
                        }
                    }, t
                }();
                t.SettingsAreaDisplayPeriod = s;
                var a = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.enabled = !0, e.zoomOut = !0, e.logScale = !0, e.displayUnit = !0, e.displayPeriod = !0, e.flexibleAllData = !1, e.zoomOutFunction = null, e.periods = [new s("Last second", "now", "1 s", "25 ms"), new s("Last minute", "now", "1 m", "1 s"), new s("Last hour", "now", "1 h", "1 m"), new s("Last day", "now", "1 d", "1 h"), new s("Last week", "now", "1 w", "6 h"), new s("Last month", "now", "1 M", "1 d"), new s("Last year", "now", "1 y", "1 M"), new s("All data", "newestData", "max", "auto")], e.items = [new d.SettingsToolbarItem("fullscreen", "left"), new d.SettingsToolbarItem("back", "left"), new d.SettingsToolbarItem("zoomOut", "left"), new d.SettingsToolbarItem("logScale", "right"), new d.SettingsToolbarItem("displayPeriod", "right"), new d.SettingsToolbarItem("displayUnit", "right"), new d.SettingsToolbarItem("export", "right")], e
                    }
                    return n(e, t), e
                }(d.SettingsToolbar);
                t.SettingsToolbar = a;
                var o = function() {
                    function t(t) {
                        this.settings = t.settings, this.chart = t, this.scene = t.scene
                    }
                    return t.prototype.toBiggerDisplayUnit = function(t) {
                        for (var e = null, i = 0; i < this.settings._displayPeriodsParsed.length; i++) {
                            var n = this.settings._displayPeriodsParsed[i];
                            n.approxTime() > t.approxTime() && (null === e || n.approxTime() < e.approxTime()) && (e = n)
                        }
                        return e
                    }, t.prototype.getMinRangeForUnit = function(t, e, i, n) {
                        var r = i.approxTime(),
                            s = this.scene.settings.timeAxis.minUnitWidth,
                            a = this.scene.settings.timeAxis.maxUnitWidth,
                            o = this.verifyUnitWidth(t, e, i);
                        if (o.min || o.max) {
                            d.Helpers.warn("Could not show all data as requested by `navigation.initialDisplayPeriod`. Please adjust either `navigation.initialDisplayPeriod` or `timeAxis.minUnitWidth` and `timeAxis.maxUnitWidth`.");
                            var l = void 0;
                            o.min ? l = this.scene.width / s * r : o.max && (l = this.scene.width / a * r), "oldestData" === n ? e = t + l : t = e - l
                        }
                        return {
                            from: t,
                            to: e
                        }
                    }, t.prototype.verifyUnitWidth = function(t, e, i) {
                        var n = i.approxTime(),
                            r = this.scene.settings.timeAxis.minUnitWidth,
                            s = this.scene.settings.timeAxis.maxUnitWidth,
                            a = (e - t) / this.scene.width;
                        return {
                            min: !(r * a < n),
                            max: !(s * a > n)
                        }
                    }, t.prototype.adjustTimeRangeToUnits = function(t, e, i, n) {
                        var r, s = i - (i - e) / 2,
                            a = n.approxTime(),
                            o = this.getUnitRange(t, [n]),
                            l = i - e;
                        r = l < o.minTime ? Math.ceil(o.minTime / a) : Math.min((i - e) / a, Math.floor(o.maxTime / a));
                        var h = r * a;
                        return e = s - h / 2 + 1, i = s + h / 2 - 1, {
                            from: e,
                            to: i
                        }
                    }, t.prototype.preventUnitWidthViolation = function(t, e) {
                        var i = this.scene,
                            n = i.width,
                            r = (t - e) / n,
                            s = r * i.settings.timeAxis.minUnitWidth;
                        return s > i.displayUnit.approxTime()
                    }, t.prototype.getBiggerDisplayPeriod = function(t, e) {
                        for (var i = Math.abs(e - t), n = 0, r = null, s = 0; s < this.settings._displayPeriodsParsed.length; s++) {
                            var a = this.settings._displayPeriodsParsed[s],
                                o = a.approxTime(),
                                l = i / o;
                            l < .9 && l > n && (n = l, r = a)
                        }
                        return r
                    }, t.prototype.getBiggerDisplayUnit = function(t) {
                        for (var e = this.settings._displayUnitsParsed, i = t.approxTime(), n = 0; n < e.length; n++) {
                            var r = e[n];
                            if (r.approxTime() > i) return r
                        }
                        return t
                    }, t.prototype.nextBiggerDisplayUnit = function(t) {
                        var e = this.getBiggerDisplayUnit(t);
                        return e === t ? null : e
                    }, t.prototype.getSmallerDisplayUnit = function(t) {
                        for (var e = this.settings._displayUnitsParsed, i = t.approxTime(), n = e.length - 1; n >= 0; n--) {
                            var r = e[n];
                            if (r.approxTime() < i) return r
                        }
                        return null
                    }, t.prototype.getSmallerValidDisplayUnit = function(t, e, i, n) {
                        var r = this.getSmallerDisplayUnit(t);
                        if (!r) return t;
                        if ("min" === this.scene.settings.timeAxis.unitSizePolicy) {
                            var s = this.chart.scrolling.computeDisplayUnit(e, i);
                            if (r.isSmaller(s.unit)) return s.unit
                        }
                        return r
                    }, t.prototype.getClosestDisplayPeriod = function(t, e, i) {
                        for (var n = null, r = 0, s = null, a = 1 / 0, o = 0; o < this.settings._displayPeriodsParsed.length; o++) {
                            var l = this.settings._displayPeriodsParsed[o],
                                h = l.approxTime();
                            h <= t && (null === n || r < h) && (n = l, r = h), h >= t && (null === s || a > h) && (s = l, a = h)
                        }
                        return i ? e && e.approxTime() < .8 * t ? e : null !== s && a < 1.2 * t || null === n ? s : n : null !== n && (r > .8 * t || a > 1.2 * t) ? n : s
                    }, t.prototype.isAllowedDisplayUnit = function(t) {
                        for (var e = 0; e < this.settings._displayUnitsParsed.length; e++) {
                            var i = this.settings._displayUnitsParsed[e];
                            if (i.isEqual(t)) return !0
                        }
                        return !1
                    }, t.prototype.adjustTimeAfterScale = function(t, e, i, n) {
                        var r = this.scene,
                            s = (e - t) / r.width,
                            a = r.settings.timeAxis.minUnitWidth,
                            o = r.displayUnit.approxTime();
                        if (!(a * s <= o)) {
                            var l = i + (n - i) / 2,
                                h = Math.floor(r.width / a);
                            t = l - h / 2 * o, e = l + h / 2 * o
                        }
                        return {
                            from: t,
                            to: e
                        }
                    }, t.prototype.computeDisplayUnit = function(t, e, i, n, r, s, a) {
                        var o = {
                            from: n,
                            to: r,
                            unit: null
                        };
                        if (null != n && null != r || d.Helpers.error("`computeDisplayUnit` called with invalid arguments."), a && !a.scale && a.scroll) return o.unit = i || this.scene.displayUnit, o;
                        if (null !== t && null !== e && i && Math.abs(e - t - (r - n)) < .001) return o.unit = i, o;
                        var l = 0 === s.width && null === i,
                            h = this.scene.displayUnit,
                            u = this.scene.settings,
                            c = Math.max(s.width, 10),
                            p = u.timeAxis,
                            f = Math.max(p.minUnitWidth, Math.min(c * p.maxRelativeUnitWidth, p.maxUnitWidth)),
                            g = (r - n) / c * p.minUnitWidth,
                            m = (r - n) / c * f,
                            v = null,
                            y = 0,
                            S = u._displayUnitsParsed,
                            b = u._minUnit.approxTime(),
                            x = "min" === p.unitSizePolicy;
                        if (a && a.scale) {
                            var C = 1 / 0;
                            i && 2 !== a.scale && (a.scale === -1 ? b = i.approxTime() : C = i.approxTime());
                            for (var w = 0; w < S.length; w++) {
                                var L = S[w],
                                    T = L.approxTime();
                                if (!(T < b || T > C)) {
                                    var M = void 0;
                                    M = null === v || (x ? T >= g && T < y || y < g && T > y : T <= m && T > y || y > m && T < y), M && (v = L, y = T)
                                }
                            }
                            v || (h.approxTime() !== S[S.length - 1].approxTime() && (d.Helpers.warn("`computeDisplayUnit` could not lookup the new unit - no units available matching the `minUnitWidth` and `maxUnitWidth` for the current range.", null, !0), this.scene.disableScaleLimiter = !0), v = this.scene.displayUnit)
                        } else {
                            for (var k = n, A = r, P = u.navigation.initialDisplayAnchor, I = this.chart.getDisplayLimits(), D = r === I.to && ("now" === P || "newestData" === P), N = n === I.from && "oldestData" === P, F = 50; --F > 0;) {
                                for (var E = !1, w = 0; w < S.length; w++) {
                                    var L = S[w],
                                        T = L.approxTime();
                                    if (!(T < b))
                                        if (T < g) E = !0;
                                        else {
                                            if (!(T <= m)) break;
                                            var M = void 0;
                                            M = null == v || (x ? T < y : T > y), M && (v = L, y = T)
                                        }
                                }
                                if (!v && !E) {
                                    var O = (k + A) / 2,
                                        H = c / f * b / 2;
                                    v = u._minUnit, k = O - H, A = O + H
                                }
                                if (v) {
                                    var R = this.scene.timeStepSettings;
                                    return {
                                        from: v.roundTimeDown(k, R),
                                        to: v.roundTimeUp(A, R),
                                        unit: v
                                    }
                                }
                                var z = A - k,
                                    B = z - z / 4 >= b,
                                    U = B ? z / 4 : z - b;
                                D ? k += U : N ? A -= U : (k += U / 2, A -= U / 2), g = (A - k) / c * p.minUnitWidth, m = (A - k) / c * f
                            }
                            0 !== F || l || (0 === s.width && i ? v = i : d.Helpers.warn("`computeDisplayUnit` could not lookup the new unit. It is possible that the chart did not load the data properly."))
                        }
                        if (!v) {
                            if (!l) throw d.Helpers.error("", t, e, i, n, r, c, s.width), new Error("Could not calculate displayUnit");
                            v = u._minUnit
                        }
                        return o.unit = v, o
                    }, t.prototype.tryComputeDisplayPeriod = function(t, e, i, n, s, a, o, l) {
                        var h = "auto" === i ? null : r.parse(i),
                            u = null,
                            c = null;
                        if (t && t.indexOf(">") > -1) {
                            var p = t.split(">", 2);
                            u = parseInt(p[0], 10), c = parseInt(p[1], 10);
                            var f = r.timeUnitDiffs,
                                g = !h || f[h.unit] < f.d;
                            u = this.scene.timestampToInternal(u, g), c = this.scene.timestampToInternal(c, g)
                        } else if ("max" === t && null !== n && null !== s) u = n, c = "now" === e ? o : s;
                        else if ("max" !== t) {
                            var m = r.parse(t),
                                v = void 0;
                            v = "now" === e ? o : "newestData" === e && null !== s ? s : d.Helpers.tryParseFloat(e, null), m && null !== v && (u = m.sub(v), c = v)
                        }
                        if (null === u || null === c) return {
                            from: null,
                            to: null,
                            unit: null
                        };
                        var y = this.getUnitRange(a),
                            S = y.minTime,
                            b = y.maxTime,
                            x = y.minUnit,
                            C = y.maxUnit;
                        if (c - u > b && (h = C, u = c - b), c - u < S && (h = x, u = c - S), h && l) {
                            var w = Math.max(10, a.width),
                                L = w / this.settings.timeAxis.minUnitWidth * h.approxTime(),
                                T = w / this.settings.timeAxis.maxUnitWidth * h.approxTime();
                            c - u > L && (u = c - L), c - u < T && (u = c - T)
                        }
                        return {
                            from: u,
                            to: c,
                            unit: h
                        }
                    }, t.prototype.resolveFromTo = function(t, e, i) {
                        var n, r, s, a = this.scene,
                            o = a.timeStepSettings,
                            l = null,
                            h = a.majorTimeUnit || i;
                        return d.Helpers.isNumber(t) ? n = t : (s = "oldestDataRounded" === t) || "oldestData" === t ? (null === l && (l = this.chart.getDisplayLimits(i)), n = l.from, s && (n = h.roundTimeDown(n, o))) : (t && d.Helpers.error("Invalid `interaction.scrolling.limitFrom` value '" + t + "'."), n = null), d.Helpers.isNumber(e) ? r = e : (s = "newestDataRounded" === e) || "newestData" === e ? (null === l && (l = this.chart.getDisplayLimits(i)), r = l.to, s && (r = h.roundTimeUp(r, o))) : "now" === e ? r = a.getCurTime() : (e && d.Helpers.error("Invalid `interaction.scrolling.limitTo` value '" + e + "'."), r = null), {
                            from: i.roundTimeDown(n, o),
                            to: i.roundTimeUp(r, o)
                        }
                    }, t.prototype.getUnitRange = function(t, e) {
                        void 0 === e && (e = this.settings._displayUnitsParsed);
                        var i = e[e.length - 1],
                            n = i.approxTime(),
                            r = e[0],
                            s = r.approxTime(),
                            a = Math.max(10, t.width),
                            o = a / this.settings.timeAxis.minUnitWidth * n,
                            l = a / this.settings.timeAxis.maxUnitWidth * s;
                        return {
                            minTime: l,
                            maxTime: o,
                            minUnit: r,
                            maxUnit: i
                        }
                    }, t.prototype.getLimits = function(t, e) {
                        var i = this.settings.interaction.scrolling,
                            n = i.limitMode,
                            r = e ? null !== n : "block" === n;
                        return r && t ? this.resolveFromTo(i.limitFrom, i.limitTo, t) : {
                            from: null,
                            to: null
                        }
                    }, t.prototype.preventOverscale = function(t, e, i, n, r, s, a) {
                        var o = this.getLimits(s, a),
                            l = o.from,
                            h = o.to,
                            u = this.getUnitRange(t, e),
                            c = u.minTime,
                            p = u.maxTime;
                        if (null !== l && null !== h && r - n > h - l) {
                            var f = (l + h) / 2,
                                g = (h - l) / 2;
                            return g = Math.max(g, c / 2), this.adjustTimeRangeToUnits(t, f - g, f + g, s)
                        }
                        p *= .99, c *= 1.01;
                        var m = r - n;
                        m = Math.min(m, p), m = Math.max(m, c);
                        var v = m === c ? m / (r - n) : 1;
                        return null === i && (i = (n + r) / 2), n === r && n > 0 && d.Helpers.error("From = To, trouble", n, r), {
                            from: i + (n - i) * v,
                            to: i + (r - i) * v
                        }
                    }, t.prototype.preventOverscroll = function(t, e, i, n) {
                        var r = this.getLimits(t, n),
                            s = r.from,
                            a = r.to,
                            o = this.settings.interaction.scrolling,
                            l = i - e;
                        return null !== s && null !== a && (l = Math.min(l, a - s)), l *= o.overscrollProportion, null !== s && (s -= l), null !== a && (a += l), null !== s && null !== a && a - s < i - e ? (s < e ? l = e - s : a > i && (l = i - a), e -= l, i -= l) : null !== a && a < i ? (l = i - a, e -= l, i -= l) : null !== s && s > e && (l = s - e, e = s, i += l), {
                            from: e,
                            to: i
                        }
                    }, t.prototype.scroll = function(t, e, i, n, s, a) {
                        var o;
                        if ("displayUnit" === a) o = i.clone();
                        else if ("page" === a) o = this.getTimeRangeStep(t, e);
                        else {
                            if (!r.isGoodUnit(a)) return void d.Helpers.error("Incorrect scroll unit: " + a);
                            o = r.parse(a)
                        }
                        return o.count *= s, "<" === n ? {
                            from: o.sub(t),
                            to: o.sub(e)
                        } : {
                            from: o.add(t),
                            to: o.add(e)
                        }
                    }, t.prototype.getTimeRangeStep = function(t, e) {
                        t = Math.round(t), e = Math.round(e);
                        for (var i = null, n = this.scene.timeStepSettings, s = 0; s < r.knownUnits.length; s++) {
                            var a = r.knownUnits[s],
                                o = new r(a, 1),
                                l = o.roundTimeRound(t, n),
                                h = o.roundTimeRound(e, n);
                            t === l && e === h && (null === i || i.approxTime() < o.approxTime()) && (i = o)
                        }
                        return i.count = Math.max(1, i.numberOfUnits(t, e)), i
                    }, t
                }();
                t.TimeSetup = o;
                var h;
                h = "undefined" != typeof Float64Array ? function(t) {
                    return Array.isArray(t) || t instanceof Int32Array || t instanceof Uint32Array || t instanceof Float32Array || t instanceof Float64Array || t instanceof Int16Array || t instanceof Uint16Array
                } : function(t) {
                    return Array.isArray(t)
                };
                var u = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.units = ["ms", "s", "m", "h", "d", "M", "y"], e.url = null, e.urlByUnit = null, e.requestMaxUnits = 1e4, e.prefetchRatio = 1, e.minimizeRequests = !1, e.cacheSize = 5e5, e.timestampInSeconds = !1, e.stringTimestampFormat = null, e.timeZoneOffset = null, e.dataFunction = null, e.preloaded = null, e.suppressWarnings = !1, e.useSmallerUnitCache = !0, e._skipRequestRangeRounding = !1, e
                    }
                    return n(e, t), e
                }(d.SettingsData);
                t.SettingsData = u;
                var c = function() {
                    function e(t, e) {
                        this.chart = null, this.scene = null, this.settings = null, this.noData = !1, this.dataLimitFrom = null, this.dataLimitTo = null, this.dataLimitFromUnit = null, this.dataLimitToUnit = null, this.dataFrom = null, this.dataTo = null, this.error = null, this.cache = {}, this.requests = {}, this._pendingAddData = [], this.dataSettings = e, this.scene = t.scene, this.settings = t.settings, this.chart = t, this.dataId = "data" + e.id, this._prepareUsableUnits(), this.updateDataLimit(null, null, null, null, new r("ms", 1))
                    }
                    return e.binSearch = function(t, e) {
                        var i = 0;
                        if (!t) throw "no data";
                        for (var n = t.length - 1; i < n;) {
                            var r = Math.floor((n + i) / 2);
                            if (t[r][0] < e) i = r + 1;
                            else {
                                if (!(t[r][0] > e)) {
                                    for (; r > 0 && t[r - 1][0] === e;) r -= 1;
                                    return r
                                }
                                n = r
                            }
                        }
                        return i < t.length && t[i][0] < e ? i + 1 : i
                    }, e.linSearchUp = function(t, e, i, n) {
                        if (n) {
                            for (var r = e + 1; r <= t.length - 1; r++)
                                if (null !== n(t[r])) return r
                        } else
                            for (var r = e + 1; r <= t.length - 1; r++)
                                if (null !== t[r][i]) return r;
                        return -1
                    }, e.linSearchDown = function(t, e, i, n) {
                        if (n) {
                            for (var r = e - 1; r >= 0; r--)
                                if (null !== n(t[r])) return r
                        } else
                            for (var r = e - 1; r >= 0; r--)
                                if (null !== t[r][i]) return r;
                        return -1
                    }, e.findSubrange = function(t, i, n) {
                        var r = e.binSearch(t, i),
                            s = e.binSearch(t, n);
                        return {
                            i0: r,
                            i1: s
                        }
                    }, e.prototype.notifyAssetsLoaded = function() {
                        if (t.moment && t.moment.tz) {
                            for (var e = this._pendingAddData, i = 0; i < e.length; i++) {
                                var n = e[i];
                                this.addDataInt(n.request, n.parsedData, n.append)
                            }
                            this._pendingAddData = []
                        }
                    }, e.prototype.applyPreloadedData = function() {
                        this.dataSettings.preloaded && this.addData(this.dataSettings.preloaded)
                    }, e.prototype.remove = function() {
                        this.scene.setMessage(this.dataId, null);
                        for (var t in this.requests) {
                            var e = this.requests[t];
                            e && (e.callback = null)
                        }
                    }, e.prototype._prepareUsableUnits = function() {
                        var t = this.dataSettings.units;
                        if (0 === t.length) throw new Error("The `data.units` array must contain at least one value.");
                        for (var e = this._units = new Array(t.length), i = 0; i < t.length; i++) {
                            var n = t[i],
                                s = r.parse(n, n, !0);
                            s && (e[i] = {
                                size: s.approxTime(),
                                unit: s,
                                key: s.toString()
                            })
                        }
                        e.sort(function(t, e) {
                            return e.size - t.size
                        })
                    }, e.prototype._findUsableUnit = function(t) {
                        for (var e = this._units, i = this.cache, n = 0; n < e.length; n++) {
                            var r = e[n];
                            if (null !== i[r.key] && t.isMultipleOf(r.unit)) return r.unit
                        }
                        this.chart.error("Cannot load data - no suitable data unit configured for the requested `" + t + "`.")
                    }, e.prototype.determineDataLimits = function(t, e, i, n) {
                        var r = this;
                        if (t) {
                            if (t = this._findUsableUnit(t), !t) return
                        } else t = this._units[0].unit;
                        var s = null,
                            a = null,
                            o = t.approxTime();
                        if (this.dataLimitFromUnit && this.dataLimitFromUnit.approxTime() <= o && (s = this.dataLimitFrom), this.dataLimitToUnit && this.dataLimitToUnit.approxTime() <= o && (a = this.dataLimitTo), !(e && null == s || i && null == a)) return void n(this.dataLimitFrom, this.dataLimitTo, t);
                        this.scene.setMessage(this.dataId, this.settings.localization.determiningDataBounds, 999);
                        var l = function(t, i, s, a) {
                                if (!a) return void r.scene.setMessage(r.dataId, null);
                                if (null === r.dataLimitFrom && e) {
                                    if (t !== i) return void r.scheduleDataLoading(a, null, i, !1, function(t, e, n) {
                                        return l(i, t, e, n)
                                    });
                                    r.dataLimitFrom = i
                                }
                                r.scene.setMessage(r.dataId, null), n(r.dataLimitFrom, r.dataLimitTo, a)
                            },
                            h = function(t, e, n, s, a) {
                                if (!a) return void r.scene.setMessage(r.dataId, null);
                                if (null === r.dataLimitTo && i) {
                                    if (e !== s) return void r.scheduleDataLoading(a, s, null, !1, function(e, i, n) {
                                        return h(t, s, e, i, n)
                                    });
                                    r.dataLimitTo = s
                                }
                                l(t + 1, t, s, a)
                            };
                        this.scheduleDataLoading(t, null, null, !1, function(t, e, i) {
                            return h(t, e, t, e, i)
                        })
                    }, e.prototype.getDataForRange = function(t, i, n, r) {
                        var s = this.dataSettings,
                            a = null,
                            o = t,
                            l = i;
                        null !== this.dataLimitFrom && (o = Math.max(this.dataLimitFrom, o), l = Math.max(l, this.dataLimitFrom)), null !== this.dataLimitTo && (l = Math.min(this.dataLimitTo, l), o = Math.min(o, this.dataLimitTo));
                        var h = o !== l;
                        if (h)
                            for (var u = 0; u < this._units.length; u++) {
                                var c = this._units[u],
                                    p = this.cache[c.key];
                                if (p && n.isMultipleOf(c.unit) && p.from < i && p.to > t) {
                                    (s.useSmallerUnitCache || p.unit.approxTime() === n.approxTime()) && (a = p, h = o < p.from || l > p.to);
                                    break
                                }
                            }
                        var f = !1;
                        if (h && (h = !!s.dataFunction || !!s.url || !!s.urlByUnit, h && (!s.minimizeRequests || !this.chart.scrolling.isActive()))) {
                            var g = this._findUsableUnit(n),
                                m = !1;
                            a && g.approxTime() === a.unit.approxTime() && (o >= a.from && (m = !0, o = Math.max(o, a.to)), (l <= a.to || o < a.from) && (l = Math.min(l, a.from)));
                            var v = g.numberOfUnits(t, i),
                                y = s.cacheSize;
                            v > y && (d.Helpers.warn("The chart requires " + v + " values (using data unit `" + g + "`) to display the current time range. `data.cacheSize` limit (currently " + y + ") will be automatically increased to allow this."), s.cacheSize = Math.floor(1.2 * v)), f = this.scheduleDataLoading(g, o, l, m, r)
                        }
                        if (a) {
                            var S = e.findSubrange(a.values, t, i),
                                b = S.i0,
                                x = S.i1;
                            return {
                                unit: n.unit,
                                count: n.count,
                                from: a.from,
                                to: a.to,
                                values: a.values,
                                startIndex: b,
                                endIndex: x,
                                loading: f
                            }
                        }
                        return f ? {
                            unit: n.unit,
                            count: n.count,
                            from: o,
                            to: l,
                            values: [],
                            startIndex: 0,
                            endIndex: 0,
                            loading: !0
                        } : (o !== l && d.Helpers.warn("The datasource `" + s.id + "` cannot return data for unit " + n, null, !0), {
                            unit: null,
                            count: null,
                            from: null,
                            to: null,
                            values: [],
                            startIndex: 0,
                            endIndex: 0,
                            loading: !1
                        })
                    }, e.prototype.updateData = function(t, e, i) {
                        var n = this._findUsableUnit(t),
                            r = n.toString();
                        if (this.cache[r] && !this.requests[r]) {
                            var s = this.scene.timeStepSettings,
                                a = n.roundTimeUp(e, s),
                                o = n.roundTimeDown(this.cache[r].lastTimestamp, s);
                            o <= a && this.scheduleDataLoading(t, o, a, !1, i)
                        }
                    }, e.prototype.scheduleDataLoading = function(t, e, i, n, s) {
                        var a = this;
                        if (!t) throw "No unit";
                        if (e > i) return !1;
                        this.chart.log("Scheduling data loading " + t + "," + e + "," + i);
                        var o = d.Helpers.performanceNow(),
                            l = t.toString(),
                            h = this.requests[l];
                        if (h) {
                            if (!(h.time + this.dataSettings.requestTimeout < o)) return this.chart.log("Already loading for selected period"), !0;
                            h.callback = null, delete this.requests[l]
                        }
                        var u = e,
                            c = i,
                            p = this.scene.timeStepSettings;
                        if (this.dataSettings._skipRequestRangeRounding || (null !== u && (u = t.roundTimeDown(u, p)), null !== c && (c = t.roundTimeUp(c, p))), null !== u && null !== c) {
                            var g = (c - u) / t.approxTime();
                            g > this.dataSettings.requestMaxUnits && (n ? c = t.add(u, this.dataSettings.requestMaxUnits) : u = t.sub(c, this.dataSettings.requestMaxUnits))
                        }
                        var m = this.getDataFunction();
                        if (!m) return this.chart.log("No data function. Cannot load data?"), !1;
                        var v = r.timeUnitDiffs[t.unit] < r.timeUnitDiffs.d,
                            y = v ? null : this.settings.timeAxis.timeZone;
                        this.requests[l] = h = new f(t, u, c, s, o, y);
                        var S = function(t) {
                                return a.dataReceivedRaw(h, t)
                            },
                            b = function() {
                                return a.dataFailed(h)
                            };
                        u = this.convertTimestampFromInternal(u, v), c = this.convertTimestampFromInternal(c, v), u === c && null !== c && c++;
                        var x = m(u, c, t.toShortString(), S, b, y);
                        return this.chart.log("Data requested " + t + ", " + u + ", " + c), (d.Helpers.isObjectOrArray(x) || d.Helpers.isString(x)) && (this.dataSettings.suppressWarnings || d.Helpers.warn("Data object should not be returned directly from the `dataFunction` delegate - instead call the `success` callback."), this.dataReceivedRaw(h, x)), !0
                    }, e.prototype.dataReceivedRaw = function(t, e) {
                        if (!this.chart.removed) {
                            this.scene.setMessage(this.dataId, null), delete this.requests[t.unitStr], this.chart.log("Data arrived");
                            var i = d.Helpers.parseData(e, this.dataSettings.format);
                            d.Helpers.isObjectOrArray(e) && (i = this.cloneDataObject(i)), this.addDataInt(t, i, !1)
                        }
                    }, e.prototype.cloneDataObject = function(t) {
                        t = d.Helpers.clone(t);
                        var e = t.values;
                        if (!t.error && e)
                            if (Array.isArray(e)) {
                                t.values = e = e.slice();
                                for (var i = 0; i < e.length; i++) {
                                    var n = e[i];
                                    if (!h(n)) {
                                        t.error = "The `values` in the TimeChart data object must be an array of arrays. The value at index " + i + " is not an array.";
                                        break
                                    }
                                    e[i] = Array.prototype.slice.call(n)
                                }
                            } else t.error = "The `values` in the TimeChart data object must be an array or arrays.";
                        return t
                    }, e.prototype.addData = function(t) {
                        t = this.cloneDataObject(t), this.addDataInt(null, t, !0)
                    }, e.prototype.addDataInt = function(e, i, n) {
                        if (void 0 === n && (n = !1), null !== i) {
                            if (!t.moment || !t.moment.tz) return void this._pendingAddData.push({
                                request: e,
                                parsedData: i,
                                append: n
                            });
                            var r = this.cleanupData(i);
                            if (r.error) return "no-unit" === r.error && e && (this.cache[e.unitStr] = null), void this.chart.error(r.error);
                            var s;
                            if (s = e ? this.analyzeData(r, e) : this.analyzeDataNoRequest(r, n), e && !e.unit.isMultipleOf(s.unit)) this.chart.error("Incorrect data - requested unit `" + e.unit + "`, got `" + s.unit + "`. The requested unit must be a multiple of returned unit."), this.cache[e.unitStr] = null, e.callback && e.callback(null, null, null);
                            else {
                                var a = s.unitStr;
                                if (e && a !== e.unitStr) {
                                    this.cache[e.unitStr] = null;
                                    for (var o = !0, l = this._units, h = 0; h < l.length; h++)
                                        if (l[h].unit.isEqual(s.unit)) {
                                            o = !1;
                                            break
                                        } o && (d.Helpers.warn("The data source returned unit `" + a + "` which was not declared in `data.units`."), this.dataSettings.units.push(a), this._prepareUsableUnits())
                                }
                                if (s.unit && null != s.from && null != s.to) {
                                    var u = this.cache[s.unitStr];
                                    u ? this.cache[s.unitStr].merge(s, this.dataSettings.cacheSize, this.chart, n) : this.cache[s.unitStr] = s
                                }
                                e && e.callback && e.callback(s.from, s.to, s.unit)
                            }
                            this.chart.events.notifySceneChanges({
                                data: (c = {}, c[this.dataSettings.id] = !0, c)
                            });
                            var c
                        }
                    }, e.prototype.dataFailed = function(t) {
                        this.cache[t.unitStr] || (this.cache[t.unitStr] = null), this.scene.setMessage(this.dataId, this.settings.localization.dataRequestFailed, 1e3), this.chart.error("Failed data loading request"), t.callback && t.callback(null, null, null)
                    }, e.prototype.updateDataLimit = function(t, e, i, n, r) {
                        this.chart.invalidateDataLimits(), void 0 !== t && null !== t && (null === this.dataFrom || this.dataFrom > t) && (this.dataFrom = t), void 0 !== e && null !== e && (null === this.dataTo || this.dataTo < e) && (this.dataTo = e), null != i && (this.dataLimitFrom = i, this.dataLimitFromUnit = r, this.dataFrom = null == this.dataFrom ? i : Math.max(this.dataFrom, i)), null != n && (this.dataLimitTo = n, this.dataLimitToUnit = r, this.dataTo = null == this.dataTo ? n : Math.min(this.dataTo, n))
                    }, e.prototype.cleanupData = function(e) {
                        if (e.error) return e;
                        "local" === e.timeZone && (d.Helpers.error("The data source has to specify a timezone that is not `local` so that it works independent of the browser settings."), e.timeZone = t.moment.tz.guess()), e.error = "bad-response";
                        var i = !this.dataSettings.suppressWarnings,
                            n = "";
                        e.data && !e.values && (i && d.Helpers.warn("Use of property `data` in the TimeChart data object (returned from the URL, dataFunction or preloaded property) is deprecated. Please use `values` instead.", null, !0), e.values = e.data), null == e.unit && (n += "\nRequired field 'unit' not set in data"), null == e.values && (n += "\nRequired field 'values' not set in data");
                        var s = r.parse(e.unit, void 0, !1);
                        if (null === s && (n += "\nData error: unrecognized data unit: " + e.unit), n.length) return e.error = n.substr(1), e;
                        e.error = null;
                        var a = e.timeZone || "UTC",
                            o = r.timeUnitDiffs[s.unit] < r.timeUnitDiffs.d,
                            l = t.moment.defaultZone,
                            h = t.moment.locale();
                        t.moment.locale(this.scene.momentLocale), t.moment.tz.setDefault(a), e.from = this.convertTimestampToInternal(e.from, o), e.to = this.convertTimestampToInternal(e.to, o), e.dataLimitFrom = this.convertTimestampToInternal(e.dataLimitFrom, o), e.dataLimitTo = this.convertTimestampToInternal(e.dataLimitTo, o);
                        var u, c, p = -1e30,
                            f = !1;
                        null != e.from && null != e.to && e.from >= e.to && (this.chart.error("Data logic error. from >= to: " + e.from + ", " + e.to + ". The values will be ignored."), e.from = null, e.to = null), null != e.dataLimitFrom && null != e.dataLimitTo && e.dataLimitFrom >= e.dataLimitTo && (this.chart.error("Data logic error. dataLimitFrom >= dataLimitTo: " + e.dataLimitFrom + ", " + e.dataLimitTo + ". The values will be ignored."), e.dataLimitFrom = null, e.dataLimitTo = null);
                        var g = e.dataLimitFrom,
                            m = e.dataLimitTo;
                        null == g && (g = -(1 / 0)), null == m && (m = 1 / 0);
                        var v = 0;
                        if ("UTC" === a && "UTC" === this.settings.timeAxis.timeZone && (v = this.dataSettings.timestampInSeconds ? 1e3 : 1), e.values.length > 0) {
                            for (var y = [], S = 0; S < e.values.length; S++) {
                                var b = e.values[S];
                                if (Array.isArray(b)) {
                                    for (var x = b.length, C = 1; C < x; C++) {
                                        var w = b[C];
                                        null != w ? "number" != typeof w && isNaN(b[C] = parseFloat(w)) ? (this.chart.error("Data error: the value is not a number: values[" + S + "][" + C + "] = " + w), b[C] = null) : isNaN(w) && (b[C] = null) : b[C] = null
                                    }
                                    var L = x ? b[0] : null;
                                    if (null != L) {
                                        if (b[0] = L = v && "number" == typeof L ? L * v : this.convertTimestampToInternal(L, o), null === L) continue;
                                        (L < g || L > m) && this.chart.error("Data error: value timestamp outside data limits. values[" + S + "][0] = " + b[0] + ". Limits: " + g + "..." + m), i && p === L && d.Helpers.warn("There are multiple values given for the same timestamp " + b[0] + " which might produce invalid results."), p > L && !f && (i && d.Helpers.warn("Data values are not sorted on timestamp in ascending order (timestamp " + b[0] + "). TimeChart will sort the data automatically but to achieve better performance the data source should be sorted."), f = !0), p = b[0], y.push(b)
                                    }
                                } else this.chart.error("Data error: the value at index " + S + " is not an array.")
                            }
                            e.values = y, f && y.sort(function(t, e) {
                                return t[0] - e[0]
                            }), u = y[0][0], c = y[y.length - 1][0]
                        }
                        return null != e.from && u < e.from && (d.Helpers.warn("Data logic error. Data time " + u + " outside [from, to) range: " + e.from + ", " + e.to), e.from = u), null != e.to && c >= e.to && (d.Helpers.warn("Data logic error. Data time " + c + " outside [from, to) range: " + e.from + ", " + e.to), e.to = c + 1), t.moment.defaultZone = l, t.moment.locale(h), e
                    }, e.prototype.analyzeDataNoRequest = function(t, e) {
                        var i = this.dataSettings,
                            n = t.from,
                            s = t.to,
                            a = r.parse(t.unit),
                            o = null,
                            l = null;
                        if ((null == n || null == s) && t.values.length > 0) {
                            var h = this.scene.timeStepSettings;
                            o = t.values[0][0], l = t.values[t.values.length - 1][0], o = a.roundTimeDown(o, h), l = a.roundTimeUp(l + 1, h), null == n && (n = o), null == s && (s = l)
                        }
                        null != i.dataFunction || null != i.url || null != t.dataLimitFrom || null != t.dataLimitTo || d.Helpers.hasProperties(i.urlByUnit) || (d.Helpers.warn("Using preloaded data without specifying `dataLimitFrom` and `dataLimitTo` is not recommended - these values will be implied from the data and might result in invalid behavior.", null, 1e30), null == t.dataLimitFrom && (t.dataLimitFrom = Math.min((e ? this.dataLimitFrom : 0) || 1e30, t.from || o)), null == t.dataLimitTo && (t.dataLimitTo = Math.max((e ? this.dataLimitTo : 0) || -1e30, t.to || l))), this.updateDataLimit(o, l, t.dataLimitFrom, t.dataLimitTo, a);
                        var u = new p(a, n, s, t.values);
                        return null != t.error && (u.error = t.error), u
                    }, e.prototype.analyzeData = function(t, e) {
                        null === e.from && null == t.from && null != t.dataLimitFrom && (t.from = t.dataLimitFrom, d.Helpers.warn("`from` is not set in the data response - using `dataLimitFrom` instead. This may produce unexpected results.")), null === e.to && null == t.to && null != t.dataLimitTo && (t.to = t.dataLimitTo, d.Helpers.warn("`to` is not set in the data response - using `dataLimitTo` instead. This may produce unexpected results."));
                        var i = t.from,
                            n = t.to,
                            s = null,
                            a = null;
                        null != i && null != n && i >= n && this.chart.error("Data logic error. from >= to: " + i + ", " + n);
                        var o = r.parse(t.unit),
                            l = this.scene.timeStepSettings;
                        if (t.values.length > 0 ? (s = t.values[0][0], a = t.values[t.values.length - 1][0], s = o.roundTimeDown(s, l), a = o.roundTimeUp(a + 1, l), null == i && (i = null !== e.from ? Math.min(e.from, s) : s), null == n && (n = null !== e.to ? Math.max(e.to, a) : a), e.from && a <= e.unit.add(e.from) && (this.dataSettings._skipRequestRangeRounding = !0)) : (null == i && (i = e.from), null == n && (n = e.to), null != t.from && null != t.to ? (s = t.from, a = t.to) : (s = e.from, a = e.to, null === e.from && null === e.to && null == i && null == n && null == t.dataLimitFrom && null == t.dataLimitTo && (this.noData = !0))), this.updateDataLimit(s, a, t.dataLimitFrom, t.dataLimitTo, o), null !== e.from && null != t.to) {
                            var h = o.roundTimeDown(t.to, l);
                            h <= e.from && this.updateDataLimit(null, null, null, t.to, o)
                        }
                        if (null !== e.to && null != t.from) {
                            var u = o.roundTimeUp(t.from, l);
                            u >= e.to && this.updateDataLimit(null, null, t.from, null, o)
                        }
                        null == t.from && null == t.dataLimitFrom && (null !== this.dataLimitFrom && (null === e.from || e.from <= this.dataLimitFrom && s > this.dataLimitFrom) || null === this.dataLimitFrom && (void 0 === e.from || null === e.from)) && (this.updateDataLimit(null, null, s, null, o), i = s), null == t.to && null == t.dataLimitTo && (null !== this.dataLimitTo && (null === e.to || e.to >= this.dataLimitTo && a < this.dataLimitTo) || null === this.dataLimitTo && (void 0 === e.to || null === e.to)) && (this.updateDataLimit(null, null, null, a, o), n = a);
                        var c = new p(o, i, n, t.values);
                        return t.error && (c.error = t.error), c
                    }, e.prototype.getDataFunction = function() {
                        var t = this,
                            e = this.dataSettings;
                        if (e.dataFunction) return e.dataFunction;
                        var i = d.Helpers.hasProperties(e.urlByUnit);
                        return e.url || i ? function(n, r, s, a, o, l) {
                            var h;
                            if (i) {
                                if (h = e.urlByUnit[s], !h) return '{"error":"no-unit", "errormessage":"no data url for this time unit: ' + s + '"}'
                            } else h = e.url;
                            var u = [];
                            null !== n && u.push(["from", n.toString(10)]), null !== r && u.push(["to", r.toString(10)]), u.push(["unit", s]), null !== l && u.push(["timeZone", l]);
                            var c = window[t.settings.advanced.dataRequestClass];
                            d.Data.doRequest(c, h, t.dataSettings, u, a, o)
                        } : null
                    }, e.prototype.hasPendingRequests = function() {
                        return d.Helpers.hasProperties(this.requests)
                    }, e.prototype.convertTimestampToInternal = function(e, i) {
                        if (null == e) return null;
                        var n = this.dataSettings,
                            r = this.settings.timeAxis,
                            s = d.Helpers.isNumber(e);
                        s && n.timestampInSeconds && (e = 1e3 * e);
                        var a = t.moment(e, s ? null : n.stringTimestampFormat);
                        if (!a.isValid()) {
                            var o = parseFloat(e);
                            return s || isNaN(o) ? (d.Helpers.error("Could not parse timestamp value `" + e + "`. The value will be ignored."), null) : (d.Helpers.warn("Numeric timestamp value `" + e + "` was passed as string. This has been deprecated starting from version 1.12."), this.convertTimestampToInternal(o, i))
                        }
                        i && (a = a.tz(r.timeZone));
                        var l = a.utcOffset ? a.utcOffset() : a.zone();
                        return e = +a + 6e4 * l, e + 6e4 * (r.timeZoneOffset - n.timeZoneOffset)
                    }, e.prototype.convertTimestampFromInternal = function(t, e) {
                        if (null == t) return null;
                        var i = this.dataSettings;
                        return t = this.scene.timestampFromInternal(t, e), t += 6e4 * i.timeZoneOffset, i.timestampInSeconds && (t /= 1e3), t
                    }, e
                }();
                t.Data = c;
                var p = function() {
                    function t(t, e, i, n) {
                        this.values = null, this.error = null, this.values = n, this.to = i, this.from = e, this.unit = t, this.unitStr = t.toString(), this.updateLastTimestamp()
                    }
                    return t.prototype.updateLastTimestamp = function() {
                        this.values.length > 0 ? this.lastTimestamp = this.values[this.values.length - 1][0] : this.lastTimestamp = 0
                    }, t.prototype.merge = function(t, e, i, n) {
                        if (t.unit.approxTime() !== this.unit.approxTime()) throw new Error("merge unit mismatch");
                        if (!n && (this.from > t.to || this.to < t.from)) return this.values = t.values, this.from = t.from, void(this.to = t.to);
                        t.values.length > 0 && t.from > t.values[0][0] && i.error("Data merge - oldest data before from"), t.values.length > 0 && t.to < t.values[t.values.length - 1][0] && i.error("Data merge - newest data after to");
                        for (var r = 0; r < this.values.length && this.values[r][0] < t.from;) r += 1;
                        for (var s = this.values.length; s > 0 && this.values[s - 1][0] >= t.to;) s -= 1;
                        var a = t.values;
                        if (this.from = Math.min(this.from, t.from), this.to = Math.max(this.to, t.to), r > 0) {
                            var o = Math.max(0, a.length + r - e);
                            a = this.values.slice(o, r - 1 + 1).concat(a), o > 0 && (this.from = this.values[o - 1][0] + 1)
                        }
                        if (s < this.values.length) {
                            var l = this.values.length - s;
                            l = Math.min(l, e - a.length), a = a.concat(this.values.slice(s, s + l + 1)), l < this.values.length - s && (this.to = this.values[s + l][0])
                        }
                        this.values = a, this.updateLastTimestamp()
                    }, t
                }();
                t.TimeData = p;
                var f = function() {
                        function t(t, e, i, n, r, s) {
                            this.time = r, this.callback = n, this.to = i, this.from = e, this.unit = t, this.unitStr = t.toString(), this.timeZone = s
                        }
                        return t
                    }(),
                    g = function(t) {
                        function e() {
                            var e = t.apply(this, arguments) || this;
                            return e.limitMode = "snapBack", e.limitFrom = "oldestData", e.limitTo = "newestData", e.overscrollProportion = 0, e
                        }
                        return n(e, t), e
                    }(l.SettingsInteractionScrolling);
                t.SettingsInteractionScrolling = g;
                var m = function(t) {
                    function e(e) {
                        var i = t.call(this, e) || this;
                        return i.animationOrder = 600, i.paintOrder = 10, i.updateOrder = 1400, i.animationUnit = null, i.targetUnit = null, i.dragStartBar0 = null, i.dragStartBar1 = null, i.dragStartUnit = null, i.timeSetup = new o(e), i
                    }
                    return n(e, t), e.prototype.onSceneChange = function(e) {
                        t.prototype.onSceneChange.call(this, e);
                        var i = this.scene,
                            n = this.scene.displayUnit;
                        !this.scalingActive && i.timeScale && i.lastUnit === n || !n || this.timeSetup.preventUnitWidthViolation(this.chart.timeEnd, this.chart.timeStart) || (i.timeScale = (i.timeEnd - i.timeStart) / i.width), i.lastUnit !== n && (i.lastUnit = n)
                    }, e.prototype.scaleViewRange = function(e, i, n) {
                        var r = t.prototype.scaleViewRange.call(this, e, i, n),
                            s = this.scene,
                            a = s.settings.timeAxis,
                            o = (r.to - r.from) / s.width * a.minUnitWidth / 1.5;
                        return s.disableScaleLimiter || o <= s.displayUnit.approxTime() ? r : {
                            from: i,
                            to: n
                        }
                    }, e.prototype.setTimeRangeSnap = function(t, e, i, n, r, s, a, o, l) {
                        var h = this.snap(t, e, i, n, a, o);
                        t = h.from, e = h.to;
                        var u = h.unit,
                            c = h.period,
                            d = h.anchor;
                        l = void 0 === l ? this.scene.displayUnit : l, this.setTimeRange(t, e, u, r, s, d, c, l)
                    }, e.prototype.computeDisplayPeriod = function(t, e, i, n, r, s) {
                        var a = this.timeSetup.tryComputeDisplayPeriod(t, e, i, n, r, this.scene, this.scene.getCurTime(), s),
                            o = a.from,
                            l = a.to,
                            h = a.unit;
                        return null === o || null === l ? {
                            from: null,
                            to: null,
                            unit: null
                        } : this.computeTimeRangeExtend(o, l, h)
                    }, e.prototype.computeTimeRangeExtend = function(t, e, i) {
                        var n = this.scene;
                        if (!i) {
                            var r = this.timeSetup.computeDisplayUnit(n.timeStart, n.timeEnd, n.displayUnit, t, e, n);
                            t = r.from, e = r.to, i = r.unit
                        }
                        var s = n.timeStepSettings;
                        t = i.roundTimeDown(t, s), e = i.roundTimeUp(e, s), e === t && (e = i.add(e, 1));
                        var a = this._preventOverscroll(t, e, i, !0);
                        return t = a.from, e = a.to, {
                            from: t,
                            to: e,
                            unit: i
                        }
                    }, e.prototype.computeDisplayUnit = function(t, e, i) {
                        var n = null !== this.dragStartFrom ? this.dragStartFrom : this.scene.timeStart,
                            r = null !== this.dragStartTo ? this.dragStartTo : this.scene.timeEnd,
                            s = this.dragStartUnit ? this.dragStartUnit : this.scene.displayUnit,
                            a = this.chart.scrolling,
                            o = {
                                scroll: a.scrollingActive,
                                scale: a.scalingActive,
                                animate: i
                            };
                        return this.timeSetup.computeDisplayUnit(n, r, s, t, e, this.scene, o)
                    }, e.prototype.setTimeRange = function(t, e, i, n, r, s, a, o) {
                        if (void 0 === s && (s = null),
                            void 0 === a && (a = null), t = Math.round(t), e = Math.round(e), !(t > e)) {
                            if (!i) {
                                var l = this.computeDisplayUnit(t, e);
                                t = l.from, e = l.to, i = l.unit
                            }
                            if ("init" === r) {
                                var l = this.timeSetup.getMinRangeForUnit(t, e, i, s);
                                t = l.from, e = l.to
                            }
                            if (o = void 0 === o ? this.scene.displayUnit : o, t !== this.getFrom() || e !== this.getTo() || !i.isEqual(o) || !i.isEqual(this.targetUnit)) {
                                n && this.abort(), this.scene.anchor = s, this.scene.period = a, this.targetUnit = i;
                                var h = this.scene.displayUnit;
                                this.animationUnit = !i || this.scene.displayUnit && i.toString() !== this.scene.displayUnit.toString() ? null : i, this.scene.settings.timeAxis.keepUnitWhileAnimating && (this.animationUnit = h), this.goToPosition(t, e, n, d.Helpers.performanceNow(), !0), this.events.notifySceneChanges({
                                    time: !0
                                }), r && this.chart.notifyTimeChanged(t, e, i, r)
                            }
                        }
                    }, e.prototype.zoomOut = function(t, e, i, n, r) {
                        if (this.scene.displayUnit) {
                            var s = this.computeZoomOut(e, i),
                                a = this.scene.displayUnit;
                            this.scene.displayUnit = s.unit, this.setTimeRangeSnap(s.from, s.to, s.center, s.unit, n, r, !1, !0, a)
                        }
                    }, e.prototype.zoomIn = function(t, e, i, n, r, s) {
                        if (this.scene.displayUnit) {
                            null === e && (e = (i + n) / 2);
                            var a = this.onZoomIn(i, n, e, .5);
                            this.setTimeRangeSnap(a.from, a.to, a.center, t, r, s, !1, !0)
                        }
                    }, e.prototype.handleZoomWheel = function(t, e, i, n, r) {
                        var s = this.onSnapWhileDragging(t, e, i, this.scrollingActive, r);
                        t = s.from, e = s.to;
                        var a = s.unit;
                        if (this.scene.displayUnit = a, null === this.pointer1) {
                            var o = this.onSnapAfterDragging(t, e, i, this.scrollingActive, r);
                            t = o.from, e = o.to, a = o.unit, this.scene.displayUnit = a
                        }
                        this.goToPosition(t, e, !0, n, !0)
                    }, e.prototype.xyInArea = function(t, e) {
                        return this.scene.xyInChart(t, e)
                    }, e.prototype.xyToPosition = function(t, e) {
                        return this.scene.xToTime(t)
                    }, e.prototype.onZoomOut = function(e, i, n, r) {
                        return void 0 === r && (r = null), r ? t.prototype.onZoomOut.call(this, e, i, n, r) : this.computeZoomOut(e, i)
                    }, e.prototype.onZoomIn = function(e, i, n, r) {
                        if (void 0 === r && (r = null), r) return t.prototype.onZoomIn.call(this, e, i, n, r);
                        if (this.dragStartBar0 && (e = this.dragStartBar0, i = this.dragStartBar1, i - e > this.scene.timeEnd - this.scene.timeStart)) {
                            var s = this.scene.getClickBar(n);
                            e = s.time0, i = s.time1
                        }
                        return {
                            from: e,
                            to: i,
                            center: (e + i) / 2
                        }
                    }, e.prototype.onScroll = function(t, e, i) {
                        return this.timeSetup.scroll(t, e, this.scene.displayUnit, i, 1, "page")
                    }, e.prototype.onGoHome = function(t, e) {
                        var i = this.chart.getDisplayLimits().to;
                        if (null === i) return {
                            from: t,
                            to: e,
                            origin: null
                        };
                        this.scene.anchor = "newestData";
                        var n = e - t;
                        return {
                            from: i - n,
                            to: i,
                            origin: i
                        }
                    }, e.prototype.onStartDragging = function(t, e, i) {
                        this.scene.anchor = null, this.animationUnit = null, this.dragStartUnit = this.scene.displayUnit;
                        var n = this.scene.getClickBar(i);
                        this.dragStartBar0 = n.time0, this.dragStartBar1 = n.time1
                    }, e.prototype.onSnapWhileDragging = function(t, e, i, n, r) {
                        if (t > e) {
                            var s = e;
                            e = t, t = s
                        }
                        var a = this._preventOverscale(t, e, null, i, !1);
                        t = a.from, e = a.to;
                        var o = this.computeDisplayUnit(t, e).unit,
                            l = this._preventOverscroll(t, e, o, !1);
                        return t = l.from, e = l.to, this.events.notifySceneChanges({
                            time: !0
                        }), {
                            from: t,
                            to: e,
                            unit: o
                        }
                    }, e.prototype.onSnapAfterDragging = function(t, e, i, n, r) {
                        if (r) {
                            var s = this.timeSetup.adjustTimeAfterScale(t, e, this.dragStartBar0, this.dragStartBar1);
                            t = s.from, e = s.to
                        }
                        var a = this.snap(t, e, i, null, n, !1),
                            o = a.unit,
                            l = a.period,
                            h = a.anchor;
                        return this.targetUnit = o, this.animationUnit = this.scene.displayUnit, this.scene.period = l, this.scene.anchor = h, this.dragStartBar0 = null, this.dragStartBar1 = null, this.dragStartFrom = null, this.dragStartTo = null, this.dragStartUnit = null, this.events.notifySceneChanges({
                            time: !0
                        }), this.chart.notifyTimeChanged(t, e, o, "user"), {
                            from: a.from,
                            to: a.to,
                            unit: o
                        }
                    }, e.prototype.onPositionChanged = function(t, e, i) {
                        if (!isNaN(t) || !isNaN(e)) {
                            var n;
                            n = this.animationUnit ? this.animationUnit : this.computeDisplayUnit(t, e).unit, this.scene.setTimeRange(t, e, n), this.chart.timeStart = t, this.chart.timeEnd = e, this.chart.displayUnit = n, this.events.notifySceneChanges({
                                position: !0,
                                time: !0
                            })
                        }
                    }, e.prototype.onAnimationDone = function(t, e) {
                        if (this.targetUnit) {
                            var i = this.targetUnit ? this.targetUnit : this.computeDisplayUnit(t, e).unit;
                            this.chart.displayUnit = i, this.scene.setTimeRange(t, e, i)
                        }
                        this.targetUnit = null, this.animationUnit = null, this.chart.notifyAnimationDone()
                    }, e.prototype.onPointerDown = function(e) {
                        null !== this.pointer1 && null === this.pointer2 && (this.dragStartUnit = this.scene.displayUnit), t.prototype.onPointerDown.call(this, e)
                    }, e.prototype.onPointerDrag = function(e) {
                        this.scene.displayUnit && t.prototype.onPointerDrag.call(this, e)
                    }, e.prototype.computeZoomOut = function(t, e) {
                        var i, n = this.scene.settings.toolbar.zoomOutFunction,
                            s = this.scene.displayUnit,
                            a = null,
                            o = null,
                            l = e - t,
                            h = e - l / 2;
                        n && (o = n(s.unit, s.count, t, e)), null != o && o.unit && (a = new r(o.unit, o.count || 1)), a || (a = this.timeSetup.getBiggerDisplayUnit(s));
                        var u = a.approxTime(),
                            c = this.timeSetup.getUnitRange(this.scene, [a]),
                            d = null != o && (null != o.from || null != o.to);
                        if (d) {
                            i = Math.min(c.maxTime, o.to - o.from);
                            var p = this.timeSetup.verifyUnitWidth(o.from, o.to, a);
                            if (p.min || p.max) {
                                var f = this.timeSetup.adjustTimeRangeToUnits(this.chart.scene, o.from, o.to, a);
                                t = f.from, e = f.to
                            }
                        } else {
                            var g = Math.min(30 * l / u, Math.floor(c.maxTime / u));
                            i = u * g
                        }
                        return (!o || o && !o.from) && (t = h - i / 2, e = h + i / 2), {
                            from: t,
                            to: e,
                            center: h,
                            unit: a
                        }
                    }, e.prototype.snap = function(t, e, i, n, r, s) {
                        if ((s || r) && this.scene.settings.interaction.scrolling.limitMode) {
                            var a = this._preventOverscale(t, e, n, i, !0);
                            t = a.from, e = a.to
                        }
                        var o, l;
                        if (n ? o = n : !s || !s && r ? o = this.scene.displayUnit : (l = this.computeDisplayUnit(t, e), o = l.unit, t = l.from, e = l.to), r || s) {
                            var h = e - t,
                                u = this._preventOverscroll(t, e, o, !1);
                            t = u.from, e = u.to, u = this._preventOverscroll(t, e, o, !0), t = u.from, e = u.to, s = s || e - t !== h
                        }
                        if (!n && s) return l = this.computeDisplayUnit(t, e), t = l.from, e = l.to, this.snap(t, e, i, o, r, s);
                        var c = s ? null : this.scene.period,
                            d = this.scene.anchor,
                            p = this.scene.settings.interaction.snapMode;
                        if (p) {
                            var f = this.scene.majorTimeUnit && "y" === this.scene.majorTimeUnit.unit,
                                g = void 0;
                            if ("displayUnit" === p) g = o;
                            else if ("multiperiod" === p || "period" === p) {
                                var m = e - t,
                                    v = this.chart.getDisplayLimits(),
                                    y = v.from,
                                    S = v.to;
                                null !== y && (m = Math.min(m, S - y));
                                var b = this.timeSetup.getClosestDisplayPeriod(m, this.scene.majorTimeUnit, "multiperiod" === p || f);
                                g = b, c = b.toString()
                            }
                            var x = this.scene.timeStepSettings;
                            if ("period" !== p || f)
                                if (s) t = g.roundTimeRound(t, x), e = g.roundTimeRound(e, x);
                                else {
                                    var C = Math.max(g.numberOfUnits(t, e), 1),
                                        w = Math.abs(g.roundTimeRound(t, x) - t),
                                        L = Math.abs(g.roundTimeRound(e, x) - e);
                                    w < L ? (t = g.roundTimeRound(t, x), e = g.add(t, C)) : (e = g.roundTimeRound(e, x), t = g.sub(e, C))
                                }
                            else t = g.roundTimeDown(i, x), e = g.add(t, 1)
                        } else t = Math.round(t), e = Math.round(e);
                        return {
                            from: t,
                            to: e,
                            unit: o,
                            period: c,
                            anchor: d
                        }
                    }, e.prototype._preventOverscroll = function(t, e, i, n) {
                        return this.timeSetup.preventOverscroll(i, t, e, n)
                    }, e.prototype._preventOverscale = function(t, e, i, n, r) {
                        var s;
                        return i ? s = [i] : (i = this.scene.displayUnit, s = this.scene.settings._displayUnitsParsed), this.timeSetup.preventOverscale(this.scene, s, n, t, e, i, r)
                    }, e
                }(l.Scrolling);
                t.Scrolling = m;
                var v = function() {
                    function t() {
                        this.enabled = !0, this.tolerance = 6, this.moveByDragging = !1, this.resizeSensitivity = 2, this.resizeTolerance = 20, this.clearOnRightClick = !0, this.clearOnDropdownUnitMismatch = !1, this.zoomOutSelectionMode = "clear"
                    }
                    return t
                }();
                t.SettingsInteractionSelection = v;
                var y = function() {
                    function t() {
                        this.lineColor = "rgba(38, 38, 44, 1)", this.lineWidth = 2, this.fillColor = "rgba(85, 237, 255, 0.15)", this.behindSeries = !1, this.roundToNearestTime = !0
                    }
                    return t
                }();
                t.SettingsAreaStyleSelection = y;
                var S = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        i.selectStart = null, i.selectingPointer = null, i.isSelecting = !1, i.isHoveringEdge = !1, i.lastX = 0, i.lastY = 0, i.roundAround = !1, i.selectionRemoved = !1, i.animationOrder = 500, i.updateOrder = 1300, i.isMoving = !1, i.moveStartX = 0, i.moveStartY = 0, i.moveSelectionStart = null, i.moveSelectionEnd = null, i.chart = e, i.scene = e.scene;
                        var n = e.settings;
                        return i.settings = n.interaction.selection, i.styleSettings = n.area.style.selection, i.labelStyle = n.area.style.selectionLabel, i.paintOrder = i.styleSettings.behindSeries ? 3 : 15, i
                    }
                    return n(e, t), e.prototype.onSceneChange = function(t) {
                        if ((t.changes.time || t.changes.bounds) && null !== this.selectStart && this.dragPointer(null, this.lastX, this.lastY, t.changes), t.changes.settings) {
                            var e = this.styleSettings.behindSeries ? 3 : 15;
                            this.paintOrder !== e && (this.paintOrder = e, this.chart.events.refreshElementOrder())
                        }
                    }, e.prototype.getLineCoordinates = function() {
                        var t = this.scene,
                            e = this.styleSettings,
                            i = Math.round(t.timeToX(t.selectionStart)),
                            n = Math.round(t.timeToX(t.selectionEnd)),
                            r = e.lineWidth,
                            s = Math.round(t.x0),
                            a = Math.round(s + t.width);
                        return i - r < s && i > s - 4 * r && (i = s + r), n + r > a && n < a + 4 * r && (n -= r), {
                            start: i,
                            end: n
                        }
                    }, e.prototype.paintScene = function(t) {
                        var e = this.scene;
                        if (null != e.minorTimeUnit && null != e.selectionStart && null != e.selectionEnd && this.chart.assetsLoaded) {
                            var i = this.styleSettings,
                                n = i.lineWidth,
                                r = Math.round(e.x0),
                                s = Math.round(r + e.width),
                                a = Math.round(e.y0),
                                o = Math.round(a + e.height + e.bottomAxisSize),
                                l = this.getLineCoordinates(),
                                h = l.start,
                                u = l.end,
                                c = e.getRoundedTimes(),
                                p = e.formatTimeRange(c[0], c[1], !0),
                                f = p[0],
                                g = p[1],
                                m = t.context,
                                v = e.height + e.bottomAxisSize;
                            d.Graphics.pushClip(t, r, a, e.width, v), d.Graphics.rectStyle(m, i);
                            var y = h + n % 2 / 2,
                                S = u + n % 2 / 2;
                            m.fillRect(y + n / 2, a, u - h - n, v), m.beginPath(), m.moveTo(y, a), m.lineTo(y, o), m.moveTo(S, a), m.lineTo(S, o), d.Graphics.stroke(m, i);
                            var b = t.labelRenderer,
                                x = this.labelStyle,
                                C = d.Graphics.getTextWidth(m, x, f),
                                w = d.Graphics.getTextWidth(m, x, g),
                                L = new d.Label({
                                    text: f,
                                    textStyle: x
                                }, !0),
                                T = new d.Label({
                                    text: g,
                                    textStyle: x
                                }, !0),
                                M = 10,
                                k = 5;
                            h < r && (h = r), u > s && (u = s), C + w + 20 < u - h ? (h += k, u = u - w - k) : (h = h - C - k, u += k);
                            var A = this.chart.shell.getChartInnerArea(),
                                P = A.findTopPosition(h, h + C),
                                I = A.findTopPosition(u, u + w);
                            b.paint(m, h + C / 2, P + M, 1, L), b.paint(m, u + w / 2, I + M, 1, T), d.Graphics.popClip(t)
                        }
                    }, e.prototype.onPointerMove = function(t) {
                        var e = this.scene,
                            i = this.settings;
                        if (i.enabled) {
                            e.xyInBottom(t.x, t.y) ? t.cursor = "text" : !e.xyInChartOrBottom(t.x, t.y) || e.displayUnit && e.displayUnit.isEqual(this.chart.settings._minUnit) || (t.cursor = "pointer");
                            var n = !1;
                            if (null != e.selectionStart && null != e.selectionEnd && e.xyInChartOrBottom(t.x, t.y) && e.timeStart < e.timeEnd) {
                                var r = this.getLineCoordinates();
                                Math.abs(r.start - t.x) <= i.tolerance ? (t.cursor = "e-resize", t.consumed = !0, n = !0) : Math.abs(r.end - t.x) <= i.tolerance ? (t.cursor = "w-resize", t.consumed = !0, n = !0) : i.moveByDragging && r.start < t.x && r.end > t.x && (t.cursor = "move", t.consumed = !0)
                            }
                            this.isHoveringEdge = n
                        }
                    }, e.prototype.onPointerDown = function(t) {
                        var e = this.scene,
                            i = this.settings;
                        if (e.xyInChartOrBottom(t.x, t.y) && null === this.selectingPointer && i.enabled) {
                            this.selectionRemoved = !1, this.lastX = t.x;
                            var n = null,
                                r = null;
                            if (null !== e.selectionStart || null !== e.selectionEnd) {
                                var s = this.getLineCoordinates(),
                                    a = Math.abs(s.start - t.x),
                                    o = Math.abs(s.end - t.x),
                                    l = !1;
                                if (a < i.tolerance && a <= o ? (this.selectStart = e.selectionEnd, l = !0) : o < i.tolerance && o <= a ? (this.selectStart = e.selectionStart, l = !0) : i.moveByDragging && s.start < t.x && s.end > t.x && (this.isMoving = !0, this.moveStartX = t.x, this.moveStartY = t.y, this.moveSelectionStart = e.selectionStart, this.moveSelectionEnd = e.selectionEnd, this.selectStart = e.xToTime(t.x), l = !0), l) return this.selectingPointer = t.identifier, t.consumed = !0, this.roundAround = !0, void(this.isSelecting = !0)
                            }
                            e.xyInBottom(t.x, t.y) && (this.selectingPointer = t.identifier, this.selectStart = e.xToTime(t.x), t.capture = !0, this.roundAround = !0, this.isSelecting = !0, t.x >= n && t.x <= r || null !== e.selectionStart && (this.selectionRemoved = !0, e.selectionStart = null, e.selectionEnd = null, t.changes.selection = !0))
                        }
                    }, e.prototype.onPointerDrag = function(t) {
                        this.scene.displayUnit && this.selectingPointer === t.identifier && (this.dragPointer(t, t.x, t.y, t.changes), t.consumed = !0)
                    }, e.prototype.dragPointer = function(t, e, i, n) {
                        var r, s, a = this.scene;
                        if (this.isMoving) {
                            var o = a.dxToDtime(e - this.moveStartX);
                            r = this.moveSelectionStart + o, s = this.moveSelectionEnd + o;
                            var l = i - this.moveStartY,
                                h = this.settings.resizeTolerance;
                            if (Math.abs(l) > h) {
                                l = l < 0 ? l + h : l - h;
                                var u = this.moveSelectionEnd - this.moveSelectionStart,
                                    c = Math.min(u, a.dxToDtime(l * this.settings.resizeSensitivity)),
                                    p = 0 === u ? .5 : (this.selectStart - this.moveSelectionStart) / u;
                                r += c * p, s -= c * (1 - p)
                            }
                        } else {
                            var f = this.selectStart,
                                g = this.scene.xToTime(e),
                                m = Math.abs(f - g),
                                v = a.snapTimeRound(f),
                                o = v - f,
                                y = d.Helpers.sign(o);
                            v = f + Math.min(o * y, .9 * m) * y, v < g ? (r = v, s = g) : (r = g, s = v)
                        }
                        this.lastX = e, this.lastY = i, a.selectionStart = r, a.selectionEnd = s, n.selection = !0, a.settings.events.selectionChangeDuringInteraction && this.chart.notifySelectionChanged(this.chart.createEventArguments(t, "user"))
                    }, e.prototype.onPointerUp = function(t) {
                        if (this.selectingPointer === t.identifier) {
                            if (this.isSelecting) {
                                var e = this.snapSelection(),
                                    i = e.st,
                                    n = e.en;
                                i === n && (i = null, n = null);
                                var r = this.scene;
                                r.selectionStart = i, r.selectionEnd = n, null != i && (r.hoverFrom = i, r.hoverTo = n), this.chart.notifySelectionChanged(this.chart.createEventArguments(t, "user")), t.changes.selection = !0
                            }(this.isSelecting || this.selectionRemoved) && (t.consumed = !0), this.isSelecting = !1, this.isMoving = !1, this.selectStart = null, this.selectingPointer = null
                        }
                    }, e.prototype.onPointerCancel = function(t) {
                        this.onPointerUp(t)
                    }, e.prototype.snapSelection = function() {
                        var t, e, i = this.scene;
                        return null != i.selectionStart ? this.roundAround ? (t = i.snapTimeRound(i.selectionStart), e = i.snapTimeRound(i.selectionEnd)) : (t = i.snapTimeDown(i.selectionStart), e = i.snapTimeUp(i.selectionEnd)) : (t = null, e = null), {
                            st: t,
                            en: e
                        }
                    }, e
                }(d.ChartElement);
                t.Selection = S;
                var b = function(e) {
                    function i() {
                        var t = e.apply(this, arguments) || this;
                        return t.chart = null, t.hoverItem = null, t.timeStart = 0, t.timeEnd = 0, t.anchor = null, t.period = null, t.displayUnit = null, t.data = {}, t.markers = [], t.mainData = null, t.selectionStart = null, t.selectionEnd = null, t.minorTimeFormat = null, t.minorTimeUnit = null, t.majorTimeUnit = null, t.majorTimeFormat = null, t.hoverFrom = null, t.hoverTo = null, t.timeScale = 0, t.lastUnit = null, t.disableScaleLimiter = !1, t.momentLocale = "zc" + (i._momentLocaleCounter++).toFixed(0), t
                    }
                    return n(i, e), i.prototype.setTimeRange = function(t, e, i) {
                        i || d.Helpers.error("Scene.setTimeRange: no display unit"), this.timeStart = t, this.timeEnd = e, this.displayUnit = i
                    }, i.prototype.getTimeRange = function() {
                        return {
                            timeStart: this.timeStart,
                            timeEnd: this.timeEnd,
                            displayUnit: this.displayUnit
                        }
                    }, i.prototype.pixelsPerTime = function() {
                        return this.width / (this.timeEnd - this.timeStart)
                    }, i.prototype.getScale = function() {
                        return (this.timeEnd - this.timeStart) / this.width
                    }, i.prototype.timeToX = function(t) {
                        return this.x0 + this.width * (t - this.timeStart) / (this.timeEnd - this.timeStart)
                    }, i.prototype.timeToXCoefs = function() {
                        return {
                            tadd: this.x0 - this.timeStart * this.width / (this.timeEnd - this.timeStart),
                            tmul: this.width / (this.timeEnd - this.timeStart)
                        }
                    }, i.prototype.xToTime = function(t) {
                        return this.timeStart + (this.timeEnd - this.timeStart) * (t - this.x0) / this.width
                    }, i.prototype.xToFraction = function(t) {
                        return (t - this.x0) / this.width
                    }, i.prototype.dTimeToDx = function(t) {
                        return this.width * t / (this.timeEnd - this.timeStart)
                    }, i.prototype.dxToDtime = function(t) {
                        return t / this.width * (this.timeEnd - this.timeStart)
                    }, i.prototype.snapTimeDown = function(t) {
                        return this.displayUnit.roundTimeDown(t, this.timeStepSettings)
                    }, i.prototype.snapTimeUp = function(t) {
                        return this.displayUnit.roundTimeUp(t, this.timeStepSettings)
                    }, i.prototype.snapTimeRound = function(t) {
                        return this.displayUnit.roundTimeRound(t, this.timeStepSettings)
                    }, i.prototype.getClickBar = function(t) {
                        var e = this.displayUnit;
                        if (!e) return {
                            time0: null,
                            time1: null
                        };
                        var i = e.roundedTimeRange(t, this.timeStepSettings);
                        return {
                            time0: i.t0,
                            time1: i.t1
                        }
                    }, i.prototype.getCurTime = function() {
                        var t, e = this.settings.currentTime;
                        return t = null != e.time ? e.time : (new Date).getTime(), this.timestampToInternal(t, !0)
                    }, i.prototype.timestampToInternal = function(e, i) {
                        if (null == e) return null;
                        e = +e;
                        var n = this.settings.timeAxis;
                        if (i) {
                            if (!t.moment || !t.moment.tz) return null;
                            var r = t.moment.utc(e).tz(n.timeZone),
                                s = r.utcOffset ? r.utcOffset() : r.zone();
                            e = +r + 6e4 * s
                        }
                        return e + 6e4 * n.timeZoneOffset
                    }, i.prototype.timestampFromInternal = function(e, i) {
                        if (null == e) return null;
                        var n = this.settings.timeAxis;
                        if (i) {
                            if (!t.moment || !t.moment.tz) return null;
                            var r = t.moment.utc(e).tz(n.timeZone),
                                s = r.utcOffset ? r.utcOffset() : r.zone();
                            e = +r - 6e4 * s
                        }
                        return e -= 6e4 * n.timeZoneOffset
                    }, i.prototype.getRoundedTimes = function(t) {
                        if (void 0 === t && (t = [this.selectionStart, Math.max(this.selectionStart, this.selectionEnd)]), null === t) return null;
                        for (var e = 0; e < t.length; e++) this.settings.area.style.selection.roundToNearestTime ? t[e] = this.displayUnit.roundTimeRound(t[e], this.timeStepSettings) : t[e] = this.displayUnit.roundTimeDown(t[e], this.timeStepSettings);
                        return t
                    }, i.prototype.formatTimeRange = function(e, i, n, r) {
                        n = void 0 !== n && n, r = void 0 !== r && r;
                        var s = this.displayUnit,
                            a = this.settings.localization.infoDates,
                            o = a.minorTimeFormats[s.unit],
                            l = a.majorTimeFormats[s.unit],
                            h = a.fullTimeFormats[s.unit];
                        "d" !== s.unit && "M" !== s.unit && "y" !== s.unit && "ms" !== s.unit || (i = Math.max(e, i - 1));
                        var u = t.moment.utc(e).locale(this.momentLocale),
                            c = t.moment.utc(i).locale(this.momentLocale),
                            d = h,
                            p = !1;
                        if (r) d = h, p = !1;
                        else if (n) d = o, p = !1;
                        else {
                            var f = s.getBigger() || s;
                            "w" === f.unit && (f = f.getBigger()), "y" !== s.unit && f.roundTimeDown(e, this.timeStepSettings) === f.roundTimeDown(i, this.timeStepSettings) ? (d = o, p = !0) : (d = h, p = !1)
                        }
                        var g = [u.format(d), c.format(d)];
                        return p && g.push(u.format(l)), g
                    }, i.prototype.headerItem = function(e, i) {
                        var n = this.displayUnit,
                            r = null;
                        if (!n) return r;
                        var s, a = this.settings.localization,
                            o = a.infoDates,
                            l = Math.max(1, Math.ceil(n.numberOfUnits(e, i))),
                            h = Math.floor(l * n.count),
                            u = h % 10 === 1 && h % 100 !== 11 ? a.timeUnitsNames[n.unit] : a.timeUnitsNamesPlural[n.unit],
                            c = this.momentLocale;
                        if (1 === l) {
                            var d = t.moment(e).locale(c).utc(),
                                p = d.format(o.fullTimeFormats[n.unit]);
                            s = "" + p
                        } else {
                            var f = this.formatTimeRange(e, i);
                            s = 3 === f.length ? f[0] + " - " + f[1] + ", " + f[2] : f[0] + " - " + f[1]
                        }
                        return r = {
                            date: s,
                            unitCount: h,
                            unitName: u
                        }
                    }, i
                }(l.Scene);
                b._momentLocaleCounter = 0, t.Scene = b;
                var x = function() {
                    function e(t, e, i, n, r, s, a) {
                        void 0 === i && (i = []), void 0 === n && (n = null), void 0 === r && (r = null), void 0 === s && (s = !0), void 0 === a && (a = 2), this.scene = null, this.step = null, this.uniform = !1, this.currentFrom = 0, this.currentTo = 0, this.fromBar = null, this.toBar = null, this.fromIndex = 0, this.toIndex = 0, this.times = [], this.xes = [], this.oldMul = 0, this.oldAdd = 0, this.values = [], this.counts = [], this.arrays = [], this.extraArrays = [], this.bufExpandSize = 100, this.extraSteps = 2, this.uniformTolerance = 0, this.approxExtraTime = 0, this.extraSteps = a, this.uniform = s, this.step = e, this.scene = t, n = n || this.scene.timeStart, r = r || this.scene.timeEnd, this.extraArrays = i.slice(0), this.arrays = i.slice(0), this.arrays.push("xes"), this.arrays.push("times"), this.uniformTolerance = Math.min(1, this.step.count - 2), this.approxExtraTime = this.extraSteps * e.approxTime(), this.init(n - this.approxExtraTime, r + this.approxExtraTime)
                    }
                    return e.prototype.getArray = function(t) {
                        switch (t) {
                            case "xes":
                                return this.xes;
                            case "times":
                                return this.times;
                            case "values":
                                return this.values;
                            case "counts":
                                return this.counts;
                            default:
                                return d.Helpers.error("TimeSlicer: Invalid get array: '" + t + "'"), null
                        }
                    }, e.prototype.setArray = function(t, e) {
                        switch (t) {
                            case "xes":
                                return void(this.xes = e);
                            case "times":
                                return void(this.times = e);
                            case "values":
                                return void(this.values = e);
                            case "counts":
                                return void(this.counts = e);
                            default:
                                return void d.Helpers.error("TimeSlicer: Invalid set array: '" + t + "'")
                        }
                    }, e.prototype._getOrigin = function(t) {
                        var e = this.scene.timeStepSettings;
                        if (1 === this.step.count || this.uniform) return this.step.roundTimeDown(t, e);
                        var i = this.step.getBigger().roundTimeDown(t, e),
                            n = this.step.numberOfUnits(i, t);
                        return this.step.add(i, n)
                    }, e.prototype._add = function(t) {
                        if (this.uniform || 1 === this.step.count || "d" !== this.step.unit) return t.add(this.step.count, this.step.unit);
                        var e = t.daysInMonth(),
                            i = t.date();
                        return i + 2 * this.step.count > e + 1 + this.uniformTolerance ? t.add(e - i + 1, "d") : t.add(this.step.count, this.step.unit)
                    }, e.prototype._sub = function(t) {
                        if (this.uniform || 1 === this.step.count || "d" !== this.step.unit) return t.subtract(this.step.count, this.step.unit);
                        var e = t.date();
                        if (e <= this.step.count) {
                            t.subtract(1, "M");
                            var i = t.daysInMonth() - 1,
                                n = i + 1 - this.step.count + this.uniformTolerance;
                            return t.date(1 + n - d.Helpers.trunc(n % this.step.count))
                        }
                        return t.subtract(this.step.count, this.step.unit)
                    }, e.prototype.init = function(e, i) {
                        for (var n = this, r = 0; r < this.arrays.length; r++) {
                            var s = this.arrays[r];
                            this.setArray(s, [])
                        }
                        if (e >= i) return this.fromIndex = 0, this.toIndex = 0, this.fromBar = null, void(this.toBar = null);
                        this.fromBar = t.moment(this._getOrigin(e)).utc(), this.fromIndex = 0;
                        var a = t.moment(this.fromBar).utc();
                        for (this.times.push(a.valueOf()); a.valueOf() < i;) this._add(a), this.times.push(a.valueOf());
                        this.toIndex = this.times.length, this.toBar = a, this.currentFrom = e, this.currentTo = i, this.xes = this.times.map(function(t) {
                            return n.scene.timeToX(t)
                        });
                        for (var o = 0; o < this.extraArrays.length; o++) {
                            var l = this.extraArrays[o],
                                h = [];
                            h.length = this.times.length, this.setArray(l, h)
                        }
                    }, e.prototype.makeMiniSlice = function(e) {
                        var i = this.scene.timeToXCoefs(),
                            n = i.tadd,
                            r = i.tmul,
                            s = t.moment(this._getOrigin(e)).utc(),
                            a = s.valueOf(),
                            o = n + a * r;
                        this._add(s);
                        var l = s.valueOf(),
                            h = n + l * r;
                        return {
                            t0: a,
                            x0: o,
                            t1: l,
                            x1: h
                        }
                    }, e.prototype.update = function(t, e) {
                        if (void 0 === t && (t = this.scene.timeStart), void 0 === e && (e = this.scene.timeEnd), null == e && (e = this.scene.timeEnd), null == t && (t = this.scene.timeStart), t -= this.approxExtraTime, e += this.approxExtraTime, t === this.currentFrom && e === this.currentTo) return this.updateXes(this.fromIndex, this.toIndex), {
                            offset: 0,
                            newBefore: this.fromIndex,
                            newAfter: this.toIndex
                        };
                        if (null === this.fromBar || t > this.toBar.valueOf() || e < this.fromBar.valueOf()) return this.init(t, e), {
                            offset: 0,
                            newBefore: this.toIndex,
                            newAfter: this.toIndex
                        };
                        var i = 0,
                            n = this.fromIndex,
                            r = this.toIndex,
                            s = this.scene.timeToXCoefs(),
                            a = s.tadd,
                            o = s.tmul,
                            l = this.fromBar.valueOf() - t;
                        if (l > 0) {
                            var h = d.Helpers.trunc(l / this.step.approxTime()) + 2;
                            if (this.fromIndex < h) {
                                var u = [];
                                u.length = h + this.bufExpandSize;
                                for (var c = 0; c < this.arrays.length; c++) {
                                    var p = this.arrays[c];
                                    this.setArray(p, u.concat(this.getArray(p)))
                                }
                                i += u.length, n += u.length, r += u.length, this.fromIndex += u.length, this.toIndex += u.length
                            }
                            for (var f = this.fromBar.valueOf(); f > t;) this._sub(this.fromBar), this.fromIndex -= 1, f = this.fromBar.valueOf(), this.times[this.fromIndex] = f, this.xes[this.fromIndex] = a + f * o
                        }
                        var g = e - this.toBar.valueOf();
                        if (g > 0) {
                            var h = d.Helpers.trunc(g / this.step.approxTime()) + 2;
                            if (this.times.length < this.toIndex + h)
                                for (var m = this.toIndex + h + this.bufExpandSize, c = 0; c < this.arrays.length; c++) {
                                    var p = this.arrays[c];
                                    this.getArray(p).length = m
                                }
                            for (var f = this.toBar.valueOf(); f < e;) this._add(this.toBar), f = this.toBar.valueOf(), this.times[this.toIndex] = f, this.xes[this.toIndex] = a + f * o, this.toIndex += 1
                        }
                        for (this._add(this.fromBar); this.fromBar.valueOf() < t;) this.fromIndex += 1, this._add(this.fromBar);
                        for (this._sub(this.fromBar), this._sub(this.toBar); this.toBar.valueOf() >= e;) this.toIndex -= 1, this._sub(this.toBar);
                        this._add(this.toBar);
                        var v = this.toIndex - this.fromIndex + this.bufExpandSize;
                        if (this.fromIndex > v) {
                            for (var y = this.fromIndex - this.bufExpandSize, c = 0; c < this.arrays.length; c++) {
                                var p = this.arrays[c];
                                this.getArray(p).splice(0, y)
                            }
                            i -= y, n -= y, r -= y, this.fromIndex -= y, this.toIndex -= y
                        }
                        if (this.toIndex < this.times.length - v)
                            for (var c = 0; c < this.arrays.length; c++) {
                                var p = this.arrays[c];
                                this.getArray(p).length = this.toIndex + this.bufExpandSize
                            }
                        return this.updateXes(n, r), this.currentFrom = t, this.currentTo = e, {
                            offset: i,
                            newBefore: n,
                            newAfter: r
                        }
                    }, e.prototype.updateXes = function(t, e) {
                        var i = this.scene.timeToXCoefs(),
                            n = i.tadd,
                            r = i.tmul;
                        if (this.oldAdd !== n || this.oldMul !== r) {
                            this.oldAdd = n, this.oldMul = r;
                            for (var s = t; s <= e - 1; s++) this.xes[s] = n + this.times[s] * r
                        }
                    }, e
                }();
                t.TimeSlicer = x;
                var C = function() {
                    function t() {
                        this.enabled = !0, this.vgrid = !0, this.minUnitWidth = 1, this.maxUnitWidth = 200, this.maxRelativeUnitWidth = 1 / 3, this.keepUnitWhileAnimating = !1, this.showHolidays = !0, this.miniTimeRuler = !0, this.unitSizePolicy = "auto", this.timeZoneOffset = null, this.timeZone = "UTC", this.padding = 32, this.style = {
                            showMinorTimeBalloons: !1,
                            showMajorTimeBalloons: !1,
                            minorTimeBalloonStyle: {
                                fillColor: "rgba(38, 38, 44, 0.2)"
                            },
                            majorTimeBalloonStyle: {
                                fillColor: "rgba(38, 38, 44, 0.2)"
                            },
                            minorTimeLabel: {
                                fillColor: "rgba(38, 38, 44, 0.2)",
                                font: "500 12px Arial"
                            },
                            majorTimeLabel: {
                                fillColor: "#B9B9B9",
                                font: "500 12px Arial"
                            },
                            dateLighten: {
                                fillColor: "rgba(38, 38, 44, 1)"
                            },
                            dateHolidays: {
                                fillColor: "#B9B9B9"
                            },
                            minorTimeRuler: {
                                lineColor: "rgba(230, 230, 230, 0.15)"
                            },
                            vgrid: {
                                lineColor: "rgba(230, 230, 230, 0.15)"
                            }
                        }
                    }
                    return t
                }();
                t.SettingsTimeAxis = C;
                var w = function(e) {
                    function i(t) {
                        var i = e.call(this) || this;
                        return i.curSceneScale = 0, i.minorFormat = null, i.majorFormat = null, i.minorTimeUnit = null, i.majorTimeUnit = null, i.minorLabelHeight = null, i.majorLabelHeight = null, i.minorLabelWidths = null, i.minorLabelBallonWidths = null, i.majorLabelWidths = null, i.fullLabelWidths = null, i.multiYearWidth = 0, i.majorSlices = null, i.minorSlices = null, i.animationOrder = 610, i.paintOrder = 30, i.updateOrder = 1e3, i.multiples = {
                            ms: [1, 10, 100],
                            s: [1, 2, 5, 15, 30],
                            m: [1, 2, 5, 15, 30],
                            h: [1, 3, 6, 12, 24],
                            d: [1, 2, 5, 10],
                            w: [1, 5, 10, 20],
                            M: [1, 3, 6],
                            y: [1, 10, 100, 1e3]
                        }, i.chart = t, i.scene = i.chart.scene, i.tt = new o(t), i.options = i.scene.settings.timeAxis, i.panel = new d.ChartPanel, i.panel.side = "bottom", i.panel.packingOrder = 100, i.panel.computeSize = function(t, e, n, r) {
                            return i.computeSize(t, e, n, r)
                        }, i
                    }
                    return n(i, e), i.prototype.computeSize = function(e, i, n, s) {
                        if (!this.options.enabled) return this.scene.bottomAxisSize = 0, {
                            width: e,
                            height: 0
                        };
                        var a = t.moment(0xc694d6e77ef8).utc(),
                            o = this.scene.settings.localization.timeAxisDates,
                            l = this.options.style.minorTimeLabel;
                        this.minorLabelHeight = .8 * d.Graphics.getTextHeight(n, this.options.style.minorTimeLabel.font), this.minorLabelWidths = {}, this.minorLabelBallonWidths = {};
                        var h;
                        for (h = 0; h < r.knownUnits.length; h++) {
                            var u = r.knownUnits[h],
                                c = d.Graphics.getTextWidth(n, l, a.format(o.minorLabelTimeFormats[u]));
                            this.minorLabelWidths[u] = c, this.minorLabelBallonWidths[u] = c + this.minorLabelHeight
                        }
                        for (l = this.options.style.majorTimeLabel, this.majorLabelHeight = .8 * d.Graphics.getTextHeight(n, this.options.style.majorTimeLabel.font), this.majorLabelWidths = {}, this.fullLabelWidths = {}, h = 0; h < r.knownUnits.length; h++) {
                            var u = r.knownUnits[h];
                            this.majorLabelWidths[u] = this.majorLabelHeight + d.Graphics.getTextWidth(n, l, a.format(o.majorLabelTimeFormats[u])), this.fullLabelWidths[u] = this.majorLabelHeight + d.Graphics.getTextWidth(n, l, a.format(o.majorLabelFullTimeFormats[u]))
                        }
                        this.multiYearWidth = d.Graphics.getTextWidth(n, l, "8888 - 8888") + this.majorLabelHeight;
                        var p = (this.options.padding + 23) / 23,
                            f = Math.round(Math.min((this.minorLabelHeight + this.majorLabelHeight) * p, i));
                        return this.scene.bottomAxisSize = f, {
                            width: e,
                            height: f
                        }
                    }, i.prototype.onSceneChange = function(t) {
                        var e = t.changes.settingsChanges;
                        e && e.timeAxis && (t.changes.bounds = !0)
                    }, i.prototype.getPanels = function() {
                        return [this.panel]
                    }, i.prototype.getMajorLabelWidth = function(t, e) {
                        return "y" === t.unit && t.count > 1 ? this.multiYearWidth : e ? this.majorLabelWidths[t.unit] : null !== this.fullLabelWidths ? this.fullLabelWidths[t.unit] || null : null
                    }, i.prototype.computeLabels = function(t) {
                        var e, i, n = new o(this.chart),
                            s = this.scene.timeEnd - this.scene.timeStart,
                            a = n.toBiggerDisplayUnit(t);
                        if (a) {
                            var l = new r("s", 1);
                            for (e = a.isSmaller(l) ? l : a, i = this.computeMinorUnit(e), a = n.toBiggerDisplayUnit(e); a && (a.approxTime() <= .5 * s || e.approxTime() < this.scene.dxToDtime(this.getMajorLabelWidth(e, null != i)));) e = a, i = this.computeMinorUnit(e), a = n.toBiggerDisplayUnit(a)
                        }
                        if (!a) {
                            e = "y" === t.unit ? t : new r("y", 1);
                            for (var h = 0; h < this.multiples.y.length; h++) {
                                var u = this.multiples.y[h];
                                if (e = new r("y", u), i = this.computeMinorUnit(e), e.approxTime() > this.scene.dxToDtime(this.getMajorLabelWidth(e, null != i))) break
                            }
                        }
                        return {
                            minorUnit: i,
                            majorUnit: e
                        }
                    }, i.prototype.computeMinorUnit = function(t) {
                        var e = this.scene.displayUnit.clone(),
                            i = new r(r.toSmallerUnit[t.unit], 1);
                        i.unit && i.isBigger(e) && (e = i);
                        var n = e.approxTime(),
                            s = null;
                        if (null === this.minorLabelWidths) return null;
                        for (var a = 1.5 * this.scene.dxToDtime(this.minorLabelWidths[e.unit]), o = 0; o < this.multiples[e.unit].length; o++) {
                            var l = this.multiples[e.unit][o];
                            if (l < e.count && (l = e.count), e.count = l, n = e.approxTime(), a <= n) {
                                s = e;
                                break
                            }
                        }
                        return s && s.isEqual(t) && (s = null), s
                    }, i.prototype.doAnimations = function(t) {
                        if (this.scene.displayUnit && this.scene.timeStart < this.scene.timeEnd) {
                            var e = this.scene.getScale();
                            this.curSceneScale = e;
                            var i = this.computeLabels(this.scene.displayUnit),
                                n = i.minorUnit,
                                r = i.majorUnit;
                            n ? (this.minorFormat = this.scene.settings.localization.timeAxisDates.minorLabelTimeFormats[n.unit], this.majorFormat = this.scene.settings.localization.timeAxisDates.majorLabelTimeFormats[r.unit]) : (this.minorFormat = null, this.majorFormat = this.scene.settings.localization.timeAxisDates.majorLabelFullTimeFormats[r.unit]), this.minorTimeUnit = n, this.majorTimeUnit = r, null !== this.majorSlices && r.approxTime() === this.majorSlices.step.approxTime() || (this.majorSlices = new x(this.scene, r)), !n || null !== this.minorSlices && n.approxTime() === this.minorSlices.step.approxTime() ? null === n && (this.minorSlices = null) : this.minorSlices = new x(this.scene, n, [], null, null, !1), this.majorSlices.update(), this.minorSlices && this.minorSlices.update(), this.minorTimeUnit ? (this.scene.minorTimeFormat = this.minorFormat, this.scene.minorTimeUnit = this.minorTimeUnit) : this.scene.displayUnit && (this.scene.minorTimeUnit = this.scene.displayUnit, this.scene.minorTimeFormat = this.scene.settings.localization.timeAxisDates.minorLabelTimeFormats[this.scene.displayUnit.unit]), this.scene.majorTimeFormat = this.majorFormat, this.scene.majorTimeUnit = this.majorTimeUnit
                        }
                    }, i.prototype.paintScene = function(e) {
                        if (this.scene.displayUnit && this.options.enabled && this.scene.timeStart < this.scene.timeEnd) {
                            var i = this.scene.settings.timeAxis.style,
                                n = e.context,
                                r = e.labelRenderer,
                                s = this.scene.x0,
                                a = s + this.scene.width,
                                o = this.panel.top + 1,
                                l = this.panel.bottom,
                                h = l - o,
                                u = this.scene.y0,
                                c = this.scene.height,
                                p = l - 1.8 * this.majorLabelHeight;
                            d.Graphics.pushClip(e, s, u, this.scene.width, h + c);
                            var f = this.majorSlices.xes,
                                g = this.majorSlices.times,
                                m = this.majorSlices.fromIndex,
                                v = this.majorSlices.toIndex,
                                y = i.dateLighten;
                            if (y && y.fillColor) {
                                var S = this.majorSlices.step.numberOfUnits(0, g[m]);
                                n.beginPath();
                                for (var b = m + d.Helpers.trunc(S) % 2; b <= v - 2; b += 2) {
                                    var x = d.Helpers.trunc(Math.max(f[b], s)) + 1,
                                        C = d.Helpers.trunc(Math.min(f[b + 1], a));
                                    n.rect(x, o - 1, C - x, h)
                                }
                                d.Graphics.fill(n, y)
                            }
                            if (this.options.showHolidays && this.minorSlices && ("w" === this.minorSlices.step.unit || "d" === this.minorSlices.step.unit || "h" === this.minorSlices.step.unit)) {
                                var w = this.scene.timeToXCoefs(),
                                    L = w.tadd,
                                    T = w.tmul,
                                    M = 864e5,
                                    k = this.scene.timeStart;
                                k = Math.round(k - k % M);
                                for (var A = t.moment(k).utc().isoWeekday(), P = this.scene.settings.localization.holidayWeekdays, I = i.dateHolidays, D = d.Graphics.beginStrokeAndFill(n, I), x = k * T + L; x <= a;) {
                                    var C = x + T * M;
                                    P.indexOf(A) > -1 && D.rect(x, u, C - x, Math.min(5, h) + c), A = A % 7 + 1, x = C
                                }
                                d.Graphics.endStrokeAndFill(n, D, I)
                            }
                            if (this.options.vgrid) {
                                for (var N = d.Graphics.beginStrokeAndFill(n, this.options.style.vgrid), b = m + 1; b <= v - 2; b++) {
                                    var F = d.Helpers.trunc(f[b]) + .5;
                                    if (F >= a) break;
                                    N.moveTo(F, u), N.lineTo(F, l)
                                }
                                d.Graphics.endStrokeAndFill(n, N, this.options.style.vgrid)
                            }
                            var E = "y" === this.majorSlices.step.unit && this.majorSlices.step.count > 1,
                                O = this.getMajorLabelWidth(this.majorSlices.step, null != this.minorFormat),
                                H = this.scene.momentLocale;
                            if (!this.minorSlices || this.majorSlices.step.unit !== this.minorSlices.step.unit) {
                                if (i.showMajorTimeBalloons) {
                                    n.beginPath();
                                    for (var b = m; b <= v - 2; b++) {
                                        var R = f[b],
                                            z = f[b + 1];
                                        if (!(R >= a || z <= s)) {
                                            var B = (R + z) / 2;
                                            R < s && (R = s, B = Math.min((R + z) / 2, z - O)), z > a && (z = a, B = Math.max((R + z) / 2, R + O)), d.Graphics.strokeBalloon2(n, B, p + 1, O, this.majorLabelHeight)
                                        }
                                    }
                                    d.Graphics.paint(n, i.majorTimeBalloonStyle)
                                }
                                for (var b = m; b <= v - 2; b++) {
                                    var R = f[b],
                                        z = f[b + 1];
                                    if (!(R >= a || z <= s)) {
                                        var k = g[b],
                                            U = void 0;
                                        if (E) {
                                            var G = g[b + 1] - 1;
                                            U = t.moment.utc(k).locale(H).format(this.majorFormat) + " - " + t.moment(G).locale(H).utc().format(this.majorFormat)
                                        } else U = t.moment.utc(k).locale(H).format(this.majorFormat);
                                        var B = (R + z) / 2;
                                        R < s && (R = s, B = Math.min((R + z) / 2, z - O)), z > a && (z = a, B = Math.max((R + z) / 2, R + O));
                                        var V = new d.Label({
                                            text: U,
                                            textStyle: i.majorTimeLabel
                                        }, !0);
                                        r.paint(n, B, p, 1, V)
                                    }
                                }
                            }
                            var W = this.scene.settings.timeAxis,
                                j = W.style.minorTimeRuler;
                            if (this.minorSlices) {
                                g = this.minorSlices.times, f = this.minorSlices.xes, m = this.minorSlices.fromIndex, v = this.minorSlices.toIndex, O = this.minorLabelWidths[this.minorSlices.step.unit];
                                var Y = o + d.Helpers.trunc(.4 * this.minorLabelHeight),
                                    Z = o - 1,
                                    _ = Y + d.Helpers.trunc(1.6 * this.minorLabelHeight);
                                if (i.showMinorTimeBalloons) {
                                    n.beginPath();
                                    for (var b = m; b <= v - 1; b++) {
                                        var F = f[b];
                                        d.Graphics.strokeBalloon(n, F, o - 5, O, this.minorLabelHeight)
                                    }
                                    d.Graphics.paint(n, i.minorTimeBalloonStyle)
                                } else {
                                    var q = this.majorSlices.fromIndex,
                                        X = this.majorSlices.xes;
                                    n.beginPath();
                                    for (var Q = q, b = m; b <= v - 1; b++) {
                                        for (var F = f[b]; F > X[Q];) Q += 1;
                                        if (X[Q] !== F) {
                                            if (F >= a) break;
                                            F = d.Helpers.trunc(F) - .5, n.moveTo(F, Z), n.lineTo(F, _)
                                        }
                                    }
                                    d.Graphics.stroke(n, j)
                                }
                                for (var J = i.showMinorTimeBalloons ? "center" : "left", K = i.showMinorTimeBalloons ? 0 : 3, b = m; b <= v - 1; b++) {
                                    var F = f[b],
                                        k = g[b],
                                        U = t.moment(k).locale(H).utc().format(this.minorFormat),
                                        V = new d.Label({
                                            text: U,
                                            aspectRatio: 1e9,
                                            align: J,
                                            textStyle: i.minorTimeLabel
                                        });
                                    r.measure(n, V);
                                    var $ = F + K + V.hwidth;
                                    r.paint(n, $, Y + V.hheight, 1, V)
                                }
                            }
                            var tt = this.chart.dataWarehouse.getDisplayUnitsSlicer();
                            if (W.miniTimeRuler && j && tt && tt.xes[tt.fromIndex + 1] - tt.xes[tt.fromIndex] > 4) {
                                var et = o - 1,
                                    it = o + 3;
                                f = tt.xes;
                                var nt = this.majorSlices.fromIndex,
                                    rt = this.minorSlices ? this.minorSlices.fromIndex : nt,
                                    st = this.majorSlices.xes,
                                    at = this.minorSlices ? this.minorSlices.xes : st;
                                n.beginPath();
                                for (var ot = nt, lt = rt, ht = 0, b = tt.fromIndex; b <= tt.toIndex - 2; b++) {
                                    for (var F = f[b]; F > st[ot];) ot += 1;
                                    if (st[ot] !== F) {
                                        for (; F > at[lt];) lt += 1;
                                        if (at[lt] !== F) {
                                            if (F >= a) break;
                                            F = d.Helpers.trunc(F) - .5, n.moveTo(F, et), n.lineTo(F, it), ht++
                                        }
                                    }
                                }
                                if (ht && d.Graphics.stroke(n, j), this.scene.settings.advanced.themeCSSClass.indexOf("gradient") !== -1) {
                                    var ut = d.Colors.colorTone(j.lineColor, 2, 2);
                                    ht = 0, n.beginPath(), ot = nt, lt = rt;
                                    for (var b = tt.fromIndex; b <= tt.toIndex - 2; b++) {
                                        for (var F = f[b]; F > st[ot];) ot += 1;
                                        if (st[ot] !== F) {
                                            for (; F > at[lt];) lt += 1;
                                            if (at[lt] !== F) {
                                                if (F >= a) break;
                                                F = d.Helpers.trunc(F) + .5, n.moveTo(F, et), n.lineTo(F, it), ht++
                                            }
                                        }
                                    }
                                    ht && d.Graphics.stroke(n, {
                                        lineColor: ut.color
                                    })
                                }
                            }
                            d.Graphics.popClip(e)
                        }
                    }, i
                }(d.ChartElement);
                t.TimeAxis = w;
                var L = function() {
                    function t() {
                        this.enabled = !0, this.label = {
                            padding: 3,
                            margin: 3,
                            aspectRatio: 3,
                            align: "center",
                            textStyle: {
                                fillColor: "rgba(185, 185, 185, 1)",
                                font: "500 12px Arial"
                            },
                            backgroundStyle: {
                                lineColor: "rgba(23, 23, 27, 1)",
                                fillColor: "rgba(16, 16, 19, 1)"
                            }
                        }, this.align = "left", this.side = "top", this.style = {
                            lineColor: "rgba(23, 23, 27, 1)"
                        }, this.time = null, this.overrideLimits = !1, this.showTime = !1
                    }
                    return t
                }();
                t.SettingsMarker = L;
                var T = function() {
                    function t(t, e, i) {
                        if (this.labelCacheUnit = null, this.labelCacheTime = null, this.initialText = null, this.isMilestone = !0, this.settings = e, this.label = new d.Label(e.label), i) {
                            var n = d.Helpers.clone(i);
                            d.Helpers.extendStyleTo(this.label.style.textStyle, n), n.fillColor || (n.fillColor = e.style.lineColor), this.label.style.textStyle = n
                        }
                        null != e.time ? this.time = t.timestampToInternal(e.time, !0) : this.time = null, this.initialText = this.label.text || null
                    }
                    return t
                }();
                t.Marker = T;
                var M = function(e) {
                    function i(t) {
                        var i = e.call(this) || this;
                        return i.animationOrder = 2e3, i.paintOrder = 40, i.updateOrder = 800, i.scene = null, i._initialized = !1, i.chart = t, i.scene = i.chart.scene, i
                    }
                    return n(i, e), i.prototype.onSceneChange = function(t) {
                        if (this.chart.assetsLoaded) {
                            var e = t.changes,
                                i = e.settingsChanges,
                                n = i && i.milestones;
                            (!this._initialized || n || e.assets) && (this.createMarkers(), this._initialized = !0), (e.time || n) && this.scene.markers.sort(function(t, e) {
                                return t.time - e.time
                            })
                        }
                    }, i.prototype.paintScene = function(t) {
                        var e = this.scene,
                            i = e.markers,
                            n = t.labelRenderer,
                            r = t.context;
                        if (0 !== i.length && e.displayUnit) {
                            var s = Math.round(e.y0);
                            r.textBaseline = "middle", d.Graphics.pushClip(t, e.x0, Math.round(e.y0), e.width, e.height + e.bottomAxisSize);
                            for (var a = this.getRenderingParts(t, i), o = a.lines, l = 0; l < o.length; l++) {
                                var h = o[l],
                                    u = d.Graphics.beginStrokeAndFill(r, h.style),
                                    c = "bottom" === h.side ? this.getTopPos(h.x, 0) : s + e.height;
                                c = Math.round(c), u.moveTo(h.x, c), u.lineTo(h.x, h.y), d.Graphics.endStrokeAndFill(r, u, h.style)
                            }
                            for (var p = a.labels, f = 0; f < p.length; f++) {
                                var g = p[f];
                                n.paint(r, g.x, g.y, 1, g.label)
                            }
                            d.Graphics.popClip(t)
                        }
                    }, i.prototype.getRenderingParts = function(t, e) {
                        for (var i = t.context, n = this.scene, r = t.labelRenderer, s = n.displayUnit.unit, a = n.settings.localization.markerDates.timeFormats[s], o = n.x0, l = o + n.width, h = Math.round(n.y0), u = Math.round(h + n.height), c = [], p = [], f = [], g = [], m = [], v = [], y = [], S = [], b = this.scene.momentLocale, x = 0; x < e.length; x++) {
                            var C = e[x],
                                w = n.timeToX(C.time);
                            w = Math.floor(w) + .5, C.labelCacheUnit === s && C.labelCacheTime === C.time || (null !== C.initialText ? (C.label.text = C.initialText, C.settings.showTime && (C.label.text += " " + this.generateMarkerTimeText(C, b, a))) : C.settings.showTime && (C.label.text = this.generateMarkerTimeText(C, b, a)), r.measure(i, C.label), C.labelCacheUnit = s, C.labelCacheTime = C.time);
                            var L = C.label.style.margin || 0,
                                T = C.label.hwidth + L,
                                M = C.label.hheight + L,
                                k = 2 * T,
                                A = 2 * M;
                            if (w + T >= o - 1 && w - T <= l + 1) {
                                var P = C.settings.align,
                                    I = "center" === P ? T : k;
                                w + I >= l ? (P = "left", w -= 2) : w - I <= o && (P = "right", w += 2);
                                var D = w - T,
                                    N = w + T,
                                    F = w;
                                "left" === P ? (F = w - T + L, N = w, D = w - k) : "right" === P && (F = w + T - L, N = w + k, D = w);
                                var E = [],
                                    O = -1,
                                    H = D < o ? Math.max(o, D) : D > l ? Math.min(l, D) : D,
                                    R = this.getTopPos(H, I),
                                    z = "top" === C.settings.side ? R : Math.round(n.height + .5 * n.bottomAxisSize);
                                if (0 !== c.length)
                                    for (;;) {
                                        var B = O !== -1 ? f[O] + m[O] : z,
                                            U = B + A;
                                        O = -1;
                                        for (var G = 0; G < c.length; G++)
                                            if (E.indexOf(G) === -1) {
                                                var V = p[G],
                                                    W = c[G],
                                                    j = f[G],
                                                    Y = g[G],
                                                    Z = D >= W && D <= V || N >= W && N <= V || D <= W && N >= V,
                                                    _ = B >= j && B <= Y || U >= j && U <= Y || B <= j && U >= Y;
                                                if (Z && _) {
                                                    E.push(G), z = f[G] + m[G], O = G;
                                                    break
                                                }
                                            } if (O === -1) break
                                    }
                                var q = void 0;
                                "top" === C.settings.side ? q = z + M : (u = h + n.height - M + L, q = Math.min(z, n.height + .5 * n.bottomAxisSize)), q = d.Helpers.trunc(q) + .5, m.push(A), v.push(k), f.push(z), g.push(z + A), c.push(D), p.push(D + k);
                                var X = {
                                    value: u,
                                    changes: !1
                                };
                                null != C.animator && (X = C.animator.updateAndGet(q, t.timeStamp)), y.push({
                                    x: w,
                                    y: X.value + M - L,
                                    style: C.settings.style,
                                    side: C.settings.side
                                }), S.push({
                                    x: F,
                                    y: X.value,
                                    label: C.label
                                }), X.changes && (t.animating = !0)
                            }
                        }
                        return {
                            lines: y,
                            labels: S
                        }
                    }, i.prototype.generateMarkerTimeText = function(e, i, n) {
                        return t.moment(e.time).locale(i).utc().format(n).replace(/ /g, String.fromCharCode(160))
                    }, i.prototype.getTopPos = function(t, e) {
                        var i = this.scene.x0 + this.scene.width,
                            n = this.chart.shell.getChartInnerArea();
                        return n.findTopPosition(t, Math.min(t + e, i))
                    }, i.prototype.createMarkers = function() {
                        var t = this.scene,
                            e = t.markers.filter(function(t) {
                                return !t.isMilestone
                            }),
                            i = t.settings,
                            n = i.milestones;
                        for (var r in n) {
                            var s = n[r];
                            if (s.enabled) {
                                var a = new T(t, s, i.area.style.markerText);
                                a.animator = new d.Animator(0, 0, 200), e.push(a)
                            }
                        }
                        t.markers = e
                    }, i
                }(d.ChartElement);
                t.Markers = M;
                var k = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.showTime = !0, e.align = "left", e.side = "bottom", e.label = {
                            margin: 4,
                            padding: 3,
                            textStyle: {
                                font: "500 12px Arial",
                                fillColor: "rgba(225, 101, 64, 1)"
                            }
                        }, e.style = {
                            lineColor: "rgba(225, 101, 64, 1)"
                        }, e
                    }
                    return n(e, t), e
                }(L);
                t.SettingsCurrentTime = k;
                var A = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 100, i.paintOrder = 35, i.updateOrder = 900, i.marker = null, i.timeTimerUnit = null, i.timeTimer = null, i.timeTimerTarget = -(1 / 0), i.timeTickerEnabled = !1, i.timeTimerCheckAlways = !1, i._lastAnchor = null, i.chart = e, i.settings = i.chart.settings, i.scene = i.chart.scene, i.events = i.chart.events, i.createMarker(), i.updateTimers(), i
                    }
                    return n(e, t), e.prototype.updateTimers = function() {
                        var t = this,
                            e = this.settings.advanced;
                        this.timeTickerEnabled = e.timeUpdateInterval && (this.settings.currentTime.enabled || "now" === this.scene.anchor), this.timeTickerEnabled ? this.updateCurTime() : this.timeTimer && (clearTimeout(this.timeTimer), this.timeTimer = null), e.dataUpdateInterval ? this.dataTimer = setInterval(function() {
                            return t.dataTick()
                        }, e.dataUpdateInterval) : this.dataTimer && (clearInterval(this.dataTimer), this.dataTimer = null)
                    }, e.prototype.createMarker = function() {
                        var t = this.settings.currentTime,
                            e = this.marker,
                            i = this.scene.markers;
                        e && (i.splice(i.indexOf(e), 1), this.marker = null), t.enabled && (e = this.marker = new T(this.scene, t, null), e.isMilestone = !1, e.time = this.scene.getCurTime(), i.push(e))
                    }, e.prototype.onSceneChange = function(t) {
                        var e = !1,
                            i = t.changes.settingsChanges;
                        i && ((i.advanced || i.currentTime) && (this.updateTimers(), e = !0), i.currentTime && this.createMarker()), this._lastAnchor !== this.scene.anchor && (e || this.updateTimers(), this._lastAnchor = this.scene.anchor), this.timeTickerEnabled && (t.changes.timeMarker || t.changes.time && (this.timeTimerCheckAlways || !this.timeTimer || this.scene.getScale() < this.timeTimerUnit)) && (this.updateCurTime(), this.updateVisiblePeriod())
                    }, e.prototype.timerTick = function() {
                        this.timeTimer = null, this.chart.removed || (this.updateCurTime(), this.updateVisiblePeriod())
                    }, e.prototype.dataTick = function() {
                        var t = this;
                        if (this.dataTimer = null, !this.chart.removed && this.scene.displayUnit) {
                            var e = this.scene.getCurTime(),
                                i = function() {
                                    t.updateVisiblePeriod()
                                };
                            for (var n in this.chart.data) {
                                var r = this.chart.data[n];
                                r.updateData(this.scene.displayUnit, e, i)
                            }
                        }
                    }, e.prototype.doAnimations = function(t) {
                        t.changes.data && this.updateVisiblePeriod()
                    }, e.prototype.updateCurTime = function(t) {
                        var e = this,
                            i = this.scene;
                        this.timeTimerUnit = i.getScale();
                        var n = i.getCurTime();
                        this.marker && (this.marker.time = n);
                        var r = i.timeToX(n);
                        if (!isNaN(r)) {
                            var s = r + 200 > i.x0 && r - 200 < i.x0 + i.width,
                                a = this.settings.advanced.timeUpdateInterval,
                                o = 0;
                            if (s) this.timeTimerCheckAlways = !1, void 0 === t && this.events.notifySceneChanges({
                                requestPaint: !0
                            }), i.displayUnit.approxTime() >= 36e5 && (o = Math.floor(i.xToTime(r + 1) - n) / 2, a = Math.max(a, o), o /= 4);
                            else {
                                if (r > 0) return;
                                a = Math.max(a, i.dxToDtime(-r - 200) / 2), this.timeTimerCheckAlways = !0
                            }
                            var l = +new Date;
                            if (this.timeTimer) {
                                var h = this.timeTimerTarget - l;
                                if (h < a + o) return;
                                window.clearTimeout(this.timeTimer)
                            }
                            s && i.dTimeToDx(a) > 1 ? this.events.notifySceneChanges({
                                timeMarker: !0
                            }) : (this.timeTimerTarget = l + a, this.timeTimer = setTimeout(function() {
                                return e.timerTick()
                            }, a))
                        }
                    }, e.prototype.updateVisiblePeriod = function() {
                        var t = this.scene,
                            e = t.displayUnit;
                        if (e && this.settings.navigation.followAnchor) {
                            var i = null;
                            if ("now" === t.anchor) {
                                var n = t.getCurTime();
                                i = n
                            } else if ("newestData" === t.anchor) {
                                var r = this.chart.getDataLimits().to;
                                i = r
                            }
                            if (null !== i) {
                                var s = this.chart.scrolling,
                                    a = s.getTo();
                                if (a < i) {
                                    var o = s.getFrom(),
                                        l = e.roundTimeUp(i, t.timeStepSettings) - a;
                                    this.chart.scrolling.setTimeRangeSnap(o + l, a + l, a + l, t.displayUnit, !0, "timer", !0, !1)
                                }
                            }
                        }
                    }, e
                }(d.ChartElement);
                t.TimeUpdater = A;
                var P = function(t) {
                    function e(i) {
                        var n = t.call(this, d.SettingsMapping.TimeChartSettings) || this;
                        return n._minUnit = null, n._displayUnitsParsed = [], n._displayPeriodsParsed = [], n._computedDataMap = {}, n.theme = P.DarkTheme, n.navigation = {
                            initialDisplayAnchor: "newestData",
                            initialDisplayPeriod: "max",
                            initialDisplayUnit: "auto",
                            followAnchor: !1
                        }, n.area = new W, n.chartTypes = {
                            columns: {
                                type: "columns"
                            },
                            line: {
                                type: "line"
                            },
                            candlestick: {
                                type: "candlestick"
                            }
                        }, n.currentTime = new k, n.milestones = [], n.timeAxis = new C, n.data = [], n.toolbar = new a, n.localization = new B, n.interaction = new G, n.advanced = new z, n.events = new R, n.apply(i), n._initializing = !1, n
                    }
                    return n(e, t), e.prototype.timeZoneCompatibility = function() {
                        var t = this.timeAxis;
                        null == t.timeZone && (t.timeZone = "UTC", d.Helpers.warn("`null` is not a valid value for `timeAxis.timeZone`, using `UTC`")), "local" === t.timeZoneOffset && (t.timeZoneOffset = -(new Date).getTimezoneOffset());
                        for (var e = this.data, i = 0; i < e.length; i++) {
                            var n = e[i];
                            null != n.timeZoneOffset && (d.Helpers.error("Setting `data.timeZoneOffset` has been deprecated. Please use `timeZone` in the data response instead."), "local" === n.timeZoneOffset && (n.timeZoneOffset = -(new Date).getTimezoneOffset()))
                        }
                    }, e.prototype.apply = function(e) {
                        this.applyCompatibility(e, [{
                            from: "toolbars",
                            to: "toolbar"
                        }, {
                            from: "toolbar.periodSelection",
                            to: "toolbar.displayPeriod"
                        }, {
                            from: "toolbar.zoomOutButton",
                            to: "toolbar.zoomOut"
                        }, {
                            from: "toolbar.backButton",
                            to: "toolbar.back"
                        }, {
                            from: "interaction.scrolling.noData",
                            to: "interaction.scrolling.limitMode"
                        }, {
                            from: "interaction.scrolling.noDataSnapBackProportion",
                            to: "interaction.scrolling.overscrollProportion",
                            transform: function(t) {
                                return 1 - t
                            }
                        }, {
                            from: "area.initialDisplayPeriod",
                            to: "navigation.initialDisplayPeriod"
                        }, {
                            from: "area.initialDisplayAnchor",
                            to: "navigation.initialDisplayAnchor"
                        }, {
                            from: "area.initialDisplayUnit",
                            to: "navigation.initialDisplayUnit"
                        }, {
                            from: "area.followAnchor",
                            to: "navigation.followAnchor"
                        }, {
                            from: "timeAxis.timeZoneOffset",
                            alternative: "timeAxis.timeZone"
                        }, {
                            from: "timeAxis.style.vgrid",
                            to: "timeAxis.style.vgrid.lineColor",
                            filter: function(t) {
                                return "string" == typeof t
                            }
                        }, {
                            from: "currentTime.overrideCurTime",
                            to: "currentTime.time"
                        }, {
                            from: "advanced.maxUnitsToDisplay",
                            alternative: "timeAxis.minUnitWidth"
                        }]);
                        var i = t.prototype.apply.call(this, e, I);
                        return this.timeZoneCompatibility(), this._calcMinUnit(), this._displayUnitsParsed = this._parseUnits(this.area.displayUnits), this._displayPeriodsParsed = this._parsePeriods(this.area.displayPeriods), i
                    }, e.prototype._parseUnits = function(t) {
                        for (var e = [], i = 0; i < t.length; i++) {
                            var n = t[i],
                                s = r.parse(n.unit, n.name);
                            this._minUnit.isSmallerOrEqual(s) && e.push(s)
                        }
                        var a = e.sort(function(t, e) {
                            return t.approxTime() - e.approxTime()
                        });
                        return a.length <= 0 && console.error("No usable display units are available for this data set. You should change your area: { displayUnits: [] } setting to contain a usable display unit."), a
                    }, e.prototype._parsePeriods = function(t) {
                        for (var e = [], i = 0; i < t.length; i++) {
                            var n = r.parse(t[i].unit);
                            n && this._minUnit.isSmallerOrEqual(n) && e.push(n)
                        }
                        return e.sort(function(t, e) {
                            return t.approxTime() - e.approxTime()
                        })
                    }, e.prototype._calcMinUnit = function() {
                        for (var t = new r("y", 1e6), e = t, i = 0; i < this.area.displayUnits.length; i++) {
                            var n = this.area.displayUnits[i],
                                s = r.parse(n.unit, n.name);
                            s.isSmaller(t) && (t = s)
                        }
                        for (var i = 0; i < this._computedSeries.length; i++) {
                            var a = this._computedSeries[i],
                                o = this._computedDataMap[a.data.source];
                            if (!o) throw new Error("Data source `" + a.data.source + "` for series not found!");
                            for (var l = 0; l < o.units.length; l++) {
                                var h = o.units[l],
                                    u = r.parse(h);
                                u.isSmaller(e) && (e = u)
                            }
                        }
                        e.isBigger(t) && (t = e), this._minUnit = t
                    }, e
                }(l.Settings);
                P.StaticChart = {
                    interaction: {
                        zooming: {
                            enabled: !1,
                            click: !1
                        },
                        selection: {
                            enabled: !1
                        },
                        scrolling: {
                            enabled: !1
                        },
                        resizing: {
                            enabled: !1
                        }
                    },
                    toolbar: {
                        items: ["export"]
                    }
                }, P.LightTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat",
                        style: {
                            loadingArcStyle: {
                                lineColor: "rgba(85, 237, 255, 1)"
                            },
                            messageTextStyle: {
                                fillColor: "rgba(85, 237, 255, 1)"
                            }
                        }
                    },
                    area: {
                        style: {
                            fillColor: "rgba(236, 236, 236, 1)",
                            noData: {
                                fillColor: "rgba(143, 143, 143, 1)",
                                image: "builtin://linearchart-no-data-light"
                            },
                            selection: {
                                lineColor: "rgba(30, 30, 35, 1)",
                                fillColor: "rgba(77, 187, 200, 0.15)"
                            },
                            selectionLabel: {
                                fillColor: "rgba(30, 30, 35, 1)",
                                font: "500 12px Arial"
                            },
                            zoomHighlight: {
                                fillColor: "transparent"
                            },
                            zoomHighlightInactive: {
                                fillColor: "transparent"
                            }
                        }
                    },
                    title: {
                        margin: 15,
                        style: {
                            fillColor: "rgba(30, 30, 35, 1)",
                        }
                    },
                    chartTypes: {
                        columns: {
                            style: {
                                gradient: 1,
                                depth: 0
                            }
                        },
                        columnColors: ["#4DBBC8", "#C3664A", "#AE6FB8", "#EAB74B", "#4CE4C9", "#646DC1", "#DC687D", "#B6D06C", "#56b9f7", "#2fc32f"],
                        lineColors: ["#4DBBC8", "#C3664A", "#AE6FB8", "#EAB74B", "#4CE4C9", "#646DC1", "#DC687D", "#B6D06C", "#56b9f7", "#2fc32f"]
                    },
                    valueAxisDefault: {
                        style: {
                            valueLabel: {
                                textStyle: {
                                    fillColor: "rgba(30, 30, 35, 1)",
                                    font: "500 12px Arial"
                                }
                            },
                            title: {
                                textStyle: {
                                    fillColor: "rgba(30, 30, 35, 1)", 
                                    font: "500 12px Arial"
                                }
                            }
                        }
                    },
                    timeAxis: {
                        style: {
                            majorTimeLabel: {
                                fillColor: "rgba(30, 30, 35, 1)",
                                shadowColor: null
                            },
                            minorTimeLabel: {
                                fillColor: "rgba(30, 30, 35, 1)",
                                shadowColor: null
                            },
                            minorTimeRuler: {
                                lineColor: "rgba(230, 230, 230, 0.1)"
                            },
                            dateLighten: {
                                fillColor: "rgba(143, 143, 143, 0.1)"
                            },
                            dateHolidays: {
                                fillColor: "rgba(230, 230, 230, 0.1)"
                            }
                        }
                    },
                    info: {
                        style: {
                            highlight: {
                                fillColor: "rgba(77, 187, 200, 0.2)"
                            }
                        }
                    },
                    currentTime: {
                        style: {
                            lineColor: "rgba(195, 102, 74, 1)"
                        }
                    },
                    legend: {
                        text: {
                            fillColor: "rgba(30, 30, 35, 1)"
                        },
                        advanced: {
                            disabledSeries: {
                                textColor: "rgba(143, 143, 143, 1)",
                                lineColor: "rgba(143, 143, 143, 1)"
                            }
                        }
                    }
                }, P.DarkTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat BMCH-dark",
                        style: {
                            loadingArcStyle: {
                                lineColor: "rgba(85, 237, 255, 1)"
                            },
                            messageTextStyle: {
                                fillColor: "rgba(85, 237, 255, 1)"
                            }
                        }
                    },
                    area: {
                        style: {
                            fillColor: "rgba(23, 23, 27, 1)",
                            noData: {
                                fillColor: "rgba(38, 38, 44, 1)",
                                image: "builtin://linearchart-no-data-light"
                            },
                            selection: {
                                lineColor: "rgba(38, 38, 44, 1)"
                            },
                            selectionLabel: {
                                fillColor: "rgba(185, 185, 185, 1)",
                                font: "500 12px Arial"
                            },
                            zoomHighlight: {
                                fillColor: "transparent"
                            },
                            zoomHighlightInactive: {
                                fillColor: "transparent"
                            }
                        }
                    },
                    title: {
                        margin: 15,
                        style: {
                            fillColor: "#E6E6E6",
                        }
                    },
                    chartTypes: {
                        columns: {
                            style: {
                                gradient: 1,
                                depth: 0
                            }
                        }
                    },
                    valueAxisDefault: {
                        style: {
                            valueLabel: {
                                textStyle: {
                                    fillColor: "rgba(185, 185, 185, 1)",
                                    font: "500 12px Arial"
                                }
                            },
                            title: {
                                textStyle: {
                                    fillColor: "rgba(185, 185, 185, 1)", 
                                    font: "500 12px Arial"
                                }
                            }
                        }
                    },
                    timeAxis: {
                        style: {
                            majorTimeLabel: {
                                fillColor: "rgba(185, 185, 185, 1)",
                                shadowColor: null
                            },
                            minorTimeLabel: {
                                fillColor: "rgba(185, 185, 185, 1)",
                                shadowColor: null
                            },
                            minorTimeRuler: {
                                lineColor: "rgba(230, 230, 230, 0.15)"
                            },
                            dateLighten: {
                                fillColor: "rgba(38, 38, 44, 1)"
                            },
                            dateHolidays: {
                                fillColor: "rgba(38, 38, 44, 0.3)"
                            }
                        }
                    },
                    info: {
                        style: {
                            highlight: {
                                fillColor: "rgba(85, 237, 255, 0.2)"
                            }
                        }
                    },
                    currentTime: {
                        style: {
                            lineColor: "rgba(225, 101, 64, 1)"
                        }
                    },
                    legend: {
                        text: {
                            fillColor: "rgba(185, 185, 185, 1)"
                        },
                        advanced: {
                            disabledSeries: {
                                textColor: "rgba(38, 38, 44, 1)",
                                lineColor: "rgba(38, 38, 44, 1)"
                            }
                        }
                    }
                }, P.FlatTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat"
                    },
                    area: {
                        style: {
                            noData: {
                                fillColor: "#DDD",
                                image: "builtin://linearchart-no-data-light"
                            }
                        }
                    },
                    chartTypes: {
                        columns: {
                            style: {
                                gradient: 1,
                                depth: 0
                            }
                        }
                    },
                    timeAxis: {
                        style: {
                            showMajorTimeBalloons: !1,
                            showMinorTimeBalloons: !1,
                            majorTimeLabel: {
                                fillColor: "#000",
                                shadowColor: null
                            },
                            minorTimeLabel: {
                                fillColor: "#000",
                                shadowColor: null
                            },
                            dateLighten: {
                                fillColor: "rgba(0,0,0,0.05)"
                            }
                        }
                    }
                }, P.RoundTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-round"
                    },
                    valueAxisDefault: {
                        style: {
                            valueLabel: {
                                textStyle: {
                                    fillColor: "#000000",
                                    font: "500 12px Arial",
                                    shadowOffsetX: 0,
                                    shadowOffsetY: 1,
                                    shadowBlur: 0,
                                    shadowColor: "rgba(255,255,255,0.5)"
                                }
                            }
                        }
                    },
                    timeAxis: {
                        style: {
                            showMinorTimeBalloons: !1,
                            showMajorTimeBalloons: !0,
                            minorTimeBalloonStyle: {
                                fillColor: "#FFF",
                                shadowOffsetX: 0,
                                shadowOffsetY: 2,
                                shadowBlur: 2,
                                shadowColor: "#888"
                            },
                            majorTimeBalloonStyle: {
                                fillColor: "#AAA",
                                shadowOffsetX: 0,
                                shadowOffsetY: -1,
                                shadowBlur: 0,
                                shadowColor: "rgba(0,0,0,0.3)"
                            },
                            minorTimeLabel: {
                                fillColor: "#000000",
                                font: "12px Arial",
                                shadowOffsetX: 0,
                                shadowOffsetY: 1,
                                shadowBlur: 0,
                                shadowColor: "rgba(255,255,255,0.5)"
                            },
                            majorTimeLabel: {
                                fillColor: "#FFF",
                                font: "11px Arial",
                                shadowOffsetX: 0,
                                shadowOffsetY: 1,
                                shadowBlur: 1,
                                shadowColor: "#7c7c7c"
                            },
                            minorTimeRuler: {
                                lineColor: "rgba(0,0,0,0.2)"
                            },
                            dateLighten: {
                                fillColor: "rgba(0,0,0,0.05)"
                            }
                        }
                    },
                    chartTypes: {
                        columns: {
                            style: {
                                gradient: .8,
                                depth: 3
                            }
                        }
                    },
                    area: {
                        style: {
                            noData: {
                                image: "builtin://linearchart-no-data-dark"
                            }
                        }
                    }
                }, P.GradientTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-gradient"
                    },
                    valueAxisDefault: {
                        style: {
                            valueLabel: {
                                textStyle: {
                                    fillColor: "#000000",
                                    font: "11px Arial",
                                    shadowOffsetX: 0,
                                    shadowOffsetY: 1,
                                    shadowBlur: 0,
                                    shadowColor: "rgba(255,255,255,0.5)"
                                }
                            }
                        }
                    },
                    timeAxis: {
                        style: {
                            showMinorTimeBalloons: !1,
                            showMajorTimeBalloons: !0,
                            minorTimeBalloonStyle: {
                                fillColor: "#FFF",
                                shadowOffsetX: 0,
                                shadowOffsetY: 2,
                                shadowBlur: 2,
                                shadowColor: "#888"
                            },
                            majorTimeBalloonStyle: {
                                fillColor: "AAA",
                                shadowOffsetX: 0,
                                shadowOffsetY: -1,
                                shadowBlur: 0,
                                shadowColor: "rgba(0,0,0,0.3)"
                            },
                            minorTimeLabel: {
                                fillColor: "#000000",
                                font: "12px Arial",
                                shadowOffsetX: 0,
                                shadowOffsetY: 1,
                                shadowBlur: 0,
                                shadowColor: "rgba(255,255,255,0.5)"
                            },
                            majorTimeLabel: {
                                fillColor: "#FFF",
                                font: "11px Arial",
                                shadowOffsetX: 0,
                                shadowOffsetY: 1,
                                shadowBlur: 1,
                                shadowColor: "#7c7c7c"
                            },
                            minorTimeRuler: {
                                lineColor: "rgba(0,0,0,0.2)"
                            },
                            dateLighten: {
                                fillColor: "rgba(255,255,255,0.2)"
                            }
                        }
                    },
                    chartTypes: {
                        columns: {
                            style: {
                                gradient: .8,
                                depth: 3
                            }
                        }
                    },
                    area: {
                        style: {
                            noData: {
                                image: "builtin://linearchart-no-data-dark"
                            }
                        }
                    }
                }, t.Settings = P;
                var I = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.data = new D, e
                    }
                    return n(e, t), e.getMapping = function(t, e) {
                        if (t && e.type && t.type !== e.type) throw new Error("It is not possible to change the value of `type` property for an existing layer.");
                        switch (t ? t.type : e.type) {
                            case "columns":
                            case void 0:
                                return d.SettingsMapping.TimeChartSettingsSeriesColumns;
                            case "candlestick":
                                return d.SettingsMapping.TimeChartSettingsSeriesCandleStick;
                            case "line":
                                return d.SettingsMapping.TimeChartSettingsSeriesLines;
                            default:
                                throw new Error("The value '" + e.type + "' is not valid for the `type` property of a series. Valid values are: columns, candlestick, line.")
                        }
                    }, e.createInstance = function(t, e) {
                        switch (e || t.type) {
                            case "columns":
                            case void 0:
                                return new N;
                            case "candlestick":
                                return new H;
                            case "line":
                                return new F;
                            default:
                                throw new Error("The value '" + (e || t.type) + "' is not valid for the `type` property of a series. Valid values are: columns, candlestick, line.")
                        }
                    }, e
                }(l.SettingsSeries);
                t.SettingsSeries = I;
                var D = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.index = 1, e.countIndex = null, e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesData);
                t.SettingsSeriesData = D;
                var N = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.data = new D, e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesColumns);
                t.SettingsSeriesColumns = N;
                var F = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.data = new D, e.style = new E, e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesLines);
                t.SettingsSeriesLines = F;
                var E = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.markerStyleFunction = null, e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesLinesStyle);
                t.SettingsSeriesLinesStyle = E;
                var O = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.high = null, e.open = null, e.close = null, e.low = null, e
                    }
                    return n(e, t), e
                }(D);
                t.SettingsSeriesCandleStickData = O;
                var H = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.data = new O, e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesCandleStick);
                t.SettingsSeriesCandleStick = H;
                var R = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.selectionChangeDuringInteraction = !1, e.onTimeChange = null, e.chartUpdateDelay = 400, e
                    }
                    return n(e, t), e
                }(l.SettingsEvents);
                t.SettingsEvents = R;
                var z = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.timeUpdateInterval = 900, e.dataUpdateInterval = null, e.maxUnitsToDisplay = 2e4, e
                    }
                    return n(e, t), e
                }(d.SettingsAdvanced);
                t.SettingsAdvanced = z;
                var B = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.calendar = {
                            parentLocale: null
                        }, e.holidayWeekdays = [6, 7], e.firstDayOfWeek = null, e.toolbar = new U, e.timeUnitsNames = {
                            ms: "millisecond",
                            s: "second",
                            m: "minute",
                            h: "hour",
                            d: "day",
                            w: "week",
                            M: "month",
                            y: "year"
                        }, e.timeUnitsNamesPlural = {
                            ms: "milliseconds",
                            s: "seconds",
                            m: "minutes",
                            h: "hours",
                            d: "days",
                            w: "weeks",
                            M: "months",
                            y: "years"
                        }, e.markerDates = {
                            timeFormats: {
                                ms: "HH:mm:ss",
                                s: "HH:mm:ss",
                                m: "HH:mm:ss",
                                h: "HH:mm",
                                d: "MMM D, HH:mm",
                                w: "MMM D",
                                M: "MMM D",
                                y: "YYYY, MMM D"
                            }
                        }, e.infoDates = {
                            majorTimeFormats: {
                                y: null,
                                M: "YYYY",
                                w: "GGGG",
                                d: "YYYY",
                                h: "MMM D, YYYY",
                                m: "MMM D, YYYY",
                                s: "MMM D, YYYY",
                                ms: "MMM D, YYYY"
                            },
                            minorTimeFormats: {
                                y: "YYYY",
                                M: "MMM",
                                w: "[Week] W",
                                d: "MMM D",
                                h: "HH:mm",
                                m: "HH:mm",
                                s: "HH:mm:ss",
                                ms: "ss.SSS"
                            },
                            fullTimeFormats: {
                                ms: "MMM D, YYYY HH:mm:ss",
                                s: "MMM D, YYYY HH:mm:ss",
                                m: "MMM D, YYYY, HH:mm",
                                h: "MMM D, YYYY HH:00",
                                d: "MMM D, YYYY",
                                w: "[Week] W, GGGG",
                                M: "MMM YYYY",
                                y: "YYYY"
                            }
                        }, e.timeAxisDates = {
                            minorLabelTimeFormats: {
                                ms: "ss.SSS",
                                s: "HH:mm:ss",
                                m: "HH:mm",
                                h: "HH:00",
                                d: "MMM D",
                                w: "MMM D",
                                M: "MMM",
                                y: "YYYY"
                            },
                            majorLabelTimeFormats: {
                                ms: "MMM D, YYYY HH:mm:ss",
                                s: "MMM D, YYYY HH:mm:ss",
                                m: "MMM D, YYYY",
                                h: "MMM D, YYYY HH:00",
                                d: "MMM D, YYYY",
                                w: "[Week] W, GGGG",
                                M: "MMM YYYY",
                                y: "YYYY"
                            },
                            majorLabelFullTimeFormats: {
                                ms: "MMM D, YYYY HH:mm:ss",
                                s: "MMM D, YYYY HH:mm:ss",
                                m: "MMM D, YYYY",
                                h: "MMM D, YYYY HH:00",
                                d: "MMM D, YYYY",
                                w: "[Week] W, GGGG",
                                M: "MMM YYYY",
                                y: "YYYY"
                            }
                        }, e.determiningDataBounds = "Determining data bounds", e.loadingLabel = "Loading...", e
                    }
                    return n(e, t), e
                }(l.SettingsLocalization);
                t.SettingsLocalization = B;
                var U = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.customPeriod = "Custom", e.periodDropdownTitle = "Select data period", e.unitDropdownTitle = "Select units in which to show the data", e.zoomoutButton = "Zoom-out", e.zoomoutTitle = "Zoom out", e.unavailableUnitTitle = "zoom in for more", e
                    }
                    return n(e, t), e
                }(l.SettingsLocalizationToolbar);
                t.SettingsLocalizationToolbar = U;
                var G = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.snapMode = "displayUnit", e.selection = new v, e.scrolling = new g, e.zooming = new V, e
                    }
                    return n(e, t), e
                }(l.SettingsInteraction);
                t.SettingsInteraction = G;
                var V = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.enabled = !0, e.click = !0, e.zoomOnMinUnit = !0, e.alwaysNextUnit = !1, e.matchDisplayUnit = !1, e
                    }
                    return n(e, t), e
                }(l.SettingsInteractionZooming);
                t.SettingsInteractionZooming = V;
                var W = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.displayUnits = [{
                            unit: "1 ms",
                            name: "millisecond"
                        }, {
                            unit: "1 s",
                            name: "second"
                        }, {
                            unit: "5 s",
                            name: "5 seconds"
                        }, {
                            unit: "1 m",
                            name: "minute"
                        }, {
                            unit: "5 m",
                            name: "5 minutes"
                        }, {
                            unit: "1 h",
                            name: "hour"
                        }, {
                            unit: "6 h",
                            name: "6 hours"
                        }, {
                            unit: "1 d",
                            name: "day"
                        }, {
                            unit: "1 M",
                            name: "month"
                        }, {
                            unit: "1 y",
                            name: "year"
                        }], e.displayPeriods = [{
                            unit: "10 ms"
                        }, {
                            unit: "100 ms"
                        }, {
                            unit: "s"
                        }, {
                            unit: "m"
                        }, {
                            unit: "h"
                        }, {
                            unit: "d"
                        }, {
                            unit: "M"
                        }, {
                            unit: "y"
                        }, {
                            unit: "10 y"
                        }, {
                            unit: "100 y"
                        }], e.style = new j, e
                    }
                    return n(e, t), e
                }(l.SettingsArea);
                t.SettingsArea = W;
                var j = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.markerText = {
                            font: "500 12px Arial"
                        }, e.selection = new y, e.selectionLabel = {
                            fillColor: "rgba(185, 185, 185, 1)",
                            font: "500 12px Arial"
                        }, e
                    }
                    return n(e, t), e
                }(l.SettingsAreaStyle);
                t.SettingsAreaStyle = j;
                var Y = function(t) {
                    function e(e) {
                        var i = t.call(this, e) || this;
                        return i.animationOrder = 700, i.paintOrder = 25, i.updateOrder = 1100, i.wasSelecting = !1, i
                    }
                    return n(e, t), e.prototype.doAnimations = function(t) {
                        var e = this.scene,
                            i = null != e.selectionStart && this.chart.selection.isSelecting && e.settings.info.enabled;
                        if (i || this.wasSelecting) {
                            var n = e.selectionStart,
                                r = e.selectionEnd;
                            this.showInfoPopup(n, r, null, this.buildContent(n, r, null, null), t)
                        }
                        this.wasSelecting = i
                    }, e.prototype.getPopupAreaMouseMoved = function(t, e) {
                        var i = this.scene;
                        if (!i.displayUnit || !i.xyInChartOrBottom(t, e)) return null;
                        var n = i.hoverFrom,
                            r = i.hoverTo;
                        return {
                            t0: n,
                            t1: r
                        }
                    }, e.prototype.getContentsFunctionRange = function(t, e) {
                        var i = r.timeUnitDiffs,
                            n = this.scene,
                            s = !n.displayUnit || i[n.displayUnit.unit] < i.d;
                        return [n.timestampFromInternal(t, s), n.timestampFromInternal(e, s)]
                    }, e.prototype.buildContent = function(e, i, n, r) {
                        var s = this.scene.getRoundedTimes([e, i]);
                        return t.prototype.buildContent.call(this, s[0], s[1], n, r)
                    }, e.prototype.buildHeader = function(t, e) {
                        var i = this.scene.displayUnit,
                            n = this.scene.headerItem(t, e);
                        if (!i || !n) return null;
                        var r = document.createElement("bmch-strong"),
                            s = document.createElement("bmch-small"),
                            a = "(" + n.unitCount + " " + n.unitName + ")";
                        return s.appendChild(document.createTextNode(a)), r.appendChild(document.createTextNode(n.date)), r.appendChild(s), r
                    }, e
                }(l.InfoPopup);
                t.InfoPopup = Y;
                var Z = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 600, i.paintOrder = 20, i.updateOrder = 1200, i.chart = null, i.scene = null, i.renderer = null, i.pointer = null, i.chart = e, i.scene = e.scene, i.renderer = e.renderer, i
                    }
                    return n(e, t), e.prototype.previewPointerMove = function(t) {
                        this.pointer = null, this.updateHover(t)
                    }, e.prototype.onPointerOut = function(t) {
                        var e = this.scene;
                        e.hoverFrom = null, e.hoverTo = null, e.hoverSeriesItem = null, e.hoverItem = null, t.changes.hover = !0, this.chart.notifyHoverChanged(t, this.chart.createEventArguments(t, "user"))
                    }, e.prototype.previewPointerDown = function(t) {
                        t.isRightMB || (this.chart.lastPointerDownTime = (new Date).getTime()), this.pointer = t.identifier, this.updateHover(t)
                    }, e.prototype.setHoverItem = function(t, e) {
                        var i = null;
                        if (t && e) {
                            i = {
                                header: this.scene.headerItem(t, e),
                                values: []
                            };
                            var n = this.renderer.exportData(t, e);
                            if (n)
                                for (var r = 0; r < n.length; r++)
                                    for (var s = 0; s < n[r].data.length; s++) i.values = i.values.concat(n[r].data[s])
                        }
                        return i
                    }, e.prototype.updateHover = function(t) {
                        var e = this.chart,
                            i = e.scene,
                            n = this.getClickRange(t.x, t.y),
                            r = null,
                            s = null,
                            a = null;
                        if (n && (r = n.t0, s = n.t1, a = e.renderer.hitTest(t.x, t.y)), e.legend)
                            if (a) e.legend.notifyHoveredSeries(i.settings._computedSeries[a.seriesIndex]);
                            else {
                                e.legend.notifyHoveredSeries(null);
                                var o = e.legend.getLastHoveredSeries();
                                o && (a = {
                                    x0: null,
                                    y0: null,
                                    x1: null,
                                    y1: null,
                                    isMarker: !1,
                                    seriesIndex: i.settings._computedSeries.indexOf(o)
                                })
                            }(r !== i.hoverFrom || s !== i.hoverTo || !a != !i.hoverSeriesItem || a && (a.seriesIndex !== i.hoverSeriesItem.seriesIndex || a.x0 !== i.hoverSeriesItem.x0)) && (i.hoverFrom = r, i.hoverTo = s, i.hoverSeriesItem = a, i.hoverItem = this.setHoverItem(r, s), t.changes.hover = !0, e.notifyHoverChanged(t, e.createEventArguments(t, "user")))
                    }, e.prototype.onClick = function(t) {
                        t.identifier === this.pointer && this.chart.notifyClick(t, this.chart.createEventArguments(t, "user"))
                    }, e.prototype.defaultClick = function(t, e) {
                        var i = this.scene,
                            n = this.chart,
                            r = i.settings.interaction;
                        if (r.zooming.click) {
                            var s = this.chart.settings.interaction.zooming.alwaysNextUnit,
                                a = i.xToTime(t.x);
                            if (null !== i.selectionStart && (i.selectionStart > a || i.selectionEnd < a)) this.clearSelection(t, "user"), s && this.chart.setSelection(i.hoverFrom, i.hoverTo);
                            else if (null !== i.hoverFrom && !n.selection.isHoveringEdge) {
                                var o = i.displayUnit,
                                    l = n.scrolling,
                                    h = i.hoverFrom,
                                    u = i.hoverTo,
                                    c = null !== i.selectionStart && null !== i.selectionEnd,
                                    d = this.chart.settings._minUnit,
                                    p = o.isEqual(d),
                                    f = !p || c || this.chart.settings.interaction.zooming.zoomOnMinUnit;
                                if (s && !c) return this.chart.setSelection(i.hoverFrom, i.hoverTo), void(t.consumed = !0);
                                var g = l.timeSetup.getLimits(o, !0);
                                if (null != g.from && (h = Math.max(h, g.from)), null != g.to && (u = Math.min(u, g.to)), f) {
                                    var m = s ? l.timeSetup.getSmallerValidDisplayUnit(o, h, u, i) : null;
                                    l.setTimeRangeSnap(h, u, null, m, !0, "user", !1, !0)
                                }
                                var v = l.targetUnit || i.displayUnit;
                                o.isSmallerOrEqual(v) && (v = o.isSmaller(v) ? o : l.timeSetup.getSmallerValidDisplayUnit(o, h, u, i), v && f && l.setTimeRangeSnap(h, u, null, v, !0, "user", !1, !0)), null !== i.selectionStart && this.clearSelection(t, "user"), t.consumed = !0
                            }
                        }
                    }, e.prototype.onRightClick = function(t) {
                        var e = this.chart.settings.interaction.selection.clearOnRightClick;
                        null !== this.scene.selectionStart && e && this.clearSelection(t, "user"), null !== this.scene.hoverFrom && (this.chart.notifyRightClick(t, this.chart.createEventArguments(t, "user")), t.defaultPrevented && (t.consumed = !0))
                    }, e.prototype.onDoubleClick = function(t) {
                        null !== this.scene.hoverFrom && (this.chart.notifyDoubleClick(t, this.chart.createEventArguments(t, "user")), t.consumed = !0)
                    }, e.prototype.clearSelection = function(t, e) {
                        this.scene.selectionStart = null, this.scene.selectionEnd = null, this.chart.notifySelectionChanged(this.chart.createEventArguments(t, e)), t.changes.selection = !0, t.consumed = !0
                    }, e.prototype.onTripleClick = function(t) {
                        void 0 !== this.scene.hoverFrom && null !== this.scene.hoverFrom && (this.chart.notifyTripleClick(t, this.chart.createEventArguments(t, "user")), t.consumed = !0)
                    }, e.prototype.getClickRange = function(t, e) {
                        var i = this.scene;
                        if (!i.xyInChartOrBottom(t, e)) return null;
                        var n, r, s, a = this.scene.xToTime(t);
                        if (null !== i.selectionStart && a >= i.selectionStart && a < i.selectionEnd) n = i.selectionStart, r = i.selectionEnd, s = Math.max(2, i.displayUnit.numberOfUnits(n, r));
                        else if (i.displayUnit) {
                            var o = !0,
                                l = i.timeStepSettings;
                            if (i.majorTimeUnit) {
                                var h = i.majorTimeUnit.roundedTimeRange(a, l),
                                    u = h.t0,
                                    c = h.t1;
                                e > i.y0 + i.height && (u > i.timeStart || c < i.timeEnd) && (n = u, r = c, n = i.displayUnit.roundTimeDown(n, l), r = i.displayUnit.roundTimeUp(r, l), s = i.displayUnit.numberOfUnits(n, r), o = !1)
                            }
                            if (o) {
                                var d = i.displayUnit.roundedTimeRange(a, l);
                                n = d.t0, r = d.t1, s = 1
                            }
                        } else n = null, r = null, s = null;
                        return {
                            t0: n,
                            t1: r,
                            numBars: s
                        }
                    }, e
                }(d.ChartElement);
                t.ClickNotifier = Z;
                var _ = function() {
                    function t(t) {
                        this.requests = {}, this.results = {}, this.dataSlicesCache = {}, this.nextRequestId = 0, this.hasNewRequests = !1, this.lastSlicer = null, this.chart = t, this.scene = this.chart.scene
                    }
                    return t.prototype.registerDataProcessingRequest = function(t) {
                        this.requests[this.nextRequestId] = t;
                        var e = this.chart;
                        return this.results[this.nextRequestId] = {
                            leadIn: null,
                            leadOut: null,
                            times: [],
                            xes: [],
                            values: [],
                            counts: [],
                            fromIndex: 0,
                            toIndex: 0,
                            data: [],
                            from: 0,
                            to: 0,
                            slicer: null,
                            dataExistsFrom: null,
                            dataExistsTo: null,
                            externalItems: function(t, i) {
                                for (var n = r.timeUnitDiffs, s = !e.displayUnit || n[e.displayUnit.unit] < n.d, a = new Array(i - t), o = t; o < i; o++) a[o - t] = e.scene.timestampFromInternal(this.times[o], s);
                                return a
                            }
                        }, this.hasNewRequests = !0, this.nextRequestId++
                    }, t.prototype.removeDataProcessingRequest = function(t) {
                        delete this.requests[t], delete this.results[t]
                    }, t.prototype.getDisplayUnitsSlicer = function() {
                        return this.lastSlicer
                    }, t.prototype.getData = function(t) {
                        return this.results[t]
                    }, t.prototype.clear = function() {
                        this.requests = {}, this.results = {}
                    }, t.prototype.process = function(t) {
                        var e = t.changes;
                        if (e.time || e.data || e.displayUnit || e.bounds || e.settings || this.hasNewRequests)
                            if (this.scene.timeStart >= this.scene.timeEnd)
                                for (var i in this.requests) {
                                    var n = this.results[i];
                                    n.dataExistsFrom = null, n.dataExistsTo = null
                                } else {
                                    this.hasNewRequests = !1, this.loading = !1, this.hasSomeData = !1;
                                    var r = !!e.data || e.time;
                                    for (var i in this.requests) {
                                        var s = this.requests[i],
                                            n = this.results[i],
                                            a = this.updateData(r, s, n);
                                        this.updateSlices(a, i, s, n)
                                    }
                                    this.scene.loading = this.loading, this.loading ? this.scene.setMessage("noData", this.scene.settings.localization.loadingLabel, 10) : this.hasSomeData ? this.scene.setMessage("noData", null) : this.scene.setMessage("noData", this.scene.settings.localization.noDataLabel, 999)
                                }
                    }, t.prototype.exportData = function(t, e, i, n) {
                        for (var r = new x(this.scene, i, [], t, e, !0, 0), s = r.times, a = [], o = 0; o < n.length; o++) {
                            var l = n[o],
                                h = l.data,
                                u = this.chart.getData(h.source),
                                c = u.getDataForRange(t, e, i, null),
                                d = new Array(s.length - 1);
                            this.fillValues(c.values, r.times, d, r.counts, r.fromIndex, r.toIndex, h, i), a.push(d)
                        }
                        return {
                            timestamps: r.times.slice(r.fromIndex, r.toIndex - 1),
                            values: a
                        }
                    }, t.prototype.updateData = function(t, e, i) {
                        var n = this,
                            r = e.source,
                            s = this.chart.getData(r),
                            a = this.getUnitToUse(e),
                            o = (this.scene.timeEnd - this.scene.timeStart) * s.dataSettings.prefetchRatio;
                        if (t || !i.from && this.scene.timeStart || !i.to && this.scene.timeEnd || i.from >= i.to || this.scene.timeStart - o < i.from || this.scene.timeEnd + o > i.to || null !== i.dataExistsFrom && i.dataExistsFrom > this.scene.timeEnd || null !== i.dataExistsTo && i.dataExistsTo < this.scene.timeStart) {
                            t = !0;
                            var l = this.scene.timeStart - 2 * o,
                                h = this.scene.timeEnd + 2 * o,
                                u = s.getDataForRange(l, h, a, function() {
                                    return n._newDataArrived(r)
                                });
                            s.noData || (this.hasSomeData = !0), u.from > this.scene.timeEnd || u.to < this.scene.timeStart ? (i.data = [], i.from = 0, i.to = 0, i.dataExistsFrom = null, i.dataExistsTo = null, this.loading = this.loading || u.loading) : (this.loading = this.loading || u.loading && (u.from > this.scene.timeStart || u.to < this.scene.timeEnd), i.data = u.values, i.from = l, i.to = h, i.dataExistsFrom = u.from, i.dataExistsTo = u.to)
                        }
                        return t
                    }, t.prototype.updateSlices = function(t, e, i, n) {
                        var r = this.getUnitToUse(i),
                            s = i.index,
                            a = i.valueFunction,
                            o = n.data,
                            l = n.slicer = this.getSlice(e, i, r),
                            h = l.update(this.scene.timeStart, this.scene.timeEnd),
                            u = h.newBefore,
                            c = h.newAfter,
                            d = n.times = l.times,
                            p = n.counts = l.counts;
                        n.xes = l.xes;
                        var f = n.values = l.values;
                        if (o = n.data, n.fromIndex = l.fromIndex, n.toIndex = l.toIndex, o) o.length > 0 && !a && s >= o[0].length ? this.chart.error("No data for this DataIndex: " + s + ", only " + (o[0].length - 1) + " values present") : (t ? this.fillValues(o, d, f, p, l.fromIndex, l.toIndex, i, r) : (this.fillValues(o, d, f, p, l.fromIndex, u + 1, i, r), this.fillValues(o, d, f, p, c - 1, l.toIndex, i, r)), this.setLeads(i, n, r));
                        else {
                            f = n.values = new Array(d.length);
                            for (var g = 0; g < f.length; g++) f[g] = null;
                            n.leadIn = null, n.leadOut = null
                        }
                    }, t.prototype.getSlice = function(t, e, i) {
                        var n, r = t + "-" + i.toString();
                        return n = this.dataSlicesCache.hasOwnProperty(r) ? this.dataSlicesCache[r] : this.dataSlicesCache[r] = new x(this.scene, i, ["values", "counts"]), this.lastSlicer = n, n
                    }, t.prototype.getUnitToUse = function(t) {
                        return this.scene.displayUnit
                    }, t.prototype.setLeads = function(t, e, i) {
                        var n = t.noDataPolicy,
                            r = t.index,
                            s = t.valueFunction,
                            a = e.data,
                            o = e.values,
                            l = e.times,
                            h = null,
                            u = null;
                        if (("join" === n || "zero" === n) && a) {
                            var d = e.fromIndex;
                            if (null === o[d]) {
                                var p = c.binSearch(a, l[d]);
                                if (p = c.linSearchDown(a, p, r, s), p !== -1) {
                                    var f = a[p][0],
                                        g = e.slicer.makeMiniSlice(f),
                                        m = [g.t0, g.t1],
                                        v = [g.x0, g.x1],
                                        y = [null, null],
                                        S = [null, null];
                                    this.fillValues(a, m, y, S, 0, 2, t, i), h = {
                                        times: m,
                                        xes: v,
                                        values: y,
                                        counts: S,
                                        fromIndex: 0,
                                        toIndex: 2
                                    }
                                }
                            }
                            var b = e.toIndex;
                            if (null === o[b - 2]) {
                                var p = c.binSearch(a, l[b - 1]);
                                if (p = c.linSearchUp(a, p, r, s), p !== -1) {
                                    var f = a[p][0],
                                        g = e.slicer.makeMiniSlice(f),
                                        m = [g.t0, g.t1],
                                        v = [g.x0, g.x1],
                                        y = [null, null],
                                        S = [null, null];
                                    this.fillValues(a, m, y, S, 0, 2, t, i), u = {
                                        times: m,
                                        xes: v,
                                        values: y,
                                        counts: S,
                                        fromIndex: 0,
                                        toIndex: 2
                                    }
                                }
                            }
                        }
                        e.leadIn = h, e.leadOut = u
                    }, t.prototype.fillValues = function(t, e, i, n, r, s, a, o) {
                        var l = a.aggregation,
                            h = Math.floor(a.index),
                            u = Math.floor(a.countIndex),
                            c = a.valueFunction,
                            d = a.aggregatedValueFunction,
                            p = a.aggregationFunction;
                        if (!(r + 1 >= s) && (p ? this.fillValueFunction(t, e, i, n, r, s, h, u, c, o, p) : "sum" === l ? this.fillValueSum(t, e, i, n, r, s, h, u, c) : "min" === l ? this.fillValueMin(t, e, i, n, r, s, h, u, c) : "max" === l ? this.fillValueMax(t, e, i, n, r, s, h, u, c) : "avg" === l ? this.fillValueAvg(t, e, i, n, r, s, h, u, c) : "count" === l ? this.fillValueCount(t, e, i, n, r, s, h, u, c) : "first" === l ? this.fillValueFirst(t, e, i, n, r, s, h, u, c) : "last" === l ? this.fillValueLast(t, e, i, n, r, s, h, u, c) : "median" === l ? this.fillValuePercentile(t, e, i, n, r, s, h, u, c, .5) : "percentile" === l ? this.fillValuePercentile(t, e, i, n, r, s, h, u, c, a.percentile) : "max-threshold" === l ? this.fillValueThreshold(t, e, i, n, r, s, h, u, c, a.percentile, function(t) {
                                return Math.min.apply(Math, t)
                            }, function(t) {
                                return t[t.length - 1]
                            }) : "min-threshold" === l ? this.fillValueThreshold(t, e, i, n, r, s, h, u, c, a.percentile, function(t) {
                                return Math.max.apply(Math, t)
                            }, function(t) {
                                return t[0]
                            }) : this.chart.error("Unrecognized aggregation function: " + l), d))
                            for (var f = r; f <= s - 2; f++) i[f] = d(i[f], e[f], o ? o.toString() : null)
                    }, t.prototype.fillValueFunction = function(t, e, i, n, r, s, a, o, l, h, u) {
                        var p = t.length,
                            f = c.binSearch(t, e[r]);
                        u || d.Helpers.error("'function' aggregation mode requires the 'aggregationFunction' setting to be set to a valid function");
                        for (var g = r; g <= s - 2; g++) {
                            for (var m = [], v = [], y = e[g + 1], S = void 0; f < p && t[f][0] < y;) S = l ? l(t[f]) : t[f][a], null != S && (m.push(S), v.push(0 === o ? 1 : t[f][o])), f += 1;
                            var b = u(h ? h.toString() : null, e[g], y, m, v);
                            i[g] = b[0], n[g] = b[1]
                        }
                    }, t.prototype.fillValueSum = function(t, e, i, n, r, s, a, o, l) {
                        for (var h = t.length, u = c.binSearch(t, e[r]), d = r; d <= s - 2; d++) {
                            for (var p = e[d + 1], f = 0, g = 0, m = void 0; u < h && t[u][0] < p;) m = l ? l(t[u]) : t[u][a], null != m && (f += m, g += 0 === o ? 1 : t[u][o]), u += 1;
                            n[d] = g, i[d] = 0 === g ? null : f
                        }
                    }, t.prototype.fillValuePercentile = function(t, e, i, n, r, s, a, o, l, h) {
                        for (var u = t.length, d = c.binSearch(t, e[r]), p = function(t, e) {
                                return t - e
                            }, f = r; f <= s - 2; f++) {
                            for (var g = [], m = e[f + 1], v = 1 / 0, y = 0, S = void 0; d < u && t[d][0] < m;) S = l ? l(t[d]) : t[d][a], null != S && (g.push(S), y += 0 === o ? 1 : t[d][o]), d += 1;
                            var b = Math.min(Math.floor(h * g.length), g.length - 1);
                            v = g.length > 0 ? g.sort(p)[b] : null, n[f] = y, i[f] = 0 === y ? null : v
                        }
                    }, t.prototype.fillValueThreshold = function(t, e, i, n, r, s, a, o, l, h, u, d) {
                        for (var p = t.length, f = c.binSearch(t, e[r]), g = function(t, e) {
                                return t - e
                            }, m = r; m <= s - 2; m++) {
                            for (var v = [], y = e[m + 1], S = 1 / 0, b = 0, x = void 0; f < p && t[f][0] < y;) x = l ? l(t[f]) : t[f][a], null != x && (v.push(x), b += 0 === o ? 1 : t[f][o]), f += 1;
                            var C = 1 / v.length,
                                w = this.calcValueFrequency(v),
                                L = u(v),
                                T = this.calcPotentialVals(w, C, h);
                            S = v.length > 0 ? d([L].concat(T).sort(g)) : null, n[m] = b, i[m] = 0 === b ? null : S
                        }
                    }, t.prototype.calcPotentialVals = function(t, e, i) {
                        return d.Helpers.toKeyValuePairs(t).map(function(t) {
                            var i = t[0],
                                n = t[1];
                            return [Number(i), n * e]
                        }).filter(function(t) {
                            var e = (t[0], t[1]);
                            return e >= i
                        }).map(function(t) {
                            var e = t[0];
                            t[1];
                            return e
                        })
                    }, t.prototype.calcValueFrequency = function(t) {
                        var e = {};
                        return t.forEach(function(t) {
                            var i = t.toString();
                            e.hasOwnProperty(i) ? e[i] = e[i] + 1 : e[i] = 1
                        }), e
                    }, t.prototype.fillValueMin = function(t, e, i, n, r, s, a, o, l) {
                        for (var h = t.length, u = c.binSearch(t, e[r]), d = r; d <= s - 2; d++) {
                            for (var p = e[d + 1], f = 1 / 0, g = 0, m = void 0; u < h && t[u][0] < p;) m = l ? l(t[u]) : t[u][a], null != m && (f = Math.min(f, m), g += 0 === o ? 1 : t[u][o]), u += 1;
                            n[d] = g, i[d] = 0 === g ? null : f
                        }
                    }, t.prototype.fillValueMax = function(t, e, i, n, r, s, a, o, l) {
                        for (var h = t.length, u = c.binSearch(t, e[r]), d = r; d <= s - 2; d++) {
                            for (var p = e[d + 1], f = -(1 / 0), g = 0, m = void 0; u < h && t[u][0] < p;) m = l ? l(t[u]) : t[u][a], null != m && (f = Math.max(f, m), g += 0 === o ? 1 : t[u][o]), u += 1;
                            n[d] = g, i[d] = 0 === g ? null : f
                        }
                    }, t.prototype.fillValueCount = function(t, e, i, n, r, s, a, o, l) {
                        for (var h = t.length, u = c.binSearch(t, e[r]), d = r; d <= s - 2; d++) {
                            for (var p = e[d + 1], f = 0, g = void 0; u < h && t[u][0] < p;) g = l ? l(t[u]) : t[u][a], null != g && (f += o ? t[u][o] : 1), u += 1;
                            n[d] = f, i[d] = f
                        }
                    }, t.prototype.fillValueAvg = function(t, e, i, n, r, s, a, o, l) {
                        for (var h = t.length, u = c.binSearch(t, e[r]), d = r; d <= s - 2; d++) {
                            for (var p = e[d + 1], f = 0, g = 0, m = void 0; u < h && t[u][0] < p;) m = l ? l(t[u]) : t[u][a], null != m && (f += m, g += o ? t[u][o] : 1), u += 1;
                            n[d] = g, i[d] = 0 === g ? null : f / g
                        }
                    }, t.prototype.fillValueFirst = function(t, e, i, n, r, s, a, o, l) {
                        for (var h = t.length, u = c.binSearch(t, e[r]), d = r; d <= s - 2; d++) {
                            for (var p = e[d + 1], f = null, g = 0, m = void 0; u < h && t[u][0] < p;) m = l ? l(t[u]) : t[u][a], null != m && (null === f && (f = m), g += o ? t[u][o] : 1), u += 1;
                            n[d] = g, i[d] = f
                        }
                    }, t.prototype.fillValueLast = function(t, e, i, n, r, s, a, o, l) {
                        for (var h = t.length, u = c.binSearch(t, e[r]), d = r; d <= s - 2; d++) {
                            for (var p = e[d + 1], f = null, g = 0, m = void 0; u < h && t[u][0] < p;) m = l ? l(t[u]) : t[u][a], null != m && (f = m, g += o ? t[u][o] : 1), u += 1;
                            n[d] = g, i[d] = f
                        }
                    }, t.prototype._newDataArrived = function(t) {
                        var e = {};
                        e[t] = !0, this.chart.events.notifySceneChanges({
                            data: e
                        })
                    }, t
                }();
                t.DataWarehouse = _;
                var q = function(t) {
                    function e(e, i) {
                        var n = t.call(this) || this;
                        return n.animationOrder = 400, n.paintOrder = 5, n.updateOrder = 1500, n.dataWarehouse = i, n.chart = e, n.scene = n.chart.scene, n.events = n.chart.events, n.buildSeries(), n
                    }
                    return n(e, t), e.prototype.buildSeries = function() {
                        this.valueAxis = new l.ValueAxisSet(this.chart, this.scene.settings._computedValueAxisList), this.r = new l.Renderer(this.chart, this.valueAxis), this.dataWarehouse.clear(), this.requestIds = [];
                        for (var t = 0; t < this.scene.settings._computedSeries.length; t++) {
                            var e = this.scene.settings._computedSeries[t];
                            this.requestIds.push(this.dataWarehouse.registerDataProcessingRequest(e.data))
                        }
                    }, e.prototype.onSceneChange = function(t) {
                        var e = t.changes;
                        (e.linearChartSeries || e.linearChartValueAxis) && this.buildSeries(), e.linearChartValueAxis && (e.bounds = !0), (e.bounds || e.settings) && (e.time = !0), e.data && d.Helpers.hasProperties(e.data) && this.chart.notifyChartUpdate("data", !0)
                    }, e.prototype.getPanels = function() {
                        return this.valueAxis.getPanels(!1)
                    }, e.prototype.doAnimations = function(t) {
                        var e = t.changes;
                        if (this.dataWarehouse.process(t), this.scene.displayUnit) {
                            if (this.displayUnit !== this.scene.displayUnit && (this.displayUnit = this.scene.displayUnit, e.displayUnit = !0), e.time || e.data || e.displayUnit || e.bounds) {
                                for (var i = [], n = 0; n < this.requestIds.length; n++) i.push(this.dataWarehouse.getData(this.requestIds[n]));
                                this.r.process(i)
                            }
                            this.valueAxis.updateMinMax(t), this.r.afterProcess(), this.valueAxis.doAnimations(t)
                        }
                    }, e.prototype.paintScene = function(t) {
                        this.valueAxis.paintUnder(t), d.Graphics.pushClip(t, this.scene.x0, this.scene.y0, this.scene.width, this.scene.height), this.r.paint(t), d.Graphics.popClip(t), this.valueAxis.paint(t)
                    }, e.prototype.hitTest = function(t, e) {
                        return this.scene.xyInChart(t, e) ? this.r.hitTest(t, e, this.scene.settings.interaction.selection.tolerance) : null
                    }, e.prototype.exportData = function(t, e) {
                        return this.r.exportData(t, e)
                    }, e
                }(d.ChartElement);
                t.Renderer = q;
                var X = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.lastDisplayPeriodStr = null, i.chart = e, i.scene = e.scene, i.settings = e.settings, i.reinitializePeriod = !0, i
                    }
                    return n(e, t), e.prototype.onSceneChange = function(t) {
                        var e = t.changes.settingsChanges;
                        e && e.navigation && (this.reinitializePeriod = !0), this.reinitializePeriod && this.chart.assetsLoaded && this.setupInitialDisplayPeriod()
                    }, e.prototype.onNewDataObject = function() {}, e.prototype.setupInitialDisplayPeriod = function() {
                        var t = this;
                        if (this.scene.width) {
                            this.reinitializePeriod = !1;
                            var e = this.settings.navigation.initialDisplayAnchor,
                                i = this.settings.navigation.initialDisplayPeriod,
                                n = this.settings.navigation.initialDisplayUnit;
                            this.computeDisplayPeriod(i, e, n, function(n, r, s) {
                                if (t.scene.setMessage("impl", null, 0), t.scene.loading = !1, t.scene.displayUnit && (s = t.scene.displayUnit), !t.scene.timeStart && !t.scene.timeEnd) {
                                    var a = t.chart.scrolling.timeSetup,
                                        o = a.getLimits(s, !0);
                                    null !== o.from && (n = Math.round(Math.max(n, o.from))), null !== o.to && (r = Math.round(Math.min(r, o.to))), t.chart.scrolling.setTimeRange(n, r, s, !1, "init", e, i)
                                }
                            })
                        }
                    }, e.prototype.computeDisplayPeriod = function(t, e, i, n) {
                        var r = this;
                        this.lastDisplayPeriodStr = t;
                        var s = this.chart.scrolling.computeDisplayPeriod(t, e, i, this.scene.mainData.dataFrom, this.scene.mainData.dataTo, !0),
                            a = s.from,
                            o = s.to,
                            l = s.unit;
                        if (null !== a && null !== o && l) return n(a, o, l);
                        if (!(this.scene.mainData.dataSettings.dataFunction || this.scene.mainData.dataSettings.url || this.scene.mainData.dataSettings.urlByUnit || this.scene.mainData.dataSettings.preloaded)) return void this.chart.error("Cannot compute data dependant display period, no data given. DisplayPeriod = " + t + ", DisplayAnchor = " + e);
                        var h = function(l, u, c, d, p, f) {
                            if (!r.chart.removed) {
                                if (null === l || null === u || 0 === l && 0 === u && r.scene.mainData.noData) return void n(d, p, f);
                                s = r.chart.scrolling.computeDisplayPeriod(t, e, i, l, u, !0), a = s.from, o = s.to;
                                var g = s.unit;
                                return null === a || null === o ? void r.chart.error("Could not setup display time interval. Check your configuration.") : void(g.isMultipleOf(c) ? n(a, o, g) : r.scene.mainData.determineDataLimits(g, !0, !0, function(t, e, i) {
                                    return h(t, e, i, l, u, g)
                                }))
                            }
                        };
                        this.scene.mainData.determineDataLimits(null, !0, !0, function(t, e, i) {
                            return h(t, e, i, 0, 0, null)
                        })
                    }, e
                }(d.Navigator);
                t.Navigator = X;
                var Q = function(t) {
                    function e(e) {
                        var i = t.call(this, e) || this;
                        return i.timechart = e, i
                    }
                    return n(e, t), e.prototype.computeShowLeftRight = function() {
                        var t = this.timechart.getDataLimits();
                        return {
                            showLeft: Math.floor(this.timechart.timeStart) > t.from,
                            showRight: Math.ceil(this.timechart.timeEnd) < t.to
                        }
                    }, e.prototype.onClickValues = function() {
                        return {
                            from: this.timechart.timeStart,
                            to: this.timechart.timeEnd,
                            total: Number.POSITIVE_INFINITY
                        }
                    }, e.prototype.setPosition = function(t, e, i) {
                        var n = this.timechart.scrolling.timeSetup.nextBiggerDisplayUnit(this.timechart.displayUnit),
                            r = this.timechart.scrolling.snap(t, e, 0, this.timechart.displayUnit, null, null),
                            s = this.timechart.scrolling.snap(t, e, 0, n, null, null),
                            a = this.timechart.timeStart,
                            o = this.timechart.timeEnd,
                            l = this.timechart.scene.timeStepSettings,
                            h = n && n.roundTimeDown(a, l) === a && n.roundTimeDown(o, l) === o,
                            u = h ? s.from : r.from,
                            c = h ? s.to : r.to;
                        return this.timechart.scrolling.setTimeRange(u, c, this.timechart.displayUnit, !0, "api", s.anchor, s.period)
                    }, e
                }(l.ScrollButtons);
                t.ScrollButtons = Q, t.moment = null;
                var J = !1,
                    K = function(e) {
                        function i(i, n) {
                            var r = e.call(this, new P(i), new b, n) || this;
                            return r.timeAxis = null, r.timeStart = 0, r.timeEnd = 0, r.displayUnit = null, r.selectionStart = 0, r.selectionEnd = 0, r.lastPointerDownTime = 0, r._cachedDataLimits = null, r.dataWarehouse = new _(r), r.renderer = r.events.addElement(new q(r, r.dataWarehouse)), r.scrolling = r.events.addElement(new m(r)), r.selection = r.events.addElement(new S(r)), r.navigator = r.events.addElement(new X(r)), r.clickNotifier = r.events.addElement(new Z(r)), r.infoPopup = r.events.addElement(new Y(r)), r.scrollButtons = r.events.addElement(new Q(r)), r.events.addElement(new A(r)), r.events.addElement(new t.Markers(r)), r.events.addElement(new l.Highlights(r)), r.finalInitialize(), r
                        }
                        return n(i, e), i.prototype.notifyAssetsLoaded = function() {
                            if (!this.removed) {
                                if (!t.moment) {
                                    if (t.moment = window.moment, !t.moment) return void this.error("Unable to load moment library. Please check that the assets are configured properly.");
                                    d.Helpers.compareVersions(t.moment.version, [2, 9]) || this.error("BoomCharts requires moment version 2.9.0 or newer. The loaded version is " + t.moment.version)
                                }!J && t.moment.tz && (d.Helpers.compareVersions(t.moment.tz.version, [0, 5]) || this.error("BoomCharts requires moment-timezone version 0.5.0 or newer. The loaded version is " + t.moment.tz.version), J = !0), this.setMomentLocale();
                                var i = this.settings.timeAxis;
                                t.moment.tz && "local" === i.timeZone && (i.timeZone = t.moment.tz.guess(), d.Helpers.warn("Instead of using `local` for `timeAxis.timeZone` it is recommended to specify the exact timezone since the local timezone detection is error prone. The timezone was detected as `" + i.timeZone + "`.")), this.timeAxis || (this.timeAxis = this.events.addElement(new w(this)));
                                for (var n = Object.keys(this.data), r = 0; r < n.length; r++) this.data[n[r]].notifyAssetsLoaded();
                                e.prototype.notifyAssetsLoaded.call(this), this.api._notifyAssetsLoaded()
                            }
                        }, i.prototype.createDataObj = function(t) {
                            return new c(this, t)
                        }, i.prototype.getData = function(t) {
                            return e.prototype.getData.call(this, t)
                        }, i.prototype.setMomentLocale = function() {
                            var e = this.scene.momentLocale,
                                i = t.moment.locale(),
                                n = this.settings.localization.calendar;
                            n.parentLocale && !d.Helpers.compareVersions(t.moment.version, [2, 12]) && this.error("Using `parentLocale` requires moment.js 2.12.0 or newer. The loaded version is " + t.moment.version), t.moment.locale(e, n);
                            var r = null === this.settings.localization.firstDayOfWeek ? t.moment.localeData().firstDayOfWeek() : this.settings.localization.firstDayOfWeek;
                            this.scene.timeStepSettings = {
                                week: {
                                    dow: r
                                }
                            }, t.moment.locale(i)
                        }, i.prototype.remove = function() {
                            t.moment && t.moment.locale(this.scene.momentLocale, null), e.prototype.remove.call(this), this.infoPopup.remove()
                        }, i.prototype.onSettingsChanged = function(t) {
                            if (t.data && (t.toolbar = !0), t.area && t.area.displayUnits) {
                                var e = this.scene,
                                    i = new o(this);
                                if (e.displayUnit && !i.isAllowedDisplayUnit(e.displayUnit)) {
                                    var n = i.computeDisplayUnit(e.timeStart, e.timeEnd, e.displayUnit, e.timeStart, e.timeEnd, e);
                                    this.scrolling.setTimeRangeSnap(e.timeStart, e.timeEnd, null, n.unit, !0, "api", !0, !0)
                                }
                            }
                            this.assetsLoaded && t.localization && t.localization.calendar && this.setMomentLocale(), this.events.notifySceneChanges({
                                time: !0
                            })
                        }, i.prototype.save = function() {
                            var t = this.scene;
                            return JSON.stringify({
                                from: this.timeStart,
                                to: this.timeEnd,
                                unit: this.displayUnit.toString(),
                                selFrom: t.selectionStart,
                                selTo: t.selectionEnd,
                                anchor: t.anchor,
                                period: t.period
                            })
                        }, i.prototype.restore = function(t, e) {
                            if (t) {
                                var i = JSON.parse(t),
                                    n = r.parse(i.unit);
                                n && (this.scrolling.setTimeRange(i.from, i.to, n, e, "api", i.anchor, i.period), this.setSelection(i.selFrom, i.selTo))
                            }
                        }, i.prototype.warnInvisibleChart = function(t) {
                            this.scene.width || d.Helpers.warn("`" + t + "()` method has been called on a hidden chart. This might produce invalid results since the chart width impacts the calculations.")
                        }, i.prototype.clearSelectionOnMismatch = function() {
                            var t = this.scene,
                                e = this.displayUnit,
                                i = t.selectionStart,
                                n = t.selectionEnd,
                                r = i - e.roundTimeRound(i, t.timeStepSettings),
                                s = n - e.roundTimeRound(n, t.timeStepSettings);
                            0 === r && 0 === s || this.setSelection(null, null)
                        }, i.prototype.setSelection = function(t, e, i) {
                            void 0 === i && (i = "api");
                            var n = this.scene;
                            n.selectionStart === t && n.selectionEnd === e || (n.selectionStart = t, n.selectionEnd = e, this.events.notifySceneChanges({
                                selection: !0
                            }), this.notifySelectionChanged(this.createEventArguments(null, i)))
                        }, i.prototype.setTimeRange = function(t, e, i, n, s, a, o) {
                            void 0 === n && (n = "api"), void 0 === s && (s = void 0), void 0 === a && (a = !0), void 0 === o && (o = !0), this.warnInvisibleChart("time"), o && this.setSelection(null, null, n);
                            var l = void 0 !== s ? s : this.displayUnit;
                            if (!l) {
                                var h = this.settings.navigation.initialDisplayUnit;
                                h && "auto" !== h && (l = r.parse(h))
                            }
                            if (this.scene.width && a) {
                                this.scene.displayUnit = l;
                                var u = this.scrolling.onSnapWhileDragging(t, e, null, !0, 2);
                                u.unit && (this.scene.displayUnit = u.unit, u = this.scrolling.onSnapAfterDragging(u.from, u.to, null, !0, 2)), t = u.from, e = u.to, l = u.unit
                            }
                            this.scrolling.setTimeRange(t, e, l, i, n)
                        }, i.prototype.getTimeRange = function() {
                            return this.scene.getTimeRange()
                        }, i.prototype.setTimeRangeAndUnit = function(t, e, i, n, r, s) {
                            void 0 === n && (n = !0), void 0 === r && (r = !0), void 0 === s && (s = !0), this.setTimeRange(t, e, n, "api", i, r, s)
                        }, i.prototype.setDisplayPeriod = function(t, e, i, n, r) {
                            var s = this;
                            return void 0 === e && (e = null), void 0 === i && (i = null), void 0 === n && (n = !0), void 0 === r && (r = "api"), this.warnInvisibleChart("setDisplayPeriod"), null === e && (e = this.scene.anchor), this.setSelection(null, null), "string" == typeof e && (e = e.trim()), "string" == typeof t && (t = t.trim()), this.navigator.computeDisplayPeriod(t, e, i, function(i, a, o) {
                                return s.scrolling.setTimeRange(i, a, o, n, r, e, t)
                            })
                        }, i.prototype.scroll = function(t, e, i) {
                            void 0 === i && (i = !1);
                            var n = t.trim().split(" ");
                            if (3 !== n.length) return void this.error("Incorrect scroll format: " + t);
                            var r = n[0],
                                s = parseInt(n[1], 10),
                                a = n[2];
                            if ("<" !== r && ">" !== r || "number" != typeof s) return void this.error("Scroll:Incorrect scroll format: " + t);
                            var l = new o(this),
                                h = l.scroll(this.timeStart, this.timeEnd, this.displayUnit, r, s, a),
                                u = h.from,
                                c = h.to;
                            i ? this.scrolling.setTimeRangeSnap(u, c, 0, this.displayUnit, e, "api", null, null) : this.scrolling.setTimeRange(u, c, this.displayUnit, e, "api", null, this.scene.period)
                        }, i.prototype.zoomOut = function(t, e, i) {
                            var n = this;
                            void 0 === t && (t = !0), void 0 === e && (e = "api"), void 0 === i && (i = null);
                            var r = this.settings.interaction.zooming.matchDisplayUnit,
                                s = function(t) {
                                    return n.scrolling.timeSetup.nextBiggerDisplayUnit(t)
                                },
                                a = this.scene.displayUnit;
                            if (r && a && s(a) && s(s(a))) {
                                var o = this.scene.timeStepSettings,
                                    l = s(a),
                                    h = s(l),
                                    u = h.roundTimeDown(this.timeStart, o),
                                    c = h.roundTimeUp(this.timeEnd, o),
                                    d = this.scrolling.snap(u, c, null, h, !1, !0),
                                    p = this.getDataLimits(l),
                                    f = Math.max(p.from, d.from),
                                    g = Math.min(p.to, d.to);
                                this.scrolling.setTimeRange(f, g, l, t, e, d.anchor, d.period)
                            } else this.scrolling.zoomOut(i, this.scene.timeStart, this.scene.timeEnd, t, e);
                            this.scene.period = null, this.applyZoomSelectionMode()
                        }, i.prototype.zoomOutPossible = function() {
                            return !!this.scene.displayUnit
                        }, i.prototype.zoomIn = function(t, e, i, n) {
                            void 0 === e && (e = null), void 0 === i && (i = !0), void 0 === n && (n = "api"), this.scrolling.zoomIn(t, e, this.scene.timeStart, this.scene.timeEnd, i, n), this.scene.period = null, this.applyZoomSelectionMode()
                        }, i.prototype.applyZoomSelectionMode = function() {
                            var t = this.settings;
                            if (t && t.interaction && t.interaction.selection && t.interaction.selection.zoomOutSelectionMode) {
                                var e = t.interaction.selection.zoomOutSelectionMode;
                                "mismatch" === e ? this.clearSelectionOnMismatch() : "clear" === e ? this.setSelection(null, null) : "keep" !== e && d.Helpers.warn("Invalid zoomOutSelectionMode: '" + e + "'. Possible values: clear, mismatch, keep")
                            }
                        }, i.prototype.setDisplayUnit = function(t, e, i, n) {
                            void 0 === i && (i = "api"), void 0 === n && (n = !1), this.warnInvisibleChart("displayUnit");
                            var s, a, o;
                            if ("auto" === t || "semiauto" === t) {
                                var l = this.scrolling.timeSetup.computeDisplayUnit(null, null, null, this.timeStart, this.timeEnd, this.scene);
                                ("auto" === t || "semiauto" === t && this.shouldChangeSemiAutoUnit(l.unit)) && (s = l.unit), a = l.from, o = l.to
                            } else {
                                if (s = r.parse(t), !s) return;
                                if (n) {
                                    for (var h = s.toString(), u = this.scene.settings._displayUnitsParsed, c = !1, p = 0; p < u.length; p++)
                                        if (u[p].toString() === h) {
                                            c = !0;
                                            break
                                        } c || d.Helpers.warn("The display unit `" + h + "` does not match a display unit configured in `area.displayUnits`.")
                                }
                                var f = this.scene.timeStepSettings;
                                a = s.roundTimeDown(this.timeStart, f), o = s.roundTimeUp(this.timeEnd, f)
                            }
                            var g = this.scrolling.snap(a, o, null, s, !1, !0);
                            this.scrolling.setTimeRange(g.from, g.to, s, e, i, g.anchor, g.period)
                        }, i.prototype.shouldChangeSemiAutoUnit = function(t) {
                            if (!this.displayUnit || !this.settings || !this.settings.timeAxis) return !0;
                            var e = this.displayUnit.isSmaller(t),
                                i = this.displayUnit.isBigger(t),
                                n = this.settings.timeAxis.unitSizePolicy,
                                r = "max" === n || "auto" === n,
                                s = "min" === n;
                            return s && e || r && i
                        }, i.prototype.invalidateDataLimits = function() {
                            this._cachedDataLimits = null
                        }, i.prototype.getDataLimits = function(t) {
                            void 0 === t && (t = this.displayUnit);
                            var e = this._cachedDataLimits;
                            if (e && e.unit === t) return e;
                            for (var i = this.settings._computedSeries, n = Object.create(null), r = 0; r < i.length; r++) {
                                var s = i[r];
                                P.isSeriesEnabled(s, this.scene.isAggregated) && (n[s.data.source] = !0)
                            }
                            var a = 1 / 0,
                                o = -(1 / 0);
                            for (var l in n) {
                                var h = this.data[l];
                                h && (h.dataLimitFrom || h.dataLimitTo) && (a = Math.min(a, h.dataLimitFrom), o = Math.max(o, h.dataLimitTo))
                            }
                            return a > o ? (a = null, o = null) : t && (a = t.roundTimeDown(a, this.scene.timeStepSettings), o = t.roundTimeUp(o, this.scene.timeStepSettings)), this._cachedDataLimits = {
                                from: a,
                                to: o,
                                unit: t
                            }
                        }, i.prototype.getDisplayLimits = function(t) {
                            var e = this.getDataLimits(t),
                                i = e.from,
                                n = e.to;
                            if (null === i) return e;
                            for (var r = 0; r < this.scene.markers.length; r++) {
                                var s = this.scene.markers[r];
                                s.settings.overrideLimits && (i = Math.min(i, s.time), n = Math.max(n, s.time))
                            }
                            return {
                                from: i,
                                to: n
                            }
                        }, i.prototype.exportVisibleData = function() {
                            if (!this.displayUnit) return [];
                            for (var e = this.settings._computedSeries, i = this.dataWarehouse.exportData(this.timeStart, this.timeEnd, this.displayUnit, e), n = this.settings.localization.infoDates.fullTimeFormats[this.displayUnit.unit], r = i.timestamps, s = i.values, a = ["timestamp", "time"], o = 0; o < e.length; o++) {
                                var l = e[o];
                                a.push(l.name || l.id || "")
                            }
                            for (var h = [a], u = this.scene.momentLocale, c = 0; c < r.length; c++) {
                                for (var d = r[c], p = [d, t.moment.utc(d).locale(u).format(n)], f = 0; f < e.length; f++) p.push(s[f][c]);
                                h.push(p)
                            }
                            return h
                        }, i.prototype.isThisDisplayPeriod = function(t, e, i) {
                            if (!this.displayUnit) return !1;
                            var n = this.scene.mainData.dataFrom,
                                r = this.scene.mainData.dataTo,
                                s = this.scrolling.computeDisplayPeriod(t, e, i, n, r, !1);
                            n = s.from, r = s.to;
                            var a = .001,
                                o = this.scrolling.getFrom(),
                                l = this.scrolling.getTo();
                            if (this.settings.toolbar.flexibleAllData && "max" === t && o <= n && l >= r) return !0;
                            var h = l - o,
                                u = Math.abs(o - n) / h,
                                c = Math.abs(l - r) / h;
                            return !(u > a) && !(c > a)
                        }, i.prototype.notifyTimeChanged = function(t, e, i, n) {
                            this.timeStart = t, this.timeEnd = e, this.displayUnit = i, this.notifyChartUpdate(n)
                        }, i.prototype.saveNavigation = function() {
                            return this.displayUnit ? {
                                timeStart: this.timeStart,
                                timeEnd: this.timeEnd,
                                displayUnit: this.displayUnit,
                                anchor: this.scene.anchor,
                                period: this.scene.period
                            } : null
                        }, i.prototype.restoreNavigation = function(t, e, i) {
                            this.timeStart = t.timeStart, this.timeEnd = t.timeEnd, this.displayUnit = t.displayUnit, this.scrolling.setTimeRange(this.timeStart, this.timeEnd, this.displayUnit, e, i, t.anchor, t.period)
                        }, i.prototype.doChartUpdateNotify = function(t) {
                            e.prototype.doChartUpdateNotify.call(this, t), this.dispatchEventParams("timeChange", this.createEventArguments(null, t), null)
                        }, i.prototype.createEventArguments = function(t, e) {
                            var i = this.scene,
                                n = i.hoverSeriesItem,
                                s = n && null != n.seriesIndex ? i.settings._computedSeries[n.seriesIndex] : null,
                                a = !!n && n.isMarker,
                                o = r.timeUnitDiffs,
                                l = !this.displayUnit || o[this.displayUnit.unit] < o.d,
                                h = i.timestampFromInternal(i.hoverFrom, l),
                                u = i.timestampFromInternal(i.hoverTo, l);
                            return {
                                chart: this.api,
                                origin: e,
                                timeStart: i.timestampFromInternal(this.timeStart, l),
                                timeEnd: i.timestampFromInternal(this.timeEnd, l),
                                displayUnit: this.displayUnit ? this.displayUnit.toString() : null,
                                selectionStart: i.timestampFromInternal(i.selectionStart, l),
                                selectionEnd: i.timestampFromInternal(i.selectionEnd, l),
                                hoverStart: h,
                                hoverEnd: u,
                                hoverSeries: s,
                                hoverItem: i.hoverItem,
                                hoverMarker: a,
                                clickStart: h,
                                clickEnd: u,
                                clickSeries: s,
                                clickMarker: a
                            }
                        }, i.prototype.defaultClick = function(t, i) {
                            e.prototype.defaultClick.call(this, t, i), this.clickNotifier.defaultClick(t, i)
                        }, i.prototype.defaultRightClick = function(t) {
                            this.infoPopup.show(t), t.preventDefault()
                        }, i.prototype.getBottomHeight = function() {
                            return this.scene.height - this.scene.bottomAxisSize
                        }, i.prototype.showInfoPopup = function(t, e, i) {
                            if (null == t) return void this.infoPopup.hideInfoPopup(null);
                            if (null == e || t === e) e = t + 1;
                            else if (t > e) {
                                var n = t;
                                t = e, e = n
                            }
                            var r = this.displayUnit,
                                s = this.scene.timeStepSettings;
                            t = r.roundTimeDown(t, s), e = r.roundTimeUp(e, s), e < this.scene.timeStart || t > this.scene.timeEnd || this.infoPopup.manualShowInfoPopup(t, e, i)
                        }, i
                    }(l.Impl);
                t.Impl = K
            }(o = i.TimeChart || (i.TimeChart = {})),
            function(e) {
                var r = e.Renderers || (e.Renderers = {}),
                    s = function(t) {
                        function e() {
                            var e = t.apply(this, arguments) || this;
                            return e.itemsToLoad = 50, e.partialLoad = !0, e.autoCategories = null, e.sortField = null, e.dataFunction = null, e.preloaded = null, e
                        }
                        return n(e, t), e
                    }(d.SettingsData);
                e.SettingsData = s;
                var a = {
                        values: 1,
                        id: 1,
                        offset: 1,
                        limit: 1,
                        afterSum: 1,
                        beforeSum: 1,
                        subvalues: 1,
                        sum: 1,
                        extra: 1,
                        name: 1,
                        totalCount: 1,
                        total: 1,
                        valuesSum: 1,
                        done: 1,
                        afterFraction: 1,
                        beforeFraction: 1
                    },
                    o = function() {
                        function t() {
                            this.name = null, this.values = [], this.offset = 0, this.totalCount = null, this.total = 0, this.valuesSum = 0, this.beforeSum = 0, this.afterSum = 0, this.done = !1, this.extra = null
                        }
                        return t
                    }();
                e.PieData = o;
                var l = function(t) {
                    function e(e, i, n) {
                        var r = t.call(this, e, i) || this;
                        return r.pies = {}, r.pendingPies = {}, r.requestedPies = {}, r.nextId = 0, r._isFacetChart = n, r
                    }
                    return n(e, t), e.exportValues = function(t) {
                        var e = ["id", "name", "value"],
                            i = {
                                id: 0,
                                name: 1,
                                value: 2
                            },
                            n = 3,
                            r = t.values,
                            s = new Array(r.length + 1);
                        s[0] = e;
                        for (var a = 0; a < r.length; a++) {
                            var o = r[a],
                                l = new Array(n);
                            s[a + 1] = l;
                            for (var h = Object.keys(o), u = 0; u < h.length; u++) {
                                var c = h[u];
                                if ("_" !== c.charAt(0) && "fraction" !== c) {
                                    var p = o[c];
                                    if (Array.isArray(p)) p = p.length;
                                    else if (d.Helpers.isObjectOrArray(p)) continue;
                                    var f = i[c];
                                    void 0 === f && (i[c] = f = n++, e.push(c)), l[f] = p
                                }
                            }
                        }
                        return s
                    }, e.prototype.hasDataFunc = function() {
                        return !!this.dataSettings.dataFunction || !!this.dataSettings.url
                    }, e.prototype.applyPreloadedData = function() {
                        if (t.prototype.applyPreloadedData.call(this), !this.hasDataFunc()) {
                            for (var e = Object.keys(this.pies), i = 0; i < e.length; i++) {
                                var n = this.pies[e[i]];
                                n.done || (n.done = !0, n.afterSum = 0, n.totalCount = n.offset + n.values.length)
                            }
                            this.chart.scene.loading = !1
                        }
                    }, e.prototype.getRootId = function() {
                        return this.settings.navigation.initialDrilldown && this.settings.navigation.initialDrilldown.length > 0 ? this.settings.navigation.initialDrilldown[0] : ""
                    }, e.prototype.canExpand = function(t) {
                        return !!d.Helpers.hasProperty(this.pies, t) || !(!this.hasDataFunc() || this.dataSettings.autoCategories) && !(!t || t[0] === d.Helpers.SeparatorChar)
                    }, e.prototype.getPieData = function(t) {
                        if (!d.Helpers.hasProperty(this.pies, t)) return null;
                        var e = this.pies[t];
                        return this.needPostprocessing() && (e = this.filterAndSortData(e)), e
                    }, e.prototype.requestMorePieData = function(t, e) {
                        return void 0 === e && (e = this.dataSettings.itemsToLoad), null == e && (e = this.dataSettings.itemsToLoad), !(!d.Helpers.hasProperty(this.pies, t) || this.pies[t].done) && (this.requestPieData(t, this.pies[t].offset + this.pies[t].values.length, e), !0)
                    }, e.prototype.requestLessPieData = function(t, e) {
                        if (void 0 === e && (e = this.dataSettings.itemsToLoad), !d.Helpers.hasProperty(this.pies, t)) return !1;
                        var i = this.pies[t];
                        return (0 !== i.offset || !(i.done || i.values.length > 1)) && (this.requestPieData(t, Math.max(i.offset - this.dataSettings.itemsToLoad, 0), e), !0)
                    }, e.prototype.requestPieData = function(t, e, i) {
                        if (void 0 === i && (i = this.dataSettings.itemsToLoad), this.dataSettings.autoCategories) {
                            if (d.Helpers.hasProperties(this.pies)) throw new Error("Cannot request additional data when autoCategories is in use!");
                            t = ""
                        }
                        if (t[0] === d.Helpers.SeparatorChar) throw new Error("Invalid Id: " + t);
                        if (d.Helpers.hasProperty(this.pies, t)) {
                            var n = this.pies[t],
                                r = n.offset,
                                s = r + n.values.length;
                            if (e < r) i = r - e;
                            else {
                                if (!(e + i > s)) return;
                                i = e + i - s, e = s
                            }
                        } else(this.needPostprocessing() || !this.dataSettings.partialLoad || this.dataSettings.autoCategories) && (i = 2147483647, e = 0);
                        if (!d.Helpers.hasProperty(this.requestedPies, t))
                            if (d.Helpers.hasProperty(this.pendingPies, t)) {
                                var a = this.pendingPies[t],
                                    o = Math.min(a.offset, e),
                                    l = Math.max(a.offset + a.limit, e + i);
                                a.offset = o, a.limit = l - o
                            } else this.dataFunc && (this.pendingPies[t] = {
                                id: t,
                                offset: e,
                                limit: i
                            }, this.scheduleRequests())
                    }, e.prototype.autoCategorize = function(t, e) {
                        if (0 === e.length) return t;
                        for (var i = d.Helpers.clone(t), n = [i], r = 0; r < e.length; r++) {
                            for (var s = e[r], a = [], o = 0; o < n.length; o++) {
                                for (var l = n[o], h = [], u = {}, c = 0; c < l.subvalues.length; c++) {
                                    var p = l.subvalues[c],
                                        f = void 0;
                                    f = d.Helpers.isFunction(s) ? s(p) : p[s], f = void 0 === f || null === f ? "None" : f.toString();
                                    var g = void 0;
                                    d.Helpers.hasProperty(u, f) ? g = u[f] : (g = {
                                        id: l.id + d.Helpers.SeparatorChar + f,
                                        __id: l.id + d.Helpers.SeparatorChar + f,
                                        value: 0,
                                        subvalues: [],
                                        name: f,
                                        __category: s
                                    }, u[f] = g, h.push(g), a.push(g)), g.subvalues.push(p), g.value += d.Helpers.tryParseFloat(p.value, 0)
                                }
                                l.subvalues = h
                            }
                            n = a
                        }
                        return i
                    }, e.prototype.valueSum = function(t) {
                        if (this._isFacetChart) return 0;
                        for (var e = 0, i = 0; i < t.length; i++) e += t[i].value;
                        return e
                    }, e.prototype.addDataInt = function(t, e, i, n, r, s, l, h, u) {
                        var c;
                        c = d.Helpers.hasProperty(this.pies, t) ? this.pies[t] : this.pies[t] = new o;
                        var p = c.offset + c.values.length,
                            f = i + e.length;
                        if (0 === c.values.length || f < c.offset || p < i) c.offset = i, c.done = n > e.length, c.values = e.slice(), c.valuesSum = this.valueSum(e), c.totalCount = c.done ? c.values.length + c.offset : null, c.afterSum = c.done ? 0 : r, c.beforeSum = 0 === c.offset ? 0 : s, c.total = c.done && 0 === c.offset ? c.valuesSum : l;
                        else {
                            var g = null,
                                m = null,
                                v = 0,
                                y = 0;
                            c.offset < i && (i === p ? (g = c.values, v = c.valuesSum) : (g = c.values.slice(0, i - c.offset), v = this.valueSum(g))), p > f && e.length >= n && (c.offset === f ? (m = c.values, y = c.valuesSum) : (m = c.values.slice(f - c.offset), y = this.valueSum(m))), m ? c.values = g ? g.concat(e, m) : e.concat(m) : c.values = g ? g.concat(e) : e.slice(), c.offset = Math.min(c.offset, i), c.valuesSum = this.valueSum(e) + v + y, e.length < n && (c.done = !0), g || (c.beforeSum = s), m || (c.afterSum = r), c.total = l, c.done && (c.afterSum = 0), 0 === c.offset && (c.beforeSum = 0), c.done && 0 === c.offset && (c.total = c.valuesSum)
                        }
                        if (c.extra = h.extra, c.name = h.name, h)
                            for (var S in h) d.Helpers.hasProperty(a, S) || (c[S] = h[S]);
                        for (var b = 0; b < e.length; b++) {
                            var x = e[b];
                            x.subvalues && (u[x.__id] = !0, this.addDataInt(x.__id, x.subvalues, 0, 1 / 0, null, null, null, x, u))
                        }
                    }, e.prototype.needPostprocessing = function() {
                        var t = this.chart.settings.filters;
                        return !!t.sliceFilter || !t.allowZeroValues || !!this.dataSettings.sortField
                    }, e.prototype.filterAndSortData = function(t) {
                        var e = this.chart.settings.filters,
                            i = e.allowZeroValues,
                            n = e.sliceFilter;
                        if (!i || n) {
                            for (var r = t.total || 0, s = [], a = 0; a < t.values.length; a++) {
                                var l = t.values[a];
                                n && !n(l) || !i && 0 === l.value ? r -= l.value : s.push(l)
                            }
                            var h = new o;
                            h.values = s, h.done = t.done, h.beforeSum = t.beforeSum, h.afterSum = t.afterSum, h.total = t.total || null, h.totalCount = t.totalCount || null, h.extra = t.extra, t = h
                        }
                        return this.dataSettings.sortField && this.sortData(t), t
                    }, e.prototype.sortData = function(t) {
                        var e = this.dataSettings.sortField;
                        if (d.Helpers.isFunction(e)) return void t.values.sort(e);
                        var i;
                        i = Array.isArray(e) ? e.slice() : [e];
                        for (var n = new Array(i.length), r = 0; r < i.length; r++) {
                            var s = i[r];
                            "-" === s.charAt(0) ? (i[r] = s.substr(1), n[r] = -1) : n[r] = 1
                        }
                        var a = function(t, e) {
                            for (var r = 0; r < i.length; r++) {
                                var s = t[i[r]],
                                    a = e[i[r]],
                                    o = void 0;
                                if (null == s ? o = null == a ? 0 : a < 0 ? -1 : 1 : null == a ? o = s < 0 ? 1 : -1 : (o = a - s, isNaN(o) && (o = ("" + a).localeCompare(s))), 0 !== o) return n[r] * o
                            }
                            return 0
                        };
                        t.values.sort(a)
                    }, e.prototype.buildRequest = function() {
                        if (!d.Helpers.hasProperties(this.pendingPies)) return null;
                        var t = d.Helpers.removePropertyValue(this.pendingPies),
                            e = t.key,
                            i = t.value;
                        return this.requestedPies[e] = i, i
                    }, e.prototype.dataFunc = function(t, e, i) {
                        var n = this.dataSettings;
                        if (n.dataFunction) n.dataFunction(t.id, t.limit, t.offset, e, i);
                        else if (n.url) {
                            var r = [];
                            t.id && r.push(["id", t.id]), r.push(["limit", t.limit.toString(10)]), r.push(["offset", t.offset.toString(10)]);
                            var s = window[this.settings.advanced.dataRequestClass];
                            d.Data.doRequest(s, n.url, n, r, e, i)
                        } else i({
                            error: "Chart configuration does not define data retrieval function"
                        })
                    }, e.prototype.verifySlices = function(t, e, i) {
                        for (var n = !0, r = 0; r < t.length; r++) {
                            var s = t[r],
                                a = s.id ? " Slice id: `" + s.id + "`" : "";
                            if (d.Helpers.isObjectOrArray(s)) {
                                if (!this._isFacetChart)
                                    if (s.value = d.Helpers.tryParseFloat(s.value, null), null === s.value) {
                                        if (!i) {
                                            d.Helpers.warn("Slices must have a numeric `value` property!" + a), t.splice(r, 1), r--;
                                            continue
                                        }
                                        this.chart.error("Slices must have a numeric `value` property!" + a), n = !1
                                    } else if (s.value < 0) {
                                    if (!i) {
                                        d.Helpers.warn("Slice values cannot be negative." + a), t.splice(r, 1), r--;
                                        continue
                                    }
                                    this.chart.error("Slice values cannot be negative." + a), n = !1
                                }
                                d.Helpers.hasProperty(s, "id") ? (s.__id = "" + s.id, d.Helpers.hasProperty(e, s.__id) && (this.chart.error("Multiple slices with the same ID." + a), n = !1), e[s.__id] = !0) : (s.__id = d.Helpers.SeparatorChar + this.nextId, this.nextId++), d.Helpers.hasProperty(s, "subvalues") && (Array.isArray(s.subvalues) ? this.verifySlices(s.subvalues, e, i) || (n = !1) : (this.chart.error("Field `subvalues` is not an array!" + a), n = !1))
                            } else this.chart.error("Slices must be objects!"), n = !1
                        }
                        return n
                    }, e.prototype.verifyData = function(t, e) {
                        if (d.Helpers.hasProperty(e, "id") || (e.id = t ? t.id : this.getRootId()), t && e.id && e.id !== t.id) return this.chart.error("Requested data for ID `" + t.id + "` but got data with ID `" + e.id + "`. Consider specifying `navigation.initialDrilldown`."), !1;
                        if (delete this.requestedPies[e.id], e.limit = d.Helpers.tryParseInt(e.limit, 1 / 0), e.offset = d.Helpers.tryParseInt(e.offset, 0), e.beforeSum = d.Helpers.tryParseFloat(e.beforeSum, null), e.afterSum = d.Helpers.tryParseFloat(e.afterSum, null), e.sum = d.Helpers.tryParseFloat(e.sum, null), !d.Helpers.hasProperty(e, "subvalues")) {
                            if (!d.Helpers.hasProperty(e, "values")) return this.chart.error("Field `subvalues` not set in root data object"), !1;
                            d.Helpers.warn("Use of property `values` within PieChart data object is being deprecated. Please use `subvalues` instead.", null, !0), e.subvalues = e.values
                        }
                        if (!Array.isArray(e.subvalues)) return this.chart.error("Field `subvalues` is not an array!"), !1;
                        var i = !0;
                        e.offset < 0 && (this.chart.error("Data `offset` must be greater or equal to 0."), i = !1), e.limit < 1 && (this.chart.error("Data `limit` must be greater than 0."), i = !1);
                        var n = e.offset > 0 || e.limit <= e.subvalues.length;
                        if (!this.verifySlices(e.subvalues, {}, n)) return !1;
                        var r = e.limit > e.subvalues.length,
                            s = e.offset + e.subvalues.length;
                        if (t && (e.offset >= t.offset + t.limit || t.offset >= s && !r) && (this.chart.error("Response and request do not overlap. Requested " + t.limit + " items starting at " + t.offset + ". Received " + e.subvalues.length + " items starting at " + e.offset), i = !1), d.Helpers.hasProperty(this.pies, e.id)) {
                            var a = this.pies[e.id];
                            if (a.values.length > 0) {
                                var o = a.offset + a.values.length;
                                (o < e.offset || s < a.offset && !r) && (this.chart.error("Data cannot be merged - there is a gap between old data and new data! Old data spans slices from " + a.offset + " to " + (o - 1) + "; new data spans slices from " + e.offset + " to " + (s - 1) + "."), i = !1)
                            }
                        }
                        if (n && this.dataSettings.autoCategories && (this.chart.error("Cannot auto categorize partial data"), i = !1), !this._isFacetChart && n) {
                            var l = (null == e.beforeSum ? 0 : 1) + (null == e.afterSum ? 0 : 1) + (null == e.sum ? 0 : 1);
                            l < 2 ? (this.chart.error("For partial loading, at least 2 of the following need to be set: beforeSum, afterSum, sum."), i = !1) : (e.__valuesSum = this.valueSum(e.subvalues), null == e.beforeSum ? e.beforeSum = e.sum - e.afterSum - e.__valuesSum : null == e.afterSum ? e.afterSum = e.sum - e.beforeSum - e.__valuesSum : null == e.sum && (e.sum = e.beforeSum + e.afterSum + e.__valuesSum), e.sum !== e.beforeSum + e.afterSum + e.__valuesSum && (this.chart.error("For partial loading, beforeSum + (sum of subvalues) + afterSum must equal sum!"), i = !1), this._isFacetChart || (e.beforeSum < 0 && (this.chart.error("beforeSum cannot be negative!"), i = !1), e.afterSum < 0 && (this.chart.error("afterSum cannot be negative!"), i = !1), e.sum < 0 && (this.chart.error("sum cannot be negative!"), i = !1)))
                        }
                        return i
                    }, e.prototype.addVerifiedData = function(t, e) {
                        this.chart.scene.loading = this.hasPendingRequests();
                        var i = e.id,
                            n = {};
                        return n[i] = !0, t ? this.chart.log("Data arrived, id=" + i + ", offset=" + t.offset + ", len=" + e.subvalues.length + " of " + (t.limit || "unset")) : this.chart.log("Data arrived, id=" + i + ", offset=" + e.offset + ", len=" + e.subvalues.length + " of " + (e.limit || "unset")), this.dataSettings.autoCategories && (e = this.autoCategorize(e, this.dataSettings.autoCategories)), this.addDataInt(i, e.subvalues, e.offset, e.limit, e.afterSum, e.beforeSum, e.sum, e, n), {
                            pieChartPieIds: n
                        }
                    }, e.prototype.requestFailedPermanently = function(t) {
                        if (this.chart.scene.loading = this.hasPendingRequests(), t) {
                            var e = new o;
                            e.done = !0, this.pies[t.id] = e, this.chart.error("Data request failed for pie with ID `" + t.id + "`."), delete this.requestedPies[t.id]
                        } else this.chart.error("Data request failed.")
                    }, e
                }(d.Data);
                e.Data = l;
                var h = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.marker = new u, e.showOthers = !1, e
                    }
                    return n(e, t), e
                }(d.SettingsLegend);
                e.SettingsLegend = h;
                var u = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.shape = "square", e
                    }
                    return n(e, t), e
                }(d.SettingsLegendMarker);
                e.SettingsLegendMarker = u;
                var p = function(t) {
                        function e(e, i, n) {
                            var r = t.call(this, e, i, null, null) || this;
                            return r.sliceHovered = !1, r.data = n, r
                        }
                        return n(e, t), e.prototype.isHovered = function() {
                            return this.hoverCount > 0 || this.sliceHovered
                        }, e
                    }(d.LegendEntry),
                    f = function(t) {
                        function e(e) {
                            var i = t.call(this, e) || this;
                            return i.paintOrder = 20, i.updateOrder = 1e3, i
                        }
                        return n(e, t), e.prototype.onSceneChange = function(e) {
                            t.prototype.onSceneChange.call(this, e);
                            var i = e.changes;
                            i.pie && (this.rebuildItems(), i.bounds = !0)
                        }, e.prototype.getLastHoveredSlice = function() {
                            var t = this.getLastHoveredEntry();
                            return t ? t.data : null
                        }, e.prototype.doAnimations = function() {
                            for (var t = this.chart.scene.hoverSlice, e = 0; e < this.entries.length; e++) this.entries[e].sliceHovered = this.entries[e].data === t;
                            for (var i = this.chart.scene.selection, e = 0; e < i.length; e++) {
                                var n = this.entryIndex[i[e].id];
                                n && (n.sliceHovered = !0)
                            }
                        }, e.prototype.paintMarker = function(t, e, i, n, r) {
                            var s = r.data,
                                a = {
                                    fillColor: s.currentFillColor,
                                    lineColor: this.settings.marker.lineColor
                                },
                                o = t.context;
                            o.beginPath();
                            var l = this.settings.marker.shape;
                            l || (l = "circle"), d.Graphics.strokeMarker(o, l, e, i, n), d.Graphics.paint(o, a)
                        }, e.prototype.rebuildItems = function() {
                            var t = [],
                                e = this.chart.scene.peek();
                            if (e) {
                                var i = this.settings.text.fillColor,
                                    n = function(t) {
                                        return new p(t.data.nameLegend || t.label.text || t.data.name, i, t)
                                    },
                                    r = this.settings.showOthers,
                                    s = e.slices,
                                    a = e.previousSlice,
                                    o = e.othersSlice;
                                r && a && !a.removed && t.push(n(a)), t.push.apply(t, s.map(n)), r && o && !o.removed && t.push(n(o))
                            }
                            this.entryIndex = {};
                            for (var l = 0; l < t.length; l++) this.entryIndex[t[l].data.id] = t[l];
                            this.resetEntries(t)
                        }, e.prototype.itemClicked = function(t, e) {
                            var i = this.chart.createEventArguments(t, "user");
                            if (!i.hoverSlice && !this.chart.selection.lastClickSelection.some(function(t) {
                                    return t === e.data
                                })) {
                                var n = this.chart.selection.finalizeClickArgs(i, e.data, !0);
                                this.chart.selection.onPointerMove(t), this.chart.selection.updateCurrentObject(t, e.data), this.chart.selection.performClick(t, n)
                            }
                        }, e
                    }(d.Legend);
                e.Legend = f;
                var g = function() {
                    function t() {
                        this.hwidth = 0, this.hheight = 0, this.x = null, this.y = null, this.userPlaced = !1, this.inside = !0
                    }
                    return t
                }();
                e.Icon = g;
                var m = function() {
                    function t(t, e) {
                        this.id = null, this.pie = null, this.data = null, this.index = 0, this.value = 0, this.percent = null, this.fraction = 0, this.cutoutDistance = 0, this.selectDistance = 15, this.selection = 0, this.brightness = 1, this.expandable = !0, this.selected = !1, this.hovered = !1, this.active = !1, this.removed = !1, this.icon = null, this.iconOffset = null, this.url = null, this.urlTarget = null, this.userPlaced = !1, this.inside = !0, this.x = 0, this.y = 0, this.originalId = null, this.currentCutoutDistance = null, this.currentFraction = null, this.currentInsideLabel = null, this.currentLabel = null, this.currentIcon = null, this.currentLineColor = null, this.currentFillColor = null, this.targetFillColor = null, this.targetLineColor = null, this.targetFillGradient = null, this._resetLabelText = !1, this._label = {
                            textStyle: {}
                        }, this._insideLabel = {
                            textStyle: {}
                        }, this.lineColor = null, this.fillColor = null, this.fillColor2 = null, this.fillGradient = null, this.lineWidth = 1, this.lineDash = null, this.lineBrightness = 0, this._animatorF = null, this._animatorLineColor = null, this._animatorFillColor = null, this._animatorFillGradient = null, this._animatorCutout = null, this._renderParams = null, this.index = e, this.pie = t
                    }
                    return Object.defineProperty(t.prototype, "label", {
                        get: function() {
                            return this._label
                        },
                        set: function(t) {
                            d.Helpers.isObjectOrArray(t) ? this._label = t : (d.Helpers.warn("Slice.label should no longer be set to the text value - instead use Slice.label.text."), this._label.text = t ? "" + t : null, this._resetLabelText = !1)
                        },
                        enumerable: !0,
                        configurable: !0
                    }), Object.defineProperty(t.prototype, "insideLabel", {
                        get: function() {
                            return this._insideLabel
                        },
                        set: function(t) {
                            d.Helpers.isObjectOrArray(t) ? this._insideLabel = t : (d.Helpers.warn("Slice.insideLabel should no longer be set to the text value - instead use Slice.insideLabel.text."), this._insideLabel.text = t ? "" + t : null, this._resetLabelText && (this._resetLabelText = !1, this._label.text = null))
                        },
                        enumerable: !0,
                        configurable: !0
                    }), Object.defineProperty(t.prototype, "labelStyle", {
                        get: function() {
                            return d.Helpers.warn("Slice.labelStyle is deprecated - use Slice.label instead."), this._label
                        },
                        set: function(t) {
                            d.Helpers.warn("Slice.labelStyle is deprecated - use Slice.label instead."), t && (t.text || (t.text = this._label.text), d.Helpers.extendDeep(this._label, t))
                        },
                        enumerable: !0,
                        configurable: !0
                    }), Object.defineProperty(t.prototype, "insideLabelStyle", {
                        get: function() {
                            return d.Helpers.warn("Slice.insideLabelStyle is deprecated - use Slice.insideLabel instead."), this._insideLabel
                        },
                        set: function(t) {
                            d.Helpers.warn("Slice.insideLabelStyle is deprecated - use Slice.insideLabel instead."), t && (t.text || (t.text = this._insideLabel.text), d.Helpers.extendDeep(this._insideLabel, t))
                        },
                        enumerable: !0,
                        configurable: !0
                    }), t
                }();
                e.Slice = m;
                var v = function() {
                    function t() {
                        this.id = null, this.data = null, this.total = 1, this.parentSlice = null, this.othersSlice = null, this.previousSlice = null, this.slices = [], this.allSlices = [], this.offset = 0, this.count = 0, this.background = !1, this.activeSliceId = null, this.brightness = 1, this.loading = !1, this.scrollOffset = 0, this.fillColor = null, this.x = 0, this.y = 0, this.startAngle = 0, this.endAngle = 0, this.rotationSpeed = 0, this.currentlyRotating = !1, this.currentStartAngle = null, this.currentEndAngle = null, this.currentRadius = 0, this.innerRadius = 0, this.radius = 0, this.currentInnerRadius = 0, this.colorDistribution = null, this.sliceColors = null, this.removed = !1, this.visibleFraction = 1, this.removeTime = null, this._animatorA0 = null, this._animatorA1 = null, this._animatorR0 = null, this._animatorR1 = null
                    }
                    return t.prototype.getActiveSlice = function() {
                        if (!this.activeSliceId) return null;
                        for (var t = 0; t < this.slices.length; t++) {
                            var e = this.slices[t];
                            if (e.id === this.activeSliceId) return e
                        }
                        return null
                    }, t.prototype.getInnerRadius = function(t) {
                        var e = t.settings.slice.margin,
                            i = t.currentInnerRadius,
                            n = t.currentRadius - i;
                        return this.getPieScale(t) * Math.max(this.currentInnerRadius * n + i, e / 2)
                    }, t.prototype.getOuterRadius = function(t) {
                        var e = t.currentInnerRadius,
                            i = t.currentRadius - e;
                        return this.getPieScale(t) * (this.currentRadius * i + e)
                    }, t.prototype.getCenterY = function(t) {
                        var e = this.getOuterRadius(t),
                            i = this.getPieBox(),
                            n = e * (i.maxY + i.minY) / 2;
                        return this.y - n
                    }, t.prototype.getCenterX = function(t) {
                        var e = this.getOuterRadius(t),
                            i = this.getPieBox(),
                            n = e * (i.maxX + i.minX) / 2;
                        return this.x - n
                    }, t.prototype.getPieBox = function() {
                        if (!this._animatorA0 || !this._animatorA1) {
                            var t = this.startAngle,
                                e = this.endAngle;
                            return d.Geometry.boxBoundingCircleSector(t, e)
                        }
                        var i = d.Geometry.boxBoundingCircleSector(this._animatorA0.getFrom(), this._animatorA1.getFrom()),
                            n = d.Geometry.boxBoundingCircleSector(this._animatorA0.getTo(), this._animatorA1.getTo());
                        return {
                            minX: Math.min(i.minX, n.minX),
                            maxX: Math.max(i.maxX, n.maxX),
                            minY: Math.min(i.minY, n.minY),
                            maxY: Math.max(i.maxY, n.maxY)
                        }
                    }, t.prototype.getPieScale = function(t) {
                        var e = this.getPieBox(),
                            i = t.width,
                            n = t.height,
                            r = Math.min(i, n),
                            s = r * (e.maxX - e.minX) / 2,
                            a = r * (e.maxY - e.minY) / 2,
                            o = a > 0 ? n / a : 1,
                            l = s > 0 ? i / s : 1;
                        return Math.min(o, l)
                    }, t
                }();
                e.Pie = v;
                var y = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.radius = 100, e.innerRadius = 0, e.currentRadius = null, e.currentInnerRadius = null, e.pies = [], e.stack = [], e.selectionIds = [], e.hoverBack = !1, e.hoverSlice = null, e.hoverLabel = null, e.hoverPie = null, e.view = null, e.selection = [], e.pendingAction = null, e.pendingOffset = null, e
                    }
                    return n(e, t), e.prototype.addPie = function(t) {
                        return this.pies.push(t), this.stack.push(t), t
                    }, e.prototype.removePie = function(t) {
                        if (null !== t) {
                            t.removed = !0, t.removeTime = null, d.Helpers.removeFromArray(this.stack, t);
                            for (var e = 0; e < this.selection.length;) {
                                var i = this.selection[e];
                                i.pie === t ? d.Helpers.removeFromArray(this.selection, i) : e++
                            }
                        }
                    }, e.prototype.deletePie = function(t) {
                        return d.Helpers.removeFromArray(this.pies, t), d.Helpers.removeFromArray(this.stack, t)
                    }, e.prototype.length = function() {
                        return this.stack.length
                    }, e.prototype.peek = function() {
                        return 0 === this.stack.length ? null : this.stack[this.stack.length - 1]
                    }, e.prototype.push = function(t, e) {
                        void 0 === e && (e = null);
                        var i = this.peek();
                        if (i && !e)
                            for (var n = 0; n < i.slices.length; n++) {
                                var r = i.slices[n];
                                if (r.id === t.id) {
                                    e = r;
                                    break
                                }
                            }
                        if (e) {
                            t.parentSlice = e;
                            var s = e.pie,
                                a = this.getSliceAngles(e);
                            t.currentStartAngle = a.a0, t.currentEndAngle = a.a1, t.currentRadius = s.currentRadius, t.currentInnerRadius = s.currentInnerRadius, i.activeSliceId = e.id;
                            for (var n = 0; n < t.allSlices.length; n++) {
                                var r = t.allSlices[n];
                                r.currentFillColor = e.currentFillColor, r.currentLineColor = e.currentLineColor
                            }
                        } else i && (i.activeSliceId = null);
                        return i && (i.background = !0), this.addPie(t)
                    }, e.prototype.pop = function() {
                        if (0 !== this.stack.length) {
                            this.removePie(this.peek());
                            var t = this.peek();
                            t && (t.background = !1, t.brightness = 1)
                        }
                    }, e.prototype.getParent = function(t) {
                        for (var e = null, i = 0; i < this.stack.length; i++) {
                            var n = this.stack[i];
                            if (n === t) return e;
                            e = n
                        }
                        return null
                    }, e.prototype.getChild = function(t) {
                        for (var e = null, i = 0; i < this.stack.length; i++) {
                            var n = this.stack[i];
                            if (e === t) return n;
                            e = n
                        }
                        return null
                    }, e.prototype.updateOnPieChanged = function(t) {
                        var e = this.getParent(t),
                            i = this.getChild(t);
                        if (e && !t.parentSlice)
                            for (var n = 0; n < e.slices.length; n++) {
                                var r = e.slices[n];
                                if (r.id === t.id) {
                                    t.parentSlice = r, e.activeSliceId = r.id;
                                    break
                                }
                            }
                        if (i && !i.parentSlice)
                            for (var n = 0; n < t.slices.length; n++) {
                                var r = t.slices[n];
                                if (r.id === i.id) {
                                    i.parentSlice = r, t.activeSliceId = r.id;
                                    break
                                }
                            }
                    }, e.prototype.findPieAt = function(t, e, i) {
                        return this.view.findPieAt(t, e, i)
                    }, e.prototype.findSliceAt = function(t, e, i, n) {
                        return this.view.findSliceAt(t, e, i, n)
                    }, e.prototype.findLabelAt = function(t, e, i) {
                        return this.view.findLabelAt(t, e, i)
                    }, e.prototype.getSliceAngles = function(t) {
                        for (var e = 0, i = t.pie, n = 0, r = 0; r < i.allSlices.length; r++) {
                            var s = i.allSlices[r];
                            if (n = e, e += s.currentFraction, s.id === t.id) break
                        }
                        var a = i.currentEndAngle - i.currentStartAngle,
                            o = i.currentStartAngle;
                        return {
                            a0: o + a * n,
                            a1: o + a * e
                        }
                    }, e.prototype.getSliceTargetAngles = function(t) {
                        for (var e = 0, i = t.pie, n = 0, r = 0; r < i.allSlices.length; r++) {
                            var s = i.allSlices[r];
                            if (n = e, e += s.currentFraction, s.id === t.id) break
                        }
                        var a = i.currentEndAngle - i.currentStartAngle,
                            o = i.currentStartAngle;
                        return {
                            a0: o + a * n,
                            a1: o + a * e
                        }
                    }, e
                }(d.Scene);
                e.Scene = y;
                var S = function(t) {
                    function e(i) {
                        var n = t.call(this, d.SettingsMapping.PieChartSettings) || this;
                        n.theme = S.DarkTheme, n.data = [], n.legend = new h, n.navigation = {
                            initialDrilldown: [""],
                            initialOffset: 0
                        }, n.pie = {
                            radius: null,
                            adaptiveRadius: !0,
                            outerMargin: 1,
                            margin: 2,
                            centerMargin: 5,
                            showInnerPiesExport: !0,
                            showInnerPies: !0,
                            innerRadius: .3,
                            innerRadiusWhenDrilldown: .2,
                            startAngle: -Math.PI / 2,
                            endAngle: 1.5 * Math.PI,
                            rotationSpeed: 0,
                            theme: "flat",
                            depth: 0,
                            x: null,
                            y: null,
                            style: {
                                fillColor: "transparent",
                                sliceColors: ["#55EDFF", "#E16540", "#FFC548", "#BD52CE", "#1EF9D1", "#d5429b", "#525ECE", "#1c7cd5", "#56b9f7", "#2fc32f"],
                                colorDistribution: "list",
                                brightness: 1
                            },
                            noDataStyle: {
                                fillColor: "#e2e2e2"
                            },
                            backgroundStyle: {},
                            backgroundHoveredStyle: {
                                brightness: .7
                            },
                            styleFunction: null
                        }, n.slice = {
                            margin: 2,
                            minFraction: 0,
                            style: {
                                lineBrightness: 0,
                                brightness: 1,
                                lineWidth: 1,
                                label: {
                                    backgroundStyle: null,
                                    textStyle: {
                                        fillColor: "rgba(185, 185, 185, 1)",
                                        font: "12px Arial"
                                    },
                                    lineSpacing: .2,
                                    margin: 4,
                                    padding: 0,
                                    borderRadius: 999,
                                    text: null
                                },
                                insideLabel: {
                                    textStyle: {
                                        fillColor: "rgba(185, 185, 185, 1)",
                                        font: "12px Arial"
                                    },
                                    lineSpacing: .2,
                                    margin: 4,
                                    padding: 0,
                                    borderRadius: 0,
                                    text: null
                                }
                            },
                            hoverStyle: {
                                brightness: 1.2,
                                lineBrightness: 2,
                                lineWidth: .35
                            },
                            selectedStyle: null,
                            backgroundStyle: {
                                fillColor: "#e2e2e2",
                                fillColor2: "#e0e0e0",
                                fillGradient: null
                            },
                            backgroundActiveStyle: {
                                brightness: 1.3
                            },
                            othersStyle: {
                                fillColor: "#ccc",
                                lineDecoration: "zigzag"
                            },
                            previousStyle: {
                                fillColor: "#ccc",
                                lineDecoration: "zigzag"
                            },
                            connectorStyle: {
                                lineColor: "#333",
                                lineWidth: 1
                            },
                            expandableMarkStyle: {
                                lineWidth: 1,
                                lineColor: "rgba(143, 143, 143, 1)",
                                distance: 4,
                                lineDash: null
                            },
                            styleFunction: null
                        }, n.filters = {
                            sliceFilter: null,
                            allowZeroValues: !1
                        }, n.labels = new b, n.icons = {
                            sizeExtent: [16, 64],
                            placement: "auto",
                            autohideWhenTooSmall: !0
                        }, n.advanced = new L, n.interaction = new w, n.info = {
                            enabled: !0,
                            contentsFunction: null
                        }, n.events = new x, n.toolbar = new d.SettingsToolbar(!1, [new d.SettingsToolbarItem("back"), new d.SettingsToolbarItem("export"), new d.SettingsToolbarItem("zoomOut"), new d.SettingsToolbarItem("fullscreen")]), n.localization = new C, n.toolbar.zoomOut = !1, n.apply(i), n._initializing = !1;
                        if(n.hasOwnProperty("parentChart")){ n.area.style.fillColor = "transparent"; }
                        return n;
                    }
                    return n(e, t), e.prototype.apply = function(e) {
                        this.applyCompatibility(e, [{
                            from: "slice.labelStyle",
                            to: "slice.style.label"
                        }, {
                            from: "slice.insideLabelStyle",
                            to: "slice.style.insideLabel"
                        }, {
                            from: "labels.connectorStyle",
                            to: "slice.connectorStyle"
                        }, {
                            from: "labels.textStyle",
                            to: "slice.style.label.textStyle"
                        }, {
                            from: "labels.backgroundStyle",
                            to: "slice.style.label.backgroundStyle"
                        }, {
                            from: "labels.insideTextStyle",
                            to: "slice.style.insideLabel.textStyle"
                        }, {
                            from: "labels.padding",
                            to: "slice.style.label.padding"
                        }, {
                            from: "labels.borderRadius",
                            to: "slice.style.label.borderRadius"
                        }, {
                            from: "area.initialPieId",
                            to: "navigation.initialDrilldown"
                        }, {
                            from: "area.initialPieOffset",
                            to: "navigation.initialOffset"
                        }, {
                            from: "area.initialAnimation",
                            to: "advanced.initialAnimation"
                        }, {
                            from: "advanced.iconMinSize",
                            alternative: "icons.sizeExtent[0]"
                        }, {
                            from: "advanced.pointer.dragSensitivity",
                            to: "interaction.selection.swipeSensitivity"
                        }]);
                        var i = t.prototype.apply.call(this, e);
                        return i
                    }, e
                }(d.Settings);
                S.FlatTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat",
                        assets: []
                    },
                    pie: {
                        theme: "flat",
                        depth: 0
                    }
                }, S.LightTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat",
                        backImage: "builtin://piechart-back-white",
                        assets: []
                    },
                    area: {
                        style: {
                            fillColor: "rgba(236, 236, 236, 1)"
                        }
                    },
                    title: {
                        margin: 15,
                        style: {
                            fillColor: "rgba(30, 30, 35, 1)"
                        }
                    },
                    pie: {
                        theme: "flat",
                        depth: 0,
                        style: {
                            sliceColors: ["#4DBBC8", "#C3664A", "#AE6FB8", "#EAB74B", "#4CE4C9", "#646DC1", "#DC687D", "#B6D06C", "#56b9f7", "#2fc32f"]
                        },
                        noDataStyle: {
                            fillColor: "rgba(143, 143, 143, 1)"
                        }
                    },
                    slice: {
                        connectorStyle: {
                            lineColor: "rgba(30, 30, 35, 0.2)"
                        },
                        style: {
                            label: {
                                textStyle: {
                                    fillColor: "rgba(30, 30, 35, 1)"
                                }
                            }
                        },
                        backgroundStyle: {
                            fillColor: "rgba(143, 143, 143, 1)",
                            fillColor2: "rgba(143, 143, 143, 1)",
                            fillGradient: null
                        },
                        expandableMarkStyle: {
                            lineColor: "rgba(143, 143, 143, 1)"
                        }
                    },
                    legend: {
                        text: {
                            fillColor: "rgba(30, 30, 35, 1)"
                        },
                        marker: {
                            lineColor: null
                        }
                    }
                }, S.DarkTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-dark",
                        backImage: "builtin://piechart-back-white",
                        assets: []
                    },
                    area: {
                        style: {
                            fillColor: "rgba(23, 23, 27, 1)"
                        }
                    },
                    title: {
                        margin: 15,
                        style: {
                            fillColor: "rgba(185, 185, 185, 1)"
                        }
                    },
                    pie: {
                        theme: "flat",
                        depth: 0,
                        style: {
                            sliceColors: ["#55EDFF", "#E16540", "#FFC548", "#BD52CE", "#1EF9D1", "#d5429b", "#525ECE", "#1c7cd5", "#56b9f7", "#2fc32f"]
                        },
                        noDataStyle: {
                            fillColor: "rgba(38, 38, 44, 1)"
                        }
                    },
                    slice: {
                        connectorStyle: {
                            lineColor: "rgba(185, 185, 185, 0.2)"
                        },
                        style: {
                            label: {
                                textStyle: {
                                    fillColor: "rgba(185, 185, 185, 1)"
                                }
                            }
                        },
                        backgroundStyle: {
                            fillColor: "rgba(38, 38, 44, 1)",
                            fillColor2: "rgba(38, 38, 44, 1)",
                            fillGradient: null
                        },
                        expandableMarkStyle: {
                            lineColor: "rgba(38, 38, 44, 1)"
                        }
                    },
                    legend: {
                        text: {
                            fillColor: "rgba(185, 185, 185, 1)"
                        },
                        marker: {
                            lineColor: null
                        }
                    }
                }, S.RoundedTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat",
                        assets: []
                    },
                    pie: {
                        theme: "rounded",
                        depth: 0
                    }
                }, S.BevelTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat",
                        assets: []
                    },
                    pie: {
                        theme: "bevel",
                        depth: 0
                    }
                }, S.GradientTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat",
                        assets: []
                    },
                    pie: {
                        theme: "smoothy",
                        depth: 0
                    }
                }, S.CanTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat",
                        assets: []
                    },
                    pie: {
                        theme: "can",
                        depth: 10
                    }
                }, e.Settings = S;
                var b = function() {
                    function t() {
                        this.enabled = !0, this.includeName = !0, this.includePercent = !0, this.connectors = !0, this.connectorLength = 20, this.angle = 0, this.insideLabel = "append", this.insideLabelVisibilityFraction = .8, this.interLabelSpacing = .6, this.placement = "aligned", this.labelAppendFunction = null
                    }
                    return t
                }();
                e.SettingsLabels = b;
                var x = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.onPieChange = null, e.onPieReadyStateChanged = null, e
                    }
                    return n(e, t), e
                }(d.SettingsEvents);
                e.SettingsEvents = x;
                var C = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.othersLabel = "Others", e.previousLabel = "Previous", e
                    }
                    return n(e, t), e
                }(d.SettingsLocalization);
                e.SettingsLocalization = C;
                var w = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.mode = "drilldown", e.coverCenter = !1, e.selection = {
                            enabled: !0,
                            tolerance: 2,
                            swipe: !1,
                            swipeSensitivity: 10,
                            partialSwipe: !1,
                            maxSwipeDistance: 45
                        }, e.animation = {
                            scrollDuration: 500,
                            hoverDuration: 200
                        }, e.others = {
                            enabled: !0,
                            centerGoesToPrevious: !1,
                            navigationFraction: .15,
                            maxSlicesVisible: 15,
                            minSlices: 1,
                            maxOthersFraction: .6,
                            minSliceFraction: .01
                        }, e.scrolling = {
                            enabled: !1
                        }, e
                    }
                    return n(e, t), e
                }(d.SettingsInteraction);
                e.SettingsInteraction = w;
                var L = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.iconMinSize = null,
                            e.initialAnimation = !0, e.renderQuality = 1, e.backImage = "builtin://piechart-back", e.backImageBackground = null, e.backAlwaysVisible = !1, e.labelInsideTreshold = 1, e.builtinAssets["piechart-back"] = c.PiechartBack, e.builtinAssets["piechart-back-white"] = c.PiechartBackWhite, e.pointer.noClickOnDoubleClick = !1, e
                    }
                    return n(e, t), e
                }(d.SettingsAdvanced);
                e.SettingsAdvanced = L;
                var T = function(t) {
                    function i(i) {
                        var n = t.call(this) || this;
                        return n.animationOrder = 1100, n.paintOrder = 10, n.updateOrder = 1200, n.currentSlice = null, n.currentLabel = null, n.currentPie = null, n.hoveringLegend = !1, n.draggedLabelSlice = null, n.draggedLabel = null, n.hoverEvent = null, n.dragStartConditions = {
                            angle: 1 / 0,
                            distance: 1 / 0,
                            slice: null,
                            pie: null
                        }, n.isScrolling = !1, n.px = 0, n.py = 0, n.lastClickSelection = [], n.chart = i, n.scene = i.scene, n.events = i.events, n.scrolling = new e.Scrolling(i), n
                    }
                    return n(i, t), i.prototype.doAnimations = function(t) {
                        this.hoverEvent && this.onPointerMove(this.hoverEvent)
                    }, i.prototype.previewPointerDrag = function(t) {
                        this.hoverEvent = t
                    }, i.prototype.onPointerMove = function(t) {
                        this.hoverEvent = t, this.updateCurrentObject(t)
                    }, i.prototype.onPointerOut = function(t) {
                        this.updateCurrentObject(t), this.switchCurrentSlice(null, null, !1, t), this.hoverEvent = null
                    }, i.prototype.onPointerDown = function(t) {
                        this.handlePointerDown(t), this.scrolling.handlePointerDown(t)
                    }, i.prototype.handlePointerDown = function(t) {
                        this.updateCurrentObject(t);
                        var e = this.currentSlice;
                        (e || this.currentPie) && (t.consumed = !0), this.px = t.x, this.py = t.y;
                        var i = this.scene.settings.interaction.selection;
                        if (i.swipe || i.partialSwipe) {
                            var n = this.scene.settings.interaction,
                                r = this.scene.pies[0],
                                s = r && n.others.centerGoesToPrevious && r.previousSlice,
                                a = n.coverCenter && !s && (!r || !r.background),
                                o = this.scene.findSliceAt(t.x, t.y, n.selection.tolerance, a);
                            if (this.dragStartConditions.slice = null, this.dragStartConditions.pie = null, this.dragStartConditions.distance = 1 / 0, this.dragStartConditions.angle = 0, o && null !== o.id) {
                                this.dragStartConditions.slice = e, this.dragStartConditions.pie = r;
                                var l = t.x - r.getCenterX(this.scene),
                                    h = t.y - r.getCenterY(this.scene),
                                    u = Math.sqrt(l * l + h * h);
                                this.dragStartConditions.distance = u - e.currentCutoutDistance, this.dragStartConditions.angle = 180 * Math.atan2(h, l) / Math.PI
                            }
                        }
                        var c = this.scene.findLabelAt(t.x, t.y, this.scene.settings.interaction.selection.tolerance);
                        this.draggedLabelSlice = c.slice, this.draggedLabel = c.label, this.draggedLabel = null, this.draggedLabelSlice = null
                    }, i.prototype.onPointerDrag = function(t) {
                        this.handlePointerDrag(t), this.scrolling.handlePointerDrag(t)
                    }, i.prototype.handlePointerDrag = function(t) {
                        var e = this.scene.settings.interaction.selection;
                        if (!this.isScrolling) {
                            if (t.distance({
                                    x: this.px,
                                    y: this.py
                                }) < e.swipeSensitivity) return;
                            this.isScrolling = !0
                        }
                        if ((e.swipe || e.partialSwipe) && (this.currentSlice || this.dragStartConditions.slice)) {
                            var i = this.dragStartConditions.slice;
                            if (null !== i) {
                                var n = this.dragStartConditions.pie,
                                    r = this.dragStartConditions.distance,
                                    s = this.dragStartConditions.angle;
                                s === 1 / 0 && (s = 180 * Math.atan2(t.y - n.getCenterY(this.scene), t.x - n.getCenterX(this.scene)) / Math.PI);
                                var a = t.x - n.getCenterX(this.scene),
                                    o = t.y - n.getCenterY(this.scene),
                                    l = 180 * Math.atan2(o, a) / Math.PI,
                                    h = Math.abs(s - l);
                                if (h <= 90) {
                                    var u = Math.sqrt(a * a + o * o);
                                    this.dragStartConditions.distance === 1 / 0 && (r = u - i.currentCutoutDistance);
                                    var c = this.scene.innerRadius >= i.selectDistance / 2 ? -i.selectDistance / 2 : 0,
                                        p = u * Math.cos(h * Math.PI / 180),
                                        f = p - r > e.maxSwipeDistance,
                                        g = p - r > c;
                                    i.userPlaced = !0, f ? i.currentCutoutDistance = e.maxSwipeDistance : g && (i.currentCutoutDistance = p - r > c ? d.Helpers.trunc(p - r) : 0), i.selection = i.currentCutoutDistance > 0 ? i.currentCutoutDistance / e.maxSwipeDistance * 100 : 0, t.changes.pie = !0
                                }
                            }
                        }
                        if (this.draggedLabel) {
                            var m = this.draggedLabel;
                            m.userPlaced = !0, m.x += t.dx, m.y += t.dy, t.consumed = !0, t.changes.pie = !0
                        }
                    }, i.prototype.onPointerUp = function(t) {
                        this.handlePointerUp(t), this.scrolling.handlePointerUp(t)
                    }, i.prototype.handlePointerUp = function(t) {
                        this.isScrolling = !1;
                        var e = this.scene.settings.interaction.selection;
                        if (e.swipe || e.partialSwipe) {
                            var i = this.dragStartConditions.slice;
                            if (i) {
                                var n = i.currentCutoutDistance >= i.selectDistance / 2 && !i.selected,
                                    r = i.currentCutoutDistance < i.selectDistance / 2 && i.selected;
                                e.swipe || i.currentCutoutDistance <= 0 && e.partialSwipe ? i.userPlaced = !1 : e.partialSwipe && (i.userPlaced = !0), r || n ? this.updateSelection(t, i, !1) : i.currentCutoutDistance >= i.selectDistance / 2 && i.selected && this.setSelection([i], [], !0)
                            }
                        }
                        this.draggedLabel && (this.draggedLabel = null, t.consumed = !0)
                    }, i.prototype.onPointerCancel = function(t) {
                        this.onPointerUp(t)
                    }, i.prototype.defaultClick = function(t, e) {
                        var i = this.chart,
                            n = e.clickSlice,
                            r = e.clickPie,
                            s = "drilldown" === i.settings.interaction.mode;
                        if (s || n && (n === n.pie.othersSlice || n === n.pie.previousSlice))
                            if (n)
                                if (n.url) d.Helpers.openUrl(n.url, n.urlTarget), t.preventDefault();
                                else {
                                    var a = i.settings.interaction.selection.enabled;
                                    a && (t.ctrlKey || t.shiftKey || t.metaKey) || !this.chart.navigator.expandSlice(n, "user") || t.preventDefault()
                                }
                        else r && "back" === e.clickOrigin && (this.setSelection([], [], !1, "user"), this.chart.navigator.goCenter("user"), t.preventDefault())
                    }, i.prototype.onClick = function(t) {
                        this.onPointerMove(t);
                        var e = this.createClickArgs(t);
                        this.performClick(t, e)
                    }, i.prototype.performClick = function(t, e) {
                        if (this.lastClickSelection = this.scene.selection, "legend" !== e.clickOrigin || this.chart.settings.legend.interaction.click ? (this.chart.notifyClick(t, e), (this.currentSlice || this.currentPie) && (t.consumed = !0), t.defaultPrevented || this.updateSelection(t, this.currentSlice, !1)) : "legend" === e.clickOrigin && (e.clickSlice = null, e.clickPie = null, this.chart.notifyClick(t, e)), t.touch) {
                            var i = t.x;
                            t.x = 1e9, this.onPointerOut(t), t.x = i
                        }
                    }, i.prototype.onLongPress = function(t) {
                        return this.chart.notifyLongPress(t, this.createClickArgs(t)), t.defaultPrevented ? void(t.consumed = !0) : void this.updateSelection(t, this.currentSlice, !1)
                    }, i.prototype.onRightClick = function(t) {
                        this.onPointerMove(t), (this.currentSlice || this.currentPie) && (t.consumed = !0), this.chart.notifyRightClick(t, this.createClickArgs(t)), t.defaultPrevented && (t.consumed = !0)
                    }, i.prototype.onDoubleClick = function(t) {
                        this.onPointerMove(t), this.chart.notifyDoubleClick(t, this.createClickArgs(t)), t.consumed = !0
                    }, i.prototype.onTripleClick = function(t) {
                        this.onPointerMove(t), this.chart.notifyTripleClick(t, this.createClickArgs(t)), t.consumed = !0
                    }, i.prototype.createClickArgs = function(t) {
                        var e = this.chart.createEventArguments(t, "user");
                        return this.finalizeClickArgs(e, e.hoverSlice)
                    }, i.prototype.finalizeClickArgs = function(t, e, i) {
                        void 0 === i && (i = !1), t.hoverSlice = e;
                        var n = e;
                        if (t.clickSlice = n, t.clickPie = n ? n.pie : t.hoverPie, t.clickLabel = t.hoverLabel, n) {
                            var r = t.clickLabel;
                            this.hoveringLegend || i ? t.clickOrigin = "legend" : r ? r === n.currentInsideLabel ? t.clickOrigin = "insideLabel" : t.clickOrigin = "label" : t.clickOrigin = "slice"
                        } else this.scene.hoverBack && (t.clickOrigin = "back");
                        return t
                    }, i.prototype.updateSelection = function(t, e, i) {
                        var n = this.scene,
                            r = n.settings.interaction;
                        if (r.selection.enabled) {
                            var s = !1,
                                a = "toggle" === r.mode || t.ctrlKey || t.metaKey || t.shiftKey;
                            e ? s || i && e.selected || a && !e.selected ? e.selected || (this.scene.selection.push(e), e.selected = !0, this.setSelection(n.selection, n.selectionIds, !0)) : a && e.selected ? (d.Helpers.removeFromArray(n.selection, e), e.selected = !1, this.setSelection(n.selection, n.selectionIds, !0)) : !e.selected || n.selection.length > 1 ? this.setSelection([e]) : this.setSelection([]) : s || a || this.setSelection([])
                        }
                    }, i.prototype.switchCurrentSlice = function(t, e, i, n) {
                        t === this.currentSlice && e === this.currentLabel && this.hoveringLegend === i || (n.changes.current = !0, this.scene.hoverSlice && (this.scene.hoverSlice.active = !1), this.scene.hoverPie && (this.scene.hoverPie.active = !1), this.scene.hoverSlice = t, this.scene.hoverPie = null, this.scene.hoverLabel = e, this.currentSlice = t, this.currentLabel = e, this.currentPie = null, this.hoveringLegend = i, t && (t.active = !0), this.events.notifySceneChanges({
                            pie: !0
                        }), this.chart.notifyHoverChanged(n, this.chart.createEventArguments(n, "user")))
                    }, i.prototype.switchCurrentPie = function(t, e) {
                        t !== this.currentPie && (e.changes.current = !0, this.scene.hoverSlice && (this.scene.hoverSlice.active = !1), this.scene.hoverPie && (this.scene.hoverPie.active = !1), this.scene.hoverPie = t, this.scene.hoverSlice = null, this.currentSlice = null, this.currentPie = t, this.hoveringLegend = !1, t && (t.active = !0), this.events.notifySceneChanges({
                            pie: !0
                        }), this.chart.notifyHoverChanged(e, this.chart.createEventArguments(e, "user")))
                    }, i.prototype.onSceneChange = function(t) {
                        t.changes.pie && this.updateSelectionIds() && (this.events.notifySceneChanges({
                            selection: !0
                        }), this.chart.notifySelectionChanged(this.chart.createEventArguments(null, "api")))
                    }, i.prototype.updateSelectionIds = function() {
                        for (var t = [], e = 0; e < this.scene.selectionIds.length; e++)
                            for (var i = this.scene.selectionIds[e], n = 0; n < this.scene.pies.length; n++) {
                                var r = this.scene.pies[n];
                                if (!r.background)
                                    for (var s = 0; s < r.slices.length; s++) {
                                        var a = r.slices[s];
                                        if (a.id === i) {
                                            t.push(a);
                                            break
                                        }
                                    }
                            }
                        if (t.length > 0)
                            for (var s = 0; s < t.length; s++) {
                                var a = t[s];
                                a.selected || (a.selected = !0, this.scene.selection.push(a)), d.Helpers.removeFromArray(this.scene.selectionIds, a.id)
                            }
                        return t.length > 0
                    }, i.prototype.setSelection = function(t, e, i, n) {
                        void 0 === e && (e = []), void 0 === i && (i = !1), void 0 === n && (n = "user"), this.scene.selectionIds = e;
                        var r;
                        if (i) r = !0;
                        else {
                            for (var s = 0; s < this.scene.selection.length; s++) {
                                var a = this.scene.selection[s];
                                t.indexOf(a) < 0 && (a.selected = !1, r = !0)
                            }
                            for (var s = 0; s < t.length; s++) {
                                var a = t[s];
                                a.selected || (a.selected = !0, r = !0)
                            }
                            this.scene.selection = t
                        }
                        var o = this.updateSelectionIds();
                        r = r || o, r && (this.events.notifySceneChanges({
                            selection: !0
                        }), this.chart.notifySelectionChanged(this.chart.createEventArguments(null, n)))
                    }, i.prototype.updateCurrentObject = function(t, e) {
                        void 0 === e && (e = null);
                        var i, n = this.scene,
                            r = n.settings.interaction,
                            s = n.findPieAt(t.x, t.y, r.selection.tolerance),
                            a = s && r.others.centerGoesToPrevious && s.previousSlice,
                            o = r.coverCenter && !a && (!s || !s.background),
                            l = n.findLabelAt(t.x, t.y, r.selection.tolerance),
                            h = !1;
                        i = l.slice ? l.slice : n.findSliceAt(t.x, t.y, r.selection.tolerance, o);
                        var u = this.chart.legend;
                        !i && u && (i = e || u.getLastHoveredSlice(), i && (h = !0)), i && (this.chart.settings.legend.interaction.click && (t.cursor = "pointer"), t.hovered = !0), this.switchCurrentSlice(i, l.label, h, t), s && (s.background || a) && !i ? (t.cursor = "pointer", t.hovered = !0, s.background ? this.switchCurrentPie(s, t) : (this.switchCurrentSlice(s.previousSlice, null, !1, t), this.switchCurrentPie(null, t)), n.hoverBack = !0) : (this.switchCurrentPie(null, t), n.hoverBack = !1)
                    }, i
                }(d.ChartElement);
                e.Selection = T;
                var M = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 100, i.paintOrder = 25, i.updateOrder = 900, i.chart = e, i.scene = e.scene, i
                    }
                    return n(e, t), e.needStyleUpdate = function(t) {
                        return t.settings || t.pie || t.selection || t.style
                    }, e.prototype.onSceneChange = function(t) {
                        if (e.needStyleUpdate(t.changes))
                            for (var i = 0; i < this.scene.pies.length; i++) {
                                var n = this.scene.pies[i];
                                this.updatePie(n), this.computePieColors(n);
                                for (var r = 0; r < n.allSlices.length; r++) {
                                    var s = n.allSlices[r];
                                    this.updateSlice(s, r)
                                }
                            }
                    }, e.prototype.updatePie = function(t) {
                        d.Helpers.extendStyleTo(this.scene.settings.pie.style, t), 0 === t.slices.length && d.Helpers.extendStyleTo(this.scene.settings.pie.noDataStyle, t), t.background && d.Helpers.extendStyleTo(this.scene.settings.pie.backgroundStyle, t), this.scene.hoverPie === t && d.Helpers.extendStyleTo(this.scene.settings.pie.backgroundHoveredStyle, t), this.scene.settings.pie.styleFunction && this.scene.settings.pie.styleFunction.call(this.chart.api, t, t.data)
                    }, e.prototype.computePieColors = function(t) {
                        for (var e = t.sliceColors, i = t.colorDistribution, n = 0, r = 0; r < t.slices.length; r++) {
                            var s = t.slices[r];
                            s.removed || (n += 1)
                        }
                        if (1 === n) return void(t.slices[0].fillColor = e[0]);
                        if (1 === e.length) {
                            var a = e[0];
                            e = [a, d.Colors.blend(a, "#fff", .8)]
                        }
                        var o = e.length;
                        if ("gradient" === i)
                            for (var l = 0, r = 0; r < t.slices.length; r++) {
                                var s = t.slices[r];
                                if (!s.removed) {
                                    var h = e[Math.floor(l * (o - 1))],
                                        u = e[Math.floor(l * (o - 1) + 1)],
                                        c = l * (o - 1);
                                    c -= Math.floor(c);
                                    var a = d.Colors.blend(h, u, c, !1);
                                    s.fillColor = a, l += 1 / (n - .9)
                                }
                            } else if ("gradientProportional" === i)
                                for (var l = 0, r = 0; r < t.slices.length; r++) {
                                    var s = t.slices[r];
                                    if (!s.removed) {
                                        var h = e[Math.floor(l * (o - 1))],
                                            u = e[Math.floor(l * (o - 1) + 1)],
                                            c = l * (o - 1);
                                        c -= Math.floor(c);
                                        var a = d.Colors.blend(h, u, c, !1);
                                        s.fillColor = a, l += s.fraction
                                    }
                                } else
                                    for (var p = 0; p < t.slices.length; p++) {
                                        var s = t.slices[p];
                                        if (!s.removed) {
                                            var a = e[(t.offset + p) % o],
                                                f = Math.floor(p / o);
                                            1 === f ? a = d.Colors.derive(a, 1.5, 1) : f >= 2 && (a = d.Colors.derive(a, .5, 1)), s.fillColor = a
                                        }
                                    }
                    }, e.prototype.updateSlice = function(t, e) {
                        if (!t.removed) {
                            var i = t.pie,
                                n = this.scene.settings.slice,
                                r = n.styleFunction;
                            t.expandable = this.scene.mainData.canExpand(t.id), d.Helpers.extendDeep(t, n.style), t === i.othersSlice ? d.Helpers.extendDeep(t, n.othersStyle) : t === i.previousSlice && d.Helpers.extendDeep(t, n.previousStyle), i.total > 0 ? t.percent = t.value / i.total * 100 : t.percent = 0;
                            var s = t.label;
                            s.text || (s.text = ""), t.data.name && this.chart.settings.labels.includeName && (s.text && (s.text += " "), s.text += t.data.name), this.chart.settings.labels.includePercent && (s.text && (s.text += " "), s.text += t.percent.toFixed(1) + "%"), t.cutoutDistance = t.selected ? t.selectDistance : 0, this.scene.hoverSlice === t ? (d.Helpers.extendDeep(t, n.hoverStyle), t.hovered = !0) : t.hovered = !1, t.data.style && d.SettingsHelper.updateRecursive(t, t.data.style, d.SettingsMapping.PieChartSettingsSliceStyle, {}), r && (t._resetLabelText = !0, r.call(this.chart.api, t, t.data)), i.background && (i.activeSliceId !== t.id ? (d.Helpers.extendDeep(t, n.backgroundStyle), e % 2 === 1 && (t.fillColor = t.fillColor2)) : d.Helpers.extendDeep(t, n.backgroundActiveStyle));
                            var a = "rgba(255,255,255,0)";
                            t.fillColor && (a = t.fillColor);
                            var o = "rgba(255,255,255,0)";
                            t.lineColor ? o = t.lineColor : t.lineBrightness && (o = d.Colors.derive(a, t.lineBrightness, 1));
                            var l = null;
                            t.fillGradient && (l = t.fillGradient);
                            var h = t.brightness * i.brightness;
                            1 !== h && (a = d.Colors.derive(a, h, 1), o = d.Colors.derive(o, h, 1), l && (l = l.map(function(t) {
                                return [t[0], d.Colors.derive(t[1], h, 1)]
                            })), a.indexOf("255,255,255") !== -1 && o.indexOf("255,255,255") !== -1 && (o = "rgb(200,200,200)")), i.removed && i.parentSlice ? (t.targetFillColor = i.parentSlice.targetFillColor, t.targetLineColor = i.parentSlice.targetLineColor, t.targetFillGradient = i.parentSlice.targetFillGradient) : (t.targetFillColor = d.Colors.normalize(a), t.targetLineColor = d.Colors.normalize(o), l && (t.targetFillGradient = l.map(function(t) {
                                return [t[0], d.Colors.normalize(t[1])]
                            })))
                        }
                    }, e
                }(d.ChartElement);
                e.Styles = M;
                var k = function(t) {
                    function e(e) {
                        return t.call(this, e) || this
                    }
                    return n(e, t), e.prototype.createDom = function(e) {
                        t.prototype.createDom.call(this, e), this.backgroundImage.className += " BMCH-PC-background-image", this.backgroundImage.style.display = "none"
                    }, e.prototype.doAnimations = function(e) {
                        if (t.prototype.doAnimations.call(this, e), this.scene.settings.area.style.image && this.scene.pies.length > 0) {
                            var i = this.scene.currentInnerRadius - this.scene.settings.pie.margin,
                                n = this.scene.pies[0].getCenterX(this.scene),
                                r = this.scene.pies[0].getCenterY(this.scene);
                            (0 !== n || 0 !== r) && i > 0 ? (this.backgroundImage.style.left = Math.round(n - i) + "px", this.backgroundImage.style.top = Math.round(r - i) + "px", this.backgroundImage.style.width = Math.round(2 * i) + "px", this.backgroundImage.style.height = Math.round(2 * i) + "px", this.backgroundImage.style.display = "") : this.backgroundImage.style.display = "none"
                        }
                    }, e
                }(d.DomLayer);
                e.DomLayer = k;
                var P = function() {
                    function t(t) {
                        this.pie = null, this.chart = t, this.scene = t.scene, this.events = t.events
                    }
                    return t.prototype.handlePointerDown = function(t) {
                        this.scene.settings.interaction.scrolling.enabled && (this.pointer || (this.pointer = t.identifier, this.pie = this.scene.peek()))
                    }, t.prototype.handlePointerDrag = function(t) {
                        this.pie && this.scene.settings.interaction.scrolling.enabled && (t.consumed = !0, t.identifier === this.pointer && (this.pie.scrollOffset += this.scene.view.getMovement(this.pie, t).dfraction, this.updatePieScrolling(this.pie), t.changes.pie = !0))
                    }, t.prototype.handlePointerUp = function(t) {
                        this.scene.settings.interaction.scrolling.enabled && t.identifier === this.pointer && (this.updatePieAfterScroll(this.pie), this.pie = null, this.pointer = null)
                    }, t.prototype.updatePieScrolling = function(t) {
                        if (t.scrollOffset > 0 && 0 === t.offset && (t.scrollOffset = 0), 0 !== t.scrollOffset) return this.scene.view.updatePie(this.pie, !1)
                    }, t.prototype.updatePieAfterScroll = function(t) {
                        return t.scrollOffset = 0, this.scene.view.updatePie(t, !0)
                    }, t
                }();
                e.Scrolling = P;
                var A = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 250, i.paintOrder = 30, i.updateOrder = 650, i.chart = e, i.scene = e.scene, i.events = e.events, i
                    }
                    return n(e, t), e.prototype.onNewDataObject = function() {}, e.prototype.setPie = function(t, e, i) {
                        Array.isArray(t) || (t = [t]), this.scene.pendingAction = null;
                        for (var n = 0; this.scene.length() > t.length;) this.scene.pop(), n++;
                        for (; this.scene.length() > 0 && this.scene.peek().id !== t[this.scene.length() - 1];) this.scene.pop(), n++;
                        for (; this.scene.length() < t.length;) {
                            var r = new v;
                            r.id = t[this.scene.length()], r.offset = this.scene.length() + 1 === t.length ? e : 0, this.scene.push(r), this.scene.view.updatePie(r), n++
                        }
                        var s = this.scene.peek();
                        s && s.offset !== e ? (this.scroll(s, e), n++) : n && s && this.scene.view.updatePie(s), n && (this.chart.notifyChartUpdate(i), this.events.notifySceneChanges({
                            pie: !0
                        }))
                    }, e.prototype.getPie = function() {
                        return this.scene.stack.map(function(t) {
                            return t.id
                        })
                    }, e.prototype.getPieOffset = function() {
                        return this.scene.peek().offset
                    }, e.prototype.goBack = function(t) {
                        var e = this.scene.length();
                        1 === e ? this.goPrevious(this.scene.peek(), t, 0) : e > 1 && (this.scene.pop(), this.scene.pendingAction = null, this.updateAndNotifyCurrent(t))
                    }, e.prototype.goCenter = function(t) {
                        var e = this.scene.peek();
                        e.offset > 0 && this.scene.settings.interaction.others.centerGoesToPrevious ? this.goPrevious(e, t) : this.scene.length() > 1 && (this.scene.pop(), this.scene.pendingAction = null, this.updateAndNotifyCurrent(t))
                    }, e.prototype.drillDown = function(t, e) {
                        this.scene.pendingAction = null;
                        var i = new v;
                        i.id = t, i.offset = 0, this.scene.push(i), this.updateAndNotifyCurrent(e)
                    }, e.prototype.goOthers = function(t, e) {
                        var i = this.scene.view.scrollForward(t, t.offset + t.count);
                        i || (this.scene.pendingAction = "forward", this.scene.pendingOffset = null), this.events.notifySceneChanges({
                            pie: !0
                        }), this.chart.notifyChartUpdate(e)
                    }, e.prototype.goPrevious = function(t, e, i) {
                        if (void 0 === i && (i = null), !(t.offset <= 0)) {
                            var n = this.scene.view.scrollBackward(t, i);
                            n || (this.scene.pendingAction = "back", this.scene.pendingOffset = null), this.chart.notifyChartUpdate(e), this.events.notifySceneChanges({
                                pie: !0
                            })
                        }
                    }, e.prototype.scroll = function(t, e) {
                        var i = !0;
                        t.offset > e ? (i = this.scene.view.scrollBackward(t, e), i || (this.scene.pendingAction = "back", this.scene.pendingOffset = e)) : t.offset < e && (i = this.scene.view.scrollForward(t, e), i || (this.scene.pendingAction = "forward", this.scene.pendingOffset = e))
                    }, e.prototype.updateAndNotifyCurrent = function(t) {
                        var e = this.scene.peek();
                        this.scene.view.updatePie(e), this.chart.notifyChartUpdate(t), this.events.notifySceneChanges({
                            pie: !0
                        })
                    }, e.prototype.expandSlice = function(t, e) {
                        var i = t.pie;
                        if (i !== this.scene.peek()) return this.chart.setSelection([]), this.goBack(e), !0;
                        if (t === i.othersSlice) return this.chart.setSelection([]), this.goOthers(i, e), !0;
                        if (t === i.previousSlice) return this.chart.setSelection([]), this.goPrevious(i, e), !0;
                        var n = t.id;
                        return !(!t.expandable || !this.scene.mainData.canExpand(n)) && (this.chart.setSelection([]), this.drillDown(n, e), !0)
                    }, e.prototype.onSceneChange = function(t) {
                        var e = !1,
                            i = this.scene.peek();
                        if (t.changes.data || t.changes.pieChartPieIds || t.changes.dataArrived)
                            for (var n = t.changes.pieChartPieIds || Object.create(null), r = 0; r < this.scene.stack.length; r++) {
                                var s = this.scene.stack[r];
                                if (n[s.id] || !s.data || s === i || t.changes.dataDeep) {
                                    if (s === i) {
                                        var a = void 0;
                                        a = "forward" === this.scene.pendingAction ? this.scene.view.scrollForward(s, this.scene.pendingOffset) : "back" === this.scene.pendingAction ? this.scene.view.scrollBackward(s, this.scene.pendingOffset) : this.scene.view.updatePie(s), a && (this.scene.pendingAction = null, this.scene.pendingOffset = null), e = a
                                    } else this.scene.view.updatePie(s);
                                    t.changes.pie = !0
                                }
                            }
                        e && this.chart.notifyChartUpdate("data", !0)
                    }, e
                }(d.Navigator);
                e.Navigator = A;
                var I = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.currentSlice = null, i.animationOrder = 500, i.paintOrder = 15, i.updateOrder = 1100, i.activePointer = null, i.chart = e, i.scene = e.scene, i.options = i.scene.settings, i.events = e.events, i.popup = new d.InfoPopup(e), i
                    }
                    return n(e, t), e.prototype.previewPointerMove = function(t) {
                        if (null === this.activePointer || this.activePointer === t.identifier) {
                            var e = t.y,
                                i = t.x;
                            if (this.options.info.enabled && (!this.chart.legend || !this.chart.legend.containsCoordinate(i, e))) {
                                var n = this.scene.hoverSlice,
                                    r = this.scene.hoverPie;
                                r && !n && (n = r.getActiveSlice()), this.setCurrentObject(i, e, n)
                            }
                        }
                    }, e.prototype.previewRightClick = function(t) {
                        t.touch && (this.activePointer = t.identifier, this.previewPointerMove(t))
                    }, e.prototype.previewPointerCancel = function(t) {
                        null !== this.activePointer && this.activePointer === t.identifier && (this.activePointer = null)
                    }, e.prototype.previewPointerUp = function(t) {
                        null !== this.activePointer && this.activePointer === t.identifier && (this.activePointer = null)
                    }, e.prototype.previewPointerDown = function(t) {
                        null === this.activePointer && (this.activePointer = t.identifier, this.hide())
                    }, e.prototype.previewPointerDrag = function(t) {
                        null !== this.activePointer && this.activePointer !== t.identifier || this.hide()
                    }, e.prototype.previewPointerOut = function(t) {
                        null !== this.activePointer && this.activePointer !== t.identifier || t.touch || this.hide()
                    }, e.prototype.hide = function() {
                        this.activePointer = null, this.setCurrentObject(0, 0, null)
                    }, e.prototype.setCurrentObject = function(t, e, i) {
                        if (i) {
                            if (i !== this.currentSlice) {
                                var n = this.buildContents(i);
                                this.popup.show(t, t, e, n)
                            } else this.popup.updateXY(t, t, e);
                            this.currentSlice = i
                        } else this.currentSlice = null, this.popup.hide()
                    }, e.prototype.buildContents = function(t) {
                        var e = this;
                        if (this.options.info.contentsFunction) {
                            var i = function(i) {
                                if (t === e.currentSlice) return e.popup.updateContents(i)
                            };
                            return this.options.info.contentsFunction.call(this.chart.api, t.data, t, i)
                        }
                        return t.label.text
                    }, e.prototype.remove = function() {
                        this.popup.remove()
                    }, e
                }(d.ChartElement);
                e.InfoPopup = I;
                var D = function() {
                    function t(t) {
                        this.prevTime = 0, this.radiusAnimator = null, this.innerRadiusAnimator = null, this.chart = t, this.scene = t.scene, this.events = t.events
                    }
                    return t.prototype.doAnimations = function(t) {
                        var e = 0;
                        this.prevTime && (e = Math.min(30, t.timeStamp - this.prevTime));
                        var i = this.scene.settings.interaction.animation.scrollDuration,
                            n = this.scene.settings.interaction.animation.hoverDuration,
                            r = t.timeStamp,
                            s = [],
                            a = [],
                            o = !1;
                        if (this.scene.settings.pie.adaptiveRadius) {
                            this.innerRadiusAnimator || (this.innerRadiusAnimator = new d.Animator(0, this.scene.innerRadius, i, "<>", r), this.radiusAnimator = new d.Animator(0, this.scene.radius, i, "<>", r));
                            var l = this.radiusAnimator.updateAndGet(this.scene.radius, r);
                            this.scene.currentRadius = l.value;
                            var h = l.changes;
                            l = this.innerRadiusAnimator.updateAndGet(this.scene.innerRadius, r), this.scene.currentInnerRadius = l.value;
                            var u = l.changes;
                            o = o || h || u, t.animating = t.animating || o
                        } else this.scene.currentRadius === this.scene.radius && this.scene.currentInnerRadius === this.scene.innerRadius || (o = !0, this.scene.currentRadius = this.scene.radius, this.scene.currentInnerRadius = this.scene.innerRadius);
                        for (var c = function(e) {
                                var l = p.scene.pies[e],
                                    h = t.changes.bounds || M.needStyleUpdate(t.changes),
                                    u = !1;
                                if (l.removed === !0 && null === l.removeTime && (l.removeTime = r + i), l.removed && (t.animating = !0, u = l.removeTime < r), u) s.push(l);
                                else {
                                    if (l._animatorA0 || (h = !0, l._animatorA0 = new d.Animator(l.currentStartAngle, l.startAngle, i, "<>", r), l._animatorA1 = new d.Animator(l.currentEndAngle, l.endAngle, i, "<>", r), l._animatorR0 = new d.Animator(l.currentInnerRadius, l.innerRadius, i, "<>", r), l._animatorR1 = new d.Animator(l.currentRadius, l.radius, i, "<>", r), p.scene.settings.advanced.initialAnimation || (l._animatorA0.jump(l.startAngle), l._animatorA1.jump(l.endAngle), l._animatorR0.jump(l.innerRadius), l._animatorR1.jump(l.radius))), l.rotationSpeed) {
                                        if (null === l.currentStartAngle) l.currentStartAngle = l.startAngle, l.currentEndAngle = l.endAngle;
                                        else {
                                            var c = t.dtime * l.rotationSpeed / 1e3;
                                            l.currentStartAngle += c, l.currentEndAngle += c
                                        }
                                        l.currentlyRotating = !0, h = !0
                                    } else if (l.currentlyRotating) {
                                        var f = 2 * Math.PI;
                                        l._animatorA0.reset(l.currentStartAngle % f - f, l.startAngle, t.timeStamp), l._animatorA1.reset(l.currentEndAngle % f, l.endAngle, t.timeStamp), l.currentlyRotating = !1, h = !0
                                    } else {
                                        var g = l._animatorA0.updateAndGet(l.startAngle, r);
                                        l.currentStartAngle = g.value, h = h || g.changes;
                                        var m = l._animatorA1.updateAndGet(l.endAngle, r);
                                        l.currentEndAngle = m.value, h = h || m.changes
                                    }
                                    var v = l._animatorR1.updateAndGet(l.radius, r);
                                    l.currentRadius = v.value, h = h || v.changes, v = l._animatorR0.updateAndGet(l.innerRadius, r), l.currentInnerRadius = v.value, h = h || v.changes, l.currentInnerRadius = Math.min(l.currentInnerRadius, l.currentRadius);
                                    for (var y = [], S = 0, b = 0; b < l.allSlices.length; b++) {
                                        var x = l.allSlices[b];
                                        x._animatorF || (h = !0, x._animatorF = new d.Animator(x.currentFraction, x.fraction, i, "<>", r));
                                        var C = x._animatorF.updateAndGetFixed(x.fraction, r);
                                        x.currentFraction = C.value, h = h || C.changes, x.removed && 0 === x.currentFraction && y.push(x), S += x.currentFraction
                                    }
                                    if (Math.abs(S - 1) > .001) {
                                        S = 1 / S;
                                        for (var b = 0; b < l.allSlices.length; b++) {
                                            var x = l.allSlices[b];
                                            x.currentFraction *= S
                                        }
                                    }
                                    if (y.length > 0) {
                                        h = !0;
                                        for (var b = 0; b < y.length; b++) {
                                            var x = y[b];
                                            d.Helpers.removeFromArray(l.slices, x), d.Helpers.removeFromArray(l.allSlices, x), x === l.othersSlice && (l.othersSlice = null), x === l.previousSlice && (l.previousSlice = null)
                                        }
                                    }
                                    for (var w = function(t) {
                                            var e = l.allSlices[t];
                                            if (e._animatorLineColor || (h = !0, e._animatorLineColor = new d.ColorAnimator(e.currentLineColor, e.targetLineColor, n, "<>", r), e._animatorFillColor = new d.ColorAnimator(e.currentFillColor, e.targetFillColor, n, "<>", r), e._animatorCutout = new d.Animator(e.currentCutoutDistance, e.cutoutDistance, n, "<>", r)), e.targetFillGradient && e.fillGradient) {
                                                e._animatorFillGradient && e._animatorFillGradient.length === e.targetFillGradient.length || (e._animatorFillGradient = e.targetFillGradient.map(function(t, i) {
                                                    return new d.ColorAnimator(e.fillGradient[i][1], t[1], n, "<>", r)
                                                }));
                                                var i = e._animatorFillGradient.map(function(t, i) {
                                                    return t.updateAndGet(e.targetFillGradient[i][1], r)
                                                });
                                                i.forEach(function(t, i) {
                                                    e.fillGradient && (e.fillGradient[i][1] = t.value, h = h || t.changes)
                                                })
                                            }
                                            var s = e._animatorLineColor,
                                                a = e._animatorFillColor,
                                                o = e._animatorCutout,
                                                u = s.updateAndGet(e.targetLineColor, r);
                                            if (e.currentLineColor = u.value, h = h || u.changes, u = a.updateAndGet(e.targetFillColor, r), e.currentFillColor = u.value, h = h || u.changes, e.userPlaced) o.jump(e.currentCutoutDistance);
                                            else {
                                                var c = o.updateAndGet(e.cutoutDistance, r);
                                                e.currentCutoutDistance = c.value, h = h || c.changes
                                            }
                                        }, b = 0; b < l.allSlices.length; b++) w(b);
                                    (h || o) && a.push(l), t.animating = t.animating || h
                                }
                            }, p = this, f = 0; f < this.scene.pies.length; f++) c(f);
                        for (var f = 0; f < s.length; f++) {
                            var g = s[f];
                            this.scene.deletePie(g)
                        }
                        return this.prevTime = r, a
                    }, t
                }();
                e.Animations = D;
                var N = function() {
                    function t(t, e) {
                        this.view = e, this.chart = t, this.scene = t.scene, this.events = t.events
                    }
                    return t.prototype.placeStack = function(t, e) {
                        var i = this.scene,
                            n = i.settings,
                            r = n.pie,
                            s = i.stack,
                            a = r.depth,
                            o = !1,
                            l = i.height - 2 * a;
                        l = Math.max(2, l);
                        var h = r.x,
                            u = r.y;
                        null === h ? h = i.x0 + i.width / 2 : h >= 0 && h <= 1 && (h = i.x0 + i.width * h), null === u ? u = i.y0 + l / 2 : u >= 0 && u <= 1 && (u = i.y0 + i.height * u);
                        var c = n.pie.startAngle,
                            d = n.pie.endAngle,
                            p = n.pie.rotationSpeed;
                        t.x === h && t.y === u && c === t.startAngle && d === t.endAngle && p === t.rotationSpeed || (o = !0, t.x = h, t.y = u, t.startAngle = c, t.endAngle = d, t.rotationSpeed = p);
                        var f = Math.min(l / 2, i.width / 2);
                        f -= n.pie.outerMargin;
                        var g = n.pie.radius;
                        if (g) g <= 1 && (g = f * g);
                        else if (n.labels.enabled && n.pie.adaptiveRadius) {
                            var m = this.computeDesiredRadiusFromLabels(t, e);
                            m = Math.min(f, m), m -= n.labels.connectorLength, m = Math.max(m, f / 3), g = m
                        } else g = f;
                        var v = n.pie.innerRadius;
                        if (v < 1 && (v = g * v), s.length > 1) {
                            var y = n.pie.innerRadiusWhenDrilldown;
                            y < 1 && (y = g * y), v = Math.max(v, y)
                        }
                        var S = 0,
                            b = 0;
                        g !== v && (S = 1 / (g - v), b = -v * S), i.radius === g && i.innerRadius === v || (o = !0, i.radius = g, i.innerRadius = v), t.radius = 1, t.innerRadius = v * S + b;
                        var x = s.length - 1;
                        if (x > 0) {
                            v -= n.pie.margin;
                            for (var C = x, w = Math.max(0, Math.min(g - v, (v - n.pie.centerMargin) / C)), L = x - 1; L >= 0; L--) g = v, v -= w, t = s[L], u += a, t.x = h, t.y = u, t.radius = g * S + b, t.innerRadius = (v + n.pie.margin) * S + b, t.brightness = .8 - .8 * (C - L - 1) / C, t.startAngle = n.pie.startAngle, t.endAngle = n.pie.endAngle
                        }
                        for (x = 0; x < i.pies.length; x++)
                            if (t = i.pies[x], t.removed && t.parentSlice) {
                                var T = i.getSliceTargetAngles(t.parentSlice);
                                t.startAngle = T.a0, t.endAngle = T.a1
                            } return o
                    }, t.prototype.computeDesiredRadiusFromLabels = function(t, e) {
                        for (var i = this.scene.settings.slice.style.label, n = new O(e, 1, 0, 100, 0, 100, i, this.scene.settings.labels), r = 2 * i.padding, s = n.lineHeight + r, a = 0, o = 0, l = 0, h = 0, u = 0, c = t.startAngle, p = t.endAngle, f = p - c, g = t.startAngle, m = g, v = 0; v < t.slices.length; v++) {
                            var y = t.slices[v],
                                S = m;
                            u = Math.min(1, u + y.fraction), m = g + u * f;
                            var b = Math.max(S, c),
                                x = Math.min(m, p);
                            if (!(b >= p || x <= c) && y.label.text) {
                                for (var C = "", w = 0, L = y.label.text.split(" "); w < L.length; w++) {
                                    var T = L[w];
                                    T.length > C.length && (C = T)
                                }
                                var M = d.Graphics.getTextWidth(e, y.label.textStyle, C) + r,
                                    k = d.Graphics.getTextWidth(e, y.label.textStyle, y.label.text) + r,
                                    P = s * k * 1.2,
                                    A = ((b + x) / 2 + Math.PI / 2) % (2 * Math.PI) <= Math.PI;
                                A ? (h += P, o = Math.max(o, M)) : (l += P, a = Math.max(a, M))
                            }
                        }
                        d.Graphics.clearShadow(e);
                        var I = Math.min(this.scene.width, this.scene.height),
                            D = this.scene.width * I,
                            N = Math.max(1, D - 2 * Math.max(l, h) * 1.2),
                            F = Math.sqrt(N / Math.PI),
                            E = Math.max(a, o),
                            H = this.scene.width / 2 - 1.1 * E;
                        return Math.min(F, H)
                    }, t.prototype.placeLabels = function(t, e) {
                        if (this.chart.assetsLoaded) {
                            var i = this.scene.settings.icons,
                                n = this.scene.settings.labels,
                                r = this.scene.settings.slice,
                                s = n.enabled,
                                a = i.sizeExtent[0],
                                o = i.sizeExtent[1],
                                l = i.placement,
                                h = i.autohideWhenTooSmall;
                            this.scene.settings.advanced.iconMinSize && (a = this.scene.settings.advanced.iconMinSize);
                            for (var u = r.margin, c = t.getCenterX(this.scene), p = t.getCenterY(this.scene), f = t.getInnerRadius(this.scene), m = t.getOuterRadius(this.scene), v = 0, y = t.currentStartAngle, S = t.currentEndAngle, b = S - y, x = t.currentStartAngle, C = this.scene.x0 - c, w = C + this.scene.width, L = this.scene.y0 - p, T = L + this.scene.height, M = new O(e, m, C, w, L, T, r.style.insideLabel, this.scene.settings.labels), k = new O(e, m, C, w, L, T, r.style.label, this.scene.settings.labels), P = [], A = [], I = x, D = 0; D < t.allSlices.length; D++) {
                                var N = t.allSlices[D],
                                    F = I;
                                v = Math.min(1, v + N.currentFraction), I = x + v * b;
                                var E = Math.max(F, y),
                                    H = Math.min(I, S),
                                    R = f + N.currentCutoutDistance,
                                    z = m + N.currentCutoutDistance,
                                    B = (E + H) / 2;
                                if (N.removed || t.background) N.currentLabel = null, N.currentInsideLabel = null;
                                else {
                                    if (N.insideLabel.text && s) {
                                        var U = N.insideLabel.text,
                                            W = void 0;
                                        W = N.currentInsideLabel ? N.currentInsideLabel : N.currentInsideLabel = new d.Label(N.insideLabel, !0), N.currentInsideLabel.text !== U && (W.text = U);
                                        var G = M.fitLabelInSlice(e, W, R, z, E, H);
                                        W.shouldBeVisible = W.visible = "always" === n.insideLabel || G >= n.insideLabelVisibilityFraction
                                    } else N.currentInsideLabel = null;
                                    var V = N.label.text && s ? N.label.text : "";
                                    if ("append" === n.insideLabel && N.insideLabel.text && s && !N.currentInsideLabel.userPlaced && !N.currentInsideLabel.shouldBeVisible)
                                        if (V) {
                                            c = Math.cos(B);
                                            var Y = c > 0,
                                                j = n.labelAppendFunction;
                                            V = j ? j(V, N.insideLabel.text, Y) : c > 0 ? N.insideLabel.text + ", " + V : V + ", " + N.insideLabel.text
                                        } else V = N.insideLabel.text;
                                    if (V) {
                                        var W = null;
                                        W = N.currentLabel ? N.currentLabel : N.currentLabel = new d.Label(N.label, !0), N.currentLabel.text !== V && (W.text = V), W.userPlaced || k.placeOutsideLabelInitial(W, B), W.x > 0 ? (W.style.align = "left", A.push(W)) : (W.style.align = "right", P.push(W))
                                    } else N.currentLabel = null
                                }
                                var _ = null;
                                if (N.icon && (!t.background || N.id === t.activeSliceId)) {
                                    var Z = M.fitBoxInSlice(1, 1, R, z, E, H);
                                    c = Z.x, p = Z.y;
                                    var q = Z.prop;
                                    q -= u, (!h || 2 * q >= a) && (q = Math.max(Math.min(q, o / 2), a / 2), _ = new g, _.hwidth = q, _.hheight = q, _.inside = !0, N.iconOffset ? (_.x = 0, _.y = 0, this.applyOffset(_, N.iconOffset, R, z, E, H)) : "center" === l ? (_.x = 0, _.y = 0, this.applyOffset(_, [0, 0, 0, 0], R, z, E, H)) : (_.x = c, _.y = p))
                                }
                                N.currentIcon = _
                            }
                            k.computeOutsideLabelLocations(e, P, A)
                        }
                    }, t.prototype.applyOffset = function(t, e, i, n, r, s) {
                        var a = 0,
                            o = 0;
                        e.length >= 2 && (a = e[0], o = e[1]);
                        var l = 0,
                            h = 0;
                        e.length >= 4 && (l = e[2], h = e[3]);
                        var u = i + (n - i) * (l + 1) / 2,
                            c = r + (s - r) * (h + 1) / 2;
                        a += Math.cos(c) * u, o += Math.sin(c) * u, t.x += a, t.y += o
                    }, t
                }();
                e.PieLayout = N;
                var O = function(t) {
                    function e(e, i, n, r, s, a, o, l) {
                        var h = t.call(this) || this;
                        return h.config = l, h.bottom = a, h.top = s, h.right = r, h.left = n, h.margin = o.margin || 0, h.rr = i + l.connectorLength, h.lineHeight = d.Graphics.getTextHeight(e, o.textStyle.font), h.interLabelSpacing = Math.max(l.interLabelSpacing * h.lineHeight, h.margin), h
                    }
                    return n(e, t), e.prototype.placeOutsideLabelInitial = function(t, e) {
                        var i = this.rr * Math.cos(e),
                            n = this.rr * Math.sin(e),
                            r = 1;
                        n < this.top && (r = Math.min(r, this.top / n)), n > this.bottom && (r = Math.min(r, this.bottom / n)), i < this.left && (r = Math.min(r, this.left / i)),
                            i > this.right && (r = Math.min(r, this.right / i)), t.x = i * r, t.y = n * r
                    }, e.prototype.computeOutsideLabelLocations = function(t, e, i) {
                        var n = this.bottom - this.margin,
                            r = this.top + this.margin,
                            s = this.interLabelSpacing;
                        e.sort(function(t, e) {
                            return e.y - t.y
                        }), i.sort(function(t, e) {
                            return t.y - e.y
                        });
                        for (var a = 0; a < e.length; a++) {
                            var o = e[a];
                            o.originX = o.x
                        }
                        for (var a = 0; a < i.length; a++) {
                            var o = i[a];
                            o.originX = o.x
                        }
                        for (var l = "wrap" === this.config.placement ? [!1] : [!0, !1], h = 0; h < l.length; h++) {
                            for (var u = l[h], c = 100, d = !1, p = 0; p < 2; p++) {
                                for (var f = 0 === p ? e : i, a = 0; a < f.length; a++) {
                                    var o = f[a];
                                    o.prop = this.fitLabelOutside(t, o, u)
                                }
                                for (var g = n - r, m = [], v = 0, a = 0; a < f.length; a++) {
                                    var o = f[a];
                                    if (o.visible) {
                                        var y = 2 * o.hheight + s;
                                        v + y < g ? (m.push(o), v += y) : (o.visible = o.userPlaced, c = .5)
                                    }
                                }
                                var S = n,
                                    b = r;
                                f === e ? b += v : S -= v;
                                for (var a = 0; a < m.length; a++) {
                                    var o = m[a];
                                    if (f === e ? b -= 2 * o.hheight + s : S += 2 * o.hheight + s, !o.userPlaced && (o.y + o.hheight > S || o.y - o.hheight < b)) {
                                        o.y = Math.min(Math.max(o.y, b + o.hheight), S - o.hheight);
                                        var x = this.fitLabelOutside(t, o, u);
                                        c = Math.min(x, c), d = d || o.rows && o.rows.subLines[o.rows.subLines.length - 1].row > 0
                                    } else c = Math.min(c, o.prop);
                                    f === e ? S = o.y - o.hheight - s : b = o.y + o.hheight + s
                                }
                            }
                            if (c >= 1 || !d) break
                        }
                    }, e.prototype.fitLabelOutside = function(t, e, i) {
                        var n = this;
                        void 0 === i && (i = !1), null == i && (i = !1);
                        var r = function(t) {
                            return e.userPlaced ? n.getOutsideMaxWidth(e.x, e.y, t, !1) : n.placeOutsideMaxWidth(e.originX, e.y, t, i)
                        };
                        return this.fitLabelInRect(t, e, r)
                    }, e.prototype.fitLabelInSlice = function(t, e, i, n, r, s) {
                        var a, o = this,
                            l = Math.cos(r),
                            h = Math.cos(s),
                            u = Math.min(l, h),
                            c = Math.max(l, h);
                        a = u < 0 && c < 0 || -u > 2 * c ? "right" : u > 0 && c > 0 || 2 * -u < c ? "left" : "center";
                        var d, p;
                        if (e.userPlaced) d = e.x, p = e.y;
                        else {
                            var f = void 0;
                            f = 2 * i >= n ? .5 : .5 + (n - 2 * i) / n / 4;
                            var g = i + (n - i) * f,
                                m = (r + s) / 2,
                                v = Math.cos(m),
                                y = Math.sin(m);
                            d = g * v, p = g * y
                        }
                        var S = p - this.rayIntersectsSlice(d, p, 0, -1, i, n, r, s),
                            b = p + this.rayIntersectsSlice(d, p, 0, 1, i, n, r, s),
                            x = function(t, e) {
                                if (!(n > 0) || e <= S || e >= b) return [1e-5, 1e-5];
                                var a = o.rayIntersectsSlice(t, e, -1, 0, i, n, r, s),
                                    l = o.rayIntersectsSlice(t, e, 1, 0, i, n, r, s);
                                return [a, l]
                            };
                        return this.fitLabelInLines(t, e, d, p, "center", a, x)
                    }, e.prototype.placeOutsideMaxWidth = function(t, e, i, n) {
                        var r = this.rr,
                            s = e - i / 2,
                            a = s + i;
                        if (s < this.top) {
                            var o = this.top - s;
                            s += o, a += o
                        }
                        if (a > this.bottom) {
                            var o = this.bottom - a;
                            s += o, a += o
                        }
                        var l, h = this.left,
                            u = this.right;
                        return l = n ? r : s > r || a < -r ? 0 : s > 0 ? Math.sqrt(r * r - s * s) : a < 0 ? Math.sqrt(r * r - a * a) : r, t > 0 ? h = Math.max(l, t) : u = Math.min(t, -l), {
                            x: (h + u) / 2,
                            y: (s + a) / 2,
                            dx: 1,
                            dy: 0,
                            width: u - h
                        }
                    }, e.prototype.getOutsideMaxWidth = function(t, e, i, n) {
                        var r, s = e - i / 2,
                            a = s + i,
                            o = this.left,
                            l = this.right,
                            h = this.rr;
                        r = n ? h : s > h || a < -h ? 0 : s > 0 ? Math.sqrt(h * h - s * s) : a < 0 ? Math.sqrt(h * h - a * a) : h, t > 0 ? o = r : l = -r;
                        var u = Math.min(Math.abs(t - o), Math.abs(t - l));
                        return {
                            x: t,
                            y: e,
                            dx: 1,
                            dy: 0,
                            width: 2 * u
                        }
                    }, e.prototype.fitBoxInSlice = function(t, e, i, n, r, s) {
                        var a = .5 + (n - i) / n / 4,
                            o = i + (n - i) * a,
                            l = (r + s) / 2,
                            h = Math.cos(l),
                            u = Math.sin(l),
                            c = o * h,
                            d = o * u,
                            p = t,
                            f = e,
                            g = this.rayIntersectsSlice(c, d, p, f, i, n, r, s),
                            m = this.rayIntersectsSlice(c, d, -p, f, i, n, r, s),
                            v = this.rayIntersectsSlice(c, d, -p, -f, i, n, r, s),
                            y = this.rayIntersectsSlice(c, d, p, -f, i, n, r, s),
                            S = Math.min(g, m, v, y);
                        return {
                            x: c,
                            y: d,
                            prop: S
                        }
                    }, e.prototype.rayIntersectsSlice = function(t, e, i, n, r, s, a, o) {
                        var l = d.Geometry.rayIntersectsCircle(t, e, i, n, r);
                        l = Math.min(l, d.Geometry.rayIntersectsCircle(t, e, i, n, s));
                        var h = Math.cos(a),
                            u = Math.sin(a);
                        return l = Math.min(l, d.Geometry.rayIntersectsSegment(t, e, i, n, r * h, r * u, s * h, s * u)), h = Math.cos(o), u = Math.sin(o), l = Math.min(l, d.Geometry.rayIntersectsSegment(t, e, i, n, r * h, r * u, s * h, s * u))
                    }, e
                }(d.LabelLayoutBase);
                e.LabelLayout = O,
                    function(t) {
                        var e = function() {
                            function t(t) {
                                this.renderer = t, this.settings = this.renderer.settings
                            }
                            return t.prototype.paintPie = function(t, e, i, n, r, s, a, o) {
                                o.fillColor && (t.beginPath(), t.arc(e, i, r, s, a, !1), t.arc(e, i, n, a, s, !0), t.closePath(), d.Graphics.fill(t, o))
                            }, t.prototype.paintExpandableHilights = function(t, e, i, n) {
                                var r = this.settings.slice.expandableMarkStyle.distance,
                                    s = this.settings.slice.expandableMarkStyle;
                                if (!(s.lineWidth <= 0))
                                    for (var a = 0; a < n.length; a++) {
                                        var o = n[a];
                                        if (o.expandable) {
                                            var l = o._renderParams,
                                                h = e + o.x,
                                                u = i + o.y,
                                                c = l[0],
                                                p = l[1],
                                                f = Math.max((c + p) / 2, p - r),
                                                g = l[2],
                                                m = l[3];
                                            t.beginPath(), t.arc(h, u, f, g, m), d.Graphics.paint(t, s)
                                        }
                                    }
                            }, t.prototype.paintPieMarkers = function(t, e, i, n, r, s, a, o, l) {
                                for (var h = this, u = this.settings.slice.style.pieMarkers || [], c = l.slices.filter(function(t) {
                                        return !!t._renderParams
                                    }).map(function(t) {
                                        return h.extractSliceMarkers(t, a, o, h.settings.slice.style.sliceMarkers || [])
                                    }), p = l.slices.map(function(t) {
                                        return t.data.style
                                    }).filter(function(t) {
                                        return !!t && !!t.pieMarkers
                                    }).map(function(t) {
                                        return t.pieMarkers
                                    }), f = l.slices.filter(function(t) {
                                        return !!t._renderParams && !!t.data.style && !!t.data.style.sliceMarkers
                                    }).map(function(t) {
                                        return h.extractSliceMarkers(t, a, o)
                                    }), g = u.concat.apply(u, c.concat(f, p)), m = 0; m < g.length; m++) {
                                    var v = g[m],
                                        y = v.position,
                                        S = y * (o - a) + a,
                                        b = null !== v.endPosition && void 0 !== v.endPosition ? v.endPosition * (o - a) + a : S,
                                        x = Math.sin(S),
                                        C = Math.cos(S),
                                        w = v.labelInside || !1;
                                    if ("line" === v.mode || "tick" === v.mode) {
                                        var L = "line" === v.mode ? s : w ? r : s,
                                            T = "line" === v.mode ? r : w ? r + Math.min(s - r, v.tickLength) : s - Math.min(s - r, v.tickLength),
                                            M = i + C * T,
                                            k = i + C * L,
                                            P = n + x * T,
                                            A = n + x * L;
                                        t.beginPath(), t.moveTo(M, P), t.lineTo(k, A), d.Graphics.stroke(t, v)
                                    } else if ("arrow" === v.mode) {
                                        var I = v.arrowSize,
                                            M = i + C * r,
                                            P = n + x * r,
                                            k = M - C * I - x * I,
                                            A = P - x * I + C * I,
                                            D = M - C * I + x * I,
                                            N = P - x * I - C * I,
                                            O = v.fillColor;
                                        v.fillColor = v.lineColor;
                                        var F = d.Graphics.beginStrokeAndFill(t, v);
                                        F.moveTo(M, P), F.lineTo(k, A), F.lineTo(D, N), F.lineTo(M, P), d.Graphics.endStrokeAndFill(t, F, v), v.fillColor = O
                                    } else null !== v.mode && void 0 !== v.mode && "none" !== v.mode && d.Helpers.warn("Unrecognized marker mode: " + v.mode);
                                    if (null !== v.endPosition && void 0 !== v.endPosition) {
                                        var E = Math.min(S, b),
                                            H = Math.max(S, b),
                                            F = d.Graphics.beginStrokeAndFill(t, v);
                                        F.beginPath(), F.arc(i, n, s, E, H, !1), F.arc(i, n, r, H, E, !0), F.closePath(), d.Graphics.endStrokeAndFill(t, F, v)
                                    }
                                    if (v.label) {
                                        var R = v.labelStyle ? v.labelStyle : {
                                            textStyle: {}
                                        };
                                        R.textStyle.font || (R.textStyle.font = "12px Arial");
                                        var z = v.labelPosition || "midPosition",
                                            B = new d.Label(R);
                                        B.text = v.label, e.measure(t, B);
                                        var U = "position" === z ? S : "endPosition" === z ? b : (S + b) / 2,
                                            W = Math.cos(U),
                                            G = Math.sin(U),
                                            V = W * B.hwidth,
                                            Y = G * B.hheight,
                                            j = Math.sqrt(V * V + Y * Y),
                                            _ = v.labelOffset || 0,
                                            Z = w ? r - j - _ : s + j + _,
                                            q = i + W * Z,
                                            X = n + G * Z;
                                        e.paint(t, q, X, 1, B)
                                    }
                                }
                            }, t.prototype.extractSliceMarkers = function(t, e, i, n) {
                                var r = t._renderParams;
                                n || (n = t.data.style.sliceMarkers);
                                var s = (r[2] - e) / (i - e),
                                    a = (r[3] - e) / (i - e);
                                return n.map(function(t) {
                                    var e = d.Helpers.realClone(t);
                                    return null !== e.position && void 0 !== e.position && (e.position = e.position * (a - s) + s), null !== e.endPosition && void 0 !== e.endPosition && (e.endPosition = e.endPosition * (a - s) + s), e
                                })
                            }, t.prototype.strokeSlice = function(t, e, i, n) {
                                var r = n._renderParams;
                                e += n.x, i += n.y;
                                var s = r[0],
                                    a = r[1],
                                    o = r[2],
                                    l = r[3],
                                    h = r[4],
                                    u = r[5],
                                    c = a * Math.abs(l - o),
                                    d = a - s,
                                    p = Math.min(.1 * Math.min(c, d), 3);
                                s + a === -2 && (s = 0, a = 0), t.beginPath(), "zigzag" === n.lineDecoration ? this.strokeZigZag(t, e, i, a, p, o, l) : t.arc(e, i, a, o, l, !1), h === u ? t.lineTo(e + Math.cos(u) * s, i + Math.sin(h) * s) : t.arc(e, i, s, u, h, !0), t.closePath()
                            }, t.prototype.strokeZigZag = function(t, e, i, n, r, s, a) {
                                var o = 5 / n,
                                    l = s;
                                for (t.moveTo(e + n * Math.cos(s), i + n * Math.sin(s)); l + o < a;) l += o, t.lineTo(e + (n + r) * Math.cos(l), i + (n + r) * Math.sin(l)), r = -r;
                                t.lineTo(e + n * Math.cos(a), i + n * Math.sin(a))
                            }, t.prototype.strokeAndPaint = function(t, e, i, n) {
                                var r = d.Graphics.beginStrokeAndFill(t, n);
                                if (this.strokeSlice(r, e, i, n), n.fillGradient) {
                                    for (var s = t.createRadialGradient(e, i, n._renderParams[0], e, i, n._renderParams[1]), a = 0; a < n.fillGradient.length; a++) {
                                        var o = n.fillGradient[a];
                                        s.addColorStop(o[0], o[1])
                                    }
                                    n.fillColor = s
                                }
                                d.Graphics.endStrokeAndFill(t, r, n)
                            }, t
                        }();
                        t.CommonBase = e;
                        var i = function(t) {
                            function e() {
                                return t.apply(this, arguments) || this
                            }
                            return n(e, t), e.prototype.paintSlices = function(t, e, i, n) {
                                for (var r = 0; r < n.length; r++) {
                                    var s = n[r];
                                    this.strokeAndPaint(t, e, i, s)
                                }
                            }, e
                        }(e);
                        t.Flat = i;
                        var r = function(t) {
                            function e() {
                                return t.apply(this, arguments) || this
                            }
                            return n(e, t), e.prototype.paintPie = function(e, i, n, r, s, a, o, l) {
                                t.prototype.paintPie.call(this, e, i, n, r, s, a, o, l);
                                var h = this.settings.pie.depth;
                                if (h > 0 && l.allSlices.length > 0) {
                                    e.fillStyle = "rgba(0,0,0,0.05)";
                                    for (var u = 0; u < [5, 10, 18].length; u++) {
                                        var c = [5, 10, 18][u];
                                        e.beginPath(), e.arc(i, n + c + h, s, a, o, !1), e.arc(i, n + c + h, r, o, a, !0), e.closePath(), e.fill()
                                    }
                                }
                            }, e.prototype.paintSlices = function(t, e, i, n) {
                                var r = this.settings.pie.depth,
                                    s = 2 * this.settings.advanced.renderQuality,
                                    a = 1 / s,
                                    o = r * s;
                                t.shadowOffsetX = 0, t.shadowOffsetY = 0, t.shadowBlur = 1.5 * r, t.shadowColor = "black", t.fillStyle = "black";
                                for (var l = 0; l < n.length; l++) {
                                    var h = n[l];
                                    this.strokeSlice(t, e, i + r, h), t.fill()
                                }
                                t.shadowColor = null, t.shadowBlur = 0, t.lineWidth = 1;
                                for (var u = 0; u <= o; u++)
                                    for (var l = 0; l < n.length; l++) {
                                        var h = n[l];
                                        h.fillColor instanceof CanvasGradient ? d.Helpers.error("slice.fillColor cannot be gradient if `can` renderer is used") : (this.strokeSlice(t, e, i + r - u * a, h), u >= o - 1 ? t.strokeStyle = d.Colors.derive(h.fillColor, 1.35, 1) : t.strokeStyle = d.Colors.derive(h.fillColor, .5 + u / o * .2, 1), t.stroke())
                                    }
                                var c = Math.PI;
                                t.shadowBlur = r, t.shadowColor = "rgba(0,0,0,0.1)", t.fillStyle = "black";
                                for (var l = 0; l < n.length; l++) {
                                    var h = n[l],
                                        p = h._renderParams,
                                        f = p[4],
                                        g = p[5];
                                    if (f !== g) {
                                        for (; f > c;) f -= 2 * c, g -= 2 * c;
                                        f < 0 ? g > 0 && (g = Math.min(g, c), this.strokeInnerShadowSlice(t, e, i, h, 0, g) && t.fill()) : g < c ? this.strokeInnerShadowSlice(t, e, i, h, f, g) && t.fill() : (f < c && this.strokeInnerShadowSlice(t, e, i, h, f, c) && t.fill(), g > 2 * c && this.strokeInnerShadowSlice(t, e, i, h, 2 * c, g) && t.fill())
                                    }
                                }
                                for (var l = 0; l < n.length; l++) {
                                    var h = n[l];
                                    this.strokeAndPaint(t, e, i, h)
                                }
                            }, e.prototype.strokeInnerShadowSlice = function(t, e, i, n, r, s) {
                                var a = n._renderParams,
                                    o = a[0] + 1,
                                    l = Math.min(a[1] - 1, o + 10);
                                return !(o >= a[1] || l <= a[0]) && (r += 1 / o, s -= 1 / o, r >= s ? void 0 : (t.beginPath(), t.arc(e, i, l, r, s, !1), t.arc(e, i, o, s, r, !0), t.closePath(), !0))
                            }, e
                        }(e);
                        t.Can = r;
                        var s = function(t) {
                            function e() {
                                return t.apply(this, arguments) || this
                            }
                            return n(e, t), e.prototype.paintSlices = function(t, e, i, n) {
                                this.g = t;
                                for (var r = 0; r < n.length; r++) {
                                    var s = n[r];
                                    this.strokeAndPaint(t, e, i, s), this.elegantGradient(e, i, s)
                                }
                            }, e.prototype.getRadialGradient = function(t, e, i, n, r, s, a) {
                                var o = Math.abs(Math.sin(a)),
                                    l = this.g.createRadialGradient(t, e, i, n, r, s);
                                return this.addColorStops(l, o, a), l
                            }, e.prototype.getLinearGradient = function(t, e, i, n, r, s, a, o) {
                                var l = a - n,
                                    h = Math.sin(o),
                                    u = Math.cos(o),
                                    c = e + u * n,
                                    d = i + h * n,
                                    p = c + u * l,
                                    f = d + h * l,
                                    g = Math.abs(h),
                                    m = this.g.createLinearGradient(c, d, p, f);
                                return this.addColorStops(m, g, o), m
                            }, e.prototype.addColorStops = function(t, e, i) {
                                var n = "0,0,0",
                                    r = "255,255,255",
                                    s = r,
                                    a = n;
                                (i <= 0 || i > Math.PI) && (s = n, a = r);
                                var o = .4 * e,
                                    l = .2 * e,
                                    h = .1 * e,
                                    u = .3 * e,
                                    c = .5 * e;
                                t.addColorStop(0, "rgba(" + s + "," + o.toFixed(3) + ")"), t.addColorStop(.1, "rgba(" + s + "," + l.toFixed(3) + ")"), t.addColorStop(.1, "rgba(" + s + "," + h.toFixed(3) + ")"), t.addColorStop(.4, "rgba(" + n + ",0.1)"), t.addColorStop(.9, "rgba(" + a + "," + h.toFixed(3) + ")"), t.addColorStop(.95, "rgba(" + a + "," + u.toFixed(3) + ")"), t.addColorStop(1, "rgba(" + a + "," + c.toFixed(3) + ")")
                            }, e.prototype.elegantGradient = function(t, e, i) {
                                for (var n = i._renderParams[0], r = i._renderParams[1], s = i._renderParams[2], a = i._renderParams[3], o = this.settings.advanced.renderQuality, l = Math.PI / Math.max(1, 180 * o), h = s; h < a;) {
                                    var u = Math.min(h + l, a);
                                    this.g.beginPath(), this.g.arc(t, e, r, h, u), this.g.arc(t, e, n, u, h, !0), this.g.closePath(), d.Graphics.paint(this.g, {
                                        fillColor: this.getRadialGradient(t, e, n, t, e, r, h)
                                    }), h = u
                                }
                            }, e
                        }(e);
                        t.Smoothy = s;
                        var a = function(t) {
                            function e() {
                                return t.apply(this, arguments) || this
                            }
                            return n(e, t), e.prototype.paintSlices = function(t, e, i, n) {
                                this.g = t;
                                for (var r = 0; r < n.length; r++) {
                                    var s = n[r];
                                    this.strokeAndPaint(t, e, i, s), this.smartGradient(e, i, s)
                                }
                            }, e.prototype.getSmartGradient = function(t, e, i, n, r, s) {
                                var a, o, l = 0,
                                    h = 0,
                                    u = 0,
                                    c = 0;
                                "inside" === r ? "top" === s ? (u = n - i, c = e, a = "rgba(0,0,0,0.3)", o = "rgba(0,0,0,0)") : (u = e, c = e + i, a = "rgba(255,255,255,0)", o = "rgba(255,255,255,0.3)") : "top" === s ? (c = e, a = "rgba(255,255,255,0.3)", o = "rgba(255,255,255,0)") : (u = e, c = e + n, a = "rgba(0,0,0,0)", o = "rgba(0,0,0,0.3)");
                                try {
                                    var d = this.g.createLinearGradient(l, u, h, c);
                                    return d.addColorStop(0, a), d.addColorStop(1, o), d
                                } catch (t) {
                                    throw "Could not create linear gradient: " + t
                                }
                            }, e.prototype.smartOuterShineTop = function(t, e, i, n, r, s, a, o) {
                                if (!(r > 0 && s < Math.PI)) {
                                    s > 0 && r < 0 && (s = 0, o = 0), r > 0 && r < Math.PI && (r = Math.PI, a = Math.PI);
                                    var l = {
                                        _renderParams: [n - .1 * (n - i), n, r, s, a, o, null, null],
                                        x: 0,
                                        y: 0,
                                        fillColor: this.getSmartGradient(t, e, i, n, "outside", "top")
                                    };
                                    this.strokeAndPaint(this.g, t, e, l)
                                }
                            }, e.prototype.smartOuterShineBottom = function(t, e, i, n, r, s, a, o) {
                                if (!(s < 0 || r > Math.PI)) {
                                    r < 0 && (r = 0, a = 0), s > Math.PI && (s = Math.PI, o = Math.PI);
                                    var l = {
                                        _renderParams: [n - .1 * (n - i), n, r, s, a, o, null, null],
                                        x: 0,
                                        y: 0,
                                        fillColor: this.getSmartGradient(t, e, i, n, "outside", "bottom")
                                    };
                                    this.strokeAndPaint(this.g, t, e, l)
                                }
                            }, e.prototype.smartInnerShineTop = function(t, e, i, n, r, s, a, o) {
                                if (!(r > 0 && s < Math.PI)) {
                                    s > 0 && r < 0 && (s = 0, o = 0), r > 0 && r < Math.PI && (r = Math.PI, a = Math.PI);
                                    var l = {
                                        _renderParams: [i, i + .1 * (n - i), r, s, a, o, null, null],
                                        x: 0,
                                        y: 0,
                                        fillColor: this.getSmartGradient(t, e, i, n, "inside", "top")
                                    };
                                    this.strokeAndPaint(this.g, t, e, l)
                                }
                            }, e.prototype.smartInnerShineBottom = function(t, e, i, n, r, s, a, o) {
                                if (!(s < 0 || r > Math.PI)) {
                                    r < 0 && (r = 0, a = 0), s > Math.PI && (s = Math.PI, o = Math.PI);
                                    var l = {
                                        _renderParams: [i, i + .1 * (n - i), r, s, a, o, null, null],
                                        x: 0,
                                        y: 0,
                                        fillColor: this.getSmartGradient(t, e, i, n, "inside", "bottom")
                                    };
                                    this.strokeAndPaint(this.g, t, e, l)
                                }
                            }, e.prototype.smartGradient = function(t, e, i) {
                                t += i.x, e += i.y;
                                var n = i._renderParams[0],
                                    r = i._renderParams[1],
                                    s = i._renderParams[2],
                                    a = i._renderParams[3],
                                    o = i._renderParams[4],
                                    l = i._renderParams[5];
                                this.smartOuterShineTop(t, e, n, r, s, a, o, l), this.smartOuterShineBottom(t, e, n, r, s, a, o, l), this.smartInnerShineTop(t, e, n, r, s, a, o, l), this.smartInnerShineBottom(t, e, n, r, s, a, o, l)
                            }, e
                        }(e);
                        t.Bevel = a;
                        var o = function(t) {
                            function e() {
                                var e = t.apply(this, arguments) || this;
                                return e.currentSliceIndex = 0, e.inverseZeroSliceCap = !1, e
                            }
                            return n(e, t), e.prototype.paintPie = function(t, e, i, n, r, s, a, o) {
                                o.fillColor && (t.beginPath(), t.arc(e, i, r, s, a, !1), t.arc(e, i, n, a, s, !0), t.closePath(), d.Graphics.fill(t, o)), this.settings.pie.endAngle - this.settings.pie.startAngle != 2 * Math.PI ? this.inverseZeroSliceCap = !0 : this.inverseZeroSliceCap = !1
                            }, e.prototype.paintSlices = function(t, e, i, n) {
                                for (var r = 0; r < n.length; r++) {
                                    var s = n[r];
                                    this.currentSliceIndex = r, this.strokeAndPaint(t, e, i, s)
                                }
                            }, e.prototype.strokeSlice = function(t, e, i, n) {
                                var r = n._renderParams;
                                e += n.x, i += n.y;
                                var s = r[0],
                                    a = r[1],
                                    o = r[2],
                                    l = r[3],
                                    h = r[4],
                                    u = r[5],
                                    c = a * Math.abs(l - o),
                                    d = a - s,
                                    p = Math.min(.1 * Math.min(c, d), 3);
                                s + a === -2 && (s = 0, a = 0), t.beginPath(), "zigzag" === n.lineDecoration ? this.strokeZigZag(t, e, i, a, p, o, l) : t.arc(e, i, a, o, l, !1);
                                var f = (a - s) / 2,
                                    g = s + f;
                                if (f > 0) {
                                    var m = e + Math.cos(u) * g,
                                        v = i + Math.sin(u) * g;
                                    t.arc(m, v, f, l, l + Math.PI, !1)
                                }
                                if (h === u ? t.lineTo(e + Math.cos(u) * s, i + Math.sin(h) * s) : t.arc(e, i, s, u, h, !0), f > 0) {
                                    var m = e + Math.cos(h) * g,
                                        v = i + Math.sin(h) * g;
                                    0 == this.currentSliceIndex && this.inverseZeroSliceCap ? t.arc(m, v, f, h + Math.PI, h, !1) : t.arc(m, v, f, h + Math.PI, h, !0)
                                }
                                t.closePath()
                            }, e.prototype.paintExpandableHilights = function(t, e, i, n) {
                                var r = this.settings.slice.expandableMarkStyle.distance,
                                    s = this.settings.slice.expandableMarkStyle;
                                if (!(s.lineWidth <= 0))
                                    for (var a = 0; a < n.length; a++) {
                                        var o = n[a];
                                        if (o.expandable) {
                                            var l = o._renderParams,
                                                h = e + o.x,
                                                u = i + o.y,
                                                c = l[0],
                                                p = l[1],
                                                f = Math.max((c + p) / 2, p - r),
                                                g = (p - c) / 2,
                                                m = (Math.asin(g / c), p - r),
                                                v = c + g,
                                                y = g,
                                                S = (v * v - y * y - m * m) / (-2 * m),
                                                b = Math.sqrt(y * y - S * S),
                                                x = Math.atan(b / (m - S)),
                                                C = l[2];
                                            0 == a && this.inverseZeroSliceCap ? C -= x : C += x;
                                            var w = l[3] + x;
                                            if (C > w) return;
                                            t.beginPath(), t.arc(h, u, f, C, w), d.Graphics.paint(t, s)
                                        }
                                    }
                            }, e
                        }(e);
                        t.Rounded = o
                    }(r = e.Renderers || (e.Renderers = {}));
                var F = function() {
                    function t(t) {
                        this.renderer = null, this.chart = t, this.settings = t.settings, this.scene = t.scene
                    }
                    return t.prototype.onSceneChange = function(t) {
                        t.changes.settings && this.buildSeries()
                    }, t.prototype.buildSeries = function() {
                        var t = this.settings.pie.theme,
                            e = t.charAt(0).toUpperCase() + t.slice(1);
                        try {
                            this.renderer = new i.PieChart.Renderers[e](this)
                        } catch (e) {
                            throw "Renderer " + t + " is not available: " + e
                        }
                    }, t.prototype.paintScene = function(t) {
                        for (var e = t.context, i = t.labelRenderer, n = t.isExport ? this.settings.pie.showInnerPiesExport : this.settings.pie.showInnerPies, r = !1, s = void 0, a = void 0, o = this.scene.pies.length - 1; o >= 0; o--) {
                            var l = this.scene.pies[o];
                            if (n || !l.background) {
                                s = l.getCenterX(this.scene), a = l.getCenterY(this.scene);
                                break
                            }
                        }
                        for (var o = 0; o < this.scene.pies.length; o++) {
                            var l = this.scene.pies[o];
                            !n && l.background || this.paintPie(e, i, l, s, a), r = r || l.background
                        }!t.isExport && (this.scene.hoverBack || this.scene.settings.advanced.backAlwaysVisible && r) && this.paintBackArrow(t)
                    }, t.prototype.paintBackArrow = function(t) {
                        var e = this.scene.assetsLoader.getAssetImage(this.scene.settings.advanced.backImage);
                        if (e) {
                            var i = this.scene.pies[this.scene.pies.length - 1],
                                n = .707106781186547,
                                r = i.getCenterX(this.scene),
                                s = i.getCenterY(this.scene),
                                a = this.settings.pie.depth;
                            s += (this.scene.pies.length - 1) * a;
                            var o = e.width / 2,
                                l = e.height / 2,
                                h = i.innerRadius * n,
                                u = Math.min(o, Math.max(h, o / 2)) / o,
                                c = Math.min(l, Math.max(h, l / 2)) / l,
                                p = Math.min(u, c),
                                f = t.context;
                            if (this.settings.advanced.backImageBackground) {
                                var g = this.scene.pies[0].getInnerRadius(this.scene);
                                f.beginPath(), f.arc(r, s, g, 0, 2 * Math.PI), f.closePath(), f.fillStyle = this.settings.advanced.backImageBackground, f.fill()
                            }
                            f.globalAlpha = .5, d.Graphics.drawImageHighQuality(f, e, r - o * p, s - l * p, 2 * o * p, 2 * l * p), f.globalAlpha = 1
                        }
                    }, t.prototype.paintPie = function(t, e, i, n, r) {
                        var s = this.settings.slice.margin;
                        i.allSlices.length < 2 && (s = 0);
                        var a = i.getInnerRadius(this.scene),
                            o = i.getOuterRadius(this.scene),
                            l = i.currentStartAngle,
                            h = i.currentEndAngle,
                            u = h - l,
                            c = l;
                        if (o > 0 && u > 0) {
                            for (var p = a > 0 ? 1 / a : 0, f = 1 / o, g = s / 2 * p, m = s / 2 * f, v = [], y = 0; y < i.allSlices.length; y++) {
                                var S = i.allSlices[y],
                                    b = S.currentFraction * u;
                                if (!(S.currentFraction <= 0)) {
                                    var x = c;
                                    c += b;
                                    var C = a + S.currentCutoutDistance,
                                        w = o + S.currentCutoutDistance,
                                        L = void 0,
                                        T = void 0;
                                    if (b <= 4 * m) {
                                        var M = (x + c) / 2,
                                            k = b / 4;
                                        L = M - k, T = M + k
                                    } else L = x + m, T = c - m;
                                    var P = x + g,
                                        A = c - g;
                                    P > A && (P = A = (P + A) / 2), T < l || L > h || (L = Math.max(L, l), T = Math.min(T, h), P = Math.max(P, l), A = Math.min(A, h), P > A && (P = A = (P + A) / 2), S._renderParams = [C, w, L, T, P, A, S.fillColor, S.lineColor], S.fillColor = S.currentFillColor, S.lineColor = S.currentLineColor, v.push(S))
                                }
                            }
                            var I = void 0 !== n ? n : i.getCenterX(this.scene),
                                D = void 0 !== r ? r : i.getCenterY(this.scene);
                            this.renderer.paintPie(t, I, D, a, o, i.currentStartAngle, i.currentEndAngle, i), this.renderer.paintSlices(t, I, D, v), i === this.scene.peek() && (this.renderer.paintExpandableHilights(t, I, D, v), this.renderer.paintPieMarkers(t, e, I, D, a, o, i.currentStartAngle, i.currentEndAngle, i));
                            for (var N = 0; N < v.length; N++) {
                                var O = v[N];
                                O.fillColor = O._renderParams[6], O.lineColor = O._renderParams[7]
                            }
                            if (!i.removed) {
                                d.Graphics.clearShadow(t);
                                for (var y = 0; y < i.allSlices.length; y++) {
                                    var S = i.allSlices[y];
                                    if (S.currentIcon) {
                                        var F = this.scene.assetsLoader.getAssetImage(S.icon);
                                        if (F) {
                                            var E = S.currentIcon,
                                                H = I + E.x,
                                                R = D + E.y,
                                                z = Math.min(F.width / 2, E.hwidth),
                                                B = Math.min(F.height / 2, E.hheight);
                                            d.Graphics.drawImageHighQuality(t, F, H - z, R - B, 2 * z, 2 * B)
                                        }
                                    }
                                }
                                c = l;
                                for (var y = 0; y < i.allSlices.length; y++) {
                                    var S = i.allSlices[y],
                                        b = S.currentFraction * u,
                                        x = c;
                                    c = x + b;
                                    var U = Math.max(x, l),
                                        W = Math.min(c, h),
                                        G = (U + W) / 2,
                                        V = S === this.scene.hoverSlice,
                                        Y = o + S.currentCutoutDistance;
                                    S.currentInsideLabel && S.currentInsideLabel.visible && this.paintLabel(t, e, I, D, Y, G, S.currentInsideLabel, V), S.currentLabel && S.currentLabel.visible && this.paintLabel(t, e, I, D, Y, G, S.currentLabel, V)
                                }
                            }
                        }
                    }, t.prototype.paintLabel = function(t, e, i, n, r, s, a, o) {
                        var l, h, u = this.scene.y0 + 3,
                            c = u + this.scene.height - 6,
                            p = this.settings.labels,
                            f = a.x,
                            g = a.y,
                            m = a.hwidth,
                            v = r + p.connectorLength;
                        if (f < 0 ? (l = f + m, h = g) : f >= 0 && (l = f - m, h = g), p.connectors && l * l + h * h > r * r) {
                            var y = Math.sin(s),
                                S = Math.cos(s);
                            t.beginPath();
                            var b = i + r * S,
                                x = n + r * y;
                            t.moveTo(b, x);
                            var C = i + v * S,
                                w = n + v * y;
                            w = Math.min(Math.max(w, u), c), l += i, h += n, h = Math.min(Math.max(h, u), c);
                            var L = (r + v) / 2,
                                T = d.Geometry.rayIntersectsCircle(l - i, h - n, b - l, x - h, r),
                                M = d.Geometry.lineTouchingCircle(l - i, h - n, C - i, w - n, v);
                            if (T < .9 && M) {
                                for (var k = M.x, P = M.y, A = Math.atan2(P, k); A - s > Math.PI;) A -= 2 * Math.PI;
                                for (; A - s < -Math.PI;) A += 2 * Math.PI;
                                var I = A - s;
                                k += i, P += n, C = i + L * S, w = n + L * y, w = Math.min(Math.max(w, u), c);
                                var D = i + L * Math.cos(s + .2 * I),
                                    N = n + L * Math.sin(s + .2 * I);
                                N = Math.min(Math.max(N, u), c), t.quadraticCurveTo(C, w, D, N);
                                var O = i + v * Math.cos(A),
                                    F = n + v * Math.sin(A);
                                F = Math.min(Math.max(F, u), c), d.Graphics.arcBetweenTwoPoints(t, i, n, L, D, N, O, F), t.lineTo(l, h)
                            } else t.quadraticCurveTo(C, w, l, h);
                            var E = this.settings.slice.connectorStyle,
                                H = E.lineWidth;
                            o && (E.lineWidth += 2), d.Graphics.stroke(t, E), E.lineWidth = H
                        }
                        e.paint(t, i + a.x, n + a.y, 1, a), d.Graphics.clearShadow(t)
                    }, t
                }();
                e.PieRenderer = F;
                var E = function() {
                    function t(t) {
                        this.chart = t, this.scene = t.scene
                    }
                    return t.prototype.updatePie = function(t, e) {
                        var i = this.getPieData(t);
                        this.rectifyScrollOffsets(t, i);
                        var n = this.getForwardCount(t.id, i, t.offset),
                            r = n.numberOfSlices,
                            s = n.isReady;
                        if (t.data = i, t.loading = !s, s) {
                            var a = this.buildSlices(t, t.offset, r),
                                o = a.slices,
                                l = a.othersSlice,
                                h = a.previousSlice;
                            this.applyNewSlices(t, o, l, h, e)
                        }
                        return s
                    }, t.prototype.scrollForward = function(t, e) {
                        var i = this.getPieData(t);
                        t.data = i;
                        var n, r = !0;
                        if (null === e || void 0 === e) {
                            var s = this.getForwardCount(t.id, i, t.offset);
                            n = s.numberOfSlices, r = s.isReady, e = t.offset + n
                        }
                        if (r) {
                            var s = this.getForwardCount(t.id, i, e);
                            n = s.numberOfSlices, r = s.isReady
                        }
                        if (r) {
                            var a = this.buildSlices(t, e, n),
                                o = a.slices,
                                l = a.othersSlice,
                                h = a.previousSlice;
                            if (t.othersSlice) {
                                var u = Math.min(o.length, Math.max(0, t.offset + t.count - e));
                                this.fitSlicesInOrigin(t.othersSlice, o.slice(u), l), l || (l = t.othersSlice, l.fraction = 0, l.currentFraction = 0, l.removed = !0)
                            }
                            return t.offset = e, this.applyNewSlices(t, o, l, h), t.loading = !1, !0
                        }
                        return t.loading = !0, !1
                    }, t.prototype.scrollBackward = function(t, e) {
                        var i = this.getPieData(t);
                        t.data = i;
                        var n = !0,
                            r = 0;
                        if (i && i.done && t.offset > i.offset + i.values.length && (t.offset = i.offset + i.values.length), null == e) {
                            var s = this.getBackOffset(t.id, i, t.offset);
                            if (e = s.newOffset, n = s.isReady)
                                do {
                                    e += r;
                                    var a = this.getForwardCount(t.id, i, e);
                                    r = a.numberOfSlices, n = a.isReady
                                } while (n && e + r < t.offset)
                        } else {
                            var a = this.getForwardCount(t.id, i, e);
                            r = a.numberOfSlices, n = a.isReady
                        }
                        if (n) {
                            var o = this.buildSlices(t, e, r),
                                l = o.slices,
                                h = o.othersSlice,
                                u = o.previousSlice;
                            if (t.previousSlice) {
                                var c = Math.min(l.length, Math.max(0, t.offset - e));
                                this.fitSlicesInOrigin(t.previousSlice, l.slice(0, c), u), u || (u = t.previousSlice, u.fraction = 0, u.currentFraction = 0, u.removed = !0)
                            }
                            return t.offset = e, this.applyNewSlices(t, l, h, u), t.loading = !1, !0
                        }
                        return t.loading = !0, !1
                    }, t.prototype.fitSlicesInOrigin = function(t, e, i) {
                        for (var n = Math.max(1e-6, t.currentFraction), r = 0, s = 0; s < e.length; s++) {
                            var a = e[s];
                            r += a.fraction
                        }
                        i && (r += i.fraction);
                        for (var o = n / r, s = 0; s < e.length; s++) {
                            var a = e[s];
                            a.currentFraction = a.fraction * o, a.currentFillColor = t.currentFillColor, a.currentLineColor = t.currentLineColor
                        }
                        i && (i.currentFraction = i.fraction * o, i.currentFillColor = t.currentFillColor, i.currentLineColor = t.currentLineColor)
                    }, t.prototype.rectifyScrollOffsets = function(t, e) {
                        if (null == e) return void(t.scrollOffset = 0);
                        var i, n = t.offset;
                        if (t.scrollOffset < 0) {
                            for (0 === n && (t.scrollOffset -= this.scene.settings.interaction.others.navigationFraction); t.scrollOffset < 0 && n - e.offset < e.values.length;) i = e.values[n - e.offset], t.scrollOffset += i.fraction / t.visibleFraction, n++;
                            var r = this.scene.settings.interaction.others.maxSlicesVisible + 1;
                            n + r > e.values.length && (t.scrollOffset = 0, n = Math.max(e.values.length - r, 0))
                        } else if (t.scrollOffset > 0) {
                            var s = 0;
                            for (1 === n && (s = this.scene.settings.interaction.others.navigationFraction); n > 0 && t.scrollOffset + s > e.values[n - e.offset - 1].fraction / t.visibleFraction;) i = e.values[n - e.offset - 1], t.scrollOffset -= i.fraction / t.visibleFraction, n--;
                            0 === n && (t.scrollOffset = 0)
                        }
                        t.offset = n
                    }, t.prototype.getForwardCount = function(t, e, i) {
                        if (!e || e.offset > i || e.offset + e.values.length <= i) return !e || !e.done || e.offset > i ? (this.scene.mainData.requestPieData(t, i), {
                            numberOfSlices: 0,
                            isReady: !1
                        }) : {
                            numberOfSlices: 0,
                            isReady: !0
                        };
                        var n = e.offset,
                            r = n + e.values.length,
                            s = this.scene.settings.interaction.others,
                            a = s.minSliceFraction,
                            o = s.maxOthersFraction,
                            l = s.maxSlicesVisible;
                        if (!s.enabled || r - i <= s.minSlices) return e.done || this.scene.mainData.requestMorePieData(t), {
                            numberOfSlices: Math.max(r - i, 0),
                            isReady: e.done
                        };
                        for (var h = e.afterFraction, u = i; u <= r - 1; u++) h += e.values[u - n].fraction;
                        for (var c = 0, d = 0, p = e.done; c + i < r;) {
                            c++;
                            var f = e.values[i + c - n - 1].fraction;
                            d += f, h -= f;
                            var g = h / (h + d),
                                m = Math.min(g, o),
                                v = f / d * (1 - m);
                            if (c > l || v < a) {
                                e.done && c + i !== r && c--, p = !0;
                                break
                            }
                        }
                        return p || this.scene.mainData.requestMorePieData(t), {
                            numberOfSlices: c,
                            isReady: p
                        }
                    }, t.prototype.getBackOffset = function(t, e, i) {
                        if (0 === i) return {
                            newOffset: 0,
                            isReady: !0
                        };
                        if (!e || e.offset >= i || !e.done && e.offset + e.values.length < i) return this.scene.mainData.requestPieData(t, Math.max(0, i - this.scene.mainData.dataSettings.itemsToLoad)), {
                            newOffset: 0,
                            isReady: !1
                        };
                        if (0 === i) return {
                            newOffset: 0,
                            isReady: !0
                        };
                        for (var n = e.offset, r = n + e.values.length, s = this.scene.settings.interaction.others.minSliceFraction, a = this.scene.settings.interaction.others.maxOthersFraction, o = this.scene.settings.interaction.others.maxSlicesVisible, l = e.afterFraction, h = i; h < r; h++) l += e.values[h - n].fraction;
                        for (var u = i, c = e.values[i - n - 1].fraction, d = 0, p = 0 === e.offset; u > e.offset;) {
                            u--, d += e.values[u - n].fraction;
                            var f = i - u,
                                g = Math.min(l / (l + d), a),
                                m = c / d * (1 - g);
                            if (0 === u || f > o || m < s) {
                                0 !== u && u++, p = !0;
                                break
                            }
                        }
                        return p || this.scene.mainData.requestLessPieData(t), {
                            newOffset: u,
                            isReady: p
                        }
                    }, t.prototype.buildSlices = function(t, e, i) {
                        var n = this.scene.settings,
                            r = t.data;
                        if (!r) throw new Error("Internal error - buildSlices");
                        for (var s = 0, a = [], o = e; o < e + i; o++) {
                            var l = new m(t, o);
                            l.data = r.values[o - r.offset], l.id = l.data.__id, s += l.data.fraction, a.push(l)
                        }
                        for (var h = n.interaction.others, u = r.afterFraction, c = r.afterSum, o = e + i; o < r.offset + r.values.length; o++) {
                            var d = r.values[o - r.offset];
                            c += d.value, u += d.fraction
                        }
                        var p;
                        u > 0 && (e > 0 || r.values.length > h.minSlices) ? (p = new m(t, 1 / 0), p.data = {
                            value: c,
                            fraction: u,
                            name: n.localization.othersLabel
                        }) : p = null;
                        var f = null,
                            g = 0;
                        if (e > 0) {
                            for (var v = r.beforeSum, o = r.offset; o <= Math.min(e, r.offset + r.values.length) - 1; o++) v += Math.abs(r.values[o - r.offset].value);
                            f = new m(t, -1), g = h.navigationFraction, g += t.scrollOffset, f.data = {
                                value: v,
                                name: n.localization.previousLabel
                            }, f.fraction = g
                        }
                        t.visibleFraction = (s + u) * (1 + g / (1 - g)), p && (u = Math.max(h.navigationFraction, u), u = Math.min(h.maxOthersFraction, u), p.fraction = u);
                        var y = (1 - g - u) / s;
                        s = 1 - g - u;
                        for (var S = 0; S < a.length; S++) {
                            var b = a[S];
                            b.fraction = b.data.fraction * y
                        }
                        var x = n.slice.minFraction;
                        if (x > 0)
                            for (var C = 0;;) {
                                for (var w = 0, L = 0, S = 0; S < a.length; S++) {
                                    var b = a[S];
                                    b.fraction <= x && (w += 1, L += b.fraction)
                                }
                                if (w === a.length) {
                                    for (var T = s / a.length, S = 0; S < a.length; S++) {
                                        var b = a[S];
                                        b.fraction = T
                                    }
                                    break
                                }
                                y = (s - w * x) / (s - L);
                                for (var S = 0; S < a.length; S++) {
                                    var b = a[S];
                                    b.fraction <= x ? b.fraction = x : b.fraction = b.fraction * y
                                }
                                if (w === C) break;
                                C = w
                            }
                        return {
                            slices: a,
                            othersSlice: p,
                            previousSlice: f
                        }
                    }, t.prototype.applyNewSlices = function(t, e, i, n, r) {
                        void 0 === r && (r = !0);
                        var s = t.allSlices,
                            a = 0 === s.length,
                            o = [],
                            l = [];
                        s.length, e.length + (i ? 1 : 0) + (n ? 1 : 0);
                        n ? (t.previousSlice ? (t.previousSlice.removed = n.removed, t.previousSlice.data = n.data, t.previousSlice.fraction = n.fraction, t.previousSlice.value = n.value, r || this.jumpSliceToAnimationEnd(t.previousSlice)) : (a || (n.currentFraction = 0), t.previousSlice = n), l.push(t.previousSlice)) : t.previousSlice && (t.previousSlice.removed = !0, t.previousSlice.fraction = 0, l.push(t.previousSlice));
                        for (var h = {}, u = {}, c = {}, p = {}, f = 0; f < s.length; f++) {
                            var g = s[f];
                            (!g || g.index !== 1 / 0 && g.index !== -1) && (h[g.id] = g, null !== g.originalId && (u[g.originalId] = g))
                        }
                        for (var f = 0; f < e.length; f++) c[e[f].id] = e[f], null !== e[f].originalId && (p[e[f].originalId] = e[f]);
                        for (var m in h) {
                            var g = h[m],
                                v = c.hasOwnProperty(g.id),
                                y = p.hasOwnProperty(g.originalId);
                            if (v || y) {
                                var S = v ? c[g.id] : p[g.originalId];
                                g.removed = !1, g.fraction = S.fraction, g.data = S.data, g.index = S.index, S.currentFraction && r && (g.currentFraction = S.currentFraction, g._animatorF = null), r || this.jumpSliceToAnimationEnd(g), o.push(g), l.push(g)
                            } else g.removed = !0, g.fraction = 0, g.originalId || (g.originalId = g.id), g.id = d.Helpers.getIdentifierStr(), r && l.push(g)
                        }
                        for (var m in c) {
                            var S = c[m];
                            h.hasOwnProperty(S.id) || h.hasOwnProperty(S.originalId) || (S.currentFraction || a || (S.currentFraction = 0), r || this.jumpSliceToAnimationEnd(S), o.push(S), l.push(S))
                        }
                        var b = function(t, e) {
                            return t.index > e.index ? 1 : t.index < e.index ? -1 : 0
                        };
                        o.sort(b), l.sort(b), i ? (t.othersSlice ? (t.othersSlice.removed = i.removed, t.othersSlice.data = i.data, t.othersSlice.fraction = i.fraction, t.othersSlice.value = i.value, r || this.jumpSliceToAnimationEnd(t.othersSlice)) : (a || (i.currentFraction = 0), t.othersSlice = i), l.push(t.othersSlice)) : t.othersSlice && (l.push(t.othersSlice), t.othersSlice.removed = !0, t.othersSlice.fraction = 0), !r && t.othersSlice && this.jumpSliceToAnimationEnd(t.othersSlice), t.total = t.data ? t.data.total : 0, t.count = e.length, t.slices = o, t.allSlices = l;
                        for (var x = 0; x < l.length; x++) {
                            var C = l[x];
                            C.value = C.data.value, r || this.jumpSliceToAnimationEnd(C)
                        }
                        this.scene.updateOnPieChanged(t), this.resetSelection()
                    }, t.prototype.resetSelection = function() {
                        for (var t = this.scene, e = 0, i = t.selection; e < i.length; e++) {
                            var n = i[e];
                            t.selectionIds.push(n.id), n.selected = !1
                        }
                        return t.selection = [], t.selectionIds.length > 0
                    }, t.prototype.jumpSliceToAnimationEnd = function(t) {
                        t._animatorF ? t._animatorF.jump(t.fraction) : t._animatorF = new d.Animator(t.fraction, t.fraction, this.scene.settings.interaction.animation.scrollDuration, "<>", 0), t.currentFraction = t.fraction
                    }, t.prototype.getPieData = function(t) {
                        var e = this.scene.mainData.getPieData(t.id);
                        if (!e) return null;
                        var i = e.total;
                        if (i > 0)
                            for (var n = 0; n < e.values.length; n++) {
                                var r = e.values[n];
                                r.fraction = Math.max(1e-9, r.value / i)
                            } else {
                                i = e.values.length;
                                for (var n = 0; n < e.values.length; n++) {
                                    var r = e.values[n];
                                    r.fraction = 1 / i
                                }
                            }
                        return e.afterSum > 0 ? e.afterFraction = e.afterSum / i : e.afterFraction = 0, e.beforeSum > 0 ? e.beforeFraction = e.beforeSum / i : e.beforeFraction = 0, e
                    }, t
                }();
                e.PieBuilder = E;
                var H = function(e) {
                    function i(t) {
                        var i = e.call(this) || this;
                        return i.animationOrder = 500, i.paintOrder = 30, i.updateOrder = 700, i.chart = t, i.scene = t.scene, i.renderer = new F(t), i.animator = new D(t), i.layout = new N(t, i), i.builder = new E(t), i
                    }
                    return n(i, e), i.prototype.updatePie = function(t, e) {
                        return void 0 === e && (e = !0), this.builder.updatePie(t, e)
                    }, i.prototype.scrollForward = function(t, e) {
                        return this.builder.scrollForward(t, e)
                    }, i.prototype.scrollBackward = function(t, e) {
                        return this.builder.scrollBackward(t, e)
                    }, i.prototype.onSceneChange = function(t) {
                        this.renderer.onSceneChange(t)
                    }, i.prototype.doAnimations = function(t) {
                        var e = !1;
                        if (t.changes.settings || t.changes.pie || t.changes.bounds || t.changes.assets) {
                            var i = this.scene.peek();
                            i && this.chart.assetsLoaded && (e = this.layout.placeStack(i, t.context))
                        }
                        for (var n = this.animator.doAnimations(t), r = 0; r < n.length; r++) {
                            var i = n[r];
                            this.layout.placeLabels(i, t.context)
                        }(e || n) && (t.changes.position = !0)
                    }, i.prototype.paintScene = function(t) {
                        this.renderer.paintScene(t)
                    }, i.prototype.getMovement = function(t, e) {
                        var i = e.x - e.dx - t.getCenterX(this.scene),
                            n = e.y - e.dy - t.getCenterY(this.scene),
                            r = e.x - t.getCenterX(this.scene),
                            s = e.y - t.getCenterY(this.scene),
                            a = d.Geometry.normalizeAngle(Math.atan2(n, i)),
                            o = d.Geometry.normalizeAngle(Math.atan2(s, r)),
                            l = d.Geometry.subtractAngle(o, a) / (t.currentEndAngle - t.currentStartAngle),
                            h = Math.sqrt(i * i + n * n),
                            u = Math.sqrt(r * r + s * s),
                            c = u - h;
                        return {
                            dfraction: l,
                            doffset: c
                        }
                    }, i.prototype.findPieAt = function(t, e, i) {
                        for (var n = this.scene.pies.length - 1; n >= 0; n--) {
                            var r = this.scene.pies[n],
                                s = r.getCenterX(this.scene),
                                a = r.getCenterY(this.scene),
                                o = r.getInnerRadius(this.scene),
                                l = r.getOuterRadius(this.scene),
                                h = Math.max(0, o - i);
                            h = l + i;
                            var u = h * h,
                                c = t - s,
                                d = e - a,
                                p = c * c + d * d;
                            if ((r.background || 1 === this.scene.pies.length) && p <= u) return r
                        }
                        return null
                    }, i.prototype.findSliceAt = function(e, i, n, r) {
                        for (var s = this.scene.settings.theme == t.Internal.PieChart.Settings.RoundedTheme, a = this.scene.settings.pie.endAngle - this.scene.settings.pie.startAngle == 2 * Math.PI, o = this.scene.pies.length - 1; o >= 0; o--) {
                            var l = this.scene.pies[o];
                            if (!l.background) {
                                var h = l.getCenterX(this.scene),
                                    u = l.getCenterY(this.scene),
                                    c = r ? 0 : l.getInnerRadius(this.scene),
                                    d = l.getOuterRadius(this.scene),
                                    p = Math.max(0, c - n);
                                p = d + n;
                                for (var f = e - h, g = i - u, m = f * f + g * g, v = Math.sqrt(m), y = f / v, S = g / v, b = l.currentStartAngle, x = l.currentEndAngle - b, C = Math.cos(b), w = Math.sin(b), L = C, T = w, M = (d - c) / 2, k = 0; k < l.allSlices.length; k++) {
                                    var P = l.allSlices[k],
                                        A = C,
                                        I = w;
                                    if (b += x * P.currentFraction, C = Math.cos(b), w = Math.sin(b), v >= c + P.currentCutoutDistance && v <= d + P.currentCutoutDistance) {
                                        var D = I * y - A * S,
                                            N = w * y - C * S,
                                            O = A * (c + P.currentCutoutDistance + M),
                                            F = I * (c + P.currentCutoutDistance + M);
                                        if (D < 0 && N > 0) {
                                            if (!s) return P;
                                            var E = Math.sqrt(Math.pow(f - O, 2) + Math.pow(g - F, 2));
                                            if (E > M) return P
                                        }
                                        if (Math.abs(x * P.currentFraction) > Math.PI && (D < 0 && N < 0 || D > 0 && N > 0)) {
                                            if (!s) return P;
                                            var E = Math.sqrt(Math.pow(f - O, 2) + Math.pow(g - F, 2));
                                            if (E > M) return P
                                        }
                                        if (s) {
                                            var H = Math.sqrt(Math.pow(f - O, 2) + Math.pow(g - F, 2)),
                                                R = C * (c + P.currentCutoutDistance + M),
                                                z = w * (c + P.currentCutoutDistance + M),
                                                B = Math.sqrt(Math.pow(f - R, 2) + Math.pow(g - z, 2));
                                            if (H > M && B <= M) return P
                                        }
                                    }
                                }
                                if (!a && s && l.allSlices && l.allSlices.length > 0) {
                                    var P = l.allSlices[0],
                                        O = L * (c + P.currentCutoutDistance + M),
                                        F = T * (c + P.currentCutoutDistance + M),
                                        E = Math.sqrt(Math.pow(f - O, 2) + Math.pow(g - F, 2));
                                    if (E < M) return P
                                }
                            }
                        }
                        return null
                    }, i.prototype.findLabelAt = function(t, e, i) {
                        for (var n = this.scene.pies.length - 1; n >= 0; n--)
                            for (var r = this.scene.pies[n], s = t - r.getCenterX(this.scene), a = e - r.getCenterY(this.scene), o = 0; o < r.allSlices.length; o++) {
                                var l = r.allSlices[o];
                                if (l.currentLabel) {
                                    var h = l.currentLabel;
                                    if (h.visible && h.x - h.hwidth <= s && h.x + h.hwidth >= s && h.y - h.hheight <= a && h.y + h.hheight >= a) return {
                                        slice: l,
                                        label: h
                                    }
                                }
                                if (l.currentInsideLabel) {
                                    var h = l.currentInsideLabel;
                                    if (h.visible && h.x - h.hwidth <= s && h.x + h.hwidth >= s && h.y - h.hheight <= a && h.y + h.hheight >= a) return {
                                        slice: l,
                                        label: h
                                    }
                                }
                            }
                        return {
                            slice: null,
                            label: null
                        }
                    }, i
                }(d.ChartElement);
                e.PieView = H;
                var R = function(t) {
                    function e(e, i) {
                        var n = t.call(this, new S(e), new y, i) || this;
                        return n.scene.loading = !1, n.selection = n.events.addElement(new T(n)), n.scene.view = new H(n), n.popup = n.events.addElement(new I(n)), n.legend = n.events.addElement(new f(n)), n.events.addElement(new M(n)), n.navigator = n.events.addElement(new A(n)), n.events.addElement(n.scene.view), n.finalInitialize(), n.navigator.setPie(n.settings.navigation.initialDrilldown, n.settings.navigation.initialOffset, "init"), n
                    }
                    return n(e, t), e.prototype.createDataObj = function(t) {
                        return new l(this, t, !1)
                    }, e.prototype.getData = function(e) {
                        return t.prototype.getData.call(this, e)
                    }, e.prototype.createDomLayer = function() {
                        return new k(this)
                    }, e.prototype.onSettingsChanged = function(t) {
                        t.navigation && (t.navigation.initialDrilldown || t.navigation.initialOffset) && this.navigator.setPie(this.settings.navigation.initialDrilldown, this.settings.navigation.initialOffset), (t.labels || t.icons || t.pie || t.slice || t.interaction) && this.events.notifySceneChanges({
                            pie: !0
                        })
                    }, e.prototype.save = function() {
                        var t = this.saveSelection();
                        return JSON.stringify({
                            pie: this.navigator.getPie(),
                            offset: this.navigator.getPieOffset(),
                            selection: t
                        })
                    }, e.prototype.zoomOut = function(t, e) {
                        void 0 === t && (t = !0), void 0 === e && (e = "api"), this.setSelection([]), this.navigator.goBack(e)
                    }, e.prototype.zoomOutPossible = function() {
                        var t = this.scene;
                        return t.length() > 1 || t.peek().offset > 0
                    }, e.prototype.restore = function(t, e) {
                        if (t) {
                            var i = JSON.parse(t);
                            this.setPie(i.pie, i.offset, e), this.setSelection(i.selection)
                        }
                    }, e.prototype.updateFilters = function() {
                        this.updateFilter(!0)
                    }, e.prototype.updateFilter = function(t) {
                        void 0 === t && (t = !1), this.log("Update filter");
                        var e = {};
                        for (var i in this.settings._computedDataMap) e[i] = !0;
                        this.events.notifySceneChanges({
                            data: e,
                            dataDeep: t
                        })
                    }, e.prototype.setSelection = function(t, e) {
                        void 0 === e && (e = "api"), this.log("Set selection");
                        for (var i = [], n = [], r = 0; r < t.length; r++) {
                            var s = t[r];
                            s instanceof m ? i.push(s) : d.Helpers.isString(s) ? n.push(s) : this.error("SetSelection: Selection contents must be Piechart_Slice object or string, got " + s)
                        }
                        this.selection.setSelection(i, n, !1, e)
                    }, e.prototype.saveSelection = function() {
                        for (var t = this.scene.selectionIds.splice(0), e = 0; e < this.scene.selection.length; e++) {
                            var i = this.scene.selection[e];
                            t.push(i.id)
                        }
                        return t
                    }, e.prototype.exportVisibleData = function() {
                        var t = this.scene.peek();
                        return t ? l.exportValues(t.data) : []
                    }, e.prototype.setPie = function(t, e, i, n) {
                        void 0 === i && (i = !0), void 0 === n && (n = "api"), this.log("Set pie"), this.navigator.setPie(t, e, n)
                    }, e.prototype.setPieOffset = function(t, e, i) {
                        void 0 === e && (e = !0), void 0 === i && (i = "api"), this.log("Set pie offset"), this.navigator.setPie(this.getPie(), t, i)
                    }, e.prototype.getPie = function() {
                        return this.navigator.getPie()
                    }, e.prototype.getActiveSlices = function() {
                        for (var t = [], e = 0; e < this.scene.stack.length; e++) {
                            var i = this.scene.stack[e];
                            i.parentSlice && t.push(i.parentSlice)
                        }
                        return t
                    }, e.prototype.getActivePies = function() {
                        return this.scene.stack
                    }, e.prototype.expandSlice = function(t, e) {
                        return void 0 === e && (e = "api"), this.navigator.expandSlice(t, e)
                    }, e.prototype.getSliceDimensions = function(t, e) {
                        if (!Array.isArray(t)) return this.error("getSliceDimensions: slice Id must be an array"), null;
                        if (t.length < 2) return null;
                        if (!e && this.scene.stack.length + 1 < t.length) return null;
                        for (var i, n = 0, r = 0; r < this.scene.stack.length; r++) {
                            if (i = this.scene.stack[r], i.id !== t[n]) return null;
                            if (n += 1, n === t.length - 1) break
                        }
                        for (var s = t[n], a = 0; a < i.slices.length; a++) {
                            var o = i.slices[a];
                            if (o.id === s) {
                                var l = o._renderParams;
                                return l ? {
                                    centerX: i.getCenterX(this.scene),
                                    centerY: i.getCenterY(this.scene),
                                    r0: l[0],
                                    r1: l[1],
                                    a0: l[2],
                                    a1: l[3]
                                } : null
                            }
                        }
                        return null
                    }, e.prototype.saveNavigation = function() {
                        var t = this.scene.peek();
                        return !t || t.loading ? null : {
                            pie: this.navigator.getPie(),
                            offset: this.navigator.getPieOffset()
                        }
                    }, e.prototype.restoreNavigation = function(t, e, i) {
                        this.navigator.setPie(t.pie, t.offset, i)
                    }, e.prototype.doChartUpdateNotify = function(e) {
                        t.prototype.doChartUpdateNotify.call(this, e);
                        var i = this.createEventArguments(null, e);
                        this.dispatchEventParams("pieChange", i, null), this.dispatchEventParams("pieReadyStateChanged", i, null)
                    }, e.prototype.createEventArguments = function(t, e) {
                        var i = this.scene;
                        if (!i) return {
                            chart: this.api,
                            origin: e
                        };
                        var n = i.peek();
                        return {
                            chart: this.api,
                            origin: e,
                            pie: n,
                            offset: n && n.offset,
                            count: n && n.count,
                            selection: i.selection.slice(),
                            slice: i.hoverSlice,
                            hoverSlice: i.hoverSlice,
                            hoverPie: i.hoverPie,
                            label: i.hoverLabel,
                            hoverLabel: i.hoverLabel
                        }
                    }, e.prototype.defaultClick = function(t, e) {
                        this.selection.defaultClick(t, e)
                    }, e.prototype.remove = function() {
                        t.prototype.remove.call(this), this.popup.remove()
                    }, e.prototype.showInfoPopup = function(t, e, i) {
                        this.popup.setCurrentObject(t, e, i)
                    }, e
                }(d.Impl);
                e.Impl = R
            }(a = i.PieChart || (i.PieChart = {})),
            function(t) {
                var e = function() {
                    function t() {
                        this.enabled = !0, this.size = 40, this.maxSize = Number.POSITIVE_INFINITY, this.defaultUnitWidth = 50, this.maxUnitWidth = 400, this.minUnitWidth = 0, this.zoomOutUnitWidth = 20, this.labels = {
                            enabled: !0,
                            angle: 0,
                            lineSpacing: .2,
                            interLabelSpacing: .6,
                            textStyle: {
                                fillColor: "rgba(185, 185, 185, 1)",
                                font: "12px Arial"
                            },
                            margin: 4,
                            padding: 0,
                            aspectRatio: 3,
                            allowOverflow: !1
                        }, this.title = {
                            enabled: !1,
                            aspectRatio: 0,
                            align: "center",
                            useFacetName: !0,
                            textStyle: {
                                font: "13px Arial",
                                fillColor: "rgba(185, 185, 185, 1)"
                            }
                        }
                    }
                    return t
                }();
                t.SettingsFacetAxis = e;
                var i = function() {
                    function t(t, e) {
                        this.title = null, this.titleHeight = null, this.maxLabelWidth = 0, this.facet = e, this.chart = t, this.scene = this.chart.scene, this.options = this.scene.settings.facetAxis, this.currentItemWidth = 1, this.currentItemHeight = 1, this.createPanel(), this.createTitle()
                    }
                    return t.prototype.createPanel = function() {
                        this.panel = new d.ChartPanel, this.panel.side = "bottom", this.panel.packingOrder = 100
                    }, t.prototype.getPanel = function(e, i) {
                        var n = this.options,
                            r = this.panel;
                        this.rebuildLabels(e, i);
                        var s = this.maxLabelWidth,
                            a = this.reduceMarginNearZero(s, t.MAX_LABEL_SAFETY_MARGIN),
                            o = this.chart.isHorizontal() ? t.MIN_CHART_SAFETY_MARGIN : 0;
                        s += a, s = Math.max(0, Math.min(s, this.scene.chartHeight - o));
                        var l = Math.max(n.size, Math.min(n.maxSize, s));
                        return n.enabled && l > 0 ? (r.desiredHeight = l, r.visible = !0, this.scene.bottomAxisSize = l) : (r.desiredHeight = 0, r.visible = !1, this.scene.bottomAxisSize = 0), r.enableClipping = !n.labels.allowOverflow, r
                    }, t.prototype.reduceMarginNearZero = function(t, e) {
                        return t < 2 * e && (e = t / 2), e
                    }, t.prototype.createTitle = function() {
                        this.options.title.enabled ? this.title = new d.Label(this.options.title) : (this.title = null, this.titleHeight = 0)
                    }, t.prototype.updateTitle = function(t, e) {
                        var i = this.title,
                            n = this.options.title,
                            r = this.facet.data ? this.facet.data.name : "",
                            s = (n.useFacetName ? r || n.text : n.text) || "";
                        i && (i.text = s, e.measure(t, i), s ? this.titleHeight = 2 * ((i.style.margin || 0) + i.hheight) : this.titleHeight = 0)
                    }, t.prototype.paintTitle = function(t, e) {
                        var i = this.title;
                        if (i) {
                            this.updateTitle(t, e);
                            var n = this.titleHeight;
                            if (n) {
                                var r = this.panel.left,
                                    s = this.panel.right,
                                    a = this.scene.y0,
                                    o = this.scene.height,
                                    l = a + o + this.scene.bottomAxisSize - n / 2,
                                    h = void 0,
                                    u = i.style.align;
                                h = (r + s) / 2, "left" === u && (h = r + i.hwidth), "right" === u && (h = s - i.hwidth), e.paint(t, h, l, 1, i)
                            }
                        }
                    }, t.prototype.paint = function(t, e, i, n) {
                        var r = this.options.labels;
                        if (n.length > 1 && this.panel.visible && r.enabled && this.chart.assetsLoaded) {
                            var s = t.context,
                                a = t.labelRenderer,
                                o = this.panel.top,
                                l = n[0];
                            this.paintTitle(s, a), this.panel.pushClip(t), this.rebuildLabels(t, n);
                            for (var h = this.facet.items, u = this.calcMaxTextLines(), c = 0; c < h.length; c++) {
                                var d = n[c];
                                if (!(l > d)) {
                                    var p = h[c],
                                        f = p.currentLabel;
                                    p.currentLabel && (l = this.calcOverlappingLabelLimit(n, c, u), a.paint(s, d + f.x, o + f.y, 1, f))
                                }
                            }
                            this.panel.popClip(t)
                        }
                    }, t.prototype.calcMaxTextLines = function() {
                        var t = this.facet.items,
                            e = Math.floor(this.facet.from - this.facet.offset),
                            i = Math.ceil(this.facet.from - this.facet.offset - e),
                            n = Math.min(t.length - 1, e + Math.ceil(this.facet.to - this.facet.from) - 1 + i);
                        return t.filter(function(t, i) {
                            return i >= e && i <= n
                        }).filter(function(t) {
                            return !!t.currentLabel
                        }).map(function(t) {
                            return t.currentLabel.rows.subLines.length
                        }).reduce(function(t, e) {
                            return Math.max(t, e)
                        }, 1)
                    }, t.prototype.calcOverlappingLabelLimit = function(t, e, i) {
                        var n = this.facet.items[e].currentLabel,
                            r = this.options.labels,
                            s = (r.angle || 0) * Math.PI / 180;
                        if (0 === s) {
                            var a = Math.max.apply(Math, n.rows.rowWidths);
                            return t[e] + n.x + .5 * a
                        }
                        for (var o = .001, l = r.margin || 0, h = r.padding || 0, u = n.lineHeight * (r.lineSpacing || 0), c = n.lineHeight * i + u * (i - 1), d = c + l + h + o, p = Math.abs(Math.sin(s)), f = e + 1; f < t.length; f++) {
                            var g = p * (t[f] - t[e]);
                            if (g >= d) return t[f]
                        }
                        return 1 / 0
                    }, t.prototype.shouldRebuildLabels = function(t, e, i) {
                        var n = !1;
                        return (Math.abs(1 - this.currentItemWidth / t) > .01 || Math.abs(1 - this.currentItemHeight / e) > .01) && (this.currentItemWidth = t, this.currentItemHeight = e, n = !0), i.changes && i.changes.settings && (n = !0), n
                    }, t.prototype.rebuildLabels = function(t, e) {
                        this.layout = new d.LabelLayoutBase;
                        var i = this.facet.items,
                            n = this.panel.bottom - this.panel.top - this.titleHeight,
                            r = e[1] - e[0],
                            s = this.options.labels,
                            a = t.context,
                            o = t.labelRenderer,
                            l = this.shouldRebuildLabels(r, n, t),
                            h = 0,
                            u = d.Helpers.clone(this.options.labels);
                        u.aspectRatio = void 0;
                        for (var c = e[0], p = 0; p < i.length; p++) {
                            var f = e[p];
                            if (!(c > f)) {
                                var g = i[p],
                                    m = g.currentLabel,
                                    v = this.htmlDecodeLabel(g.label || g.data.name || s.text, this.layout, a);
                                g.currentLabel = null, v && (null === g.currentLabel || l || g.currentLabel.text !== v) && (h = this.updateMaxLabelWidth(u, v, o, a, h), m = this.buildLabel(a, v, r, n), g.currentLabel = m)
                            }
                        }
                        this.maxLabelWidth = h
                    }, t.prototype.updateMaxLabelWidth = function(t, e, i, n, r) {
                        var s = this.computeLabelWidth(t, e, i, n);
                        return r = Math.max(s, r)
                    }, t.prototype.computeLabelWidth = function(t, e, i, n) {
                        var r = new d.Label(t);
                        r.text = e, i.measure(n, r);
                        var s = (r.style.angle || 0) * Math.PI / 180;
                        return d.Helpers.rotatedWidthAndHeight(s, 2 * r.hwidth, 2 * r.hheight).height
                    }, t.prototype.htmlDecodeLabel = function(t, e, i) {
                        if (null == t || 0 === t.length) return "";
                        for (var n = e.styleTagParser2(i, t, {}), r = "", s = 0, a = n.words, o = 0; o < a.length; o++) {
                            var l = a[o];
                            if (r += l.word, o === a.length - 1) break;
                            n.breaks[s] === o + 1 ? (r += " ", s++) : l.spaceWidth && (r += " ")
                        }
                        return r
                    }, t.prototype.buildLabel = function(t, e, i, n) {
                        var r = new d.Label(this.options.labels),
                            s = r.style;
                        r.text = e;
                        var a = (s.angle || 0) * Math.PI / 180,
                            o = s.align;
                        o || (o = a > 0 ? "left" : a < 0 ? "right" : "center", s.align = o);
                        var l = function(t, e, r) {
                                var s, o, l = 0,
                                    h = 1;
                                0 !== a ? (l = Math.sin(a), h = Math.cos(a), o = r / Math.abs(l), s = i / 2) : (s = e / 2, o = 2 * t <= n ? e : 0);
                                var u, c;
                                return a > 0 ? (u = s + o / 2 * h - 2 * t * h, c = e / 2 * l) : a < 0 ? (u = s - o / 2 * h + 2 * t * h, c = -e / 2 * l) : (u = s, c = t), {
                                    x: u,
                                    y: c,
                                    dx: h,
                                    dy: l,
                                    width: o
                                }
                            },
                            h = this.chart.isHorizontal() ? r.text : "";
                        return this.layout.getFormatedText(t, r, i, n, l, h), r
                    }, t
                }();
                i.MAX_LABEL_SAFETY_MARGIN = 10, i.MIN_CHART_SAFETY_MARGIN = 50, t.FacetAxis = i;
                var r = function() {
                    function t() {
                        this.enabled = !0, this.tolerance = 4
                    }
                    return t
                }();
                t.SettingsInteractionSelection = r;
                var s = function() {
                    function t() {
                        this.lineColor = "rgba(38, 38, 44, 0.3)", this.lineWidth = 2, this.fillColor = "rgba(38, 38, 44, 0.3)", this.behindSeries = !1
                    }
                    return t
                }();
                t.SettingsAreaStyleSelection = s;
                var o = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 2e3, i.paintOrder = 15, i.updateOrder = 1e3, i.scene = null, i.events = null, i.currentItem = null, i.currentFacet = null, i.hoverEvent = null, i.chart = e, i.scene = e.scene, i.events = e.events, i.settings = e.settings.interaction.selection, i.styleSettings = e.settings.area.style.selection, i.paintOrder = i.styleSettings.behindSeries ? 3 : 15, i
                    }
                    return n(e, t), e.prototype.paintScene = function(t) {
                        var e = this.scene,
                            i = e.selection,
                            n = !this.settings.enabled;
                        if (n || i && i.length) {
                            var r = e.width,
                                s = this.styleSettings,
                                a = s.lineWidth,
                                o = Math.round(e.x0),
                                l = Math.round(e.y0),
                                h = Math.round(l + e.height + e.bottomAxisSize),
                                u = e.height + e.bottomAxisSize,
                                c = [],
                                p = e.activeFacet;
                            if (n)
                                for (var f = 0, g = p.items; f < g.length; f++) {
                                    var m = g[f];
                                    m.selected && c.push(m.index)
                                } else
                                    for (var v = 0; v < i.length; v++) {
                                        var y = i[v];
                                        y.facet === p && c.push(y.index)
                                    }
                            c.sort(function(t, e) {
                                return t - e
                            });
                            var S, b = t.context;
                            e.transform && b.transform.apply(b, e.transform);
                            for (var v = 0; v < c.length;) {
                                for (var x = c[v], C = x; ++v < c.length && (S = c[v]) === C + 1;) C = S;
                                var w = e.getItemPlacement(p, x, C),
                                    L = Math.round(o + r * w.left),
                                    T = Math.round(o + r * w.right);
                                d.Graphics.pushClip(t, o, l, r, u), d.Graphics.rectStyle(b, s);
                                var M = L + a % 2 / 2,
                                    k = T + a % 2 / 2;
                                b.fillRect(M + a / 2, l, T - L - a, u), b.beginPath(), b.moveTo(M, l), b.lineTo(M, h), b.moveTo(k, l), b.lineTo(k, h), d.Graphics.stroke(b, s), d.Graphics.popClip(t)
                            }
                            e.invertedTransform && b.transform.apply(b, e.invertedTransform)
                        }
                    }, e.prototype.doAnimations = function(t) {
                        this.hoverEvent && this.onPointerMove(this.hoverEvent)
                    }, e.prototype.previewPointerDrag = function(t) {
                        this.hoverEvent = t
                    }, e.prototype.previewPointerMove = function(t) {
                        this.updateHover(t)
                    }, e.prototype.previewPointerDown = function(t) {
                        this.updateHover(t)
                    }, e.prototype.onPointerMove = function(t) {
                        var e = this.chart,
                            i = e.scene;
                        this.hoverEvent = t;
                        var n = i.findItemAt(t.x, t.y);
                        this.shouldCursorBePointer(t) && (t.cursor = "pointer"), this.updateHover(t), this.switchCurrentItem(n, t)
                    }, e.prototype.shouldCursorBePointer = function(t) {
                        var e = this.chart.scene,
                            i = e.findItemAt(t.x, t.y, !0);
                        return i && i.expandable && this.scene.mainData.canExpand(i.id)
                    }, e.prototype.updateHover = function(t) {
                        var e = this.chart,
                            i = e.scene,
                            n = e.renderer.hitTest(t.x, t.y);
                        if (e.legend)
                            if (n) e.legend.notifyHoveredSeries(i.settings._computedSeries[n.seriesIndex]);
                            else {
                                e.legend.notifyHoveredSeries(null);
                                var r = e.legend.getLastHoveredSeries();
                                r && (n = {
                                    x0: null,
                                    y0: null,
                                    x1: null,
                                    y1: null,
                                    isMarker: !1,
                                    seriesIndex: i.settings._computedSeries.indexOf(r)
                                })
                            }(!n != !i.hoverSeriesItem || n && (n.seriesIndex !== i.hoverSeriesItem.seriesIndex || n.x0 !== i.hoverSeriesItem.x0)) && (i.hoverSeriesItem = n, t.changes.hover = !0)
                    }, e.prototype.onPointerOut = function(t) {
                        this.hoverEvent = this.scene.hoverSeriesItem = null, this.events.notifySceneChanges({
                            selection: !0
                        }), t.changes.hover = !0, this.switchCurrentItem(null, t)
                    }, e.prototype.defaultClick = function(t, e) {
                        var i = e.clickItem;
                        i && (i.url ? (d.Helpers.openUrl(i.url, i.urlTarget), t.preventDefault()) : this.settings.enabled && (t.ctrlKey || t.shiftKey || t.metaKey) || "drilldown" !== this.chart.settings.interaction.mode || !this.chart.expandItem(i, "user") || t.preventDefault())
                    }, e.prototype.getClickArgs = function(t) {
                        var e = this.scene.findItemAt(t.x, t.y, !0),
                            i = this.chart.createEventArguments(t, "user", e);
                        return e && (i.clickOrigin = this.scene.xyInBottom(t.x, t.y) ? "label" : "item"), this.shouldCursorBePointer(t) && (t.cursor = "pointer"), i
                    }, e.prototype.onClick = function(t) {
                        var e = this.getClickArgs(t);
                        t.consumed = !0, this.chart.notifyClick(t, e), t.defaultPrevented || this.updateSelection(t, e.clickItem)
                    }, e.prototype.onLongPress = function(t) {
                        var e = this.getClickArgs(t);
                        if (this.chart.notifyLongPress(t, e), t.defaultPrevented) return void(t.consumed = !0);
                        var i = this.scene.findItemAt(t.x, t.y);
                        this.updateSelection(t, i)
                    }, e.prototype.onRightClick = function(t) {
                        var e = this.getClickArgs(t);
                        this.chart.notifyRightClick(t, e), t.defaultPrevented && (t.consumed = !0)
                    }, e.prototype.onDoubleClick = function(t) {
                        var e = this.getClickArgs(t);
                        this.chart.notifyDoubleClick(t, e), t.consumed = !0
                    }, e.prototype.onTripleClick = function(t) {
                        var e = this.getClickArgs(t);
                        this.chart.notifyTripleClick(t, e), t.consumed = !0
                    }, e.prototype.updateSelection = function(t, e) {
                        if (this.settings.enabled) {
                            var i = this.scene,
                                n = i.selection;
                            if (t.ctrlKey || t.metaKey || "toggle" === this.chart.settings.interaction.mode) e && (e.selected = !e.selected, e.selected ? n.push(e) : d.Helpers.removeFromArray(n, e), this.setSelection(n, i.selectionIds, !0));
                            else if (t.shiftKey) {
                                var r = i.activeFacet;
                                if (e && e.facet === r) {
                                    for (var s = null, a = 0; a < n.length; a++) {
                                        var o = n[a];
                                        if (o.facet === r) {
                                            s = o.index;
                                            break
                                        }
                                    }
                                    null === s && (s = e.index);
                                    var l = Math.min(e.index, s),
                                        h = Math.max(e.index, s);
                                    n = new Array(h - l + 1);
                                    for (var a = l; a <= h; a++) n[a - l] = r.items[a];
                                    this.setSelection(n)
                                }
                            } else !e || e.selected && 1 === n.length ? this.setSelection([]) : this.setSelection([e])
                        }
                    }, e.prototype.switchCurrentItem = function(t, e) {
                        var i = this.chart.createEventArguments(e, "user");
                        t !== this.currentItem && (e.changes.current = !0, this.scene.hoverItem && (this.scene.hoverItem.active = !1), this.scene.hoverItem = t, this.currentItem = t, this.currentFacet = null, this.currentItem && (this.scene.hoverItem.active = !0, i.hoverItem = this.currentItem), this.events.notifySceneChanges({
                            items: !0
                        })), e.changes.hover && this.chart.notifyHoverChanged(e, i)
                    }, e.prototype.onSceneChange = function(t) {
                        if (t.changes.items) {
                            var e = this.chart;
                            this.updateSelectionIds() && (this.events.notifySceneChanges({
                                selection: !0
                            }), e.notifySelectionChanged(e.createEventArguments(null, "api")))
                        }
                    }, e.prototype.updateSelectionIds = function() {
                        for (var t = this.scene, e = [], i = 0, n = t.selectionIds; i < n.length; i++)
                            for (var r = n[i], s = 0, a = t.stack; s < a.length; s++)
                                for (var o = a[s], l = 0, h = o.items; l < h.length; l++) {
                                    var u = h[l];
                                    if (u.id === r) {
                                        e.push(u);
                                        break
                                    }
                                }
                        if (0 === e.length) return !1;
                        for (var c = 0, p = e; c < p.length; c++) {
                            var f = p[c];
                            f.selected || (f.selected = !0, t.selection.push(f)), d.Helpers.removeFromArrayHasty(t.selectionIds, f.id)
                        }
                        return !0
                    }, e.prototype.setSelection = function(t, e, i, n) {
                        void 0 === e && (e = []), void 0 === i && (i = !1), void 0 === n && (n = "user"), this.scene.selectionIds = e;
                        var r = !1;
                        if (i) r = !0;
                        else {
                            for (var s = 0; s < this.scene.selection.length; s++) {
                                var a = this.scene.selection[s];
                                t.indexOf(a) < 0 && (a.selected = !1, r = !0)
                            }
                            for (var s = 0; s < t.length; s++) {
                                var a = t[s];
                                a.selected || (a.selected = !0, r = !0)
                            }
                            this.scene.selection = t
                        }
                        var o = this.updateSelectionIds();
                        r = r || o, r && (this.events.notifySceneChanges({
                            selection: !0
                        }), this.chart.notifySelectionChanged(this.chart.createEventArguments(null, n)))
                    }, e
                }(d.ChartElement);
                t.Selection = o;
                var h = function(t) {
                    function e(e) {
                        var i = t.call(this, e) || this;
                        return i.animationOrder = 500, i.paintOrder = 25, i.updateOrder = 800, i
                    }
                    return n(e, t), e.prototype.getPopupAreaMouseMoved = function(t, e) {
                        if (!this.scene.xyInChartOrBottom(t, e) || !this.scene.activeFacet) return null;
                        var i = this.scene.activeFacet,
                            n = this.scene.xToPosition(t);
                        if (isNaN(n)) return null;
                        var r = Math.floor(n),
                            s = Math.ceil(n);
                        return r === s && (s = r + 1), r < i.offset || r >= i.items.length + i.offset ? null : {
                            t0: r,
                            t1: s
                        }
                    }, e.prototype.buildHeader = function(t, e) {
                        var i = this.scene.activeFacet,
                            n = i.items[t - i.offset],
                            r = n.label || n.data.name || "",
                            s = document.createElement("bmch-strong");
                        return s.appendChild(document.createTextNode(r)), s
                    }, e
                }(l.InfoPopup);
                t.InfoPopup = h;
                var u = function(t) {
                    function e(e) {
                        var i = t.call(this, e) || this;
                        return i.facetchart = e, i
                    }
                    return n(e, t), e.prototype.computeShowLeftRight = function() {
                        return this.activeFacet = this.facetchart.scene.activeFacet, {
                            showLeft: Math.floor(this.activeFacet.from) > 0,
                            showRight: Math.ceil(this.activeFacet.to) < this.activeFacet.totalCount
                        }
                    }, e.prototype.onClickValues = function() {
                        return {
                            from: this.activeFacet.from,
                            to: this.activeFacet.to,
                            total: this.activeFacet.totalCount
                        }
                    }, e
                }(l.ScrollButtons);
                t.ScrollButtons = u;
                var p = function(t) {
                        function i(i) {
                            var n = t.call(this, d.SettingsMapping.FacetChartSettings) || this;
                            return n.area = new f, n.data = [], n.theme = p.DarkTheme,n.filters = {
                                sliceFilter: null,
                                allowZeroValues: !0
                            }, n.navigation = {
                                initialDrilldown: [""],
                                initialOffset: 0
                            }, n.items = {
                                style: {
                                    label: null,
                                    expandable: !0
                                },
                                styleFunction: null
                            }, n.chartTypes = {
                                columns: {
                                    type: "columns"
                                },
                                line: {
                                    type: "line"
                                },
                                candlestick: null
                            }, n.facetAxis = new e, n.interaction = new v, n.toolbar = new m, n.legend = new l.SettingsLegend, n.localization.toolbar.zoomoutTitle = "Zoom-out to previous level", n.apply(i), n._initializing = !1, n
                        }
                        return n(i, t), i.prototype.apply = function(e) {
                            if (this.applyCompatibility(e, [{
                                    from: "area.initialPieId",
                                    to: "navigation.initialDrilldown"
                                }, {
                                    from: "area.initialPieOffset",
                                    to: "navigation.initialOffset"
                                }]), e.series)
                                for (var i = 0; i < e.series.length; i++) {
                                    var n = e.series[i];
                                    n && void 0 !== n.styleFunction && d.Helpers.error("Setting `series[" + i + "].styleFunction` is no longer supported. Consider using `items.styleFunction` instead. See the example: https://boomcharts.com/developers/en/facet-chart/examples/series/stacked-colored.html")
                                }
                            return t.prototype.apply.call(this, e, y)
                        }, i
                    }(l.Settings);
                p.LightTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat"
                    },
                    area: {
                        style: {
                            fillColor: "rgba(236, 236, 236, 1)",
                            selection: {
                                lineColor: "rgba(143, 143, 143, 0.3)",
                                fillColor: "rgba(143, 143, 143, 0.3)"
                            }
                        }
                    },
                    title: {
                        margin: 15,
                        style: {
                            fillColor: "rgba(30, 30, 35, 1)"
                        }
                    },
                    valueAxisDefault: {
                        style: {
                            valueLabel: {
                                textStyle: {
                                    fillColor: "rgba(30, 30, 35, 1)"
                                }
                            },
                            title: {
                                textStyle: {
                                    fillColor: "rgba(30, 30, 35, 1)"
                                }
                            }
                        }
                    },
                    facetAxis: {
                        labels: {
                            textStyle: {
                                fillColor: "rgba(30, 30, 35, 1)"
                            }
                        },
                        title: {
                            textStyle: {
                                fillColor: "rgba(30, 30, 35, 1)"
                            }
                        }
                    },
                    chartTypes: {
                        columnColors: ["#4DBBC8", "#C3664A", "#AE6FB8", "#EAB74B", "#4CE4C9", "#646DC1", "#DC687D", "#B6D06C", "#56b9f7", "#2fc32f"],
                        lineColors: ["#4DBBC8", "#C3664A", "#AE6FB8", "#EAB74B", "#4CE4C9", "#646DC1", "#DC687D", "#B6D06C", "#56b9f7", "#2fc32f"]
                    },
                    legend: {
                        text: {
                            fillColor: "rgba(30, 30, 35, 1)"
                        },
                        advanced: {
                            disabledSeries: {
                                textColor: "rgba(168,167,168,0.5)",
                                lineColor: "rgba(117,117,117,0.3)"
                            }
                        }
                    }
                }, p.DarkTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-dark"
                    },
                    area: {
                        style: {
                            fillColor: "rgba(23, 23, 27, 1)",
                            selection: {
                                lineColor: "rgba(38, 38, 44, 0.3)",
                            }
                        }
                    },
                    title: {
                        margin: 15,
                        style: {
                            fillColor: "rgba(185, 185, 185, 1)"
                        }
                    },
                    valueAxisDefault: {
                        style: {
                            valueLabel: {
                                textStyle: {
                                    fillColor: "rgba(185, 185, 185, 1)"
                                }
                            },
                            title: {
                                textStyle: {
                                    fillColor: "rgba(185, 185, 185, 1)"
                                }
                            }
                        }
                    },
                    facetAxis: {
                        labels: {
                            textStyle: {
                                fillColor: "rgba(185, 185, 185, 1)"
                            }
                        },
                        title: {
                            textStyle: {
                                fillColor: "rgba(185, 185, 185, 1)"
                            }
                        }
                    },
                    legend: {
                        text: {
                            fillColor: "rgba(185, 185, 185, 1)"
                        },
                        advanced: {
                            disabledSeries: {
                                textColor: "rgba(168,167,168,0.5)",
                                lineColor: "rgba(117,117,117,0.3)"
                            }
                        }
                    }
                }, p.HorizontalTheme = {
                    horizontal: !0,
                    valueAxisDefault: {
                        side: "right",
                        style: {
                            valueLabel: {
                                angle: -90
                            },
                            labelSpacing: 30,
                            labelSpacingMode: "auto"
                        }
                    },
                    facetAxis: {
                        labels: {
                            angle: -90
                        }
                    }
                }, t.Settings = p;
                var f = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.style = new g, e
                    }
                    return n(e, t), e
                }(l.SettingsArea);
                t.SettingsArea = f;
                var g = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.selection = new s, e
                    }
                    return n(e, t), e
                }(l.SettingsAreaStyle);
                t.SettingsAreaStyle = g;
                var m = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.logScale = !0, e.zoomOut = !0, e.enabled = !0, e.items = [new d.SettingsToolbarItem("fullscreen", "left"), new d.SettingsToolbarItem("back", "left"), new d.SettingsToolbarItem("zoomOut", "left"), new d.SettingsToolbarItem("logScale", "right"), new d.SettingsToolbarItem("export", "right")], e
                    }
                    return n(e, t), e
                }(d.SettingsToolbar);
                t.SettingsToolbar = m;
                var v = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.selection = new r, e.mode = "drilldown", e.animation = {
                            scrollDuration: 500
                        }, e
                    }
                    return n(e, t), e
                }(l.SettingsInteraction);
                t.SettingsInteraction = v;
                var y = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.type = "columns", e.data = new S, e
                    }
                    return n(e, t), e.getMapping = function(t, e) {
                        if (t && e.type && t.type !== e.type) throw new Error("It is not possible to change the value of `type` property for an existing layer.");
                        switch (t ? t.type : e.type) {
                            case "columns":
                            case void 0:
                                return d.SettingsMapping.FacetChartSettingsSeriesColumns;
                            case "line":
                                return d.SettingsMapping.FacetChartSettingsSeriesLines;
                            default:
                                throw new Error("The value '" + e.type + "' is not valid for the `type` property of a series. Valid values are: columns, line.")
                        }
                    }, e.createInstance = function(t, e) {
                        switch (e || t.type) {
                            case "columns":
                            case void 0:
                                return new b;
                            case "line":
                                return new x;
                            default:
                                throw new Error("The value '" + (e || t.type) + "' is not valid for the `type` property of a series. Valid values are: columns, line.")
                        }
                    }, e
                }(l.SettingsSeries);
                t.SettingsSeries = y;
                var S = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.field = null, e.valueFunction = null, e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesData);
                t.SettingsSeriesData = S;
                var b = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.style = new w, e.data = new S, e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesColumns);
                t.SettingsSeriesColumns = b;
                var x = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.data = new S, e.style = new C, e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesLines);
                t.SettingsSeriesLines = x;
                var C = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.markerStyleFunction = null, e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesLinesStyle);
                t.SettingsSeriesLinesStyle = C;
                var w = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.previewContents = !1, e.previewLineColor = "rgba(255,255,255,.5)", e
                    }
                    return n(e, t), e
                }(l.SettingsSeriesColumnsStyle);
                t.SettingsSeriesColumnsStyle = w;
                var L = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e
                }(w);
                t.SettingsFacetStyle = L;
                var T = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.sortField = null, e.dataFunction = null, e.preloaded = null, e
                    }
                    return n(e, t), e
                }(a.SettingsData);
                t.SettingsData = T;
                var M = function() {
                    function t() {
                        this.id = null, this.data = null, this.items = [], this.parentItem = null, this.activeItemId = null, this.offset = 0, this.count = 0, this.totalCount = 0, this.from = 0, this.to = 0, this.left = 0, this.right = 1, this.opacity = 1, this.loading = null, this.rebuild = !0
                    }
                    return t.prototype.getActiveItem = function() {
                        if (!this.activeItemId) return null;
                        for (var t = 0; t < this.items.length; t++) {
                            var e = this.items[t];
                            if (e.id === this.activeItemId) return e
                        }
                        return null
                    }, t
                }();
                t.Facet = M;
                var k = function() {
                    function t(t, e, i, n) {
                        this.expandable = !0, this.selected = !1, this.active = !1, this.url = null, this.urlTarget = null, this.values = [], this.innerFacet = null, this.label = null, this.currentLabel = null, this.facet = t, this.id = e, this.index = i, this.data = n
                    }
                    return t
                }();
                t.Item = k;
                var P = function() {
                    function t(t, e, i, n, r) {
                        this.value = 0, this.label = null, this.currentLabel = null, this.style = new L, this.previewData = null, this.data = n, this.index = i, this.id = e, this.facet = t, this.seriesId = r
                    }
                    return t
                }();
                t.ItemValue = P;
                var A = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.data = null, e.stack = [], e.activeFacet = null, e.hoverItem = null, e.selection = [], e.selectionIds = [], e
                    }
                    return n(e, t), e.prototype.xToPosition = function(t) {
                        var e = this.activeFacet,
                            i = this.x0 + e.left * this.width,
                            n = this.x0 + e.right * this.width,
                            r = e.from + (t - i) / (n - i) * (e.to - e.from);
                        return r
                    }, e.prototype.positionToX = function(t) {
                        var e = this.activeFacet,
                            i = this.x0 + e.left * this.width,
                            n = this.x0 + e.right * this.width;
                        return i + (t - e.from) * (n - i) / (e.to - e.from)
                    }, e.prototype.timeToX = function(t) {
                        return this.positionToX(t)
                    }, e.prototype.xToTime = function(t) {
                        return this.xToPosition(t)
                    }, e.prototype.length = function() {
                        return this.stack.length
                    }, e.prototype.peek = function() {
                        return 0 === this.stack.length ? null : this.stack[this.stack.length - 1]
                    }, e.prototype.push = function(t, e) {
                        var i = this.peek();
                        if (i && !e)
                            for (var n = 0; n < i.items.length; n++) {
                                var r = i.items[n];
                                if (r.data.__id === t.id) {
                                    e = r;
                                    break
                                }
                            }
                        if (e) {
                            t.parentItem = e, e.innerFacet = t;
                            var s = this.getItemPlacement(e.facet, e.index);
                            t.left = s.left, t.right = s.right, i.activeItemId = e.id
                        } else i && (i.activeItemId = null);
                        this.stack.push(t), this.activeFacet = t
                    }, e.prototype.pop = function() {
                        if (this.stack.length > 0) {
                            var t = this.stack.pop();
                            t.parentItem && (t.parentItem.facet.activeItemId = null)
                        }
                        return this.stack.length > 0 ? this.activeFacet = this.peek() : this.activeFacet = null, this.activeFacet
                    }, e.prototype.getParent = function(t) {
                        for (var e = null, i = 0; i < this.stack.length; i++) {
                            var n = this.stack[i];
                            if (n === t) return e;
                            e = n
                        }
                        return null
                    }, e.prototype.getChild = function(t) {
                        for (var e = null, i = 0; i < this.stack.length; i++) {
                            var n = this.stack[i];
                            if (e === t) return n;
                            e = n
                        }
                        return null
                    }, e.prototype.updateLinks = function(t) {
                        var e = this.getParent(t),
                            i = this.getChild(t);
                        if (e && !t.parentItem)
                            for (var n = 0; n < e.items.length; n++) {
                                var r = e.items[n];
                                if (r.id === t.id) {
                                    t.parentItem = r, e.activeItemId = r.id;
                                    break
                                }
                            }
                        if (i && !i.parentItem)
                            for (var n = 0; n < t.items.length; n++) {
                                var r = t.items[n];
                                if (r.id === i.id) {
                                    i.parentItem = r, t.activeItemId = r.id;
                                    break
                                }
                            }
                    }, e.prototype.getItemPlacement = function(t, e, i) {
                        void 0 === i && (i = e);
                        var n = t.to - t.from,
                            r = t.from,
                            s = (e - r) / n,
                            a = (i - r + 1) / n;
                        return {
                            left: t.left + s * (t.right - t.left),
                            right: t.left + a * (t.right - t.left)
                        }
                    }, e.prototype.getFacetPlacementFromItem = function(t, e, i) {
                        var n = t.facet,
                            r = t.index,
                            s = r + 1,
                            a = (r - n.from) / (n.to - n.from),
                            o = (s - n.from) / (n.to - n.from),
                            l = e - a * (e - i) / (a - o),
                            h = l + (e - i) / (a - o);
                        return {
                            left: l,
                            right: h
                        }
                    }, e.prototype.findItemAt = function(t, e, i) {
                        var n = this.activeFacet;
                        if (n) {
                            if (!i && !this.xyInChart(t, e)) return null;
                            if (i && !this.xyInChartOrBottom(t, e)) return null;
                            var r = Math.floor(this.xToPosition(t));
                            if (r >= n.offset && r < n.offset + n.count) return n.items[r - n.offset]
                        }
                        return null
                    }, e
                }(l.Scene);
                t.Scene = A;
                var I = function(t) {
                    function e(e) {
                        var i = t.call(this, e) || this;
                        return i.animationOrder = 100, i.paintOrder = 10, i.updateOrder = 1100, i.animatingFacet = null, i.leftAnimator = null, i.rightAnimator = null, i.activePieReady = !1, i._shouldZoomOut = !1, i
                    }
                    return n(e, t), e.prototype.setState = function(t, e, i, n) {
                        if (0 === t.length) return void this.chart.error("setPie - array needs at least one item.");
                        for (var r = 0; this.scene.length() > t.length;) this.scene.pop(), r++;
                        for (; this.scene.length() > 0 && this.scene.peek().id !== t[this.scene.length() - 1];) this.scene.pop(), r++;
                        for (; this.scene.length() < t.length;) {
                            var s = t[this.scene.length()];
                            this.drillDown(s, null), r++
                        }
                        var a = this.scene.peek();
                        if (this.facet = a, r && this.goToPositionDragging(a.from, a.to), a.offset !== e || i && a.count !== i) {
                            var o = e,
                                l = void 0;
                            l = i > 0 ? o + i : e + (a.to - a.from), r ? (this.goToPositionDragging(o, l), this.animateFillChart()) : this.goToPosition(o, l, !0, d.Helpers.performanceNow(), !0)
                        } else r && this.animateFillChart();
                        this.chart.notifyChartUpdate(n), r && this.events.notifySceneChanges({
                            navigation: !0
                        })
                    }, e.prototype.getState = function() {
                        for (var t = [], e = 0; e < this.scene.stack.length; e++) {
                            var i = this.scene.stack[e];
                            t.push(i.id)
                        }
                        var n = this.scene.peek();
                        return {
                            idArray: t,
                            offset: n.offset,
                            count: n.count
                        }
                    }, e.prototype.goUp = function(t) {
                        if (this.scene.length() > 1) {
                            this.scene.pop();
                            var e = this.facet = this.scene.peek();
                            this.goToPositionDragging(e.from, e.to), this.animateFillChart(), this.events.notifySceneChanges({
                                navigation: !0
                            }), this.updateAndNotifyCurrent(t)
                        } else this.goToPosition(0, this.getMaxItems(), !0, d.Helpers.performanceNow(), !0)
                    }, e.prototype.getMaxItems = function() {
                        var t = this.scene.width / Math.max(this.scene.settings.facetAxis.defaultUnitWidth, this.scene.settings.facetAxis.minUnitWidth);
                        return this.facet.data.totalCount && (t = Math.min(t, this.facet.data.totalCount)), t
                    }, e.prototype.drillDown = function(t, e) {
                        this.stopAnimations();
                        var i = new M;
                        i.id = t, this.scene.push(i, null), this.chart.builder.updateFacet(i), this.facet = i, this.setFrom(i.from), this.setTo(i.to), this.animateFillChart(), this.events.notifySceneChanges({
                            navigation: !0
                        }), this.updateAndNotifyCurrent(e)
                    }, e.prototype.updateAndNotifyCurrent = function(t) {
                        this.chart.builder.updateFacet(this.facet), this.chart.notifyChartUpdate(t)
                    }, e.prototype.onSceneChange = function(t) {
                        var e = this.facet,
                            i = t.timeStamp,
                            n = t.changes.settingsChanges;
                        if (n && n.series) {
                            t.changes.items = !0;
                            for (var r = 0; r < this.scene.stack.length; r++) {
                                var s = this.scene.stack[r];
                                this.chart.builder.rebuildValues(s)
                            }
                        }
                        if ((t.changes.pieChartPieIds || t.changes.dataArrived || t.changes.data) && (this.activePieReady = !1, t.changes.data || t.changes.dataArrived))
                            for (var a = t.changes.pieChartPieIds || Object.create(null), o = 0; o < this.scene.stack.length; o++) {
                                var s = this.scene.stack[o],
                                    l = !s.data || s === e || a[s.id] || t.changes.dataDeep;
                                l && (s.rebuild = !0, this.chart.builder.updateFacet(s, t), t.changes.items = !0, this.activePieReady = this.activePieReady || s === e && !s.loading)
                            }
                        this.activePieReady && this.scene.width > 0 && (this.activePieReady = !1, this.inertiaT.finished(i) && e.from < e.to && (this.setFrom(e.from), this.setTo(e.to), this.animateFillChart()), this.chart.notifyChartUpdate(null))
                    }, e.prototype.doAnimations = function(e) {
                        var i = this.facet;
                        if (this.animatingFacet) {
                            i.left = this.leftAnimator.get(e.timeStamp), i.right = this.rightAnimator.get(e.timeStamp);
                            var n = this.leftAnimator.finished(e.timeStamp) || this.rightAnimator.finished(e.timeStamp);
                            n && (this.animatingFacet = null, this.leftAnimator = null, this.rightAnimator = null), this.events.notifySceneChanges({
                                position: !0
                            }), e.animating = !0
                        } else i.opacity = 1;
                        this.layoutFacets();
                        for (var r = 0; r < this.scene.stack.length; r++) i = this.scene.stack[r], this.chart.builder.updateFacet(i, e);
                        t.prototype.doAnimations.call(this, e)
                    }, e.prototype.xyInArea = function(t, e) {
                        return this.scene.xyInChartOrBottom(t, e)
                    }, e.prototype.xyToPosition = function(t, e) {
                        return this.scene.xToPosition(t)
                    }, e.prototype.onGoHome = function(t, e) {
                        return {
                            from: 0,
                            to: e - t,
                            origin: 0
                        }
                    }, e.prototype.handleZoomWheel = function(t, e, i, n, r) {
                        t < 0 && (e -= t, t = 0);
                        var s = this.onSnapWhileDragging(t, e, i, this.scrollingActive, r);
                        t = s.from, e = s.to;
                        var a = this.onSnapAfterDragging(t, e, i, this.scrollingActive, r);
                        return a ? void this.goToPosition(a.from, a.to, !0, n, !0) : void(this.wheelOrigin = null)
                    }, e.prototype.onStartDragging = function(t, e, i) {
                        this.stopAnim()
                    }, e.prototype.onSnapWhileDragging = function(t, e, i, n, r) {
                        var s = e - t,
                            a = this.facet,
                            o = a.totalCount,
                            l = 0,
                            h = 1,
                            u = !1;
                        return this.scene.stack.length > 1 && (s > 2 * o || this.scene.width / s < this.scene.settings.facetAxis.zoomOutUnitWidth) && (u = !0), this._shouldZoomOut = u, a.left = l, a.right = h, {
                            from: t,
                            to: e
                        }
                    }, e.prototype.onSnapAfterDragging = function(t, e, i, n, r) {
                        if (this._shouldZoomOut) return this._shouldZoomOut = !1, this.goUp("user"), null;
                        var s = this.snap(t, e, i, n, r);
                        return t = s.from, e = s.to, this.animateFillChart(), this.chart.notifyChartUpdate("user"), {
                            from: t,
                            to: e
                        }
                    }, e.prototype.onPositionChanged = function(t, e) {
                        var i = this.facet;
                        i.from = t, i.to = e, this.chart.builder.updateFacet(i), this.events.notifySceneChanges({
                            position: !0
                        })
                    }, e.prototype.onAnimationDone = function(t, e) {
                        this.chart.notifyChartUpdate(null), this.chart.notifyAnimationDone()
                    }, e.prototype.snap = function(t, e, i, n, r) {
                        var s = this.facet,
                            a = s.totalCount;
                        s.right < 1 && (0 === s.right && (s.right = 1e-10), e = t + (e - t) / s.right), s.left > 0 && (1 === s.left && (s.left = 1 - 1e-10), t = e - (e - t) / (1 - s.left));
                        var o = this.scene.width / (e - t),
                            l = o;
                        a > 0 && (l = Math.max(l, this.scene.width / a)), l = Math.max(Math.min(this.scene.settings.facetAxis.maxUnitWidth, l), this.scene.settings.facetAxis.minUnitWidth);
                        var h = o / l;
                        if (t = i + (t - i) * h, e = i + (e - i) * h, t = Math.round(t), e = Math.round(e), t < 0) e -= t, t = 0;
                        else if (e > a) {
                            var u = Math.max(0, a - (e - t));
                            e = e - t + u, t = u
                        }
                        return {
                            from: t,
                            to: e
                        }
                    }, e.prototype.animateFillChart = function() {
                        0 === this.facet.left && 1 === this.facet.right && this.animatingFacet === this.facet || (this.animatingFacet = this.facet, this.leftAnimator = new d.Animator(this.facet.left, 0, this.scene.settings.interaction.animation.scrollDuration, "<>"), this.rightAnimator = new d.Animator(this.facet.right, 1, this.scene.settings.interaction.animation.scrollDuration, "<>"), this.events.notifySceneChanges({
                            requestPaint: !0
                        }))
                    }, e.prototype.stopAnim = function() {
                        var t = this.facet;
                        this.animatingFacet && (t.opacity = 1, this.animatingFacet = null), this.leftAnimator && (t.left = this.leftAnimator.get(1 / 0), this.leftAnimator = null), this.rightAnimator && (t.right = this.rightAnimator.get(1 / 0), this.rightAnimator = null), this.layoutFacets()
                    }, e.prototype.layoutFacets = function() {
                        for (var t = this.scene.stack.length - 2; t >= 0; t--) {
                            var e = this.scene.stack[t + 1],
                                i = this.scene.stack[t];
                            if (e.parentItem) {
                                var n = this.scene.getFacetPlacementFromItem(e.parentItem, e.left, e.right);
                                i.left = n.left, i.right = n.right
                            }
                            i.opacity = e.left > 0 || e.right < 1 ? .5 : 0
                        }
                        this._shouldZoomOut ? (this.facet.opacity = .65, this.facet.parentItem && this.facet.parentItem.facet && (this.facet.parentItem.facet.opacity = 1)) : this.facet.opacity = 1
                    }, e
                }(l.Scrolling);
                t.Scrolling = I;
                var D = function() {
                    function t(t, e, n) {
                        this.bounds = {
                            x0: 0,
                            y0: 0,
                            width: 0,
                            height: 0
                        }, this.facet = n, this.chart = e, this.scene = this.chart.scene, this.valueAxis = new l.ValueAxisSet(this.chart, this.scene.settings._computedValueAxisList), this.xes = [], this.facetAxis = new i(e, n), this.r = new l.Renderer(this.chart, this.valueAxis)
                    }
                    return t.prototype.getPanels = function(t) {
                        var e = this.valueAxis.getPanels(!0);
                        return e.push(this.facetAxis.getPanel(t, this.xes)), e
                    }, t.prototype.setPanels = function(t) {
                        this.valueAxis.setPanels(t), this.facetAxis.panel = t[t.length - 1]
                    }, t.prototype.doAnimations = function(t, e) {
                        var i = e.x0,
                            n = e.y0,
                            r = e.width,
                            s = e.height,
                            a = this.facet,
                            o = a.offset,
                            l = a.left,
                            h = a.right;
                        l = i + r * l, h = i + r * h;
                        var u = Math.max(i, l),
                            c = Math.min(i + r, h);
                        this.bounds = {
                            x0: u,
                            y0: n,
                            width: c - u,
                            height: s
                        };
                        var d = t.changes;
                        if (d.position || d.data || d.bounds || d.items) {
                            for (var p = (h - l) / (a.to - a.from), f = l - a.from * p, g = a.count, m = o, v = o + g, y = new Array(g + 1), S = new Array(g + 1), b = m; b < v + 1; b++) y[b - m] = b, S[b - m] = b * p + f;
                            this.xes = S;
                            for (var x = new Array(this.scene.settings._computedSeries.length), C = 0; C < x.length; C++) {
                                for (var w = new Array(g), L = new Array(g), T = new Array(g), b = m; b < v; b++) {
                                    var M = this.facet.items[b - o],
                                        k = M.values[C];
                                    w[b - m] = k.value, T[b - m] = 1, L[b - m] = k
                                }
                                x[C] = {
                                    xes: S,
                                    times: y,
                                    counts: T,
                                    fromIndex: 0,
                                    toIndex: g + 1,
                                    values: w,
                                    config: L,
                                    externalItems: function(t, e) {
                                        return this.config.slice(t, e)
                                    }
                                }
                            }
                            this.r.process(x)
                        }
                        this.valueAxis.updateMinMax(t), this.r.afterProcess(), this.valueAxis.doAnimations(t)
                    }, t.prototype.paintScene = function(t) {
                        var e = t.context,
                            i = this.bounds,
                            n = this.facet.opacity,
                            r = 1 === n ? n : .2;
                        0 !== n && (e.globalAlpha = r, this.valueAxis.paintUnder(t), e.globalAlpha = n, d.Graphics.pushClip(t, i.x0, i.y0, i.width, i.height), this.r.paint(t), d.Graphics.popClip(t), e.globalAlpha = r, this.facetAxis.paint(t, i.x0, i.width, this.xes), this.valueAxis.paint(t), e.globalAlpha = 1)
                    }, t
                }();
                t.Layer = D;
                var N = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 400, i.paintOrder = 5, i.updateOrder = 1200, i.chart = e, i.scene = i.chart.scene, i.events = i.chart.events, i.layers = [], i.panels = [], i
                    }
                    return n(e, t), e.prototype.onSceneChange = function(t) {
                        var e = t.changes,
                            i = this.chart.settings.horizontal || e.dataArrived || e.items || e.changedItems;
                        if (e.settings || e.navigation || e.linearChartSeries || e.linearChartValueAxis || i) {
                            var n = e.settingsChanges;
                            e.linearChartValueAxis || n && n.facetAxis ? (e.bounds = !0, this.layers = []) : e.linearChartSeries && (this.layers = []);
                            for (var r = 0; r < this.layers.length; r++) {
                                var s = this.layers[r];
                                s.facet !== this.scene.stack[r] && (this.layers = this.layers.slice(0, r))
                            }
                            for (; this.layers.length < this.scene.stack.length;) {
                                var a = this.scene.stack[this.layers.length],
                                    o = new D(t, this.chart, a);
                                this.layers.push(o)
                            }
                            0 === this.layers.length && this.layers.push(new D(t, this.chart, new M)), this.updatePanels(t), i && (e.bounds = !0)
                        }
                    }, e.prototype.updatePanels = function(t) {
                        var e = this.layers[0].getPanels(t);
                        this.panels = e.filter(function(t) {
                            return null != t
                        });
                        for (var i = 0; i < this.layers.length; i++) this.layers[i].setPanels(e)
                    }, e.prototype.getPanels = function() {
                        return this.panels
                    }, e.prototype.doAnimations = function(t) {
                        for (var e = 0; e < this.layers.length; e++) {
                            var i = this.layers[e];
                            i.doAnimations(t, this.scene)
                        }
                    }, e.prototype.paintScene = function(t) {
                        var e = this.chart.settings.horizontal,
                            i = t.context;
                        e && i.transform.apply(i, this.chart.scene.transform);
                        for (var n = 0; n < this.layers.length; n++) {
                            var r = this.layers[n];
                            r.paintScene(t)
                        }
                        e && i.transform.apply(i, this.chart.scene.invertedTransform)
                    }, e.prototype.exportData = function(t, e) {
                        return this.layers[this.layers.length - 1].r.exportData(t, e)
                    }, e.prototype.hitTest = function(t, e) {
                        var i = this.scene,
                            n = this.layers;
                        return i.xyInChart(t, e) && n.length > 0 ? n[n.length - 1].r.hitTest(t, e, i.settings.interaction.selection.tolerance) : null
                    }, e
                }(d.ChartElement);
                t.Renderer = N;
                var O = function() {
                    function t(t) {
                        this.chart = t, this.scene = t.scene, this.loading = !1
                    }
                    return t.prototype.updateFacet = function(t, e) {
                        void 0 === e && (e = null);
                        var i = this.chart.getData("default"),
                            n = t.data;
                        if ((!n || e && (e.changes.data || e.changes.dataArrived || e.changes.filters)) && (n = t.data = i.getPieData(t.id), !n)) return t.loading = !0, void i.requestPieData(t.id, Math.floor(t.from));
                        var r = !1;
                        if (this.scene.width && (!(t.from < t.to) || t.rebuild)) {
                            var s = this.chart && this.chart.toolbar && this.chart.toolbar.panelList && this.chart.toolbar.panelList.length > 0 && this.chart.toolbar.panelList[0].leftPanel ? d.Helpers.extractCSSTransformScale(this.chart.toolbar.panelList[0].leftPanel.style.transform, 1, 1) : [1, 1];
                            t.rebuild = !1;
                            var a = .8 * this.scene.width,
                                o = t && t.items ? t.items.reduce(function(t, e) {
                                    return Math.max(t, e && e.currentLabel ? 2 * e.currentLabel.hheight : 1)
                                }, 1) : 1,
                                l = 16,
                                h = this.chart.isHorizontal() && o ? Math.min(1, l / o) * s[0] : 1,
                                u = Math.max(1, a / (this.scene.settings.facetAxis.maxUnitWidth * s[0])),
                                c = Math.max(1, h * a / Math.max(this.scene.settings.facetAxis.defaultUnitWidth * s[0], this.scene.settings.facetAxis.minUnitWidth * s[0]));
                            n.totalCount && (c = Math.min(n.totalCount, c)), c = Math.max(u, c), t.offset = Math.floor(t.from), t.count = 0, t.to = t.from + Math.floor(c), t.items = []
                        }
                        var p = Math.max(0, Math.floor(t.from) - 2),
                            f = Math.ceil(t.to + 2),
                            g = n.values.length + n.offset,
                            m = n.offset;
                        t.loading = !1, m > p && (p = m, i.requestLessPieData(t.id), t.loading = !0), g < f && (f = g, n.done || (i.requestMorePieData(t.id), t.loading = !0));
                        var v = t.offset + t.items.length;
                        if ((f < t.offset || p > v) && (t.offset = p, t.items = [], v = p), p > t.offset) t.items = t.items.slice(p - t.offset);
                        else if (p < t.offset) {
                            for (var y = [], S = p; S <= t.offset - 1; S++) y.push(this.buildItem(t, n, S));
                            t.items = y.concat(t.items), r = !0
                        }
                        if (t.offset = p, f < v) t.items = t.items.slice(0, f - t.offset);
                        else if (f > v) {
                            for (var S = v; S < f; S++) t.items.push(this.buildItem(t, n, S));
                            r = !0
                        }
                        if (t.count = t.items.length, t.totalCount = Math.max(t.offset + t.count, n.totalCount || 0), r) {
                            if (e) e.changes.items = !0, e.changes.changedItems || (e.changes.changedItems = {}), e.changes.changedItems[t.id] = !0;
                            else {
                                var b = {};
                                b[t.id] = !0, this.chart.events.notifySceneChanges({
                                    items: !0,
                                    changedItems: b
                                })
                            }
                            this.resetSelection() && this.chart.events.notifySceneChanges({
                                items: !0
                            })
                        }
                        this.scene.updateLinks(t)
                    }, t.prototype.resetSelection = function() {
                        for (var t = this.scene, e = 0, i = t.selection; e < i.length; e++) {
                            var n = i[e];
                            t.selectionIds.push(n.id), n.selected = !1
                        }
                        return t.selection = [], t.selectionIds.length > 0
                    }, t.prototype.rebuildValues = function(t) {
                        for (var e = 0; e < t.items.length; e++) {
                            var i = t.items[e];
                            this.updateItem(i)
                        }
                    }, t.prototype.buildItem = function(t, e, i) {
                        var n = e.values[i - e.offset],
                            r = new k(t, n.__id, i, n);
                        return this.updateItem(r), r
                    }, t.prototype.updateItem = function(t) {
                        for (var e = [], i = 0; i < this.scene.settings._computedSeries.length; i++) {
                            var n = this.scene.settings._computedSeries[i],
                                r = new P(t.facet, t.id, t.index, t.data, n.id);
                            t.data ? r.value = this.getSeriesValue(t.data, n) : r.value = null, e.push(r)
                        }
                        t.values = e
                    }, t.prototype.getSeriesValue = function(t, e) {
                        var i = e.data.valueFunction,
                            n = null;
                        if (i) n = i(t);
                        else {
                            var r = e.data.field || "value";
                            n = t[r]
                        }
                        return d.Helpers.tryParseFloat(n, null)
                    }, t.prototype.buildPreviewData = function(t, e) {
                        var i = t.id,
                            n = this.scene.mainData,
                            r = n.getPieData(i),
                            s = null;
                        if (r)
                            if (r.offset > 0) n.requestLessPieData(t.id);
                            else {
                                s = [];
                                for (var a = 0, o = 0; o < r.values.length; o++) {
                                    var l = r.values[o],
                                        h = this.getSeriesValue(l, e);
                                    s.push(h), a += h
                                }
                                if (a > 0) {
                                    a = 1 / a;
                                    for (var u = 0; u < s.length; u++) s[u] = s[u] * a
                                } else s = null
                            }
                        else t.expandable && n.canExpand(i) && n.requestPieData(t.id, 0);
                        return s
                    }, t
                }();
                t.Builder = O;
                var F = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 200, i.paintOrder = 20, i.updateOrder = 900, i.chart = e, i.scene = e.scene, i
                    }
                    return n(e, t), e.prototype.doAnimations = function(t) {
                        var e = t.changes;
                        if (e.settings || e.items || e.selection || e.navigation || e.style) {
                            var i = this.scene.activeFacet;
                            if (i)
                                for (this.computeFacetStyleRec(i); i && i.parentItem;) i = i.parentItem.facet, this.computeFacetStyleRec(i)
                        }
                    }, e.prototype.computeFacetStyleRec = function(t) {
                        this.computeFacetStyle(t);
                        for (var e = 0; e < t.items.length; e++) {
                            var i = t.items[e];
                            this.computeItemStyle(t, i), i.innerFacet && this.computeFacetStyleRec(i.innerFacet)
                        }
                    }, e.prototype.computeFacetStyle = function(t) {}, e.prototype.computeItemStyle = function(t, e) {
                        var i = this.scene.settings._computedSeries;
                        if (d.Helpers.extendStyleTo(this.scene.settings.items.style, e), e.data.style && d.SettingsHelper.updateRecursive(e, e.data.style, d.SettingsMapping.FacetChartSettingsFacetStyle, {}), e.id === e.facet.activeItemId)
                            for (var n = 0; n < e.values.length; n++) {
                                var r = e.values[n];
                                r.style.fillColor = null, r.style.lineColor = null
                            } else
                                for (var n = 0; n < e.values.length; n++) {
                                    var r = e.values[n];
                                    d.Helpers.extendStyleTo(d.Helpers.realClone(i[n].style), r.style)
                                }
                        if (this.scene.settings.items.styleFunction ? (this.scene.settings.items.styleFunction(e, e.data), e.label && !d.Helpers.isString(e.label) && (e.label = "" + e.label)) : e.data.name && (e.label = e.data.name), e.id !== e.facet.activeItemId)
                            for (var n = 0; n < e.values.length; n++) {
                                var r = e.values[n],
                                    s = i[n];
                                r.style.previewContents ? r.previewData = this.chart.builder.buildPreviewData(e, s) : r.previewData = null
                            } else e.values[e.values.length - 1].previewData = null
                    }, e
                }(d.ChartElement);
                t.Styles = F;
                var E = function(t) {
                    function e(e, i) {
                        var n = t.call(this, new p(e), new A, i) || this;
                        return n.builder = new O(n), n.renderer = n.events.addElement(new N(n)), n.scrolling = n.events.addElement(new I(n)), n.selection = n.events.addElement(new o(n)), n.events.addElement(new F(n)), n.infoPopup = new h(n), n.events.addElement(n.infoPopup), n.events.addElement(new l.Highlights(n)), n.scrollButtons = n.events.addElement(new u(n)), n.finalInitialize(), n.scrolling.setState(n.settings.navigation.initialDrilldown, n.settings.navigation.initialOffset, 0, "init"), n
                    }
                    return n(e, t), e.prototype.createDataObj = function(t) {
                        return new a.Data(this, t, !0)
                    }, e.prototype.getData = function(e) {
                        return t.prototype.getData.call(this, e)
                    }, e.prototype.onSettingsChanged = function(t) {
                        var e = {
                            settings: !0,
                            settingsChanges: t
                        };
                        t.navigation && this.scrolling.setState(this.settings.navigation.initialDrilldown, this.settings.navigation.initialOffset, null, "api"), (t.series || t.interaction) && (e.items = !0), this.events.notifySceneChanges(e), (t.data || t.facetAxis) && this.updateSize(!0)
                    }, e.prototype.updateFilters = function() {
                        return this.updateFilter(!0)
                    }, e.prototype.updateFilter = function(t) {
                        void 0 === t && (t = !1), this.log("Update filter");
                        var e = {};
                        for (var i in this.settings._computedDataMap) e[i] = !0;
                        this.events.notifySceneChanges({
                            data: e,
                            dataDeep: t
                        })
                    }, e.prototype.setSelection = function(t, e) {
                        void 0 === e && (e = "api"), this.log("Set selection");
                        for (var i = [], n = [], r = 0; r < t.length; r++) {
                            var s = t[r];
                            s instanceof k ? i.push(s) : d.Helpers.isString(s) ? n.push(s) : this.error("SetSelection: Selection contents must be FacetChart.Item object or string, got " + typeof s)
                        }
                        this.selection.setSelection(i, n, !1, e)
                    }, e.prototype.exportVisibleData = function() {
                        var t = this.scene.peek();
                        return t ? a.Data.exportValues(t.data) : []
                    }, e.prototype.setPie = function(t, e, i, n) {
                        void 0 === i && (i = null), void 0 === n && (n = !0), this.log("Set pie"), this.scrolling.setState(t, e, i, "api")
                    }, e.prototype.getPie = function() {
                        return this.scrolling.getState().idArray
                    }, e.prototype.getPieOffset = function() {
                        return this.scrolling.getState().offset
                    }, e.prototype.getActiveItems = function() {
                        for (var t = [], e = 0; e < this.scene.stack.length; e++) {
                            var i = this.scene.stack[e];
                            i.parentItem && t.push(i.parentItem)
                        }
                        return t
                    }, e.prototype.getActiveFacets = function() {
                        return this.scene.stack
                    }, e.prototype.zoomOut = function(t, e) {
                        void 0 === t && (t = !0), void 0 === e && (e = "api"), this.setSelection([], e), this.scrolling.goUp(e)
                    }, e.prototype.zoomOutPossible = function() {
                        var t = this.scene;
                        return t.length() > 1 || t.peek() && t.peek().offset > 0
                    }, e.prototype.getBottomHeight = function() {
                        return this.scene.chartHeight - this.settings.facetAxis.size
                    }, e.prototype.expandItem = function(t, e) {
                        var i = t.facet;
                        if (i === this.scene.peek()) {
                            var n = t.id;
                            if (t.expandable && this.scene.mainData.canExpand(n)) return this.setSelection([], e), this.scrolling.drillDown(n, e), !0
                        }
                        return !1
                    }, e.prototype.saveNavigation = function() {
                        var t = this.scene.peek();
                        return !t || this.scrolling.isActive() ? null : this.scrolling.getState()
                    }, e.prototype.restoreNavigation = function(t, e, i) {
                        return this.scrolling.setState(t.idArray, t.offset, t.count, i)
                    }, e.prototype.save = function() {
                        for (var t = this.scene.selectionIds.splice(0), e = 0; e < this.scene.selection.length; e++) {
                            var i = this.scene.selection[e];
                            t.push(i.id)
                        }
                        var n = this.scrolling.getState();
                        return JSON.stringify({
                            pie: n.idArray,
                            offset: n.offset,
                            count: n.count,
                            selection: t
                        })
                    }, e.prototype.restore = function(t, e) {
                        if (t) {
                            var i = JSON.parse(t);
                            this.setPie(i.pie, i.offset, i.count, e), this.setSelection(i.selection)
                        }
                    }, e.prototype.createEventArguments = function(t, e, i) {
                        var n = this.scene;
                        if (!n) return {
                            chart: this.api,
                            origin: e
                        };
                        var r = n.peek(),
                            s = i && i.facet,
                            a = n.hoverSeriesItem,
                            o = a && null != a.seriesIndex ? n.settings._computedSeries[a.seriesIndex] : null;
                        return {
                            chart: this.api,
                            origin: e,
                            facet: r,
                            offset: r && r.offset,
                            count: r && r.count,
                            hoverItem: n.hoverItem,
                            hoverSeries: o,
                            hoverMarker: !!a && a.isMarker,
                            selection: n.selection.slice(),
                            clickItem: i,
                            clickFacet: s,
                            clickOrigin: null
                        }
                    }, e.prototype.defaultClick = function(t, e) {
                        this.selection.defaultClick(t, e)
                    }, e.prototype.remove = function() {
                        t.prototype.remove.call(this), this.infoPopup.remove()
                    }, e
                }(l.Impl);
                t.Impl = E
            }(s = i.FacetChart || (i.FacetChart = {})),
            function(e) {
                function r(t) {
                    return t ? t.properties && t.properties.id && d.Helpers.isString(t.properties.id) ? t.properties.id : t.id : null
                }

                function s(t) {
                    if (!Array.isArray(t)) return "GeoJSON LineString data contained invalid coordinate collection.";
                    if (t.length < 2) return "GeoJSON LineString data must contain at least 2 points.";
                    for (var e = new Array(2 * t.length), i = 0; i < t.length; i++) {
                        var n = t[i];
                        if (!n || !d.Helpers.isNumber(n[0]) || !d.Helpers.isNumber(n[1])) return "GeoJSON LineString data contained invalid coordinates.";
                        e[2 * i] = n[0], e[2 * i + 1] = n[1]
                    }
                    return e
                }

                function a(t, e) {
                    if (!Array.isArray(t)) return "GeoJSON Polygon data contained invalid coordinate collection.";
                    if (t.length < 1) return "GeoJSON Polygon data doesn't contain any LinearRings.";
                    for (var i = 0; i < t.length; i++) {
                        var n = s(t[i]);
                        if (d.Helpers.isString(n)) return n;
                        e.push(n)
                    }
                    return null
                }

                function o(t) {
                    return d.Helpers.isNumber(t[0]) && d.Helpers.isNumber(t[1]) ? [t[0], t[1]] : "GeoJSON data contained invalid coordinates."
                }

                function l(t) {
                    var e = [],
                        i = a(t.coordinates, e);
                    return i ? i : e
                }

                function c(t) {
                    var e = t.coordinates;
                    if (!Array.isArray(e)) return "GeoJSON MultiPolygon data contained invalid coordinates";
                    if (e.length < 1) return "GeoJSON MultiPolygon data doesn't contain any Polygons.";
                    for (var i = [], n = 0; n < e.length; n++) {
                        var r = a(e[n], i);
                        if (r) return r
                    }
                    return i
                }

                function p(t) {
                    var e = s(t.coordinates);
                    return d.Helpers.isString(e) ? e : [e]
                }

                function f(t) {
                    var e = t.coordinates;
                    if (!Array.isArray(e)) return "GeoJSON MultiLineString data contained invalid coordinates";
                    if (e.length < 1) return "GeoJSON MultiLineString data doesn't contain any lines.";
                    for (var i = new Array(e.length), n = 0; n < e.length; n++) {
                        var r = s(e[n]);
                        if (d.Helpers.isString(r)) return r;
                        i[n] = r
                    }
                    return i
                }

                function g(t, e, i, n, s, a) {
                    d.Helpers.isString(e) ? a(e, n) : t.push({
                        _x: 0,
                        _y: 0,
                        id: r(n),
                        loaded: !0,
                        coordinates: e,
                        type: i,
                        shapeFeature: n,
                        shapeGeometry: s
                    })
                }

                function m(t, e, i, n) {
                    if (!Array.isArray(e.coordinates)) return void n("GeoJSON data contained invalid object.", i);
                    switch (e.type) {
                        case "Point":
                            g(t, o(e.coordinates), "point", i, e, n);
                            break;
                        case "MultiPoint":
                            var r = e;
                            if (Array.isArray(r.coordinates))
                                for (var s = 0; s < r.coordinates.length; s++) g(t, o(r.coordinates[s]), "point", i, e, n);
                            else n("GeoJSON data contained invalid MultiPoint object.", i);
                            break;
                        case "LineString":
                            g(t, p(e), "line", i, e, n);
                            break;
                        case "MultiLineString":
                            g(t, f(e), "line", i, e, n);
                            break;
                        case "Polygon":
                            g(t, l(e), "polygon", i, e, n);
                            break;
                        case "MultiPolygon":
                            g(t, c(e), "polygon", i, e, n);
                            break;
                        default:
                            return void n('GeoJSON data contained unknown object with type "' + e.type + '" .', i)
                    }
                }

                function v(t, e, i, n) {
                    if ("GeometryCollection" === e.type) {
                        var r = e;
                        if (Array.isArray(r.geometries))
                            for (var s = 0; s < r.geometries.length; s++) v(t, r.geometries[s], i, n);
                        else n("GeoJSON data contained invalid GeometryCollection object.", i)
                    } else m(t, e, i, n)
                }

                function y(t, e, i) {
                    return e.geometry && "Feature" === e.type ? void v(t, e.geometry, e, i) : void i("GeoJSON data contained invalid feature object.", e)
                }

                function S(t, e, i) {
                    if (!Array.isArray(e.features) || "FeatureCollection" !== e.type) return void i("GeoJSON data contained invalid FeatureCollection object.", null);
                    for (var n = 0; n < e.features.length; n++) y(t, e.features[n], i)
                }

                function b(t, e) {
                    function i(t, i) {
                        e.error("Error: " + t + " Feature id: '" + r(i) + "'")
                    }
                    if (!t) return [];
                    var n = [];
                    switch (t.type) {
                        case "FeatureCollection":
                            S(n, t, i);
                            break;
                        case "Feature":
                            y(n, t, i);
                            break;
                        case "GeometryCollection":
                            v(n, t, null, i);
                            break;
                        case "Point":
                        case "MultiPoint":
                        case "LineString":
                        case "MultiLineString":
                        case "Polygon":
                        case "MultiPolygon":
                            m(n, t, null, i);
                            break;
                        default:
                            return void i('GeoJSON data contained unknown object with type "' + t.type + '" .', null)
                    }
                    for (var s = {
                            "##default": 0
                        }, a = 0; a < n.length; a++) {
                        var o = n[a];
                        null == o.id ? o.id = "##default" + d.Helpers.SeparatorChar + s["##default"]++ : d.Helpers.hasProperty(s, o.id) ? o.id += d.Helpers.SeparatorChar + s[o.id]++ : s[o.id] = 0
                    }
                    return n
                }
                e.convertFromGeoJson = b;
                var x = function() {
                    function t(t, e, i) {
                        this.nodes = {}, this.links = {}, this.area = new d.AreaCollection, this.requestedArea = new d.AreaCollection, this.pendingArea = null, this.cacheId = i, this.id = e, this.level = t
                    }
                    return t
                }();
                e.DataLayer = x;
                var C = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.dataFunction = null, e.preloaded = null, e.prefetchRatio = 1, e.bounds = [-180, -85.0511287798, 180, 85.0511287798], e.wrapLng = !0, e.maxRequestRect = [256, 256], e.perBoundsData = !0, e.perZoomData = !1, e.perDrilldownData = !1, e.useGridBasedAggregation = !1, e.aggregationGridSize = 100, e.aggregationMinCount = 5, e
                    }
                    return n(e, t), e
                }(u.SettingsData);
                e.SettingsData = C;
                var w = function(t) {
                    function e(e, i) {
                        var n = t.call(this, e, i) || this;
                        n.layers = {}, n.pendingLayers = [], n.nextId = 0, n.aggregationGridSize = 1, n.zoomLevel = null, n.projectFun = function(t, e) {
                            return n.chart.scene.project(t, e)
                        }, n.unprojectFun = function(t, e) {
                            return n.chart.scene.unproject(t, e)
                        };
                        var r = n.projectFun(n.dataSettings.bounds[0], n.dataSettings.bounds[1]),
                            s = n.projectFun(n.dataSettings.bounds[2], n.dataSettings.bounds[3]);
                        return n.projectedBounds = new d.Rect(Math.min(r.x, s.x), Math.min(r.y, s.y), Math.max(r.x, s.x), Math.max(r.y, s.y)), n
                    }
                    return n(e, t), e.prototype.getProjectedBounds = function() {
                        return this.projectedBounds
                    }, e.prototype.setViewParams = function(t, e, i, n, r) {
                        this.dataSettings.perZoomData ? this.zoomLevel = e : this.zoomLevel = null, this.aggregationGridSize = t, this.loadDataArea = this.buildRectArea(r), this.returnDataArea = this.buildRectArea(n), this.visibleArea = this.buildRectArea(i), this.pendingLayers = []
                    }, e.prototype.getLayer = function(t) {
                        var e = "",
                            i = null;
                        t && (e += "" + t), null !== this.zoomLevel && (e += "#z" + this.zoomLevel, i = this.zoomLevel);
                        var n;
                        return n = this.layers.hasOwnProperty(e) ? this.layers[e] : this.layers[e] = new x(i, t, e), this.lastLayer = n, n
                    }, e.prototype.getData = function(t) {
                        var e, i = this.getLayer(t);
                        i.area.coversArea(this.loadDataArea) ? (i.pendingArea = new d.AreaCollection, e = !1) : i.requestedArea.coversArea(this.loadDataArea) ? e = this.hasPendingRequests() : (i.pendingArea = this.loadDataArea.makeCopy().subtractArea(i.requestedArea), i.pendingArea.isEmpty() || (this.pendingLayers.indexOf(i) < 0 && this.pendingLayers.push(i), this.scheduleRequests(!0)), e = this.hasPendingRequests());
                        var n = this.applyFilters(i, this.returnDataArea);
                        return this.chart.log("Data: returned " + n.nodes.length + " nodes and " + n.links.length + " links for ID: " + t + ", loading=" + e), {
                            nodes: n.nodes,
                            links: n.links,
                            hasData: i.area.intersectsArea(this.visibleArea),
                            loading: e
                        }
                    }, e.prototype.applyFilters = function(t, e) {
                        var i, n, r = e.toRects(),
                            s = this.settings.filters.nodeFilter,
                            a = [],
                            o = [],
                            l = {};
                        for (var h in t.nodes) {
                            var u = t.nodes[h],
                                c = u._bounds,
                                d = !s || s(u);
                            if (d)
                                for (i = 0; i < r.length; i++)
                                    if (n = r[i], n.overlapsRect(c.x0, c.y0, c.x1, c.y1)) {
                                        a.push(u), l[h] = !0;
                                        break
                                    }
                        }
                        for (var h in t.links) {
                            var p = t.links[h],
                                f = l[p.from],
                                g = l[p.to];
                            if (f || g) o.push(p), f || (l[p.from] = !0, a.push(t.nodes[p.from])), g || (l[p.to] = !0, a.push(t.nodes[p.to]));
                            else {
                                var m = t.nodes[p.from],
                                    v = t.nodes[p.to];
                                if (m._x && v._x) {
                                    var y = m._x,
                                        S = m._y,
                                        b = v._x,
                                        x = v._y;
                                    for (i = 0; i < r.length; i++)
                                        if (n = r[i], n.intersectsSegment(y, S, b, x)) {
                                            a.push(m), a.push(v), l[p.from] = !0, l[p.to] = !0;
                                            break
                                        }
                                }
                            }
                        }
                        return {
                            nodes: a,
                            links: o
                        }
                    }, e.prototype.unprojectRect = function(t) {
                        var e = this.unprojectFun(t.x0, t.y0),
                            i = this.unprojectFun(t.x1, t.y1);
                        return new d.Rect(Math.min(e.lng, i.lng), Math.min(e.lat, i.lat), Math.max(e.lng, i.lng), Math.max(e.lat, i.lat))
                    }, e.prototype.projectRect = function(t) {
                        var e = this.projectFun(t.x0, t.y0),
                            i = this.projectFun(t.x1, t.y1);
                        return new d.Rect(Math.min(e.x, i.x), Math.min(e.y, i.y), Math.max(e.x, i.x), Math.max(e.y, i.y))
                    }, e.prototype.buildRectArea = function(t) {
                        var e = this.projectedBounds,
                            i = t.x0,
                            n = t.y0,
                            r = t.x1,
                            s = t.y1,
                            a = new d.AreaCollection;
                        if (n = Math.max(n, e.y0), s = Math.min(s, e.y1), this.dataSettings.wrapLng) {
                            var o = e.x1 - e.x0;
                            if (r - i > o) i = e.x0, r = e.x1;
                            else {
                                for (; i < e.x0;) i += o, r += o;
                                for (; i > e.x1;) i -= o, r -= o
                            }
                            r <= e.x1 ? a.addRect(new d.Rect(i, n, r, s)) : (a.addRect(new d.Rect(i, n, e.x1, s)), a.addRect(new d.Rect(e.x0, n, r - o, s)))
                        } else a.addRect(t.clone().clip(e));
                        return a
                    }, e.prototype.buildRequest = function() {
                        if (this.pendingLayers.length > 0) {
                            var t = this.pendingLayers[0],
                                e = t.pendingArea.findOverlappingRect(this.dataSettings.maxRequestRect[0], this.dataSettings.maxRequestRect[1]);
                            t.pendingArea.subtractRect(e), t.pendingArea.isEmpty() && d.Helpers.removeFromArray(this.pendingLayers, t);
                            var i = e,
                                n = [],
                                r = [];
                            if (this.dataSettings.useGridBasedAggregation) {
                                var s = this.buildAggregationRequest(e);
                                i = s.rectangle, n = s.xcuts, r = s.ycuts
                            }
                            t.requestedArea.addRect(i);
                            var a = this.unprojectRect(i);
                            return {
                                id: t.id,
                                layerId: t.cacheId,
                                west: a.x0,
                                north: a.y1,
                                east: a.x1,
                                south: a.y0,
                                zoom: this.zoomLevel,
                                aggregateLat: r,
                                aggregateLng: n,
                                aggregateMinItems: this.dataSettings.aggregationMinCount
                            }
                        }
                        return null
                    }, e.prototype.buildAggregationRequest = function(t) {
                        for (var e = this.aggregationGridSize, i = Math.floor(t.x0 / e) * e, n = Math.ceil(t.x1 / e) * e, r = Math.floor(t.y0 / e) * e, s = Math.ceil(t.y1 / e) * e, a = this.dataSettings.bounds[0], o = this.dataSettings.bounds[1], l = this.dataSettings.bounds[2], h = this.dataSettings.bounds[3], u = [], c = [], p = i; p <= n; p += e) u.push(Math.min(Math.max(this.unprojectFun(p, r).lng, a), l));
                        for (var f = r; f <= s; f += e) c.push(Math.min(Math.max(this.unprojectFun(i, f).lat, o), h));
                        return {
                            rectangle: new d.Rect(i, r, n, s),
                            xcuts: u,
                            ycuts: c
                        }
                    }, e.prototype.dataFunc = function(t, e, i) {
                        var n = this.dataSettings;
                        if (n.dataFunction) n.dataFunction(t, e, i);
                        else if (n.url) {
                            var r = [
                                ["id", t.id],
                                ["south", t.south.toString(10)],
                                ["west", t.west.toString(10)],
                                ["north", t.north.toString(10)],
                                ["east", t.east.toString(10)]
                            ];
                            (t.aggregateLat.length || t.aggregateLng.length) && (r.push(["aggregateLat", t.aggregateLat.join(",")]), r.push(["aggregateLng", t.aggregateLng.join(",")]), r.push(["aggregateMinItems", t.aggregateMinItems.toString(10)])), null !== t.zoom && r.push(["zoom", t.zoom.toString(10)]);
                            var s = window[this.settings.advanced.dataRequestClass];
                            d.Data.doRequest(s, n.url, n, r, e, i)
                        } else i({
                            error: "Chart configuration does not define data retrieval function"
                        })
                    }, e.prototype.verifyData = function(t, e) {
                        "geojson" === this.dataSettings.format.toLowerCase() && (e.nodes = b(e, this.chart));
                        var i = !0;
                        e.hasOwnProperty("nodes") || (e.nodes = []), e.hasOwnProperty("links") || (e.links = []);
                        var n = d.Helpers.tryParseFloat(e.west, t ? t.west : 1 / 0),
                            r = d.Helpers.tryParseFloat(e.east, t ? t.east : -(1 / 0)),
                            s = d.Helpers.tryParseFloat(e.north, t ? t.north : 1 / 0),
                            a = d.Helpers.tryParseFloat(e.south, t ? t.south : -(1 / 0));
                        e._bounds = new d.Rect(n, a, r, s);
                        for (var o = {}, l = 0; l < e.nodes.length; l++) {
                            var h = e.nodes[l];
                            if (Array.isArray(h.coordinates) || (this.chart.error("Data response: Node has no coordinates, or not an array"), i = !1), h.aggregate) d.Helpers.isNumber(h.count) || (this.chart.error("Aggregated node needs `count` field that contains a number."), i = !1);
                            else if (h.hasOwnProperty("id")) {
                                var u = h.id.toString();
                                o.hasOwnProperty(u) && this.chart.error("Data response: Multiple nodes with same id: " + u), o[u] = !0
                            } else this.chart.error("Data response: Node without ID"), i = !1
                        }
                        for (var c = {}, p = 0; p < e.links.length; p++) {
                            var f = e.links[p];
                            f.hasOwnProperty("id") ? c.hasOwnProperty(f.id) && this.chart.error("Data response: Multiple links with the same ID: " + f.id) : f.id = d.Helpers.SeparatorChar + (this.nextId++).toString(10), o[f.from] || o[f.to] || this.chart.error("Data response: Returned link that does not match any node: " + f.id), c[f.id] = !0
                        }
                        return i
                    }, e.prototype.addVerifiedData = function(t, e) {
                        var i, n;
                        t ? (n = t.id, i = t.layerId) : (i = "", n = "");
                        var r, s, a = this.layers[i];
                        if (a || (a = this.getLayer(n)), e.clearCache) a.nodes = {}, a.links = {}, a.area = new d.AreaCollection, a.area.addRect(this.projectedBounds);
                        else if (e._bounds.x0 !== 1 / 0) {
                            var o = this.projectRect(e._bounds);
                            for (var l in a.nodes) r = a.nodes[l], o.overlaps(r._bounds) && delete a.nodes[l];
                            for (var l in a.links) s = a.links[l], a.nodes[s.from] && a.nodes[s.to] || delete a.links[l];
                            a.area.addRect(o)
                        } else a.area.addRect(this.projectedBounds);
                        for (var h = {}, u = 0; u < e.nodes.length; u++) r = e.nodes[u], r.loaded = !0, r.aggregate ? (r.id = d.Helpers.SeparatorChar + this.nextId, this.nextId++, a.nodes[r.id] = r) : (h[r.id] = !0, a.nodes.hasOwnProperty(r.id) ? d.Helpers.extendDeep(a.nodes[r.id], r) : a.nodes[r.id] = r), r.coordinates && (Array.isArray(r.coordinates[0]) ? this.prepareShape(r) : this.preparePoint(r));
                        for (var c = {}, p = 0; p < e.links.length; p++) s = e.links[p], c[s.id] = !0, a.links[s.id] = s;
                        var f = {};
                        f[n || ""] = {
                            nodes: h,
                            links: c
                        };
                        var g = {};
                        return g[this.dataSettings.id] = f, {
                            geoChartDataNodesIds: g
                        }
                    }, e.prototype.prepareShape = function(t) {
                        for (var e = [], i = d.Rect.createEmpty(), n = 0; n < t.coordinates.length; n++) {
                            var r = t.coordinates[n],
                                s = this.projectLineString(r, i);
                            e.push(s)
                        }
                        t._bounds = i, t._coordinates = e
                    }, e.prototype.preparePoint = function(t) {
                        if (2 !== t.coordinates.length) return void this.chart.error("Point coordinates must be an array of two numbers.");
                        var e = t.coordinates,
                            i = e[0],
                            n = e[1],
                            r = this.projectFun(i, n);
                        t._x = r.x, t._y = r.y, t._bounds = new d.Rect(r.x, r.y, r.x, r.y)
                    }, e.prototype.projectLineString = function(t, e) {
                        for (var i = [], n = 0; n < t.length - 1; n += 2) {
                            var r = this.projectFun(t[n], t[n + 1]);
                            i.push(r.x), i.push(r.y), e.addPoint(r.x, r.y)
                        }
                        return i
                    }, e.prototype.exportAreas = function() {
                        var t = this.lastLayer.area.toRects(),
                            e = this.lastLayer.requestedArea.toRects(),
                            i = this.lastLayer.pendingArea.toRects();
                        return this.projectRects(t), this.projectRects(e), this.projectRects(i), {
                            areasRects: t,
                            reqAreasRects: e,
                            pendingAreasRects: i
                        }
                    }, e.prototype.projectRects = function(t) {
                        for (var e = 0; e < t.length; e++) {
                            var i = t[e],
                                n = this.projectFun(i.x0, i.y0);
                            if (i.x0 = n.x, i.y0 = n.y, n = this.projectFun(i.x1, i.y1), i.x1 = n.x, i.y1 = n.y, i.y1 < i.y0) {
                                var r = i.y0;
                                i.y0 = i.y1, i.y1 = r
                            }
                        }
                    }, e
                }(d.Data);
                e.Data = w, e.Leaflet = null, "undefined" != typeof L && (e.Leaflet = L);
                var T = function() {
                        function t(t, e, i) {
                            var n = this;
                            this.layers = i, this.chartContainer = e, this.chart = t, this.wasDragged = null, this.wasZoomed = !1, this.translate = null, this.updatePosDelegate = function() {
                                return n.updatePos()
                            }, this.onZoomDelegate = function(t) {
                                return n.onZoom(t)
                            }, this.viewResetDelegate = function() {
                                return n.viewReset()
                            }, this.userActionEndDelegate = function() {
                                return n.userActionEnd()
                            }, this.userActionStartDelegate = function() {
                                return n.userActionStart()
                            }
                        }
                        return t.prototype.extendLayer = function(t) {
                            var e = this,
                                i = t.onAdd,
                                n = t.onRemove;
                            t.onAdd = function(n) {
                                return e.onAdd(n), i ? i.call(t, n) : t
                            }, t.onRemove = function(i) {
                                return e.onRemove(i), n ? n.call(t, i) : t
                            }
                        }, t.prototype.onAdd = function(t) {
                            return this.map = t, t.getPanes().overlayPane.appendChild(this.chartContainer), t.on("move", this.updatePosDelegate, this), t.on("zoomanim", this.onZoomDelegate, this), t.on("viewreset", this.viewResetDelegate, this), t.on("moveend", this.userActionEndDelegate, this), t.on("movestart", this.userActionStartDelegate, this), this.updatePos(), this
                        }, t.prototype.onRemove = function(t) {
                            return t.getPanes().overlayPane.removeChild(this.chartContainer), t.off("move", this.updatePosDelegate, this), t.off("zoomanim", this.onZoomDelegate, this), t.off("viewreset", this.viewResetDelegate, this), t.off("moveend", this.userActionEndDelegate, this), t.off("movestart", this.userActionStartDelegate, this), this
                        }, t.prototype.userActionStart = function() {
                            this.wasDragged = !0
                        }, t.prototype.userActionEnd = function() {
                            var t;
                            t = this.wasDragged === !0 ? "user" : null === this.wasDragged ? "init" : "api", this.chart.notifyChartUpdate(t), this.wasDragged = !1
                        }, t.prototype.viewReset = function() {
                            this.updatePos(), this.userActionEnd()
                        }, t.prototype.setTranslate = function() {
                            null !== this.translate && (this.chartContainer.style[e.Leaflet.DomUtil.TRANSFORM] = this.translate, this.chartContainer.style[e.Leaflet.DomUtil.TRANSFORM + "Origin"] = "50% 50%", this.translate = null)
                        }, t.prototype.getTranslateString = function(t) {
                            var e = L.Browser.webkit3d,
                                i = "translate" + (e ? "3d" : "") + "(",
                                n = (e ? ",0" : "") + ")";
                            return i + t.x + "px," + t.y + "px" + n
                        }, t.prototype.updatePos = function() {
                            if (this.map) {
                                var t = this.map.options.crs,
                                    i = this.chart.scene;
                                this.offset = this.map.containerPointToLayerPoint(e.Leaflet.point(0, 0)), this.chartContainer.setAttribute("class", " "), this.translate = this.getTranslateString(this.offset);
                                var n = this.map.getPixelBounds(),
                                    r = t.transformation.untransform(n.min, t.scale(this.map.getZoom()));
                                r = t.transformation.transform(r, t.scale(0));
                                var s = t.transformation.untransform(n.max, t.scale(this.map.getZoom()));
                                s = t.transformation.transform(s, t.scale(0));
                                var a = this.map.getZoom();
                                a !== i.zoomLevel && (i.zoom = Math.pow(2, a), i.zoomLevel = a, this.wasZoomed = !0), i.centerX = (s.x + r.x) / 2, i.centerY = (s.y + r.y) / 2, this.chart.events && !this.layers.resizing && (this.wasZoomed ? (this.chart.events.notifySceneChanges({
                                    zoom: !0,
                                    position: !0
                                }), this.wasZoomed = !1) : this.chart.events.notifySceneChanges({
                                    position: !0
                                }))
                            }
                        }, t.prototype.onZoom = function(t) {
                            var i = this.map.getZoomScale(t.zoom),
                                n = this.map.latLngToLayerPoint(t.center).subtract(this.map.containerPointToLayerPoint(this.map.getSize().divideBy(2))),
                                r = n.multiplyBy(-i).add(this.map.containerPointToLayerPoint(e.Leaflet.point(0, 0)));
                            this.chartContainer.setAttribute("class", " leaflet-zoom-animated"), this.translate = this.getTranslateString(r) + " scale(" + i + ") ", this.setTranslate(), this.wasZoomed = !0
                        }, t
                    }(),
                    M = function() {
                        function t() {
                            this.enabled = !0, this.type = "tile", this.url = "https://tile.openstreetmap.org/{z}/{x}/{y}.png", this.params = {
                                subdomains: "abcd",
                                attribution: '&copy; <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
                            }
                        }
                        return t
                    }();
                e.SettingsBackground = M;
                var k = function(t) {
                    function i(e) {
                        var i = t.call(this, e) || this;
                        return i.animationOrder = 100, i.resizing = !1, i._focusHandler = function() {
                            return i.containerOnFocusChange()
                        }, i
                    }
                    return n(i, t), i.prototype.createDom = function(n) {
                        var r = this;
                        t.prototype.createDom.call(this, n), this.leafletContainer = d.Helpers.createDom("bmch-div", "BMCH-leaflet", null, null), this.chart && this.chart.settings && this.chart.settings.advanced && this.chart.settings.advanced.useLeafletInteractionContainer && (this.effectiveInteractionContainer = this.leafletContainer), this.container.insertBefore(this.leafletContainer, this.canvas), this.container.removeChild(this.canvas), this.container.removeChild(this.outerBorder), this.container.removeChild(this.interactionContainer), this.interactionContainer.appendChild(this.canvas), this.canvas.style.position = "static", this.outerBorder = null, this.menuContainer.className = "BMCH-menu-container",
                            this.itemLayer = new T(this.chart, this.interactionContainer, this), i.setContainerStyle(this.leafletContainer), this.chart.scene.project = function(t, e) {
                                return r.projectFunc(t, e)
                            }, this.chart.scene.unproject = function(t, e) {
                                return r.unprojectFunc(t, e)
                            }, null != e.Leaflet ? this.createMap() : r.leafletLoaded(t), d.Helpers.listen(this.interactionContainer, "focus", this._focusHandler), d.Helpers.listen(this.interactionContainer, "blur", this._focusHandler), d.Helpers.listen(this.leafletContainer, "focus", this._focusHandler), d.Helpers.listen(this.leafletContainer, "blur", this._focusHandler)
                    }, i.prototype.containerOnFocusChange = function() {
                        if (this.map) {
                            var t = d.Helpers.isParentOf(this.container, document.activeElement),
                                e = this.map.scrollWheelZoom;
                            t || !this.chart.settings.advanced.pointer.mouseWheelRequiresFocus ? e.enable() : e.disable()
                        }
                    }, i.prototype.leafletLoaded = function(t) {
                        if (!this.removed) {
                            if ("undefined" == typeof L) throw new Error("`leaflet.js` was loaded but the global variable `L` was not found. Please make sure that `L.noConflict()` is not called.");
                            e.Leaflet = L, this.createMap(), t && this.chart.notifyChartUpdate("api")
                        }
                    }, i.prototype.ensureMap = function() {
                        if (!this.map) throw new Error("This method is only available after leaflet.js has been loaded.")
                    }, i.prototype.createMap = function() {
                        var t = this.chart.settings.navigation,
                            i = {
                                maxZoom: t.maxZoom,
                                minZoom: t.minZoom,
                                zoomDelta: 10,
                                worldCopyJump: !1
                            };
                        this.map = e.Leaflet.map(this.leafletContainer, i), this.mapZoomControl = this.map.zoomControl, this.isMapZoomEnabled = !0, this.setZoomControlEnabled(this.chart.settings.area.showLeafletZoom), this.map.attributionControl.setPrefix("");
                        var n = t.maxBounds;
                        if (this.map.setMaxBounds(new e.Leaflet.LatLngBounds(new e.Leaflet.LatLng(n.south, n.west), new e.Leaflet.LatLng(n.north, n.east))), this.createMapBackground(), L.Layer) {
                            var r = new L.Layer;
                            this.itemLayer.extendLayer(r), this.map.addLayer(r)
                        } else this.map.addLayer(this.itemLayer);
                        this.crs = this.map.options.crs, this.containerOnFocusChange(), this.chart.domLayerCreated()
                    }, i.prototype.createMapBackground = function() {
                        var t = this.map,
                            i = this.tileLayer;
                        i && (t.removeLayer(i), i = null);
                        var n = this.scene.settings.background;
                        n.enabled && ("tile" === n.type ? (i = e.Leaflet.tileLayer(n.url, n.params), t.addLayer(i)) : "wms" === n.type && (i = e.Leaflet.tileLayer.wms(n.url, n.params), t.addLayer(i))), this.tileLayer = i
                    }, i.prototype.setZoomControlEnabled = function(t) {
                        this.isMapZoomEnabled && !t ? (this.map.removeControl(this.mapZoomControl), this.isMapZoomEnabled = !1) : !this.isMapZoomEnabled && t && (this.map.addControl(this.mapZoomControl), this.isMapZoomEnabled = !0)
                    }, i.prototype.onSceneChange = function(t) {
                        this.itemLayer.setTranslate()
                    }, i.prototype.remove = function() {
                        this.removed = !0, d.Helpers.unlisten(this.interactionContainer, "focus", this._focusHandler), d.Helpers.unlisten(this.interactionContainer, "blur", this._focusHandler), d.Helpers.unlisten(this.leafletContainer, "focus", this._focusHandler), d.Helpers.unlisten(this.leafletContainer, "blur", this._focusHandler), this.map && this.map.remove(), this.map = null
                    }, i.prototype.updateSettings = function(i) {
                        if (t.prototype.updateSettings.call(this, i), !this.removed && this.leafletContainer) {
                            if (this.map && i.background && this.createMapBackground(), i.navigation && ((i.navigation.minZoom || i.navigation.maxZoom) && d.Helpers.warn("Changing of navigation.minZoom or navigation.maxZoom with updateSettings() is not yet supported."), this.map && i.navigation.maxBounds)) {
                                var n = i.navigation.maxBounds;
                                this.map.setMaxBounds(new e.Leaflet.LatLngBounds(new e.Leaflet.LatLng(n.south, n.west), new e.Leaflet.LatLng(n.north, n.east)))
                            }
                            this.map && this.setZoomControlEnabled(this.chart.settings.area.showLeafletZoom)
                        }
                    }, i.prototype.projectFunc = function(t, i) {
                        return this.ensureMap(), this.correctProjectLat(this.crs.latLngToPoint(new e.Leaflet.LatLng(i, t), 0), i)
                    }, i.prototype.correctProjectLat = function(t, e, i, n, r, s) {
                        void 0 === i && (i = 1e-4), void 0 === n && (n = 50), void 0 === r && (r = -1e3), void 0 === s && (s = 1e3);
                        var a = 0;
                        do {
                            var o = this.unprojectFunc(t.x, t.y),
                                l = o.lat - e;
                            if (Math.abs(l) < i) break;
                            l > 0 ? r = t.y : s = t.y, t.y = .5 * (r + s), a++
                        } while (a < n);
                        return t
                    }, i.prototype.unprojectFunc = function(t, i) {
                        return this.ensureMap(), this.crs.pointToLatLng(new e.Leaflet.Point(t, i), 0)
                    }, i.prototype.doAnimations = function(e) {
                        if (t.prototype.doAnimations.call(this, e), e.changes.bounds) {
                            var i = this.scene;
                            i.x0 = i.chartLeft, i.y0 = i.chartTop, i.width = i.chartWidth, i.height = i.chartHeight, i.leftMargin = 0, i.rightMargin = 0, i.topMargin = 0, i.bottomMargin = 0, this.map && (this.resizing = !0, this.map.invalidateSize(null), this.resizing = !1), this.interactionContainer.style.width = i.chartWidth + "px", this.interactionContainer.style.height = i.chartHeight + "px"
                        }
                    }, i
                }(d.DomLayer);
                e.DomLayer = k;
                var P = function() {
                    function t() {
                        this.enabled = !1, this.distance = 60, this.maxZoom = 18, this.weightFunction = null, this.ignoreZeroWeight = !1, this.shouldCentralize = !1
                    }
                    return t
                }();
                e.SettingsAggregation = P;
                var A = function() {
                    function t(t, e, i) {
                        this.zoom = e.zoom, this.scene = e, this.settings = t, this.chart = i
                    }
                    return t.orientation = function(t, e, i) {
                        var n = (e.x - t.x) * (i.y - t.y) - (e.y - t.y) * (i.x - t.x);
                        return 0 === n ? 0 : n > 0 ? 1 : -1
                    }, t.distanceLineToPoint = function(t, e, i) {
                        var n = Math.sqrt((e.x - t.x) * (e.x - t.x) + (e.y - t.y) * (e.y - t.y));
                        return Math.abs((i.x - t.x) * (e.y - t.y) - (i.y - t.y) * (e.x - t.x)) / n
                    }, t.prototype.findMainNodes = function(t, e) {
                        var i = this.settings;
                        i.ignoreZeroWeight && (t = t.slice());
                        var n = {},
                            r = {},
                            s = {},
                            a = d.Helpers.isFunction(i.weightFunction);
                        if (a) {
                            for (var o = t.length - 1; o >= 0; o--) {
                                var l = t[o],
                                    h = i.weightFunction(l);
                                if (i.ignoreZeroWeight && 0 === h) {
                                    var u = t.pop();
                                    o < t.length && (t[o] = u)
                                } else s[l.id] = h
                            }
                            t.sort(function(t, e) {
                                return s[e.id] - s[t.id]
                            })
                        }
                        for (var c, p, f, g = this.zoom / (i.distance / 2), m = [], v = {}, o = 0; o < t.length; o++) {
                            var l = t[o],
                                y = Math.floor(l._x * g),
                                S = Math.floor(l._y * g);
                            if (c = r[y] || (r[y] = {}), void 0 === c[S] && void 0 === c[S - 1] && void 0 === c[S + 1] && (p = r[y - 1] || (r[y - 1] = {}), void 0 === p[S] && void 0 === p[S - 1] && void 0 === p[S + 1] && (f = r[y + 1] || (r[y + 1] = {}), void 0 === f[S] && void 0 === f[S - 1] && void 0 === f[S + 1]))) {
                                c[S] = m.length, c[S + 1] = m.length, c[S - 1] = m.length, p[S] = m.length, p[S + 1] = m.length, p[S - 1] = m.length, f[S] = m.length, f[S + 1] = m.length, f[S - 1] = m.length;
                                var b = a ? s[l.id] || 0 : 1,
                                    x = {
                                        id: "__aggr_" + l.id,
                                        aggregatedWeight: b,
                                        _originalWeight: b,
                                        _x: l._x,
                                        _y: l._y,
                                        _bounds: l._bounds,
                                        aggregatedNodes: [l],
                                        loaded: !0
                                    };
                                m.push(x), n[l.id] = x, v[o] = !0
                            }
                        }
                        for (var C = [], o = 0; o < t.length; o++)
                            if (!v[o]) {
                                var l = t[o],
                                    y = Math.floor(l._x * g),
                                    S = Math.floor(l._y * g),
                                    w = m[r[y][S]];
                                if (!w) {
                                    c = r[y] || (r[y] = {}), p = r[y - 1] || (r[y - 1] = {}), f = r[y + 1] || (r[y + 1] = {}), C.push(c[S]), C.push(c[S - 1]), C.push(c[S + 1]), C.push(p[S]), C.push(p[S - 1]), C.push(p[S + 1]), C.push(f[S]), C.push(f[S - 1]), C.push(f[S + 1]);
                                    for (var L = 1 / 0; C.length > 0;) {
                                        var T = C.pop();
                                        if (void 0 !== T) {
                                            var M = m[T],
                                                k = (M._x - l._x) * (M._x - l._x) + (M._y - l._y) * (M._y - l._y);
                                            k < L && (L = k, w = M)
                                        }
                                    }
                                }
                                var h = a ? s[l.id] || 0 : 1;
                                (w.aggregatedWeight > 0 || h > 0) && (w._x = (w._x * w.aggregatedWeight + l._x * h) / (w.aggregatedWeight + h), w._y = (w._y * w.aggregatedWeight + l._y * h) / (w.aggregatedWeight + h)), w._originalWeight < h && (w._originalWeight = h, w.id = "__aggr_" + l.id), n[l.id] = w, w.aggregatedNodes.push(l), w.aggregatedWeight += h
                            } for (var o = 0; o < m.length; o++) {
                            var l = m[o],
                                P = this.scene.unproject(l._x, l._y);
                            l.coordinates = [P.lng, P.lat]
                        }
                        if (i.postProcessAggregatedNodes) {
                            var A = [];
                            i.postProcessAggregatedNodes(m, n, A);
                            for (var o = 0; o < A.length; o++) {
                                var l = A[o],
                                    I = this.scene.project(l.coordinates[0], l.coordinates[1]);
                                l._x = I.x, l._y = I.y
                            }
                        }
                        var D = this.aggregateLinks(e, n);
                        return this.findConvexShapes(m), this.settings.shouldCentralize && this.centralizeAggregatedNodes(n, t, m), {
                            nodes: m,
                            links: D
                        }
                    }, t.prototype.centralizeAggregatedNodes = function(t, e, i) {
                        var n = function(e) {
                                return t[e.id].id
                            },
                            r = {},
                            s = function(t) {
                                r.hasOwnProperty(t) || (r[t] = {
                                    _x: 0,
                                    _y: 0,
                                    n: 0
                                })
                            },
                            a = function(t) {
                                var e = n(t);
                                s(e);
                                var i = r[e];
                                r[e] = {
                                    _x: i._x + t._x,
                                    _y: i._y + t._y,
                                    n: i.n + 1
                                }
                            },
                            o = function(t) {
                                var e = r[t.id];
                                e && 0 !== e.n && (t._x = e._x / e.n, t._y = e._y / e.n)
                            },
                            l = function(t) {
                                var e = t;
                                return void 0 !== e._originalX && void 0 !== e._originalY ? (e._x = e._originalX, void(e._y = e._originalY)) : (e._originalX = e._x, void(e._originalY = e._y))
                            };
                        e.forEach(function(t) {
                            return l(t)
                        }), e.forEach(function(t) {
                            return a(t)
                        }), i.forEach(function(t) {
                            return o(t)
                        })
                    }, t.prototype.aggregateLinks = function(t, e) {
                        for (var i = [], n = {}, r = 0; r < t.length; r++) {
                            var s = t[r],
                                a = e[s.from],
                                o = e[s.to];
                            if (a && o) {
                                var l = void 0,
                                    h = a.id + "-" + o.id;
                                d.Helpers.hasProperty(n, h) ? n[h].aggregatedLinks.push(s) : (l = {
                                    id: h,
                                    from: a.id,
                                    to: o.id,
                                    aggregatedLinks: [s]
                                }, i.push(l), n[h] = l)
                            }
                        }
                        return i
                    }, t.prototype.findConvexShapes = function(e) {
                        for (var i = 0; i < e.length; i++) {
                            for (var n = [], r = e[i].aggregatedNodes, s = r[0], a = r[0], o = 1; o < r.length; o++) {
                                var l = r[o];
                                l._x <= s._x && (s = r[o]), l._x >= a._x && (a = r[o])
                            }
                            for (var h = [], u = [], o = 0; o < r.length; o++) {
                                var l = r[o];
                                if (null != l) {
                                    var c = t.orientation({
                                        x: s._x,
                                        y: s._y
                                    }, {
                                        x: a._x,
                                        y: a._y
                                    }, {
                                        x: l._x,
                                        y: l._y
                                    });
                                    c > 0 ? h.push(l) : c < 0 && u.push(l)
                                }
                            }
                            var d = [s],
                                p = {};
                            n = [], this.separateOuterPoints(s, a, u, n, p), d = d.concat(n.sort(function(t, e) {
                                return t._x - e._x
                            })), d.push(a), n = [], this.separateOuterPoints(a, s, h, n, p), d = d.concat(n.sort(function(t, e) {
                                return e._x - t._x
                            })), e[i].convexShape = d
                        }
                    }, t.prototype.separateOuterPoints = function(e, i, n, r, s) {
                        if (0 !== n.length) {
                            if (1 === n.length) return s[n[0].id] = 1, void r.push(n[0]);
                            for (var a = 0, o = null, l = 0; l < n.length; l++) {
                                var h = n[l],
                                    u = t.distanceLineToPoint({
                                        x: e._x,
                                        y: e._y
                                    }, {
                                        x: i._x,
                                        y: i._y
                                    }, {
                                        x: h._x,
                                        y: h._y
                                    });
                                u > a && (a = u, o = h)
                            }
                            s[o.id] || (r.push(o), s[o.id] = 1);
                            for (var c = [], d = [], l = 0; l < n.length; l++) {
                                var h = n[l];
                                if (!s[h.id]) {
                                    var p = t.orientation({
                                        x: e._x,
                                        y: e._y
                                    }, {
                                        x: o._x,
                                        y: o._y
                                    }, {
                                        x: h._x,
                                        y: h._y
                                    });
                                    0 !== p && p < 0 && d.push(h);
                                    var f = t.orientation({
                                        x: o._x,
                                        y: o._y
                                    }, {
                                        x: i._x,
                                        y: i._y
                                    }, {
                                        x: h._x,
                                        y: h._y
                                    });
                                    0 !== f && f < 0 && c.push(h)
                                }
                            }
                            this.separateOuterPoints(e, o, d, r, s), this.separateOuterPoints(o, i, c, r, s)
                        }
                    }, t.prototype.aggregate = function(t, e) {
                        if (this.zoom > Math.pow(2, this.settings.maxZoom)) {
                            var i = [],
                                n = [],
                                r = this.settings.weightFunction,
                                s = this.settings.ignoreZeroWeight,
                                a = d.Helpers.isFunction(r),
                                o = void 0,
                                l = Object.create(null);
                            for (o = 0; o < t.length; o++) {
                                var h = t[o],
                                    u = a ? r(h) : 1;
                                0 === u && s ? l[h.id] = !0 : i.push({
                                    id: "__aggr_" + h.id,
                                    aggregatedWeight: u,
                                    _x: h._x,
                                    _y: h._y,
                                    _bounds: h._bounds,
                                    coordinates: h.coordinates,
                                    aggregatedNodes: [h],
                                    loaded: !0
                                })
                            }
                            for (o = 0; o < e.length; o++) {
                                var c = e[o];
                                s && l[c.from] || l[c.to] || n.push({
                                    from: "__aggr_" + c.from,
                                    to: "__aggr_" + c.to,
                                    id: "__aggr_" + c.from + "-__aggr_" + c.to,
                                    aggregatedLinks: [c]
                                })
                            }
                            return {
                                nodes: i,
                                links: n
                            }
                        }
                        return this.findMainNodes(t, e)
                    }, t
                }();
                e.Aggregation = A;
                var I = function(t) {
                    function e(i) {
                        var n = t.call(this, d.SettingsMapping.GeoChartSettings) || this;
                        return n._computedLayers = [], n.theme = e.FlatTheme, n.area = new D, n.background = new M, n.data = [], n.style = {
                            fadeTime: 200,
                            selection: {
                                fillColor: "rgba(200, 200, 255 ,0.7)",
                                sizeConstant: 5,
                                sizeProportional: .2
                            }
                        }, n.layerTypes = {
                            shapes: {
                                type: "shapes"
                            },
                            items: {
                                type: "items",
                                style: {
                                    item: {
                                        hoverEffect: !1,
                                        zIndex: 0
                                    }
                                }
                            },
                            aggregateOnShapes: {
                                type: "aggregateOnShapes"
                            },
                            charts: {
                                type: "charts"
                            }
                        }, n.layersDefault = null, n.layers = [], n.navigation = {
                            initialLat: 40,
                            initialLng: 25,
                            initialZoom: 3,
                            minZoom: 0,
                            maxZoom: 18,
                            maxBounds: {
                                west: -200,
                                north: -85,
                                east: 200,
                                south: 85
                            },
                            initialDrilldown: [""],
                            drilldownLayer: "default"
                        }, n.filters = {
                            nodeFilter: null
                        }, n.interaction = new U, n.toolbar = new d.SettingsToolbar(!1, [new d.SettingsToolbarItem("fullscreen")], "bottom", "left"), n.area.defaultHeight = 500, n.advanced.style.loadingArcStyle.r = 15, n.advanced.style.loadingArcStyle.lineColor = "red", n.advanced.style.loadingArcStyle.lineWidth = 7, n.apply(i), n._initializing = !1, n
                    }
                    return n(e, t), e.prototype.apply = function(e) {
                        this.applyCompatibility(e, [{
                            from: "layersDefault",
                            alternative: "layerTypes"
                        }]);
                        var i = t.prototype.apply.call(this, e);
                        return (this._initializing || i.layers || i.layerTypes) && (this._computedLayers = d.SettingsHelper.mergeDefaultValues(this.layers, this.layersDefault, this.layerTypes, F.createInstance, F.getMapping, "layers")), i
                    }, e
                }(u.Settings);
                I.FlatTheme = {
                    advanced: {
                        themeCSSClass: "BMCH-flat"
                    }
                }, e.Settings = I;
                var D = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.style = new N, e.showLeafletZoom = !0, e
                    }
                    return n(e, t), e
                }(d.SettingsArea);
                e.SettingsArea = D;
                var N = function(t) {
                    function e() {
                        return t.apply(this, arguments) || this
                    }
                    return n(e, t), e
                }(d.SettingsAreaStyle);
                e.SettingsAreaStyle = N;
                var O = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.aggregatedShape = {
                            mode: 1,
                            lineColor: "rgba(0,0,128,0.5)",
                            lineWidth: 1,
                            fillColor: "rgba(0,0,128,0.3)"
                        }, e.scaleObjectsWithZoom = !1, e.node.radius = 10, e.node.fillColor = "orange", e.node.lineColor = "red", e.linkLabel.scaleWithSize = !1, e.linkLabel.scaleWithZoom = !1, e.linkLabel.backgroundStyle.fillColor = "white", e.linkLabel.backgroundStyle.lineColor = "black", e.nodeLabel.scaleWithSize = !1, e.nodeLabel.scaleWithZoom = !1, e.nodeLabel.backgroundStyle.fillColor = "white", e.nodeLabel.backgroundStyle.lineColor = "black", e
                    }
                    return n(e, t), e
                }(u.SettingsNodesLayerStyle);
                e.SettingsNodesLayerStyle = O;
                var F = function() {
                    function t() {
                        this.enabled = !0, this.useFindObjectHack = !1, this.id = "default", this.name = "", this.type = "shapes", this.minZoom = 0, this.maxZoom = 20, this.perZoomStyle = !1, this.data = {
                            id: "default"
                        }
                    }
                    return t.getMapping = function(t, e) {
                        if (t && e.type && t.type !== e.type) throw new Error("It is not possible to change the value of `type` property for an existing layer.");
                        switch (t ? t.type : e.type) {
                            case "shapes":
                                return d.SettingsMapping.GeoChartSettingsLayerShapes;
                            case "items":
                                return d.SettingsMapping.GeoChartSettingsLayerItems;
                            case "charts":
                                return d.SettingsMapping.GeoChartSettingsLayerCharts;
                            case "aggregateOnShapes":
                                return d.SettingsMapping.GeoChartSettingsLayerAggregated;
                            default:
                                throw new Error("The value '" + e.type + "' is not valid for the `type` property of a layer. Valid values are: shapes, items, charts, aggregateOnShapes.")
                        }
                    }, t.createInstance = function(t, e) {
                        switch (e || t.type) {
                            case "shapes":
                                return new E;
                            case "items":
                                return new H;
                            case "charts":
                                return new B;
                            case "aggregateOnShapes":
                                return new z;
                            default:
                                throw new Error("The value '" + (e || t.type) + "' is not valid for the `type` property of a layer. Valid values are: shapes, items, charts, aggregateOnShapes.")
                        }
                    }, t
                }();
                e.SettingsLayerBase = F;
                var E = function(t) {
                    function i() {
                        var i = t.call(this) || this;
                        return i.style = new e.SettingsShapesLayerStyle, i.type = "shapes", i
                    }
                    return n(i, t), i
                }(F);
                e.SettingsLayerShapes = E;
                var H = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.style = new O, e.aggregation = new P, e.layout = new V, e.auras = new u.SettingsNodesLayerAuras, e.type = "items", e
                    }
                    return n(e, t), e
                }(F);
                e.SettingsLayerItems = H;
                var R = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.shapesLayer = null, e
                    }
                    return n(e, t), e
                }(F);
                e.SettingsLayerOverlay = R;
                var z = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.aggregationField = null, e.aggregation = "count", e.aggregationFunction = null, e.styleFunction = null, e.type = "aggregateOnShapes", e
                    }
                    return n(e, t), e
                }(R);
                e.SettingsLayerAggregated = z;
                var B = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.chartType = "piechart", e.settings = null, e.settingsFunction = null, e.autoSize = !1, e.data = {
                            id: null
                        }, e.type = "charts", e
                    }
                    return n(e, t), e
                }(R);
                e.SettingsLayerCharts = B;
                var U = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.mode = "drilldown", e.zooming = new W, e.nodesMovable = !1, e.selection.enabled = !1, e
                    }
                    return n(e, t), e
                }(u.SettingsInteraction);
                e.SettingsInteraction = U;
                var W = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.zoomInOnDoubleClick = !0, e
                    }
                    return n(e, t), e
                }(u.SettingsInteractionZooming);
                e.SettingsInteractionZooming = W;
                var G = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 2e3, i.updateOrder = 1100, i.scene = null, i.events = null, i.currentObject = null, i.chart = e, i.scene = e.scene, i.events = e.events, i.dragPointers = {}, i
                    }
                    return n(e, t), e.prototype.onPointerMove = function(t) {
                        this.chart.isLassoEnabled || (this.updateCurrentObject(t), this.currentObject && (this.updateCursor(t), t.hovered = !0))
                    }, e.prototype.onPointerOut = function(t) {
                        this.chart.isLassoEnabled || this.switchCurrentObject(null, null, t)
                    }, e.prototype.onPointerDown = function(t) {
                        if (!this.chart.isLassoEnabled) {
                            this.updateCurrentObject(t);
                            var e = this.currentObject;
                            e instanceof u.Node && (this.updateSelection(t, e, !0), this.updateCursor(t), this.scene.settings.interaction.nodesMovable && (this.setPointerNode(t, e), t.consumed = !0))
                        }
                    }, e.prototype.onPointerUp = function(t) {
                        this.chart.isLassoEnabled || this.dragPointers[t.identifier] && (this.dragPointers[t.identifier].dragging && (t.consumed = !0, this.updateLastNode(t, this.dragPointers[t.identifier].node)), this.updateCursor(t), this.setPointerNode(t, null))
                    }, e.prototype.onPointerCancel = function(t) {
                        this.onPointerUp(t)
                    }, e.prototype.onPointerDrag = function(t) {
                        if (!this.chart.isLassoEnabled) {
                            var e = this.dragPointers[t.identifier];
                            if (e) {
                                var i = this.scene.fromDisplay(t.x, t.y),
                                    n = i.x,
                                    r = i.y;
                                e.mouseX = t.x, e.mouseY = t.y, e.dragging = !0, this.dragNodes(e, n, r, this.scene.settings.interaction.selection.lockNodesOnMove), this.updateCursor(t), t.consumed = !0
                            }
                        }
                    }, e.prototype.onClick = function(t) {
                        this.chart.isLassoEnabled || this.scene.xyInChart(t.x, t.y) && ((!this.currentObject || !this.scene.settings.interaction.selection.nodesSelectable && this.currentObject.isNode || !this.scene.settings.interaction.selection.linksSelectable && this.currentObject.isLink) && this.updateSelection(t, null, !1), this.chart.notifyClick(t, this.buildEventArgs(t)), t.defaultPrevented && (t.consumed = !0))
                    }, e.prototype.onRightClick = function(t) {
                        if (!this.chart.isLassoEnabled && this.scene.xyInChart(t.x, t.y)) {
                            var e = this.buildEventArgs(t);
                            this.updateSelection(t, this.currentObject, !1), this.chart.notifyRightClick(t, e), t.defaultPrevented && (t.consumed = !0)
                        }
                    }, e.prototype.onDoubleClick = function(t) {
                        this.chart.isLassoEnabled || this.scene.xyInChart(t.x, t.y) && (this.chart.notifyDoubleClick(t, this.buildEventArgs(t)), t.defaultPrevented && (t.consumed = !0))
                    }, e.prototype.onTripleClick = function(t) {
                        this.chart.isLassoEnabled || this.scene.xyInChart(t.x, t.y) && (this.chart.notifyTripleClick(t, this.buildEventArgs(t)), t.defaultPrevented && (t.consumed = !0))
                    }, e.prototype.onLongPress = function(t) {
                        this.chart.isLassoEnabled || this.scene.xyInChart(t.x, t.y) && (this.chart.notifyLongPress(t, this.buildEventArgs(t)), t.defaultPrevented && (t.consumed = !0))
                    }, e.prototype.doAnimations = function(t) {
                        for (var e in this.dragPointers) {
                            var i = this.dragPointers[e],
                                n = this.scene.fromDisplay(i.mouseX, i.mouseY),
                                r = n.x,
                                s = n.y;
                            this.dragNodes(i, r, s, !1), t.changes.coordinates = !0
                        }
                    }, e.prototype.updateSelection = function(t, e, i) {
                        this.scene.settings.interaction.selection.enabled && (t.shiftKey || t.ctrlKey || t.metaKey || !(!e || !this.scene.settings.interaction.selection.nodesSelectable && e.isNode || !this.scene.settings.interaction.selection.linksSelectable && e.isLink) ? e && (t.ctrlKey || t.metaKey) ? (e.selected ? this.scene.removeFromSelection(e) : this.scene.addToSelection(e), this.notifySelectionChanged("user")) : e && t.shiftKey || i && e.selected ? this.scene.addToSelection(e) && this.notifySelectionChanged("user") : e && this.setSelection([e], "user") : this.setSelection([], "user"))
                    }, e.prototype.dragNodes = function(t, e, i, n) {
                        var r = e + t.x - t.node.x,
                            s = i + t.y - t.node.y;
                        if (0 !== r || 0 !== s) {
                            if (this.moveNode(t.node, r, s, n), t.extraNodes && t.extraNodes.length > 0)
                                for (var a = 0; a < t.extraNodes.length; a++) this.moveNode(t.extraNodes[a], r, s, n);
                            this.events.notifySceneChanges({
                                coordinates: !0
                            })
                        }
                    }, e.prototype.moveNode = function(t, e, i, n) {
                        if (t.x += e, t.y += i, n && (t.userLock = !0), !this.scene.settings.interaction.selection.allowMoveNodesOffscreen) {
                            var r = this.scene.getVisibleBounds(),
                                s = 1.2 * t.renderHwidth / this.scene.zoom,
                                a = 1.2 * t.renderHheight / this.scene.zoom;
                            t.x = Math.min(Math.max(t.x, r.x0 + s), r.x1 - s), t.y = Math.min(Math.max(t.y, r.y0 + a), r.y1 - a)
                        }
                    }, e.prototype.setPointerNode = function(t, e) {
                        var i = t.identifier,
                            n = this.dragPointers[i];
                        if (n) {
                            if (n.node.locks--, n.extraNodes && n.extraNodes.length > 0)
                                for (var r = 0; r < n.extraNodes.length; r++) n.extraNodes[r].locks--;
                            delete this.dragPointers[i]
                        }
                        if (e) {
                            var s = this.scene.fromDisplay(t.x, t.y),
                                a = s.x,
                                o = s.y,
                                l = null;
                            if (!d.Helpers.hasProperties(this.dragPointers) && this.scene.selection.length > 0) {
                                l = [];
                                for (var r = 0; r < this.scene.selection.length; r++) {
                                    var h = this.scene.selection[r];
                                    h !== e && h instanceof u.Node && (h.locks++, l.push(h))
                                }
                            }
                            this.dragPointers[t.identifier] = {
                                x: e.x - a,
                                y: e.y - o,
                                node: e,
                                extraNodes: l,
                                mouseX: t.x,
                                mouseY: t.y,
                                dragging: !1
                            }, e.locks++
                        }
                    }, e.prototype.updateCurrentObject = function(t) {
                        if (this.chart.renderer && this.scene.xyInChart(t.x, t.y)) {
                            var e = this.chart.renderer.findObjectAt(t.x, t.y, this.scene.settings.interaction.selection.tolerance);
                            this.switchCurrentObject(e ? e.object : null, e ? e.details : null, t)
                        }
                    }, e.prototype.updateCursor = function(t) {
                        this.currentObject && this.currentObject.cursor ? t.cursor = this.currentObject.cursor : t.cursor = "default"
                    }, e.prototype.switchCurrentObject = function(t, e, i) {
                        t === this.currentObject && e === this.currentItem || (i.changes.current = !0, this.scene.setActiveObject(t, e), this.currentObject = t, this.currentItem = e, this.chart.notifyHoverChanged(i, this.chart.createEventArguments(null, "api")))
                    }, e.prototype.buildEventArgs = function(t) {
                        var e = this.chart.createEventArguments(t, "user");
                        e.clickItem = this.currentItem;
                        var i = this.currentObject;
                        return i instanceof u.Node ? (e.clickNode = i, this.updateLastNode(t, i)) : e.clickLink = i, e
                    }, e.prototype.updateLastNode = function(t, e) {
                        this.scene.lastClickedNode = e, this.scene.settings.interaction.zooming.autoZoomAfterClick && (this.scene.autoZoomMode = !0, t.changes.zoom = !0)
                    }, e.prototype.setSelection = function(t, e) {
                        var i = this.scene.setSelection(t);
                        i && this.notifySelectionChanged(e)
                    }, e.prototype.notifySelectionChanged = function(t) {
                        this.events.notifySceneChanges({
                            selection: !0
                        }), this.chart.notifySelectionChanged(this.chart.createEventArguments(null, t))
                    }, e
                }(d.ChartElement);
                e.Selection = G;
                var V = function() {
                    function t() {
                        this.mode = "static", this.nodeSpacing = 3, this.anchorStrength = 1
                    }
                    return t
                }();
                e.SettingsNodesLayout = V;
                var Y = function() {
                        function t() {}
                        return t
                    }(),
                    j = function() {
                        function t(t, e, i) {
                            this.initialLoad = !0, this.scene = t, this.settings = i, this.layer = e, this.random = new d.Random(1)
                        }
                        return t.isNodeLocked = function(t) {
                            return t.userLock || t.locks > 0 || t.anchorMode === u.NodeAnchorMode.Fixed
                        }, t.prototype.doAnimations = function(e, n) {
                            var r = this,
                                s = !1,
                                a = this.layer.hasTopologyChanges(),
                                o = "dynamic" === this.settings.mode;
                            /*if (o && "undefined" == typeof i.Chipmunk) {
                                if (this.scene.assetsLoader.loadAssetsList([{
                                    url: "assets://cp.js",
                                    required: function() {
                                        return "undefined" == typeof i.Chipmunk
                                    }
                                }], function() {
                                    r.layer.events.notifySceneChanges({
                                        requestPaint: !0
                                    })
                                })) return void(t.cpRequestInitiated = !0);
                            }*/
                            for (var l = this.layer.nodes(), h = this.layer.getGeometry(), u = 0; u < l.length; u += 1) {
                                var c = l[u];
                                c.shape.adaptToViewport(h.txm, h.txa, h.tym, h.tya, h.zoom)
                            }
                            if (this.initialLoad && (a = !0, n = !0), a && (this.random = new d.Random(1), this.placeNewNodes(o), s = !0), o) {
                                this.placeModifiedNodes();
                                var p = this.updateLayout(e.dtime, a, n, e.changes.zoom);
                                p && (e.animating = !0, s = !0)
                            } else this.placeModifiedNodes(), this.computeNodeAnchorCoordinates();
                            s && (e.changes.position = !0), this.initialLoad = !1
                        }, t.prototype.computeNodeAnchorCoordinates = function() {
                            for (var t = this.layer.getNodesSceneZoom(), e = 0, i = this.layer.nodes(); e < i.length; e++) {
                                var n = i[e],
                                    r = n.shape.getAnchor();
                                n.x = n.anchorX - r.x * t, n.y = n.anchorY - r.y * t
                            }
                        }, t.prototype.placeNewNodes = function(t) {
                            for (var e = this.layer.getNodesSceneZoom(), i = 0, n = this.layer.nodes(); i < n.length; i++) {
                                var r = n[i],
                                    s = r.shape.getAnchor();
                                r.anchorX = r.data._x, r.anchorY = r.data._y, null !== r.x && null !== r.y || (r.x = r.anchorX - s.x * e, r.y = r.anchorY - s.y * e, t && (r.x += this.random.get() * e))
                            }
                        }, t.prototype.placeModifiedNodes = function() {
                            for (var t in this.layer.modifiedNodes) {
                                var e = this.layer.modifiedNodes[t];
                                e.anchorX = e.data._x, e.anchorY = e.data._y
                            }
                        }, t.prototype.removeNode = function(t) {
                            var e = this.idToState[t.id],
                                i = this.cpSpace;
                            i.removeShape(e.shape), e.locked || (i.removeBody(e.body), i.removeShape(e.anchorShape)), delete this.idToState[t.id]
                        }, t.prototype.addNode = function(t, e) {
                            var n = new Y,
                                r = this.cpSpace,
                                s = this.layer.getNodesSceneZoom(),
                                a = t.shape.getAnchor();
                            if (n.locked = e, this.idToState[t.id] = n, !e) {
                                var o = r.addBody(new i.Chipmunk.Body(1, 1 / 0));
                                n.body = o, o.setPos(i.Chipmunk.v(t.x + a.x * s, t.y + a.y * s))
                            }
                            return n
                        }, t.prototype.updateLayout = function(e, n, r, s) {
                            this.cpSpace || (this.cpSpace = new i.Chipmunk.Space, this.cpSpace.sleepTimeThreshold = 1, this.cpSpace.damping = .2, this.idToState = {}, n = !0);
                            var a = this.cpSpace,
                                o = this.idToState,
                                l = this.settings.nodeSpacing,
                                h = this.settings.anchorStrength,
                                u = this.layer.getNodesSceneZoom();
                            this.zoom = u, this.cpSpace.collisionSlop = 2 * u, this.cpSpace.idleSpeedThreshold = 5 * u;
                            var c = this.layer.nodes();
                            if (n) {
                                for (var p in this.layer.deletedNodes) this.removeNode(this.layer.deletedNodes[p]);
                                for (var p in this.layer.newNodes) {
                                    var f = this.layer.newNodes[p];
                                    this.addNode(f, t.isNodeLocked(f))
                                }
                            }
                            if (r || n)
                                for (var g = 0; g < c.length; g += 1) {
                                    var f = c[g],
                                        m = o[f.id],
                                        v = t.isNodeLocked(f),
                                        y = null;
                                    m && v === m.locked || (m && (m.body && (y = m.body.p), this.removeNode(f)), m = this.addNode(f, v));
                                    var S = (Math.max(f.bounds.w(), f.bounds.h()) + l) / 2 * u,
                                        b = f.shape.getAnchor(),
                                        x = f.anchorX,
                                        C = f.anchorY;
                                    if (s || m.prevAX !== x || m.prevAY !== C || m.prevR !== S) {
                                        if (m.locked) {
                                            var w = m.shape;
                                            w && a.removeShape(w), y || (y = i.Chipmunk.v(x - b.x * u, C - b.y * u)), y.x -= b.x * u, y.y -= b.y * u, w = a.addShape(new i.Chipmunk.CircleShape(a.staticBody, S, y)), m.p = y, w.setElasticity(0), w.setFriction(0), m.shape = w
                                        } else {
                                            if (m.prevR !== S) {
                                                var w = m.shape;
                                                w && a.removeShape(w), w = a.addShape(new i.Chipmunk.CircleShape(m.body, S, i.Chipmunk.v(-b.x * u, -b.y * u))), w.setElasticity(0), w.setFriction(0), m.shape = w
                                            }
                                            if (s || m.prevAX !== x || m.prevAY !== C) {
                                                var L = m.anchorShape;
                                                L && a.removeShape(L), L = a.addShape(new i.Chipmunk.CircleShape(a.staticBody, 2 * u, i.Chipmunk.v(x, C))), L.setElasticity(0), L.setFriction(0), m.anchorShape = L
                                            }
                                        }
                                        m.prevAX = x, m.prevAY = C, m.prevR = S
                                    }
                                }
                            for (var g = 0; g < c.length; g += 1) {
                                var f = c[g],
                                    m = o[f.id];
                                if (!m.locked) {
                                    var T = f.anchorX,
                                        M = f.anchorY,
                                        k = m.body.p.x,
                                        P = m.body.p.y,
                                        A = m.body,
                                        I = k - T,
                                        D = P - M,
                                        N = A.vx,
                                        O = A.vy;
                                    I += .5 * N, D += .5 * O;
                                    var F = -Math.abs(3 * I) * d.Helpers.sign(I),
                                        E = 0;
                                    E = D < 0 ? -2 * D : -5 * D, A.f = i.Chipmunk.v(F * h, E * h)
                                }
                            }
                            a.step(1 / 60);
                            for (var H = !0, g = 0; g < c.length; g += 1) {
                                var f = c[g],
                                    m = o[f.id],
                                    b = f.shape.getAnchor();
                                m.locked ? m.p ? (f.x = m.p.x, f.y = m.p.y) : (f.x = f.data._x - b.x * u, f.y = f.data._y - b.y * u) : (f.x = m.body.p.x - b.x * u, f.y = m.body.p.y - b.y * u, H = H && m.body.isSleeping())
                            }
                            return !H
                        }, t
                    }();
                /*j.cpRequestInitiated = !0,*/ e.NodesLayout = j;
                var _ = function(t) {
                    function e(e, i, n) {
                        var r = t.call(this, e, i, n) || this;
                        return r.layout = null, r.hoveredNode = null, i.useFindObjectHack && (r.useFindObjectHack = !0), r.layout = new j(e.scene, r, i.layout), r
                    }
                    return n(e, t), e.prototype.postprocessStyle = function(e) {
                        t.prototype.postprocessStyle.call(this, e);
                        var i = e.changes.zoom || this.hasStyleChanges();
                        this.layout.doAnimations(e, i)
                    }, e.prototype.paintHoverShape = function(t) {
                        var e = this.style.aggregatedShape;
                        switch (e.mode) {
                            case 0:
                                break;
                            default:
                            case 1:
                                if (null === this.hoveredNode || !this.hoveredNode.hovered || this.hoveredNode.removed) {
                                    var i = this.modifiedNodes;
                                    this.hoveredNode = null;
                                    for (var n in i)
                                        if (i[n].hovered) {
                                            this.hoveredNode = i[n];
                                            break
                                        }
                                }
                                this.hoveredNode && this.paintConvex(this.hoveredNode, t, e);
                                break;
                            case 2:
                                for (var r = this.nodes(), s = 0; s < r.length; s++) {
                                    var a = r[s];
                                    a.removed || this.paintConvex(a, t, e)
                                }
                                break;
                            case 3:
                                for (var o = this.nodes(), s = 0; s < o.length; s++) {
                                    var a = o[s];
                                    !a.removed && a.selected && this.paintConvex(a, t, e)
                                }
                        }
                    }, e.prototype.paintConvex = function(t, e, i) {
                        var n = t.data,
                            r = n.convexShape;
                        if (r && !(r.length < 2)) {
                            var s = this.getGeometry(),
                                a = {},
                                o = d.Graphics.beginStrokeAndFill(e, i);
                            a[r[0].id] = 1, o.moveTo(r[0]._x * s.txm + s.txa, r[0]._y * s.tym + s.tya);
                            for (var l = 1; l < r.length; l++) a[r[l].id] = 1, o.lineTo(r[l]._x * s.txm + s.txa, r[l]._y * s.tym + s.tya);
                            o.closePath(), d.Graphics.endStrokeAndFill(e, o, i);
                            for (var l = 0; l < n.aggregatedNodes.length; l++) {
                                var h = n.aggregatedNodes[l];
                                a[h.id] || (o = d.Graphics.beginStroke(e, i), o.arc(h._x * s.txm + s.txa, h._y * s.tym + s.tya, 1, 0, 2 * Math.PI, !1), d.Graphics.endStroke(e, o, i))
                            }
                        }
                    }, e.prototype.paint = function(e) {
                        this.paintHoverShape(e.context), t.prototype.paint.call(this, e)
                    }, e
                }(u.NodesLayer);
                e.NodesLayer = _;
                var Z = function(t) {
                    function e() {
                        var e = t.call(this) || this;
                        return e.stack = [], e.zoomLevel = 0, e.mainDataEnabled = !1, e.project = null, e.unproject = null, e
                    }
                    return n(e, t), e.prototype.push = function(t) {
                        return this.stack.push(t)
                    }, e.prototype.peek = function() {
                        return 0 === this.stack.length ? null : this.stack[this.stack.length - 1]
                    }, e.prototype.pop = function() {
                        return 0 === this.stack.length ? null : this.stack.pop()
                    }, e.prototype.getVisibleBoundsLatLon = function() {
                        var t = this.fromDisplay(this.x0, this.y0),
                            e = t.x,
                            i = t.y;
                        t = this.fromDisplay(this.x0 + this.width, this.y0 + this.height);
                        var n = t.x,
                            r = t.y;
                        return this.unprojectRect(new d.Rect(e, i, n, r))
                    }, e.prototype.unprojectRect = function(t) {
                        var e = this.unproject(t.x0, t.y0),
                            i = this.unproject(t.x1, t.y1);
                        return new d.Rect(Math.min(e.lng, i.lng), Math.min(e.lat, i.lat), Math.max(e.lng, i.lng), Math.max(e.lat, i.lat))
                    }, e
                }(u.Scene);
                e.Scene = Z;
                var q = function(t) {
                    function e() {
                        var e = t.apply(this, arguments) || this;
                        return e.shapeSimplificationPrecision = 1.5, e.node = {
                            fillColor: "#c7dae0",
                            lineColor: null,
                            lineWidth: null,
                            radius: 30,
                            shadowColor: null,
                            lineDash: null,
                            expandable: !1
                        }, e
                    }
                    return n(e, t), e
                }(O);
                e.SettingsShapesLayerStyle = q;
                var X = function(t) {
                    function e(e, i) {
                        return t.call(this, e, i) || this
                    }
                    return n(e, t), e.prototype.postprocessNode = function(t) {
                        t.currentItems = [], t.label, this.postprocessItems(t)
                    }, e.prototype.postprocessLink = function(t) {
                        var e = [];
                        if (t.label) {
                            var i = new d.Label(t.labelStyle);
                            i.text = t.label.toString(), i.style.px = 0, i.style.py = 0, e.push(i)
                        }
                        t.currentItems = e, this.postprocessItems(t)
                    }, e
                }(u.ItemsStyle);
                e.ShapesStyle = X;
                var Q = function(t) {
                    function e(e, i) {
                        var n = t.call(this, e, i) || this;
                        return n.style = i.style, n
                    }
                    return n(e, t), e.prototype.createStyleUpdater = function(t) {
                        return new X(t, this)
                    }, e.prototype.paintSelection = function(t, e, i) {
                        var n = this.getGeometry(),
                            r = n.txm,
                            s = n.txa,
                            a = n.tym,
                            o = n.tya,
                            l = 1 / r,
                            h = t.context,
                            u = this.style.selection;
                        h.beginPath();
                        for (var c = !!u.fillColor, d = 0; d < e.length; d++) {
                            for (var p = e[d], f = 0, g = this.getNodeCoords(p, l); f < g.length; f++) {
                                var m = g[f],
                                    v = m[0] * r + s,
                                    y = m[1] * a + o;
                                h.moveTo(v, y);
                                for (var S = 2; S <= m.length - 2; S += 2) h.lineTo(m[S] * r + s, m[S + 1] * a + o);
                                h.closePath()
                            }
                            if (!c) {
                                var b = p.fillColor;
                                h.fillStyle = b, h.strokeStyle = b, h.lineWidth = 2 * u.sizeConstant, h.fill(), h.stroke(), d !== e.length - 1 && h.beginPath()
                            }
                        }
                        c && (h.fillStyle = u.fillColor, h.strokeStyle = u.fillColor, h.lineWidth = 2 * u.sizeConstant, h.fill(), h.stroke())
                    }, e.prototype.paintFinish = function(t) {}, e.prototype.paintLinks = function(t, e) {}, e.prototype.paintNodes = function(t, e) {
                        var i = t.context,
                            n = this.getGeometry(),
                            r = n.txm,
                            s = n.txa,
                            a = n.tym,
                            o = n.tya,
                            l = n.zoom,
                            h = n.x0w,
                            u = n.y0w,
                            c = n.x1w,
                            p = n.y1w,
                            f = 1 / r,
                            g = l > this.style.nodeDetailMinZoom,
                            m = this.style.nodeDetailMinSize * this.style.nodeDetailMinSize * f * f,
                            v = this.style.nodeLabelScaleBase,
                            y = function(t) {
                                return t.selected ? 2 : t.hovered ? 1 : 0
                            };
                        e = e.slice(0).sort(function(t, e) {
                            return y(t) - y(e)
                        });
                        for (var S = 0; S < e.length; S++) {
                            var b = e[S];
                            if (b.removed) this.deleteNode(b);
                            else if (b.data) {
                                var x = b.bounds;
                                if (!(x.x1 < h || x.x0 > c || x.y1 < u || x.y0 > p)) {
                                    var C = b.opacity,
                                        w = g && x.area() > m || b.hovered;
                                    if (C < 1 && (i.globalAlpha = C), w) {
                                        b.items.sort(function(t, e) {
                                            return t.zIndex - e.zIndex
                                        });
                                        var L = (x.x1 + x.x0) / 2 * r + s,
                                            T = (x.y1 + x.y0) / 2 * a + o,
                                            M = (x.x1 - x.x0) / 2 * r,
                                            k = (x.y1 - x.y0) / 2 * a;
                                        this.paintNodeDetails(b, L, T, M, k, l, v, t, !0)
                                    }
                                    if (b.fillColor || b.lineColor) {
                                        for (var P = d.Graphics.beginStrokeAndFill(i, b), A = 0, I = this.getNodeCoords(b, f); A < I.length; A++) {
                                            var D = I[A],
                                                N = D[0] * r + s,
                                                O = D[1] * a + o;
                                            P.moveTo(N, O);
                                            for (var F = 2; F <= D.length - 2; F += 2) P.lineTo(D[F] * r + s, D[F + 1] * a + o);
                                            P.closePath()
                                        }
                                        d.Graphics.endStrokeAndFill(i, P, b)
                                    }
                                    if (w) {
                                        var L = (x.x1 + x.x0) / 2 * r + s,
                                            T = (x.y1 + x.y0) / 2 * a + o,
                                            M = (x.x1 - x.x0) / 2 * r,
                                            k = (x.y1 - x.y0) / 2 * a;
                                        this.paintNodeDetails(b, L, T, M, k, l, v, t, !1)
                                    }
                                    C < 1 && (i.globalAlpha = 1)
                                }
                            }
                        }
                        return !1
                    }, e.prototype.findObjectAt = function(t, e, i) {
                        for (var n = this.scene.fromDisplay(t, e), r = n.x, s = n.y, a = 1 / this.scene.zoom, o = i * a, l = null, h = this.nodes(), u = h.length - 1; u >= 0; u--) {
                            var c = h[u];
                            if (!c.removed) {
                                var p = this.getNodeCoords(c, a),
                                    f = d.Geometry.distanceToPolygonSq(r, s, p),
                                    g = o * o;
                                if (f <= 0) return {
                                    object: c,
                                    details: null
                                };
                                if (f < g) {
                                    var m = Math.sqrt(f);
                                    m < o && (o = m, l = c)
                                }
                            }
                        }
                        return {
                            object: l,
                            details: null
                        }
                    }, e.prototype.getNodeCoords = function(t, e) {
                        var i = this.style.shapeSimplificationPrecision;
                        if (!(i > 0)) return t.coordinates;
                        i *= e;
                        var n = t.coordinatesCachePrecision;
                        if (n <= i && 2 * n > i) return t.coordinatesCache;
                        var r, s = [];
                        r = n < i ? t.coordinatesCache : t.coordinates;
                        for (var a = 0; a < r.length; a++) {
                            var o = r[a],
                                l = d.Geometry.computeBoundsSize(o);
                            l > 4 * i && (o.length > 10 && (o = d.Geometry.simplify(o, i)), s.push(o))
                        }
                        return t.coordinatesCachePrecision = i, t.coordinatesCache = s, s
                    }, e
                }(u.ItemsLayer);
                e.ShapesLayer = Q;
                var J = function(t) {
                    function e(e, i, n) {
                        var r = t.call(this, e) || this;
                        return r.layerSettings = n, r.parentId = null, r.baseLayer = i, r
                    }
                    return n(e, t), e.prototype.findObjectAt = function(t, e, i) {
                        return null
                    }, e.prototype.nodes = function() {
                        return this.baseLayer.nodes()
                    }, e.prototype.links = function() {
                        return this.baseLayer.links()
                    }, e.prototype.getModified = function() {
                        return this.baseLayer.getModified()
                    }, e.prototype.hasTopologyChanges = function() {
                        return this.baseLayer.hasTopologyChanges()
                    }, e.prototype.hasStyleChanges = function() {
                        return this.baseLayer.hasStyleChanges()
                    }, e.prototype.getGeometry = function() {
                        return this.baseLayer.getGeometry()
                    }, e
                }(d.Layer);
                e.OverlayLayerBase = J;
                var K = function(e) {
                    function i(t, i, n, r) {
                        var s = e.call(this, t, i, n) || this;
                        return s.idToChart = {}, s.chart = r, s
                    }
                    return n(i, e), i.prototype.updateStyle = function(t) {}, i.prototype.postprocessStyle = function(t) {
                        for (var e in this.baseLayer.newNodes) {
                            var i = this.baseLayer.newNodes[e];
                            this.idToChart[e] = this.createChart(i)
                        }
                        var n;
                        for (var e in this.baseLayer.modifiedNodes) {
                            var i = this.baseLayer.modifiedNodes[e];
                            this.baseLayer.newNodes.hasOwnProperty(e) || (n = this.idToChart[e], n ? this.updateChart(n, i) : this.idToChart[e] = this.createChart(i))
                        }
                        for (var e in this.baseLayer.deletedNodes) n = this.idToChart[e], n && (delete this.idToChart[e], this.removeChart(n));
                        for (var r = 0, s = this.nodes(); r < s.length; r++) {
                            var i = s[r];
                            n = this.idToChart[i.id], n && this.updateXY(n, i)
                        }
                    }, i.prototype.paint = function(t) {}, i.prototype.createChart = function(e) {
                        var i = this.layerSettings.chartType,
                            n = this.getChartSettings(e);
                        if (!n) return null;
                        n.parentChart = this.chart.api, n.area ? n.area.width || (n.area.width = 100, n.area.height = 100) : n.area = {
                            width: 100,
                            height: 100
                        };
                        var r;
                        return r = "piechart" === i ? new t.PieChart(n) : "facetchart" === i ? new t.FacetChart(n) : "timechart" === i ? new t.TimeChart(n) : null
                    }, i.prototype.getChartSettings = function(t) {
                        return this.layerSettings.settingsFunction ? this.layerSettings.settingsFunction(t, t.data) : this.layerSettings.settings
                    }, i.prototype.updateChart = function(t, e) {
                        var i = this.getChartSettings(e);
                        t.updateSettings(i)
                    }, i.prototype.removeChart = function(t) {
                        t.remove()
                    }, i.prototype.updateXY = function(t, e) {
                        var i = this.scene.toDisplay(e.x, e.y),
                            n = i.x,
                            r = i.y,
                            s = 0,
                            a = 0,
                            o = t._impl.settings.area;
                        if (this.layerSettings.autoSize) throw "TODO: implement autoSize";
                        s = o.width, a = o.height;
                        var l = n - s / 2,
                            h = r - a / 2;
                        o.left === l && o.top === h && o.width === s && o.height === a || t.updateSettings({
                            area: {
                                left: n - s / 2,
                                top: r - a / 2,
                                width: s,
                                height: a
                            }
                        })
                    }, i.prototype.remove = function() {
                        for (var t in this.idToChart) this.removeChart(this.idToChart[t]);
                        this.idToChart = {}
                    }, i
                }(J);
                e.ChartsLayer = K;
                var $ = function() {
                        function t(t, e, i, n) {
                            this.drilldownId = n, this.layerSettings = i, this.data = e, this.chart = t, this.loading = !0, this.scene = t.scene, this.layer = this.createLayer(), this.layer.drilldownId = this.drilldownId, this.dataBounds = d.Rect.createEmpty(), this.expandedNode = null
                        }
                        return t.calculateShapeCentroid = function(t) {
                            var e, i, n = 0,
                                r = 0;
                            for (e = 0; e < t.coordinates.length; e++) i = d.Geometry.calculatePolyArea(t.coordinates[e]), Math.abs(i) > Math.abs(r) && (r = i, n = e);
                            if (0 === r) return t.x = (t.bounds.x0 + t.bounds.x1) / 2, void(t.y = (t.bounds.y0 + t.bounds.y1) / 2);
                            var s = d.Geometry.calculatePolyCentroid(t.coordinates[n], r);
                            t.x = s.x, t.y = s.y
                        }, t.prototype.createLayer = function() {
                            return "shapes" === this.layerSettings.type ? new Q(this.scene, this.layerSettings) : "items" === this.layerSettings.type ? new e.NodesLayer(this.chart, this.layerSettings, !1) : null
                        }, t.prototype.onSceneChange = function(t) {
                            var e, i, n, r = this.data.dataSettings,
                                s = this.layerSettings,
                                a = r.prefetchRatio;
                            r.perBoundsData ? (e = this.chart.scene.getVisibleBounds(), i = e.clone().inflate(1 + a / 2), n = e.clone().inflate(1 + a)) : i = n = e = this.data.getProjectedBounds();
                            var o = t.changes.geoChartDataNodesIds ? (t.changes.geoChartDataNodesIds[r.id] || {})[this.drilldownId || ""] : null,
                                l = s instanceof H && s.aggregation.enabled;
                            if (this.dataBounds.isEmpty() || o || !e.isInside(this.dataBounds) || t.changes.zoom && (r.perZoomData || l)) {
                                this.loading = !1, this.data.setViewParams(r.aggregationGridSize / this.scene.zoom, this.scene.zoomLevel, e, i, n);
                                var h = this.data.getData(this.drilldownId),
                                    u = h.nodes,
                                    c = h.links,
                                    d = h.hasData,
                                    p = h.loading,
                                    f = u.length;
                                if (d || f > 0) {
                                    if (this.chart.log("Layer " + this.layerSettings.id + ": Updating view rect to " + i + ", contains " + f + " objects"), l) {
                                        var g = new A(s.aggregation, this.scene, this.chart),
                                            m = g.aggregate(u, c);
                                        u = m.nodes, c = m.links
                                    }
                                    this.applyVisibleNodes(this.layer, u, c, null), this.dataBounds = i
                                }
                                this.loading = p
                            } else e.area() * (1 + a) * (1 + a) < this.dataBounds.area() / 5 && (i = e.inflate(1 + a), this.chart.log("Layer " + this.layerSettings.id + ": Shrinking view to " + i), this.shrinkVisibleBounds(i), this.dataBounds = i);
                            if (s.perZoomStyle && t.changes.zoom) {
                                for (var v = 0, y = this.layer.nodes(); v < y.length; v++) this.layer.touchNode(y[v]);
                                for (var S = 0, b = this.layer.links(); S < b.length; S++) this.layer.touchLink(b[S])
                            }
                        }, t.prototype.updateStyle = function(t) {
                            this.layer.setBounds(this.scene.x0, this.scene.y0, this.scene.x0 + this.scene.width, this.scene.y0 + this.scene.height), this.layer.updateStyle(t)
                        }, t.prototype.postprocessStyle = function(t) {
                            this.layer.postprocessStyle(t)
                        }, t.prototype.remove = function() {
                            var t = this;
                            this.chart.selection.setSelection(this.scene.selection.filter(function(e) {
                                return e.layer !== t.layer
                            }), "api")
                        }, t.prototype.paint = function(t) {
                            this.layer.paint(t)
                        }, t.prototype.findObjectAt = function(t, e, i) {
                            return this.layer.findObjectAt(t, e, i)
                        }, t.prototype.findObjectById = function(t) {
                            return this.layer.findObjectById(t)
                        }, t.prototype.touchObject = function(t) {
                            var e = this.layer,
                                i = e.findObjectById(t);
                            i && e.touchNodeOrLink(i)
                        }, t.prototype.setExpandedNode = function(t) {
                            this.expandedNode && (this.expandedNode.expanded = !1, this.layer.touchNode(this.expandedNode), this.expandedNode = null), t && (this.expandedNode = this.layer.idToNode[t], this.expandedNode && (this.expandedNode.expanded = !0, this.layer.touchNode(this.expandedNode)))
                        }, t.prototype.applyVisibleNodes = function(e, i, n, r) {
                            for (var s = e.idToNode, a = {}, o = {}, l = "shapes" === this.layerSettings.type, h = 0; h < i.length; h++) {
                                var u = i[h],
                                    c = l && u._coordinates || !l && u.hasOwnProperty("_x");
                                if (c) {
                                    var d = u.id;
                                    a[d] = !0;
                                    var p = e.addNode(d);
                                    p.data = u, l && (p.coordinates = u._coordinates, p.bounds = u._bounds, t.calculateShapeCentroid(p)), p.parentNode = r
                                }
                            }
                            for (var f = 0; f < n.length; f++) {
                                var g = n[f],
                                    m = e.addLink(g.id, g.from, g.to);
                                m.data = g, o[m.id] = !0
                            }
                            for (var d in s) {
                                var p = s[d];
                                if (!a.hasOwnProperty(d)) {
                                    e.removeNode(p);
                                    for (var v = 0; v < p.links.length; v++) e.removeLink(p.links[v])
                                }
                            }
                            var y = e.idToLink;
                            for (var d in y) o.hasOwnProperty(d) || e.removeLink(y[d])
                        }, t.prototype.shrinkVisibleBounds = function(t) {
                            for (var e in this.layer.idToNode) {
                                var i = this.layer.idToNode[e];
                                i.data._bounds.isOutside(t) && this.layer.removeNode(i)
                            }
                        }, t
                    }(),
                    tt = function() {
                        function t(t, e, i, n) {
                            this.data = null, this.drilldownId = n, this.layerSettings = i, this.baseLayer = e, this.chart = t, this.scene = t.scene, this.loading = !1, this.layer = this.createLayer()
                        }
                        return t.prototype.createLayer = function() {
                            return "charts" === this.layerSettings.type ? new K(this.scene, this.baseLayer.layer, this.layerSettings, this.chart) : null
                        }, t.prototype.onSceneChange = function(t) {}, t.prototype.updateStyle = function(t) {
                            this.layer.updateStyle(t)
                        }, t.prototype.postprocessStyle = function(t) {
                            this.layer.postprocessStyle(t)
                        }, t.prototype.setExpandedNode = function(t) {}, t.prototype.paint = function(t) {
                            this.layer.paint(t)
                        }, t.prototype.findObjectAt = function(t, e, i) {
                            return null
                        }, t.prototype.findObjectById = function(t) {
                            return null
                        }, t.prototype.touchObject = function(t) {}, t.prototype.remove = function() {
                            this.layer.remove()
                        }, t
                    }(),
                    et = function() {
                        function t(t, e, i, n, r) {
                            this.firstTime = !0, this.drilldownId = r, this.layerSettings = n, this.data = i, this.baseLayer = e, this.chart = t, this.loading = !0, this.scene = t.scene, this.dataBounds = d.Rect.createEmpty(), this.nodeToAggregated = {}, this.pendingNodes = {}
                        }
                        return t.prototype.onSceneChange = function(t) {
                            if (this.firstTime || this.layerSettings.perZoomStyle && t.changes.zoom || t.changes.data) {
                                this.firstTime = !1;
                                for (var e = this.baseLayer.layer, i = 0, n = e.nodes(); i < n.length; i++) e.touchNode(n[i]);
                                for (var r = 0, s = e.links(); r < s.length; r++) e.touchLink(s[r])
                            }
                        }, t.prototype.updateStyle = function(t) {
                            var e = this.data.dataSettings,
                                i = this.layerSettings,
                                n = this.baseLayer.layer.modifiedNodes,
                                r = t.changes.geoChartDataNodesIds ? (t.changes.geoChartDataNodesIds[e.id] || {})[this.drilldownId || ""] : null;
                            if (!d.Helpers.hasProperties(n) && !d.Helpers.hasProperties(r)) return void(this.loading = !1);
                            var s = i.styleFunction;
                            for (var a in n) {
                                var o = n[a];
                                this.nodeToAggregated.hasOwnProperty(o.id) ? s(o, this.nodeToAggregated[o.id]) : this.pendingNodes[a] = o
                            }
                            if (!d.Helpers.hasProperties(this.pendingNodes)) return void(this.loading = !1);
                            var l;
                            if (e.perBoundsData) {
                                l = d.Rect.createEmpty();
                                for (var a in this.pendingNodes) {
                                    var o = this.pendingNodes[a];
                                    l.addRect(o.data._bounds)
                                }
                            } else l = this.data.getProjectedBounds();
                            this.data.setViewParams(e.aggregationGridSize / this.scene.zoom, this.scene.zoomLevel, l, l, l);
                            var h = this.data.getData(this.drilldownId),
                                u = h.nodes,
                                c = h.loading;
                            if (!c) {
                                for (var a in this.pendingNodes) {
                                    var o = this.pendingNodes[a],
                                        p = this.computeAggr(o.data._bounds, o.data._coordinates, u);
                                    this.nodeToAggregated[o.id] = p, s && s(o, p)
                                }
                                this.pendingNodes = {}
                            }
                            this.loading = c
                        }, t.prototype.postprocessStyle = function(t) {}, t.prototype.computeAggr = function(t, e, i) {
                            var n = this.layerSettings;
                            if (n.aggregationFunction) {
                                for (var r = new Array, s = 0; s < i.length; s++) {
                                    var a = i[s],
                                        o = a._x,
                                        l = a._y;
                                    t.containsPoint(o, l) && d.Geometry.isInsidePolygon(o, l, e) && r.push(a)
                                }
                                return n.aggregationFunction(r)
                            }
                            var h = n.aggregation,
                                u = n.aggregationField,
                                c = 0,
                                p = function() {
                                    for (; c < i.length && (!t.containsPoint(i[c]._x, i[c]._y) || !d.Geometry.isInsidePolygon(i[c]._x, i[c]._y, e));) c += 1;
                                    return c < i.length
                                },
                                f = function() {
                                    var t = i[c][u];
                                    return c += 1, t
                                };
                            return d.Helpers.aggregate(h, p, f)
                        }, t.prototype.setExpandedNode = function(t) {}, t.prototype.paint = function(t) {}, t.prototype.findObjectAt = function(t, e, i) {
                            return null
                        }, t.prototype.findObjectById = function(t) {
                            return null
                        }, t.prototype.touchObject = function(t) {}, t.prototype.remove = function() {}, t
                    }(),
                    it = function() {
                        function t(t, e, i, n) {
                            this.layers = [], this.firstTime = !0, this.layerSettings = n, this.data = i, this.renderer = e, this.chart = t, this.loading = !0, this.scene = t.scene
                        }
                        return t.prototype.onSceneChange = function(t) {
                            if (t.changes.navigation || this.firstTime) {
                                this.firstTime = !1;
                                for (var e = this.scene.stack, i = 0; i < Math.min(this.layers.length, e.length) && e[i] === this.layers[i].drilldownId;) i += 1;
                                for (; this.layers.length > i;) {
                                    var n = this.layers.pop();
                                    this.renderer.removeSimpleLayer(n);
                                    var r = this.layers.length > 0 ? this.layers[this.layers.length - 1] : null;
                                    r && r.setExpandedNode(null)
                                }
                                for (; this.layers.length < e.length;) {
                                    var s = e[this.layers.length],
                                        r = this.layers.length > 0 ? this.layers[this.layers.length - 1] : null;
                                    r && r.setExpandedNode(s);
                                    var n = this.renderer.createSimpleLayer(this.data, this.layerSettings, s);
                                    if (!n) break;
                                    this.layers.push(n)
                                }
                            }
                            this.loading = !1;
                            for (var a = 0; a < this.layers.length; a++) {
                                var o = this.layers[a];
                                o.onSceneChange(t), this.loading = this.loading || o.loading
                            }
                        }, t.prototype.updateStyle = function(t) {
                            for (var e = 0; e < this.layers.length; e++) {
                                var i = this.layers[e];
                                i.updateStyle(t)
                            }
                        }, t.prototype.postprocessStyle = function(t) {
                            for (var e = 0; e < this.layers.length; e++) {
                                var i = this.layers[e];
                                i.postprocessStyle(t)
                            }
                        }, t.prototype.paint = function(t) {
                            for (var e = 0; e < this.layers.length; e++) {
                                var i = this.layers[e];
                                i.paint(t)
                            }
                        }, t.prototype.findObjectAt = function(t, e, i) {
                            for (var n = this.layers.length - 1; n >= 0; n--) {
                                var r = this.layers[n].findObjectAt(t, e, i);
                                if (r && r.object) return r
                            }
                            return null
                        }, t.prototype.findObjectById = function(t) {
                            for (var e = this.layers.length - 1; e >= 0; e--) {
                                var i = this.layers[e].findObjectById(t);
                                if (i) return i
                            }
                            return null
                        }, t.prototype.touchObject = function(t) {
                            for (var e = 0; e <= this.layers.length; e++) this.layers[e].touchObject(t)
                        }, t.prototype.remove = function() {
                            for (var t = 0; t < this.layers.length; t++) {
                                var e = this.layers[t];
                                this.renderer.removeSimpleLayer(e)
                            }
                            this.layers = []
                        }, t
                    }(),
                    nt = function(t) {
                        function e(e) {
                            var i = t.call(this) || this;
                            return i.animationOrder = 900, i.paintOrder = 10, i.updateOrder = 10, i.layers = [], i.idToLayer = {}, i.idToSimpleLayer = {}, i.drilldownLayer = null, i.chart = e, i.scene = e.scene, i.events = e.events, i
                        }
                        return n(e, t), e.prototype.createData = function(t) {
                            var e = null;
                            return t.id && (e = this.chart.getData(t.id)), e
                        }, e.prototype.createSimpleLayer = function(t, e, i) {
                            var n;
                            if (e instanceof R) {
                                var r = this.idToSimpleLayer[e.shapesLayer + i];
                                if (!r) return this.chart.error("ItemsOnShape layer: shapesLayer " + e.shapesLayer + " not found, must come first in the layers array."), null;
                                "charts" === e.type ? n = new tt(this.chart, r, e, i) : "aggregateOnShapes" === e.type && (n = new et(this.chart, r, t, e, i))
                            } else n = new $(this.chart, t, e, i);
                            return this.idToSimpleLayer[e.id + i] = n, n
                        }, e.prototype.removeLayer = function(t) {
                            t instanceof it ? t.remove() : this.removeSimpleLayer(t)
                        }, e.prototype.removeSimpleLayer = function(t) {
                            t.remove();
                            var e = t.layerSettings.id + t.drilldownId;
                            delete this.idToSimpleLayer[e]
                        }, e.prototype.onSceneChange = function(t) {
                            var e = !1,
                                i = t.changes,
                                n = i.settingsChanges;
                            if (n && (n.layers || n.layerTypes)) {
                                for (var r in n.layers) {
                                    var s = this.idToLayer[r];
                                    s && (this.removeLayer(s), delete this.idToLayer[r])
                                }
                                e = !0
                            } else(i.zoom || i.data) && (e = !0);
                            if (e) {
                                var a = this.idToLayer;
                                this.layers = [], this.idToLayer = {};
                                var o = this.scene.zoomLevel;
                                this.drilldownLayer = null;
                                for (var l = this.scene.settings.navigation.drilldownLayer, h = 0; h < this.chart.settings._computedLayers.length; h++) {
                                    var u = this.chart.settings._computedLayers[h],
                                        c = u.enabled && u.minZoom <= o && u.maxZoom >= o,
                                        d = a[u.id];
                                    if (c) {
                                        var p = this.createData(u.data),
                                            f = !1;
                                        if (p && p.dataSettings.perDrilldownData && (f = !0), u instanceof R) {
                                            var g = this.idToLayer[u.shapesLayer];
                                            if (!g) {
                                                this.chart.error("Overlay layer: shapeLayer " + u.shapesLayer + " not found, must come first in the layers array.");
                                                continue
                                            }
                                            d && d.baseLayer !== g && (this.removeLayer(d), d = null), f = f || g.data.dataSettings.perDrilldownData
                                        }
                                        var s = void 0;
                                        if (d && d.data === p) s = d;
                                        else if (d && this.removeLayer(d), f) s = new it(this.chart, this, p, u);
                                        else if (s = this.createSimpleLayer(p, u, null), !s) continue;
                                        u.id === l && (this.drilldownLayer = s), this.layers.push(s), this.idToLayer[u.id] = s
                                    } else d && this.removeLayer(d)
                                }
                                for (var r in a) {
                                    var s = a[r];
                                    this.idToLayer.hasOwnProperty(r) || this.removeLayer(s)
                                }
                            }
                            for (var m = 0; m < this.layers.length; m++) {
                                var s = this.layers[m];
                                s.onSceneChange(t)
                            }
                        }, e.prototype.doAnimations = function(t) {
                            for (var e = 0; e < this.layers.length; e++) {
                                var i = this.layers[e];
                                i.updateStyle(t)
                            }
                            for (var n = !1, e = 0; e < this.layers.length; e++) {
                                var i = this.layers[e];
                                i.postprocessStyle(t), n = n || i.loading
                            }
                            this.scene.loading = n
                        }, e.prototype.paintScene = function(t) {
                            d.Graphics.pushClip(t, this.scene.x0, this.scene.y0, this.scene.width, this.scene.height);
                            for (var e = !1, i = 0; i < this.layers.length; i++) {
                                var n = this.layers[i];
                                n.paint(t), e = e || n.loading
                            }
                            this.chart.lasso && this.chart.lasso.paintScene(t), d.Graphics.popClip(t), this.scene.loading = e
                        }, e.prototype.findObjectById = function(t) {
                            for (var e = this.layers.length - 1; e >= 0; e--) {
                                var i = this.layers[e],
                                    n = i.findObjectById(t);
                                if (n) return n
                            }
                            return null
                        }, e.prototype.touchObjects = function(t) {
                            for (var e = this.layers.length - 1; e >= 0; e--)
                                for (var i = this.layers[e], n = 0; n < t.length; n++) i.touchObject(t[n])
                        }, e.prototype.findObjectAt = function(t, e, i) {
                            for (var n = this.layers.length - 1; n >= 0; n--) {
                                var r = this.layers[n],
                                    s = r.findObjectAt(t, e, i);
                                if (s && s.object) return s
                            }
                            return null
                        }, e
                    }(d.ChartElement);
                e.Renderer = nt;
                var rt = function(t) {
                    function e(e) {
                        var i = t.call(this) || this;
                        return i.animationOrder = 1e3, i.paintOrder = 5, i.updateOrder = 1300, i.chart = e, i.scene = i.chart.scene, i
                    }
                    return n(e, t), e.prototype.showInitialNodes = function() {
                        var t = this.scene.settings.navigation.initialDrilldown;
                        return this.scene.stack = t, this.chart.events.notifySceneChanges({
                            navigation: !0
                        })
                    }, e.prototype.onPanZoom = function() {}, e.prototype.onNewDataObject = function() {}, e.prototype.expandNode = function(t) {
                        var e = t.layer.drilldownId,
                            i = t.id;
                        if (i === this.scene.peek()) return !1;
                        for (; this.scene.peek() !== e;) this.scene.pop();
                        return this.scene.push(i), this.chart.events.notifySceneChanges({
                            navigation: !0
                        }), !0
                    }, e.prototype.collapseNode = function(t) {
                        throw "Not implemented"
                    }, e
                }(d.Navigator);
                e.Navigator = rt;
                var st = !1,
                    at = function(t) {
                        function e(e) {
                            var i = t.call(this) || this;
                            return i.chart = e, i
                        }
                        return n(e, t), e.prototype.onClick = function(t) {
                            this.chart.isLassoEnabled && this.chart.lasso.onLassoClick(t)
                        }, e.prototype.onPointerMove = function(t) {
                            this.chart.isLassoEnabled && this.chart.lasso.onPointerMove(t)
                        }, e.prototype.onRightClick = function(t) {
                            this.chart.isLassoEnabled && this.chart.lasso.onRightClick(t)
                        }, e.prototype.onPointerDown = function(t) {
                            this.chart.isLassoEnabled && this.chart.lasso.onPointerDown(t)
                        }, e.prototype.onPointerUp = function(t) {
                            this.chart.isLassoEnabled && this.chart.lasso.onPointerUp(t)
                        }, e
                    }(d.ChartElement),
                    ot = function(t) {
                        function e(e, i) {
                            var n = t.call(this, new I(e), new Z, i) || this;
                            return n.isLassoEnabled = !1, n.lasso = null, n.lassoMenu = null, n.events.forceFloating = !0, n._map = n._map || null, n._pendingZoomLevel = null, n._pendingLatitude = null, n._pendingBounds = null, n.navigator = n.events.addElement(new rt(n)), n.menu = n.events.addElement(new u.Menu(n)), n.info = n.events.addElement(new u.InfoPopup(n)), n.selection = n.events.addElement(new G(n)), n.lassoMenu = n.events.addElement(new h.LassoMenu(n)), n.isLassoEnabled && (n.lasso = d.Bar.ToolbarItemNames.lasso), n.events.addElement(new at(n)), n._map && (n.renderer = n.events.addElement(new nt(n))), n.navigator.showInitialNodes(), n.finalInitialize(), n
                        }
                        return n(e, t), e.prototype.getMap = function() {
                            return this._map
                        }, e.prototype.domLayerCreated = function() {
                            return st || (d.Helpers.compareVersions(L.version, [0, 7]) || this.error("BoomCharts requires Leaflet.js version 0.7.0 or newer. The loaded version is " + L.version), st = !0), this._map ? void this.applyGestureSettings() : (this._map = this._domLayer.map, null != this._pendingLatitude ? this.setView(this._pendingLatitude, this._pendingLongitude, this._pendingZoomLevel) : (null !== this.settings.navigation.initialLat && this.setView(this.settings.navigation.initialLat, this.settings.navigation.initialLng, this.settings.navigation.initialZoom), null != this._pendingZoomLevel && this.setZoomLevel(this._pendingZoomLevel)), null != this._pendingBounds && this.setBounds(this._pendingBounds), this.events && (this.renderer = this.events.addElement(new nt(this)), this.events.notifySceneChanges({
                                settings: !0,
                                settingsChanges: this.settings,
                                zoom: !0,
                                bounds: !0
                            })), this.applyGestureSettings(), void(this.scene.loading = !1))
                        }, e.prototype.createDomLayer = function() {
                            return this._domLayer = new k(this), this._domLayer
                        }, e.prototype.createDataObj = function(t) {
                            return new w(this, t)
                        }, e.prototype.getData = function(e) {
                            return t.prototype.getData.call(this, e)
                        }, e.prototype.onSettingsChanged = function(t) {
                            var e = {},
                                i = t.navigation && t.navigation.initialDrilldown;
                            i && this.navigator.showInitialNodes(), t.filters && (e.filters = !0), t.style && (e.style = !0), this.events.notifySceneChanges(e)
                        }, e.prototype.saveNavigation = function() {
                            return this._map ? this.scene.getVisibleBoundsLatLon() : null
                        }, e.prototype.restoreNavigation = function(t) {
                            this.setBounds(t)
                        }, e.prototype.save = function() {
                            return ""
                        }, e.prototype.restore = function(t, e) {}, e.prototype.setZoomLevel = function(t) {
                            this._map ? this._map.setZoom(t) : this._pendingZoomLevel = t
                        }, e.prototype.setView = function(t, e, i) {
                            this._map ? this._map.setView(L.latLng(t, e), i) : (this._pendingLatitude = t, this._pendingLongitude = e, this._pendingZoomLevel = i)
                        }, e.prototype.setBounds = function(t) {
                            if (this._map) {
                                var e = t;
                                if (void 0 !== e.east) this._map.fitBounds(L.latLngBounds(L.latLng(e.south, e.west), L.latLng(e.north, e.east)));
                                else {
                                    var i = t;
                                    this._map.fitBounds(L.latLngBounds(L.latLng(i.y1, i.x0), L.latLng(i.y0, i.x1)))
                                }
                            } else this._pendingBounds = t
                        }, e.prototype.getNodeDimensions = function(t) {
                            var e = t;
                            if (d.Helpers.isString(t) && (e = this.getNode(t)), !e) return null;
                            var i = this.scene.toDisplay(e.x, e.y),
                                n = i.x,
                                r = i.y,
                                s = e.hHeight * this.scene.zoom,
                                a = e.hWidth * this.scene.zoom;
                            return {
                                x: n,
                                y: r,
                                radius: s,
                                hwidth: a
                            }
                        }, e.prototype.expandNode = function(t) {
                            var e = null;
                            e = d.Helpers.isString(t) ? this.getNode(t) : t, this.navigator.expandNode(e)
                        }, e.prototype.collapseNode = function(t) {
                            var e = null;
                            e = d.Helpers.isString(t) ? this.getNode(t) : t, this.navigator.collapseNode(e)
                        }, e.prototype.getNode = function(t) {
                            var e = this.renderer ? this.renderer.findObjectById(t) : null;
                            return e instanceof u.Node || (e = null), e
                        }, e.prototype.getLink = function(t) {
                            var e = this.renderer ? this.renderer.findObjectById(t) : null;
                            return e instanceof u.Link || (e = null), e
                        }, e.prototype.hideMenu = function() {
                            this.menu.hideMenu()
                        }, e.prototype.defaultClick = function(t, e) {
                            if (!this.isLassoEnabled) {
                                var i = "drilldown" === this.settings.interaction.mode,
                                    n = e.clickNode;
                                i && n && n.expandable && this.navigator.expandNode(n) && (this.setBounds(this.scene.unprojectRect(n.data._bounds)), t.preventDefault())
                            }
                        }, e.prototype.defaultRightClick = function(t, e) {
                            this.isLassoEnabled || (e.clickNode && (this.menu.toggleNodeMenu(t.x, t.y, e.clickNode), t.preventDefault()), e.clickLink && (this.menu.toggleLinkMenu(t.x, t.y, e.clickLink), t.preventDefault()))
                        }, e.prototype.applyGestureSettings = function() {
                            var t = this._map;
                            this.settings.interaction.zooming.zoomInOnDoubleClick === !1 && t.doubleClickZoom.disable(), this.settings.interaction.zooming.doubleClickZoom && (t.options.zoomDelta = this.settings.interaction.zooming.doubleClickZoom)
                        }, e
                    }(u.Impl);
                e.Impl = ot
            }(r = i.GeoChart || (i.GeoChart = {}))
    }(i = t.Internal || (t.Internal = {})),
    function(t) {
        var e;
        ! function(t) {
            t[t.always = 2] = "always", t[t.auto = 1] = "auto", t[t.never = 0] = "never"
        }(e = t.BaseSettingsValueAxisBaseLineLabelMode || (t.BaseSettingsValueAxisBaseLineLabelMode = {}));
        var i;
        ! function(t) {
            t[t.always = 2] = "always", t[t.disabled = 0] = "disabled", t[t.hovered = 1] = "hovered", t[t.selected = 3] = "selected"
        }(i = t.GeoChartSettingsAggregatedShapeStyleMode || (t.GeoChartSettingsAggregatedShapeStyleMode = {}))
    }(e = t.Configuration || (t.Configuration = {}));
    var r = function(t) {
        function e(n) {
            var r = t.call(this) || this;
            return r.typeName = "NetChart", e.chartFactoryMethod ? r._impl = e.chartFactoryMethod(function(t) {
                return new i.NetChart.Impl(t, r)
            }, n) : r._impl = new i.NetChart.Impl(n, r), r
        }
        return n(e, t), e.prototype.updateSettings = function(e) {
            return t.prototype.updateSettings.call(this, e), this
        }, e.prototype.replaceSettings = function(e) {
            return t.prototype.replaceSettings.call(this, e), this
        }, e.prototype.addData = function(t, e) {
            null == e && (e = "default"), this._impl.addData(t, e)
        }, e.prototype.removeData = function(t, e) {
            null == e && (e = "default"), this._impl.removeData(t, e)
        }, e.prototype.replaceData = function(t, e) {
            null == e && (e = "default"), this._impl.replaceData(t, e)
        }, e.prototype.hideMenu = function() {
            return this._impl.hideMenu(), this
        }, e.prototype.showNodeMenu = function(t) {
            "string" == typeof t && (t = this._impl.getNode(t)), this._impl.showNodeMenu(t)
        }, e.prototype.updateStyle = function(t) {
            t ? (this._impl.touchObjects(t), this._impl.events.requestPaint()) : this._impl.updateStyle(null)
        }, e.prototype.getNode = function(t) {
            return this._impl.getNode(t)
        }, e.prototype.getLink = function(t) {
            return this._impl.getLink(t)
        }, e.prototype.showNode = function(t) {
            return this._impl.showNode(t)
        }, e.prototype.hideNode = function(t) {
            return this._impl.hideNode(t)
        }, e.prototype.expandNode = function(t, e, i) {
            return this._impl.expandNode(t, e, i)
        }, e.prototype.addFocusNode = function(t, e) {
            return void 0 === e && (e = -1), null == e && (e = -1), this._impl.addFocusNode(t, e)
        }, e.prototype.removeFocusNode = function(t) {
            return this._impl.removeFocusNode(t)
        }, e.prototype.clearFocus = function() {
            return this._impl.clearFocus()
        }, e.prototype.collapseNode = function(t, e) {
            return this._impl.collapseNode(t, e)
        }, e.prototype.closeNode = function(t) {
            return this._impl.closeNode(t)
        }, e.prototype.lockNode = function(t, e, i) {
            return this._impl.lockNode(t, e, i)
        }, e.prototype.unlockNode = function(t) {
            return this._impl.unlockNode(t)
        }, e.prototype.getHiddenNodes = function() {
            return this._impl.getHiddenNodes()
        }, e.prototype.freezeLayout = function() {
            this._impl.freezeLayout()
        }, e.prototype.unfreezeLayout = function() {
            this._impl.unfreezeLayout()
        }, e.prototype.zoom = function(t, e) {
            return void 0 === e && (e = !0), null != t && this._impl.setZoom(t, !!e), this._impl.scene.zoom
        }, e.prototype.resetLayout = function() {
            return this._impl.resetLayout()
        }, e.prototype.selection = function(t) {
            return t && this._impl.setSelection(t), this._impl.scene.selection
        }, e.prototype.zoomIn = function(t, e) {
            return void 0 === e && (e = !0), this.scrollIntoView(t)
        }, e.prototype.nodes = function() {
            return this._impl.getCurrentNodes()
        }, e.prototype.links = function() {
            return this._impl.getCurrentLinks()
        }, e.prototype.getNodeDimensions = function(t) {
            return this._impl.getNodeDimensions(t)
        }, e.prototype.exportData = function(t, e) {
            return void 0 === t && (t = !0), void 0 === e && (e = !0), this._impl.exportData(!!t, !!e)
        }, e.prototype.scrollIntoView = function(t, e) {
            this._impl.scrollIntoView(t, e)
        }, e.prototype.on = function(e, i) {
            t.prototype.on.call(this, e, i)
        }, e.prototype.getMouseCoordinates = function(x, y) {
            return this._impl.getMouseCoordinates(x, y)
        }, e
    }(i.Base.Api);
    r.themes = {
        flat: i.NetChart.Settings.FlatTheme,
        dark: i.NetChart.Settings.DarkTheme,
        light: i.NetChart.Settings.LightTheme
    }, r.chartFactoryMethod = null, t.NetChart = r, i.Base.Helpers.exportSymbol("NetChart", t.NetChart);
    var s = function(t) {
        function e(n) {
            var r = t.call(this) || this;
            if(n.hasOwnProperty("previewChart")){
                if(n.previewChart.hasOwnProperty("enabled") && n.previewChart.enabled){
                    let parent = n.container,
                        previewChart = n.previewChart;
                    if(typeof n.container == "string") parent = document.getElementById(n.container);
                    let main = document.createElement("div"), preview = document.createElement("div");
                    if(previewChart.hasOwnProperty("marginTop")) preview.style.marginTop = `${previewChart.marginTop}px`;
                    main.id = "main",parent.appendChild(main), preview.id = "preview", parent.appendChild(preview);

                    let mainArgumentObject = JSON.parse(JSON.stringify(n));
                    mainArgumentObject.container = main;

                    if(mainArgumentObject.hasOwnProperty("events")){
                        mainArgumentObject.events.onPositionChange = updateOverviewChart;
                        mainArgumentObject.events.onChartUpdate = updateOverviewChart;
                    } else {
                        mainArgumentObject.events = { onPositionChange: updateOverviewChart, onChartUpdate: updateOverviewChart }
                    }

                    if(mainArgumentObject.hasOwnProperty("interaction")){
                        mainArgumentObject.interactions.snapMode = null;
                    } else {
                        mainArgumentObject.interactions = { snapMode: null };
                    }

                    let previewArgumentObject = JSON.parse(JSON.stringify(n));
                    previewArgumentObject.container = preview,
                    previewArgumentObject.area = { height: previewChart.hasOwnProperty("height") ? previewChart.height : 100 },
                    previewArgumentObject.timeAxis = { enabled: false,  minUnitWidth: 1.5},
                    previewArgumentObject.toolbar = { enabled: false },
                    previewArgumentObject.info = { enabled: false },
                    previewArgumentObject.interaction = {
                        scrolling: { enabled: false }, 
                        resizing: { enabled: false }, 
                        zooming: { enabled: false }, 
                        selection: { moveByDragging: true }
                    },
                    previewArgumentObject.scrollButtons = { enabled: false},
                    previewArgumentObject.events = {
                        onClick: function (e, args) { e.preventDefault(); },
                        selectionChangeDuringInteraction: true,
                        onSelectionChange: updateMainChart
                    },
                    previewArgumentObject.valueAxisDefault = { enabled: false },
                    previewArgumentObject.navigation = {
                        initialDisplayPeriod: "max",
                    };

                    if(previewArgumentObject.hasOwnProperty("series")){
                        let series = JSON.parse(JSON.stringify(previewArgumentObject.series));
                        for(let j=0;j<series.length;j++){
                            let object = JSON.parse(JSON.stringify(series[j]));
                            object.type = previewChart.hasOwnProperty("type") ? previewChart.type : "columns";
                            if(previewChart.hasOwnProperty("color")){
                                if(object.hasOwnProperty("style")){
                                    object.style.fillColor = previewChart.color;
                                    object.style.lineColor = previewChart.color;
                                } else {
                                    object.style = {fillColor: previewChart.color, lineColor: previewChart.color};
                                }
                            }
                            series[j] = object;
                        }
                        previewArgumentObject.series= series;
                   } else {
                        previewArgumentObject.series = [{ type: previewChart.hasOwnProperty("type") ? previewChart.type : "columns"}];
                        if(previewChart.hasOwnProperty("color")) previewArgumentObject.series[0].style = {fillColor: previewChart.color, lineColor: previewChart.color};
                    }

                    if(mainArgumentObject.hasOwnProperty("navigation")){
                        if(mainArgumentObject.navigation.hasOwnProperty("initialDisplayAnchor")){
                            previewArgumentObject.navigation = {
                                initialDisplayAnchor: mainArgumentObject.navigation.initialDisplayAnchor,
                                initialDisplayUnit: mainArgumentObject.navigation.initialDisplayUnit,
                                followAnchor: mainArgumentObject.navigation.followAnchor,
                                initialDisplayPeriod: `${mainArgumentObject.data.to - mainArgumentObject.data.from} ms`
                            };
                        }
                    }
    
                    let chart = new i.TimeChart.Impl(mainArgumentObject, r);
                    let select = new i.TimeChart.Impl(previewArgumentObject, r);
    
                    function updateOverviewChart(event, args) {
                        var range = limitSelection(args.timeStart, args.timeEnd);
                        if (range) {
                            let start = range[range[0] > range [1] ? 1 : 0];
                            let end = range[range[0] > range [1] ? 0 : 1];

                            if(start != end){
                                var n = select,
                                s = n.scene,
                                a = i.TimeChart.TimeStep.timeUnitDiffs,
                                o = !n.displayUnit || a[n.displayUnit.unit] < a.d;
                                if (void 0 !== start && void 0 !== end) {
                                    if (this._cachedApiCalls) return this._cachedApiCalls.push(function() {
                                        n.selection(start, end)
                                    }), [null, null];
                                    n.setSelection(s.timestampToInternal(+start, o), s.timestampToInternal(+end, o))
                                }
                            }
                        }
                    }
            
                    function updateMainChart(event, args) {
                        if (args.origin !== "api") {
                            let range = limitSelection(args.selectionStart, args.selectionEnd);
                            if (range) {
                                let start = range[range[0] > range [1] ? 1 : 0];
                                let end = range[range[0] > range [1] ? 0 : 1];
    
                                if(start != end){
                                    var r = chart,
                                    a = r.scene,
                                    o = i.TimeChart.TimeStep.timeUnitDiffs,
                                    l = !r.displayUnit || o[r.displayUnit.unit] < o.d;
                                    if (null != start && null != end) {
                                        if (this._cachedApiCalls) return this._cachedApiCalls.push(function() {
                                            r.time(start, end, false)
                                        }), [null, null];
                                        r.setTimeRange(a.timestampToInternal(+start, l), a.timestampToInternal(+end, l), false)
                                    }
                                            
                                    if (start !== args.selectionStart || end !== args.selectionEnd) {
                                        var n = select,
                                        s = n.scene,
                                        a = i.TimeChart.TimeStep.timeUnitDiffs,
                                        o = !n.displayUnit || a[n.displayUnit.unit] < a.d;
                                        if (void 0 !== start && void 0 !== end) {
                                            if (this._cachedApiCalls) return this._cachedApiCalls.push(function() {
                                                n.selection(start, end)
                                            }), [null, null];
                                            n.setSelection(null === start ? null : s.timestampToInternal(+start, o), null === end ? null : s.timestampToInternal(+end, o))
                                        }
                                    }
                                }
                            }
                        }
                    }
                
                    function limitSelection(start, end) {
                        if (start == null || end == null) {
                            var l = !chart.displayUnit || o[chart.displayUnit.unit] < o.d;
                            
                            start = chart.scene.timestampFromInternal(chart.timeStart, l);
                            end = chart.scene.timestampFromInternal(chart.timeEnd, l);
                        }
    
                        var l = !select.displayUnit || o[select.displayUnit.unit] < o.d;
                        let selectionStart = select.scene.timestampFromInternal(select.timeStart, l);
                        let selectionEnd = select.scene.timestampFromInternal(select.timeEnd, l);
    
                        return [
                            Math.max(start, selectionStart),
                            Math.min(end, selectionEnd)
                        ];
                    }
    
                    return r._cachedApiCalls = [], r.typeName = "TimeChart", e.chartFactoryMethod ? r._impl = e.chartFactoryMethod(function(t) {
                        return chart, select
                    }, n) : r._impl = [chart, select], r
                }
            }
            return r._cachedApiCalls = [], r.typeName = "TimeChart", e.chartFactoryMethod ? r._impl = e.chartFactoryMethod(function(t) {
                return [new i.TimeChart.Impl(t, r)]
            }, n) : r._impl = [new i.TimeChart.Impl(n, r)], r
        }

        return n(e, t), e.prototype._getImpl = function() {
            return this._impl[0]
        }, e.prototype._notifyAssetsLoaded = function() {
            var t = this._cachedApiCalls;
            if (null !== t) {
                this._cachedApiCalls = null;
                for (var e = 0; e < t.length; e++) t[e]()
            }
        }, e.prototype.updateSettings = function(e) {
            return t.prototype.updateSettings.call(this, e), this
        }, e.prototype.replaceSettings = function(e) {
            return t.prototype.replaceSettings.call(this, e), this
        }, e.prototype.on = function(e, i) {
            t.prototype.on.call(this, e, i)
        }, e.prototype.time = function(t, e, n) {
            var r = this;
            void 0 === n && (n = !0);
            var s = this._impl[0],
                a = s.scene,
                o = i.TimeChart.TimeStep.timeUnitDiffs,
                l = !s.displayUnit || o[s.displayUnit.unit] < o.d;
            if (null != t && null != e) {
                if (this._cachedApiCalls) return this._cachedApiCalls.push(function() {
                    r.time(t, e, n)
                }), [null, null];
                s.setTimeRange(a.timestampToInternal(+t, l), a.timestampToInternal(+e, l), n)
            }
            return [a.timestampFromInternal(s.timeStart, l), a.timestampFromInternal(s.timeEnd, l)]
        }, e.prototype.targetTime = function() {
            var t = this._impl[0],
                e = t.scene,
                n = t.scrolling,
                r = i.TimeChart.TimeStep.timeUnitDiffs,
                s = n.targetUnit || t.displayUnit;
            if (!s) return [null, null];
            var a = !t.displayUnit || r[t.displayUnit.unit] < r.d;
            return [e.timestampFromInternal(n.getFrom(), a), e.timestampFromInternal(n.getTo(), a)]
        }, e.prototype.targetDisplayUnit = function() {
            var t = this._impl[0],
                e = t.scrolling.targetUnit || t.displayUnit || t.scene.displayUnit;
            return e ? e.toString() : null
        }, e.prototype.getToolbarDisplayPeriod = function() {
            var t = (this._impl[0]).toolbar.items.filter(function(t) {
                    return t.getSelectedDisplayPeriod
                }),
                e = t.length > 0 ? t[0].getSelectedDisplayPeriod() : null;
            if (null !== e) return e;
            var i = this.targetTime();
            return i[0] + ">" + i[1]
        }, e.prototype.addData = function(t, e) {
            null == e && (e = "default");
            for(let i=0;i<(this._impl).length;i++) (this._impl[i]).addData(t, e);
        }, e.prototype.replaceData = function(t, e) {
            null == e && (e = "default");
            for(let i=0;i<(this._impl).length;i++) (this._impl[i]).replaceData(t, e);
        }, e.prototype.setDisplayPeriod = function(t, e, i, n) {
            var r = this;
            return void 0 === i && (i = !0), void 0 === n && (n = null), this._cachedApiCalls ? void this._cachedApiCalls.push(function() {
                r.setDisplayPeriod(t, e, i, n)
            }) : void (this._impl[0]).setDisplayPeriod(t, e, n, i)
        }, e.prototype.displayUnit = function(t, e, n) {
            var r = this;
            if (void 0 === e && (e = !0), void 0 !== n && i.Base.Helpers.warn("TimeChart.displayUnit() no longer supports the `rescale` parameter."), t) {
                if (this._cachedApiCalls) return this._cachedApiCalls.push(function() {
                    r.displayUnit(t, e)
                }), null;
                (this._impl[0]).setDisplayUnit(t, e, "api", !0)
            }
            return (this._impl[0]).displayUnit ? (this._impl[0]).displayUnit.toString() : null
        }, e.prototype.selection = function(t, e) {
            var n = this,
                r = (this._impl[0]),
                s = r.scene,
                a = i.TimeChart.TimeStep.timeUnitDiffs,
                o = !r.displayUnit || a[r.displayUnit.unit] < a.d;
            if (void 0 !== t && void 0 !== e) {
                if (this._cachedApiCalls) return this._cachedApiCalls.push(function() {
                    n.selection(t, e)
                }), [null, null];
                r.setSelection(null === t ? null : s.timestampToInternal(+t, o), null === e ? null : s.timestampToInternal(+e, o))
            }
            return [s.timestampFromInternal(r.scene.selectionStart, o), s.timestampFromInternal(r.scene.selectionEnd, o)]
        }, e.prototype.scroll = function(t, e, i) {
            return void 0 === e && (e = !0), void 0 === i && (i = !1), (this._impl[0]).scroll(t, e)
        }, e.prototype.zoomOut = function(t, e) {
            var n = this;
            return void 0 === e && (e = !0), this._cachedApiCalls ? void this._cachedApiCalls.push(function() {
                n.zoomOut(t, e)
            }) : void (this._impl[0]).zoomOut(e, "api", i.TimeChart.TimeStep.parse(t))
        }, e.prototype.zoomIn = function(t, e, n) {
            var r = this;
            if (void 0 === e && (e = null), void 0 === n && (n = !0), this._cachedApiCalls) return void this._cachedApiCalls.push(function() {
                r.zoomIn(t, e, n)
            });
            var s = (this._impl[0]),
                a = i.TimeChart.TimeStep.parse(t);
            if (null != e) {
                var o = a || s.displayUnit,
                    l = i.TimeChart.TimeStep.timeUnitDiffs,
                    h = !o || l[o.unit] < l.d;
                e = s.scene.timestampToInternal(+e, h)
            }
            s.zoomIn(a, e, n, "api")
        }, e.prototype.replaceSeries = function(t) {
            return (this._impl[0]).deprecated("replaceSeries", "replaceSettings"), this.replaceSettings({
                series: t
            })
        }, e.prototype.exportVisibleData = function() {
            return (this._impl[0]).exportVisibleData()
        }, e.prototype.showInfoPopup = function(t, e, n) {
            var r = this;
            if (this._cachedApiCalls) return void this._cachedApiCalls.push(function() {
                r.showInfoPopup(t, e, n)
            });
            var s = (this._impl[0]),
                a = s.scene,
                o = i.TimeChart.TimeStep.timeUnitDiffs,
                l = !s.displayUnit || o[s.displayUnit.unit] < o.d;
            s.showInfoPopup(null == t ? null : a.timestampToInternal(+t, l), null == e ? null : a.timestampToInternal(+e, l), n)
        }, e.prototype.getEnabledSeries = function() {
            return (this._impl[0]).getEnabledSeries()
        }, e.prototype.getSeries = function() {
            return (this._impl[0]).getSeries()
        }, e
    }(i.Base.Api);
    s.themes = {
        flat: i.TimeChart.Settings.FlatTheme,
        round: i.TimeChart.Settings.RoundTheme,
        gradient: i.TimeChart.Settings.GradientTheme,
        static: i.TimeChart.Settings.StaticChart,
        light: i.TimeChart.Settings.LightTheme,
        dark: i.TimeChart.Settings.DarkTheme
    }, s.chartFactoryMethod = null, t.TimeChart = s, i.Base.Helpers.exportSymbol("TimeChart", t.TimeChart);
    var a = function(t) {
        function e(n) {
            var r = t.call(this) || this;
            return r.typeName = "PieChart", e.chartFactoryMethod ? r._impl = e.chartFactoryMethod(function(t) {
                return new i.PieChart.Impl(t, r)
            }, n) : r._impl = new i.PieChart.Impl(n, r), r
        }
        return n(e, t), e.prototype.updateSettings = function(e) {
            return t.prototype.updateSettings.call(this, e), this
        }, e.prototype.replaceSettings = function(e) {
            return t.prototype.replaceSettings.call(this, e), this
        }, e.prototype.updateFilter = function() {
            return this._impl.updateFilter(), this
        }, e.prototype.addData = function(t, e) {
            null == e && (e = "default"), this._impl.addData(t, e)
        }, e.prototype.replaceData = function(t, e) {
            null == e && (e = "default"), this._impl.replaceData(t, e)
        }, e.prototype.selection = function(t) {
            if (t)
                if (Array.isArray(t)) {
                    for (var e = t.slice(), n = 0; n < e.length; n++) {
                        var r = e[n];
                        r instanceof i.PieChart.Slice ? e[n] = r.id : i.Base.Helpers.isString(r) || this._impl.error("PieChart.selection() - the argument must be an array of PieChart.Slice objects or strings.")
                    }
                    this._impl.setSelection(e)
                } else this._impl.error("PieChart.selection() - the argument must be an array of PieChart.Slice objects or strings.");
            return this._impl.scene.selection.slice()
        }, e.prototype.getPie = function() {
            return this._impl.getPie()
        }, e.prototype.getPieOffset = function() {
            return this._impl.navigator.getPieOffset()
        }, e.prototype.setPie = function(t, e) {
            return void 0 === e && (e = 0), null == e && (e = 0), this._impl.setPie(t, e), this
        }, e.prototype.setPieOffset = function(t) {
            return this._impl.setPieOffset(t), this
        }, e.prototype.getActiveSlices = function() {
            return this._impl.getActiveSlices()
        }, e.prototype.getActivePies = function() {
            return this._impl.getActivePies()
        }, e.prototype.getActivePie = function() {
            var t = this._impl.getActivePies();
            return t[t.length - 1]
        }, e.prototype.expandSlice = function(t) {
            return this._impl.expandSlice(t, "api")
        }, e.prototype.showInfoPopup = function(t, e, i) {
            return this._impl.showInfoPopup(t, e, i)
        }, e.prototype.getSliceDimensions = function(t, e) {
            return void 0 === e && (e = !1), null == e && (e = !1), this._impl.getSliceDimensions(t, e)
        }, e.prototype.on = function(e, i) {
            t.prototype.on.call(this, e, i)
        }, e
    }(i.Base.Api);
    a.themes = {
        dark: i.PieChart.Settings.DarkTheme,
        light: i.PieChart.Settings.LightTheme,
        flat: i.PieChart.Settings.FlatTheme,
        bevel: i.PieChart.Settings.BevelTheme,
        gradient: i.PieChart.Settings.GradientTheme,
        raised: i.PieChart.Settings.CanTheme,
        rounded: i.PieChart.Settings.RoundedTheme
    }, a.chartFactoryMethod = null, t.PieChart = a, i.Base.Helpers.exportSymbol("PieChart", t.PieChart);
    var o = function(t) {
        function e(n) {
            var r = t.call(this) || this;
            return r.typeName = "FacetChart", e.chartFactoryMethod ? r._impl = e.chartFactoryMethod(function(t) {
                return new i.FacetChart.Impl(t, r)
            }, n) : r._impl = new i.FacetChart.Impl(n, r), r
        }
        return n(e, t), e.prototype.updateSettings = function(e) {
            return t.prototype.updateSettings.call(this, e), this
        }, e.prototype.replaceSettings = function(e) {
            return t.prototype.replaceSettings.call(this, e), this
        }, e.prototype.addData = function(t, e) {
            null == e && (e = "default"), this._impl.addData(t, e)
        }, e.prototype.replaceData = function(t, e) {
            null == e && (e = "default"), this._impl.replaceData(t, e)
        }, e.prototype.updateFilter = function() {
            return this._impl.updateFilter(), this
        }, e.prototype.selection = function(t) {
            if (t)
                if (Array.isArray(t)) {
                    for (var e = t.slice(), n = 0; n < e.length; n++) {
                        var r = e[n];
                        r instanceof i.FacetChart.Item ? e[n] = r.id : i.Base.Helpers.isString(r) || this._impl.error("FacetChart.selection() - the argument must be an array of FacetChart.Item objects or strings.")
                    }
                    this._impl.setSelection(e)
                } else this._impl.error("FacetChart.selection() - the argument must be an array of FacetChart.Item objects or strings.");
            return this._impl.scene.selection.slice()
        }, e.prototype.setPie = function(t, e, i) {
            return void 0 === e && (e = 0), void 0 === i && (i = null), Array.isArray(t) || (t = [t]), this._impl.setPie(t, e, i), this
        }, e.prototype.getPie = function() {
            return this._impl.getPie()
        }, e.prototype.getPieOffset = function() {
            return this._impl.getPieOffset()
        }, e.prototype.getActiveItems = function() {
            return this._impl.getActiveItems()
        }, e.prototype.getActiveFacets = function() {
            return this._impl.getActiveFacets()
        }, e.prototype.getActiveFacet = function() {
            var t = this._impl.getActiveFacets();
            return t[t.length - 1]
        }, e.prototype.getItemAt = function(t, e) {
            return this._impl.scene.findItemAt(t, e)
        }, e.prototype.expandSlice = function(t, e) {
            return void 0 === e && (e = "api"), this._impl.expandItem(t, e)
        }, e.prototype.replaceSeries = function(t) {
            return this._impl.deprecated("replaceSeries", "replaceSettings"), this.replaceSettings({
                series: t
            })
        }, e.prototype.on = function(e, i) {
            t.prototype.on.call(this, e, i)
        }, e.prototype.getEnabledSeries = function() {
            return this._impl.getEnabledSeries()
        }, e.prototype.getSeries = function() {
            return this._impl.getSeries()
        }, e.prototype.zoomOut = function(t, e) {
            void 0 === t && (t = !0), void 0 === e && (e = "api"), this._impl.zoomOut(t, e)
        }, e
    }(i.Base.Api);
    o.themes = {
        dark: i.FacetChart.Settings.DarkTheme,
        light: i.FacetChart.Settings.LightTheme,
        horizontal: i.FacetChart.Settings.HorizontalTheme
    }, o.chartFactoryMethod = null, t.FacetChart = o, i.Base.Helpers.exportSymbol("FacetChart", t.FacetChart);
    var l = function(t) {
        function e(n) {
            var r = t.call(this) || this;
            return r.typeName = "GeoChart", e.chartFactoryMethod ? r._impl = e.chartFactoryMethod(function(t) {
                return new i.GeoChart.Impl(t, r)
            }, n) : r._impl = new i.GeoChart.Impl(n, r), r
        }
        return n(e, t), e.prototype.updateSettings = function(e) {
            return t.prototype.updateSettings.call(this, e), this
        }, e.prototype.replaceSettings = function(e) {
            return t.prototype.replaceSettings.call(this, e), this
        }, e.prototype.addData = function(t, e) {
            null == e && (e = "default"), this._impl.addData(t, e)
        }, e.prototype.replaceData = function(t, e) {
            null == e && (e = "default"), this._impl.replaceData(t, e)
        }, e.prototype.hideMenu = function() {
            return this._impl.hideMenu(), this
        }, e.prototype.getNode = function(t) {
            return this._impl.getNode(t)
        }, e.prototype.updateStyle = function(t) {
            t ? this._impl.renderer && (this._impl.renderer.touchObjects(t), this._impl.events.requestPaint()) : this._impl.updateStyle(null)
        }, e.prototype.selection = function(t) {
            return t && this._impl.setSelection(t), this._impl.scene.selection
        }, e.prototype.bounds = function(t) {
            t && this._impl.setBounds(t);
            var e = this._impl.scene.getVisibleBoundsLatLon();
            return {
                east: e.x1,
                north: e.y1,
                west: e.x0,
                south: e.y0
            }
        }, e.prototype.back = function() {
            return this._impl.back(), this
        }, e.prototype.zoomLevel = function(t) {
            return t && this._impl.setZoomLevel(t), this._impl.scene.zoomLevel
        }, e.prototype.getNodeDimensions = function(t) {
            return this._impl.getNodeDimensions(t)
        }, e.prototype.leaflet = function() {
            return this._impl.getMap()
        }, e.prototype.on = function(e, i) {
            t.prototype.on.call(this, e, i)
        }, e
    }(i.Base.Api);
    l.themes = {
        flat: i.GeoChart.Settings.FlatTheme
    }, l.chartFactoryMethod = null, t.GeoChart = l, i.Base.Helpers.exportSymbol("GeoChart", t.GeoChart), i.Base.Helpers.exportSymbol("BoomCharts", t);
}(BoomCharts || (BoomCharts = {})),
function(t) {
    t.epsilon = 1e-5;
    var e = function() {
        function e(t) {
            this.values = new Float32Array(4), void 0 !== t && (this.xyzw = t)
        }
        return Object.defineProperty(e.prototype, "x", {
            get: function() {
                return this.values[0]
            },
            set: function(t) {
                this.values[0] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "y", {
            get: function() {
                return this.values[1]
            },
            set: function(t) {
                this.values[1] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "z", {
            get: function() {
                return this.values[2]
            },
            set: function(t) {
                this.values[2] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "w", {
            get: function() {
                return this.values[3]
            },
            set: function(t) {
                this.values[3] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "xy", {
            get: function() {
                return [this.values[0], this.values[1]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "xyz", {
            get: function() {
                return [this.values[0], this.values[1], this.values[2]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1], this.values[2] = t[2]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "xyzw", {
            get: function() {
                return [this.values[0], this.values[1], this.values[2], this.values[3]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1], this.values[2] = t[2], this.values[3] = t[3]
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.at = function(t) {
            return this.values[t]
        }, e.prototype.reset = function() {
            for (var t = 0; t < 4; t++) this.values[t] = 0
        }, e.prototype.copy = function(t) {
            t || (t = new e);
            for (var i = 0; i < 4; i++) t.values[i] = this.values[i];
            return t
        }, e.prototype.roll = function() {
            var t = this.x,
                e = this.y,
                i = this.z,
                n = this.w;
            return Math.atan2(2 * (t * e + n * i), n * n + t * t - e * e - i * i)
        }, e.prototype.pitch = function() {
            var t = this.x,
                e = this.y,
                i = this.z,
                n = this.w;
            return Math.atan2(2 * (e * i + n * t), n * n - t * t - e * e + i * i)
        }, e.prototype.yaw = function() {
            return Math.asin(2 * (this.x * this.z - this.w * this.y))
        }, e.prototype.equals = function(e, i) {
            void 0 === i && (i = t.epsilon);
            for (var n = 0; n < 4; n++)
                if (Math.abs(this.values[n] - e.at(n)) > i) return !1;
            return !0
        }, e.prototype.setIdentity = function() {
            return this.x = 0, this.y = 0, this.z = 0, this.w = 1, this
        }, e.prototype.calculateW = function() {
            var t = this.x,
                e = this.y,
                i = this.z;
            return this.w = -Math.sqrt(Math.abs(1 - t * t - e * e - i * i)), this
        }, e.prototype.inverse = function() {
            var t = e.dot(this, this);
            if (!t) return this.xyzw = [0, 0, 0, 0], this;
            var i = t ? 1 / t : 0;
            return this.x *= -i, this.y *= -i, this.z *= -i, this.w *= i, this
        }, e.prototype.conjugate = function() {
            return this.values[0] *= -1, this.values[1] *= -1, this.values[2] *= -1, this
        }, e.prototype.length = function() {
            var t = this.x,
                e = this.y,
                i = this.z,
                n = this.w;
            return Math.sqrt(t * t + e * e + i * i + n * n)
        }, e.prototype.normalize = function(t) {
            t || (t = this);
            var e = this.x,
                i = this.y,
                n = this.z,
                r = this.w,
                s = Math.sqrt(e * e + i * i + n * n + r * r);
            return s ? (s = 1 / s, t.x = e * s, t.y = i * s, t.z = n * s, t.w = r * s, t) : (t.x = 0, t.y = 0, t.z = 0, t.w = 0, t)
        }, e.prototype.add = function(t) {
            for (var e = 0; e < 4; e++) this.values[e] += t.at(e);
            return this
        }, e.prototype.multiply = function(t) {
            var e = this.values[0],
                i = this.values[1],
                n = this.values[2],
                r = this.values[3],
                s = t.x,
                a = t.y,
                o = t.z,
                l = t.w;
            return this.x = e * l + r * s + i * o - n * a, this.y = i * l + r * a + n * s - e * o, this.z = n * l + r * o + e * a - i * s, this.w = r * l - e * s - i * a - n * o, this
        }, e.prototype.multiplyVec3 = function(t, e) {
            e || (e = new i);
            var n = t.x,
                r = t.y,
                s = t.z,
                a = this.x,
                o = this.y,
                l = this.z,
                h = this.w,
                u = h * n + o * s - l * r,
                c = h * r + l * n - a * s,
                d = h * s + a * r - o * n,
                p = -a * n - o * r - l * s;
            return e.x = u * h + p * -a + c * -l - d * -o, e.y = c * h + p * -o + d * -a - u * -l, e.z = d * h + p * -l + u * -o - c * -a, e
        }, e.prototype.toMat3 = function(t) {
            t || (t = new o);
            var e = this.x,
                i = this.y,
                n = this.z,
                r = this.w,
                s = e + e,
                a = i + i,
                l = n + n,
                h = e * s,
                u = e * a,
                c = e * l,
                d = i * a,
                p = i * l,
                f = n * l,
                g = r * s,
                m = r * a,
                v = r * l;
            return t.init([1 - (d + f), u + v, c - m, u - v, 1 - (h + f), p + g, c + m, p - g, 1 - (h + d)]), t
        }, e.prototype.toMat4 = function(t) {
            t || (t = new r);
            var e = this.x,
                i = this.y,
                n = this.z,
                s = this.w,
                a = e + e,
                o = i + i,
                l = n + n,
                h = e * a,
                u = e * o,
                c = e * l,
                d = i * o,
                p = i * l,
                f = n * l,
                g = s * a,
                m = s * o,
                v = s * l;
            return t.init([1 - (d + f), u + v, c - m, 0, u - v, 1 - (h + f), p + g, 0, c + m, p - g, 1 - (h + d), 0, 0, 0, 0, 1]), t
        }, e.dot = function(t, e) {
            return t.x * e.x + t.y * e.y + t.z * e.z + t.w * e.w
        }, e.sum = function(t, i, n) {
            return n || (n = new e), n.x = t.x + i.x, n.y = t.y + i.y, n.z = t.z + i.z, n.w = t.w + i.w, n
        }, e.product = function(t, i, n) {
            n || (n = new e);
            var r = t.x,
                s = t.y,
                a = t.z,
                o = t.w,
                l = i.x,
                h = i.y,
                u = i.z,
                c = i.w;
            return n.x = r * c + o * l + s * u - a * h, n.y = s * c + o * h + a * l - r * u, n.z = a * c + o * u + r * h - s * l, n.w = o * c - r * l - s * h - a * u, n
        }, e.cross = function(t, i, n) {
            n || (n = new e);
            var r = t.x,
                s = t.y,
                a = t.z,
                o = t.w,
                l = i.x,
                h = i.y,
                u = i.z,
                c = i.w;
            return n.x = o * u + a * c + r * h - s * l, n.y = o * c - r * l - s * h - a * u, n.z = o * l + r * c + s * u - a * h, n.w = o * h + s * c + a * l - r * u, n
        }, e.shortMix = function(t, i, n, r) {
            if (r || (r = new e), n <= 0) return r.xyzw = t.xyzw, r;
            if (n >= 1) return r.xyzw = i.xyzw, r;
            var s = e.dot(t, i),
                a = i.copy();
            s < 0 && (a.inverse(), s = -s);
            var o, l;
            if (s > .9999) o = 1 - n, l = 0 + n;
            else {
                var h = Math.sqrt(1 - s * s),
                    u = Math.atan2(h, s),
                    c = 1 / h;
                o = Math.sin((1 - n) * u) * c, l = Math.sin((0 + n) * u) * c
            }
            return r.x = o * t.x + l * a.x, r.y = o * t.y + l * a.y, r.z = o * t.z + l * a.z, r.w = o * t.w + l * a.w, r
        }, e.mix = function(t, i, n, r) {
            r || (r = new e);
            var s = t.x * i.x + t.y * i.y + t.z * i.z + t.w * i.w;
            if (Math.abs(s) >= 1) return r.xyzw = t.xyzw, r;
            var a = Math.acos(s),
                o = Math.sqrt(1 - s * s);
            if (Math.abs(o) < .001) return r.x = .5 * t.x + .5 * i.x, r.y = .5 * t.y + .5 * i.y, r.z = .5 * t.z + .5 * i.z, r.w = .5 * t.w + .5 * i.w, r;
            var l = Math.sin((1 - n) * a) / o,
                h = Math.sin(n * a) / o;
            return r.x = t.x * l + i.x * h, r.y = t.y * l + i.y * h, r.z = t.z * l + i.z * h, r.w = t.w * l + i.w * h, r
        }, e.fromAxisAngle = function(t, i, n) {
            n || (n = new e), i *= .5;
            var r = Math.sin(i);
            return n.x = t.x * r, n.y = t.y * r, n.z = t.z * r, n.w = Math.cos(i), n
        }, e
    }();
    e.identity = (new e).setIdentity(), t.quat = e;
    var i = function() {
        function i(t) {
            this.valueX = 0, this.valueY = 0, this.valueZ = 0, void 0 !== t && (this.xyz = t)
        }
        return Object.defineProperty(i.prototype, "x", {
            get: function() {
                return this.valueX
            },
            set: function(t) {
                this.valueX = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "y", {
            get: function() {
                return this.valueY
            },
            set: function(t) {
                this.valueY = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "z", {
            get: function() {
                return this.valueZ
            },
            set: function(t) {
                this.valueZ = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "xy", {
            get: function() {
                return [this.valueX, this.valueY]
            },
            set: function(t) {
                this.valueX = t[0], this.valueY = t[1]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "xyz", {
            get: function() {
                return [this.valueX, this.valueY, this.valueZ]
            },
            set: function(t) {
                this.valueX = t[0], this.valueY = t[1], this.valueZ = t[2]
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.getValues = function() {
            var t = new Float32Array(3);
            return t[0] = this.valueX, t[1] = this.valueY, t[2] = this.valueZ, t
        }, i.prototype.at = function(t) {
            return 0 === t ? this.valueX : 1 === t ? this.valueY : 2 == t ? this.valueZ : -1
        }, i.prototype.reset = function() {
            this.x = 0, this.y = 0, this.z = 0
        }, i.prototype.copy = function(t) {
            return t || (t = new i), t.x = this.x, t.y = this.y, t.z = this.z, t
        }, i.prototype.negate = function(t) {
            return t || (t = this), t.x = -this.x, t.y = -this.y, t.z = -this.z, t
        }, i.prototype.equals = function(e, i) {
            return void 0 === i && (i = t.epsilon), !(Math.abs(this.x - e.x) > i) && (!(Math.abs(this.y - e.y) > i) && !(Math.abs(this.z - e.z) > i))
        }, i.prototype.length = function() {
            return Math.sqrt(this.squaredLength())
        }, i.prototype.squaredLength = function() {
            var t = this.x,
                e = this.y,
                i = this.z;
            return t * t + e * e + i * i
        }, i.prototype.add = function(t) {
            return this.x += t.x, this.y += t.y, this.z += t.z, this
        }, i.prototype.subtract = function(t) {
            return this.x -= t.x, this.y -= t.y, this.z -= t.z, this
        }, i.prototype.multiply = function(t) {
            return this.x *= t.x, this.y *= t.y, this.z *= t.z, this
        }, i.prototype.divide = function(t) {
            return this.x /= t.x, this.y /= t.y, this.z /= t.z, this
        }, i.prototype.scale = function(t, e) {
            return e || (e = this), e.x *= t, e.y *= t, e.z *= t, e
        }, i.prototype.normalize = function(t) {
            t || (t = this);
            var e = this.length();
            return 1 === e ? this : 0 === e ? (t.x = 0, t.y = 0, t.z = 0, t) : (e = 1 / e, t.x *= e, t.y *= e, t.z *= e, t)
        }, i.prototype.multiplyByMat3 = function(t, e) {
            return e || (e = this), t.multiplyVec3(this, e)
        }, i.prototype.multiplyByQuat = function(t, e) {
            return e || (e = this), t.multiplyVec3(this, e)
        }, i.prototype.toQuat = function(t) {
            t || (t = new e);
            var n = new i,
                r = new i;
            return n.x = Math.cos(.5 * this.x), r.x = Math.sin(.5 * this.x), n.y = Math.cos(.5 * this.y), r.y = Math.sin(.5 * this.y), n.z = Math.cos(.5 * this.z), r.z = Math.sin(.5 * this.z), t.x = r.x * n.y * n.z - n.x * r.y * r.z, t.y = n.x * r.y * n.z + r.x * n.y * r.z, t.z = n.x * n.y * r.z - r.x * r.y * n.z, t.w = n.x * n.y * n.z + r.x * r.y * r.z, t
        }, i.cross = function(t, e, n) {
            n || (n = new i);
            var r = t.x,
                s = t.y,
                a = t.z,
                o = e.x,
                l = e.y,
                h = e.z;
            return n.x = s * h - a * l, n.y = a * o - r * h, n.z = r * l - s * o, n
        }, i.dot = function(t, e) {
            var i = t.x,
                n = t.y,
                r = t.z,
                s = e.x,
                a = e.y,
                o = e.z;
            return i * s + n * a + r * o
        }, i.distance = function(t, e) {
            e.x - t.x, e.y - t.y, e.z - t.z;
            return Math.sqrt(this.squaredDistance(t, e))
        }, i.squaredDistance = function(t, e) {
            var i = e.x - t.x,
                n = e.y - t.y,
                r = e.z - t.z;
            return i * i + n * n + r * r
        }, i.direction = function(t, e, n) {
            n || (n = new i);
            var r = t.x - e.x,
                s = t.y - e.y,
                a = t.z - e.z,
                o = Math.sqrt(r * r + s * s + a * a);
            return 0 === o ? (n.x = 0, n.y = 0, n.z = 0, n) : (o = 1 / o, n.x = r * o, n.y = s * o, n.z = a * o, n)
        }, i.mix = function(t, e, n, r) {
            return r || (r = new i), r.x = t.x + n * (e.x - t.x), r.y = t.y + n * (e.y - t.y), r.z = t.z + n * (e.z - t.z), r
        }, i.sum = function(t, e, n) {
            return n || (n = new i), n.x = t.x + e.x, n.y = t.y + e.y, n.z = t.z + e.z, n
        }, i.difference = function(t, e, n) {
            return n || (n = new i), n.x = t.x - e.x, n.y = t.y - e.y, n.z = t.z - e.z, n
        }, i.product = function(t, e, n) {
            return n || (n = new i), n.x = t.x * e.x, n.y = t.y * e.y, n.z = t.z * e.z, n
        }, i.quotient = function(t, e, n) {
            return n || (n = new i), n.x = t.x / e.x, n.y = t.y / e.y, n.z = t.z / e.z, n
        }, i
    }();
    i.zero = new i([0, 0, 0]), i.one = new i([1, 1, 1]), i.up = new i([0, 1, 0]), i.right = new i([1, 0, 0]), i.forward = new i([0, 0, 1]), t.vec3 = i;
    var n = function() {
        function e(t) {
            this.values = new Float32Array(4), void 0 !== t && (this.xyzw = t)
        }
        return Object.defineProperty(e.prototype, "x", {
            get: function() {
                return this.values[0]
            },
            set: function(t) {
                this.values[0] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "y", {
            get: function() {
                return this.values[1]
            },
            set: function(t) {
                this.values[1] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "z", {
            get: function() {
                return this.values[2]
            },
            set: function(t) {
                this.values[2] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "w", {
            get: function() {
                return this.values[3]
            },
            set: function(t) {
                this.values[3] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "xy", {
            get: function() {
                return [this.values[0], this.values[1]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "xyz", {
            get: function() {
                return [this.values[0], this.values[1], this.values[2]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1], this.values[2] = t[2]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "xyzw", {
            get: function() {
                return [this.values[0], this.values[1], this.values[2], this.values[3]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1], this.values[2] = t[2], this.values[3] = t[3]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "r", {
            get: function() {
                return this.values[0]
            },
            set: function(t) {
                this.values[0] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "g", {
            get: function() {
                return this.values[1]
            },
            set: function(t) {
                this.values[1] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "b", {
            get: function() {
                return this.values[2]
            },
            set: function(t) {
                this.values[2] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "a", {
            get: function() {
                return this.values[3]
            },
            set: function(t) {
                this.values[3] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "rg", {
            get: function() {
                return [this.values[0], this.values[1]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "rgb", {
            get: function() {
                return [this.values[0], this.values[1], this.values[2]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1], this.values[2] = t[2]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "rgba", {
            get: function() {
                return [this.values[0], this.values[1], this.values[2], this.values[3]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1], this.values[2] = t[2], this.values[3] = t[3]
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.at = function(t) {
            return this.values[t]
        }, e.prototype.reset = function() {
            this.x = 0, this.y = 0, this.z = 0, this.w = 0
        }, e.prototype.copy = function(t) {
            return t || (t = new e), t.x = this.x, t.y = this.y, t.z = this.z, t.w = this.w, t
        }, e.prototype.negate = function(t) {
            return t || (t = this), t.x = -this.x, t.y = -this.y, t.z = -this.z, t.w = -this.w, t
        }, e.prototype.equals = function(e, i) {
            return void 0 === i && (i = t.epsilon), !(Math.abs(this.x - e.x) > i) && (!(Math.abs(this.y - e.y) > i) && (!(Math.abs(this.z - e.z) > i) && !(Math.abs(this.w - e.w) > i)))
        }, e.prototype.length = function() {
            return Math.sqrt(this.squaredLength())
        }, e.prototype.squaredLength = function() {
            var t = this.x,
                e = this.y,
                i = this.z,
                n = this.w;
            return t * t + e * e + i * i + n * n
        }, e.prototype.add = function(t) {
            return this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this
        }, e.prototype.subtract = function(t) {
            return this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this
        }, e.prototype.multiply = function(t) {
            return this.x *= t.x, this.y *= t.y, this.z *= t.z, this.w *= t.w, this
        }, e.prototype.divide = function(t) {
            return this.x /= t.x, this.y /= t.y, this.z /= t.z, this.w /= t.w, this
        }, e.prototype.scale = function(t, e) {
            return e || (e = this), e.x *= t, e.y *= t, e.z *= t, e.w *= t, e
        }, e.prototype.normalize = function(t) {
            t || (t = this);
            var e = this.length();
            return 1 === e ? this : 0 === e ? (t.x *= 0, t.y *= 0, t.z *= 0, t.w *= 0, t) : (e = 1 / e, t.x *= e, t.y *= e, t.z *= e, t.w *= e, t)
        }, e.prototype.multiplyMat4 = function(t, e) {
            return e || (e = this), t.multiplyVec4(this, e)
        }, e.mix = function(t, i, n, r) {
            return r || (r = new e), r.x = t.x + n * (i.x - t.x), r.y = t.y + n * (i.y - t.y), r.z = t.z + n * (i.z - t.z), r.w = t.w + n * (i.w - t.w), r
        }, e.sum = function(t, i, n) {
            return n || (n = new e), n.x = t.x + i.x, n.y = t.y + i.y, n.z = t.z + i.z, n.w = t.w + i.w, n
        }, e.difference = function(t, i, n) {
            return n || (n = new e), n.x = t.x - i.x, n.y = t.y - i.y, n.z = t.z - i.z, n.w = t.w - i.w, n
        }, e.product = function(t, i, n) {
            return n || (n = new e), n.x = t.x * i.x, n.y = t.y * i.y, n.z = t.z * i.z, n.w = t.w * i.w, n
        }, e.quotient = function(t, i, n) {
            return n || (n = new e), n.x = t.x / i.x, n.y = t.y / i.y, n.z = t.z / i.z, n.w = t.w / i.w, n
        }, e
    }();
    n.zero = new n([0, 0, 0, 1]), n.one = new n([1, 1, 1, 1]), t.vec4 = n;
    var r = function() {
        function e(t) {
            this.values = new Float32Array(16), void 0 !== t && this.init(t)
        }
        return e.prototype.getValues = function() {
            return this.values
        }, e.prototype.at = function(t) {
            return this.values[t]
        }, e.prototype.init = function(t) {
            for (var e = 0; e < 16; e++) this.values[e] = t[e];
            return this
        }, e.prototype.reset = function() {
            for (var t = 0; t < 16; t++) this.values[t] = 0
        }, e.prototype.copy = function(t) {
            t || (t = new e);
            for (var i = 0; i < 16; i++) t.values[i] = this.values[i];
            return t
        }, e.prototype.all = function() {
            for (var t = [], e = 0; e < 16; e++) t[e] = this.values[e];
            return t
        }, e.prototype.row = function(t) {
            return [this.values[4 * t + 0], this.values[4 * t + 1], this.values[4 * t + 2], this.values[4 * t + 3]]
        }, e.prototype.col = function(t) {
            return [this.values[t], this.values[t + 4], this.values[t + 8], this.values[t + 12]]
        }, e.prototype.equals = function(e, i) {
            void 0 === i && (i = t.epsilon);
            for (var n = 0; n < 16; n++)
                if (Math.abs(this.values[n] - e.at(n)) > i) return !1;
            return !0
        }, e.prototype.determinant = function() {
            var t = this.values[0],
                e = this.values[1],
                i = this.values[2],
                n = this.values[3],
                r = this.values[4],
                s = this.values[5],
                a = this.values[6],
                o = this.values[7],
                l = this.values[8],
                h = this.values[9],
                u = this.values[10],
                c = this.values[11],
                d = this.values[12],
                p = this.values[13],
                f = this.values[14],
                g = this.values[15],
                m = t * s - e * r,
                v = t * a - i * r,
                y = t * o - n * r,
                S = e * a - i * s,
                b = e * o - n * s,
                x = i * o - n * a,
                C = l * p - h * d,
                w = l * f - u * d,
                L = l * g - c * d,
                T = h * f - u * p,
                M = h * g - c * p,
                k = u * g - c * f;
            return m * k - v * M + y * T + S * L - b * w + x * C
        }, e.prototype.setIdentity = function() {
            return this.values[0] = 1, this.values[1] = 0, this.values[2] = 0, this.values[3] = 0, this.values[4] = 0, this.values[5] = 1, this.values[6] = 0, this.values[7] = 0, this.values[8] = 0, this.values[9] = 0, this.values[10] = 1, this.values[11] = 0, this.values[12] = 0, this.values[13] = 0, this.values[14] = 0, this.values[15] = 1, this
        }, e.prototype.setViewTransform = function(t, e, i, n, r) {
            return this.values[0] = t, this.values[1] = 0, this.values[2] = 0, this.values[3] = 0, this.values[4] = 0, this.values[5] = i, this.values[6] = 0, this.values[7] = 0, this.values[8] = 0, this.values[9] = 0, this.values[10] = 1, this.values[11] = 0, this.values[12] = e, this.values[13] = n, this.values[14] = 0, this.values[15] = 1, this
        }, e.prototype.transpose = function() {
            var t = this.values[1],
                e = this.values[2],
                i = this.values[3],
                n = this.values[6],
                r = this.values[7],
                s = this.values[11];
            return this.values[1] = this.values[4], this.values[2] = this.values[8], this.values[3] = this.values[12], this.values[4] = t, this.values[6] = this.values[9], this.values[7] = this.values[13], this.values[8] = e, this.values[9] = n, this.values[11] = this.values[14], this.values[12] = i, this.values[13] = r, this.values[14] = s, this
        }, e.prototype.inverse = function() {
            var t = this.values[0],
                e = this.values[1],
                i = this.values[2],
                n = this.values[3],
                r = this.values[4],
                s = this.values[5],
                a = this.values[6],
                o = this.values[7],
                l = this.values[8],
                h = this.values[9],
                u = this.values[10],
                c = this.values[11],
                d = this.values[12],
                p = this.values[13],
                f = this.values[14],
                g = this.values[15],
                m = t * s - e * r,
                v = t * a - i * r,
                y = t * o - n * r,
                S = e * a - i * s,
                b = e * o - n * s,
                x = i * o - n * a,
                C = l * p - h * d,
                w = l * f - u * d,
                L = l * g - c * d,
                T = h * f - u * p,
                M = h * g - c * p,
                k = u * g - c * f,
                P = m * k - v * M + y * T + S * L - b * w + x * C;
            return P ? (P = 1 / P, this.values[0] = (s * k - a * M + o * T) * P, this.values[1] = (-e * k + i * M - n * T) * P, this.values[2] = (p * x - f * b + g * S) * P, this.values[3] = (-h * x + u * b - c * S) * P, this.values[4] = (-r * k + a * L - o * w) * P, this.values[5] = (t * k - i * L + n * w) * P, this.values[6] = (-d * x + f * y - g * v) * P, this.values[7] = (l * x - u * y + c * v) * P, this.values[8] = (r * M - s * L + o * C) * P, this.values[9] = (-t * M + e * L - n * C) * P, this.values[10] = (d * b - p * y + g * m) * P, this.values[11] = (-l * b + h * y - c * m) * P, this.values[12] = (-r * T + s * w - a * C) * P, this.values[13] = (t * T - e * w + i * C) * P, this.values[14] = (-d * S + p * v - f * m) * P, this.values[15] = (l * S - h * v + u * m) * P, this) : null
        }, e.prototype.multiply = function(t) {
            var e = this.values[0],
                i = this.values[1],
                n = this.values[2],
                r = this.values[3],
                s = this.values[4],
                a = this.values[5],
                o = this.values[6],
                l = this.values[7],
                h = this.values[8],
                u = this.values[9],
                c = this.values[10],
                d = this.values[11],
                p = this.values[12],
                f = this.values[13],
                g = this.values[14],
                m = this.values[15],
                v = t.at(0),
                y = t.at(1),
                S = t.at(2),
                b = t.at(3);
            return this.values[0] = v * e + y * s + S * h + b * p, this.values[1] = v * i + y * a + S * u + b * f, this.values[2] = v * n + y * o + S * c + b * g, this.values[3] = v * r + y * l + S * d + b * m, v = t.at(4), y = t.at(5), S = t.at(6), b = t.at(7), this.values[4] = v * e + y * s + S * h + b * p, this.values[5] = v * i + y * a + S * u + b * f, this.values[6] = v * n + y * o + S * c + b * g, this.values[7] = v * r + y * l + S * d + b * m, v = t.at(8), y = t.at(9), S = t.at(10), b = t.at(11), this.values[8] = v * e + y * s + S * h + b * p, this.values[9] = v * i + y * a + S * u + b * f, this.values[10] = v * n + y * o + S * c + b * g, this.values[11] = v * r + y * l + S * d + b * m, v = t.at(12), y = t.at(13), S = t.at(14), b = t.at(15), this.values[12] = v * e + y * s + S * h + b * p, this.values[13] = v * i + y * a + S * u + b * f, this.values[14] = v * n + y * o + S * c + b * g, this.values[15] = v * r + y * l + S * d + b * m, this
        }, e.prototype.multiplyVec3 = function(t) {
            var e = t.x,
                n = t.y,
                r = t.z;
            return new i([this.values[0] * e + this.values[4] * n + this.values[8] * r + this.values[12], this.values[1] * e + this.values[5] * n + this.values[9] * r + this.values[13], this.values[2] * e + this.values[6] * n + this.values[10] * r + this.values[14]])
        }, e.prototype.multiplyVec4 = function(t, e) {
            e || (e = new n);
            var i = t.x,
                r = t.y,
                s = t.z,
                a = t.w;
            return e.x = this.values[0] * i + this.values[4] * r + this.values[8] * s + this.values[12] * a, e.y = this.values[1] * i + this.values[5] * r + this.values[9] * s + this.values[13] * a, e.z = this.values[2] * i + this.values[6] * r + this.values[10] * s + this.values[14] * a, e.w = this.values[3] * i + this.values[7] * r + this.values[11] * s + this.values[15] * a, e
        }, e.prototype.toMat3 = function() {
            return new o([this.values[0], this.values[1], this.values[2], this.values[4], this.values[5], this.values[6], this.values[8], this.values[9], this.values[10]])
        }, e.prototype.toInverseMat3 = function() {
            var t = this.values[0],
                e = this.values[1],
                i = this.values[2],
                n = this.values[4],
                r = this.values[5],
                s = this.values[6],
                a = this.values[8],
                l = this.values[9],
                h = this.values[10],
                u = h * r - s * l,
                c = -h * n + s * a,
                d = l * n - r * a,
                p = t * u + e * c + i * d;
            return p ? (p = 1 / p, new o([u * p, (-h * e + i * l) * p, (s * e - i * r) * p, c * p, (h * t - i * a) * p, (-s * t + i * n) * p, d * p, (-l * t + e * a) * p, (r * t - e * n) * p])) : null
        }, e.prototype.translateFromVector = function(t) {
            return this.translate(t.x, t.y, t.z)
        }, e.prototype.translate = function(t, e, i) {
            return this.values[12] += this.values[0] * t + this.values[4] * e + this.values[8] * i, this.values[13] += this.values[1] * t + this.values[5] * e + this.values[9] * i, this.values[14] += this.values[2] * t + this.values[6] * e + this.values[10] * i, this.values[15] += this.values[3] * t + this.values[7] * e + this.values[11] * i, this
        }, e.prototype.setDrawLineMatrix = function(t, e, i, n, r, s, a, o) {
            return this.values[0] = i * r, this.values[1] = -n * r, this.values[2] = 0, this.values[3] = 0, this.values[4] = n * s, this.values[5] = i * s, this.values[6] = 0, this.values[7] = 0, this.values[8] = a, this.values[9] = o, this.values[10] = s, this.values[11] = 0, this.values[12] = t, this.values[13] = e, this.values[14] = 0, this.values[15] = 1, this
        }, e.prototype.scaleFromVector = function(t) {
            return this.scale(t.x, t.y, t.z)
        }, e.prototype.scale = function(t, e, i) {
            return this.values[0] *= t, this.values[1] *= t, this.values[2] *= t, this.values[3] *= t, this.values[4] *= e, this.values[5] *= e, this.values[6] *= e, this.values[7] *= e, this.values[8] *= i, this.values[9] *= i, this.values[10] *= i, this.values[11] *= i, this
        }, e.prototype.rotateFromVector = function(t, e) {
            return this.rotate(t, e.x, e.y, e.z)
        }, e.prototype.rotate = function(t, e, i, n) {
            var r = Math.sqrt(e * e + i * i + n * n);
            if (!r) return null;
            1 !== r && (r = 1 / r, e *= r, i *= r, n *= r);
            var s = Math.sin(t),
                a = Math.cos(t),
                o = 1 - a,
                l = this.values[0],
                h = this.values[1],
                u = this.values[2],
                c = this.values[3],
                d = this.values[4],
                p = this.values[5],
                f = this.values[6],
                g = this.values[7],
                m = this.values[8],
                v = this.values[9],
                y = this.values[10],
                S = this.values[11],
                b = e * e * o + a,
                x = i * e * o + n * s,
                C = n * e * o - i * s,
                w = e * i * o - n * s,
                L = i * i * o + a,
                T = n * i * o + e * s,
                M = e * n * o + i * s,
                k = i * n * o - e * s,
                P = n * n * o + a;
            return this.values[0] = l * b + d * x + m * C, this.values[1] = h * b + p * x + v * C, this.values[2] = u * b + f * x + y * C, this.values[3] = c * b + g * x + S * C, this.values[4] = l * w + d * L + m * T, this.values[5] = h * w + p * L + v * T, this.values[6] = u * w + f * L + y * T, this.values[7] = c * w + g * L + S * T, this.values[8] = l * M + d * k + m * P, this.values[9] = h * M + p * k + v * P, this.values[10] = u * M + f * k + y * P, this.values[11] = c * M + g * k + S * P, this
        }, e.frustum = function(t, i, n, r, s, a) {
            var o = i - t,
                l = r - n,
                h = a - s;
            return new e([2 * s / o, 0, 0, 0, 0, 2 * s / l, 0, 0, (i + t) / o, (r + n) / l, -(a + s) / h, -1, 0, 0, -(a * s * 2) / h, 0])
        }, e.perspective = function(t, i, n, r) {
            var s = n * Math.tan(t / 2),
                a = s * i;
            return e.frustum(-a, a, -s, s, n, r)
        }, e.orthographic = function(t, i, n, r, s, a) {
            var o = i - t,
                l = r - n,
                h = a - s;
            return new e([2 / o, 0, 0, 0, 0, 2 / l, 0, 0, 0, 0, -2 / h, 0, -(t + i) / o, -(r + n) / l, -(a + s) / h, 1])
        }, e.lookAt = function(t, n, r) {
            if (void 0 === r && (r = i.up), t.equals(n)) return this.identity;
            var s = i.difference(t, n).normalize(),
                a = i.cross(r, s).normalize(),
                o = i.cross(s, a).normalize();
            return new e([a.x, o.x, s.x, 0, a.y, o.y, s.y, 0, a.z, o.z, s.z, 0, -i.dot(a, t), -i.dot(o, t), -i.dot(s, t), 1])
        }, e.multiplyToNewMatrix = function(t, i) {
            var n = new e;
            return e.product(t, i, n)
        }, e.product = function(t, i, n) {
            var r = t.at(0),
                s = t.at(1),
                a = t.at(2),
                o = t.at(3),
                l = t.at(4),
                h = t.at(5),
                u = t.at(6),
                c = t.at(7),
                d = t.at(8),
                p = t.at(9),
                f = t.at(10),
                g = t.at(11),
                m = t.at(12),
                v = t.at(13),
                y = t.at(14),
                S = t.at(15),
                b = i.at(0),
                x = i.at(1),
                C = i.at(2),
                w = i.at(3),
                L = i.at(4),
                T = i.at(5),
                M = i.at(6),
                k = i.at(7),
                P = i.at(8),
                A = i.at(9),
                I = i.at(10),
                D = i.at(11),
                N = i.at(12),
                O = i.at(13),
                F = i.at(14),
                E = i.at(15);
            return n ? (n.init([b * r + x * l + C * d + w * m, b * s + x * h + C * p + w * v, b * a + x * u + C * f + w * y, b * o + x * c + C * g + w * S, L * r + T * l + M * d + k * m, L * s + T * h + M * p + k * v, L * a + T * u + M * f + k * y, L * o + T * c + M * g + k * S, P * r + A * l + I * d + D * m, P * s + A * h + I * p + D * v, P * a + A * u + I * f + D * y, P * o + A * c + I * g + D * S, N * r + O * l + F * d + E * m, N * s + O * h + F * p + E * v, N * a + O * u + F * f + E * y, N * o + O * c + F * g + E * S]), n) : new e([b * r + x * l + C * d + w * m, b * s + x * h + C * p + w * v, b * a + x * u + C * f + w * y, b * o + x * c + C * g + w * S, L * r + T * l + M * d + k * m, L * s + T * h + M * p + k * v, L * a + T * u + M * f + k * y, L * o + T * c + M * g + k * S, P * r + A * l + I * d + D * m, P * s + A * h + I * p + D * v, P * a + A * u + I * f + D * y, P * o + A * c + I * g + D * S, N * r + O * l + F * d + E * m, N * s + O * h + F * p + E * v, N * a + O * u + F * f + E * y, N * o + O * c + F * g + E * S])
        }, e
    }();
    r.identity = (new r).setIdentity(), t.mat4 = r;
    var s = function() {
        function e(t) {
            this.values = new Float32Array(4), void 0 !== t && this.init(t)
        }
        return e.prototype.at = function(t) {
            return this.values[t]
        }, e.prototype.init = function(t) {
            for (var e = 0; e < 4; e++) this.values[e] = t[e];
            return this
        }, e.prototype.reset = function() {
            for (var t = 0; t < 4; t++) this.values[t] = 0
        }, e.prototype.copy = function(t) {
            t || (t = new e);
            for (var i = 0; i < 4; i++) t.values[i] = this.values[i];
            return t
        }, e.prototype.all = function() {
            for (var t = [], e = 0; e < 4; e++) t[e] = this.values[e];
            return t
        }, e.prototype.row = function(t) {
            return [this.values[2 * t + 0], this.values[2 * t + 1]]
        }, e.prototype.col = function(t) {
            return [this.values[t], this.values[t + 2]]
        }, e.prototype.equals = function(e, i) {
            void 0 === i && (i = t.epsilon);
            for (var n = 0; n < 4; n++)
                if (Math.abs(this.values[n] - e.at(n)) > i) return !1;
            return !0
        }, e.prototype.determinant = function() {
            return this.values[0] * this.values[3] - this.values[2] * this.values[1]
        }, e.prototype.setIdentity = function() {
            return this.values[0] = 1, this.values[1] = 0, this.values[2] = 0, this.values[3] = 1, this
        }, e.prototype.transpose = function() {
            var t = this.values[1];
            return this.values[1] = this.values[2], this.values[2] = t, this
        }, e.prototype.inverse = function() {
            var t = this.determinant();
            if (!t) return null;
            t = 1 / t;
            var e = this.values[0];
            return this.values[0] = t * this.values[3], this.values[1] = t * -this.values[1], this.values[2] = t * -this.values[2], this.values[3] = t * e, this
        }, e.prototype.multiply = function(t) {
            var e = this.values[0],
                i = this.values[1],
                n = this.values[2],
                r = this.values[3];
            return this.values[0] = e * t.at(0) + i * t.at(2), this.values[1] = e * t.at(1) + i * t.at(3), this.values[2] = n * t.at(0) + r * t.at(2), this.values[3] = n * t.at(1) + r * t.at(3), this
        }, e.prototype.rotate = function(t) {
            var e = this.values[0],
                i = this.values[1],
                n = this.values[2],
                r = this.values[3],
                s = Math.sin(t),
                a = Math.cos(t);
            return this.values[0] = e * a + i * s, this.values[1] = e * -s + i * a, this.values[2] = n * a + r * s, this.values[3] = n * -s + r * a, this
        }, e.prototype.multiplyVec2 = function(t, e) {
            var i = t.x,
                n = t.y;
            return e ? (e.xy = [i * this.values[0] + n * this.values[1], i * this.values[2] + n * this.values[3]], e) : new a([i * this.values[0] + n * this.values[1], i * this.values[2] + n * this.values[3]])
        }, e.prototype.scale = function(t) {
            var e = this.values[0],
                i = this.values[1],
                n = this.values[2],
                r = this.values[3],
                s = t.x,
                a = t.y;
            return this.values[0] = e * s, this.values[1] = i * a, this.values[2] = n * s, this.values[3] = r * a, this
        }, e.product = function(t, i, n) {
            var r = t.at(0),
                s = t.at(1),
                a = t.at(2),
                o = t.at(3);
            return n ? (n.init([r * i.at(0) + s * i.at(2), r * i.at(1) + s * i.at(3), a * i.at(0) + o * i.at(2), a * i.at(1) + o * i.at(3)]), n) : new e([r * i.at(0) + s * i.at(2), r * i.at(1) + s * i.at(3), a * i.at(0) + o * i.at(2), a * i.at(1) + o * i.at(3)])
        }, e
    }();
    s.identity = (new s).setIdentity(), t.mat2 = s;
    var a = function() {
        function e(t) {
            this.values = new Float32Array(2), void 0 !== t && (this.xy = t)
        }
        return Object.defineProperty(e.prototype, "x", {
            get: function() {
                return this.values[0]
            },
            set: function(t) {
                this.values[0] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "y", {
            get: function() {
                return this.values[1]
            },
            set: function(t) {
                this.values[1] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "xy", {
            get: function() {
                return [this.values[0], this.values[1]]
            },
            set: function(t) {
                this.values[0] = t[0], this.values[1] = t[1]
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.at = function(t) {
            return this.values[t]
        }, e.prototype.reset = function() {
            this.x = 0, this.y = 0
        }, e.prototype.copy = function(t) {
            return t || (t = new e), t.x = this.x, t.y = this.y, t
        }, e.prototype.negate = function(t) {
            return t || (t = this), t.x = -this.x, t.y = -this.y, t
        }, e.prototype.equals = function(e, i) {
            return void 0 === i && (i = t.epsilon), !(Math.abs(this.x - e.x) > i) && !(Math.abs(this.y - e.y) > i)
        }, e.prototype.length = function() {
            return Math.sqrt(this.squaredLength())
        }, e.prototype.squaredLength = function() {
            var t = this.x,
                e = this.y;
            return t * t + e * e
        }, e.prototype.add = function(t) {
            return this.x += t.x, this.y += t.y, this
        }, e.prototype.subtract = function(t) {
            return this.x -= t.x, this.y -= t.y, this
        }, e.prototype.multiply = function(t) {
            return this.x *= t.x, this.y *= t.y, this
        }, e.prototype.divide = function(t) {
            return this.x /= t.x, this.y /= t.y, this
        }, e.prototype.scale = function(t, e) {
            return e || (e = this), e.x *= t, e.y *= t, e
        }, e.prototype.normalize = function(t) {
            t || (t = this);
            var e = this.length();
            return 1 === e ? this : 0 === e ? (t.x = 0, t.y = 0, t) : (e = 1 / e, t.x *= e, t.y *= e, t)
        }, e.prototype.multiplyMat2 = function(t, e) {
            return e || (e = this), t.multiplyVec2(this, e)
        }, e.prototype.multiplyMat3 = function(t, e) {
            return e || (e = this), t.multiplyVec2(this, e)
        }, e.cross = function(t, e, n) {
            n || (n = new i);
            var r = t.x,
                s = t.y,
                a = e.x,
                o = e.y,
                l = r * o - s * a;
            return n.x = 0, n.y = 0, n.z = l, n
        }, e.dot = function(t, e) {
            return t.x * e.x + t.y * e.y
        }, e.distance = function(t, e) {
            return Math.sqrt(this.squaredDistance(t, e))
        }, e.squaredDistance = function(t, e) {
            var i = e.x - t.x,
                n = e.y - t.y;
            return i * i + n * n
        }, e.direction = function(t, i, n) {
            n || (n = new e);
            var r = t.x - i.x,
                s = t.y - i.y,
                a = Math.sqrt(r * r + s * s);
            return 0 === a ? (n.x = 0, n.y = 0, n) : (a = 1 / a, n.x = r * a, n.y = s * a, n)
        }, e.mix = function(t, i, n, r) {
            r || (r = new e);
            var s = t.x,
                a = t.y,
                o = i.x,
                l = i.y;
            return r.x = s + n * (o - s), r.y = a + n * (l - a), r
        }, e.sum = function(t, i, n) {
            return n || (n = new e), n.x = t.x + i.x, n.y = t.y + i.y, n
        }, e.difference = function(t, i, n) {
            return n || (n = new e), n.x = t.x - i.x, n.y = t.y - i.y, n
        }, e.product = function(t, i, n) {
            return n || (n = new e), n.x = t.x * i.x, n.y = t.y * i.y, n
        }, e.quotient = function(t, i, n) {
            return n || (n = new e), n.x = t.x / i.x, n.y = t.y / i.y, n
        }, e
    }();
    a.zero = new a([0, 0]), a.one = new a([1, 1]), t.vec2 = a;
    var o = function() {
        function n(t) {
            this.values = new Float32Array(9), void 0 !== t && this.init(t)
        }
        return n.prototype.at = function(t) {
            return this.values[t]
        }, n.prototype.init = function(t) {
            for (var e = 0; e < 9; e++) this.values[e] = t[e];
            return this
        }, n.prototype.reset = function() {
            for (var t = 0; t < 9; t++) this.values[t] = 0
        }, n.prototype.copy = function(t) {
            t || (t = new n);
            for (var e = 0; e < 9; e++) t.values[e] = this.values[e];
            return t
        }, n.prototype.all = function() {
            for (var t = [], e = 0; e < 9; e++) t[e] = this.values[e];
            return t
        }, n.prototype.row = function(t) {
            return [this.values[3 * t + 0], this.values[3 * t + 1], this.values[3 * t + 2]]
        }, n.prototype.col = function(t) {
            return [this.values[t], this.values[t + 3], this.values[t + 6]];
        }, n.prototype.equals = function(e, i) {
            void 0 === i && (i = t.epsilon);
            for (var n = 0; n < 9; n++)
                if (Math.abs(this.values[n] - e.at(n)) > i) return !1;
            return !0
        }, n.prototype.determinant = function() {
            var t = this.values[0],
                e = this.values[1],
                i = this.values[2],
                n = this.values[3],
                r = this.values[4],
                s = this.values[5],
                a = this.values[6],
                o = this.values[7],
                l = this.values[8],
                h = l * r - s * o,
                u = -l * n + s * a,
                c = o * n - r * a;
            return t * h + e * u + i * c
        }, n.prototype.setIdentity = function() {
            return this.values[0] = 1, this.values[1] = 0, this.values[2] = 0, this.values[3] = 0, this.values[4] = 1, this.values[5] = 0, this.values[6] = 0, this.values[7] = 0, this.values[8] = 1, this
        }, n.prototype.transpose = function() {
            var t = this.values[1],
                e = this.values[2],
                i = this.values[5];
            return this.values[1] = this.values[3], this.values[2] = this.values[6], this.values[3] = t, this.values[5] = this.values[7], this.values[6] = e, this.values[7] = i, this
        }, n.prototype.inverse = function() {
            var t = this.values[0],
                e = this.values[1],
                i = this.values[2],
                n = this.values[3],
                r = this.values[4],
                s = this.values[5],
                a = this.values[6],
                o = this.values[7],
                l = this.values[8],
                h = l * r - s * o,
                u = -l * n + s * a,
                c = o * n - r * a,
                d = t * h + e * u + i * c;
            return d ? (d = 1 / d, this.values[0] = h * d, this.values[1] = (-l * e + i * o) * d, this.values[2] = (s * e - i * r) * d, this.values[3] = u * d, this.values[4] = (l * t - i * a) * d, this.values[5] = (-s * t + i * n) * d, this.values[6] = c * d, this.values[7] = (-o * t + e * a) * d, this.values[8] = (r * t - e * n) * d, this) : null
        }, n.prototype.multiply = function(t) {
            var e = this.values[0],
                i = this.values[1],
                n = this.values[2],
                r = this.values[3],
                s = this.values[4],
                a = this.values[5],
                o = this.values[6],
                l = this.values[7],
                h = this.values[8],
                u = t.at(0),
                c = t.at(1),
                d = t.at(2),
                p = t.at(3),
                f = t.at(4),
                g = t.at(5),
                m = t.at(6),
                v = t.at(7),
                y = t.at(8);
            return this.values[0] = u * e + c * r + d * o, this.values[1] = u * i + c * s + d * l, this.values[2] = u * n + c * a + d * h, this.values[3] = p * e + f * r + g * o, this.values[4] = p * i + f * s + g * l, this.values[5] = p * n + f * a + g * h, this.values[6] = m * e + v * r + y * o, this.values[7] = m * i + v * s + y * l, this.values[8] = m * n + v * a + y * h, this
        }, n.prototype.multiplyVec2 = function(t, e) {
            var i = t.x,
                n = t.y;
            return e ? (e.xy = [i * this.values[0] + n * this.values[3] + this.values[6], i * this.values[1] + n * this.values[4] + this.values[7]], e) : new a([i * this.values[0] + n * this.values[3] + this.values[6], i * this.values[1] + n * this.values[4] + this.values[7]])
        }, n.prototype.multiplyVec3 = function(t, e) {
            var n = t.x,
                r = t.y,
                s = t.z;
            return e ? (e.xyz = [n * this.values[0] + r * this.values[3] + s * this.values[6], n * this.values[1] + r * this.values[4] + s * this.values[7], n * this.values[2] + r * this.values[5] + s * this.values[8]], e) : new i([n * this.values[0] + r * this.values[3] + s * this.values[6], n * this.values[1] + r * this.values[4] + s * this.values[7], n * this.values[2] + r * this.values[5] + s * this.values[8]])
        }, n.prototype.toMat4 = function(t) {
            return t ? (t.init([this.values[0], this.values[1], this.values[2], 0, this.values[3], this.values[4], this.values[5], 0, this.values[6], this.values[7], this.values[8], 0, 0, 0, 0, 1]), t) : new r([this.values[0], this.values[1], this.values[2], 0, this.values[3], this.values[4], this.values[5], 0, this.values[6], this.values[7], this.values[8], 0, 0, 0, 0, 1])
        }, n.prototype.toQuat = function() {
            var t = this.values[0],
                i = this.values[1],
                n = this.values[2],
                r = this.values[3],
                s = this.values[4],
                a = this.values[5],
                o = this.values[6],
                l = this.values[7],
                h = this.values[8],
                u = t - s - h,
                c = s - t - h,
                d = h - t - s,
                p = t + s + h,
                f = 0,
                g = p;
            u > g && (g = u, f = 1), c > g && (g = c, f = 2), d > g && (g = d, f = 3);
            var m = .5 * Math.sqrt(g + 1),
                v = .25 / m,
                y = new e;
            switch (f) {
                case 0:
                    y.w = m, y.x = (a - l) * v, y.y = (o - n) * v, y.z = (i - r) * v;
                    break;
                case 1:
                    y.w = (a - l) * v, y.x = m, y.y = (i + r) * v, y.z = (o + n) * v;
                    break;
                case 2:
                    y.w = (o - n) * v, y.x = (i + r) * v, y.y = m, y.z = (a + l) * v;
                    break;
                case 3:
                    y.w = (i - r) * v, y.x = (o + n) * v, y.y = (a + l) * v, y.z = m
            }
            return y
        }, n.prototype.rotate = function(t, e) {
            var i = e.x,
                n = e.y,
                r = e.z,
                s = Math.sqrt(i * i + n * n + r * r);
            if (!s) return null;
            1 !== s && (s = 1 / s, i *= s, n *= s, r *= s);
            var a = Math.sin(t),
                o = Math.cos(t),
                l = 1 - o,
                h = this.values[0],
                u = this.values[1],
                c = this.values[2],
                d = this.values[4],
                p = this.values[5],
                f = this.values[6],
                g = this.values[8],
                m = this.values[9],
                v = this.values[10],
                y = i * i * l + o,
                S = n * i * l + r * a,
                b = r * i * l - n * a,
                x = i * n * l - r * a,
                C = n * n * l + o,
                w = r * n * l + i * a,
                L = i * r * l + n * a,
                T = n * r * l - i * a,
                M = r * r * l + o;
            return this.values[0] = h * y + d * S + g * b, this.values[1] = u * y + p * S + m * b, this.values[2] = c * y + f * S + v * b, this.values[3] = h * x + d * C + g * w, this.values[4] = u * x + p * C + m * w, this.values[5] = c * x + f * C + v * w, this.values[6] = h * L + d * T + g * M, this.values[7] = u * L + p * T + m * M, this.values[8] = c * L + f * T + v * M, this
        }, n.product = function(t, e, i) {
            var r = t.at(0),
                s = t.at(1),
                a = t.at(2),
                o = t.at(3),
                l = t.at(4),
                h = t.at(5),
                u = t.at(6),
                c = t.at(7),
                d = t.at(8),
                p = e.at(0),
                f = e.at(1),
                g = e.at(2),
                m = e.at(3),
                v = e.at(4),
                y = e.at(5),
                S = e.at(6),
                b = e.at(7),
                x = e.at(8);
            return i ? (i.init([p * r + f * o + g * u, p * s + f * l + g * c, p * a + f * h + g * d, m * r + v * o + y * u, m * s + v * l + y * c, m * a + v * h + y * d, S * r + b * o + x * u, S * s + b * l + x * c, S * a + b * h + x * d]), i) : new n([p * r + f * o + g * u, p * s + f * l + g * c, p * a + f * h + g * d, m * r + v * o + y * u, m * s + v * l + y * c, m * a + v * h + y * d, S * r + b * o + x * u, S * s + b * l + x * c, S * a + b * h + x * d])
        }, n
    }();
    o.identity = (new o).setIdentity(), t.mat3 = o
}(BoomCharts || (BoomCharts = {}));

/** @preserve
 * ==================================================================== 
 * jsPDF
 * Copyright (c) 2010 James Hall, https://github.com/MrRio/jsPDF
 * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
var jsPDF = function() {
    function n(r, u, f, e) {
        r = typeof r == "undefined" ? "p" : r.toString().toLowerCase();
        typeof u == "undefined" && (u = "mm");
        typeof f == "undefined" && (f = "a4");
        typeof e == "undefined" && typeof zpipe == "undefined" && (e = !1);
        var at = f.toString().toLowerCase(),
            ei = "0.9.0rc2",
            vt = [],
            it = 0,
            oi = e,
            si = "1.3",
            yt = {
                a0: [2383.94, 3370.39],
                a1: [1683.78, 2383.94],
                a2: [1190.55, 1683.78],
                a3: [841.89, 1190.55],
                a4: [595.28, 841.89],
                a5: [419.53, 595.28],
                a6: [297.64, 419.53],
                a7: [209.76, 297.64],
                a8: [147.4, 209.76],
                a9: [104.88, 147.4],
                a10: [73.7, 104.88],
                b0: [2834.65, 4008.19],
                b1: [2004.09, 2834.65],
                b2: [1417.32, 2004.09],
                b3: [1000.63, 1417.32],
                b4: [708.66, 1000.63],
                b5: [498.9, 708.66],
                b6: [354.33, 498.9],
                b7: [249.45, 354.33],
                b8: [175.75, 249.45],
                b9: [124.72, 175.75],
                b10: [87.87, 124.72],
                c0: [2599.37, 3676.54],
                c1: [1836.85, 2599.37],
                c2: [1298.27, 1836.85],
                c3: [918.43, 1298.27],
                c4: [649.13, 918.43],
                c5: [459.21, 649.13],
                c6: [323.15, 459.21],
                c7: [229.61, 323.15],
                c8: [161.57, 229.61],
                c9: [113.39, 161.57],
                c10: [79.37, 113.39],
                letter: [612, 792],
                "government-letter": [576, 756],
                legal: [612, 1008],
                "junior-legal": [576, 360],
                ledger: [1224, 792],
                tabloid: [792, 1224]
            },
            pt = "0 g",
            hi = "0 G",
            nt = 0,
            rt = [],
            w = 2,
            ht = !1,
            ut = [],
            a = {},
            d = {},
            ft = 16,
            p, ci = .200025,
            gt = 1.15,
            c, b, s, y = {
                title: "",
                subject: "",
                author: "",
                keywords: "",
                creator: ""
            },
            wt = 0,
            bt = 0,
            l = {},
            k = new i(l),
            ct, et, h = function(n) {
                return n.toFixed(2)
            },
            v = function(n) {
                return n.toFixed(3)
            },
            ot = function(n) {
                var t = n.toFixed(0);
                return n < 10 ? "0" + t : t
            },
            li = function(n) {
                var t = n.toFixed(0);
                return t.length < 10 ? new Array(11 - t.length).join("0") + t : t
            },
            o = function(n) {
                ht ? rt[nt].push(n) : (vt.push(n), it += n.length + 1)
            },
            tt = function() {
                return w++, ut[w] = it, o(w + " 0 obj"), w
            },
            ni = function(n) {
                o("stream");
                o(n);
                o("endstream")
            },
            ti, ii, kt, ai = function() {
                ti = b * s;
                ii = c * s;
                for (var t, i, n, f, r, u = 1; u <= nt; u++) {
                    if (tt(), o("<<\/Type /Page"), o("/Parent 1 0 R"), o("/Resources 2 0 R"), o("/Contents " + (w + 1) + " 0 R>>"), o("endobj"), t = rt[u].join("\n"), tt(), oi) {
                        for (i = [], n = 0; n < t.length; ++n) i[n] = t.charCodeAt(n);
                        r = adler32cs.from(t);
                        f = new Deflater(6);
                        f.append(new Uint8Array(i));
                        t = f.flush();
                        i = [new Uint8Array([120, 156]), new Uint8Array(t), new Uint8Array([r & 255, r >> 8 & 255, r >> 16 & 255, r >> 24 & 255])];
                        t = "";
                        for (n in i) i.hasOwnProperty(n) && (t += String.fromCharCode.apply(null, i[n]));
                        o("<<\/Length " + t.length + " /Filter [/FlateDecode]>>")
                    } else o("<<\/Length " + t.length + ">>");
                    ni(t);
                    o("endobj")
                }
                for (ut[1] = it, o("1 0 obj"), o("<<\/Type /Pages"), kt = "/Kids [", n = 0; n < nt; n++) kt += 3 + 2 * n + " 0 R ";
                o(kt + "]");
                o("/Count " + nt);
                o("/MediaBox [0 0 " + h(ti) + " " + h(ii) + "]");
                o(">>");
                o("endobj")
            },
            vi = function(n) {
                n.objectNumber = tt();
                o("<<\/BaseFont/" + n.PostScriptName + "/Type/Font");
                typeof n.encoding == "string" && o("/Encoding/" + n.encoding);
                o("/Subtype/Type1>>");
                o("endobj")
            },
            yi = function() {
                for (var n in a) a.hasOwnProperty(n) && vi(a[n])
            },
            pi = function() {
                k.publish("putXobjectDict")
            },
            wi = function() {
                o("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");
                o("/Font <<");
                for (var n in a) a.hasOwnProperty(n) && o("/" + n + " " + a[n].objectNumber + " 0 R");
                o(">>");
                o("/XObject <<");
                pi();
                o(">>")
            },
            bi = function() {
                yi();
                k.publish("putResources");
                ut[2] = it;
                o("2 0 obj");
                o("<<");
                wi();
                o(">>");
                o("endobj");
                k.publish("postPutResources")
            },
            ri = function(n, t, i) {
                var r;
                d[t] === r && (d[t] = {});
                d[t][i] = n
            },
            ki = function(n, i, r, u) {
                var f = "F" + (t(a) + 1).toString(10),
                    e = a[f] = {
                        id: f,
                        PostScriptName: n,
                        fontName: i,
                        fontStyle: r,
                        encoding: u,
                        metadata: {}
                    };
                return ri(f, i, r), k.publish("addFont", e), f
            },
            di = function() {
                for (var i = "helvetica", r = "times", u = "courier", f = "normal", e = "bold", o = "italic", s = "bolditalic", t = [
                        ["Helvetica", i, f],
                        ["Helvetica-Bold", i, e],
                        ["Helvetica-Oblique", i, o],
                        ["Helvetica-BoldOblique", i, s],
                        ["Courier", u, f],
                        ["Courier-Bold", u, e],
                        ["Courier-Oblique", u, o],
                        ["Courier-BoldOblique", u, s],
                        ["Times-Roman", r, f],
                        ["Times-Bold", r, e],
                        ["Times-Italic", r, o],
                        ["Times-BoldItalic", r, s]
                    ], l, h, n = 0, c = t.length; n < c; n++) l = ki(t[n][0], t[n][1], t[n][2], "StandardEncoding"), h = t[n][0].split("-"), ri(l, h[0], h[1] || "");
                k.publish("addFonts", {
                    fonts: a,
                    dictionary: d
                })
            },
            gi = function(n, t) {
                var i, s, l, e, h, r, u, o, f, c;
                if (t === l && (t = {}), e = t.sourceEncoding ? e : "Unicode", r = t.outputEncoding, (t.autoencode || r) && a[p].metadata && a[p].metadata[e] && a[p].metadata[e].encoding && (h = a[p].metadata[e].encoding, !r && a[p].encoding && (r = a[p].encoding), !r && h.codePages && (r = h.codePages[0]), typeof r == "string" && (r = h[r]), r)) {
                    for (o = !1, u = [], i = 0, s = n.length; i < s; i++) f = r[n.charCodeAt(i)], f ? u.push(String.fromCharCode(f)) : u.push(n[i]), u[i].charCodeAt(0) >> 8 && (o = !0);
                    n = u.join("")
                }
                for (i = n.length; o === l && i !== 0;) n.charCodeAt(i - 1) >> 8 && (o = !0), i--;
                if (o) {
                    for (u = t.noBOM ? [] : [254, 255], i = 0, s = n.length; i < s; i++) {
                        if (f = n.charCodeAt(i), c = f >> 8, c >> 8) throw new Error("Character at position " + i.toString(10) + " of string '" + n + "' exceeds 16bits. Cannot be encoded into UCS-2 BE");
                        u.push(c);
                        u.push(f - (c << 8))
                    }
                    return String.fromCharCode.apply(l, u)
                }
                return n
            },
            g = function(n, t) {
                return gi(n, t).replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)")
            },
            nr = function() {
                o("/Producer (jsPDF " + ei + ")");
                y.title && o("/Title (" + g(y.title) + ")");
                y.subject && o("/Subject (" + g(y.subject) + ")");
                y.author && o("/Author (" + g(y.author) + ")");
                y.keywords && o("/Keywords (" + g(y.keywords) + ")");
                y.creator && o("/Creator (" + g(y.creator) + ")");
                var n = new Date;
                o("/CreationDate (D:" + [n.getFullYear(), ot(n.getMonth() + 1), ot(n.getDate()), ot(n.getHours()), ot(n.getMinutes()), ot(n.getSeconds())].join("") + ")")
            },
            tr = function() {
                o("/Type /Catalog");
                o("/Pages 1 0 R");
                o("/OpenAction [3 0 R /FitH null]");
                o("/PageLayout /OneColumn");
                k.publish("putCatalog")
            },
            ir = function() {
                o("/Size " + (w + 1));
                o("/Root " + w + " 0 R");
                o("/Info " + (w - 1) + " 0 R")
            },
            rr = function() {
                nt++;
                ht = !0;
                rt[nt] = []
            },
            ui = function() {
                rr();
                o(h(ci * s) + " w");
                o(hi);
                wt !== 0 && o(wt.toString(10) + " J");
                bt !== 0 && o(bt.toString(10) + " j");
                k.publish("addPage", {
                    pageNumber: nt
                })
            },
            dt = function(n, t) {
                var i, r;
                n === r && (n = a[p].fontName);
                t === r && (t = a[p].fontStyle);
                try {
                    i = d[n][t]
                } catch (u) {
                    i = r
                }
                if (!i) throw new Error("Unable to look up font label for font '" + n + "', '" + t + "'. Refer to getFontList() for available fonts.");
                return i
            },
            st = function() {
                ht = !1;
                vt = [];
                ut = [];
                o("%PDF-" + si);
                ai();
                bi();
                tt();
                o("<<");
                nr();
                o(">>");
                o("endobj");
                tt();
                o("<<");
                tr();
                o(">>");
                o("endobj");
                var t = it,
                    n;
                for (o("xref"), o("0 " + (w + 1)), o("0000000000 65535 f "), n = 1; n <= w; n++) o(li(ut[n]) + " 00000 n ");
                return o("trailer"), o("<<"), ir(), o(">>"), o("startxref"), o(t), o("%%EOF"), ht = !0, vt.join("\n")
            },
            lt = function(n) {
                var t = "S";
                return n === "F" ? t = "f" : (n === "FD" || n === "DF") && (t = "B"), t
            },
            fi = function(n, t) {
                var o, r, u, f, i, e;
                switch (n) {
                    case o:
                        return st();
                    case "save":
                        if (navigator.getUserMedia && (window.URL === undefined || window.URL.createObjectURL === undefined)) return l.output("dataurlnewwindow");
                        for (r = st(), u = r.length, f = new Uint8Array(new ArrayBuffer(u)), i = 0; i < u; i++) f[i] = r.charCodeAt(i);
                        e = new Blob([f], {
                            type: "application/pdf"
                        });
                        saveAs(e, t);
                        break;
                    case "datauristring":
                    case "dataurlstring":
                        return "data:application/pdf;base64," + btoa(st());
                    case "datauri":
                    case "dataurl":
                        document.location.href = "data:application/pdf;base64," + btoa(st());
                        break;
                    case "dataurlnewwindow":
                        window.open("data:application/pdf;base64," + btoa(st()));
                        break;
                    default:
                        throw new Error('Output type "' + n + '" is not supported.');
                }
            };
        if (u === "pt") s = 1;
        else if (u === "mm") s = 72 / 25.4;
        else if (u === "cm") s = 72 / 2.54;
        else if (u === "in") s = 72;
        else throw "Invalid unit: " + u;
        if (yt.hasOwnProperty(at)) c = yt[at][1] / s, b = yt[at][0] / s;
        else try {
            c = f[1];
            b = f[0]
        } catch (ur) {
            throw "Invalid format: " + f;
        }
        if (r === "p" || r === "portrait") r = "p", b > c && (ct = b, b = c, c = ct);
        else if (r === "l" || r === "landscape") r = "l", c > b && (ct = b, b = c, c = ct);
        else throw "Invalid orientation: " + r;
        l.internal = {
            pdfEscape: g,
            getStyle: lt,
            getFont: function() {
                return a[dt.apply(l, arguments)]
            },
            getFontSize: function() {
                return ft
            },
            getLineHeight: function() {
                return ft * gt
            },
            btoa: btoa,
            write: function(n) {
                o(arguments.length === 1 ? n : Array.prototype.join.call(arguments, " "))
            },
            getCoordinateString: function(n) {
                return h(n * s)
            },
            getVerticalCoordinateString: function(n) {
                return h((c - n) * s)
            },
            collections: {},
            newObject: tt,
            putStream: ni,
            events: k,
            scaleFactor: s,
            pageSize: {
                width: b,
                height: c
            },
            output: function(n, t) {
                return fi(n, t)
            },
            getNumberOfPages: function() {
                return rt.length - 1
            },
            pages: rt
        };
        l.addPage = function() {
            return ui(), this
        };
        l.text = function(n, t, i, r) {
            var l, a, v, y, u, e, f;
            if (typeof n == "number" && (a = i, v = n, y = t, n = a, t = v, i = y), typeof n == "string" && n.match(/[\n\r]/) && (n = n.split(/\r\n|\r|\n/g)), typeof r == "undefined" ? r = {
                    noBOM: !0,
                    autoencode: !0
                } : (r.noBOM === l && (r.noBOM = !0), r.autoencode === l && (r.autoencode = !0)), typeof n == "string") e = g(n, r);
            else if (n instanceof Array) {
                for (u = n.concat(), f = u.length - 1; f !== -1; f--) u[f] = g(u[f], r);
                e = u.join(") Tj\nT* (")
            } else throw new Error('Type of text must be string or Array. "' + n + '" is not recognized.');
            return o("BT\n/" + p + " " + ft + " Tf\n" + ft * gt + " TL\n" + pt + "\n" + h(t * s) + " " + h((c - i) * s) + " Td\n(" + e + ") Tj\nET"), this
        };
        l.line = function(n, t, i, r) {
            return o(h(n * s) + " " + h((c - t) * s) + " m " + h(i * s) + " " + h((c - r) * s) + " l S"), this
        };
        l.lines = function(n, t, i, r, u, f) {
            var rt, w, b, k, a, y, p, d, e, g, nt, tt, it, h, l;
            for (typeof n == "number" && (w = i, b = n, k = t, n = w, t = b, i = k), u = lt(u), r = r === rt ? [1, 1] : r, o(v(t * s) + " " + v((c - i) * s) + " m "), a = r[0], y = r[1], d = n.length, h = t, l = i, p = 0; p < d; p++) e = n[p], e.length === 2 ? (h = e[0] * a + h, l = e[1] * y + l, o(v(h * s) + " " + v((c - l) * s) + " l")) : (g = e[0] * a + h, nt = e[1] * y + l, tt = e[2] * a + h, it = e[3] * y + l, h = e[4] * a + h, l = e[5] * y + l, o(v(g * s) + " " + v((c - nt) * s) + " " + v(tt * s) + " " + v((c - it) * s) + " " + v(h * s) + " " + v((c - l) * s) + " c"));
            return f == !0 && o(" h"), o(u), this
        };
        l.rect = function(n, t, i, r, u) {
            var f = lt(u);
            return o([h(n * s), h((c - t) * s), h(i * s), h(-r * s), "re", f].join(" ")), this
        };
        l.triangle = function(n, t, i, r, u, f, e) {
            return this.lines([
                [i - n, r - t],
                [u - i, f - r],
                [n - u, t - f]
            ], n, t, [1, 1], e, !0), this
        };
        l.roundedRect = function(n, t, i, r, u, f, e) {
            var o = 4 / 3 * (Math.SQRT2 - 1);
            return this.lines([
                [i - 2 * u, 0],
                [u * o, 0, u, f - f * o, u, f],
                [0, r - 2 * f],
                [0, f * o, -(u * o), f, -u, f],
                [-i + 2 * u, 0],
                [-(u * o), 0, -u, -(f * o), -u, -f],
                [0, -r + 2 * f],
                [0, -(f * o), u * o, -f, u, -f]
            ], n + u, t, [1, 1], e), this
        };
        l.ellipse = function(n, t, i, r, u) {
            var l = lt(u),
                f = 4 / 3 * (Math.SQRT2 - 1) * i,
                e = 4 / 3 * (Math.SQRT2 - 1) * r;
            return o([h((n + i) * s), h((c - t) * s), "m", h((n + i) * s), h((c - (t - e)) * s), h((n + f) * s), h((c - (t - r)) * s), h(n * s), h((c - (t - r)) * s), "c"].join(" ")), o([h((n - f) * s), h((c - (t - r)) * s), h((n - i) * s), h((c - (t - e)) * s), h((n - i) * s), h((c - t) * s), "c"].join(" ")), o([h((n - i) * s), h((c - (t + e)) * s), h((n - f) * s), h((c - (t + r)) * s), h(n * s), h((c - (t + r)) * s), "c"].join(" ")), o([h((n + f) * s), h((c - (t + r)) * s), h((n + i) * s), h((c - (t + e)) * s), h((n + i) * s), h((c - t) * s), "c", l].join(" ")), this
        };
        l.circle = function(n, t, i, r) {
            return this.ellipse(n, t, i, i, r)
        };
        l.setProperties = function(n) {
            for (var t in y) y.hasOwnProperty(t) && n[t] && (y[t] = n[t]);
            return this
        };
        l.setFontSize = function(n) {
            return ft = n, this
        };
        l.setFont = function(n, t) {
            return p = dt(n, t), this
        };
        l.setFontStyle = l.setFontType = function(n) {
            var t;
            return p = dt(t, n), this
        };
        l.getFontList = function() {
            var i = {},
                n, t, r;
            for (n in d)
                if (d.hasOwnProperty(n)) {
                    i[n] = r = [];
                    for (t in d[n]) d[n].hasOwnProperty(t) && r.push(t)
                } return i
        };
        l.setLineWidth = function(n) {
            return o((n * s).toFixed(2) + " w"), this
        };
        l.setDrawColor = function(n, t, i, r) {
            var u;
            return u = t === undefined || r === undefined && n === t === i ? typeof n == "string" ? n + " G" : h(n / 255) + " G" : r === undefined ? typeof n == "string" ? [n, t, i, "RG"].join(" ") : [h(n / 255), h(t / 255), h(i / 255), "RG"].join(" ") : typeof n == "string" ? [n, t, i, r, "K"].join(" ") : [h(n), h(t), h(i), h(r), "K"].join(" "), o(u), this
        };
        l.setFillColor = function(n, t, i, r) {
            var u;
            return u = t === undefined || r === undefined && n === t === i ? typeof n == "string" ? n + " g" : h(n / 255) + " g" : r === undefined ? typeof n == "string" ? [n, t, i, "rg"].join(" ") : [h(n / 255), h(t / 255), h(i / 255), "rg"].join(" ") : typeof n == "string" ? [n, t, i, r, "k"].join(" ") : [h(n), h(t), h(i), h(r), "k"].join(" "), o(u), this
        };
        l.setTextColor = function(n, t, i) {
            var u, r;
            return typeof n == "string" && /#[0-9A-Fa-f]{6}/.test(n) && (u = n.replace("#", ""), r = parseInt(u, 16), n = r >> 16 & 255, t = r >> 8 & 255, i = r & 255), pt = n === 0 && t === 0 && i === 0 || typeof t == "undefined" ? v(n / 255) + " g" : [v(n / 255), v(t / 255), v(i / 255), "rg"].join(" "), this
        };
        l.CapJoinStyles = {
            0: 0,
            butt: 0,
            but: 0,
            miter: 0,
            1: 1,
            round: 1,
            rounded: 1,
            circle: 1,
            2: 2,
            projecting: 2,
            project: 2,
            square: 2,
            bevel: 2
        };
        l.setLineCap = function(n) {
            var t = this.CapJoinStyles[n];
            if (t === undefined) throw new Error("Line cap style of '" + n + "' is not recognized. See or extend .CapJoinStyles property for valid styles");
            return wt = t, o(t.toString(10) + " J"), this
        };
        l.setLineJoin = function(n) {
            var t = this.CapJoinStyles[n];
            if (t === undefined) throw new Error("Line join style of '" + n + "' is not recognized. See or extend .CapJoinStyles property for valid styles");
            return bt = t, o(t.toString(10) + " j"), this
        };
        l.output = fi;
        l.save = function(n) {
            l.output("save", n)
        };
        for (et in n.API) n.API.hasOwnProperty(et) && (et === "events" && n.API.events.length ? ! function(n, t) {
            for (var u, r, i = t.length - 1; i !== -1; i--) u = t[i][0], r = t[i][1], n.subscribe.apply(n, [u].concat(typeof r == "function" ? [r] : r))
        }(k, n.API.events) : l[et] = n.API[et]);
        return di(), p = "F1", ui(), k.publish("initialized"), l
    }
    typeof btoa == "undefined" && (window.btoa = function(n) {
        var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),
            e, o, s, h, c, l, a, t, r = 0,
            y = 0,
            f = "",
            v = [],
            u;
        do e = n.charCodeAt(r++), o = n.charCodeAt(r++), s = n.charCodeAt(r++), t = e << 16 | o << 8 | s, h = t >> 18 & 63, c = t >> 12 & 63, l = t >> 6 & 63, a = t & 63, v[y++] = i[h] + i[c] + i[l] + i[a]; while (r < n.length);
        return f = v.join(""), u = n.length % 3, (u ? f.slice(0, u - 3) : f) + "===".slice(u || 3)
    });
    typeof atob == "undefined" && (window.atob = function(n) {
        var i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
            r, f, s, h, c, e, o, u, t = 0,
            a = 0,
            l = [];
        if (!n) return n;
        n += "";
        do h = i.indexOf(n.charAt(t++)), c = i.indexOf(n.charAt(t++)), e = i.indexOf(n.charAt(t++)), o = i.indexOf(n.charAt(t++)), u = h << 18 | c << 12 | e << 6 | o, r = u >> 16 & 255, f = u >> 8 & 255, s = u & 255, l[a++] = e === 64 ? String.fromCharCode(r) : o === 64 ? String.fromCharCode(r, f) : String.fromCharCode(r, f, s); while (t < n.length);
        return l.join("")
    });
    var t = typeof Object.keys == "function" ? function(n) {
            return Object.keys(n).length
        } : function(n) {
            var t = 0;
            for (var i in n) n.hasOwnProperty(i) && t++;
            return t
        },
        i = function(n) {
            this.topics = {};
            this.context = n;
            this.publish = function(n, t) {
                if (this.topics[n]) {
                    var f = this.topics[n],
                        e = [],
                        o, i, r, u, s = function() {};
                    for (t = Array.prototype.slice.call(arguments, 1), i = 0, r = f.length; i < r; i++) u = f[i], o = u[0], u[1] && (u[0] = s, e.push(i)), o.apply(this.context, t);
                    for (i = 0, r = e.length; i < r; i++) f.splice(e[i], 1)
                }
            };
            this.subscribe = function(n, t, i) {
                return this.topics[n] ? this.topics[n].push([t, i]) : this.topics[n] = [
                    [t, i]
                ], {
                    topic: n,
                    callback: t
                }
            };
            this.unsubscribe = function(n) {
                if (this.topics[n.topic])
                    for (var i = this.topics[n.topic], t = 0, r = i.length; t < r; t++) i[t][0] === n.callback && i.splice(t, 1)
            }
        };
    return n.API = {
        events: []
    }, n
}();
/** @preserve
 * ==================================================================== 
 * jsPDF addImage plugin (JPEG only at this time)
 * Copyright (c) 2012 https://github.com/siefkenj/
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
! function(n) {
    var t = "addImage_",
        i = function(n) {
            var i, r;
            if (!1 || !n.charCodeAt(6) === "J".charCodeAt(0) || !n.charCodeAt(7) === "F".charCodeAt(0) || !n.charCodeAt(8) === "I".charCodeAt(0) || !n.charCodeAt(9) === "F".charCodeAt(0) || !1) throw new Error("getJpegSize requires a binary jpeg file");
            for (var u = n.charCodeAt(4) * 256 + n.charCodeAt(5), t = 4, f = n.length; t < f;) {
                if (t += u, n.charCodeAt(t) !== 255) throw new Error("getJpegSize could not find the size of the image");
                if (n.charCodeAt(t + 1) === 192 || n.charCodeAt(t + 1) === 193 || n.charCodeAt(t + 1) === 194 || n.charCodeAt(t + 1) === 195 || n.charCodeAt(t + 1) === 196 || n.charCodeAt(t + 1) === 197 || n.charCodeAt(t + 1) === 198 || n.charCodeAt(t + 1) === 199) return r = n.charCodeAt(t + 5) * 256 + n.charCodeAt(t + 6), i = n.charCodeAt(t + 7) * 256 + n.charCodeAt(t + 8), [i, r];
                t += 2;
                u = n.charCodeAt(t) * 256 + n.charCodeAt(t + 1)
            }
        },
        r = function(n) {
            var u = this.internal.newObject(),
                t = this.internal.write,
                f = this.internal.putStream,
                r, i;
            if (n.n = u, t("<<\/Type /XObject"), t("/Subtype /Image"), t("/Width " + n.w), t("/Height " + n.h), n.cs === "Indexed" ? t("/ColorSpace [/Indexed /DeviceRGB " + (n.pal.length / 3 - 1) + " " + (u + 1) + " 0 R]") : (t("/ColorSpace /" + n.cs), n.cs === "DeviceCMYK" && t("/Decode [1 0 1 0 1 0 1 0]")), t("/BitsPerComponent " + n.bpc), "f" in n && t("/Filter /" + n.f), "dp" in n && t("/DecodeParms <<" + n.dp + ">>"), "trns" in n && n.trns.constructor == Array)
                for (r = "", i = 0; i < n.trns.length; i++) r += n[r][i] + " " + n.trns[i] + " ", t("/Mask [" + r + "]");
            "smask" in n && t("/SMask " + (u + 1) + " 0 R");
            t("/Length " + n.data.length + ">>");
            f(n.data);
            t("endobj")
        },
        u = function() {
            var n = this.internal.collections[t + "images"];
            for (var i in n) r.call(this, n[i])
        },
        f = function() {
            var i = this.internal.collections[t + "images"],
                r = this.internal.write,
                n;
            for (var u in i) n = i[u], r("/I" + n.i, n.n, "0", "R")
        };
    n.addImage = function(n, r, e, o, s, h) {
        var l, y, w, c;
        if (typeof n == "object" && n.nodeType === 1) {
            if (l = document.createElement("canvas"), l.width = n.clientWidth, l.height = n.clientHeight, y = l.getContext("2d"), !y) throw "addImage requires canvas to be supported by browser.";
            y.drawImage(n, 0, 0, l.width, l.height);
            n = l.toDataURL("image/jpeg");
            r = "JPEG"
        }
        if (r.toUpperCase() !== "JPEG") throw new Error("addImage currently only supports format 'JPEG', not '" + r + "'");
        var v, a = this.internal.collections[t + "images"],
            p = this.internal.getCoordinateString,
            b = this.internal.getVerticalCoordinateString;
        return n.substring(0, 23) === "data:image/jpeg;base64," && (n = atob(n.replace("data:image/jpeg;base64,", ""))), a ? v = Object.keys ? Object.keys(a).length : function(n) {
            var t = 0;
            for (var i in n) n.hasOwnProperty(i) && t++;
            return t
        }(a) : (v = 0, this.internal.collections[t + "images"] = a = {}, this.internal.events.subscribe("putResources", u), this.internal.events.subscribe("putXobjectDict", f)), w = i(n), c = {
            w: w[0],
            h: w[1],
            cs: "DeviceRGB",
            bpc: 8,
            f: "DCTDecode",
            i: v,
            data: n
        }, a[v] = c, s || h || (s = -96, h = -96), s < 0 && (s = -72 * c.w / s / this.internal.scaleFactor), h < 0 && (h = -72 * c.h / h / this.internal.scaleFactor), s === 0 && (s = h * c.w / c.h), h === 0 && (h = s * c.h / c.w), this.internal.write("q", p(s), "0 0", p(h), p(e), b(o + h), "cm /I" + c.i, "Do Q"), this
    }
}(jsPDF.API);
/* @preserve
 * ==================================================================== 
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * Copyright (c) 2010-2024, Volodymyr Agafonkin
 * Copyright (c) 2010-2011, CloudMade
 * All rights reserved.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * ==================================================================== 
 */
! function(t, i) {
    "object" == typeof exports && "undefined" != typeof module ? i(exports) : "function" == typeof define && define.amd ? define(["exports"], i) : i(t.L = {})
}(this, function(t) {
    "use strict";

    function h(t) {
        for (var i, e, n = 1, o = arguments.length; n < o; n++)
            for (i in e = arguments[n]) t[i] = e[i];
        return t
    }
    var s = Object.create || function(t) {
        return i.prototype = t, new i
    };

    function i() {}

    function p(t, i) {
        var e = Array.prototype.slice;
        if (t.bind) return t.bind.apply(t, e.call(arguments, 1));
        var n = e.call(arguments, 2);
        return function() {
            return t.apply(i, n.length ? n.concat(e.call(arguments)) : arguments)
        }
    }
    var e = 0;

    function m(t) {
        return t._leaflet_id = t._leaflet_id || ++e, t._leaflet_id
    }

    function n(t, i, e) {
        var n, o, s = function() {
                n = !1, o && (r.apply(e, o), o = !1)
            },
            r = function() {
                n ? o = arguments : (t.apply(e, arguments), setTimeout(s, i), n = !0)
            };
        return r
    }

    function o(t, i, e) {
        var n = i[1],
            o = i[0],
            s = n - o;
        return t === n && e ? t : ((t - o) % s + s) % s + o
    }

    function a() {
        return !1
    }

    function r(t, i) {
        var e = Math.pow(10, void 0 === i ? 6 : i);
        return Math.round(t * e) / e
    }

    function u(t) {
        return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
    }

    function l(t) {
        return u(t).split(/\s+/)
    }

    function c(t, i) {
        for (var e in Object.prototype.hasOwnProperty.call(t, "options") || (t.options = t.options ? s(t.options) : {}), i) t.options[e] = i[e];
        return t.options
    }

    function _(t, i, e) {
        var n = [];
        for (var o in t) n.push(encodeURIComponent(e ? o.toUpperCase() : o) + "=" + encodeURIComponent(t[o]));
        return (i && -1 !== i.indexOf("?") ? "&" : "?") + n.join("&")
    }
    var d = /\{ *([\w_-]+) *\}/g;

    function f(t, n) {
        return t.replace(d, function(t, i) {
            var e = n[i];
            if (void 0 === e) throw new Error("No value provided for variable " + t);
            return "function" == typeof e && (e = e(n)), e
        })
    }
    var g = Array.isArray || function(t) {
        return "[object Array]" === Object.prototype.toString.call(t)
    };

    function v(t, i) {
        for (var e = 0; e < t.length; e++)
            if (t[e] === i) return e;
        return -1
    }
    var y = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";

    function x(t) {
        return window["webkit" + t] || window["moz" + t] || window["ms" + t]
    }
    var w = 0;

    function P(t) {
        var i = +new Date,
            e = Math.max(0, 16 - (i - w));
        return w = i + e, window.setTimeout(t, e)
    }
    var b = window.requestAnimationFrame || x("RequestAnimationFrame") || P,
        T = window.cancelAnimationFrame || x("CancelAnimationFrame") || x("CancelRequestAnimationFrame") || function(t) {
            window.clearTimeout(t)
        };

    function M(t, i, e) {
        if (!e || b !== P) return b.call(window, p(t, i));
        t.call(i)
    }

    function z(t) {
        t && T.call(window, t)
    }
    var C = {
        extend: h,
        create: s,
        bind: p,
        lastId: e,
        stamp: m,
        throttle: n,
        wrapNum: o,
        falseFn: a,
        formatNum: r,
        trim: u,
        splitWords: l,
        setOptions: c,
        getParamString: _,
        template: f,
        isArray: g,
        indexOf: v,
        emptyImageUrl: y,
        requestFn: b,
        cancelFn: T,
        requestAnimFrame: M,
        cancelAnimFrame: z
    };

    function S() {}
    S.extend = function(t) {
        function i() {
            this.initialize && this.initialize.apply(this, arguments), this.callInitHooks()
        }
        var e = i.__super__ = this.prototype,
            n = s(e);
        for (var o in (n.constructor = i).prototype = n, this) Object.prototype.hasOwnProperty.call(this, o) && "prototype" !== o && "__super__" !== o && (i[o] = this[o]);
        return t.statics && (h(i, t.statics), delete t.statics), t.includes && (function(t) {
            if ("undefined" == typeof L || !L || !L.Mixin) return;
            t = g(t) ? t : [t];
            for (var i = 0; i < t.length; i++) t[i] === L.Mixin.Events && console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.", (new Error).stack)
        }(t.includes), h.apply(null, [n].concat(t.includes)), delete t.includes), n.options && (t.options = h(s(n.options), t.options)), h(n, t), n._initHooks = [], n.callInitHooks = function() {
            if (!this._initHooksCalled) {
                e.callInitHooks && e.callInitHooks.call(this), this._initHooksCalled = !0;
                for (var t = 0, i = n._initHooks.length; t < i; t++) n._initHooks[t].call(this)
            }
        }, i
    }, S.include = function(t) {
        return h(this.prototype, t), this
    }, S.mergeOptions = function(t) {
        return h(this.prototype.options, t), this
    }, S.addInitHook = function(t) {
        var i = Array.prototype.slice.call(arguments, 1),
            e = "function" == typeof t ? t : function() {
                this[t].apply(this, i)
            };
        return this.prototype._initHooks = this.prototype._initHooks || [], this.prototype._initHooks.push(e), this
    };
    var Z = {
        on: function(t, i, e) {
            if ("object" == typeof t)
                for (var n in t) this._on(n, t[n], i);
            else
                for (var o = 0, s = (t = l(t)).length; o < s; o++) this._on(t[o], i, e);
            return this
        },
        off: function(t, i, e) {
            if (t)
                if ("object" == typeof t)
                    for (var n in t) this._off(n, t[n], i);
                else
                    for (var o = 0, s = (t = l(t)).length; o < s; o++) this._off(t[o], i, e);
            else delete this._events;
            return this
        },
        _on: function(t, i, e) {
            this._events = this._events || {};
            var n = this._events[t];
            n || (n = [], this._events[t] = n), e === this && (e = void 0);
            for (var o = {
                    fn: i,
                    ctx: e
                }, s = n, r = 0, a = s.length; r < a; r++)
                if (s[r].fn === i && s[r].ctx === e) return;
            s.push(o)
        },
        _off: function(t, i, e) {
            var n, o, s;
            if (this._events && (n = this._events[t]))
                if (i) {
                    if (e === this && (e = void 0), n)
                        for (o = 0, s = n.length; o < s; o++) {
                            var r = n[o];
                            if (r.ctx === e && r.fn === i) return r.fn = a, this._firingCount && (this._events[t] = n = n.slice()), void n.splice(o, 1)
                        }
                } else {
                    for (o = 0, s = n.length; o < s; o++) n[o].fn = a;
                    delete this._events[t]
                }
        },
        fire: function(t, i, e) {
            if (!this.listens(t, e)) return this;
            var n = h({}, i, {
                type: t,
                target: this,
                sourceTarget: i && i.sourceTarget || this
            });
            if (this._events) {
                var o = this._events[t];
                if (o) {
                    this._firingCount = this._firingCount + 1 || 1;
                    for (var s = 0, r = o.length; s < r; s++) {
                        var a = o[s];
                        a.fn.call(a.ctx || this, n)
                    }
                    this._firingCount--
                }
            }
            return e && this._propagateEvent(n), this
        },
        listens: function(t, i) {
            var e = this._events && this._events[t];
            if (e && e.length) return !0;
            if (i)
                for (var n in this._eventParents)
                    if (this._eventParents[n].listens(t, i)) return !0;
            return !1
        },
        once: function(t, i, e) {
            if ("object" == typeof t) {
                for (var n in t) this.once(n, t[n], i);
                return this
            }
            var o = p(function() {
                this.off(t, i, e).off(t, o, e)
            }, this);
            return this.on(t, i, e).on(t, o, e)
        },
        addEventParent: function(t) {
            return this._eventParents = this._eventParents || {}, this._eventParents[m(t)] = t, this
        },
        removeEventParent: function(t) {
            return this._eventParents && delete this._eventParents[m(t)], this
        },
        _propagateEvent: function(t) {
            for (var i in this._eventParents) this._eventParents[i].fire(t.type, h({
                layer: t.target,
                propagatedFrom: t.target
            }, t), !0)
        }
    };
    Z.addEventListener = Z.on, Z.removeEventListener = Z.clearAllEventListeners = Z.off, Z.addOneTimeEventListener = Z.once, Z.fireEvent = Z.fire, Z.hasEventListeners = Z.listens;
    var E = S.extend(Z);

    function k(t, i, e) {
        this.x = e ? Math.round(t) : t, this.y = e ? Math.round(i) : i
    }
    var B = Math.trunc || function(t) {
        return 0 < t ? Math.floor(t) : Math.ceil(t)
    };

    function A(t, i, e) {
        return t instanceof k ? t : g(t) ? new k(t[0], t[1]) : null == t ? t : "object" == typeof t && "x" in t && "y" in t ? new k(t.x, t.y) : new k(t, i, e)
    }

    function I(t, i) {
        if (t)
            for (var e = i ? [t, i] : t, n = 0, o = e.length; n < o; n++) this.extend(e[n])
    }

    function O(t, i) {
        return !t || t instanceof I ? t : new I(t, i)
    }

    function R(t, i) {
        if (t)
            for (var e = i ? [t, i] : t, n = 0, o = e.length; n < o; n++) this.extend(e[n])
    }

    function N(t, i) {
        return t instanceof R ? t : new R(t, i)
    }

    function D(t, i, e) {
        if (isNaN(t) || isNaN(i)) throw new Error("Invalid LatLng object: (" + t + ", " + i + ")");
        this.lat = +t, this.lng = +i, void 0 !== e && (this.alt = +e)
    }

    function j(t, i, e) {
        return t instanceof D ? t : g(t) && "object" != typeof t[0] ? 3 === t.length ? new D(t[0], t[1], t[2]) : 2 === t.length ? new D(t[0], t[1]) : null : null == t ? t : "object" == typeof t && "lat" in t ? new D(t.lat, "lng" in t ? t.lng : t.lon, t.alt) : void 0 === i ? null : new D(t, i, e)
    }
    k.prototype = {
        clone: function() {
            return new k(this.x, this.y)
        },
        add: function(t) {
            return this.clone()._add(A(t))
        },
        _add: function(t) {
            return this.x += t.x, this.y += t.y, this
        },
        subtract: function(t) {
            return this.clone()._subtract(A(t))
        },
        _subtract: function(t) {
            return this.x -= t.x, this.y -= t.y, this
        },
        divideBy: function(t) {
            return this.clone()._divideBy(t)
        },
        _divideBy: function(t) {
            return this.x /= t, this.y /= t, this
        },
        multiplyBy: function(t) {
            return this.clone()._multiplyBy(t)
        },
        _multiplyBy: function(t) {
            return this.x *= t, this.y *= t, this
        },
        scaleBy: function(t) {
            return new k(this.x * t.x, this.y * t.y)
        },
        unscaleBy: function(t) {
            return new k(this.x / t.x, this.y / t.y)
        },
        round: function() {
            return this.clone()._round()
        },
        _round: function() {
            return this.x = Math.round(this.x), this.y = Math.round(this.y), this
        },
        floor: function() {
            return this.clone()._floor()
        },
        _floor: function() {
            return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this
        },
        ceil: function() {
            return this.clone()._ceil()
        },
        _ceil: function() {
            return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this
        },
        trunc: function() {
            return this.clone()._trunc()
        },
        _trunc: function() {
            return this.x = B(this.x), this.y = B(this.y), this
        },
        distanceTo: function(t) {
            var i = (t = A(t)).x - this.x,
                e = t.y - this.y;
            return Math.sqrt(i * i + e * e)
        },
        equals: function(t) {
            return (t = A(t)).x === this.x && t.y === this.y
        },
        contains: function(t) {
            return t = A(t), Math.abs(t.x) <= Math.abs(this.x) && Math.abs(t.y) <= Math.abs(this.y)
        },
        toString: function() {
            return "Point(" + r(this.x) + ", " + r(this.y) + ")"
        }
    }, I.prototype = {
        extend: function(t) {
            return t = A(t), this.min || this.max ? (this.min.x = Math.min(t.x, this.min.x), this.max.x = Math.max(t.x, this.max.x), this.min.y = Math.min(t.y, this.min.y), this.max.y = Math.max(t.y, this.max.y)) : (this.min = t.clone(), this.max = t.clone()), this
        },
        getCenter: function(t) {
            return new k((this.min.x + this.max.x) / 2, (this.min.y + this.max.y) / 2, t)
        },
        getBottomLeft: function() {
            return new k(this.min.x, this.max.y)
        },
        getTopRight: function() {
            return new k(this.max.x, this.min.y)
        },
        getTopLeft: function() {
            return this.min
        },
        getBottomRight: function() {
            return this.max
        },
        getSize: function() {
            return this.max.subtract(this.min)
        },
        contains: function(t) {
            var i, e;
            return (t = ("number" == typeof t[0] || t instanceof k ? A : O)(t)) instanceof I ? (i = t.min, e = t.max) : i = e = t, i.x >= this.min.x && e.x <= this.max.x && i.y >= this.min.y && e.y <= this.max.y
        },
        intersects: function(t) {
            t = O(t);
            var i = this.min,
                e = this.max,
                n = t.min,
                o = t.max,
                s = o.x >= i.x && n.x <= e.x,
                r = o.y >= i.y && n.y <= e.y;
            return s && r
        },
        overlaps: function(t) {
            t = O(t);
            var i = this.min,
                e = this.max,
                n = t.min,
                o = t.max,
                s = o.x > i.x && n.x < e.x,
                r = o.y > i.y && n.y < e.y;
            return s && r
        },
        isValid: function() {
            return !(!this.min || !this.max)
        }
    }, R.prototype = {
        extend: function(t) {
            var i, e, n = this._southWest,
                o = this._northEast;
            if (t instanceof D) e = i = t;
            else {
                if (!(t instanceof R)) return t ? this.extend(j(t) || N(t)) : this;
                if (i = t._southWest, e = t._northEast, !i || !e) return this
            }
            return n || o ? (n.lat = Math.min(i.lat, n.lat), n.lng = Math.min(i.lng, n.lng), o.lat = Math.max(e.lat, o.lat), o.lng = Math.max(e.lng, o.lng)) : (this._southWest = new D(i.lat, i.lng), this._northEast = new D(e.lat, e.lng)), this
        },
        pad: function(t) {
            var i = this._southWest,
                e = this._northEast,
                n = Math.abs(i.lat - e.lat) * t,
                o = Math.abs(i.lng - e.lng) * t;
            return new R(new D(i.lat - n, i.lng - o), new D(e.lat + n, e.lng + o))
        },
        getCenter: function() {
            return new D((this._southWest.lat + this._northEast.lat) / 2, (this._southWest.lng + this._northEast.lng) / 2)
        },
        getSouthWest: function() {
            return this._southWest
        },
        getNorthEast: function() {
            return this._northEast
        },
        getNorthWest: function() {
            return new D(this.getNorth(), this.getWest())
        },
        getSouthEast: function() {
            return new D(this.getSouth(), this.getEast())
        },
        getWest: function() {
            return this._southWest.lng
        },
        getSouth: function() {
            return this._southWest.lat
        },
        getEast: function() {
            return this._northEast.lng
        },
        getNorth: function() {
            return this._northEast.lat
        },
        contains: function(t) {
            t = ("number" == typeof t[0] || t instanceof D || "lat" in t ? j : N)(t);
            var i, e, n = this._southWest,
                o = this._northEast;
            return t instanceof R ? (i = t.getSouthWest(), e = t.getNorthEast()) : i = e = t, i.lat >= n.lat && e.lat <= o.lat && i.lng >= n.lng && e.lng <= o.lng
        },
        intersects: function(t) {
            t = N(t);
            var i = this._southWest,
                e = this._northEast,
                n = t.getSouthWest(),
                o = t.getNorthEast(),
                s = o.lat >= i.lat && n.lat <= e.lat,
                r = o.lng >= i.lng && n.lng <= e.lng;
            return s && r
        },
        overlaps: function(t) {
            t = N(t);
            var i = this._southWest,
                e = this._northEast,
                n = t.getSouthWest(),
                o = t.getNorthEast(),
                s = o.lat > i.lat && n.lat < e.lat,
                r = o.lng > i.lng && n.lng < e.lng;
            return s && r
        },
        toBBoxString: function() {
            return [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(",")
        },
        equals: function(t, i) {
            return !!t && (t = N(t), this._southWest.equals(t.getSouthWest(), i) && this._northEast.equals(t.getNorthEast(), i))
        },
        isValid: function() {
            return !(!this._southWest || !this._northEast)
        }
    };
    var W, H = {
            latLngToPoint: function(t, i) {
                var e = this.projection.project(t),
                    n = this.scale(i);
                return this.transformation._transform(e, n)
            },
            pointToLatLng: function(t, i) {
                var e = this.scale(i),
                    n = this.transformation.untransform(t, e);
                return this.projection.unproject(n)
            },
            project: function(t) {
                return this.projection.project(t)
            },
            unproject: function(t) {
                return this.projection.unproject(t)
            },
            scale: function(t) {
                return 256 * Math.pow(2, t)
            },
            zoom: function(t) {
                return Math.log(t / 256) / Math.LN2
            },
            getProjectedBounds: function(t) {
                if (this.infinite) return null;
                var i = this.projection.bounds,
                    e = this.scale(t);
                return new I(this.transformation.transform(i.min, e), this.transformation.transform(i.max, e))
            },
            infinite: !(D.prototype = {
                equals: function(t, i) {
                    return !!t && (t = j(t), Math.max(Math.abs(this.lat - t.lat), Math.abs(this.lng - t.lng)) <= (void 0 === i ? 1e-9 : i))
                },
                toString: function(t) {
                    return "LatLng(" + r(this.lat, t) + ", " + r(this.lng, t) + ")"
                },
                distanceTo: function(t) {
                    return F.distance(this, j(t))
                },
                wrap: function() {
                    return F.wrapLatLng(this)
                },
                toBounds: function(t) {
                    var i = 180 * t / 40075017,
                        e = i / Math.cos(Math.PI / 180 * this.lat);
                    return N([this.lat - i, this.lng - e], [this.lat + i, this.lng + e])
                },
                clone: function() {
                    return new D(this.lat, this.lng, this.alt)
                }
            }),
            wrapLatLng: function(t) {
                var i = this.wrapLng ? o(t.lng, this.wrapLng, !0) : t.lng;
                return new D(this.wrapLat ? o(t.lat, this.wrapLat, !0) : t.lat, i, t.alt)
            },
            wrapLatLngBounds: function(t) {
                var i = t.getCenter(),
                    e = this.wrapLatLng(i),
                    n = i.lat - e.lat,
                    o = i.lng - e.lng;
                if (0 == n && 0 == o) return t;
                var s = t.getSouthWest(),
                    r = t.getNorthEast();
                return new R(new D(s.lat - n, s.lng - o), new D(r.lat - n, r.lng - o))
            }
        },
        F = h({}, H, {
            wrapLng: [-180, 180],
            R: 6371e3,
            distance: function(t, i) {
                var e = Math.PI / 180,
                    n = t.lat * e,
                    o = i.lat * e,
                    s = Math.sin((i.lat - t.lat) * e / 2),
                    r = Math.sin((i.lng - t.lng) * e / 2),
                    a = s * s + Math.cos(n) * Math.cos(o) * r * r,
                    h = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
                return this.R * h
            }
        }),
        U = 6378137,
        V = {
            R: U,
            MAX_LATITUDE: 85.0511287798,
            project: function(t) {
                var i = Math.PI / 180,
                    e = this.MAX_LATITUDE,
                    n = Math.max(Math.min(e, t.lat), -e),
                    o = Math.sin(n * i);
                return new k(this.R * t.lng * i, this.R * Math.log((1 + o) / (1 - o)) / 2)
            },
            unproject: function(t) {
                var i = 180 / Math.PI;
                return new D((2 * Math.atan(Math.exp(t.y / this.R)) - Math.PI / 2) * i, t.x * i / this.R)
            },
            bounds: new I([-(W = U * Math.PI), -W], [W, W])
        };

    function q(t, i, e, n) {
        if (g(t)) return this._a = t[0], this._b = t[1], this._c = t[2], void(this._d = t[3]);
        this._a = t, this._b = i, this._c = e, this._d = n
    }

    function G(t, i, e, n) {
        return new q(t, i, e, n)
    }
    q.prototype = {
        transform: function(t, i) {
            return this._transform(t.clone(), i)
        },
        _transform: function(t, i) {
            return i = i || 1, t.x = i * (this._a * t.x + this._b), t.y = i * (this._c * t.y + this._d), t
        },
        untransform: function(t, i) {
            return i = i || 1, new k((t.x / i - this._b) / this._a, (t.y / i - this._d) / this._c)
        }
    };
    var K, Y = h({}, F, {
            code: "EPSG:3857",
            projection: V,
            transformation: G(K = .5 / (Math.PI * V.R), .5, -K, .5)
        }),
        X = h({}, Y, {
            code: "EPSG:900913"
        });

    function J(t) {
        return document.createElementNS("http://www.w3.org/2000/svg", t)
    }

    function $(t, i) {
        for (var e, n, o, s, r = "", a = 0, h = t.length; a < h; a++) {
            for (e = 0, n = (o = t[a]).length; e < n; e++) r += (e ? "L" : "M") + (s = o[e]).x + " " + s.y;
            r += i ? Zt ? "z" : "x" : ""
        }
        return r || "M0 0"
    }
    var Q = document.documentElement.style,
        tt = "ActiveXObject" in window,
        it = tt && !document.addEventListener,
        et = "msLaunchUri" in navigator && !("documentMode" in document),
        nt = kt("webkit"),
        ot = kt("android"),
        st = kt("android 2") || kt("android 3"),
        rt = parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1], 10),
        at = ot && kt("Google") && rt < 537 && !("AudioNode" in window),
        ht = !!window.opera,
        ut = !et && kt("chrome"),
        lt = kt("gecko") && !nt && !ht && !tt,
        ct = !ut && kt("safari"),
        _t = kt("phantom"),
        dt = "OTransition" in Q,
        pt = 0 === navigator.platform.indexOf("Win"),
        mt = tt && "transition" in Q,
        ft = "WebKitCSSMatrix" in window && "m11" in new window.WebKitCSSMatrix && !st,
        gt = "MozPerspective" in Q,
        vt = !window.L_DISABLE_3D && (mt || ft || gt) && !dt && !_t,
        yt = "undefined" != typeof orientation || kt("mobile"),
        xt = yt && nt,
        wt = yt && ft,
        Pt = !window.PointerEvent && window.MSPointerEvent,
        Lt = !(!window.PointerEvent && !Pt),
        bt = !window.L_NO_TOUCH && (Lt || "ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch),
        Tt = yt && ht,
        Mt = yt && lt,
        zt = 1 < (window.devicePixelRatio || window.screen.deviceXDPI / window.screen.logicalXDPI),
        Ct = function() {
            var t = !1;
            try {
                var i = Object.defineProperty({}, "passive", {
                    get: function() {
                        t = !0
                    }
                });
                window.addEventListener("testPassiveEventSupport", a, i), window.removeEventListener("testPassiveEventSupport", a, i)
            } catch (t) {}
            return t
        }(),
        St = !!document.createElement("canvas").getContext,
        Zt = !(!document.createElementNS || !J("svg").createSVGRect),
        Et = !Zt && function() {
            try {
                var t = document.createElement("div");
                t.innerHTML = '<v:shape adj="1"/>';
                var i = t.firstChild;
                return i.style.behavior = "url(#default#VML)", i && "object" == typeof i.adj
            } catch (t) {
                return !1
            }
        }();

    function kt(t) {
        return 0 <= navigator.userAgent.toLowerCase().indexOf(t)
    }
    var Bt = {
            ie: tt,
            ielt9: it,
            edge: et,
            webkit: nt,
            android: ot,
            android23: st,
            androidStock: at,
            opera: ht,
            chrome: ut,
            gecko: lt,
            safari: ct,
            phantom: _t,
            opera12: dt,
            win: pt,
            ie3d: mt,
            webkit3d: ft,
            gecko3d: gt,
            any3d: vt,
            mobile: yt,
            mobileWebkit: xt,
            mobileWebkit3d: wt,
            msPointer: Pt,
            pointer: Lt,
            touch: bt,
            mobileOpera: Tt,
            mobileGecko: Mt,
            retina: zt,
            passiveEvents: Ct,
            canvas: St,
            svg: Zt,
            vml: Et
        },
        At = Pt ? "MSPointerDown" : "pointerdown",
        It = Pt ? "MSPointerMove" : "pointermove",
        Ot = Pt ? "MSPointerUp" : "pointerup",
        Rt = Pt ? "MSPointerCancel" : "pointercancel",
        Nt = {},
        Dt = !1;

    function jt(t, i, e, n) {
        function o(t) {
            Ut(t, r)
        }
        var s, r, a, h, u, l, c, _;

        function d(t) {
            t.pointerType === (t.MSPOINTER_TYPE_MOUSE || "mouse") && 0 === t.buttons || Ut(t, h)
        }
        return "touchstart" === i ? (u = t, l = e, c = n, _ = p(function(t) {
            t.MSPOINTER_TYPE_TOUCH && t.pointerType === t.MSPOINTER_TYPE_TOUCH && Ri(t), Ut(t, l)
        }), u["_leaflet_touchstart" + c] = _, u.addEventListener(At, _, !1), Dt || (document.addEventListener(At, Wt, !0), document.addEventListener(It, Ht, !0), document.addEventListener(Ot, Ft, !0), document.addEventListener(Rt, Ft, !0), Dt = !0)) : "touchmove" === i ? (h = e, (a = t)["_leaflet_touchmove" + n] = d, a.addEventListener(It, d, !1)) : "touchend" === i && (r = e, (s = t)["_leaflet_touchend" + n] = o, s.addEventListener(Ot, o, !1), s.addEventListener(Rt, o, !1)), this
    }

    function Wt(t) {
        Nt[t.pointerId] = t
    }

    function Ht(t) {
        Nt[t.pointerId] && (Nt[t.pointerId] = t)
    }

    function Ft(t) {
        delete Nt[t.pointerId]
    }

    function Ut(t, i) {
        for (var e in t.touches = [], Nt) t.touches.push(Nt[e]);
        t.changedTouches = [t], i(t)
    }
    var Vt = Pt ? "MSPointerDown" : Lt ? "pointerdown" : "touchstart",
        qt = Pt ? "MSPointerUp" : Lt ? "pointerup" : "touchend",
        Gt = "_leaflet_";
    var Kt, Yt, Xt, Jt, $t, Qt, ti = fi(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]),
        ii = fi(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]),
        ei = "webkitTransition" === ii || "OTransition" === ii ? ii + "End" : "transitionend";

    function ni(t) {
        return "string" == typeof t ? document.getElementById(t) : t
    }

    function oi(t, i) {
        var e, n = t.style[i] || t.currentStyle && t.currentStyle[i];
        return n && "auto" !== n || !document.defaultView || (n = (e = document.defaultView.getComputedStyle(t, null)) ? e[i] : null), "auto" === n ? null : n
    }

    function si(t, i, e) {
        var n = document.createElement(t);
        return n.className = i || "", e && e.appendChild(n), n
    }

    function ri(t) {
        var i = t.parentNode;
        i && i.removeChild(t)
    }

    function ai(t) {
        for (; t.firstChild;) t.removeChild(t.firstChild)
    }

    function hi(t) {
        var i = t.parentNode;
        i && i.lastChild !== t && i.appendChild(t)
    }

    function ui(t) {
        var i = t.parentNode;
        i && i.firstChild !== t && i.insertBefore(t, i.firstChild)
    }

    function li(t, i) {
        if (void 0 !== t.classList) return t.classList.contains(i);
        var e = pi(t);
        return 0 < e.length && new RegExp("(^|\\s)" + i + "(\\s|$)").test(e)
    }

    function ci(t, i) {
        var e;
        if (void 0 !== t.classList)
            for (var n = l(i), o = 0, s = n.length; o < s; o++) t.classList.add(n[o]);
        else li(t, i) || di(t, ((e = pi(t)) ? e + " " : "") + i)
    }

    function _i(t, i) {
        void 0 !== t.classList ? t.classList.remove(i) : di(t, u((" " + pi(t) + " ").replace(" " + i + " ", " ")))
    }

    function di(t, i) {
        void 0 === t.className.baseVal ? t.className = i : t.className.baseVal = i
    }

    function pi(t) {
        return t.correspondingElement && (t = t.correspondingElement), void 0 === t.className.baseVal ? t.className : t.className.baseVal
    }

    function mi(t, i) {
        "opacity" in t.style ? t.style.opacity = i : "filter" in t.style && function(t, i) {
            var e = !1,
                n = "DXImageTransform.Microsoft.Alpha";
            try {
                e = t.filters.item(n)
            } catch (t) {
                if (1 === i) return
            }
            i = Math.round(100 * i), e ? (e.Enabled = 100 !== i, e.Opacity = i) : t.style.filter += " progid:" + n + "(opacity=" + i + ")"
        }(t, i)
    }

    function fi(t) {
        for (var i = document.documentElement.style, e = 0; e < t.length; e++)
            if (t[e] in i) return t[e];
        return !1
    }

    function gi(t, i, e) {
        var n = i || new k(0, 0);
        t.style[ti] = (mt ? "translate(" + n.x + "px," + n.y + "px)" : "translate3d(" + n.x + "px," + n.y + "px,0)") + (e ? " scale(" + e + ")" : "")
    }

    function vi(t, i) {
        t._leaflet_pos = i, vt ? gi(t, i) : (t.style.left = i.x + "px", t.style.top = i.y + "px")
    }

    function yi(t) {
        return t._leaflet_pos || new k(0, 0)
    }

    function xi() {
        zi(window, "dragstart", Ri)
    }

    function wi() {
        Si(window, "dragstart", Ri)
    }

    function Pi(t) {
        for (; - 1 === t.tabIndex;) t = t.parentNode;
        t.style && (Li(), Qt = ($t = t).style.outline, t.style.outline = "none", zi(window, "keydown", Li))
    }

    function Li() {
        $t && ($t.style.outline = Qt, Qt = $t = void 0, Si(window, "keydown", Li))
    }

    function bi(t) {
        for (; !((t = t.parentNode).offsetWidth && t.offsetHeight || t === document.body););
        return t
    }

    function Ti(t) {
        var i = t.getBoundingClientRect();
        return {
            x: i.width / t.offsetWidth || 1,
            y: i.height / t.offsetHeight || 1,
            boundingClientRect: i
        }
    }
    Jt = "onselectstart" in document ? (Xt = function() {
        zi(window, "selectstart", Ri)
    }, function() {
        Si(window, "selectstart", Ri)
    }) : (Yt = fi(["userSelect", "WebkitUserSelect", "OUserSelect", "MozUserSelect", "msUserSelect"]), Xt = function() {
        var t;
        Yt && (t = document.documentElement.style, Kt = t[Yt], t[Yt] = "none")
    }, function() {
        Yt && (document.documentElement.style[Yt] = Kt, Kt = void 0)
    });
    var Mi = {
        TRANSFORM: ti,
        TRANSITION: ii,
        TRANSITION_END: ei,
        get: ni,
        getStyle: oi,
        create: si,
        remove: ri,
        empty: ai,
        toFront: hi,
        toBack: ui,
        hasClass: li,
        addClass: ci,
        removeClass: _i,
        setClass: di,
        getClass: pi,
        setOpacity: mi,
        testProp: fi,
        setTransform: gi,
        setPosition: vi,
        getPosition: yi,
        disableTextSelection: Xt,
        enableTextSelection: Jt,
        disableImageDrag: xi,
        enableImageDrag: wi,
        preventOutline: Pi,
        restoreOutline: Li,
        getSizedParentNode: bi,
        getScale: Ti
    };

    function zi(t, i, e, n) {
        if ("object" == typeof i)
            for (var o in i) ki(t, o, i[o], e);
        else
            for (var s = 0, r = (i = l(i)).length; s < r; s++) ki(t, i[s], e, n);
        return this
    }
    var Ci = "_leaflet_events";

    function Si(t, i, e, n) {
        if ("object" == typeof i)
            for (var o in i) Bi(t, o, i[o], e);
        else if (i)
            for (var s = 0, r = (i = l(i)).length; s < r; s++) Bi(t, i[s], e, n);
        else {
            for (var a in t[Ci]) Bi(t, a, t[Ci][a]);
            delete t[Ci]
        }
        return this
    }

    function Zi() {
        return Lt && (!et && !ct)
    }
    var Ei = {
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        wheel: !("onwheel" in window) && "mousewheel"
    };

    function ki(i, t, e, n) {
        var o = t + m(e) + (n ? "_" + m(n) : "");
        if (i[Ci] && i[Ci][o]) return this;
        var s, r, a, h, u, l, c = function(t) {
                return e.call(n || i, t || window.event)
            },
            _ = c;

        function d(t) {
            if (Lt) {
                if (!t.isPrimary) return;
                if ("mouse" === t.pointerType) return
            } else if (1 < t.touches.length) return;
            var i = Date.now(),
                e = i - (h || i);
            u = t.touches ? t.touches[0] : t, l = 0 < e && e <= 250, h = i
        }

        function p(t) {
            if (l && !u.cancelBubble) {
                if (Lt) {
                    if ("mouse" === t.pointerType) return;
                    var i, e, n = {};
                    for (e in u) i = u[e], n[e] = i && i.bind ? i.bind(u) : i;
                    u = n
                }
                u.type = "dblclick", u.button = 0, r(u), h = null
            }
        }
        Lt && 0 === t.indexOf("touch") ? jt(i, t, c, o) : bt && "dblclick" === t && !Zi() ? (r = c, l = !1, (s = i)[Gt + Vt + (a = o)] = d, s[Gt + qt + a] = p, s[Gt + "dblclick" + a] = r, s.addEventListener(Vt, d, !!Ct && {
            passive: !1
        }), s.addEventListener(qt, p, !!Ct && {
            passive: !1
        }), s.addEventListener("dblclick", r, !1)) : "addEventListener" in i ? "touchstart" === t || "touchmove" === t || "wheel" === t || "mousewheel" === t ? i.addEventListener(Ei[t] || t, c, !!Ct && {
            passive: !1
        }) : "mouseenter" === t || "mouseleave" === t ? (c = function(t) {
            t = t || window.event, Vi(i, t) && _(t)
        }, i.addEventListener(Ei[t], c, !1)) : i.addEventListener(t, _, !1) : "attachEvent" in i && i.attachEvent("on" + t, c), i[Ci] = i[Ci] || {}, i[Ci][o] = c
    }

    function Bi(t, i, e, n) {
        var o, s, r, a, h, u, l, c, _ = i + m(e) + (n ? "_" + m(n) : ""),
            d = t[Ci] && t[Ci][_];
        if (!d) return this;
        Lt && 0 === i.indexOf("touch") ? (c = (u = t)["_leaflet_" + (l = i) + _], "touchstart" === l ? u.removeEventListener(At, c, !1) : "touchmove" === l ? u.removeEventListener(It, c, !1) : "touchend" === l && (u.removeEventListener(Ot, c, !1), u.removeEventListener(Rt, c, !1))) : bt && "dblclick" === i && !Zi() ? (r = (o = t)[Gt + Vt + (s = _)], a = o[Gt + qt + s], h = o[Gt + "dblclick" + s], o.removeEventListener(Vt, r, !!Ct && {
            passive: !1
        }), o.removeEventListener(qt, a, !!Ct && {
            passive: !1
        }), o.removeEventListener("dblclick", h, !1)) : "removeEventListener" in t ? t.removeEventListener(Ei[i] || i, d, !1) : "detachEvent" in t && t.detachEvent("on" + i, d), t[Ci][_] = null
    }

    function Ai(t) {
        return t.stopPropagation ? t.stopPropagation() : t.originalEvent ? t.originalEvent._stopped = !0 : t.cancelBubble = !0, Ui(t), this
    }

    function Ii(t) {
        return ki(t, "wheel", Ai), this
    }

    function Oi(t) {
        return zi(t, "mousedown touchstart dblclick", Ai), ki(t, "click", Fi), this
    }

    function Ri(t) {
        return t.preventDefault ? t.preventDefault() : t.returnValue = !1, this
    }

    function Ni(t) {
        return Ri(t), Ai(t), this
    }

    function Di(t, i) {
        if (!i) return new k(t.clientX, t.clientY);
        var e = Ti(i),
            n = e.boundingClientRect;
        return new k((t.clientX - n.left) / e.x - i.clientLeft, (t.clientY - n.top) / e.y - i.clientTop)
    }
    var ji = pt && ut ? 2 * window.devicePixelRatio : lt ? window.devicePixelRatio : 1;

    function Wi(t) {
        return et ? t.wheelDeltaY / 2 : t.deltaY && 0 === t.deltaMode ? -t.deltaY / ji : t.deltaY && 1 === t.deltaMode ? 20 * -t.deltaY : t.deltaY && 2 === t.deltaMode ? 60 * -t.deltaY : t.deltaX || t.deltaZ ? 0 : t.wheelDelta ? (t.wheelDeltaY || t.wheelDelta) / 2 : t.detail && Math.abs(t.detail) < 32765 ? 20 * -t.detail : t.detail ? t.detail / -32765 * 60 : 0
    }
    var Hi = {};

    function Fi(t) {
        Hi[t.type] = !0
    }

    function Ui(t) {
        var i = Hi[t.type];
        return Hi[t.type] = !1, i
    }

    function Vi(t, i) {
        var e = i.relatedTarget;
        if (!e) return !0;
        try {
            for (; e && e !== t;) e = e.parentNode
        } catch (t) {
            return !1
        }
        return e !== t
    }
    var qi = {
            on: zi,
            off: Si,
            stopPropagation: Ai,
            disableScrollPropagation: Ii,
            disableClickPropagation: Oi,
            preventDefault: Ri,
            stop: Ni,
            getMousePosition: Di,
            getWheelDelta: Wi,
            fakeStop: Fi,
            skipped: Ui,
            isExternalTarget: Vi,
            addListener: zi,
            removeListener: Si
        },
        Gi = E.extend({
            run: function(t, i, e, n) {
                this.stop(), this._el = t, this._inProgress = !0, this._duration = e || .25, this._easeOutPower = 1 / Math.max(n || .5, .2), this._startPos = yi(t), this._offset = i.subtract(this._startPos), this._startTime = +new Date, this.fire("start"), this._animate()
            },
            stop: function() {
                this._inProgress && (this._step(!0), this._complete())
            },
            _animate: function() {
                this._animId = M(this._animate, this), this._step()
            },
            _step: function(t) {
                var i = new Date - this._startTime,
                    e = 1e3 * this._duration;
                i < e ? this._runFrame(this._easeOut(i / e), t) : (this._runFrame(1), this._complete())
            },
            _runFrame: function(t, i) {
                var e = this._startPos.add(this._offset.multiplyBy(t));
                i && e._round(), vi(this._el, e), this.fire("step")
            },
            _complete: function() {
                z(this._animId), this._inProgress = !1, this.fire("end")
            },
            _easeOut: function(t) {
                return 1 - Math.pow(1 - t, this._easeOutPower)
            }
        }),
        Ki = E.extend({
            options: {
                crs: Y,
                center: void 0,
                zoom: void 0,
                minZoom: void 0,
                maxZoom: void 0,
                layers: [],
                maxBounds: void 0,
                renderer: void 0,
                zoomAnimation: !0,
                zoomAnimationThreshold: 4,
                fadeAnimation: !0,
                markerZoomAnimation: !0,
                transform3DLimit: 8388608,
                zoomSnap: 1,
                zoomDelta: 1,
                trackResize: !0
            },
            initialize: function(t, i) {
                i = c(this, i), this._handlers = [], this._layers = {}, this._zoomBoundLayers = {}, this._sizeChanged = !0, this._initContainer(t), this._initLayout(), this._onResize = p(this._onResize, this), this._initEvents(), i.maxBounds && this.setMaxBounds(i.maxBounds), void 0 !== i.zoom && (this._zoom = this._limitZoom(i.zoom)), i.center && void 0 !== i.zoom && this.setView(j(i.center), i.zoom, {
                    reset: !0
                }), this.callInitHooks(), this._zoomAnimated = ii && vt && !Tt && this.options.zoomAnimation, this._zoomAnimated && (this._createAnimProxy(), zi(this._proxy, ei, this._catchTransitionEnd, this)), this._addLayers(this.options.layers)
            },
            setView: function(t, i, e) {
                if ((i = void 0 === i ? this._zoom : this._limitZoom(i), t = this._limitCenter(j(t), i, this.options.maxBounds), e = e || {}, this._stop(), this._loaded && !e.reset && !0 !== e) && (void 0 !== e.animate && (e.zoom = h({
                        animate: e.animate
                    }, e.zoom), e.pan = h({
                        animate: e.animate,
                        duration: e.duration
                    }, e.pan)), this._zoom !== i ? this._tryAnimatedZoom && this._tryAnimatedZoom(t, i, e.zoom) : this._tryAnimatedPan(t, e.pan))) return clearTimeout(this._sizeTimer), this;
                return this._resetView(t, i), this
            },
            setZoom: function(t, i) {
                return this._loaded ? this.setView(this.getCenter(), t, {
                    zoom: i
                }) : (this._zoom = t, this)
            },
            zoomIn: function(t, i) {
                return t = t || (vt ? this.options.zoomDelta : 1), this.setZoom(this._zoom + t, i)
            },
            zoomOut: function(t, i) {
                return t = t || (vt ? this.options.zoomDelta : 1), this.setZoom(this._zoom - t, i)
            },
            setZoomAround: function(t, i, e) {
                var n = this.getZoomScale(i),
                    o = this.getSize().divideBy(2),
                    s = (t instanceof k ? t : this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1 - 1 / n),
                    r = this.containerPointToLatLng(o.add(s));
                return this.setView(r, i, {
                    zoom: e
                })
            },
            _getBoundsCenterZoom: function(t, i) {
                i = i || {}, t = t.getBounds ? t.getBounds() : N(t);
                var e = A(i.paddingTopLeft || i.padding || [0, 0]),
                    n = A(i.paddingBottomRight || i.padding || [0, 0]),
                    o = this.getBoundsZoom(t, !1, e.add(n));
                if ((o = "number" == typeof i.maxZoom ? Math.min(i.maxZoom, o) : o) === 1 / 0) return {
                    center: t.getCenter(),
                    zoom: o
                };
                var s = n.subtract(e).divideBy(2),
                    r = this.project(t.getSouthWest(), o),
                    a = this.project(t.getNorthEast(), o);
                return {
                    center: this.unproject(r.add(a).divideBy(2).add(s), o),
                    zoom: o
                }
            },
            fitBounds: function(t, i) {
                if (!(t = N(t)).isValid()) throw new Error("Bounds are not valid.");
                var e = this._getBoundsCenterZoom(t, i);
                return this.setView(e.center, e.zoom, i)
            },
            fitWorld: function(t) {
                return this.fitBounds([
                    [-90, -180],
                    [90, 180]
                ], t)
            },
            panTo: function(t, i) {
                return this.setView(t, this._zoom, {
                    pan: i
                })
            },
            panBy: function(t, i) {
                return i = i || {}, (t = A(t).round()).x || t.y ? (!0 === i.animate || this.getSize().contains(t) ? (this._panAnim || (this._panAnim = new Gi, this._panAnim.on({
                    step: this._onPanTransitionStep,
                    end: this._onPanTransitionEnd
                }, this)), i.noMoveStart || this.fire("movestart"), !1 !== i.animate ? (ci(this._mapPane, "leaflet-pan-anim"), e = this._getMapPanePos().subtract(t).round(), this._panAnim.run(this._mapPane, e, i.duration || .25, i.easeLinearity)) : (this._rawPanBy(t), this.fire("move").fire("moveend"))) : this._resetView(this.unproject(this.project(this.getCenter()).add(t)), this.getZoom()), this) : this.fire("moveend");
                var e
            },
            flyTo: function(s, r, t) {
                if (!1 === (t = t || {}).animate || !vt) return this.setView(s, r, t);
                this._stop();
                var a = this.project(this.getCenter()),
                    h = this.project(s),
                    i = this.getSize(),
                    u = this._zoom;
                s = j(s), r = void 0 === r ? u : r;
                var l = Math.max(i.x, i.y),
                    n = l * this.getZoomScale(u, r),
                    c = h.distanceTo(a) || 1,
                    _ = 1.42,
                    o = _ * _;

                function e(t) {
                    var i = (n * n - l * l + (t ? -1 : 1) * o * o * c * c) / (2 * (t ? n : l) * o * c),
                        e = Math.sqrt(i * i + 1) - i;
                    return e < 1e-9 ? -18 : Math.log(e)
                }

                function d(t) {
                    return (Math.exp(t) - Math.exp(-t)) / 2
                }

                function p(t) {
                    return (Math.exp(t) + Math.exp(-t)) / 2
                }
                var m = e(0);

                function f(t) {
                    return l * (p(m) * (d(i = m + _ * t) / p(i)) - d(m)) / o;
                    var i
                }
                var g = Date.now(),
                    v = (e(1) - m) / _,
                    y = t.duration ? 1e3 * t.duration : 1e3 * v * .8;
                return this._moveStart(!0, t.noMoveStart),
                    function t() {
                        var i, e, n = (Date.now() - g) / y,
                            o = (i = n, (1 - Math.pow(1 - i, 1.5)) * v);
                        n <= 1 ? (this._flyToFrame = M(t, this), this._move(this.unproject(a.add(h.subtract(a).multiplyBy(f(o) / c)), u), this.getScaleZoom(l / (e = o, l * (p(m) / p(m + _ * e))), u), {
                            flyTo: !0
                        })) : this._move(s, r)._moveEnd(!0)
                    }.call(this), this
            },
            flyToBounds: function(t, i) {
                var e = this._getBoundsCenterZoom(t, i);
                return this.flyTo(e.center, e.zoom, i)
            },
            setMaxBounds: function(t) {
                return (t = N(t)).isValid() ? (this.options.maxBounds && this.off("moveend", this._panInsideMaxBounds), this.options.maxBounds = t, this._loaded && this._panInsideMaxBounds(), this.on("moveend", this._panInsideMaxBounds)) : (this.options.maxBounds = null, this.off("moveend", this._panInsideMaxBounds))
            },
            setMinZoom: function(t) {
                var i = this.options.minZoom;
                return this.options.minZoom = t, this._loaded && i !== t && (this.fire("zoomlevelschange"), this.getZoom() < this.options.minZoom) ? this.setZoom(t) : this
            },
            setMaxZoom: function(t) {
                var i = this.options.maxZoom;
                return this.options.maxZoom = t, this._loaded && i !== t && (this.fire("zoomlevelschange"), this.getZoom() > this.options.maxZoom) ? this.setZoom(t) : this
            },
            panInsideBounds: function(t, i) {
                this._enforcingBounds = !0;
                var e = this.getCenter(),
                    n = this._limitCenter(e, this._zoom, N(t));
                return e.equals(n) || this.panTo(n, i), this._enforcingBounds = !1, this
            },
            panInside: function(t, i) {
                var e, n, o = A((i = i || {}).paddingTopLeft || i.padding || [0, 0]),
                    s = A(i.paddingBottomRight || i.padding || [0, 0]),
                    r = this.getCenter(),
                    a = this.project(r),
                    h = this.project(t),
                    u = this.getPixelBounds(),
                    l = u.getSize().divideBy(2),
                    c = O([u.min.add(o), u.max.subtract(s)]);
                return c.contains(h) || (this._enforcingBounds = !0, e = a.subtract(h), n = A(h.x + e.x, h.y + e.y), (h.x < c.min.x || h.x > c.max.x) && (n.x = a.x - e.x, 0 < e.x ? n.x += l.x - o.x : n.x -= l.x - s.x), (h.y < c.min.y || h.y > c.max.y) && (n.y = a.y - e.y, 0 < e.y ? n.y += l.y - o.y : n.y -= l.y - s.y), this.panTo(this.unproject(n), i), this._enforcingBounds = !1), this
            },
            invalidateSize: function(t) {
                if (!this._loaded) return this;
                t = h({
                    animate: !1,
                    pan: !0
                }, !0 === t ? {
                    animate: !0
                } : t);
                var i = this.getSize();
                this._sizeChanged = !0, this._lastCenter = null;
                var e = this.getSize(),
                    n = i.divideBy(2).round(),
                    o = e.divideBy(2).round(),
                    s = n.subtract(o);
                return s.x || s.y ? (t.animate && t.pan ? this.panBy(s) : (t.pan && this._rawPanBy(s), this.fire("move"), t.debounceMoveend ? (clearTimeout(this._sizeTimer), this._sizeTimer = setTimeout(p(this.fire, this, "moveend"), 200)) : this.fire("moveend")), this.fire("resize", {
                    oldSize: i,
                    newSize: e
                })) : this
            },
            stop: function() {
                return this.setZoom(this._limitZoom(this._zoom)), this.options.zoomSnap || this.fire("viewreset"), this._stop()
            },
            locate: function(t) {
                if (t = this._locateOptions = h({
                        timeout: 1e4,
                        watch: !1
                    }, t), !("geolocation" in navigator)) return this._handleGeolocationError({
                    code: 0,
                    message: "Geolocation not supported."
                }), this;
                var i = p(this._handleGeolocationResponse, this),
                    e = p(this._handleGeolocationError, this);
                return t.watch ? this._locationWatchId = navigator.geolocation.watchPosition(i, e, t) : navigator.geolocation.getCurrentPosition(i, e, t), this
            },
            stopLocate: function() {
                return navigator.geolocation && navigator.geolocation.clearWatch && navigator.geolocation.clearWatch(this._locationWatchId), this._locateOptions && (this._locateOptions.setView = !1), this
            },
            _handleGeolocationError: function(t) {
                var i = t.code,
                    e = t.message || (1 === i ? "permission denied" : 2 === i ? "position unavailable" : "timeout");
                this._locateOptions.setView && !this._loaded && this.fitWorld(), this.fire("locationerror", {
                    code: i,
                    message: "Geolocation error: " + e + "."
                })
            },
            _handleGeolocationResponse: function(t) {
                var i, e = new D(t.coords.latitude, t.coords.longitude),
                    n = e.toBounds(2 * t.coords.accuracy),
                    o = this._locateOptions;
                o.setView && (i = this.getBoundsZoom(n), this.setView(e, o.maxZoom ? Math.min(i, o.maxZoom) : i));
                var s = {
                    latlng: e,
                    bounds: n,
                    timestamp: t.timestamp
                };
                for (var r in t.coords) "number" == typeof t.coords[r] && (s[r] = t.coords[r]);
                this.fire("locationfound", s)
            },
            addHandler: function(t, i) {
                if (!i) return this;
                var e = this[t] = new i(this);
                return this._handlers.push(e), this.options[t] && e.enable(), this
            },
            remove: function() {
                if (this._initEvents(!0), this.off("moveend", this._panInsideMaxBounds), this._containerId !== this._container._leaflet_id) throw new Error("Map container is being reused by another instance");
                try {
                    delete this._container._leaflet_id, delete this._containerId
                } catch (t) {
                    this._container._leaflet_id = void 0, this._containerId = void 0
                }
                var t;
                for (t in void 0 !== this._locationWatchId && this.stopLocate(), this._stop(), ri(this._mapPane), this._clearControlPos && this._clearControlPos(), this._resizeRequest && (z(this._resizeRequest), this._resizeRequest = null), this._clearHandlers(), this._loaded && this.fire("unload"), this._layers) this._layers[t].remove();
                for (t in this._panes) ri(this._panes[t]);
                return this._layers = [], this._panes = [], delete this._mapPane, delete this._renderer, this
            },
            createPane: function(t, i) {
                var e = si("div", "leaflet-pane" + (t ? " leaflet-" + t.replace("Pane", "") + "-pane" : ""), i || this._mapPane);
                return t && (this._panes[t] = e), e
            },
            getCenter: function() {
                return this._checkIfLoaded(), this._lastCenter && !this._moved() ? this._lastCenter : this.layerPointToLatLng(this._getCenterLayerPoint())
            },
            getZoom: function() {
                return this._zoom
            },
            getBounds: function() {
                var t = this.getPixelBounds();
                return new R(this.unproject(t.getBottomLeft()), this.unproject(t.getTopRight()))
            },
            getMinZoom: function() {
                return void 0 === this.options.minZoom ? this._layersMinZoom || 0 : this.options.minZoom
            },
            getMaxZoom: function() {
                return void 0 === this.options.maxZoom ? void 0 === this._layersMaxZoom ? 1 / 0 : this._layersMaxZoom : this.options.maxZoom
            },
            getBoundsZoom: function(t, i, e) {
                t = N(t), e = A(e || [0, 0]);
                var n = this.getZoom() || 0,
                    o = this.getMinZoom(),
                    s = this.getMaxZoom(),
                    r = t.getNorthWest(),
                    a = t.getSouthEast(),
                    h = this.getSize().subtract(e),
                    u = O(this.project(a, n), this.project(r, n)).getSize(),
                    l = vt ? this.options.zoomSnap : 1,
                    c = h.x / u.x,
                    _ = h.y / u.y,
                    d = i ? Math.max(c, _) : Math.min(c, _),
                    n = this.getScaleZoom(d, n);
                return l && (n = Math.round(n / (l / 100)) * (l / 100), n = i ? Math.ceil(n / l) * l : Math.floor(n / l) * l), Math.max(o, Math.min(s, n))
            },
            getSize: function() {
                return this._size && !this._sizeChanged || (this._size = new k(this._container.clientWidth || 0, this._container.clientHeight || 0), this._sizeChanged = !1), this._size.clone()
            },
            getPixelBounds: function(t, i) {
                var e = this._getTopLeftPoint(t, i);
                return new I(e, e.add(this.getSize()))
            },
            getPixelOrigin: function() {
                return this._checkIfLoaded(), this._pixelOrigin
            },
            getPixelWorldBounds: function(t) {
                return this.options.crs.getProjectedBounds(void 0 === t ? this.getZoom() : t)
            },
            getPane: function(t) {
                return "string" == typeof t ? this._panes[t] : t
            },
            getPanes: function() {
                return this._panes
            },
            getContainer: function() {
                return this._container
            },
            getZoomScale: function(t, i) {
                var e = this.options.crs;
                return i = void 0 === i ? this._zoom : i, e.scale(t) / e.scale(i)
            },
            getScaleZoom: function(t, i) {
                var e = this.options.crs;
                i = void 0 === i ? this._zoom : i;
                var n = e.zoom(t * e.scale(i));
                return isNaN(n) ? 1 / 0 : n
            },
            project: function(t, i) {
                return i = void 0 === i ? this._zoom : i, this.options.crs.latLngToPoint(j(t), i)
            },
            unproject: function(t, i) {
                return i = void 0 === i ? this._zoom : i, this.options.crs.pointToLatLng(A(t), i)
            },
            layerPointToLatLng: function(t) {
                var i = A(t).add(this.getPixelOrigin());
                return this.unproject(i)
            },
            latLngToLayerPoint: function(t) {
                return this.project(j(t))._round()._subtract(this.getPixelOrigin())
            },
            wrapLatLng: function(t) {
                return this.options.crs.wrapLatLng(j(t))
            },
            wrapLatLngBounds: function(t) {
                return this.options.crs.wrapLatLngBounds(N(t))
            },
            distance: function(t, i) {
                return this.options.crs.distance(j(t), j(i))
            },
            containerPointToLayerPoint: function(t) {
                return A(t).subtract(this._getMapPanePos())
            },
            layerPointToContainerPoint: function(t) {
                return A(t).add(this._getMapPanePos())
            },
            containerPointToLatLng: function(t) {
                var i = this.containerPointToLayerPoint(A(t));
                return this.layerPointToLatLng(i)
            },
            latLngToContainerPoint: function(t) {
                return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))
            },
            mouseEventToContainerPoint: function(t) {
                return Di(t, this._container)
            },
            mouseEventToLayerPoint: function(t) {
                return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))
            },
            mouseEventToLatLng: function(t) {
                return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))
            },
            _initContainer: function(t) {
                var i = this._container = ni(t);
                if (!i) throw new Error("Map container not found.");
                if (i._leaflet_id) throw new Error("Map container is already initialized.");
                zi(i, "scroll", this._onScroll, this), this._containerId = m(i)
            },
            _initLayout: function() {
                var t = this._container;
                this._fadeAnimated = this.options.fadeAnimation && vt, ci(t, "leaflet-container" + (bt ? " leaflet-touch" : "") + (zt ? " leaflet-retina" : "") + (it ? " leaflet-oldie" : "") + (ct ? " leaflet-safari" : "") + (this._fadeAnimated ? " leaflet-fade-anim" : ""));
                var i = oi(t, "position");
                "absolute" !== i && "relative" !== i && "fixed" !== i && (t.style.position = "relative"), this._initPanes(), this._initControlPos && this._initControlPos()
            },
            _initPanes: function() {
                var t = this._panes = {};
                this._paneRenderers = {}, this._mapPane = this.createPane("mapPane", this._container), vi(this._mapPane, new k(0, 0)), this.createPane("tilePane"), this.createPane("shadowPane"), this.createPane("overlayPane"), this.createPane("markerPane"), this.createPane("tooltipPane"), this.createPane("popupPane"), this.options.markerZoomAnimation || (ci(t.markerPane, "leaflet-zoom-hide"), ci(t.shadowPane, "leaflet-zoom-hide"))
            },
            _resetView: function(t, i) {
                vi(this._mapPane, new k(0, 0));
                var e = !this._loaded;
                this._loaded = !0, i = this._limitZoom(i), this.fire("viewprereset");
                var n = this._zoom !== i;
                this._moveStart(n, !1)._move(t, i)._moveEnd(n), this.fire("viewreset"), e && this.fire("load")
            },
            _moveStart: function(t, i) {
                return t && this.fire("zoomstart"), i || this.fire("movestart"), this
            },
            _move: function(t, i, e) {
                void 0 === i && (i = this._zoom);
                var n = this._zoom !== i;
                return this._zoom = i, this._lastCenter = t, this._pixelOrigin = this._getNewPixelOrigin(t), (n || e && e.pinch) && this.fire("zoom", e), this.fire("move", e)
            },
            _moveEnd: function(t) {
                return t && this.fire("zoomend"), this.fire("moveend")
            },
            _stop: function() {
                return z(this._flyToFrame), this._panAnim && this._panAnim.stop(), this
            },
            _rawPanBy: function(t) {
                vi(this._mapPane, this._getMapPanePos().subtract(t))
            },
            _getZoomSpan: function() {
                return this.getMaxZoom() - this.getMinZoom()
            },
            _panInsideMaxBounds: function() {
                this._enforcingBounds || this.panInsideBounds(this.options.maxBounds)
            },
            _checkIfLoaded: function() {
                if (!this._loaded) throw new Error("Set map center and zoom first.")
            },
            _initEvents: function(t) {
                this._targets = {};
                var i = t ? Si : zi;
                i((this._targets[m(this._container)] = this)._container, "click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup", this._handleDOMEvent, this), this.options.trackResize && i(window, "resize", this._onResize, this), vt && this.options.transform3DLimit && (t ? this.off : this.on).call(this, "moveend", this._onMoveEnd)
            },
            _onResize: function() {
                z(this._resizeRequest), this._resizeRequest = M(function() {
                    this.invalidateSize({
                        debounceMoveend: !0
                    })
                }, this)
            },
            _onScroll: function() {
                this._container.scrollTop = 0, this._container.scrollLeft = 0
            },
            _onMoveEnd: function() {
                var t = this._getMapPanePos();
                Math.max(Math.abs(t.x), Math.abs(t.y)) >= this.options.transform3DLimit && this._resetView(this.getCenter(), this.getZoom())
            },
            _findEventTargets: function(t, i) {
                for (var e, n = [], o = "mouseout" === i || "mouseover" === i, s = t.target || t.srcElement, r = !1; s;) {
                    if ((e = this._targets[m(s)]) && ("click" === i || "preclick" === i) && !t._simulated && this._draggableMoved(e)) {
                        r = !0;
                        break
                    }
                    if (e && e.listens(i, !0)) {
                        if (o && !Vi(s, t)) break;
                        if (n.push(e), o) break
                    }
                    if (s === this._container) break;
                    s = s.parentNode
                }
                return n.length || r || o || !Vi(s, t) || (n = [this]), n
            },
            _handleDOMEvent: function(t) {
                var i;
                this._loaded && !Ui(t) && ("mousedown" !== (i = t.type) && "keypress" !== i && "keyup" !== i && "keydown" !== i || Pi(t.target || t.srcElement), this._fireDOMEvent(t, i))
            },
            _mouseEvents: ["click", "dblclick", "mouseover", "mouseout", "contextmenu"],
            _fireDOMEvent: function(t, i, e) {
                var n;
                if ("click" === t.type && ((n = h({}, t)).type = "preclick", this._fireDOMEvent(n, n.type, e)), !t._stopped && (e = (e || []).concat(this._findEventTargets(t, i))).length) {
                    var o = e[0];
                    "contextmenu" === i && o.listens(i, !0) && Ri(t);
                    var s, r = {
                        originalEvent: t
                    };
                    "keypress" !== t.type && "keydown" !== t.type && "keyup" !== t.type && (s = o.getLatLng && (!o._radius || o._radius <= 10), r.containerPoint = s ? this.latLngToContainerPoint(o.getLatLng()) : this.mouseEventToContainerPoint(t), r.layerPoint = this.containerPointToLayerPoint(r.containerPoint), r.latlng = s ? o.getLatLng() : this.layerPointToLatLng(r.layerPoint));
                    for (var a = 0; a < e.length; a++)
                        if (e[a].fire(i, r, !0), r.originalEvent._stopped || !1 === e[a].options.bubblingMouseEvents && -1 !== v(this._mouseEvents, i)) return
                }
            },
            _draggableMoved: function(t) {
                return (t = t.dragging && t.dragging.enabled() ? t : this).dragging && t.dragging.moved() || this.boxZoom && this.boxZoom.moved()
            },
            _clearHandlers: function() {
                for (var t = 0, i = this._handlers.length; t < i; t++) this._handlers[t].disable()
            },
            whenReady: function(t, i) {
                return this._loaded ? t.call(i || this, {
                    target: this
                }) : this.on("load", t, i), this
            },
            _getMapPanePos: function() {
                return yi(this._mapPane) || new k(0, 0)
            },
            _moved: function() {
                var t = this._getMapPanePos();
                return t && !t.equals([0, 0])
            },
            _getTopLeftPoint: function(t, i) {
                return (t && void 0 !== i ? this._getNewPixelOrigin(t, i) : this.getPixelOrigin()).subtract(this._getMapPanePos())
            },
            _getNewPixelOrigin: function(t, i) {
                var e = this.getSize()._divideBy(2);
                return this.project(t, i)._subtract(e)._add(this._getMapPanePos())._round()
            },
            _latLngToNewLayerPoint: function(t, i, e) {
                var n = this._getNewPixelOrigin(e, i);
                return this.project(t, i)._subtract(n)
            },
            _latLngBoundsToNewLayerBounds: function(t, i, e) {
                var n = this._getNewPixelOrigin(e, i);
                return O([this.project(t.getSouthWest(), i)._subtract(n), this.project(t.getNorthWest(), i)._subtract(n), this.project(t.getSouthEast(), i)._subtract(n), this.project(t.getNorthEast(), i)._subtract(n)])
            },
            _getCenterLayerPoint: function() {
                return this.containerPointToLayerPoint(this.getSize()._divideBy(2))
            },
            _getCenterOffset: function(t) {
                return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())
            },
            _limitCenter: function(t, i, e) {
                if (!e) return t;
                var n = this.project(t, i),
                    o = this.getSize().divideBy(2),
                    s = new I(n.subtract(o), n.add(o)),
                    r = this._getBoundsOffset(s, e, i);
                return r.round().equals([0, 0]) ? t : this.unproject(n.add(r), i)
            },
            _limitOffset: function(t, i) {
                if (!i) return t;
                var e = this.getPixelBounds(),
                    n = new I(e.min.add(t), e.max.add(t));
                return t.add(this._getBoundsOffset(n, i))
            },
            _getBoundsOffset: function(t, i, e) {
                var n = O(this.project(i.getNorthEast(), e), this.project(i.getSouthWest(), e)),
                    o = n.min.subtract(t.min),
                    s = n.max.subtract(t.max);
                return new k(this._rebound(o.x, -s.x), this._rebound(o.y, -s.y))
            },
            _rebound: function(t, i) {
                return 0 < t + i ? Math.round(t - i) / 2 : Math.max(0, Math.ceil(t)) - Math.max(0, Math.floor(i))
            },
            _limitZoom: function(t) {
                var i = this.getMinZoom(),
                    e = this.getMaxZoom(),
                    n = vt ? this.options.zoomSnap : 1;
                return n && (t = Math.round(t / n) * n), Math.max(i, Math.min(e, t))
            },
            _onPanTransitionStep: function() {
                this.fire("move")
            },
            _onPanTransitionEnd: function() {
                _i(this._mapPane, "leaflet-pan-anim"), this.fire("moveend")
            },
            _tryAnimatedPan: function(t, i) {
                var e = this._getCenterOffset(t)._trunc();
                return !(!0 !== (i && i.animate) && !this.getSize().contains(e)) && (this.panBy(e, i), !0)
            },
            _createAnimProxy: function() {
                var t = this._proxy = si("div", "leaflet-proxy leaflet-zoom-animated");
                this._panes.mapPane.appendChild(t), this.on("zoomanim", function(t) {
                    var i = ti,
                        e = this._proxy.style[i];
                    gi(this._proxy, this.project(t.center, t.zoom), this.getZoomScale(t.zoom, 1)), e === this._proxy.style[i] && this._animatingZoom && this._onZoomTransitionEnd()
                }, this), this.on("load moveend", this._animMoveEnd, this), this._on("unload", this._destroyAnimProxy, this)
            },
            _destroyAnimProxy: function() {
                ri(this._proxy), this.off("load moveend", this._animMoveEnd, this), delete this._proxy
            },
            _animMoveEnd: function() {
                var t = this.getCenter(),
                    i = this.getZoom();
                gi(this._proxy, this.project(t, i), this.getZoomScale(i, 1))
            },
            _catchTransitionEnd: function(t) {
                this._animatingZoom && 0 <= t.propertyName.indexOf("transform") && this._onZoomTransitionEnd()
            },
            _nothingToAnimate: function() {
                return !this._container.getElementsByClassName("leaflet-zoom-animated").length
            },
            _tryAnimatedZoom: function(t, i, e) {
                if (this._animatingZoom) return !0;
                if (e = e || {}, !this._zoomAnimated || !1 === e.animate || this._nothingToAnimate() || Math.abs(i - this._zoom) > this.options.zoomAnimationThreshold) return !1;
                var n = this.getZoomScale(i),
                    o = this._getCenterOffset(t)._divideBy(1 - 1 / n);
                return !(!0 !== e.animate && !this.getSize().contains(o)) && (M(function() {
                    this._moveStart(!0, !1)._animateZoom(t, i, !0)
                }, this), !0)
            },
            _animateZoom: function(t, i, e, n) {
                this._mapPane && (e && (this._animatingZoom = !0, this._animateToCenter = t, this._animateToZoom = i, ci(this._mapPane, "leaflet-zoom-anim")), this.fire("zoomanim", {
                    center: t,
                    zoom: i,
                    noUpdate: n
                }), setTimeout(p(this._onZoomTransitionEnd, this), 250))
            },
            _onZoomTransitionEnd: function() {
                this._animatingZoom && (this._mapPane && _i(this._mapPane, "leaflet-zoom-anim"), this._animatingZoom = !1, this._move(this._animateToCenter, this._animateToZoom), M(function() {
                    this._moveEnd(!0)
                }, this))
            }
        });

    function Yi(t) {
        return new Xi(t)
    }
    var Xi = S.extend({
        options: {
            position: "topright"
        },
        initialize: function(t) {
            c(this, t)
        },
        getPosition: function() {
            return this.options.position
        },
        setPosition: function(t) {
            var i = this._map;
            return i && i.removeControl(this), this.options.position = t, i && i.addControl(this), this
        },
        getContainer: function() {
            return this._container
        },
        addTo: function(t) {
            this.remove(), this._map = t;
            var i = this._container = this.onAdd(t),
                e = this.getPosition(),
                n = t._controlCorners[e];
            return ci(i, "leaflet-control"), -1 !== e.indexOf("bottom") ? n.insertBefore(i, n.firstChild) : n.appendChild(i), this._map.on("unload", this.remove, this), this
        },
        remove: function() {
            return this._map && (ri(this._container), this.onRemove && this.onRemove(this._map), this._map.off("unload", this.remove, this), this._map = null), this
        },
        _refocusOnMap: function(t) {
            this._map && t && 0 < t.screenX && 0 < t.screenY && this._map.getContainer().focus()
        }
    });
    Ki.include({
        addControl: function(t) {
            return t.addTo(this), this
        },
        removeControl: function(t) {
            return t.remove(), this
        },
        _initControlPos: function() {
            var n = this._controlCorners = {},
                o = "leaflet-",
                s = this._controlContainer = si("div", o + "control-container", this._container);

            function t(t, i) {
                var e = o + t + " " + o + i;
                n[t + i] = si("div", e, s)
            }
            t("top", "left"), t("top", "right"), t("bottom", "left"), t("bottom", "right")
        },
        _clearControlPos: function() {
            for (var t in this._controlCorners) ri(this._controlCorners[t]);
            ri(this._controlContainer), delete this._controlCorners, delete this._controlContainer
        }
    });
    var Ji = Xi.extend({
            options: {
                collapsed: !0,
                position: "topright",
                autoZIndex: !0,
                hideSingleBase: !1,
                sortLayers: !1,
                sortFunction: function(t, i, e, n) {
                    return e < n ? -1 : n < e ? 1 : 0
                }
            },
            initialize: function(t, i, e) {
                for (var n in c(this, e), this._layerControlInputs = [], this._layers = [], this._lastZIndex = 0, this._handlingClick = !1, t) this._addLayer(t[n], n);
                for (n in i) this._addLayer(i[n], n, !0)
            },
            onAdd: function(t) {
                this._initLayout(), this._update(), (this._map = t).on("zoomend", this._checkDisabledLayers, this);
                for (var i = 0; i < this._layers.length; i++) this._layers[i].layer.on("add remove", this._onLayerChange, this);
                return this._container
            },
            addTo: function(t) {
                return Xi.prototype.addTo.call(this, t), this._expandIfNotCollapsed()
            },
            onRemove: function() {
                this._map.off("zoomend", this._checkDisabledLayers, this);
                for (var t = 0; t < this._layers.length; t++) this._layers[t].layer.off("add remove", this._onLayerChange, this)
            },
            addBaseLayer: function(t, i) {
                return this._addLayer(t, i), this._map ? this._update() : this
            },
            addOverlay: function(t, i) {
                return this._addLayer(t, i, !0), this._map ? this._update() : this
            },
            removeLayer: function(t) {
                t.off("add remove", this._onLayerChange, this);
                var i = this._getLayer(m(t));
                return i && this._layers.splice(this._layers.indexOf(i), 1), this._map ? this._update() : this
            },
            expand: function() {
                ci(this._container, "leaflet-control-layers-expanded"), this._section.style.height = null;
                var t = this._map.getSize().y - (this._container.offsetTop + 50);
                return t < this._section.clientHeight ? (ci(this._section, "leaflet-control-layers-scrollbar"), this._section.style.height = t + "px") : _i(this._section, "leaflet-control-layers-scrollbar"), this._checkDisabledLayers(), this
            },
            collapse: function() {
                return _i(this._container, "leaflet-control-layers-expanded"), this
            },
            _initLayout: function() {
                var t = "leaflet-control-layers",
                    i = this._container = si("div", t),
                    e = this.options.collapsed;
                i.setAttribute("aria-haspopup", !0), Oi(i), Ii(i);
                var n = this._section = si("section", t + "-list");
                e && (this._map.on("click", this.collapse, this), ot || zi(i, {
                    mouseenter: this.expand,
                    mouseleave: this.collapse
                }, this));
                var o = this._layersLink = si("a", t + "-toggle", i);
                o.href = "#", o.title = "Layers", bt ? (zi(o, "click", Ni), zi(o, "click", this.expand, this)) : zi(o, "focus", this.expand, this), e || this.expand(), this._baseLayersList = si("div", t + "-base", n), this._separator = si("div", t + "-separator", n), this._overlaysList = si("div", t + "-overlays", n), i.appendChild(n)
            },
            _getLayer: function(t) {
                for (var i = 0; i < this._layers.length; i++)
                    if (this._layers[i] && m(this._layers[i].layer) === t) return this._layers[i]
            },
            _addLayer: function(t, i, e) {
                this._map && t.on("add remove", this._onLayerChange, this), this._layers.push({
                    layer: t,
                    name: i,
                    overlay: e
                }), this.options.sortLayers && this._layers.sort(p(function(t, i) {
                    return this.options.sortFunction(t.layer, i.layer, t.name, i.name)
                }, this)), this.options.autoZIndex && t.setZIndex && (this._lastZIndex++, t.setZIndex(this._lastZIndex)), this._expandIfNotCollapsed()
            },
            _update: function() {
                if (!this._container) return this;
                ai(this._baseLayersList), ai(this._overlaysList), this._layerControlInputs = [];
                for (var t, i, e, n = 0, o = 0; o < this._layers.length; o++) e = this._layers[o], this._addItem(e), i = i || e.overlay, t = t || !e.overlay, n += e.overlay ? 0 : 1;
                return this.options.hideSingleBase && (t = t && 1 < n, this._baseLayersList.style.display = t ? "" : "none"), this._separator.style.display = i && t ? "" : "none", this
            },
            _onLayerChange: function(t) {
                this._handlingClick || this._update();
                var i = this._getLayer(m(t.target)),
                    e = i.overlay ? "add" === t.type ? "overlayadd" : "overlayremove" : "add" === t.type ? "baselayerchange" : null;
                e && this._map.fire(e, i)
            },
            _createRadioElement: function(t, i) {
                var e = '<input type="radio" class="leaflet-control-layers-selector" name="' + t + '"' + (i ? ' checked="checked"' : "") + "/>",
                    n = document.createElement("div");
                return n.innerHTML = e, n.firstChild
            },
            _addItem: function(t) {
                var i, e = document.createElement("label"),
                    n = this._map.hasLayer(t.layer);
                t.overlay ? ((i = document.createElement("input")).type = "checkbox", i.className = "leaflet-control-layers-selector", i.defaultChecked = n) : i = this._createRadioElement("leaflet-base-layers_" + m(this), n), this._layerControlInputs.push(i), i.layerId = m(t.layer), zi(i, "click", this._onInputClick, this);
                var o = document.createElement("span");
                o.innerHTML = " " + t.name;
                var s = document.createElement("div");
                return e.appendChild(s), s.appendChild(i), s.appendChild(o), (t.overlay ? this._overlaysList : this._baseLayersList).appendChild(e), this._checkDisabledLayers(), e
            },
            _onInputClick: function() {
                var t, i, e = this._layerControlInputs,
                    n = [],
                    o = [];
                this._handlingClick = !0;
                for (var s = e.length - 1; 0 <= s; s--) t = e[s], i = this._getLayer(t.layerId).layer, t.checked ? n.push(i) : t.checked || o.push(i);
                for (s = 0; s < o.length; s++) this._map.hasLayer(o[s]) && this._map.removeLayer(o[s]);
                for (s = 0; s < n.length; s++) this._map.hasLayer(n[s]) || this._map.addLayer(n[s]);
                this._handlingClick = !1, this._refocusOnMap()
            },
            _checkDisabledLayers: function() {
                for (var t, i, e = this._layerControlInputs, n = this._map.getZoom(), o = e.length - 1; 0 <= o; o--) t = e[o], i = this._getLayer(t.layerId).layer, t.disabled = void 0 !== i.options.minZoom && n < i.options.minZoom || void 0 !== i.options.maxZoom && n > i.options.maxZoom
            },
            _expandIfNotCollapsed: function() {
                return this._map && !this.options.collapsed && this.expand(), this
            },
            _expand: function() {
                return this.expand()
            },
            _collapse: function() {
                return this.collapse()
            }
        }),
        $i = Xi.extend({
            options: {
                position: "topleft",
                zoomInText: "+",
                zoomInTitle: "Zoom in",
                zoomOutText: "&#x2212;",
                zoomOutTitle: "Zoom out"
            },
            onAdd: function(t) {
                var i = "leaflet-control-zoom",
                    e = si("div", i + " leaflet-bar"),
                    n = this.options;
                return this._zoomInButton = this._createButton(n.zoomInText, n.zoomInTitle, i + "-in", e, this._zoomIn), this._zoomOutButton = this._createButton(n.zoomOutText, n.zoomOutTitle, i + "-out", e, this._zoomOut), this._updateDisabled(), t.on("zoomend zoomlevelschange", this._updateDisabled, this), e
            },
            onRemove: function(t) {
                t.off("zoomend zoomlevelschange", this._updateDisabled, this)
            },
            disable: function() {
                return this._disabled = !0, this._updateDisabled(), this
            },
            enable: function() {
                return this._disabled = !1, this._updateDisabled(), this
            },
            _zoomIn: function(t) {
                !this._disabled && this._map._zoom < this._map.getMaxZoom() && this._map.zoomIn(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1))
            },
            _zoomOut: function(t) {
                !this._disabled && this._map._zoom > this._map.getMinZoom() && this._map.zoomOut(this._map.options.zoomDelta * (t.shiftKey ? 3 : 1))
            },
            _createButton: function(t, i, e, n, o) {
                var s = si("a", e, n);
                return s.innerHTML = t, s.href = "#", s.title = i, s.setAttribute("role", "button"), s.setAttribute("aria-label", i), Oi(s), zi(s, "click", Ni), zi(s, "click", o, this), zi(s, "click", this._refocusOnMap, this), s
            },
            _updateDisabled: function() {
                var t = this._map,
                    i = "leaflet-disabled";
                _i(this._zoomInButton, i), _i(this._zoomOutButton, i), !this._disabled && t._zoom !== t.getMinZoom() || ci(this._zoomOutButton, i), !this._disabled && t._zoom !== t.getMaxZoom() || ci(this._zoomInButton, i)
            }
        });
    Ki.mergeOptions({
        zoomControl: !0
    }), Ki.addInitHook(function() {
        this.options.zoomControl && (this.zoomControl = new $i, this.addControl(this.zoomControl))
    });
    var Qi = Xi.extend({
            options: {
                position: "bottomleft",
                maxWidth: 100,
                metric: !0,
                imperial: !0
            },
            onAdd: function(t) {
                var i = "leaflet-control-scale",
                    e = si("div", i),
                    n = this.options;
                return this._addScales(n, i + "-line", e), t.on(n.updateWhenIdle ? "moveend" : "move", this._update, this), t.whenReady(this._update, this), e
            },
            onRemove: function(t) {
                t.off(this.options.updateWhenIdle ? "moveend" : "move", this._update, this)
            },
            _addScales: function(t, i, e) {
                t.metric && (this._mScale = si("div", i, e)), t.imperial && (this._iScale = si("div", i, e))
            },
            _update: function() {
                var t = this._map,
                    i = t.getSize().y / 2,
                    e = t.distance(t.containerPointToLatLng([0, i]), t.containerPointToLatLng([this.options.maxWidth, i]));
                this._updateScales(e)
            },
            _updateScales: function(t) {
                this.options.metric && t && this._updateMetric(t), this.options.imperial && t && this._updateImperial(t)
            },
            _updateMetric: function(t) {
                var i = this._getRoundNum(t),
                    e = i < 1e3 ? i + " m" : i / 1e3 + " km";
                this._updateScale(this._mScale, e, i / t)
            },
            _updateImperial: function(t) {
                var i, e, n, o = 3.2808399 * t;
                5280 < o ? (i = o / 5280, e = this._getRoundNum(i), this._updateScale(this._iScale, e + " mi", e / i)) : (n = this._getRoundNum(o), this._updateScale(this._iScale, n + " ft", n / o))
            },
            _updateScale: function(t, i, e) {
                t.style.width = Math.round(this.options.maxWidth * e) + "px", t.innerHTML = i
            },
            _getRoundNum: function(t) {
                var i = Math.pow(10, (Math.floor(t) + "").length - 1),
                    e = t / i;
                return i * (e = 10 <= e ? 10 : 5 <= e ? 5 : 3 <= e ? 3 : 2 <= e ? 2 : 1)
            }
        }),
        te = Xi.extend({
            options: {
                position: "bottomright",
                prefix: '<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'
            },
            initialize: function(t) {
                c(this, t), this._attributions = {}
            },
            onAdd: function(t) {
                for (var i in (t.attributionControl = this)._container = si("div", "leaflet-control-attribution"), Oi(this._container), t._layers) t._layers[i].getAttribution && this.addAttribution(t._layers[i].getAttribution());
                return this._update(), this._container
            },
            setPrefix: function(t) {
                return this.options.prefix = t, this._update(), this
            },
            addAttribution: function(t) {
                return t && (this._attributions[t] || (this._attributions[t] = 0), this._attributions[t]++, this._update()), this
            },
            removeAttribution: function(t) {
                return t && this._attributions[t] && (this._attributions[t]--, this._update()), this
            },
            _update: function() {
                if (this._map) {
                    var t = [];
                    for (var i in this._attributions) this._attributions[i] && t.push(i);
                    var e = [];
                    this.options.prefix && e.push(this.options.prefix), t.length && e.push(t.join(", ")), this._container.innerHTML = e.join(" | ")
                }
            }
        });
    Ki.mergeOptions({
        attributionControl: !0
    }), Ki.addInitHook(function() {
        this.options.attributionControl && (new te).addTo(this)
    });
    Xi.Layers = Ji, Xi.Zoom = $i, Xi.Scale = Qi, Xi.Attribution = te, Yi.layers = function(t, i, e) {
        return new Ji(t, i, e)
    }, Yi.zoom = function(t) {
        return new $i(t)
    }, Yi.scale = function(t) {
        return new Qi(t)
    }, Yi.attribution = function(t) {
        return new te(t)
    };
    var ie = S.extend({
        initialize: function(t) {
            this._map = t
        },
        enable: function() {
            return this._enabled || (this._enabled = !0, this.addHooks()), this
        },
        disable: function() {
            return this._enabled && (this._enabled = !1, this.removeHooks()), this
        },
        enabled: function() {
            return !!this._enabled
        }
    });
    ie.addTo = function(t, i) {
        return t.addHandler(i, this), this
    };
    var ee, ne = {
            Events: Z
        },
        oe = bt ? "touchstart mousedown" : "mousedown",
        se = {
            mousedown: "mouseup",
            touchstart: "touchend",
            pointerdown: "touchend",
            MSPointerDown: "touchend"
        },
        re = {
            mousedown: "mousemove",
            touchstart: "touchmove",
            pointerdown: "touchmove",
            MSPointerDown: "touchmove"
        },
        ae = E.extend({
            options: {
                clickTolerance: 3
            },
            initialize: function(t, i, e, n) {
                c(this, n), this._element = t, this._dragStartTarget = i || t, this._preventOutline = e
            },
            enable: function() {
                this._enabled || (zi(this._dragStartTarget, oe, this._onDown, this), this._enabled = !0)
            },
            disable: function() {
                this._enabled && (ae._dragging === this && this.finishDrag(), Si(this._dragStartTarget, oe, this._onDown, this), this._enabled = !1, this._moved = !1)
            },
            _onDown: function(t) {
                var i, e;
                !t._simulated && this._enabled && (this._moved = !1, li(this._element, "leaflet-zoom-anim") || ae._dragging || t.shiftKey || 1 !== t.which && 1 !== t.button && !t.touches || ((ae._dragging = this)._preventOutline && Pi(this._element), xi(), Xt(), this._moving || (this.fire("down"), i = t.touches ? t.touches[0] : t, e = bi(this._element), this._startPoint = new k(i.clientX, i.clientY), this._parentScale = Ti(e), zi(document, re[t.type], this._onMove, this), zi(document, se[t.type], this._onUp, this))))
            },
            _onMove: function(t) {
                var i, e;
                !t._simulated && this._enabled && (t.touches && 1 < t.touches.length ? this._moved = !0 : ((e = new k((i = t.touches && 1 === t.touches.length ? t.touches[0] : t).clientX, i.clientY)._subtract(this._startPoint)).x || e.y) && (Math.abs(e.x) + Math.abs(e.y) < this.options.clickTolerance || (e.x /= this._parentScale.x, e.y /= this._parentScale.y, Ri(t), this._moved || (this.fire("dragstart"), this._moved = !0, this._startPos = yi(this._element).subtract(e), ci(document.body, "leaflet-dragging"), this._lastTarget = t.target || t.srcElement, window.SVGElementInstance && this._lastTarget instanceof window.SVGElementInstance && (this._lastTarget = this._lastTarget.correspondingUseElement), ci(this._lastTarget, "leaflet-drag-target")), this._newPos = this._startPos.add(e), this._moving = !0, z(this._animRequest), this._lastEvent = t, this._animRequest = M(this._updatePosition, this, !0))))
            },
            _updatePosition: function() {
                var t = {
                    originalEvent: this._lastEvent
                };
                this.fire("predrag", t), vi(this._element, this._newPos), this.fire("drag", t)
            },
            _onUp: function(t) {
                !t._simulated && this._enabled && this.finishDrag()
            },
            finishDrag: function() {
                for (var t in _i(document.body, "leaflet-dragging"), this._lastTarget && (_i(this._lastTarget, "leaflet-drag-target"), this._lastTarget = null), re) Si(document, re[t], this._onMove, this), Si(document, se[t], this._onUp, this);
                wi(), Jt(), this._moved && this._moving && (z(this._animRequest), this.fire("dragend", {
                    distance: this._newPos.distanceTo(this._startPos)
                })), this._moving = !1, ae._dragging = !1
            }
        });

    function he(t, i) {
        if (!i || !t.length) return t.slice();
        var e = i * i;
        return t = function(t, i) {
            var e = t.length,
                n = new(typeof Uint8Array != void 0 + "" ? Uint8Array : Array)(e);
            n[0] = n[e - 1] = 1,
                function t(i, e, n, o, s) {
                    var r, a, h, u = 0;
                    for (a = o + 1; a <= s - 1; a++) h = de(i[a], i[o], i[s], !0), u < h && (r = a, u = h);
                    n < u && (e[r] = 1, t(i, e, n, o, r), t(i, e, n, r, s))
                }(t, n, i, 0, e - 1);
            var o, s = [];
            for (o = 0; o < e; o++) n[o] && s.push(t[o]);
            return s
        }(t = function(t, i) {
            for (var e = [t[0]], n = 1, o = 0, s = t.length; n < s; n++)(function(t, i) {
                var e = i.x - t.x,
                    n = i.y - t.y;
                return e * e + n * n
            })(t[n], t[o]) > i && (e.push(t[n]), o = n);
            o < s - 1 && e.push(t[s - 1]);
            return e
        }(t, e), e)
    }

    function ue(t, i, e) {
        return Math.sqrt(de(t, i, e, !0))
    }

    function le(t, i, e, n, o) {
        var s, r, a, h = n ? ee : _e(t, e),
            u = _e(i, e);
        for (ee = u;;) {
            if (!(h | u)) return [t, i];
            if (h & u) return !1;
            a = _e(r = ce(t, i, s = h || u, e, o), e), s === h ? (t = r, h = a) : (i = r, u = a)
        }
    }

    function ce(t, i, e, n, o) {
        var s, r, a = i.x - t.x,
            h = i.y - t.y,
            u = n.min,
            l = n.max;
        return 8 & e ? (s = t.x + a * (l.y - t.y) / h, r = l.y) : 4 & e ? (s = t.x + a * (u.y - t.y) / h, r = u.y) : 2 & e ? (s = l.x, r = t.y + h * (l.x - t.x) / a) : 1 & e && (s = u.x, r = t.y + h * (u.x - t.x) / a), new k(s, r, o)
    }

    function _e(t, i) {
        var e = 0;
        return t.x < i.min.x ? e |= 1 : t.x > i.max.x && (e |= 2), t.y < i.min.y ? e |= 4 : t.y > i.max.y && (e |= 8), e
    }

    function de(t, i, e, n) {
        var o, s = i.x,
            r = i.y,
            a = e.x - s,
            h = e.y - r,
            u = a * a + h * h;
        return 0 < u && (1 < (o = ((t.x - s) * a + (t.y - r) * h) / u) ? (s = e.x, r = e.y) : 0 < o && (s += a * o, r += h * o)), a = t.x - s, h = t.y - r, n ? a * a + h * h : new k(s, r)
    }

    function pe(t) {
        return !g(t[0]) || "object" != typeof t[0][0] && void 0 !== t[0][0]
    }

    function me(t) {
        return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."), pe(t)
    }
    var fe = {
        simplify: he,
        pointToSegmentDistance: ue,
        closestPointOnSegment: function(t, i, e) {
            return de(t, i, e)
        },
        clipSegment: le,
        _getEdgeIntersection: ce,
        _getBitCode: _e,
        _sqClosestPointOnSegment: de,
        isFlat: pe,
        _flat: me
    };

    function ge(t, i, e) {
        for (var n, o, s, r, a, h, u, l = [1, 4, 2, 8], c = 0, _ = t.length; c < _; c++) t[c]._code = _e(t[c], i);
        for (s = 0; s < 4; s++) {
            for (h = l[s], n = [], c = 0, o = (_ = t.length) - 1; c < _; o = c++) r = t[c], a = t[o], r._code & h ? a._code & h || ((u = ce(a, r, h, i, e))._code = _e(u, i), n.push(u)) : (a._code & h && ((u = ce(a, r, h, i, e))._code = _e(u, i), n.push(u)), n.push(r));
            t = n
        }
        return t
    }
    var ve, ye = {
            clipPolygon: ge
        },
        xe = {
            project: function(t) {
                return new k(t.lng, t.lat)
            },
            unproject: function(t) {
                return new D(t.y, t.x)
            },
            bounds: new I([-180, -90], [180, 90])
        },
        we = {
            R: 6378137,
            R_MINOR: 6356752.314245179,
            bounds: new I([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]),
            project: function(t) {
                var i = Math.PI / 180,
                    e = this.R,
                    n = t.lat * i,
                    o = this.R_MINOR / e,
                    s = Math.sqrt(1 - o * o),
                    r = s * Math.sin(n),
                    a = Math.tan(Math.PI / 4 - n / 2) / Math.pow((1 - r) / (1 + r), s / 2),
                    n = -e * Math.log(Math.max(a, 1e-10));
                return new k(t.lng * i * e, n)
            },
            unproject: function(t) {
                for (var i, e = 180 / Math.PI, n = this.R, o = this.R_MINOR / n, s = Math.sqrt(1 - o * o), r = Math.exp(-t.y / n), a = Math.PI / 2 - 2 * Math.atan(r), h = 0, u = .1; h < 15 && 1e-7 < Math.abs(u); h++) i = s * Math.sin(a), i = Math.pow((1 - i) / (1 + i), s / 2), a += u = Math.PI / 2 - 2 * Math.atan(r * i) - a;
                return new D(a * e, t.x * e / n)
            }
        },
        Pe = {
            LonLat: xe,
            Mercator: we,
            SphericalMercator: V
        },
        Le = h({}, F, {
            code: "EPSG:3395",
            projection: we,
            transformation: G(ve = .5 / (Math.PI * we.R), .5, -ve, .5)
        }),
        be = h({}, F, {
            code: "EPSG:4326",
            projection: xe,
            transformation: G(1 / 180, 1, -1 / 180, .5)
        }),
        Te = h({}, H, {
            projection: xe,
            transformation: G(1, 0, -1, 0),
            scale: function(t) {
                return Math.pow(2, t)
            },
            zoom: function(t) {
                return Math.log(t) / Math.LN2
            },
            distance: function(t, i) {
                var e = i.lng - t.lng,
                    n = i.lat - t.lat;
                return Math.sqrt(e * e + n * n)
            },
            infinite: !0
        });
    H.Earth = F, H.EPSG3395 = Le, H.EPSG3857 = Y, H.EPSG900913 = X, H.EPSG4326 = be, H.Simple = Te;
    var Me = E.extend({
        options: {
            pane: "overlayPane",
            attribution: null,
            bubblingMouseEvents: !0
        },
        addTo: function(t) {
            return t.addLayer(this), this
        },
        remove: function() {
            return this.removeFrom(this._map || this._mapToAdd)
        },
        removeFrom: function(t) {
            return t && t.removeLayer(this), this
        },
        getPane: function(t) {
            return this._map.getPane(t ? this.options[t] || t : this.options.pane)
        },
        addInteractiveTarget: function(t) {
            return this._map._targets[m(t)] = this
        },
        removeInteractiveTarget: function(t) {
            return delete this._map._targets[m(t)], this
        },
        getAttribution: function() {
            return this.options.attribution
        },
        _layerAdd: function(t) {
            var i, e = t.target;
            e.hasLayer(this) && (this._map = e, this._zoomAnimated = e._zoomAnimated, this.getEvents && (i = this.getEvents(), e.on(i, this), this.once("remove", function() {
                e.off(i, this)
            }, this)), this.onAdd(e), this.getAttribution && e.attributionControl && e.attributionControl.addAttribution(this.getAttribution()), this.fire("add"), e.fire("layeradd", {
                layer: this
            }))
        }
    });
    Ki.include({
        addLayer: function(t) {
            if (!t._layerAdd) throw new Error("The provided object is not a Layer.");
            var i = m(t);
            return this._layers[i] || ((this._layers[i] = t)._mapToAdd = this, t.beforeAdd && t.beforeAdd(this), this.whenReady(t._layerAdd, t)), this
        },
        removeLayer: function(t) {
            var i = m(t);
            return this._layers[i] && (this._loaded && t.onRemove(this), t.getAttribution && this.attributionControl && this.attributionControl.removeAttribution(t.getAttribution()), delete this._layers[i], this._loaded && (this.fire("layerremove", {
                layer: t
            }), t.fire("remove")), t._map = t._mapToAdd = null), this
        },
        hasLayer: function(t) {
            return !!t && m(t) in this._layers
        },
        eachLayer: function(t, i) {
            for (var e in this._layers) t.call(i, this._layers[e]);
            return this
        },
        _addLayers: function(t) {
            for (var i = 0, e = (t = t ? g(t) ? t : [t] : []).length; i < e; i++) this.addLayer(t[i])
        },
        _addZoomLimit: function(t) {
            !isNaN(t.options.maxZoom) && isNaN(t.options.minZoom) || (this._zoomBoundLayers[m(t)] = t, this._updateZoomLevels())
        },
        _removeZoomLimit: function(t) {
            var i = m(t);
            this._zoomBoundLayers[i] && (delete this._zoomBoundLayers[i], this._updateZoomLevels())
        },
        _updateZoomLevels: function() {
            var t = 1 / 0,
                i = -1 / 0,
                e = this._getZoomSpan();
            for (var n in this._zoomBoundLayers) var o = this._zoomBoundLayers[n].options,
                t = void 0 === o.minZoom ? t : Math.min(t, o.minZoom),
                i = void 0 === o.maxZoom ? i : Math.max(i, o.maxZoom);
            this._layersMaxZoom = i === -1 / 0 ? void 0 : i, this._layersMinZoom = t === 1 / 0 ? void 0 : t, e !== this._getZoomSpan() && this.fire("zoomlevelschange"), void 0 === this.options.maxZoom && this._layersMaxZoom && this.getZoom() > this._layersMaxZoom && this.setZoom(this._layersMaxZoom), void 0 === this.options.minZoom && this._layersMinZoom && this.getZoom() < this._layersMinZoom && this.setZoom(this._layersMinZoom)
        }
    });
    var ze = Me.extend({
            initialize: function(t, i) {
                var e, n;
                if (c(this, i), this._layers = {}, t)
                    for (e = 0, n = t.length; e < n; e++) this.addLayer(t[e])
            },
            addLayer: function(t) {
                var i = this.getLayerId(t);
                return this._layers[i] = t, this._map && this._map.addLayer(t), this
            },
            removeLayer: function(t) {
                var i = t in this._layers ? t : this.getLayerId(t);
                return this._map && this._layers[i] && this._map.removeLayer(this._layers[i]), delete this._layers[i], this
            },
            hasLayer: function(t) {
                return !!t && ("number" == typeof t ? t : this.getLayerId(t)) in this._layers
            },
            clearLayers: function() {
                return this.eachLayer(this.removeLayer, this)
            },
            invoke: function(t) {
                var i, e, n = Array.prototype.slice.call(arguments, 1);
                for (i in this._layers)(e = this._layers[i])[t] && e[t].apply(e, n);
                return this
            },
            onAdd: function(t) {
                this.eachLayer(t.addLayer, t)
            },
            onRemove: function(t) {
                this.eachLayer(t.removeLayer, t)
            },
            eachLayer: function(t, i) {
                for (var e in this._layers) t.call(i, this._layers[e]);
                return this
            },
            getLayer: function(t) {
                return this._layers[t]
            },
            getLayers: function() {
                var t = [];
                return this.eachLayer(t.push, t), t
            },
            setZIndex: function(t) {
                return this.invoke("setZIndex", t)
            },
            getLayerId: m
        }),
        Ce = ze.extend({
            addLayer: function(t) {
                return this.hasLayer(t) ? this : (t.addEventParent(this), ze.prototype.addLayer.call(this, t), this.fire("layeradd", {
                    layer: t
                }))
            },
            removeLayer: function(t) {
                return this.hasLayer(t) ? (t in this._layers && (t = this._layers[t]), t.removeEventParent(this), ze.prototype.removeLayer.call(this, t), this.fire("layerremove", {
                    layer: t
                })) : this
            },
            setStyle: function(t) {
                return this.invoke("setStyle", t)
            },
            bringToFront: function() {
                return this.invoke("bringToFront")
            },
            bringToBack: function() {
                return this.invoke("bringToBack")
            },
            getBounds: function() {
                var t = new R;
                for (var i in this._layers) {
                    var e = this._layers[i];
                    t.extend(e.getBounds ? e.getBounds() : e.getLatLng())
                }
                return t
            }
        }),
        Se = S.extend({
            options: {
                popupAnchor: [0, 0],
                tooltipAnchor: [0, 0]
            },
            initialize: function(t) {
                c(this, t)
            },
            createIcon: function(t) {
                return this._createIcon("icon", t)
            },
            createShadow: function(t) {
                return this._createIcon("shadow", t)
            },
            _createIcon: function(t, i) {
                var e = this._getIconUrl(t);
                if (!e) {
                    if ("icon" === t) throw new Error("iconUrl not set in Icon options (see the docs).");
                    return null
                }
                var n = this._createImg(e, i && "IMG" === i.tagName ? i : null);
                return this._setIconStyles(n, t), n
            },
            _setIconStyles: function(t, i) {
                var e = this.options,
                    n = e[i + "Size"];
                "number" == typeof n && (n = [n, n]);
                var o = A(n),
                    s = A("shadow" === i && e.shadowAnchor || e.iconAnchor || o && o.divideBy(2, !0));
                t.className = "leaflet-marker-" + i + " " + (e.className || ""), s && (t.style.marginLeft = -s.x + "px", t.style.marginTop = -s.y + "px"), o && (t.style.width = o.x + "px", t.style.height = o.y + "px")
            },
            _createImg: function(t, i) {
                return (i = i || document.createElement("img")).src = t, i
            },
            _getIconUrl: function(t) {
                return zt && this.options[t + "RetinaUrl"] || this.options[t + "Url"]
            }
        });
    var Ze = Se.extend({
            options: {
                iconUrl: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",
                iconRetinaUrl: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7c3grY3grg8hJo3grY4g7c4g7c3grU0gLI4grY9hrpBi79HkMM2frE0daA0fq82gbROlslbo9Vgp9dcpNZQmcxFjsIwd6QzeKk3gbRfptdepdZcpdY2gLMtd5s3gLNZotVSntNPnNJLmtFImdBZodU1f7A2f7A1frA2f7I2f7FHmNBUnM9Wn9VGmNAydaNYoNJOm9M9hLc0e6w3fa46f7BKmdFFltBVndE1fK1Els82fq41fK1Dlc89g7RClc9XoNVUndQ0eqxClM9Jl9FRms81eqo0eqpHltFBk89Fi75Qm9M/k89KkcYzealSjbadvdPH2ufz9/r4+vzP3+qlxNljmL08gLNSnNQzeKgydqUzeKg/ks6NtM/////+/v8+kc/f6fFAgK1CiLwydKIzd6c8kM6Tt9C1zd5OmdNBh7pTjLRzn78xdKIydqU7j86jwdbM3egxdKIydaQydaMydKNGlNE6js5OiLAxc6FKkshDk9E5jc09e6Zekrcxc6I4jc03eagyc6FIldI3jM0wcaBMl9J+psNKltIwcZ82i83k7fMubJhLlc81is1Lg6pklbZNl9I/j9AvbJlEjcVdkLPt8/cwcZ4ubZkwcJ00icy0y9swcJwvb5wzicxHkcpTh60ubZhCkNAyiMwvbpoxh8xAicBHj8hGk9FHks0+jdAubJcubJdEkdEwhsw6i88ubJgta5cvhswxapgubJcuhcstbJcubZcuhMsubJcvbJZBjMgthMsubJcvbZkubJcrg8stbJctbZcubJgrgssua5gubJc6is8qgcs8i9A9iMYtg8spgcoogMo7hcMrbZcubJcngMonf8olfsoubJc4gr8kfckua5g5iM8jfMk4iM8he8k1froua5g7itAgeskubJc2hs8eecgzfLcofssdeMg0hc4ubJccd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqjbZ8obAAAA7HRSTlMAHDdTb4yPA+L/7ZxE/////yYLgvb///////8SYf/////qB/////////+1wNHd//////8s////r/////////+O/P///////////8f///////////////////////+P2P///////////3f//////////5j/////tczn//////L///////////////////////8+////////R/////Ww////tf////9q////////////4P/////Yd/8W+P/xov+UNv///STN/7hc1P/AUv//////////MMT///+m//+e//////+M//+C////////6cqo94AAAAXmSURBVHgBrNKDoipBGADgbHMRpjuKi2xOdu//MHe2Y6tvOdZvuhGzxWqzO2xWi9lp+g6L3eV+5PH6vmpltrv8nDsQDIWCAbef83jDpo9FojFeJxhPJO8JosQzYnb5oxYpVzodiCcyhiwA2esPEAPpdM727vT+eSH0x7McwoTmOUpxIcvF/RAWI29byCUIpUQ2m8A0/xwx8kIQls2vW4QrihIHQMDqGyQBgAiVnOXVTuWUtAaAnq++I48B0PxKrPZiq8qKvy4IpPqBhiDUm0rl+ca12h1NQN3eh7pI6MN26WnfooNBPIHU4SdUlBAHg9Hj0seDEEJ08pxKqfoio4tQaDAOP0xrMEWIzB4NCWaIK8xJ7ymXItQcFO/jcLGIF+bLRytW4LS18Wbd5SNcEBcLn8mw2TYZ2+3vLRuMaYdme7sdTA8iY8flQ0mPscC2fB1ku12z4+necs7YebDlri9JZ3rvoazB1tutxdiuy1TXl4/Zer95ufzneq7524qBAIBr61TmtxXX/MK4FC6cKIwvViozXMDMzLbCTF+1JBn/4/EtLi2vrK6tbywsbE506vVxnZ3fF7YIIQamdX7dVqb/RtnCr1X+n3F9gA2MdA7Vsl87nzEDId2MTUCHSdr+As/Y1DKvM1uYFWBGpTtggrFuYrMPApgc0jhMTNmdvInLbn8NqNImgEG7jWzZnwB1KAg79t1V3mzPvgm6Q+n9m98n/e5ZQI+iw6Dby1v43AzApPIIs24/Cbg1GFcRE+h29xpvseJ2v4cxjzQOmjtAgqF5PRyRZvTXIfcqbxUNPdOnI1JYnw8FSSwUp4mklKDzoRRvkw7N0vF6QTwUI4aMRsNZyUQnMhkzb2HMZeJ0RhUMUy1jIP68lRaKUpLSXN7FW5jz+QnqKEoFas37yX6pD8tFpYybpQpv4S3lEGv5KvaV9olNDPwNHUhh1ETex5scpsQOVg8UxAFhI0dCHKPjRIogDorT1aZPzkTuHC9U2oPnQlySRzFxhYkTJYHHIXFt5srNnhBxLDSyV+L2IyF395vnhQflpHCuifv80g3/a+UPIXWNEDEAQEE0HR23weEk6XGnwR1iH3eJu7udbt26fe30I17x/PYH+9iv+CB5qT1v+YhlL5WeS5ZV72RZftvlNF6Wj75Zdn2kHcl6e5Sy/A3D7DsBMP0gd/DkC/Bp9l3gW5Y7a5asWVCm3WcaAFSHnFtxAXivwwAsWf9E25dl+TiwhwIKPVRgD33Ct6wvom0ijKapOBllpkEcf6ZCMsqjyCgjuvKIoajXYgya8vhIJ7rKKnKOP+sxjOPJZmV0DRRHGIZx/KW6npaOvor3M/G+pqalS00TT5q4G7qzPGe4O+wu7mxw59wt8p3LCre//pn/J+iupIwe1HKcpVdXI8c9QB9l9QMDnHVQF8+9xdAw5YzgBmfuHdVh4bj7GKO8cZYxW/UmvHkAeEl5pgncMJt7JzVZzOYaTFGh6WRGEDVJ5pniCDOCWw0Ns3MaLA0NdRijYm+AmQZhXoO1YQFYpBJLqGloGF1W1ZuMfKRSL1OZFVXJyNBlUhhD7evXk6sqZl+/rscaKfUDC68FtYn19Xr64xU+oo7nxQ2FWZ6vxyapuTyEdV5WTgR+HZ3DpGoN9Szzu8Qkzz9CH6kbZhlpa7uELO2gs4I0bOKRJInFC1GyPsMuaanoxPre1n6hbXlvB90dpKkPj4Q9sXAi7gnfcEDaOjqxIxwe5e1vCcforiIdu/gkyyenOSeyrBthqrpxvHV2lF0cHW4d47ySdB3g29bWiSPjZMvZBDvpqzxPZk7Ti9PDLZcyomBHk/PwxJ1ycsgiv4guzrgOz9wexn126EVbNV3oVzLj8zBaEYXqNnjP/G4W8Z8F0GYiKisTPGMZ31kQGKdymGwIhMIeTzgUgM1EZRkHgmGfL8wi01Qe0wQCYSaAESrXNBCJRiN6EYURxKLRmF5E4Q0QjwNvyIAlJBKYIiNegnlJhowBY2RMP9BPBn38SEYtLpKG/+tgQe8M5cY7AAAAAElFTkSuQmCC",
                shadowUrl: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                tooltipAnchor: [16, -28],
                shadowSize: [41, 41]
            },
            _getIconUrl: function(t) {
                return Ze.imagePath || (Ze.imagePath = this._detectIconPath()), (this.options.imagePath || Ze.imagePath) + Se.prototype._getIconUrl.call(this, t)
            },
            _detectIconPath: function() {
                var t = si("div", "leaflet-default-icon-path", document.body),
                    i = oi(t, "background-image") || oi(t, "backgroundImage");
                return document.body.removeChild(t), i = null === i || 0 !== i.indexOf("url") ? "" : i.replace(/^url\(["']?/, "").replace(/marker-icon\.png["']?\)$/, "")
            }
        }),
        Ee = ie.extend({
            initialize: function(t) {
                this._marker = t
            },
            addHooks: function() {
                var t = this._marker._icon;
                this._draggable || (this._draggable = new ae(t, t, !0)), this._draggable.on({
                    dragstart: this._onDragStart,
                    predrag: this._onPreDrag,
                    drag: this._onDrag,
                    dragend: this._onDragEnd
                }, this).enable(), ci(t, "leaflet-marker-draggable")
            },
            removeHooks: function() {
                this._draggable.off({
                    dragstart: this._onDragStart,
                    predrag: this._onPreDrag,
                    drag: this._onDrag,
                    dragend: this._onDragEnd
                }, this).disable(), this._marker._icon && _i(this._marker._icon, "leaflet-marker-draggable")
            },
            moved: function() {
                return this._draggable && this._draggable._moved
            },
            _adjustPan: function(t) {
                var i, e = this._marker,
                    n = e._map,
                    o = this._marker.options.autoPanSpeed,
                    s = this._marker.options.autoPanPadding,
                    r = yi(e._icon),
                    a = n.getPixelBounds(),
                    h = n.getPixelOrigin(),
                    u = O(a.min._subtract(h).add(s), a.max._subtract(h).subtract(s));
                u.contains(r) || (i = A((Math.max(u.max.x, r.x) - u.max.x) / (a.max.x - u.max.x) - (Math.min(u.min.x, r.x) - u.min.x) / (a.min.x - u.min.x), (Math.max(u.max.y, r.y) - u.max.y) / (a.max.y - u.max.y) - (Math.min(u.min.y, r.y) - u.min.y) / (a.min.y - u.min.y)).multiplyBy(o), n.panBy(i, {
                    animate: !1
                }), this._draggable._newPos._add(i), this._draggable._startPos._add(i), vi(e._icon, this._draggable._newPos), this._onDrag(t), this._panRequest = M(this._adjustPan.bind(this, t)))
            },
            _onDragStart: function() {
                this._oldLatLng = this._marker.getLatLng(), this._marker.closePopup && this._marker.closePopup(), this._marker.fire("movestart").fire("dragstart")
            },
            _onPreDrag: function(t) {
                this._marker.options.autoPan && (z(this._panRequest), this._panRequest = M(this._adjustPan.bind(this, t)))
            },
            _onDrag: function(t) {
                var i = this._marker,
                    e = i._shadow,
                    n = yi(i._icon),
                    o = i._map.layerPointToLatLng(n);
                e && vi(e, n), i._latlng = o, t.latlng = o, t.oldLatLng = this._oldLatLng, i.fire("move", t).fire("drag", t)
            },
            _onDragEnd: function(t) {
                z(this._panRequest), delete this._oldLatLng, this._marker.fire("moveend").fire("dragend", t)
            }
        }),
        ke = Me.extend({
            options: {
                icon: new Ze,
                interactive: !0,
                keyboard: !0,
                title: "",
                alt: "",
                zIndexOffset: 0,
                opacity: 1,
                riseOnHover: !1,
                riseOffset: 250,
                pane: "markerPane",
                shadowPane: "shadowPane",
                bubblingMouseEvents: !1,
                draggable: !1,
                autoPan: !1,
                autoPanPadding: [50, 50],
                autoPanSpeed: 10
            },
            initialize: function(t, i) {
                c(this, i), this._latlng = j(t)
            },
            onAdd: function(t) {
                this._zoomAnimated = this._zoomAnimated && t.options.markerZoomAnimation, this._zoomAnimated && t.on("zoomanim", this._animateZoom, this), this._initIcon(), this.update()
            },
            onRemove: function(t) {
                this.dragging && this.dragging.enabled() && (this.options.draggable = !0, this.dragging.removeHooks()), delete this.dragging, this._zoomAnimated && t.off("zoomanim", this._animateZoom, this), this._removeIcon(), this._removeShadow()
            },
            getEvents: function() {
                return {
                    zoom: this.update,
                    viewreset: this.update
                }
            },
            getLatLng: function() {
                return this._latlng
            },
            setLatLng: function(t) {
                var i = this._latlng;
                return this._latlng = j(t), this.update(), this.fire("move", {
                    oldLatLng: i,
                    latlng: this._latlng
                })
            },
            setZIndexOffset: function(t) {
                return this.options.zIndexOffset = t, this.update()
            },
            getIcon: function() {
                return this.options.icon
            },
            setIcon: function(t) {
                return this.options.icon = t, this._map && (this._initIcon(), this.update()), this._popup && this.bindPopup(this._popup, this._popup.options), this
            },
            getElement: function() {
                return this._icon
            },
            update: function() {
                var t;
                return this._icon && this._map && (t = this._map.latLngToLayerPoint(this._latlng).round(), this._setPos(t)), this
            },
            _initIcon: function() {
                var t = this.options,
                    i = "leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide"),
                    e = t.icon.createIcon(this._icon),
                    n = !1;
                e !== this._icon && (this._icon && this._removeIcon(), n = !0, t.title && (e.title = t.title), "IMG" === e.tagName && (e.alt = t.alt || "")), ci(e, i), t.keyboard && (e.tabIndex = "0"), this._icon = e, t.riseOnHover && this.on({
                    mouseover: this._bringToFront,
                    mouseout: this._resetZIndex
                });
                var o = t.icon.createShadow(this._shadow),
                    s = !1;
                o !== this._shadow && (this._removeShadow(), s = !0), o && (ci(o, i), o.alt = ""), this._shadow = o, t.opacity < 1 && this._updateOpacity(), n && this.getPane().appendChild(this._icon), this._initInteraction(), o && s && this.getPane(t.shadowPane).appendChild(this._shadow)
            },
            _removeIcon: function() {
                this.options.riseOnHover && this.off({
                    mouseover: this._bringToFront,
                    mouseout: this._resetZIndex
                }), ri(this._icon), this.removeInteractiveTarget(this._icon), this._icon = null
            },
            _removeShadow: function() {
                this._shadow && ri(this._shadow), this._shadow = null
            },
            _setPos: function(t) {
                this._icon && vi(this._icon, t), this._shadow && vi(this._shadow, t), this._zIndex = t.y + this.options.zIndexOffset, this._resetZIndex()
            },
            _updateZIndex: function(t) {
                this._icon && (this._icon.style.zIndex = this._zIndex + t)
            },
            _animateZoom: function(t) {
                var i = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center).round();
                this._setPos(i)
            },
            _initInteraction: function() {
                var t;
                this.options.interactive && (ci(this._icon, "leaflet-interactive"), this.addInteractiveTarget(this._icon), Ee && (t = this.options.draggable, this.dragging && (t = this.dragging.enabled(), this.dragging.disable()), this.dragging = new Ee(this), t && this.dragging.enable()))
            },
            setOpacity: function(t) {
                return this.options.opacity = t, this._map && this._updateOpacity(), this
            },
            _updateOpacity: function() {
                var t = this.options.opacity;
                this._icon && mi(this._icon, t), this._shadow && mi(this._shadow, t)
            },
            _bringToFront: function() {
                this._updateZIndex(this.options.riseOffset)
            },
            _resetZIndex: function() {
                this._updateZIndex(0)
            },
            _getPopupAnchor: function() {
                return this.options.icon.options.popupAnchor
            },
            _getTooltipAnchor: function() {
                return this.options.icon.options.tooltipAnchor
            }
        });
    var Be = Me.extend({
            options: {
                stroke: !0,
                color: "#3388ff",
                weight: 3,
                opacity: 1,
                lineCap: "round",
                lineJoin: "round",
                dashArray: null,
                dashOffset: null,
                fill: !1,
                fillColor: null,
                fillOpacity: .2,
                fillRule: "evenodd",
                interactive: !0,
                bubblingMouseEvents: !0
            },
            beforeAdd: function(t) {
                this._renderer = t.getRenderer(this)
            },
            onAdd: function() {
                this._renderer._initPath(this), this._reset(), this._renderer._addPath(this)
            },
            onRemove: function() {
                this._renderer._removePath(this)
            },
            redraw: function() {
                return this._map && this._renderer._updatePath(this), this
            },
            setStyle: function(t) {
                return c(this, t), this._renderer && (this._renderer._updateStyle(this), this.options.stroke && t && Object.prototype.hasOwnProperty.call(t, "weight") && this._updateBounds()), this
            },
            bringToFront: function() {
                return this._renderer && this._renderer._bringToFront(this), this
            },
            bringToBack: function() {
                return this._renderer && this._renderer._bringToBack(this), this
            },
            getElement: function() {
                return this._path
            },
            _reset: function() {
                this._project(), this._update()
            },
            _clickTolerance: function() {
                return (this.options.stroke ? this.options.weight / 2 : 0) + this._renderer.options.tolerance
            }
        }),
        Ae = Be.extend({
            options: {
                fill: !0,
                radius: 10
            },
            initialize: function(t, i) {
                c(this, i), this._latlng = j(t), this._radius = this.options.radius
            },
            setLatLng: function(t) {
                var i = this._latlng;
                return this._latlng = j(t), this.redraw(), this.fire("move", {
                    oldLatLng: i,
                    latlng: this._latlng
                })
            },
            getLatLng: function() {
                return this._latlng
            },
            setRadius: function(t) {
                return this.options.radius = this._radius = t, this.redraw()
            },
            getRadius: function() {
                return this._radius
            },
            setStyle: function(t) {
                var i = t && t.radius || this._radius;
                return Be.prototype.setStyle.call(this, t), this.setRadius(i), this
            },
            _project: function() {
                this._point = this._map.latLngToLayerPoint(this._latlng), this._updateBounds()
            },
            _updateBounds: function() {
                var t = this._radius,
                    i = this._radiusY || t,
                    e = this._clickTolerance(),
                    n = [t + e, i + e];
                this._pxBounds = new I(this._point.subtract(n), this._point.add(n))
            },
            _update: function() {
                this._map && this._updatePath()
            },
            _updatePath: function() {
                this._renderer._updateCircle(this)
            },
            _empty: function() {
                return this._radius && !this._renderer._bounds.intersects(this._pxBounds)
            },
            _containsPoint: function(t) {
                return t.distanceTo(this._point) <= this._radius + this._clickTolerance()
            }
        });
    var Ie = Ae.extend({
        initialize: function(t, i, e) {
            if ("number" == typeof i && (i = h({}, e, {
                    radius: i
                })), c(this, i), this._latlng = j(t), isNaN(this.options.radius)) throw new Error("Circle radius cannot be NaN");
            this._mRadius = this.options.radius
        },
        setRadius: function(t) {
            return this._mRadius = t, this.redraw()
        },
        getRadius: function() {
            return this._mRadius
        },
        getBounds: function() {
            var t = [this._radius, this._radiusY || this._radius];
            return new R(this._map.layerPointToLatLng(this._point.subtract(t)), this._map.layerPointToLatLng(this._point.add(t)))
        },
        setStyle: Be.prototype.setStyle,
        _project: function() {
            var t, i, e, n, o, s, r, a, h = this._latlng.lng,
                u = this._latlng.lat,
                l = this._map,
                c = l.options.crs;
            c.distance === F.distance ? (t = Math.PI / 180, i = this._mRadius / F.R / t, e = l.project([u + i, h]), n = l.project([u - i, h]), o = e.add(n).divideBy(2), s = l.unproject(o).lat, r = Math.acos((Math.cos(i * t) - Math.sin(u * t) * Math.sin(s * t)) / (Math.cos(u * t) * Math.cos(s * t))) / t, !isNaN(r) && 0 !== r || (r = i / Math.cos(Math.PI / 180 * u)), this._point = o.subtract(l.getPixelOrigin()), this._radius = isNaN(r) ? 0 : o.x - l.project([s, h - r]).x, this._radiusY = o.y - e.y) : (a = c.unproject(c.project(this._latlng).subtract([this._mRadius, 0])), this._point = l.latLngToLayerPoint(this._latlng), this._radius = this._point.x - l.latLngToLayerPoint(a).x), this._updateBounds()
        }
    });
    var Oe = Be.extend({
        options: {
            smoothFactor: 1,
            noClip: !1
        },
        initialize: function(t, i) {
            c(this, i), this._setLatLngs(t)
        },
        getLatLngs: function() {
            return this._latlngs
        },
        setLatLngs: function(t) {
            return this._setLatLngs(t), this.redraw()
        },
        isEmpty: function() {
            return !this._latlngs.length
        },
        closestLayerPoint: function(t) {
            for (var i, e, n = 1 / 0, o = null, s = de, r = 0, a = this._parts.length; r < a; r++)
                for (var h = this._parts[r], u = 1, l = h.length; u < l; u++) {
                    var c = s(t, i = h[u - 1], e = h[u], !0);
                    c < n && (n = c, o = s(t, i, e))
                }
            return o && (o.distance = Math.sqrt(n)), o
        },
        getCenter: function() {
            if (!this._map) throw new Error("Must add layer to map before using getCenter()");
            var t, i, e, n, o, s, r, a = this._rings[0],
                h = a.length;
            if (!h) return null;
            for (i = t = 0; t < h - 1; t++) i += a[t].distanceTo(a[t + 1]) / 2;
            if (0 === i) return this._map.layerPointToLatLng(a[0]);
            for (n = t = 0; t < h - 1; t++)
                if (o = a[t], s = a[t + 1], i < (n += e = o.distanceTo(s))) return r = (n - i) / e, this._map.layerPointToLatLng([s.x - r * (s.x - o.x), s.y - r * (s.y - o.y)])
        },
        getBounds: function() {
            return this._bounds
        },
        addLatLng: function(t, i) {
            return i = i || this._defaultShape(), t = j(t), i.push(t), this._bounds.extend(t), this.redraw()
        },
        _setLatLngs: function(t) {
            this._bounds = new R, this._latlngs = this._convertLatLngs(t)
        },
        _defaultShape: function() {
            return pe(this._latlngs) ? this._latlngs : this._latlngs[0]
        },
        _convertLatLngs: function(t) {
            for (var i = [], e = pe(t), n = 0, o = t.length; n < o; n++) e ? (i[n] = j(t[n]), this._bounds.extend(i[n])) : i[n] = this._convertLatLngs(t[n]);
            return i
        },
        _project: function() {
            var t = new I;
            this._rings = [], this._projectLatlngs(this._latlngs, this._rings, t), this._bounds.isValid() && t.isValid() && (this._rawPxBounds = t, this._updateBounds())
        },
        _updateBounds: function() {
            var t = this._clickTolerance(),
                i = new k(t, t);
            this._pxBounds = new I([this._rawPxBounds.min.subtract(i), this._rawPxBounds.max.add(i)])
        },
        _projectLatlngs: function(t, i, e) {
            var n, o, s = t[0] instanceof D,
                r = t.length;
            if (s) {
                for (o = [], n = 0; n < r; n++) o[n] = this._map.latLngToLayerPoint(t[n]), e.extend(o[n]);
                i.push(o)
            } else
                for (n = 0; n < r; n++) this._projectLatlngs(t[n], i, e)
        },
        _clipPoints: function() {
            var t = this._renderer._bounds;
            if (this._parts = [], this._pxBounds && this._pxBounds.intersects(t))
                if (this.options.noClip) this._parts = this._rings;
                else
                    for (var i, e, n, o, s = this._parts, r = 0, a = 0, h = this._rings.length; r < h; r++)
                        for (i = 0, e = (o = this._rings[r]).length; i < e - 1; i++)(n = le(o[i], o[i + 1], t, i, !0)) && (s[a] = s[a] || [], s[a].push(n[0]), n[1] === o[i + 1] && i !== e - 2 || (s[a].push(n[1]), a++))
        },
        _simplifyPoints: function() {
            for (var t = this._parts, i = this.options.smoothFactor, e = 0, n = t.length; e < n; e++) t[e] = he(t[e], i)
        },
        _update: function() {
            this._map && (this._clipPoints(), this._simplifyPoints(), this._updatePath())
        },
        _updatePath: function() {
            this._renderer._updatePoly(this)
        },
        _containsPoint: function(t, i) {
            var e, n, o, s, r, a, h = this._clickTolerance();
            if (!this._pxBounds || !this._pxBounds.contains(t)) return !1;
            for (e = 0, s = this._parts.length; e < s; e++)
                for (n = 0, o = (r = (a = this._parts[e]).length) - 1; n < r; o = n++)
                    if ((i || 0 !== n) && ue(t, a[o], a[n]) <= h) return !0;
            return !1
        }
    });
    Oe._flat = me;
    var Re = Oe.extend({
        options: {
            fill: !0
        },
        isEmpty: function() {
            return !this._latlngs.length || !this._latlngs[0].length
        },
        getCenter: function() {
            if (!this._map) throw new Error("Must add layer to map before using getCenter()");
            var t, i, e, n, o, s, r, a, h, u = this._rings[0],
                l = u.length;
            if (!l) return null;
            for (t = s = r = a = 0, i = l - 1; t < l; i = t++) e = u[t], n = u[i], o = e.y * n.x - n.y * e.x, r += (e.x + n.x) * o, a += (e.y + n.y) * o, s += 3 * o;
            return h = 0 === s ? u[0] : [r / s, a / s], this._map.layerPointToLatLng(h)
        },
        _convertLatLngs: function(t) {
            var i = Oe.prototype._convertLatLngs.call(this, t),
                e = i.length;
            return 2 <= e && i[0] instanceof D && i[0].equals(i[e - 1]) && i.pop(), i
        },
        _setLatLngs: function(t) {
            Oe.prototype._setLatLngs.call(this, t), pe(this._latlngs) && (this._latlngs = [this._latlngs])
        },
        _defaultShape: function() {
            return pe(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0]
        },
        _clipPoints: function() {
            var t = this._renderer._bounds,
                i = this.options.weight,
                e = new k(i, i),
                t = new I(t.min.subtract(e), t.max.add(e));
            if (this._parts = [], this._pxBounds && this._pxBounds.intersects(t))
                if (this.options.noClip) this._parts = this._rings;
                else
                    for (var n, o = 0, s = this._rings.length; o < s; o++)(n = ge(this._rings[o], t, !0)).length && this._parts.push(n)
        },
        _updatePath: function() {
            this._renderer._updatePoly(this, !0)
        },
        _containsPoint: function(t) {
            var i, e, n, o, s, r, a, h, u = !1;
            if (!this._pxBounds || !this._pxBounds.contains(t)) return !1;
            for (o = 0, a = this._parts.length; o < a; o++)
                for (s = 0, r = (h = (i = this._parts[o]).length) - 1; s < h; r = s++) e = i[s], n = i[r], e.y > t.y != n.y > t.y && t.x < (n.x - e.x) * (t.y - e.y) / (n.y - e.y) + e.x && (u = !u);
            return u || Oe.prototype._containsPoint.call(this, t, !0)
        }
    });
    var Ne = Ce.extend({
        initialize: function(t, i) {
            c(this, i), this._layers = {}, t && this.addData(t)
        },
        addData: function(t) {
            var i, e, n, o = g(t) ? t : t.features;
            if (o) {
                for (i = 0, e = o.length; i < e; i++)((n = o[i]).geometries || n.geometry || n.features || n.coordinates) && this.addData(n);
                return this
            }
            var s = this.options;
            if (s.filter && !s.filter(t)) return this;
            var r = De(t, s);
            return r ? (r.feature = qe(t), r.defaultOptions = r.options, this.resetStyle(r), s.onEachFeature && s.onEachFeature(t, r), this.addLayer(r)) : this
        },
        resetStyle: function(t) {
            return void 0 === t ? this.eachLayer(this.resetStyle, this) : (t.options = h({}, t.defaultOptions), this._setLayerStyle(t, this.options.style), this)
        },
        setStyle: function(i) {
            return this.eachLayer(function(t) {
                this._setLayerStyle(t, i)
            }, this)
        },
        _setLayerStyle: function(t, i) {
            t.setStyle && ("function" == typeof i && (i = i(t.feature)), t.setStyle(i))
        }
    });

    function De(t, i) {
        var e, n, o, s, r = "Feature" === t.type ? t.geometry : t,
            a = r ? r.coordinates : null,
            h = [],
            u = i && i.pointToLayer,
            l = i && i.coordsToLatLng || We;
        if (!a && !r) return null;
        switch (r.type) {
            case "Point":
                return je(u, t, e = l(a), i);
            case "MultiPoint":
                for (o = 0, s = a.length; o < s; o++) e = l(a[o]), h.push(je(u, t, e, i));
                return new Ce(h);
            case "LineString":
            case "MultiLineString":
                return n = He(a, "LineString" === r.type ? 0 : 1, l), new Oe(n, i);
            case "Polygon":
            case "MultiPolygon":
                return n = He(a, "Polygon" === r.type ? 1 : 2, l), new Re(n, i);
            case "GeometryCollection":
                for (o = 0, s = r.geometries.length; o < s; o++) {
                    var c = De({
                        geometry: r.geometries[o],
                        type: "Feature",
                        properties: t.properties
                    }, i);
                    c && h.push(c)
                }
                return new Ce(h);
            default:
                throw new Error("Invalid GeoJSON object.")
        }
    }

    function je(t, i, e, n) {
        return t ? t(i, e) : new ke(e, n && n.markersInheritOptions && n)
    }

    function We(t) {
        return new D(t[1], t[0], t[2])
    }

    function He(t, i, e) {
        for (var n, o = [], s = 0, r = t.length; s < r; s++) n = i ? He(t[s], i - 1, e) : (e || We)(t[s]), o.push(n);
        return o
    }

    function Fe(t, i) {
        return i = "number" == typeof i ? i : 6, void 0 !== t.alt ? [r(t.lng, i), r(t.lat, i), r(t.alt, i)] : [r(t.lng, i), r(t.lat, i)]
    }

    function Ue(t, i, e, n) {
        for (var o = [], s = 0, r = t.length; s < r; s++) o.push(i ? Ue(t[s], i - 1, e, n) : Fe(t[s], n));
        return !i && e && o.push(o[0]), o
    }

    function Ve(t, i) {
        return t.feature ? h({}, t.feature, {
            geometry: i
        }) : qe(i)
    }

    function qe(t) {
        return "Feature" === t.type || "FeatureCollection" === t.type ? t : {
            type: "Feature",
            properties: {},
            geometry: t
        }
    }
    var Ge = {
        toGeoJSON: function(t) {
            return Ve(this, {
                type: "Point",
                coordinates: Fe(this.getLatLng(), t)
            })
        }
    };

    function Ke(t, i) {
        return new Ne(t, i)
    }
    ke.include(Ge), Ie.include(Ge), Ae.include(Ge), Oe.include({
        toGeoJSON: function(t) {
            var i = !pe(this._latlngs);
            return Ve(this, {
                type: (i ? "Multi" : "") + "LineString",
                coordinates: Ue(this._latlngs, i ? 1 : 0, !1, t)
            })
        }
    }), Re.include({
        toGeoJSON: function(t) {
            var i = !pe(this._latlngs),
                e = i && !pe(this._latlngs[0]),
                n = Ue(this._latlngs, e ? 2 : i ? 1 : 0, !0, t);
            return i || (n = [n]), Ve(this, {
                type: (e ? "Multi" : "") + "Polygon",
                coordinates: n
            })
        }
    }), ze.include({
        toMultiPoint: function(i) {
            var e = [];
            return this.eachLayer(function(t) {
                e.push(t.toGeoJSON(i).geometry.coordinates)
            }), Ve(this, {
                type: "MultiPoint",
                coordinates: e
            })
        },
        toGeoJSON: function(n) {
            var t = this.feature && this.feature.geometry && this.feature.geometry.type;
            if ("MultiPoint" === t) return this.toMultiPoint(n);
            var o = "GeometryCollection" === t,
                s = [];
            return this.eachLayer(function(t) {
                var i, e;
                t.toGeoJSON && (i = t.toGeoJSON(n), o ? s.push(i.geometry) : "FeatureCollection" === (e = qe(i)).type ? s.push.apply(s, e.features) : s.push(e))
            }), o ? Ve(this, {
                geometries: s,
                type: "GeometryCollection"
            }) : {
                type: "FeatureCollection",
                features: s
            }
        }
    });
    var Ye = Ke,
        Xe = Me.extend({
            options: {
                opacity: 1,
                alt: "",
                interactive: !1,
                crossOrigin: !1,
                errorOverlayUrl: "",
                zIndex: 1,
                className: ""
            },
            initialize: function(t, i, e) {
                this._url = t, this._bounds = N(i), c(this, e)
            },
            onAdd: function() {
                this._image || (this._initImage(), this.options.opacity < 1 && this._updateOpacity()), this.options.interactive && (ci(this._image, "leaflet-interactive"), this.addInteractiveTarget(this._image)), this.getPane().appendChild(this._image), this._reset()
            },
            onRemove: function() {
                ri(this._image), this.options.interactive && this.removeInteractiveTarget(this._image)
            },
            setOpacity: function(t) {
                return this.options.opacity = t, this._image && this._updateOpacity(), this
            },
            setStyle: function(t) {
                return t.opacity && this.setOpacity(t.opacity), this
            },
            bringToFront: function() {
                return this._map && hi(this._image), this
            },
            bringToBack: function() {
                return this._map && ui(this._image), this
            },
            setUrl: function(t) {
                return this._url = t, this._image && (this._image.src = t), this
            },
            setBounds: function(t) {
                return this._bounds = N(t), this._map && this._reset(), this
            },
            getEvents: function() {
                var t = {
                    zoom: this._reset,
                    viewreset: this._reset
                };
                return this._zoomAnimated && (t.zoomanim = this._animateZoom), t
            },
            setZIndex: function(t) {
                return this.options.zIndex = t, this._updateZIndex(), this
            },
            getBounds: function() {
                return this._bounds
            },
            getElement: function() {
                return this._image
            },
            _initImage: function() {
                var t = "IMG" === this._url.tagName,
                    i = this._image = t ? this._url : si("img");
                ci(i, "leaflet-image-layer"), this._zoomAnimated && ci(i, "leaflet-zoom-animated"), this.options.className && ci(i, this.options.className), i.onselectstart = a, i.onmousemove = a, i.onload = p(this.fire, this, "load"), i.onerror = p(this._overlayOnError, this, "error"), !this.options.crossOrigin && "" !== this.options.crossOrigin || (i.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin), this.options.zIndex && this._updateZIndex(), t ? this._url = i.src : (i.src = this._url, i.alt = this.options.alt)
            },
            _animateZoom: function(t) {
                var i = this._map.getZoomScale(t.zoom),
                    e = this._map._latLngBoundsToNewLayerBounds(this._bounds, t.zoom, t.center).min;
                gi(this._image, e, i)
            },
            _reset: function() {
                var t = this._image,
                    i = new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()), this._map.latLngToLayerPoint(this._bounds.getSouthEast())),
                    e = i.getSize();
                vi(t, i.min), t.style.width = e.x + "px", t.style.height = e.y + "px"
            },
            _updateOpacity: function() {
                mi(this._image, this.options.opacity)
            },
            _updateZIndex: function() {
                this._image && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._image.style.zIndex = this.options.zIndex)
            },
            _overlayOnError: function() {
                this.fire("error");
                var t = this.options.errorOverlayUrl;
                t && this._url !== t && (this._url = t, this._image.src = t)
            }
        }),
        Je = Xe.extend({
            options: {
                autoplay: !0,
                loop: !0,
                keepAspectRatio: !0,
                muted: !1
            },
            _initImage: function() {
                var t = "VIDEO" === this._url.tagName,
                    i = this._image = t ? this._url : si("video");
                if (ci(i, "leaflet-image-layer"), this._zoomAnimated && ci(i, "leaflet-zoom-animated"), this.options.className && ci(i, this.options.className), i.onselectstart = a, i.onmousemove = a, i.onloadeddata = p(this.fire, this, "load"), t) {
                    for (var e = i.getElementsByTagName("source"), n = [], o = 0; o < e.length; o++) n.push(e[o].src);
                    this._url = 0 < e.length ? n : [i.src]
                } else {
                    g(this._url) || (this._url = [this._url]), !this.options.keepAspectRatio && Object.prototype.hasOwnProperty.call(i.style, "objectFit") && (i.style.objectFit = "fill"), i.autoplay = !!this.options.autoplay, i.loop = !!this.options.loop, i.muted = !!this.options.muted;
                    for (var s = 0; s < this._url.length; s++) {
                        var r = si("source");
                        r.src = this._url[s], i.appendChild(r)
                    }
                }
            }
        });
    var $e = Xe.extend({
        _initImage: function() {
            var t = this._image = this._url;
            ci(t, "leaflet-image-layer"), this._zoomAnimated && ci(t, "leaflet-zoom-animated"), this.options.className && ci(t, this.options.className), t.onselectstart = a, t.onmousemove = a
        }
    });
    var Qe = Me.extend({
            options: {
                offset: [0, 7],
                className: "",
                pane: "popupPane"
            },
            initialize: function(t, i) {
                c(this, t), this._source = i
            },
            onAdd: function(t) {
                this._zoomAnimated = t._zoomAnimated, this._container || this._initLayout(), t._fadeAnimated && mi(this._container, 0), clearTimeout(this._removeTimeout), this.getPane().appendChild(this._container), this.update(), t._fadeAnimated && mi(this._container, 1), this.bringToFront()
            },
            onRemove: function(t) {
                t._fadeAnimated ? (mi(this._container, 0), this._removeTimeout = setTimeout(p(ri, void 0, this._container), 200)) : ri(this._container)
            },
            getLatLng: function() {
                return this._latlng
            },
            setLatLng: function(t) {
                return this._latlng = j(t), this._map && (this._updatePosition(), this._adjustPan()), this
            },
            getContent: function() {
                return this._content
            },
            setContent: function(t) {
                return this._content = t, this.update(), this
            },
            getElement: function() {
                return this._container
            },
            update: function() {
                this._map && (this._container.style.visibility = "hidden", this._updateContent(), this._updateLayout(), this._updatePosition(), this._container.style.visibility = "", this._adjustPan())
            },
            getEvents: function() {
                var t = {
                    zoom: this._updatePosition,
                    viewreset: this._updatePosition
                };
                return this._zoomAnimated && (t.zoomanim = this._animateZoom), t
            },
            isOpen: function() {
                return !!this._map && this._map.hasLayer(this)
            },
            bringToFront: function() {
                return this._map && hi(this._container), this
            },
            bringToBack: function() {
                return this._map && ui(this._container), this
            },
            _prepareOpen: function(t, i, e) {
                if (i instanceof Me || (e = i, i = t), i instanceof Ce)
                    for (var n in t._layers) {
                        i = t._layers[n];
                        break
                    }
                if (!e)
                    if (i.getCenter) e = i.getCenter();
                    else {
                        if (!i.getLatLng) throw new Error("Unable to get source layer LatLng.");
                        e = i.getLatLng()
                    } return this._source = i, this.update(), e
            },
            _updateContent: function() {
                if (this._content) {
                    var t = this._contentNode,
                        i = "function" == typeof this._content ? this._content(this._source || this) : this._content;
                    if ("string" == typeof i) t.innerHTML = i;
                    else {
                        for (; t.hasChildNodes();) t.removeChild(t.firstChild);
                        t.appendChild(i)
                    }
                    this.fire("contentupdate")
                }
            },
            _updatePosition: function() {
                var t, i, e, n, o;
                this._map && (t = this._map.latLngToLayerPoint(this._latlng), i = A(this.options.offset), e = this._getAnchor(), this._zoomAnimated ? vi(this._container, t.add(e)) : i = i.add(t).add(e), n = this._containerBottom = -i.y, o = this._containerLeft = -Math.round(this._containerWidth / 2) + i.x, this._container.style.bottom = n + "px", this._container.style.left = o + "px")
            },
            _getAnchor: function() {
                return [0, 0]
            }
        }),
        tn = Qe.extend({
            options: {
                maxWidth: 300,
                minWidth: 50,
                maxHeight: null,
                autoPan: !0,
                autoPanPaddingTopLeft: null,
                autoPanPaddingBottomRight: null,
                autoPanPadding: [5, 5],
                keepInView: !1,
                closeButton: !0,
                autoClose: !0,
                closeOnEscapeKey: !0,
                className: ""
            },
            openOn: function(t) {
                return t.openPopup(this), this
            },
            onAdd: function(t) {
                Qe.prototype.onAdd.call(this, t), t.fire("popupopen", {
                    popup: this
                }), this._source && (this._source.fire("popupopen", {
                    popup: this
                }, !0), this._source instanceof Be || this._source.on("preclick", Ai))
            },
            onRemove: function(t) {
                Qe.prototype.onRemove.call(this, t), t.fire("popupclose", {
                    popup: this
                }), this._source && (this._source.fire("popupclose", {
                    popup: this
                }, !0), this._source instanceof Be || this._source.off("preclick", Ai))
            },
            getEvents: function() {
                var t = Qe.prototype.getEvents.call(this);
                return (void 0 !== this.options.closeOnClick ? this.options.closeOnClick : this._map.options.closePopupOnClick) && (t.preclick = this._close), this.options.keepInView && (t.moveend = this._adjustPan), t
            },
            _close: function() {
                this._map && this._map.closePopup(this)
            },
            _initLayout: function() {
                var t, i = "leaflet-popup",
                    e = this._container = si("div", i + " " + (this.options.className || "") + " leaflet-zoom-animated"),
                    n = this._wrapper = si("div", i + "-content-wrapper", e);
                this._contentNode = si("div", i + "-content", n), Oi(e), Ii(this._contentNode), zi(e, "contextmenu", Ai), this._tipContainer = si("div", i + "-tip-container", e), this._tip = si("div", i + "-tip", this._tipContainer), this.options.closeButton && ((t = this._closeButton = si("a", i + "-close-button", e)).href = "#close", t.innerHTML = "&#215;", zi(t, "click", this._onCloseButtonClick, this))
            },
            _updateLayout: function() {
                var t = this._contentNode,
                    i = t.style;
                i.width = "", i.whiteSpace = "nowrap";
                var e = t.offsetWidth,
                    e = Math.min(e, this.options.maxWidth);
                e = Math.max(e, this.options.minWidth), i.width = e + 1 + "px", i.whiteSpace = "", i.height = "";
                var n = t.offsetHeight,
                    o = this.options.maxHeight,
                    s = "leaflet-popup-scrolled";
                o && o < n ? (i.height = o + "px", ci(t, s)) : _i(t, s), this._containerWidth = this._container.offsetWidth
            },
            _animateZoom: function(t) {
                var i = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center),
                    e = this._getAnchor();
                vi(this._container, i.add(e))
            },
            _adjustPan: function() {
                var t, i, e, n, o, s, r, a, h, u, l, c;
                this.options.autoPan && (this._map._panAnim && this._map._panAnim.stop(), t = this._map, i = parseInt(oi(this._container, "marginBottom"), 10) || 0, e = this._container.offsetHeight + i, n = this._containerWidth, (o = new k(this._containerLeft, -e - this._containerBottom))._add(yi(this._container)), s = t.layerPointToContainerPoint(o), r = A(this.options.autoPanPadding), a = A(this.options.autoPanPaddingTopLeft || r), h = A(this.options.autoPanPaddingBottomRight || r), u = t.getSize(), c = l = 0, s.x + n + h.x > u.x && (l = s.x + n - u.x + h.x), s.x - l - a.x < 0 && (l = s.x - a.x), s.y + e + h.y > u.y && (c = s.y + e - u.y + h.y), s.y - c - a.y < 0 && (c = s.y - a.y), (l || c) && t.fire("autopanstart").panBy([l, c]))
            },
            _onCloseButtonClick: function(t) {
                this._close(), Ni(t)
            },
            _getAnchor: function() {
                return A(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0])
            }
        });
    Ki.mergeOptions({
        closePopupOnClick: !0
    }), Ki.include({
        openPopup: function(t, i, e) {
            return t instanceof tn || (t = new tn(e).setContent(t)), i && t.setLatLng(i), this.hasLayer(t) ? this : (this._popup && this._popup.options.autoClose && this.closePopup(), this._popup = t, this.addLayer(t))
        },
        closePopup: function(t) {
            return t && t !== this._popup || (t = this._popup, this._popup = null), t && this.removeLayer(t), this
        }
    }), Me.include({
        bindPopup: function(t, i) {
            return t instanceof tn ? (c(t, i), (this._popup = t)._source = this) : (this._popup && !i || (this._popup = new tn(i, this)), this._popup.setContent(t)), this._popupHandlersAdded || (this.on({
                click: this._openPopup,
                keypress: this._onKeyPress,
                remove: this.closePopup,
                move: this._movePopup
            }), this._popupHandlersAdded = !0), this
        },
        unbindPopup: function() {
            return this._popup && (this.off({
                click: this._openPopup,
                keypress: this._onKeyPress,
                remove: this.closePopup,
                move: this._movePopup
            }), this._popupHandlersAdded = !1, this._popup = null), this
        },
        openPopup: function(t, i) {
            return this._popup && this._map && (i = this._popup._prepareOpen(this, t, i), this._map.openPopup(this._popup, i)), this
        },
        closePopup: function() {
            return this._popup && this._popup._close(), this
        },
        togglePopup: function(t) {
            return this._popup && (this._popup._map ? this.closePopup() : this.openPopup(t)), this
        },
        isPopupOpen: function() {
            return !!this._popup && this._popup.isOpen()
        },
        setPopupContent: function(t) {
            return this._popup && this._popup.setContent(t), this
        },
        getPopup: function() {
            return this._popup
        },
        _openPopup: function(t) {
            var i = t.layer || t.target;
            this._popup && this._map && (Ni(t), i instanceof Be ? this.openPopup(t.layer || t.target, t.latlng) : this._map.hasLayer(this._popup) && this._popup._source === i ? this.closePopup() : this.openPopup(i, t.latlng))
        },
        _movePopup: function(t) {
            this._popup.setLatLng(t.latlng)
        },
        _onKeyPress: function(t) {
            13 === t.originalEvent.keyCode && this._openPopup(t)
        }
    });
    var en = Qe.extend({
        options: {
            pane: "tooltipPane",
            offset: [0, 0],
            direction: "auto",
            permanent: !1,
            sticky: !1,
            interactive: !1,
            opacity: .9
        },
        onAdd: function(t) {
            Qe.prototype.onAdd.call(this, t), this.setOpacity(this.options.opacity), t.fire("tooltipopen", {
                tooltip: this
            }), this._source && this._source.fire("tooltipopen", {
                tooltip: this
            }, !0)
        },
        onRemove: function(t) {
            Qe.prototype.onRemove.call(this, t), t.fire("tooltipclose", {
                tooltip: this
            }), this._source && this._source.fire("tooltipclose", {
                tooltip: this
            }, !0)
        },
        getEvents: function() {
            var t = Qe.prototype.getEvents.call(this);
            return bt && !this.options.permanent && (t.preclick = this._close), t
        },
        _close: function() {
            this._map && this._map.closeTooltip(this)
        },
        _initLayout: function() {
            var t = "leaflet-tooltip " + (this.options.className || "") + " leaflet-zoom-" + (this._zoomAnimated ? "animated" : "hide");
            this._contentNode = this._container = si("div", t)
        },
        _updateLayout: function() {},
        _adjustPan: function() {},
        _setPosition: function(t) {
            var i, e = this._map,
                n = this._container,
                o = e.latLngToContainerPoint(e.getCenter()),
                s = e.layerPointToContainerPoint(t),
                r = this.options.direction,
                a = n.offsetWidth,
                h = n.offsetHeight,
                u = A(this.options.offset),
                l = this._getAnchor(),
                c = "top" === r ? (i = a / 2, h) : "bottom" === r ? (i = a / 2, 0) : (i = "center" === r ? a / 2 : "right" === r ? 0 : "left" === r ? a : s.x < o.x ? (r = "right", 0) : (r = "left", a + 2 * (u.x + l.x)), h / 2);
            t = t.subtract(A(i, c, !0)).add(u).add(l), _i(n, "leaflet-tooltip-right"), _i(n, "leaflet-tooltip-left"), _i(n, "leaflet-tooltip-top"), _i(n, "leaflet-tooltip-bottom"), ci(n, "leaflet-tooltip-" + r), vi(n, t)
        },
        _updatePosition: function() {
            var t = this._map.latLngToLayerPoint(this._latlng);
            this._setPosition(t)
        },
        setOpacity: function(t) {
            this.options.opacity = t, this._container && mi(this._container, t)
        },
        _animateZoom: function(t) {
            var i = this._map._latLngToNewLayerPoint(this._latlng, t.zoom, t.center);
            this._setPosition(i)
        },
        _getAnchor: function() {
            return A(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0])
        }
    });
    Ki.include({
        openTooltip: function(t, i, e) {
            return t instanceof en || (t = new en(e).setContent(t)), i && t.setLatLng(i), this.hasLayer(t) ? this : this.addLayer(t)
        },
        closeTooltip: function(t) {
            return t && this.removeLayer(t), this
        }
    }), Me.include({
        bindTooltip: function(t, i) {
            return t instanceof en ? (c(t, i), (this._tooltip = t)._source = this) : (this._tooltip && !i || (this._tooltip = new en(i, this)), this._tooltip.setContent(t)), this._initTooltipInteractions(), this._tooltip.options.permanent && this._map && this._map.hasLayer(this) && this.openTooltip(), this
        },
        unbindTooltip: function() {
            return this._tooltip && (this._initTooltipInteractions(!0), this.closeTooltip(), this._tooltip = null), this
        },
        _initTooltipInteractions: function(t) {
            var i, e;
            !t && this._tooltipHandlersAdded || (i = t ? "off" : "on", e = {
                remove: this.closeTooltip,
                move: this._moveTooltip
            }, this._tooltip.options.permanent ? e.add = this._openTooltip : (e.mouseover = this._openTooltip, e.mouseout = this.closeTooltip, this._tooltip.options.sticky && (e.mousemove = this._moveTooltip), bt && (e.click = this._openTooltip)), this[i](e), this._tooltipHandlersAdded = !t)
        },
        openTooltip: function(t, i) {
            return this._tooltip && this._map && (i = this._tooltip._prepareOpen(this, t, i), this._map.openTooltip(this._tooltip, i), this._tooltip.options.interactive && this._tooltip._container && (ci(this._tooltip._container, "leaflet-clickable"), this.addInteractiveTarget(this._tooltip._container))), this
        },
        closeTooltip: function() {
            return this._tooltip && (this._tooltip._close(), this._tooltip.options.interactive && this._tooltip._container && (_i(this._tooltip._container, "leaflet-clickable"), this.removeInteractiveTarget(this._tooltip._container))), this
        },
        toggleTooltip: function(t) {
            return this._tooltip && (this._tooltip._map ? this.closeTooltip() : this.openTooltip(t)), this
        },
        isTooltipOpen: function() {
            return this._tooltip.isOpen()
        },
        setTooltipContent: function(t) {
            return this._tooltip && this._tooltip.setContent(t), this
        },
        getTooltip: function() {
            return this._tooltip
        },
        _openTooltip: function(t) {
            var i = t.layer || t.target;
            this._tooltip && this._map && this.openTooltip(i, this._tooltip.options.sticky ? t.latlng : void 0)
        },
        _moveTooltip: function(t) {
            var i, e, n = t.latlng;
            this._tooltip.options.sticky && t.originalEvent && (i = this._map.mouseEventToContainerPoint(t.originalEvent), e = this._map.containerPointToLayerPoint(i), n = this._map.layerPointToLatLng(e)), this._tooltip.setLatLng(n)
        }
    });
    var nn = Se.extend({
        options: {
            iconSize: [12, 12],
            html: !1,
            bgPos: null,
            className: "leaflet-div-icon"
        },
        createIcon: function(t) {
            var i, e = t && "DIV" === t.tagName ? t : document.createElement("div"),
                n = this.options;
            return n.html instanceof Element ? (ai(e), e.appendChild(n.html)) : e.innerHTML = !1 !== n.html ? n.html : "", n.bgPos && (i = A(n.bgPos), e.style.backgroundPosition = -i.x + "px " + -i.y + "px"), this._setIconStyles(e, "icon"), e
        },
        createShadow: function() {
            return null
        }
    });
    Se.Default = Ze;
    var on = Me.extend({
        options: {
            tileSize: 256,
            opacity: 1,
            updateWhenIdle: yt,
            updateWhenZooming: !0,
            updateInterval: 200,
            zIndex: 1,
            bounds: null,
            minZoom: 0,
            maxZoom: void 0,
            maxNativeZoom: void 0,
            minNativeZoom: void 0,
            noWrap: !1,
            pane: "tilePane",
            className: "",
            keepBuffer: 2
        },
        initialize: function(t) {
            c(this, t)
        },
        onAdd: function() {
            this._initContainer(), this._levels = {}, this._tiles = {}, this._resetView(), this._update()
        },
        beforeAdd: function(t) {
            t._addZoomLimit(this)
        },
        onRemove: function(t) {
            this._removeAllTiles(), ri(this._container), t._removeZoomLimit(this), this._container = null, this._tileZoom = void 0
        },
        bringToFront: function() {
            return this._map && (hi(this._container), this._setAutoZIndex(Math.max)), this
        },
        bringToBack: function() {
            return this._map && (ui(this._container), this._setAutoZIndex(Math.min)), this
        },
        getContainer: function() {
            return this._container
        },
        setOpacity: function(t) {
            return this.options.opacity = t, this._updateOpacity(), this
        },
        setZIndex: function(t) {
            return this.options.zIndex = t, this._updateZIndex(), this
        },
        isLoading: function() {
            return this._loading
        },
        redraw: function() {
            return this._map && (this._removeAllTiles(), this._update()), this
        },
        getEvents: function() {
            var t = {
                viewprereset: this._invalidateAll,
                viewreset: this._resetView,
                zoom: this._resetView,
                moveend: this._onMoveEnd
            };
            return this.options.updateWhenIdle || (this._onMove || (this._onMove = n(this._onMoveEnd, this.options.updateInterval, this)), t.move = this._onMove), this._zoomAnimated && (t.zoomanim = this._animateZoom), t
        },
        createTile: function() {
            return document.createElement("div")
        },
        getTileSize: function() {
            var t = this.options.tileSize;
            return t instanceof k ? t : new k(t, t)
        },
        _updateZIndex: function() {
            this._container && void 0 !== this.options.zIndex && null !== this.options.zIndex && (this._container.style.zIndex = this.options.zIndex)
        },
        _setAutoZIndex: function(t) {
            for (var i, e = this.getPane().children, n = -t(-1 / 0, 1 / 0), o = 0, s = e.length; o < s; o++) i = e[o].style.zIndex, e[o] !== this._container && i && (n = t(n, +i));
            isFinite(n) && (this.options.zIndex = n + t(-1, 1), this._updateZIndex())
        },
        _updateOpacity: function() {
            if (this._map && !it) {
                mi(this._container, this.options.opacity);
                var t = +new Date,
                    i = !1,
                    e = !1;
                for (var n in this._tiles) {
                    var o, s = this._tiles[n];
                    s.current && s.loaded && (o = Math.min(1, (t - s.loaded) / 200), mi(s.el, o), o < 1 ? i = !0 : (s.active ? e = !0 : this._onOpaqueTile(s), s.active = !0))
                }
                e && !this._noPrune && this._pruneTiles(), i && (z(this._fadeFrame), this._fadeFrame = M(this._updateOpacity, this))
            }
        },
        _onOpaqueTile: a,
        _initContainer: function() {
            this._container || (this._container = si("div", "leaflet-layer " + (this.options.className || "")), this._updateZIndex(), this.options.opacity < 1 && this._updateOpacity(), this.getPane().appendChild(this._container))
        },
        _updateLevels: function() {
            var t = this._tileZoom,
                i = this.options.maxZoom;
            if (void 0 !== t) {
                for (var e in this._levels) e = Number(e), this._levels[e].el.children.length || e === t ? (this._levels[e].el.style.zIndex = i - Math.abs(t - e), this._onUpdateLevel(e)) : (ri(this._levels[e].el), this._removeTilesAtZoom(e), this._onRemoveLevel(e), delete this._levels[e]);
                var n = this._levels[t],
                    o = this._map;
                return n || ((n = this._levels[t] = {}).el = si("div", "leaflet-tile-container leaflet-zoom-animated", this._container), n.el.style.zIndex = i, n.origin = o.project(o.unproject(o.getPixelOrigin()), t).round(), n.zoom = t, this._setZoomTransform(n, o.getCenter(), o.getZoom()), a(n.el.offsetWidth), this._onCreateLevel(n)), this._level = n
            }
        },
        _onUpdateLevel: a,
        _onRemoveLevel: a,
        _onCreateLevel: a,
        _pruneTiles: function() {
            if (this._map) {
                var t, i, e, n = this._map.getZoom();
                if (n > this.options.maxZoom || n < this.options.minZoom) this._removeAllTiles();
                else {
                    for (t in this._tiles)(e = this._tiles[t]).retain = e.current;
                    for (t in this._tiles) {
                        (e = this._tiles[t]).current && !e.active && (i = e.coords, this._retainParent(i.x, i.y, i.z, i.z - 5) || this._retainChildren(i.x, i.y, i.z, i.z + 2))
                    }
                    for (t in this._tiles) this._tiles[t].retain || this._removeTile(t)
                }
            }
        },
        _removeTilesAtZoom: function(t) {
            for (var i in this._tiles) this._tiles[i].coords.z === t && this._removeTile(i)
        },
        _removeAllTiles: function() {
            for (var t in this._tiles) this._removeTile(t)
        },
        _invalidateAll: function() {
            for (var t in this._levels) ri(this._levels[t].el), this._onRemoveLevel(Number(t)), delete this._levels[t];
            this._removeAllTiles(), this._tileZoom = void 0
        },
        _retainParent: function(t, i, e, n) {
            var o = Math.floor(t / 2),
                s = Math.floor(i / 2),
                r = e - 1,
                a = new k(+o, +s);
            a.z = +r;
            var h = this._tileCoordsToKey(a),
                u = this._tiles[h];
            return u && u.active ? u.retain = !0 : (u && u.loaded && (u.retain = !0), n < r && this._retainParent(o, s, r, n))
        },
        _retainChildren: function(t, i, e, n) {
            for (var o = 2 * t; o < 2 * t + 2; o++)
                for (var s = 2 * i; s < 2 * i + 2; s++) {
                    var r = new k(o, s);
                    r.z = e + 1;
                    var a = this._tileCoordsToKey(r),
                        h = this._tiles[a];
                    h && h.active ? h.retain = !0 : (h && h.loaded && (h.retain = !0), e + 1 < n && this._retainChildren(o, s, e + 1, n))
                }
        },
        _resetView: function(t) {
            var i = t && (t.pinch || t.flyTo);
            this._setView(this._map.getCenter(), this._map.getZoom(), i, i)
        },
        _animateZoom: function(t) {
            this._setView(t.center, t.zoom, !0, t.noUpdate)
        },
        _clampZoom: function(t) {
            var i = this.options;
            return void 0 !== i.minNativeZoom && t < i.minNativeZoom ? i.minNativeZoom : void 0 !== i.maxNativeZoom && i.maxNativeZoom < t ? i.maxNativeZoom : t
        },
        _setView: function(t, i, e, n) {
            var o = Math.round(i),
                o = void 0 !== this.options.maxZoom && o > this.options.maxZoom || void 0 !== this.options.minZoom && o < this.options.minZoom ? void 0 : this._clampZoom(o),
                s = this.options.updateWhenZooming && o !== this._tileZoom;
            n && !s || (this._tileZoom = o, this._abortLoading && this._abortLoading(), this._updateLevels(), this._resetGrid(), void 0 !== o && this._update(t), e || this._pruneTiles(), this._noPrune = !!e), this._setZoomTransforms(t, i)
        },
        _setZoomTransforms: function(t, i) {
            for (var e in this._levels) this._setZoomTransform(this._levels[e], t, i)
        },
        _setZoomTransform: function(t, i, e) {
            var n = this._map.getZoomScale(e, t.zoom),
                o = t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(i, e)).round();
            vt ? gi(t.el, o, n) : vi(t.el, o)
        },
        _resetGrid: function() {
            var t = this._map,
                i = t.options.crs,
                e = this._tileSize = this.getTileSize(),
                n = this._tileZoom,
                o = this._map.getPixelWorldBounds(this._tileZoom);
            o && (this._globalTileRange = this._pxBoundsToTileRange(o)), this._wrapX = i.wrapLng && !this.options.noWrap && [Math.floor(t.project([0, i.wrapLng[0]], n).x / e.x), Math.ceil(t.project([0, i.wrapLng[1]], n).x / e.y)], this._wrapY = i.wrapLat && !this.options.noWrap && [Math.floor(t.project([i.wrapLat[0], 0], n).y / e.x), Math.ceil(t.project([i.wrapLat[1], 0], n).y / e.y)]
        },
        _onMoveEnd: function() {
            this._map && !this._map._animatingZoom && this._update()
        },
        _getTiledPixelBounds: function(t) {
            var i = this._map,
                e = i._animatingZoom ? Math.max(i._animateToZoom, i.getZoom()) : i.getZoom(),
                n = i.getZoomScale(e, this._tileZoom),
                o = i.project(t, this._tileZoom).floor(),
                s = i.getSize().divideBy(2 * n);
            return new I(o.subtract(s), o.add(s))
        },
        _update: function(t) {
            var i = this._map;
            if (i) {
                var e = this._clampZoom(i.getZoom());
                if (void 0 === t && (t = i.getCenter()), void 0 !== this._tileZoom) {
                    var n = this._getTiledPixelBounds(t),
                        o = this._pxBoundsToTileRange(n),
                        s = o.getCenter(),
                        r = [],
                        a = this.options.keepBuffer,
                        h = new I(o.getBottomLeft().subtract([a, -a]), o.getTopRight().add([a, -a]));
                    if (!(isFinite(o.min.x) && isFinite(o.min.y) && isFinite(o.max.x) && isFinite(o.max.y))) throw new Error("Attempted to load an infinite number of tiles");
                    for (var u in this._tiles) {
                        var l = this._tiles[u].coords;
                        l.z === this._tileZoom && h.contains(new k(l.x, l.y)) || (this._tiles[u].current = !1)
                    }
                    if (1 < Math.abs(e - this._tileZoom)) this._setView(t, e);
                    else {
                        for (var c = o.min.y; c <= o.max.y; c++)
                            for (var _ = o.min.x; _ <= o.max.x; _++) {
                                var d, p = new k(_, c);
                                p.z = this._tileZoom, this._isValidTile(p) && ((d = this._tiles[this._tileCoordsToKey(p)]) ? d.current = !0 : r.push(p))
                            }
                        if (r.sort(function(t, i) {
                                return t.distanceTo(s) - i.distanceTo(s)
                            }), 0 !== r.length) {
                            this._loading || (this._loading = !0, this.fire("loading"));
                            for (var m = document.createDocumentFragment(), _ = 0; _ < r.length; _++) this._addTile(r[_], m);
                            this._level.el.appendChild(m)
                        }
                    }
                }
            }
        },
        _isValidTile: function(t) {
            var i = this._map.options.crs;
            if (!i.infinite) {
                var e = this._globalTileRange;
                if (!i.wrapLng && (t.x < e.min.x || t.x > e.max.x) || !i.wrapLat && (t.y < e.min.y || t.y > e.max.y)) return !1
            }
            if (!this.options.bounds) return !0;
            var n = this._tileCoordsToBounds(t);
            return N(this.options.bounds).overlaps(n)
        },
        _keyToBounds: function(t) {
            return this._tileCoordsToBounds(this._keyToTileCoords(t))
        },
        _tileCoordsToNwSe: function(t) {
            var i = this._map,
                e = this.getTileSize(),
                n = t.scaleBy(e),
                o = n.add(e);
            return [i.unproject(n, t.z), i.unproject(o, t.z)]
        },
        _tileCoordsToBounds: function(t) {
            var i = this._tileCoordsToNwSe(t),
                e = new R(i[0], i[1]);
            return this.options.noWrap || (e = this._map.wrapLatLngBounds(e)), e
        },
        _tileCoordsToKey: function(t) {
            return t.x + ":" + t.y + ":" + t.z
        },
        _keyToTileCoords: function(t) {
            var i = t.split(":"),
                e = new k(+i[0], +i[1]);
            return e.z = +i[2], e
        },
        _removeTile: function(t) {
            var i = this._tiles[t];
            i && (ri(i.el), delete this._tiles[t], this.fire("tileunload", {
                tile: i.el,
                coords: this._keyToTileCoords(t)
            }))
        },
        _initTile: function(t) {
            ci(t, "leaflet-tile");
            var i = this.getTileSize();
            t.style.width = i.x + "px", t.style.height = i.y + "px", t.onselectstart = a, t.onmousemove = a, it && this.options.opacity < 1 && mi(t, this.options.opacity), ot && !st && (t.style.WebkitBackfaceVisibility = "hidden")
        },
        _addTile: function(t, i) {
            var e = this._getTilePos(t),
                n = this._tileCoordsToKey(t),
                o = this.createTile(this._wrapCoords(t), p(this._tileReady, this, t));
            this._initTile(o), this.createTile.length < 2 && M(p(this._tileReady, this, t, null, o)), vi(o, e), this._tiles[n] = {
                el: o,
                coords: t,
                current: !0
            }, i.appendChild(o), this.fire("tileloadstart", {
                tile: o,
                coords: t
            })
        },
        _tileReady: function(t, i, e) {
            i && this.fire("tileerror", {
                error: i,
                tile: e,
                coords: t
            });
            var n = this._tileCoordsToKey(t);
            (e = this._tiles[n]) && (e.loaded = +new Date, this._map._fadeAnimated ? (mi(e.el, 0), z(this._fadeFrame), this._fadeFrame = M(this._updateOpacity, this)) : (e.active = !0, this._pruneTiles()), i || (ci(e.el, "leaflet-tile-loaded"), this.fire("tileload", {
                tile: e.el,
                coords: t
            })), this._noTilesToLoad() && (this._loading = !1, this.fire("load"), it || !this._map._fadeAnimated ? M(this._pruneTiles, this) : setTimeout(p(this._pruneTiles, this), 250)))
        },
        _getTilePos: function(t) {
            return t.scaleBy(this.getTileSize()).subtract(this._level.origin)
        },
        _wrapCoords: function(t) {
            var i = new k(this._wrapX ? o(t.x, this._wrapX) : t.x, this._wrapY ? o(t.y, this._wrapY) : t.y);
            return i.z = t.z, i
        },
        _pxBoundsToTileRange: function(t) {
            var i = this.getTileSize();
            return new I(t.min.unscaleBy(i).floor(), t.max.unscaleBy(i).ceil().subtract([1, 1]))
        },
        _noTilesToLoad: function() {
            for (var t in this._tiles)
                if (!this._tiles[t].loaded) return !1;
            return !0
        }
    });
    var sn = on.extend({
        options: {
            minZoom: 0,
            maxZoom: 18,
            subdomains: "abc",
            errorTileUrl: "",
            zoomOffset: 0,
            tms: !1,
            zoomReverse: !1,
            detectRetina: !1,
            crossOrigin: !1
        },
        initialize: function(t, i) {
            this._url = t, (i = c(this, i)).detectRetina && zt && 0 < i.maxZoom && (i.tileSize = Math.floor(i.tileSize / 2), i.zoomReverse ? (i.zoomOffset--, i.minZoom++) : (i.zoomOffset++, i.maxZoom--), i.minZoom = Math.max(0, i.minZoom)), "string" == typeof i.subdomains && (i.subdomains = i.subdomains.split("")), ot || this.on("tileunload", this._onTileRemove)
        },
        setUrl: function(t, i) {
            return this._url === t && void 0 === i && (i = !0), this._url = t, i || this.redraw(), this
        },
        createTile: function(t, i) {
            var e = document.createElement("img");
            return zi(e, "load", p(this._tileOnLoad, this, i, e)), zi(e, "error", p(this._tileOnError, this, i, e)), !this.options.crossOrigin && "" !== this.options.crossOrigin || (e.crossOrigin = !0 === this.options.crossOrigin ? "" : this.options.crossOrigin), e.alt = "", e.setAttribute("role", "presentation"), e.src = this.getTileUrl(t), e
        },
        getTileUrl: function(t) {
            var i, e = {
                r: zt ? "@2x" : "",
                s: this._getSubdomain(t),
                x: t.x,
                y: t.y,
                z: this._getZoomForUrl()
            };
            return this._map && !this._map.options.crs.infinite && (i = this._globalTileRange.max.y - t.y, this.options.tms && (e.y = i), e["-y"] = i), f(this._url, h(e, this.options))
        },
        _tileOnLoad: function(t, i) {
            it ? setTimeout(p(t, this, null, i), 0) : t(null, i)
        },
        _tileOnError: function(t, i, e) {
            var n = this.options.errorTileUrl;
            n && i.getAttribute("src") !== n && (i.src = n), t(e, i)
        },
        _onTileRemove: function(t) {
            t.tile.onload = null
        },
        _getZoomForUrl: function() {
            var t = this._tileZoom,
                i = this.options.maxZoom;
            return this.options.zoomReverse && (t = i - t), t + this.options.zoomOffset
        },
        _getSubdomain: function(t) {
            var i = Math.abs(t.x + t.y) % this.options.subdomains.length;
            return this.options.subdomains[i]
        },
        _abortLoading: function() {
            var t, i;
            for (t in this._tiles) this._tiles[t].coords.z !== this._tileZoom && ((i = this._tiles[t].el).onload = a, i.onerror = a, i.complete || (i.src = y, ri(i), delete this._tiles[t]))
        },
        _removeTile: function(t) {
            var i = this._tiles[t];
            if (i) return at || i.el.setAttribute("src", y), on.prototype._removeTile.call(this, t)
        },
        _tileReady: function(t, i, e) {
            if (this._map && (!e || e.getAttribute("src") !== y)) return on.prototype._tileReady.call(this, t, i, e)
        }
    });

    function rn(t, i) {
        return new sn(t, i)
    }
    var an = sn.extend({
        defaultWmsParams: {
            service: "WMS",
            request: "GetMap",
            layers: "",
            styles: "",
            format: "image/jpeg",
            transparent: !1,
            version: "1.1.1"
        },
        options: {
            crs: null,
            uppercase: !1
        },
        initialize: function(t, i) {
            this._url = t;
            var e = h({}, this.defaultWmsParams);
            for (var n in i) n in this.options || (e[n] = i[n]);
            var o = (i = c(this, i)).detectRetina && zt ? 2 : 1,
                s = this.getTileSize();
            e.width = s.x * o, e.height = s.y * o, this.wmsParams = e
        },
        onAdd: function(t) {
            this._crs = this.options.crs || t.options.crs, this._wmsVersion = parseFloat(this.wmsParams.version);
            var i = 1.3 <= this._wmsVersion ? "crs" : "srs";
            this.wmsParams[i] = this._crs.code, sn.prototype.onAdd.call(this, t)
        },
        getTileUrl: function(t) {
            var i = this._tileCoordsToNwSe(t),
                e = this._crs,
                n = O(e.project(i[0]), e.project(i[1])),
                o = n.min,
                s = n.max,
                r = (1.3 <= this._wmsVersion && this._crs === be ? [o.y, o.x, s.y, s.x] : [o.x, o.y, s.x, s.y]).join(","),
                a = sn.prototype.getTileUrl.call(this, t);
            return a + _(this.wmsParams, a, this.options.uppercase) + (this.options.uppercase ? "&BBOX=" : "&bbox=") + r
        },
        setParams: function(t, i) {
            return h(this.wmsParams, t), i || this.redraw(), this
        }
    });
    sn.WMS = an, rn.wms = function(t, i) {
        return new an(t, i)
    };
    var hn = Me.extend({
            options: {
                padding: .1,
                tolerance: 0
            },
            initialize: function(t) {
                c(this, t), m(this), this._layers = this._layers || {}
            },
            onAdd: function() {
                this._container || (this._initContainer(), this._zoomAnimated && ci(this._container, "leaflet-zoom-animated")), this.getPane().appendChild(this._container), this._update(), this.on("update", this._updatePaths, this)
            },
            onRemove: function() {
                this.off("update", this._updatePaths, this), this._destroyContainer()
            },
            getEvents: function() {
                var t = {
                    viewreset: this._reset,
                    zoom: this._onZoom,
                    moveend: this._update,
                    zoomend: this._onZoomEnd
                };
                return this._zoomAnimated && (t.zoomanim = this._onAnimZoom), t
            },
            _onAnimZoom: function(t) {
                this._updateTransform(t.center, t.zoom)
            },
            _onZoom: function() {
                this._updateTransform(this._map.getCenter(), this._map.getZoom())
            },
            _updateTransform: function(t, i) {
                var e = this._map.getZoomScale(i, this._zoom),
                    n = yi(this._container),
                    o = this._map.getSize().multiplyBy(.5 + this.options.padding),
                    s = this._map.project(this._center, i),
                    r = this._map.project(t, i).subtract(s),
                    a = o.multiplyBy(-e).add(n).add(o).subtract(r);
                vt ? gi(this._container, a, e) : vi(this._container, a)
            },
            _reset: function() {
                for (var t in this._update(), this._updateTransform(this._center, this._zoom), this._layers) this._layers[t]._reset()
            },
            _onZoomEnd: function() {
                for (var t in this._layers) this._layers[t]._project()
            },
            _updatePaths: function() {
                for (var t in this._layers) this._layers[t]._update()
            },
            _update: function() {
                var t = this.options.padding,
                    i = this._map.getSize(),
                    e = this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();
                this._bounds = new I(e, e.add(i.multiplyBy(1 + 2 * t)).round()), this._center = this._map.getCenter(), this._zoom = this._map.getZoom()
            }
        }),
        un = hn.extend({
            getEvents: function() {
                var t = hn.prototype.getEvents.call(this);
                return t.viewprereset = this._onViewPreReset, t
            },
            _onViewPreReset: function() {
                this._postponeUpdatePaths = !0
            },
            onAdd: function() {
                hn.prototype.onAdd.call(this), this._draw()
            },
            _initContainer: function() {
                var t = this._container = document.createElement("canvas");
                zi(t, "mousemove", this._onMouseMove, this), zi(t, "click dblclick mousedown mouseup contextmenu", this._onClick, this), zi(t, "mouseout", this._handleMouseOut, this), this._ctx = t.getContext("2d")
            },
            _destroyContainer: function() {
                z(this._redrawRequest), delete this._ctx, ri(this._container), Si(this._container), delete this._container
            },
            _updatePaths: function() {
                if (!this._postponeUpdatePaths) {
                    for (var t in this._redrawBounds = null, this._layers) this._layers[t]._update();
                    this._redraw()
                }
            },
            _update: function() {
                var t, i, e, n;
                this._map._animatingZoom && this._bounds || (hn.prototype._update.call(this), t = this._bounds, i = this._container, e = t.getSize(), n = zt ? 2 : 1, vi(i, t.min), i.width = n * e.x, i.height = n * e.y, i.style.width = e.x + "px", i.style.height = e.y + "px", zt && this._ctx.scale(2, 2), this._ctx.translate(-t.min.x, -t.min.y), this.fire("update"))
            },
            _reset: function() {
                hn.prototype._reset.call(this), this._postponeUpdatePaths && (this._postponeUpdatePaths = !1, this._updatePaths())
            },
            _initPath: function(t) {
                this._updateDashArray(t);
                var i = (this._layers[m(t)] = t)._order = {
                    layer: t,
                    prev: this._drawLast,
                    next: null
                };
                this._drawLast && (this._drawLast.next = i), this._drawLast = i, this._drawFirst = this._drawFirst || this._drawLast
            },
            _addPath: function(t) {
                this._requestRedraw(t)
            },
            _removePath: function(t) {
                var i = t._order,
                    e = i.next,
                    n = i.prev;
                e ? e.prev = n : this._drawLast = n, n ? n.next = e : this._drawFirst = e, delete t._order, delete this._layers[m(t)], this._requestRedraw(t)
            },
            _updatePath: function(t) {
                this._extendRedrawBounds(t), t._project(), t._update(), this._requestRedraw(t)
            },
            _updateStyle: function(t) {
                this._updateDashArray(t), this._requestRedraw(t)
            },
            _updateDashArray: function(t) {
                if ("string" == typeof t.options.dashArray) {
                    for (var i, e = t.options.dashArray.split(/[, ]+/), n = [], o = 0; o < e.length; o++) {
                        if (i = Number(e[o]), isNaN(i)) return;
                        n.push(i)
                    }
                    t.options._dashArray = n
                } else t.options._dashArray = t.options.dashArray
            },
            _requestRedraw: function(t) {
                this._map && (this._extendRedrawBounds(t), this._redrawRequest = this._redrawRequest || M(this._redraw, this))
            },
            _extendRedrawBounds: function(t) {
                var i;
                t._pxBounds && (i = (t.options.weight || 0) + 1, this._redrawBounds = this._redrawBounds || new I, this._redrawBounds.extend(t._pxBounds.min.subtract([i, i])), this._redrawBounds.extend(t._pxBounds.max.add([i, i])))
            },
            _redraw: function() {
                this._redrawRequest = null, this._redrawBounds && (this._redrawBounds.min._floor(), this._redrawBounds.max._ceil()), this._clear(), this._draw(), this._redrawBounds = null
            },
            _clear: function() {
                var t, i = this._redrawBounds;
                i ? (t = i.getSize(), this._ctx.clearRect(i.min.x, i.min.y, t.x, t.y)) : (this._ctx.save(), this._ctx.setTransform(1, 0, 0, 1, 0, 0), this._ctx.clearRect(0, 0, this._container.width, this._container.height), this._ctx.restore())
            },
            _draw: function() {
                var t, i, e = this._redrawBounds;
                this._ctx.save(), e && (i = e.getSize(), this._ctx.beginPath(), this._ctx.rect(e.min.x, e.min.y, i.x, i.y), this._ctx.clip()), this._drawing = !0;
                for (var n = this._drawFirst; n; n = n.next) t = n.layer, (!e || t._pxBounds && t._pxBounds.intersects(e)) && t._updatePath();
                this._drawing = !1, this._ctx.restore()
            },
            _updatePoly: function(t, i) {
                if (this._drawing) {
                    var e, n, o, s, r = t._parts,
                        a = r.length,
                        h = this._ctx;
                    if (a) {
                        for (h.beginPath(), e = 0; e < a; e++) {
                            for (n = 0, o = r[e].length; n < o; n++) s = r[e][n], h[n ? "lineTo" : "moveTo"](s.x, s.y);
                            i && h.closePath()
                        }
                        this._fillStroke(h, t)
                    }
                }
            },
            _updateCircle: function(t) {
                var i, e, n, o;
                this._drawing && !t._empty() && (i = t._point, e = this._ctx, n = Math.max(Math.round(t._radius), 1), 1 != (o = (Math.max(Math.round(t._radiusY), 1) || n) / n) && (e.save(), e.scale(1, o)), e.beginPath(), e.arc(i.x, i.y / o, n, 0, 2 * Math.PI, !1), 1 != o && e.restore(), this._fillStroke(e, t))
            },
            _fillStroke: function(t, i) {
                var e = i.options;
                e.fill && (t.globalAlpha = e.fillOpacity, t.fillStyle = e.fillColor || e.color, t.fill(e.fillRule || "evenodd")), e.stroke && 0 !== e.weight && (t.setLineDash && t.setLineDash(i.options && i.options._dashArray || []), t.globalAlpha = e.opacity, t.lineWidth = e.weight, t.strokeStyle = e.color, t.lineCap = e.lineCap, t.lineJoin = e.lineJoin, t.stroke())
            },
            _onClick: function(t) {
                for (var i, e, n = this._map.mouseEventToLayerPoint(t), o = this._drawFirst; o; o = o.next)(i = o.layer).options.interactive && i._containsPoint(n) && (("click" === t.type || "preclick" !== t.type) && this._map._draggableMoved(i) || (e = i));
                e && (Fi(t), this._fireEvent([e], t))
            },
            _onMouseMove: function(t) {
                var i;
                !this._map || this._map.dragging.moving() || this._map._animatingZoom || (i = this._map.mouseEventToLayerPoint(t), this._handleMouseHover(t, i))
            },
            _handleMouseOut: function(t) {
                var i = this._hoveredLayer;
                i && (_i(this._container, "leaflet-interactive"), this._fireEvent([i], t, "mouseout"), this._hoveredLayer = null, this._mouseHoverThrottled = !1)
            },
            _handleMouseHover: function(t, i) {
                if (!this._mouseHoverThrottled) {
                    for (var e, n, o = this._drawFirst; o; o = o.next)(e = o.layer).options.interactive && e._containsPoint(i) && (n = e);
                    n !== this._hoveredLayer && (this._handleMouseOut(t), n && (ci(this._container, "leaflet-interactive"), this._fireEvent([n], t, "mouseover"), this._hoveredLayer = n)), this._hoveredLayer && this._fireEvent([this._hoveredLayer], t), this._mouseHoverThrottled = !0, setTimeout(p(function() {
                        this._mouseHoverThrottled = !1
                    }, this), 32)
                }
            },
            _fireEvent: function(t, i, e) {
                this._map._fireDOMEvent(i, e || i.type, t)
            },
            _bringToFront: function(t) {
                var i, e, n = t._order;
                n && (i = n.next, e = n.prev, i && ((i.prev = e) ? e.next = i : i && (this._drawFirst = i), n.prev = this._drawLast, (this._drawLast.next = n).next = null, this._drawLast = n, this._requestRedraw(t)))
            },
            _bringToBack: function(t) {
                var i, e, n = t._order;
                n && (i = n.next, (e = n.prev) && ((e.next = i) ? i.prev = e : e && (this._drawLast = e), n.prev = null, n.next = this._drawFirst, this._drawFirst.prev = n, this._drawFirst = n, this._requestRedraw(t)))
            }
        });

    function ln(t) {
        return St ? new un(t) : null
    }
    var cn = function() {
            try {
                return document.namespaces.add("lvml", "urn:schemas-microsoft-com:vml"),
                    function(t) {
                        return document.createElement("<lvml:" + t + ' class="lvml">')
                    }
            } catch (t) {
                return function(t) {
                    return document.createElement("<" + t + ' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')
                }
            }
        }(),
        _n = {
            _initContainer: function() {
                this._container = si("div", "leaflet-vml-container")
            },
            _update: function() {
                this._map._animatingZoom || (hn.prototype._update.call(this), this.fire("update"))
            },
            _initPath: function(t) {
                var i = t._container = cn("shape");
                ci(i, "leaflet-vml-shape " + (this.options.className || "")), i.coordsize = "1 1", t._path = cn("path"), i.appendChild(t._path), this._updateStyle(t), this._layers[m(t)] = t
            },
            _addPath: function(t) {
                var i = t._container;
                this._container.appendChild(i), t.options.interactive && t.addInteractiveTarget(i)
            },
            _removePath: function(t) {
                var i = t._container;
                ri(i), t.removeInteractiveTarget(i), delete this._layers[m(t)]
            },
            _updateStyle: function(t) {
                var i = t._stroke,
                    e = t._fill,
                    n = t.options,
                    o = t._container;
                o.stroked = !!n.stroke, o.filled = !!n.fill, n.stroke ? (i = i || (t._stroke = cn("stroke")), o.appendChild(i), i.weight = n.weight + "px", i.color = n.color, i.opacity = n.opacity, n.dashArray ? i.dashStyle = g(n.dashArray) ? n.dashArray.join(" ") : n.dashArray.replace(/( *, *)/g, " ") : i.dashStyle = "", i.endcap = n.lineCap.replace("butt", "flat"), i.joinstyle = n.lineJoin) : i && (o.removeChild(i), t._stroke = null), n.fill ? (e = e || (t._fill = cn("fill")), o.appendChild(e), e.color = n.fillColor || n.color, e.opacity = n.fillOpacity) : e && (o.removeChild(e), t._fill = null)
            },
            _updateCircle: function(t) {
                var i = t._point.round(),
                    e = Math.round(t._radius),
                    n = Math.round(t._radiusY || e);
                this._setPath(t, t._empty() ? "M0 0" : "AL " + i.x + "," + i.y + " " + e + "," + n + " 0,23592600")
            },
            _setPath: function(t, i) {
                t._path.v = i
            },
            _bringToFront: function(t) {
                hi(t._container)
            },
            _bringToBack: function(t) {
                ui(t._container)
            }
        },
        dn = Et ? cn : J,
        pn = hn.extend({
            getEvents: function() {
                var t = hn.prototype.getEvents.call(this);
                return t.zoomstart = this._onZoomStart, t
            },
            _initContainer: function() {
                this._container = dn("svg"), this._container.setAttribute("pointer-events", "none"), this._rootGroup = dn("g"), this._container.appendChild(this._rootGroup)
            },
            _destroyContainer: function() {
                ri(this._container), Si(this._container), delete this._container, delete this._rootGroup, delete this._svgSize
            },
            _onZoomStart: function() {
                this._update()
            },
            _update: function() {
                var t, i, e;
                this._map._animatingZoom && this._bounds || (hn.prototype._update.call(this), i = (t = this._bounds).getSize(), e = this._container, this._svgSize && this._svgSize.equals(i) || (this._svgSize = i, e.setAttribute("width", i.x), e.setAttribute("height", i.y)), vi(e, t.min), e.setAttribute("viewBox", [t.min.x, t.min.y, i.x, i.y].join(" ")), this.fire("update"))
            },
            _initPath: function(t) {
                var i = t._path = dn("path");
                t.options.className && ci(i, t.options.className), t.options.interactive && ci(i, "leaflet-interactive"), this._updateStyle(t), this._layers[m(t)] = t
            },
            _addPath: function(t) {
                this._rootGroup || this._initContainer(), this._rootGroup.appendChild(t._path), t.addInteractiveTarget(t._path)
            },
            _removePath: function(t) {
                ri(t._path), t.removeInteractiveTarget(t._path), delete this._layers[m(t)]
            },
            _updatePath: function(t) {
                t._project(), t._update()
            },
            _updateStyle: function(t) {
                var i = t._path,
                    e = t.options;
                i && (e.stroke ? (i.setAttribute("stroke", e.color), i.setAttribute("stroke-opacity", e.opacity), i.setAttribute("stroke-width", e.weight), i.setAttribute("stroke-linecap", e.lineCap), i.setAttribute("stroke-linejoin", e.lineJoin), e.dashArray ? i.setAttribute("stroke-dasharray", e.dashArray) : i.removeAttribute("stroke-dasharray"), e.dashOffset ? i.setAttribute("stroke-dashoffset", e.dashOffset) : i.removeAttribute("stroke-dashoffset")) : i.setAttribute("stroke", "none"), e.fill ? (i.setAttribute("fill", e.fillColor || e.color), i.setAttribute("fill-opacity", e.fillOpacity), i.setAttribute("fill-rule", e.fillRule || "evenodd")) : i.setAttribute("fill", "none"))
            },
            _updatePoly: function(t, i) {
                this._setPath(t, $(t._parts, i))
            },
            _updateCircle: function(t) {
                var i = t._point,
                    e = Math.max(Math.round(t._radius), 1),
                    n = "a" + e + "," + (Math.max(Math.round(t._radiusY), 1) || e) + " 0 1,0 ",
                    o = t._empty() ? "M0 0" : "M" + (i.x - e) + "," + i.y + n + 2 * e + ",0 " + n + 2 * -e + ",0 ";
                this._setPath(t, o)
            },
            _setPath: function(t, i) {
                t._path.setAttribute("d", i)
            },
            _bringToFront: function(t) {
                hi(t._path)
            },
            _bringToBack: function(t) {
                ui(t._path)
            }
        });

    function mn(t) {
        return Zt || Et ? new pn(t) : null
    }
    Et && pn.include(_n), Ki.include({
        getRenderer: function(t) {
            var i = (i = t.options.renderer || this._getPaneRenderer(t.options.pane) || this.options.renderer || this._renderer) || (this._renderer = this._createRenderer());
            return this.hasLayer(i) || this.addLayer(i), i
        },
        _getPaneRenderer: function(t) {
            if ("overlayPane" === t || void 0 === t) return !1;
            var i = this._paneRenderers[t];
            return void 0 === i && (i = this._createRenderer({
                pane: t
            }), this._paneRenderers[t] = i), i
        },
        _createRenderer: function(t) {
            return this.options.preferCanvas && ln(t) || mn(t)
        }
    });
    var fn = Re.extend({
        initialize: function(t, i) {
            Re.prototype.initialize.call(this, this._boundsToLatLngs(t), i)
        },
        setBounds: function(t) {
            return this.setLatLngs(this._boundsToLatLngs(t))
        },
        _boundsToLatLngs: function(t) {
            return [(t = N(t)).getSouthWest(), t.getNorthWest(), t.getNorthEast(), t.getSouthEast()]
        }
    });
    pn.create = dn, pn.pointsToPath = $, Ne.geometryToLayer = De, Ne.coordsToLatLng = We, Ne.coordsToLatLngs = He, Ne.latLngToCoords = Fe, Ne.latLngsToCoords = Ue, Ne.getFeature = Ve, Ne.asFeature = qe, Ki.mergeOptions({
        boxZoom: !0
    });
    var gn = ie.extend({
        initialize: function(t) {
            this._map = t, this._container = t._container, this._pane = t._panes.overlayPane, this._resetStateTimeout = 0, t.on("unload", this._destroy, this)
        },
        addHooks: function() {
            zi(this._container, "mousedown", this._onMouseDown, this)
        },
        removeHooks: function() {
            Si(this._container, "mousedown", this._onMouseDown, this)
        },
        moved: function() {
            return this._moved
        },
        _destroy: function() {
            ri(this._pane), delete this._pane
        },
        _resetState: function() {
            this._resetStateTimeout = 0, this._moved = !1
        },
        _clearDeferredResetState: function() {
            0 !== this._resetStateTimeout && (clearTimeout(this._resetStateTimeout), this._resetStateTimeout = 0)
        },
        _onMouseDown: function(t) {
            if (!t.shiftKey || 1 !== t.which && 1 !== t.button) return !1;
            this._clearDeferredResetState(), this._resetState(), Xt(), xi(), this._startPoint = this._map.mouseEventToContainerPoint(t), zi(document, {
                contextmenu: Ni,
                mousemove: this._onMouseMove,
                mouseup: this._onMouseUp,
                keydown: this._onKeyDown
            }, this)
        },
        _onMouseMove: function(t) {
            this._moved || (this._moved = !0, this._box = si("div", "leaflet-zoom-box", this._container), ci(this._container, "leaflet-crosshair"), this._map.fire("boxzoomstart")), this._point = this._map.mouseEventToContainerPoint(t);
            var i = new I(this._point, this._startPoint),
                e = i.getSize();
            vi(this._box, i.min), this._box.style.width = e.x + "px", this._box.style.height = e.y + "px"
        },
        _finish: function() {
            this._moved && (ri(this._box), _i(this._container, "leaflet-crosshair")), Jt(), wi(), Si(document, {
                contextmenu: Ni,
                mousemove: this._onMouseMove,
                mouseup: this._onMouseUp,
                keydown: this._onKeyDown
            }, this)
        },
        _onMouseUp: function(t) {
            var i;
            1 !== t.which && 1 !== t.button || (this._finish(), this._moved && (this._clearDeferredResetState(), this._resetStateTimeout = setTimeout(p(this._resetState, this), 0), i = new R(this._map.containerPointToLatLng(this._startPoint), this._map.containerPointToLatLng(this._point)), this._map.fitBounds(i).fire("boxzoomend", {
                boxZoomBounds: i
            })))
        },
        _onKeyDown: function(t) {
            27 === t.keyCode && this._finish()
        }
    });
    Ki.addInitHook("addHandler", "boxZoom", gn), Ki.mergeOptions({
        doubleClickZoom: !0
    });
    var vn = ie.extend({
        addHooks: function() {
            this._map.on("dblclick", this._onDoubleClick, this)
        },
        removeHooks: function() {
            this._map.off("dblclick", this._onDoubleClick, this)
        },
        _onDoubleClick: function(t) {
            var i = this._map,
                e = i.getZoom(),
                n = i.options.zoomDelta,
                o = t.originalEvent.shiftKey ? e - n : e + n;
            "center" === i.options.doubleClickZoom ? i.setZoom(o) : i.setZoomAround(t.containerPoint, o)
        }
    });
    Ki.addInitHook("addHandler", "doubleClickZoom", vn), Ki.mergeOptions({
        dragging: !0,
        inertia: !st,
        inertiaDeceleration: 3400,
        inertiaMaxSpeed: 1 / 0,
        easeLinearity: .2,
        worldCopyJump: !1,
        maxBoundsViscosity: 0
    });
    var yn = ie.extend({
        addHooks: function() {
            var t;
            this._draggable || (t = this._map, this._draggable = new ae(t._mapPane, t._container), this._draggable.on({
                dragstart: this._onDragStart,
                drag: this._onDrag,
                dragend: this._onDragEnd
            }, this), this._draggable.on("predrag", this._onPreDragLimit, this), t.options.worldCopyJump && (this._draggable.on("predrag", this._onPreDragWrap, this), t.on("zoomend", this._onZoomEnd, this), t.whenReady(this._onZoomEnd, this))), ci(this._map._container, "leaflet-grab leaflet-touch-drag"), this._draggable.enable(), this._positions = [], this._times = []
        },
        removeHooks: function() {
            _i(this._map._container, "leaflet-grab"), _i(this._map._container, "leaflet-touch-drag"), this._draggable.disable()
        },
        moved: function() {
            return this._draggable && this._draggable._moved
        },
        moving: function() {
            return this._draggable && this._draggable._moving
        },
        _onDragStart: function() {
            var t, i = this._map;
            i._stop(), this._map.options.maxBounds && this._map.options.maxBoundsViscosity ? (t = N(this._map.options.maxBounds), this._offsetLimit = O(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1), this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())), this._viscosity = Math.min(1, Math.max(0, this._map.options.maxBoundsViscosity))) : this._offsetLimit = null, i.fire("movestart").fire("dragstart"), i.options.inertia && (this._positions = [], this._times = [])
        },
        _onDrag: function(t) {
            var i, e;
            this._map.options.inertia && (i = this._lastTime = +new Date, e = this._lastPos = this._draggable._absPos || this._draggable._newPos, this._positions.push(e), this._times.push(i), this._prunePositions(i)), this._map.fire("move", t).fire("drag", t)
        },
        _prunePositions: function(t) {
            for (; 1 < this._positions.length && 50 < t - this._times[0];) this._positions.shift(), this._times.shift()
        },
        _onZoomEnd: function() {
            var t = this._map.getSize().divideBy(2),
                i = this._map.latLngToLayerPoint([0, 0]);
            this._initialWorldOffset = i.subtract(t).x, this._worldWidth = this._map.getPixelWorldBounds().getSize().x
        },
        _viscousLimit: function(t, i) {
            return t - (t - i) * this._viscosity
        },
        _onPreDragLimit: function() {
            var t, i;
            this._viscosity && this._offsetLimit && (t = this._draggable._newPos.subtract(this._draggable._startPos), i = this._offsetLimit, t.x < i.min.x && (t.x = this._viscousLimit(t.x, i.min.x)), t.y < i.min.y && (t.y = this._viscousLimit(t.y, i.min.y)), t.x > i.max.x && (t.x = this._viscousLimit(t.x, i.max.x)), t.y > i.max.y && (t.y = this._viscousLimit(t.y, i.max.y)), this._draggable._newPos = this._draggable._startPos.add(t))
        },
        _onPreDragWrap: function() {
            var t = this._worldWidth,
                i = Math.round(t / 2),
                e = this._initialWorldOffset,
                n = this._draggable._newPos.x,
                o = (n - i + e) % t + i - e,
                s = (n + i + e) % t - i - e,
                r = Math.abs(o + e) < Math.abs(s + e) ? o : s;
            this._draggable._absPos = this._draggable._newPos.clone(), this._draggable._newPos.x = r
        },
        _onDragEnd: function(t) {
            var i, e, n, o, s, r, a, h, u, l = this._map,
                c = l.options,
                _ = !c.inertia || this._times.length < 2;
            l.fire("dragend", t), _ ? l.fire("moveend") : (this._prunePositions(+new Date), i = this._lastPos.subtract(this._positions[0]), e = (this._lastTime - this._times[0]) / 1e3, n = c.easeLinearity, s = (o = i.multiplyBy(n / e)).distanceTo([0, 0]), r = Math.min(c.inertiaMaxSpeed, s), a = o.multiplyBy(r / s), h = r / (c.inertiaDeceleration * n), (u = a.multiplyBy(-h / 2).round()).x || u.y ? (u = l._limitOffset(u, l.options.maxBounds), M(function() {
                l.panBy(u, {
                    duration: h,
                    easeLinearity: n,
                    noMoveStart: !0,
                    animate: !0
                })
            })) : l.fire("moveend"))
        }
    });
    Ki.addInitHook("addHandler", "dragging", yn), Ki.mergeOptions({
        keyboard: !0,
        keyboardPanDelta: 80
    });
    var xn = ie.extend({
        keyCodes: {
            left: [37],
            right: [39],
            down: [40],
            up: [38],
            zoomIn: [187, 107, 61, 171],
            zoomOut: [189, 109, 54, 173]
        },
        initialize: function(t) {
            this._map = t, this._setPanDelta(t.options.keyboardPanDelta), this._setZoomDelta(t.options.zoomDelta)
        },
        addHooks: function() {
            var t = this._map._container;
            t.tabIndex <= 0 && (t.tabIndex = "0"), zi(t, {
                focus: this._onFocus,
                blur: this._onBlur,
                mousedown: this._onMouseDown
            }, this), this._map.on({
                focus: this._addHooks,
                blur: this._removeHooks
            }, this)
        },
        removeHooks: function() {
            this._removeHooks(), Si(this._map._container, {
                focus: this._onFocus,
                blur: this._onBlur,
                mousedown: this._onMouseDown
            }, this), this._map.off({
                focus: this._addHooks,
                blur: this._removeHooks
            }, this)
        },
        _onMouseDown: function() {
            var t, i, e, n;
            this._focused || (t = document.body, i = document.documentElement, e = t.scrollTop || i.scrollTop, n = t.scrollLeft || i.scrollLeft, this._map._container.focus(), window.scrollTo(n, e))
        },
        _onFocus: function() {
            this._focused = !0, this._map.fire("focus")
        },
        _onBlur: function() {
            this._focused = !1, this._map.fire("blur")
        },
        _setPanDelta: function(t) {
            for (var i = this._panKeys = {}, e = this.keyCodes, n = 0, o = e.left.length; n < o; n++) i[e.left[n]] = [-1 * t, 0];
            for (n = 0, o = e.right.length; n < o; n++) i[e.right[n]] = [t, 0];
            for (n = 0, o = e.down.length; n < o; n++) i[e.down[n]] = [0, t];
            for (n = 0, o = e.up.length; n < o; n++) i[e.up[n]] = [0, -1 * t]
        },
        _setZoomDelta: function(t) {
            for (var i = this._zoomKeys = {}, e = this.keyCodes, n = 0, o = e.zoomIn.length; n < o; n++) i[e.zoomIn[n]] = t;
            for (n = 0, o = e.zoomOut.length; n < o; n++) i[e.zoomOut[n]] = -t
        },
        _addHooks: function() {
            zi(document, "keydown", this._onKeyDown, this)
        },
        _removeHooks: function() {
            Si(document, "keydown", this._onKeyDown, this)
        },
        _onKeyDown: function(t) {
            if (!(t.altKey || t.ctrlKey || t.metaKey)) {
                var i, e = t.keyCode,
                    n = this._map;
                if (e in this._panKeys) n._panAnim && n._panAnim._inProgress || (i = this._panKeys[e], t.shiftKey && (i = A(i).multiplyBy(3)), n.panBy(i), n.options.maxBounds && n.panInsideBounds(n.options.maxBounds));
                else if (e in this._zoomKeys) n.setZoom(n.getZoom() + (t.shiftKey ? 3 : 1) * this._zoomKeys[e]);
                else {
                    if (27 !== e || !n._popup || !n._popup.options.closeOnEscapeKey) return;
                    n.closePopup()
                }
                Ni(t)
            }
        }
    });
    Ki.addInitHook("addHandler", "keyboard", xn), Ki.mergeOptions({
        scrollWheelZoom: !0,
        wheelDebounceTime: 40,
        wheelPxPerZoomLevel: 60
    });
    var wn = ie.extend({
        addHooks: function() {
            zi(this._map._container, "wheel", this._onWheelScroll, this), this._delta = 0
        },
        removeHooks: function() {
            Si(this._map._container, "wheel", this._onWheelScroll, this)
        },
        _onWheelScroll: function(t) {
            var i = Wi(t),
                e = this._map.options.wheelDebounceTime;
            this._delta += i, this._lastMousePos = this._map.mouseEventToContainerPoint(t), this._startTime || (this._startTime = +new Date);
            var n = Math.max(e - (new Date - this._startTime), 0);
            clearTimeout(this._timer), this._timer = setTimeout(p(this._performZoom, this), n), Ni(t)
        },
        _performZoom: function() {
            var t = this._map,
                i = t.getZoom(),
                e = this._map.options.zoomSnap || 0;
            t._stop();
            var n = this._delta / (4 * this._map.options.wheelPxPerZoomLevel),
                o = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(n)))) / Math.LN2,
                s = e ? Math.ceil(o / e) * e : o,
                r = t._limitZoom(i + (0 < this._delta ? s : -s)) - i;
            this._delta = 0, this._startTime = null, r && ("center" === t.options.scrollWheelZoom ? t.setZoom(i + r) : t.setZoomAround(this._lastMousePos, i + r))
        }
    });
    Ki.addInitHook("addHandler", "scrollWheelZoom", wn), Ki.mergeOptions({
        tap: !0,
        tapTolerance: 15
    });
    var Pn = ie.extend({
        addHooks: function() {
            zi(this._map._container, "touchstart", this._onDown, this)
        },
        removeHooks: function() {
            Si(this._map._container, "touchstart", this._onDown, this)
        },
        _onDown: function(t) {
            if (t.touches) {
                if (Ri(t), this._fireClick = !0, 1 < t.touches.length) return this._fireClick = !1, void clearTimeout(this._holdTimeout);
                var i = t.touches[0],
                    e = i.target;
                this._startPos = this._newPos = new k(i.clientX, i.clientY), e.tagName && "a" === e.tagName.toLowerCase() && ci(e, "leaflet-active"), this._holdTimeout = setTimeout(p(function() {
                    this._isTapValid() && (this._fireClick = !1, this._onUp(), this._simulateEvent("contextmenu", i))
                }, this), 1e3), this._simulateEvent("mousedown", i), zi(document, {
                    touchmove: this._onMove,
                    touchend: this._onUp
                }, this)
            }
        },
        _onUp: function(t) {
            var i, e;
            clearTimeout(this._holdTimeout), Si(document, {
                touchmove: this._onMove,
                touchend: this._onUp
            }, this), this._fireClick && t && t.changedTouches && ((e = (i = t.changedTouches[0]).target) && e.tagName && "a" === e.tagName.toLowerCase() && _i(e, "leaflet-active"), this._simulateEvent("mouseup", i), this._isTapValid() && this._simulateEvent("click", i))
        },
        _isTapValid: function() {
            return this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance
        },
        _onMove: function(t) {
            var i = t.touches[0];
            this._newPos = new k(i.clientX, i.clientY), this._simulateEvent("mousemove", i)
        },
        _simulateEvent: function(t, i) {
            var e = document.createEvent("MouseEvents");
            e._simulated = !0, i.target._simulatedClick = !0, e.initMouseEvent(t, !0, !0, window, 1, i.screenX, i.screenY, i.clientX, i.clientY, !1, !1, !1, !1, 0, null), i.target.dispatchEvent(e)
        }
    });
    !bt || Lt && !ct || Ki.addInitHook("addHandler", "tap", Pn), Ki.mergeOptions({
        touchZoom: bt && !st,
        bounceAtZoomLimits: !0
    });
    var Ln = ie.extend({
        addHooks: function() {
            ci(this._map._container, "leaflet-touch-zoom"), zi(this._map._container, "touchstart", this._onTouchStart, this)
        },
        removeHooks: function() {
            _i(this._map._container, "leaflet-touch-zoom"), Si(this._map._container, "touchstart", this._onTouchStart, this)
        },
        _onTouchStart: function(t) {
            var i, e, n = this._map;
            !t.touches || 2 !== t.touches.length || n._animatingZoom || this._zooming || (i = n.mouseEventToContainerPoint(t.touches[0]), e = n.mouseEventToContainerPoint(t.touches[1]), this._centerPoint = n.getSize()._divideBy(2), this._startLatLng = n.containerPointToLatLng(this._centerPoint), "center" !== n.options.touchZoom && (this._pinchStartLatLng = n.containerPointToLatLng(i.add(e)._divideBy(2))), this._startDist = i.distanceTo(e), this._startZoom = n.getZoom(), this._moved = !1, this._zooming = !0, n._stop(), zi(document, "touchmove", this._onTouchMove, this), zi(document, "touchend", this._onTouchEnd, this), Ri(t))
        },
        _onTouchMove: function(t) {
            if (t.touches && 2 === t.touches.length && this._zooming) {
                var i = this._map,
                    e = i.mouseEventToContainerPoint(t.touches[0]),
                    n = i.mouseEventToContainerPoint(t.touches[1]),
                    o = e.distanceTo(n) / this._startDist;
                if (this._zoom = i.getScaleZoom(o, this._startZoom), !i.options.bounceAtZoomLimits && (this._zoom < i.getMinZoom() && o < 1 || this._zoom > i.getMaxZoom() && 1 < o) && (this._zoom = i._limitZoom(this._zoom)), "center" === i.options.touchZoom) {
                    if (this._center = this._startLatLng, 1 == o) return
                } else {
                    var s = e._add(n)._divideBy(2)._subtract(this._centerPoint);
                    if (1 == o && 0 === s.x && 0 === s.y) return;
                    this._center = i.unproject(i.project(this._pinchStartLatLng, this._zoom).subtract(s), this._zoom)
                }
                this._moved || (i._moveStart(!0, !1), this._moved = !0), z(this._animRequest);
                var r = p(i._move, i, this._center, this._zoom, {
                    pinch: !0,
                    round: !1
                });
                this._animRequest = M(r, this, !0), Ri(t)
            }
        },
        _onTouchEnd: function() {
            this._moved && this._zooming ? (this._zooming = !1, z(this._animRequest), Si(document, "touchmove", this._onTouchMove, this), Si(document, "touchend", this._onTouchEnd, this), this._map.options.zoomAnimation ? this._map._animateZoom(this._center, this._map._limitZoom(this._zoom), !0, this._map.options.zoomSnap) : this._map._resetView(this._center, this._map._limitZoom(this._zoom))) : this._zooming = !1
        }
    });
    Ki.addInitHook("addHandler", "touchZoom", Ln), Ki.BoxZoom = gn, Ki.DoubleClickZoom = vn, Ki.Drag = yn, Ki.Keyboard = xn, Ki.ScrollWheelZoom = wn, Ki.Tap = Pn, Ki.TouchZoom = Ln, t.version = "1.7.1", t.Control = Xi, t.control = Yi, t.Browser = Bt, t.Evented = E, t.Mixin = ne, t.Util = C, t.Class = S, t.Handler = ie, t.extend = h, t.bind = p, t.stamp = m, t.setOptions = c, t.DomEvent = qi, t.DomUtil = Mi, t.PosAnimation = Gi, t.Draggable = ae, t.LineUtil = fe, t.PolyUtil = ye, t.Point = k, t.point = A, t.Bounds = I, t.bounds = O, t.Transformation = q, t.transformation = G, t.Projection = Pe, t.LatLng = D, t.latLng = j, t.LatLngBounds = R, t.latLngBounds = N, t.CRS = H, t.GeoJSON = Ne, t.geoJSON = Ke, t.geoJson = Ye, t.Layer = Me, t.LayerGroup = ze, t.layerGroup = function(t, i) {
        return new ze(t, i)
    }, t.FeatureGroup = Ce, t.featureGroup = function(t, i) {
        return new Ce(t, i)
    }, t.ImageOverlay = Xe, t.imageOverlay = function(t, i, e) {
        return new Xe(t, i, e)
    }, t.VideoOverlay = Je, t.videoOverlay = function(t, i, e) {
        return new Je(t, i, e)
    }, t.SVGOverlay = $e, t.svgOverlay = function(t, i, e) {
        return new $e(t, i, e)
    }, t.DivOverlay = Qe, t.Popup = tn, t.popup = function(t, i) {
        return new tn(t, i)
    }, t.Tooltip = en, t.tooltip = function(t, i) {
        return new en(t, i)
    }, t.Icon = Se, t.icon = function(t) {
        return new Se(t)
    }, t.DivIcon = nn, t.divIcon = function(t) {
        return new nn(t)
    }, t.Marker = ke, t.marker = function(t, i) {
        return new ke(t, i)
    }, t.TileLayer = sn, t.tileLayer = rn, t.GridLayer = on, t.gridLayer = function(t) {
        return new on(t)
    }, t.SVG = pn, t.svg = mn, t.Renderer = hn, t.Canvas = un, t.canvas = ln, t.Path = Be, t.CircleMarker = Ae, t.circleMarker = function(t, i) {
        return new Ae(t, i)
    }, t.Circle = Ie, t.circle = function(t, i, e) {
        return new Ie(t, i, e)
    }, t.Polyline = Oe, t.polyline = function(t, i) {
        return new Oe(t, i)
    }, t.Polygon = Re, t.polygon = function(t, i) {
        return new Re(t, i)
    }, t.Rectangle = fn, t.rectangle = function(t, i) {
        return new fn(t, i)
    }, t.Map = Ki, t.map = function(t, i) {
        return new Ki(t, i)
    };
    var bn = window.L;
    t.noConflict = function() {
        return window.L = bn, this
    }, window.L = t
});
/** @preserve
 * ==================================================================== 
 * moment.js
 * Copyright (c) Tim Wood, (c) JS Foundation and other contributorss
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, (function () { 'use strict';

    var hookCallback;

    function hooks() {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback(callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return (
            input instanceof Array ||
            Object.prototype.toString.call(input) === '[object Array]'
        );
    }

    function isObject(input) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return (
            input != null &&
            Object.prototype.toString.call(input) === '[object Object]'
        );
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return Object.getOwnPropertyNames(obj).length === 0;
        } else {
            var k;
            for (k in obj) {
                if (hasOwnProp(obj, k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return (
            typeof input === 'number' ||
            Object.prototype.toString.call(input) === '[object Number]'
        );
    }

    function isDate(input) {
        return (
            input instanceof Date ||
            Object.prototype.toString.call(input) === '[object Date]'
        );
    }

    function map(arr, fn) {
        var res = [],
            i,
            arrLen = arr.length;
        for (i = 0; i < arrLen; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function createUTC(input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty: false,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: false,
            invalidEra: null,
            invalidMonth: null,
            invalidFormat: false,
            userInvalidated: false,
            iso: false,
            parsedDateParts: [],
            era: null,
            meridiem: null,
            rfc2822: false,
            weekdayMismatch: false,
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this),
                len = t.length >>> 0,
                i;

            for (i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }

            return false;
        };
    }

    function isValid(m) {
        var flags = null,
            parsedParts = false,
            isNowValid = m._d && !isNaN(m._d.getTime());
        if (isNowValid) {
            flags = getParsingFlags(m);
            parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            isNowValid =
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidEra &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.weekdayMismatch &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated &&
                (!flags.meridiem || (flags.meridiem && parsedParts));
            if (m._strict) {
                isNowValid =
                    isNowValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }
        }
        if (Object.isFrozen == null || !Object.isFrozen(m)) {
            m._isValid = isNowValid;
        } else {
            return isNowValid;
        }
        return m._isValid;
    }

    function createInvalid(flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        } else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    var momentProperties = (hooks.momentProperties = []),
        updateInProgress = false;

    function copyConfig(to, from) {
        var i,
            prop,
            val,
            momentPropertiesLen = momentProperties.length;

        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }

        if (momentPropertiesLen > 0) {
            for (i = 0; i < momentPropertiesLen; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment(obj) {
        return (
            obj instanceof Moment || (obj != null && obj._isAMomentObject != null)
        );
    }

    function warn(msg) {
        if (
            hooks.suppressDeprecationWarnings === false &&
            typeof console !== 'undefined' &&
            console.warn
        ) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [],
                    arg,
                    i,
                    key,
                    argLen = arguments.length;
                for (i = 0; i < argLen; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (key in arguments[0]) {
                            if (hasOwnProp(arguments[0], key)) {
                                arg += key + ': ' + arguments[0][key] + ', ';
                            }
                        }
                        arg = arg.slice(0, -2); // Remove trailing comma and space
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(
                    msg +
                        '\nArguments: ' +
                        Array.prototype.slice.call(args).join('') +
                        '\n' +
                        new Error().stack
                );
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return (
            (typeof Function !== 'undefined' && input instanceof Function) ||
            Object.prototype.toString.call(input) === '[object Function]'
        );
    }

    function set(config) {
        var prop, i;
        for (i in config) {
            if (hasOwnProp(config, i)) {
                prop = config[i];
                if (isFunction(prop)) {
                    this[i] = prop;
                } else {
                    this['_' + i] = prop;
                }
            }
        }
        this._config = config;
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
        // TODO: Remove "ordinalParse" fallback in next major release.
        this._dayOfMonthOrdinalParseLenient = new RegExp(
            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                '|' +
                /\d{1,2}/.source
        );
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig),
            prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (
                hasOwnProp(parentConfig, prop) &&
                !hasOwnProp(childConfig, prop) &&
                isObject(parentConfig[prop])
            ) {
                // make sure changes to properties don't modify parent config
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;

    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i,
                res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }

    var defaultCalendar = {
        sameDay: '[Today at] LT',
        nextDay: '[Tomorrow at] LT',
        nextWeek: 'dddd [at] LT',
        lastDay: '[Yesterday at] LT',
        lastWeek: '[Last] dddd [at] LT',
        sameElse: 'L',
    };

    function calendar(key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (
            (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) +
            absNumber
        );
    }

    var formattingTokens =
            /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
        localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
        formatFunctions = {},
        formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken(token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(
                    func.apply(this, arguments),
                    token
                );
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens),
            i,
            length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '',
                i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i])
                    ? array[i].call(mom, format)
                    : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] =
            formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(
                localFormattingTokens,
                replaceLongDateFormatTokens
            );
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var defaultLongDateFormat = {
        LTS: 'h:mm:ss A',
        LT: 'h:mm A',
        L: 'MM/DD/YYYY',
        LL: 'MMMM D, YYYY',
        LLL: 'MMMM D, YYYY h:mm A',
        LLLL: 'dddd, MMMM D, YYYY h:mm A',
    };

    function longDateFormat(key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper
            .match(formattingTokens)
            .map(function (tok) {
                if (
                    tok === 'MMMM' ||
                    tok === 'MM' ||
                    tok === 'DD' ||
                    tok === 'dddd'
                ) {
                    return tok.slice(1);
                }
                return tok;
            })
            .join('');

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate() {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d',
        defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal(number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future: 'in %s',
        past: '%s ago',
        s: 'a few seconds',
        ss: '%d seconds',
        m: 'a minute',
        mm: '%d minutes',
        h: 'an hour',
        hh: '%d hours',
        d: 'a day',
        dd: '%d days',
        w: 'a week',
        ww: '%d weeks',
        M: 'a month',
        MM: '%d months',
        y: 'a year',
        yy: '%d years',
    };

    function relativeTime(number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return isFunction(output)
            ? output(number, withoutSuffix, string, isFuture)
            : output.replace(/%d/i, number);
    }

    function pastFuture(diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {
        D: 'date',
        dates: 'date',
        date: 'date',
        d: 'day',
        days: 'day',
        day: 'day',
        e: 'weekday',
        weekdays: 'weekday',
        weekday: 'weekday',
        E: 'isoWeekday',
        isoweekdays: 'isoWeekday',
        isoweekday: 'isoWeekday',
        DDD: 'dayOfYear',
        dayofyears: 'dayOfYear',
        dayofyear: 'dayOfYear',
        h: 'hour',
        hours: 'hour',
        hour: 'hour',
        ms: 'millisecond',
        milliseconds: 'millisecond',
        millisecond: 'millisecond',
        m: 'minute',
        minutes: 'minute',
        minute: 'minute',
        M: 'month',
        months: 'month',
        month: 'month',
        Q: 'quarter',
        quarters: 'quarter',
        quarter: 'quarter',
        s: 'second',
        seconds: 'second',
        second: 'second',
        gg: 'weekYear',
        weekyears: 'weekYear',
        weekyear: 'weekYear',
        GG: 'isoWeekYear',
        isoweekyears: 'isoWeekYear',
        isoweekyear: 'isoWeekYear',
        w: 'week',
        weeks: 'week',
        week: 'week',
        W: 'isoWeek',
        isoweeks: 'isoWeek',
        isoweek: 'isoWeek',
        y: 'year',
        years: 'year',
        year: 'year',
    };

    function normalizeUnits(units) {
        return typeof units === 'string'
            ? aliases[units] || aliases[units.toLowerCase()]
            : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    var priorities = {
        date: 9,
        day: 11,
        weekday: 11,
        isoWeekday: 11,
        dayOfYear: 4,
        hour: 13,
        millisecond: 16,
        minute: 14,
        month: 8,
        quarter: 7,
        second: 15,
        weekYear: 1,
        isoWeekYear: 1,
        week: 5,
        isoWeek: 5,
        year: 1,
    };

    function getPrioritizedUnits(unitsObj) {
        var units = [],
            u;
        for (u in unitsObj) {
            if (hasOwnProp(unitsObj, u)) {
                units.push({ unit: u, priority: priorities[u] });
            }
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    var match1 = /\d/, //       0 - 9
        match2 = /\d\d/, //      00 - 99
        match3 = /\d{3}/, //     000 - 999
        match4 = /\d{4}/, //    0000 - 9999
        match6 = /[+-]?\d{6}/, // -999999 - 999999
        match1to2 = /\d\d?/, //       0 - 99
        match3to4 = /\d\d\d\d?/, //     999 - 9999
        match5to6 = /\d\d\d\d\d\d?/, //   99999 - 999999
        match1to3 = /\d{1,3}/, //       0 - 999
        match1to4 = /\d{1,4}/, //       0 - 9999
        match1to6 = /[+-]?\d{1,6}/, // -999999 - 999999
        matchUnsigned = /\d+/, //       0 - inf
        matchSigned = /[+-]?\d+/, //    -inf - inf
        matchOffset = /Z|[+-]\d\d:?\d\d/gi, // +00:00 -00:00 +0000 -0000 or Z
        matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi, // +00 -00 +00:00 -00:00 +0000 -0000 or Z
        matchTimestamp = /[+-]?\d+(\.\d{1,3})?/, // 123456789 123456789.123
        // any word (or two) characters or numbers including two/three word month in arabic.
        // includes scottish gaelic two word and hyphenated months
        matchWord =
            /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,
        match1to2NoLeadingZero = /^[1-9]\d?/, //         1-99
        match1to2HasZero = /^([1-9]\d|\d)/, //           0-99
        regexes;

    regexes = {};

    function addRegexToken(token, regex, strictRegex) {
        regexes[token] = isFunction(regex)
            ? regex
            : function (isStrict, localeData) {
                  return isStrict && strictRegex ? strictRegex : regex;
              };
    }

    function getParseRegexForToken(token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return regexEscape(
            s
                .replace('\\', '')
                .replace(
                    /\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
                    function (matched, p1, p2, p3, p4) {
                        return p1 || p2 || p3 || p4;
                    }
                )
        );
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    function absFloor(number) {
        if (number < 0) {
            // -0 -> 0
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    var tokens = {};

    function addParseToken(token, callback) {
        var i,
            func = callback,
            tokenLen;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        tokenLen = token.length;
        for (i = 0; i < tokenLen; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken(token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    var YEAR = 0,
        MONTH = 1,
        DATE = 2,
        HOUR = 3,
        MINUTE = 4,
        SECOND = 5,
        MILLISECOND = 6,
        WEEK = 7,
        WEEKDAY = 8;

    // FORMATTING

    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? zeroFill(y, 4) : '+' + y;
    });

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY', 4], 0, 'year');
    addFormatToken(0, ['YYYYY', 5], 0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // PARSING

    addRegexToken('Y', matchSigned);
    addRegexToken('YY', match1to2, match2);
    addRegexToken('YYYY', match1to4, match4);
    addRegexToken('YYYYY', match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] =
            input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    // HOOKS

    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear() {
        return isLeapYear(this.year());
    }

    function makeGetSet(unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get(mom, unit) {
        if (!mom.isValid()) {
            return NaN;
        }

        var d = mom._d,
            isUTC = mom._isUTC;

        switch (unit) {
            case 'Milliseconds':
                return isUTC ? d.getUTCMilliseconds() : d.getMilliseconds();
            case 'Seconds':
                return isUTC ? d.getUTCSeconds() : d.getSeconds();
            case 'Minutes':
                return isUTC ? d.getUTCMinutes() : d.getMinutes();
            case 'Hours':
                return isUTC ? d.getUTCHours() : d.getHours();
            case 'Date':
                return isUTC ? d.getUTCDate() : d.getDate();
            case 'Day':
                return isUTC ? d.getUTCDay() : d.getDay();
            case 'Month':
                return isUTC ? d.getUTCMonth() : d.getMonth();
            case 'FullYear':
                return isUTC ? d.getUTCFullYear() : d.getFullYear();
            default:
                return NaN; // Just in case
        }
    }

    function set$1(mom, unit, value) {
        var d, isUTC, year, month, date;

        if (!mom.isValid() || isNaN(value)) {
            return;
        }

        d = mom._d;
        isUTC = mom._isUTC;

        switch (unit) {
            case 'Milliseconds':
                return void (isUTC
                    ? d.setUTCMilliseconds(value)
                    : d.setMilliseconds(value));
            case 'Seconds':
                return void (isUTC ? d.setUTCSeconds(value) : d.setSeconds(value));
            case 'Minutes':
                return void (isUTC ? d.setUTCMinutes(value) : d.setMinutes(value));
            case 'Hours':
                return void (isUTC ? d.setUTCHours(value) : d.setHours(value));
            case 'Date':
                return void (isUTC ? d.setUTCDate(value) : d.setDate(value));
            // case 'Day': // Not real
            //    return void (isUTC ? d.setUTCDay(value) : d.setDay(value));
            // case 'Month': // Not used because we need to pass two variables
            //     return void (isUTC ? d.setUTCMonth(value) : d.setMonth(value));
            case 'FullYear':
                break; // See below ...
            default:
                return; // Just in case
        }

        year = value;
        month = mom.month();
        date = mom.date();
        date = date === 29 && month === 1 && !isLeapYear(year) ? 28 : date;
        void (isUTC
            ? d.setUTCFullYear(year, month, date)
            : d.setFullYear(year, month, date));
    }

    // MOMENTS

    function stringGet(units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }

    function stringSet(units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units),
                i,
                prioritizedLen = prioritized.length;
            for (i = 0; i < prioritizedLen; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;

    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            // I know
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1
            ? isLeapYear(year)
                ? 29
                : 28
            : 31 - ((modMonth % 7) % 2);
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // PARSING

    addRegexToken('M', match1to2, match1to2NoLeadingZero);
    addRegexToken('MM', match1to2, match2);
    addRegexToken('MMM', function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var defaultLocaleMonths =
            'January_February_March_April_May_June_July_August_September_October_November_December'.split(
                '_'
            ),
        defaultLocaleMonthsShort =
            'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
        MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
        defaultMonthsShortRegex = matchWord,
        defaultMonthsRegex = matchWord;

    function localeMonths(m, format) {
        if (!m) {
            return isArray(this._months)
                ? this._months
                : this._months['standalone'];
        }
        return isArray(this._months)
            ? this._months[m.month()]
            : this._months[
                  (this._months.isFormat || MONTHS_IN_FORMAT).test(format)
                      ? 'format'
                      : 'standalone'
              ][m.month()];
    }

    function localeMonthsShort(m, format) {
        if (!m) {
            return isArray(this._monthsShort)
                ? this._monthsShort
                : this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort)
            ? this._monthsShort[m.month()]
            : this._monthsShort[
                  MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'
              ][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i,
            ii,
            mom,
            llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            // this is not used
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(
                    mom,
                    ''
                ).toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse(monthName, format, strict) {
        var i, mom, regex;

        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp(
                    '^' + this.months(mom, '').replace('.', '') + '$',
                    'i'
                );
                this._shortMonthsParse[i] = new RegExp(
                    '^' + this.monthsShort(mom, '').replace('.', '') + '$',
                    'i'
                );
            }
            if (!strict && !this._monthsParse[i]) {
                regex =
                    '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (
                strict &&
                format === 'MMMM' &&
                this._longMonthsParse[i].test(monthName)
            ) {
                return i;
            } else if (
                strict &&
                format === 'MMM' &&
                this._shortMonthsParse[i].test(monthName)
            ) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth(mom, value) {
        if (!mom.isValid()) {
            // No op
            return mom;
        }

        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                // TODO: Another silent failure?
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }

        var month = value,
            date = mom.date();

        date = date < 29 ? date : Math.min(date, daysInMonth(mom.year(), month));
        void (mom._isUTC
            ? mom._d.setUTCMonth(month, date)
            : mom._d.setMonth(month, date));
        return mom;
    }

    function getSetMonth(value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth() {
        return daysInMonth(this.year(), this.month());
    }

    function monthsShortRegex(isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict
                ? this._monthsShortStrictRegex
                : this._monthsShortRegex;
        }
    }

    function monthsRegex(isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict
                ? this._monthsStrictRegex
                : this._monthsRegex;
        }
    }

    function computeMonthsParse() {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [],
            longPieces = [],
            mixedPieces = [],
            i,
            mom,
            shortP,
            longP;
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            shortP = regexEscape(this.monthsShort(mom, ''));
            longP = regexEscape(this.months(mom, ''));
            shortPieces.push(shortP);
            longPieces.push(longP);
            mixedPieces.push(longP);
            mixedPieces.push(shortP);
        }
        // Sorting makes sure if one month (or abbr) is a prefix of another it
        // will match the longer piece.
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);

        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp(
            '^(' + longPieces.join('|') + ')',
            'i'
        );
        this._monthsShortStrictRegex = new RegExp(
            '^(' + shortPieces.join('|') + ')',
            'i'
        );
    }

    function createDate(y, m, d, h, M, s, ms) {
        // can't just apply() to create a date:
        // https://stackoverflow.com/q/181348
        var date;
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            date = new Date(y + 400, m, d, h, M, s, ms);
            if (isFinite(date.getFullYear())) {
                date.setFullYear(y);
            }
        } else {
            date = new Date(y, m, d, h, M, s, ms);
        }

        return date;
    }

    function createUTCDate(y) {
        var date, args;
        // the Date.UTC function remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            args = Array.prototype.slice.call(arguments);
            // preserve leap years using a full 400 year cycle, then reset
            args[0] = y + 400;
            date = new Date(Date.UTC.apply(null, args));
            if (isFinite(date.getUTCFullYear())) {
                date.setUTCFullYear(y);
            }
        } else {
            date = new Date(Date.UTC.apply(null, arguments));
        }

        return date;
    }

    // start-of-first-week - start-of-year
    function firstWeekOffset(year, dow, doy) {
        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
            fwd = 7 + dow - doy,
            // first-week day local weekday -- which local weekday is fwd
            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

        return -fwdlw + fwd - 1;
    }

    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
            resYear,
            resDayOfYear;

        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        return {
            year: resYear,
            dayOfYear: resDayOfYear,
        };
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
            resWeek,
            resYear;

        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }

        return {
            week: resWeek,
            year: resYear,
        };
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }

    // FORMATTING

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // PARSING

    addRegexToken('w', match1to2, match1to2NoLeadingZero);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W', match1to2, match1to2NoLeadingZero);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(
        ['w', 'ww', 'W', 'WW'],
        function (input, week, config, token) {
            week[token.substr(0, 1)] = toInt(input);
        }
    );

    // HELPERS

    // LOCALES

    function localeWeek(mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow: 0, // Sunday is the first day of the week.
        doy: 6, // The week that contains Jan 6th is the first week of the year.
    };

    function localeFirstDayOfWeek() {
        return this._week.dow;
    }

    function localeFirstDayOfYear() {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek(input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek(input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    // FORMATTING

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // PARSING

    addRegexToken('d', match1to2);
    addRegexToken('e', match1to2);
    addRegexToken('E', match1to2);
    addRegexToken('dd', function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd', function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd', function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    // LOCALES
    function shiftWeekdays(ws, n) {
        return ws.slice(n, 7).concat(ws.slice(0, n));
    }

    var defaultLocaleWeekdays =
            'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
        defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
        defaultWeekdaysRegex = matchWord,
        defaultWeekdaysShortRegex = matchWord,
        defaultWeekdaysMinRegex = matchWord;

    function localeWeekdays(m, format) {
        var weekdays = isArray(this._weekdays)
            ? this._weekdays
            : this._weekdays[
                  m && m !== true && this._weekdays.isFormat.test(format)
                      ? 'format'
                      : 'standalone'
              ];
        return m === true
            ? shiftWeekdays(weekdays, this._week.dow)
            : m
              ? weekdays[m.day()]
              : weekdays;
    }

    function localeWeekdaysShort(m) {
        return m === true
            ? shiftWeekdays(this._weekdaysShort, this._week.dow)
            : m
              ? this._weekdaysShort[m.day()]
              : this._weekdaysShort;
    }

    function localeWeekdaysMin(m) {
        return m === true
            ? shiftWeekdays(this._weekdaysMin, this._week.dow)
            : m
              ? this._weekdaysMin[m.day()]
              : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i,
            ii,
            mom,
            llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];

            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(
                    mom,
                    ''
                ).toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(
                    mom,
                    ''
                ).toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse(weekdayName, format, strict) {
        var i, mom, regex;

        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }

        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already

            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp(
                    '^' + this.weekdays(mom, '').replace('.', '\\.?') + '$',
                    'i'
                );
                this._shortWeekdaysParse[i] = new RegExp(
                    '^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$',
                    'i'
                );
                this._minWeekdaysParse[i] = new RegExp(
                    '^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$',
                    'i'
                );
            }
            if (!this._weekdaysParse[i]) {
                regex =
                    '^' +
                    this.weekdays(mom, '') +
                    '|^' +
                    this.weekdaysShort(mom, '') +
                    '|^' +
                    this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (
                strict &&
                format === 'dddd' &&
                this._fullWeekdaysParse[i].test(weekdayName)
            ) {
                return i;
            } else if (
                strict &&
                format === 'ddd' &&
                this._shortWeekdaysParse[i].test(weekdayName)
            ) {
                return i;
            } else if (
                strict &&
                format === 'dd' &&
                this._minWeekdaysParse[i].test(weekdayName)
            ) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek(input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        var day = get(this, 'Day');
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek(input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek(input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.

        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    function weekdaysRegex(isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict
                ? this._weekdaysStrictRegex
                : this._weekdaysRegex;
        }
    }

    function weekdaysShortRegex(isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict
                ? this._weekdaysShortStrictRegex
                : this._weekdaysShortRegex;
        }
    }

    function weekdaysMinRegex(isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict
                ? this._weekdaysMinStrictRegex
                : this._weekdaysMinRegex;
        }
    }

    function computeWeekdaysParse() {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [],
            shortPieces = [],
            longPieces = [],
            mixedPieces = [],
            i,
            mom,
            minp,
            shortp,
            longp;
        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, 1]).day(i);
            minp = regexEscape(this.weekdaysMin(mom, ''));
            shortp = regexEscape(this.weekdaysShort(mom, ''));
            longp = regexEscape(this.weekdays(mom, ''));
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        // Sorting makes sure if one weekday (or abbr) is a prefix of another it
        // will match the longer piece.
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);

        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;

        this._weekdaysStrictRegex = new RegExp(
            '^(' + longPieces.join('|') + ')',
            'i'
        );
        this._weekdaysShortStrictRegex = new RegExp(
            '^(' + shortPieces.join('|') + ')',
            'i'
        );
        this._weekdaysMinStrictRegex = new RegExp(
            '^(' + minPieces.join('|') + ')',
            'i'
        );
    }

    // FORMATTING

    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);

    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });

    addFormatToken('hmmss', 0, 0, function () {
        return (
            '' +
            hFormat.apply(this) +
            zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2)
        );
    });

    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });

    addFormatToken('Hmmss', 0, 0, function () {
        return (
            '' +
            this.hours() +
            zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2)
        );
    });

    function meridiem(token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(
                this.hours(),
                this.minutes(),
                lowercase
            );
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // PARSING

    function matchMeridiem(isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a', matchMeridiem);
    addRegexToken('A', matchMeridiem);
    addRegexToken('H', match1to2, match1to2HasZero);
    addRegexToken('h', match1to2, match1to2NoLeadingZero);
    addRegexToken('k', match1to2, match1to2NoLeadingZero);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);

    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4,
            pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4,
            pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });

    // LOCALES

    function localeIsPM(input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return (input + '').toLowerCase().charAt(0) === 'p';
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i,
        // Setting the hour should keep the time, because the user explicitly
        // specified which hour they want. So trying to maintain the same hour (in
        // a new timezone) makes sense. Adding/subtracting hours does not follow
        // this rule.
        getSetHour = makeGetSet('Hours', true);

    function localeMeridiem(hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }

    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,

        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,

        week: defaultLocaleWeek,

        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,

        meridiemParse: defaultLocaleMeridiemParse,
    };

    // internal storage for locale config files
    var locales = {},
        localeFamilies = {},
        globalLocale;

    function commonPrefix(arr1, arr2) {
        var i,
            minl = Math.min(arr1.length, arr2.length);
        for (i = 0; i < minl; i += 1) {
            if (arr1[i] !== arr2[i]) {
                return i;
            }
        }
        return minl;
    }

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0,
            j,
            next,
            locale,
            split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (
                    next &&
                    next.length >= j &&
                    commonPrefix(split, next) >= j - 1
                ) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function isLocaleNameSane(name) {
        // Prevent names that look like filesystem paths, i.e contain '/' or '\'
        // Ensure name is available and function returns boolean
        return !!(name && name.match('^[^/\\\\]*$'));
    }

    function loadLocale(name) {
        var oldLocale = null,
            aliasedRequire;
        // TODO: Find a better way to register and load all the locales in Node
        if (
            locales[name] === undefined &&
            typeof module !== 'undefined' &&
            module &&
            module.exports &&
            isLocaleNameSane(name)
        ) {
            try {
                oldLocale = globalLocale._abbr;
                aliasedRequire = require;
                aliasedRequire('./locale/' + name);
                getSetGlobalLocale(oldLocale);
            } catch (e) {
                // mark as not found to avoid repeating expensive file require call causing high CPU
                // when trying to find en-US, en_US, en-us for every format call
                locales[name] = null; // null means not found
            }
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function getSetGlobalLocale(key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            } else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            } else {
                if (typeof console !== 'undefined' && console.warn) {
                    //warn user if arguments are passed but the locale could not be set
                    console.warn(
                        'Locale ' + key + ' not found. Did you forget to load it?'
                    );
                }
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale(name, config) {
        if (config !== null) {
            var locale,
                parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple(
                    'defineLocaleOverride',
                    'use moment.updateLocale(localeName, config) to change ' +
                        'an existing locale. moment.defineLocale(localeName, ' +
                        'config) should only be used for creating a new locale ' +
                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.'
                );
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            name: name,
                            config: config,
                        });
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));

            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }

            // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            getSetGlobalLocale(name);

            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale,
                tmpLocale,
                parentConfig = baseConfig;

            if (locales[name] != null && locales[name].parentLocale != null) {
                // Update existing child locale in-place to avoid memory-leaks
                locales[name].set(mergeConfigs(locales[name]._config, config));
            } else {
                // MERGE
                tmpLocale = loadLocale(name);
                if (tmpLocale != null) {
                    parentConfig = tmpLocale._config;
                }
                config = mergeConfigs(parentConfig, config);
                if (tmpLocale == null) {
                    // updateLocale is called for creating a new locale
                    // Set abbr so it will have a name (getters return
                    // undefined otherwise).
                    config.abbr = name;
                }
                locale = new Locale(config);
                locale.parentLocale = locales[name];
                locales[name] = locale;
            }

            // backwards compat for now: also set the locale
            getSetGlobalLocale(name);
        } else {
            // pass null for config to unupdate, useful for tests
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                    if (name === getSetGlobalLocale()) {
                        getSetGlobalLocale(name);
                    }
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    // returns locale data
    function getLocale(key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow(m) {
        var overflow,
            a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH] < 0 || a[MONTH] > 11
                    ? MONTH
                    : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH])
                      ? DATE
                      : a[HOUR] < 0 ||
                          a[HOUR] > 24 ||
                          (a[HOUR] === 24 &&
                              (a[MINUTE] !== 0 ||
                                  a[SECOND] !== 0 ||
                                  a[MILLISECOND] !== 0))
                        ? HOUR
                        : a[MINUTE] < 0 || a[MINUTE] > 59
                          ? MINUTE
                          : a[SECOND] < 0 || a[SECOND] > 59
                            ? SECOND
                            : a[MILLISECOND] < 0 || a[MILLISECOND] > 999
                              ? MILLISECOND
                              : -1;

            if (
                getParsingFlags(m)._overflowDayOfYear &&
                (overflow < YEAR || overflow > DATE)
            ) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    // iso 8601 regex
    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
    var extendedIsoRegex =
            /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        basicIsoRegex =
            /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        tzRegex = /Z|[+-]\d\d(?::?\d\d)?/,
        isoDates = [
            ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
            ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
            ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
            ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
            ['YYYY-DDD', /\d{4}-\d{3}/],
            ['YYYY-MM', /\d{4}-\d\d/, false],
            ['YYYYYYMMDD', /[+-]\d{10}/],
            ['YYYYMMDD', /\d{8}/],
            ['GGGG[W]WWE', /\d{4}W\d{3}/],
            ['GGGG[W]WW', /\d{4}W\d{2}/, false],
            ['YYYYDDD', /\d{7}/],
            ['YYYYMM', /\d{6}/, false],
            ['YYYY', /\d{4}/, false],
        ],
        // iso time formats and regexes
        isoTimes = [
            ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
            ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
            ['HH:mm:ss', /\d\d:\d\d:\d\d/],
            ['HH:mm', /\d\d:\d\d/],
            ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
            ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
            ['HHmmss', /\d\d\d\d\d\d/],
            ['HHmm', /\d\d\d\d/],
            ['HH', /\d\d/],
        ],
        aspNetJsonRegex = /^\/?Date\((-?\d+)/i,
        // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3
        rfc2822 =
            /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,
        obsOffsets = {
            UT: 0,
            GMT: 0,
            EDT: -4 * 60,
            EST: -5 * 60,
            CDT: -5 * 60,
            CST: -6 * 60,
            MDT: -6 * 60,
            MST: -7 * 60,
            PDT: -7 * 60,
            PST: -8 * 60,
        };

    // date from iso format
    function configFromISO(config) {
        var i,
            l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime,
            dateFormat,
            timeFormat,
            tzFormat,
            isoDatesLen = isoDates.length,
            isoTimesLen = isoTimes.length;

        if (match) {
            getParsingFlags(config).iso = true;
            for (i = 0, l = isoDatesLen; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimesLen; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        // match[2] should be 'T' or space
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    function extractFromRFC2822Strings(
        yearStr,
        monthStr,
        dayStr,
        hourStr,
        minuteStr,
        secondStr
    ) {
        var result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            parseInt(dayStr, 10),
            parseInt(hourStr, 10),
            parseInt(minuteStr, 10),
        ];

        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }

        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        // Remove comments and folding whitespace and replace multiple-spaces with a single space
        return s
            .replace(/\([^()]*\)|[\n\t]/g, ' ')
            .replace(/(\s\s+)/g, ' ')
            .replace(/^\s\s*/, '')
            .replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            // TODO: Replace the vanilla JS Date object with an independent day-of-week check.
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(
                    parsedInput[0],
                    parsedInput[1],
                    parsedInput[2]
                ).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            // the only allowed military tz is Z
            return 0;
        } else {
            var hm = parseInt(numOffset, 10),
                m = hm % 100,
                h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    // date and time from ref 2822 format
    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i)),
            parsedArray;
        if (match) {
            parsedArray = extractFromRFC2822Strings(
                match[4],
                match[3],
                match[2],
                match[5],
                match[6],
                match[7]
            );
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);

            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    // date from 1) ASP.NET, 2) ISO, 3) RFC 2822 formats, or 4) optional fallback if parsing isn't strict
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);
        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        if (config._strict) {
            config._isValid = false;
        } else {
            // Final attempt, use Input Fallback
            hooks.createFromInputFallback(config);
        }
    }

    hooks.createFromInputFallback = deprecate(
        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
            'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
            'discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        // hooks is actually the exported moment object
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [
                nowValue.getUTCFullYear(),
                nowValue.getUTCMonth(),
                nowValue.getUTCDate(),
            ];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray(config) {
        var i,
            date,
            input = [],
            currentDate,
            expectedWeekday,
            yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (
                config._dayOfYear > daysInYear(yearToUse) ||
                config._dayOfYear === 0
            ) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] =
                config._a[i] == null ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (
            config._a[HOUR] === 24 &&
            config._a[MINUTE] === 0 &&
            config._a[SECOND] === 0 &&
            config._a[MILLISECOND] === 0
        ) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(
            null,
            input
        );
        expectedWeekday = config._useUTC
            ? config._d.getUTCDay()
            : config._d.getDay();

        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }

        // check for mismatching day of week
        if (
            config._w &&
            typeof config._w.d !== 'undefined' &&
            config._w.d !== expectedWeekday
        ) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow, curWeek;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(
                w.GG,
                config._a[YEAR],
                weekOfYear(createLocal(), 1, 4).year
            );
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

            // Default to current week.
            week = defaults(w.w, curWeek.week);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from beginning of week
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                // default to beginning of week
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    // constant that refers to the ISO standard
    hooks.ISO_8601 = function () {};

    // constant that refers to the RFC 2822 form
    hooks.RFC_2822 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i,
            parsedInput,
            tokens,
            token,
            skipped,
            stringLength = string.length,
            totalParsedInputLength = 0,
            era,
            tokenLen;

        tokens =
            expandFormat(config._f, config._locale).match(formattingTokens) || [];
        tokenLen = tokens.length;
        for (i = 0; i < tokenLen; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) ||
                [])[0];
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(
                    string.indexOf(parsedInput) + parsedInput.length
                );
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                } else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            } else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver =
            stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (
            config._a[HOUR] <= 12 &&
            getParsingFlags(config).bigHour === true &&
            config._a[HOUR] > 0
        ) {
            getParsingFlags(config).bigHour = undefined;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(
            config._locale,
            config._a[HOUR],
            config._meridiem
        );

        // handle era
        era = getParsingFlags(config).era;
        if (era !== null) {
            config._a[YEAR] = config._locale.erasConvertYear(era, config._a[YEAR]);
        }

        configFromArray(config);
        checkOverflow(config);
    }

    function meridiemFixWrap(locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    // date from string and array of format strings
    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,
            scoreToBeat,
            i,
            currentScore,
            validFormatFound,
            bestFormatIsValid = false,
            configfLen = config._f.length;

        if (configfLen === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < configfLen; i++) {
            currentScore = 0;
            validFormatFound = false;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (isValid(tempConfig)) {
                validFormatFound = true;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (!bestFormatIsValid) {
                if (
                    scoreToBeat == null ||
                    currentScore < scoreToBeat ||
                    validFormatFound
                ) {
                    scoreToBeat = currentScore;
                    bestMoment = tempConfig;
                    if (validFormatFound) {
                        bestFormatIsValid = true;
                    }
                }
            } else {
                if (currentScore < scoreToBeat) {
                    scoreToBeat = currentScore;
                    bestMoment = tempConfig;
                }
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i),
            dayOrDate = i.day === undefined ? i.date : i.day;
        config._a = map(
            [i.year, i.month, dayOrDate, i.hour, i.minute, i.second, i.millisecond],
            function (obj) {
                return obj && parseInt(obj, 10);
            }
        );

        configFromArray(config);
    }

    function createFromConfig(config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig(config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return createInvalid({ nullInput: true });
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        } else {
            configFromInput(config);
        }

        if (!isValid(config)) {
            config._d = null;
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            // from milliseconds
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC(input, format, locale, strict, isUTC) {
        var c = {};

        if (format === true || format === false) {
            strict = format;
            format = undefined;
        }

        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }

        if (
            (isObject(input) && isObjectEmpty(input)) ||
            (isArray(input) && input.length === 0)
        ) {
            input = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function createLocal(input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
            'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
            function () {
                var other = createLocal.apply(null, arguments);
                if (this.isValid() && other.isValid()) {
                    return other < this ? this : other;
                } else {
                    return createInvalid();
                }
            }
        ),
        prototypeMax = deprecate(
            'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
            function () {
                var other = createLocal.apply(null, arguments);
                if (this.isValid() && other.isValid()) {
                    return other > this ? this : other;
                } else {
                    return createInvalid();
                }
            }
        );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min() {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max() {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +new Date();
    };

    var ordering = [
        'year',
        'quarter',
        'month',
        'week',
        'day',
        'hour',
        'minute',
        'second',
        'millisecond',
    ];

    function isDurationValid(m) {
        var key,
            unitHasDecimal = false,
            i,
            orderLen = ordering.length;
        for (key in m) {
            if (
                hasOwnProp(m, key) &&
                !(
                    indexOf.call(ordering, key) !== -1 &&
                    (m[key] == null || !isNaN(m[key]))
                )
            ) {
                return false;
            }
        }

        for (i = 0; i < orderLen; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false; // only allow non-integers for smallest unit
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }

        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration(duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        this._isValid = isDurationValid(normalizedInput);

        // representation for dateAddRemove
        this._milliseconds =
            +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days + weeks * 7;
        // It is impossible to translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months + quarters * 3 + years * 12;

        this._data = {};

        this._locale = getLocale();

        this._bubble();
    }

    function isDuration(obj) {
        return obj instanceof Duration;
    }

    function absRound(number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if (
                (dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))
            ) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    // FORMATTING

    function offset(token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset(),
                sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return (
                sign +
                zeroFill(~~(offset / 60), 2) +
                separator +
                zeroFill(~~offset % 60, 2)
            );
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z', matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher),
            chunk,
            parts,
            minutes;

        if (matches === null) {
            return null;
        }

        chunk = matches[matches.length - 1] || [];
        parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        minutes = +(parts[1] * 60) + toInt(parts[2]);

        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff =
                (isMoment(input) || isDate(input)
                    ? input.valueOf()
                    : createLocal(input).valueOf()) - res.valueOf();
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset(m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset());
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset(input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0,
            localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(
                        this,
                        createDuration(input - offset, 'm'),
                        1,
                        false
                    );
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone(input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC(keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal(keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset() {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            } else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset(input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime() {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted() {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }

        var c = {},
            other;

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted =
                this.isValid() && compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal() {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset() {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc() {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    // ASP.NET json date format regex
    var aspNetRegex = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,
        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
        // and further modified to allow for strings containing both week and day
        isoRegex =
            /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration(input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms: input._milliseconds,
                d: input._days,
                M: input._months,
            };
        } else if (isNumber(input) || !isNaN(+input)) {
            duration = {};
            if (key) {
                duration[key] = +input;
            } else {
                duration.milliseconds = +input;
            }
        } else if ((match = aspNetRegex.exec(input))) {
            sign = match[1] === '-' ? -1 : 1;
            duration = {
                y: 0,
                d: toInt(match[DATE]) * sign,
                h: toInt(match[HOUR]) * sign,
                m: toInt(match[MINUTE]) * sign,
                s: toInt(match[SECOND]) * sign,
                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign, // the millisecond decimal point is included in the match
            };
        } else if ((match = isoRegex.exec(input))) {
            sign = match[1] === '-' ? -1 : 1;
            duration = {
                y: parseIso(match[2], sign),
                M: parseIso(match[3], sign),
                w: parseIso(match[4], sign),
                d: parseIso(match[5], sign),
                h: parseIso(match[6], sign),
                m: parseIso(match[7], sign),
                s: parseIso(match[8], sign),
            };
        } else if (duration == null) {
            // checks for null or undefined
            duration = {};
        } else if (
            typeof duration === 'object' &&
            ('from' in duration || 'to' in duration)
        ) {
            diffRes = momentsDifference(
                createLocal(duration.from),
                createLocal(duration.to)
            );

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        if (isDuration(input) && hasOwnProp(input, '_isValid')) {
            ret._isValid = input._isValid;
        }

        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso(inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {};

        res.months =
            other.month() - base.month() + (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +base.clone().add(res.months, 'M');

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return { milliseconds: 0, months: 0 };
        }

        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    // TODO: remove 'name' arg after deprecation is removed
    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(
                    name,
                    'moment().' +
                        name +
                        '(period, number) is deprecated. Please use moment().' +
                        name +
                        '(number, period). ' +
                        'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.'
                );
                tmp = val;
                val = period;
                period = tmp;
            }

            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract(mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        if (!mom.isValid()) {
            // No op
            return;
        }

        updateOffset = updateOffset == null ? true : updateOffset;

        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add = createAdder(1, 'add'),
        subtract = createAdder(-1, 'subtract');

    function isString(input) {
        return typeof input === 'string' || input instanceof String;
    }

    // type MomentInput = Moment | Date | string | number | (number | string)[] | MomentInputObject | void; // null | undefined
    function isMomentInput(input) {
        return (
            isMoment(input) ||
            isDate(input) ||
            isString(input) ||
            isNumber(input) ||
            isNumberOrStringArray(input) ||
            isMomentInputObject(input) ||
            input === null ||
            input === undefined
        );
    }

    function isMomentInputObject(input) {
        var objectTest = isObject(input) && !isObjectEmpty(input),
            propertyTest = false,
            properties = [
                'years',
                'year',
                'y',
                'months',
                'month',
                'M',
                'days',
                'day',
                'd',
                'dates',
                'date',
                'D',
                'hours',
                'hour',
                'h',
                'minutes',
                'minute',
                'm',
                'seconds',
                'second',
                's',
                'milliseconds',
                'millisecond',
                'ms',
            ],
            i,
            property,
            propertyLen = properties.length;

        for (i = 0; i < propertyLen; i += 1) {
            property = properties[i];
            propertyTest = propertyTest || hasOwnProp(input, property);
        }

        return objectTest && propertyTest;
    }

    function isNumberOrStringArray(input) {
        var arrayTest = isArray(input),
            dataTypeTest = false;
        if (arrayTest) {
            dataTypeTest =
                input.filter(function (item) {
                    return !isNumber(item) && isString(input);
                }).length === 0;
        }
        return arrayTest && dataTypeTest;
    }

    function isCalendarSpec(input) {
        var objectTest = isObject(input) && !isObjectEmpty(input),
            propertyTest = false,
            properties = [
                'sameDay',
                'nextDay',
                'lastDay',
                'nextWeek',
                'lastWeek',
                'sameElse',
            ],
            i,
            property;

        for (i = 0; i < properties.length; i += 1) {
            property = properties[i];
            propertyTest = propertyTest || hasOwnProp(input, property);
        }

        return objectTest && propertyTest;
    }

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6
            ? 'sameElse'
            : diff < -1
              ? 'lastWeek'
              : diff < 0
                ? 'lastDay'
                : diff < 1
                  ? 'sameDay'
                  : diff < 2
                    ? 'nextDay'
                    : diff < 7
                      ? 'nextWeek'
                      : 'sameElse';
    }

    function calendar$1(time, formats) {
        // Support for single parameter, formats only overload to the calendar function
        if (arguments.length === 1) {
            if (!arguments[0]) {
                time = undefined;
                formats = undefined;
            } else if (isMomentInput(arguments[0])) {
                time = arguments[0];
                formats = undefined;
            } else if (isCalendarSpec(arguments[0])) {
                formats = arguments[0];
                time = undefined;
            }
        }
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse',
            output =
                formats &&
                (isFunction(formats[format])
                    ? formats[format].call(this, now)
                    : formats[format]);

        return this.format(
            output || this.localeData().calendar(format, this, createLocal(now))
        );
    }

    function clone() {
        return new Moment(this);
    }

    function isAfter(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween(from, to, units, inclusivity) {
        var localFrom = isMoment(from) ? from : createLocal(from),
            localTo = isMoment(to) ? to : createLocal(to);
        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {
            return false;
        }
        inclusivity = inclusivity || '()';
        return (
            (inclusivity[0] === '('
                ? this.isAfter(localFrom, units)
                : !this.isBefore(localFrom, units)) &&
            (inclusivity[1] === ')'
                ? this.isBefore(localTo, units)
                : !this.isAfter(localTo, units))
        );
    }

    function isSame(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units) || 'millisecond';
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return (
                this.clone().startOf(units).valueOf() <= inputMs &&
                inputMs <= this.clone().endOf(units).valueOf()
            );
        }
    }

    function isSameOrAfter(input, units) {
        return this.isSame(input, units) || this.isAfter(input, units);
    }

    function isSameOrBefore(input, units) {
        return this.isSame(input, units) || this.isBefore(input, units);
    }

    function diff(input, units, asFloat) {
        var that, zoneDelta, output;

        if (!this.isValid()) {
            return NaN;
        }

        that = cloneWithOffset(input, this);

        if (!that.isValid()) {
            return NaN;
        }

        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

        units = normalizeUnits(units);

        switch (units) {
            case 'year':
                output = monthDiff(this, that) / 12;
                break;
            case 'month':
                output = monthDiff(this, that);
                break;
            case 'quarter':
                output = monthDiff(this, that) / 3;
                break;
            case 'second':
                output = (this - that) / 1e3;
                break; // 1000
            case 'minute':
                output = (this - that) / 6e4;
                break; // 1000 * 60
            case 'hour':
                output = (this - that) / 36e5;
                break; // 1000 * 60 * 60
            case 'day':
                output = (this - that - zoneDelta) / 864e5;
                break; // 1000 * 60 * 60 * 24, negate dst
            case 'week':
                output = (this - that - zoneDelta) / 6048e5;
                break; // 1000 * 60 * 60 * 24 * 7, negate dst
            default:
                output = this - that;
        }

        return asFloat ? output : absFloor(output);
    }

    function monthDiff(a, b) {
        if (a.date() < b.date()) {
            // end-of-month calculations work correct when the start month has more
            // days than the end month.
            return -monthDiff(b, a);
        }
        // difference in months
        var wholeMonthDiff = (b.year() - a.year()) * 12 + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2,
            adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        //check for negative zero, return zero if negative zero
        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString() {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true,
            m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(
                m,
                utc
                    ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]'
                    : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ'
            );
        }
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000)
                    .toISOString()
                    .replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(
            m,
            utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ'
        );
    }

    /**
     * Return a human readable representation of a moment that can
     * also be evaluated to get a new moment which is the same
     *
     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
     */
    function inspect() {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment',
            zone = '',
            prefix,
            year,
            datetime,
            suffix;
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        prefix = '[' + func + '("]';
        year = 0 <= this.year() && this.year() <= 9999 ? 'YYYY' : 'YYYYYY';
        datetime = '-MM-DD[T]HH:mm:ss.SSS';
        suffix = zone + '[")]';

        return this.format(prefix + year + datetime + suffix);
    }

    function format(inputString) {
        if (!inputString) {
            inputString = this.isUtc()
                ? hooks.defaultFormatUtc
                : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from(time, withoutSuffix) {
        if (
            this.isValid() &&
            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())
        ) {
            return createDuration({ to: this, from: time })
                .locale(this.locale())
                .humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow(withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to(time, withoutSuffix) {
        if (
            this.isValid() &&
            ((isMoment(time) && time.isValid()) || createLocal(time).isValid())
        ) {
            return createDuration({ from: this, to: time })
                .locale(this.locale())
                .humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow(withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function locale(key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData() {
        return this._locale;
    }

    var MS_PER_SECOND = 1000,
        MS_PER_MINUTE = 60 * MS_PER_SECOND,
        MS_PER_HOUR = 60 * MS_PER_MINUTE,
        MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;

    // actual modulo - handles negative numbers (for dates before 1970):
    function mod$1(dividend, divisor) {
        return ((dividend % divisor) + divisor) % divisor;
    }

    function localStartOfDate(y, m, d) {
        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return new Date(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return new Date(y, m, d).valueOf();
        }
    }

    function utcStartOfDate(y, m, d) {
        // Date.UTC remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0) {
            // preserve leap years using a full 400 year cycle, then reset
            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;
        } else {
            return Date.UTC(y, m, d);
        }
    }

    function startOf(units) {
        var time, startOfDate;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year(), 0, 1);
                break;
            case 'quarter':
                time = startOfDate(
                    this.year(),
                    this.month() - (this.month() % 3),
                    1
                );
                break;
            case 'month':
                time = startOfDate(this.year(), this.month(), 1);
                break;
            case 'week':
                time = startOfDate(
                    this.year(),
                    this.month(),
                    this.date() - this.weekday()
                );
                break;
            case 'isoWeek':
                time = startOfDate(
                    this.year(),
                    this.month(),
                    this.date() - (this.isoWeekday() - 1)
                );
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date());
                break;
            case 'hour':
                time = this._d.valueOf();
                time -= mod$1(
                    time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),
                    MS_PER_HOUR
                );
                break;
            case 'minute':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_MINUTE);
                break;
            case 'second':
                time = this._d.valueOf();
                time -= mod$1(time, MS_PER_SECOND);
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function endOf(units) {
        var time, startOfDate;
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond' || !this.isValid()) {
            return this;
        }

        startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;

        switch (units) {
            case 'year':
                time = startOfDate(this.year() + 1, 0, 1) - 1;
                break;
            case 'quarter':
                time =
                    startOfDate(
                        this.year(),
                        this.month() - (this.month() % 3) + 3,
                        1
                    ) - 1;
                break;
            case 'month':
                time = startOfDate(this.year(), this.month() + 1, 1) - 1;
                break;
            case 'week':
                time =
                    startOfDate(
                        this.year(),
                        this.month(),
                        this.date() - this.weekday() + 7
                    ) - 1;
                break;
            case 'isoWeek':
                time =
                    startOfDate(
                        this.year(),
                        this.month(),
                        this.date() - (this.isoWeekday() - 1) + 7
                    ) - 1;
                break;
            case 'day':
            case 'date':
                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;
                break;
            case 'hour':
                time = this._d.valueOf();
                time +=
                    MS_PER_HOUR -
                    mod$1(
                        time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE),
                        MS_PER_HOUR
                    ) -
                    1;
                break;
            case 'minute':
                time = this._d.valueOf();
                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;
                break;
            case 'second':
                time = this._d.valueOf();
                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;
                break;
        }

        this._d.setTime(time);
        hooks.updateOffset(this, true);
        return this;
    }

    function valueOf() {
        return this._d.valueOf() - (this._offset || 0) * 60000;
    }

    function unix() {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate() {
        return new Date(this.valueOf());
    }

    function toArray() {
        var m = this;
        return [
            m.year(),
            m.month(),
            m.date(),
            m.hour(),
            m.minute(),
            m.second(),
            m.millisecond(),
        ];
    }

    function toObject() {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds(),
        };
    }

    function toJSON() {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2() {
        return isValid(this);
    }

    function parsingFlags() {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt() {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict,
        };
    }

    addFormatToken('N', 0, 0, 'eraAbbr');
    addFormatToken('NN', 0, 0, 'eraAbbr');
    addFormatToken('NNN', 0, 0, 'eraAbbr');
    addFormatToken('NNNN', 0, 0, 'eraName');
    addFormatToken('NNNNN', 0, 0, 'eraNarrow');

    addFormatToken('y', ['y', 1], 'yo', 'eraYear');
    addFormatToken('y', ['yy', 2], 0, 'eraYear');
    addFormatToken('y', ['yyy', 3], 0, 'eraYear');
    addFormatToken('y', ['yyyy', 4], 0, 'eraYear');

    addRegexToken('N', matchEraAbbr);
    addRegexToken('NN', matchEraAbbr);
    addRegexToken('NNN', matchEraAbbr);
    addRegexToken('NNNN', matchEraName);
    addRegexToken('NNNNN', matchEraNarrow);

    addParseToken(
        ['N', 'NN', 'NNN', 'NNNN', 'NNNNN'],
        function (input, array, config, token) {
            var era = config._locale.erasParse(input, token, config._strict);
            if (era) {
                getParsingFlags(config).era = era;
            } else {
                getParsingFlags(config).invalidEra = input;
            }
        }
    );

    addRegexToken('y', matchUnsigned);
    addRegexToken('yy', matchUnsigned);
    addRegexToken('yyy', matchUnsigned);
    addRegexToken('yyyy', matchUnsigned);
    addRegexToken('yo', matchEraYearOrdinal);

    addParseToken(['y', 'yy', 'yyy', 'yyyy'], YEAR);
    addParseToken(['yo'], function (input, array, config, token) {
        var match;
        if (config._locale._eraYearOrdinalRegex) {
            match = input.match(config._locale._eraYearOrdinalRegex);
        }

        if (config._locale.eraYearOrdinalParse) {
            array[YEAR] = config._locale.eraYearOrdinalParse(input, match);
        } else {
            array[YEAR] = parseInt(input, 10);
        }
    });

    function localeEras(m, format) {
        var i,
            l,
            date,
            eras = this._eras || getLocale('en')._eras;
        for (i = 0, l = eras.length; i < l; ++i) {
            switch (typeof eras[i].since) {
                case 'string':
                    // truncate time
                    date = hooks(eras[i].since).startOf('day');
                    eras[i].since = date.valueOf();
                    break;
            }

            switch (typeof eras[i].until) {
                case 'undefined':
                    eras[i].until = +Infinity;
                    break;
                case 'string':
                    // truncate time
                    date = hooks(eras[i].until).startOf('day').valueOf();
                    eras[i].until = date.valueOf();
                    break;
            }
        }
        return eras;
    }

    function localeErasParse(eraName, format, strict) {
        var i,
            l,
            eras = this.eras(),
            name,
            abbr,
            narrow;
        eraName = eraName.toUpperCase();

        for (i = 0, l = eras.length; i < l; ++i) {
            name = eras[i].name.toUpperCase();
            abbr = eras[i].abbr.toUpperCase();
            narrow = eras[i].narrow.toUpperCase();

            if (strict) {
                switch (format) {
                    case 'N':
                    case 'NN':
                    case 'NNN':
                        if (abbr === eraName) {
                            return eras[i];
                        }
                        break;

                    case 'NNNN':
                        if (name === eraName) {
                            return eras[i];
                        }
                        break;

                    case 'NNNNN':
                        if (narrow === eraName) {
                            return eras[i];
                        }
                        break;
                }
            } else if ([name, abbr, narrow].indexOf(eraName) >= 0) {
                return eras[i];
            }
        }
    }

    function localeErasConvertYear(era, year) {
        var dir = era.since <= era.until ? +1 : -1;
        if (year === undefined) {
            return hooks(era.since).year();
        } else {
            return hooks(era.since).year() + (year - era.offset) * dir;
        }
    }

    function getEraName() {
        var i,
            l,
            val,
            eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
            // truncate time
            val = this.clone().startOf('day').valueOf();

            if (eras[i].since <= val && val <= eras[i].until) {
                return eras[i].name;
            }
            if (eras[i].until <= val && val <= eras[i].since) {
                return eras[i].name;
            }
        }

        return '';
    }

    function getEraNarrow() {
        var i,
            l,
            val,
            eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
            // truncate time
            val = this.clone().startOf('day').valueOf();

            if (eras[i].since <= val && val <= eras[i].until) {
                return eras[i].narrow;
            }
            if (eras[i].until <= val && val <= eras[i].since) {
                return eras[i].narrow;
            }
        }

        return '';
    }

    function getEraAbbr() {
        var i,
            l,
            val,
            eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
            // truncate time
            val = this.clone().startOf('day').valueOf();

            if (eras[i].since <= val && val <= eras[i].until) {
                return eras[i].abbr;
            }
            if (eras[i].until <= val && val <= eras[i].since) {
                return eras[i].abbr;
            }
        }

        return '';
    }

    function getEraYear() {
        var i,
            l,
            dir,
            val,
            eras = this.localeData().eras();
        for (i = 0, l = eras.length; i < l; ++i) {
            dir = eras[i].since <= eras[i].until ? +1 : -1;

            // truncate time
            val = this.clone().startOf('day').valueOf();

            if (
                (eras[i].since <= val && val <= eras[i].until) ||
                (eras[i].until <= val && val <= eras[i].since)
            ) {
                return (
                    (this.year() - hooks(eras[i].since).year()) * dir +
                    eras[i].offset
                );
            }
        }

        return this.year();
    }

    function erasNameRegex(isStrict) {
        if (!hasOwnProp(this, '_erasNameRegex')) {
            computeErasParse.call(this);
        }
        return isStrict ? this._erasNameRegex : this._erasRegex;
    }

    function erasAbbrRegex(isStrict) {
        if (!hasOwnProp(this, '_erasAbbrRegex')) {
            computeErasParse.call(this);
        }
        return isStrict ? this._erasAbbrRegex : this._erasRegex;
    }

    function erasNarrowRegex(isStrict) {
        if (!hasOwnProp(this, '_erasNarrowRegex')) {
            computeErasParse.call(this);
        }
        return isStrict ? this._erasNarrowRegex : this._erasRegex;
    }

    function matchEraAbbr(isStrict, locale) {
        return locale.erasAbbrRegex(isStrict);
    }

    function matchEraName(isStrict, locale) {
        return locale.erasNameRegex(isStrict);
    }

    function matchEraNarrow(isStrict, locale) {
        return locale.erasNarrowRegex(isStrict);
    }

    function matchEraYearOrdinal(isStrict, locale) {
        return locale._eraYearOrdinalRegex || matchUnsigned;
    }

    function computeErasParse() {
        var abbrPieces = [],
            namePieces = [],
            narrowPieces = [],
            mixedPieces = [],
            i,
            l,
            erasName,
            erasAbbr,
            erasNarrow,
            eras = this.eras();

        for (i = 0, l = eras.length; i < l; ++i) {
            erasName = regexEscape(eras[i].name);
            erasAbbr = regexEscape(eras[i].abbr);
            erasNarrow = regexEscape(eras[i].narrow);

            namePieces.push(erasName);
            abbrPieces.push(erasAbbr);
            narrowPieces.push(erasNarrow);
            mixedPieces.push(erasName);
            mixedPieces.push(erasAbbr);
            mixedPieces.push(erasNarrow);
        }

        this._erasRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._erasNameRegex = new RegExp('^(' + namePieces.join('|') + ')', 'i');
        this._erasAbbrRegex = new RegExp('^(' + abbrPieces.join('|') + ')', 'i');
        this._erasNarrowRegex = new RegExp(
            '^(' + narrowPieces.join('|') + ')',
            'i'
        );
    }

    // FORMATTING

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken(token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg', 'weekYear');
    addWeekYearFormatToken('ggggg', 'weekYear');
    addWeekYearFormatToken('GGGG', 'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    // PARSING

    addRegexToken('G', matchSigned);
    addRegexToken('g', matchSigned);
    addRegexToken('GG', match1to2, match2);
    addRegexToken('gg', match1to2, match2);
    addRegexToken('GGGG', match1to4, match4);
    addRegexToken('gggg', match1to4, match4);
    addRegexToken('GGGGG', match1to6, match6);
    addRegexToken('ggggg', match1to6, match6);

    addWeekParseToken(
        ['gggg', 'ggggg', 'GGGG', 'GGGGG'],
        function (input, week, config, token) {
            week[token.substr(0, 2)] = toInt(input);
        }
    );

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });

    // MOMENTS

    function getSetWeekYear(input) {
        return getSetWeekYearHelper.call(
            this,
            input,
            this.week(),
            this.weekday() + this.localeData()._week.dow,
            this.localeData()._week.dow,
            this.localeData()._week.doy
        );
    }

    function getSetISOWeekYear(input) {
        return getSetWeekYearHelper.call(
            this,
            input,
            this.isoWeek(),
            this.isoWeekday(),
            1,
            4
        );
    }

    function getISOWeeksInYear() {
        return weeksInYear(this.year(), 1, 4);
    }

    function getISOWeeksInISOWeekYear() {
        return weeksInYear(this.isoWeekYear(), 1, 4);
    }

    function getWeeksInYear() {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getWeeksInWeekYear() {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.weekYear(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }

    // FORMATTING

    addFormatToken('Q', 0, 'Qo', 'quarter');

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter(input) {
        return input == null
            ? Math.ceil((this.month() + 1) / 3)
            : this.month((input - 1) * 3 + (this.month() % 3));
    }

    // FORMATTING

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // PARSING

    addRegexToken('D', match1to2, match1to2NoLeadingZero);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        // TODO: Remove "ordinalParse" fallback in next major release.
        return isStrict
            ? locale._dayOfMonthOrdinalParse || locale._ordinalParse
            : locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    // FORMATTING

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // PARSING

    addRegexToken('DDD', match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    // MOMENTS

    function getSetDayOfYear(input) {
        var dayOfYear =
            Math.round(
                (this.clone().startOf('day') - this.clone().startOf('year')) / 864e5
            ) + 1;
        return input == null ? dayOfYear : this.add(input - dayOfYear, 'd');
    }

    // FORMATTING

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // PARSING

    addRegexToken('m', match1to2, match1to2HasZero);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    // FORMATTING

    addFormatToken('s', ['ss', 2], 0, 'second');

    // PARSING

    addRegexToken('s', match1to2, match1to2HasZero);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    // FORMATTING

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });

    // PARSING

    addRegexToken('S', match1to3, match1);
    addRegexToken('SS', match1to3, match2);
    addRegexToken('SSS', match1to3, match3);

    var token, getSetMillisecond;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }

    getSetMillisecond = makeGetSet('Milliseconds', false);

    // FORMATTING

    addFormatToken('z', 0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr() {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName() {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;

    proto.add = add;
    proto.calendar = calendar$1;
    proto.clone = clone;
    proto.diff = diff;
    proto.endOf = endOf;
    proto.format = format;
    proto.from = from;
    proto.fromNow = fromNow;
    proto.to = to;
    proto.toNow = toNow;
    proto.get = stringGet;
    proto.invalidAt = invalidAt;
    proto.isAfter = isAfter;
    proto.isBefore = isBefore;
    proto.isBetween = isBetween;
    proto.isSame = isSame;
    proto.isSameOrAfter = isSameOrAfter;
    proto.isSameOrBefore = isSameOrBefore;
    proto.isValid = isValid$2;
    proto.lang = lang;
    proto.locale = locale;
    proto.localeData = localeData;
    proto.max = prototypeMax;
    proto.min = prototypeMin;
    proto.parsingFlags = parsingFlags;
    proto.set = stringSet;
    proto.startOf = startOf;
    proto.subtract = subtract;
    proto.toArray = toArray;
    proto.toObject = toObject;
    proto.toDate = toDate;
    proto.toISOString = toISOString;
    proto.inspect = inspect;
    if (typeof Symbol !== 'undefined' && Symbol.for != null) {
        proto[Symbol.for('nodejs.util.inspect.custom')] = function () {
            return 'Moment<' + this.format() + '>';
        };
    }
    proto.toJSON = toJSON;
    proto.toString = toString;
    proto.unix = unix;
    proto.valueOf = valueOf;
    proto.creationData = creationData;
    proto.eraName = getEraName;
    proto.eraNarrow = getEraNarrow;
    proto.eraAbbr = getEraAbbr;
    proto.eraYear = getEraYear;
    proto.year = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week = proto.weeks = getSetWeek;
    proto.isoWeek = proto.isoWeeks = getSetISOWeek;
    proto.weeksInYear = getWeeksInYear;
    proto.weeksInWeekYear = getWeeksInWeekYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.isoWeeksInISOWeekYear = getISOWeeksInISOWeekYear;
    proto.date = getSetDayOfMonth;
    proto.day = proto.days = getSetDayOfWeek;
    proto.weekday = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset = getSetOffset;
    proto.utc = setOffsetToUTC;
    proto.local = setOffsetToLocal;
    proto.parseZone = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST = isDaylightSavingTime;
    proto.isLocal = isLocal;
    proto.isUtcOffset = isUtcOffset;
    proto.isUtc = isUtc;
    proto.isUTC = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates = deprecate(
        'dates accessor is deprecated. Use date instead.',
        getSetDayOfMonth
    );
    proto.months = deprecate(
        'months accessor is deprecated. Use month instead',
        getSetMonth
    );
    proto.years = deprecate(
        'years accessor is deprecated. Use year instead',
        getSetYear
    );
    proto.zone = deprecate(
        'moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/',
        getSetZone
    );
    proto.isDSTShifted = deprecate(
        'isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information',
        isDaylightSavingTimeShifted
    );

    function createUnix(input) {
        return createLocal(input * 1000);
    }

    function createInZone() {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat(string) {
        return string;
    }

    var proto$1 = Locale.prototype;

    proto$1.calendar = calendar;
    proto$1.longDateFormat = longDateFormat;
    proto$1.invalidDate = invalidDate;
    proto$1.ordinal = ordinal;
    proto$1.preparse = preParsePostFormat;
    proto$1.postformat = preParsePostFormat;
    proto$1.relativeTime = relativeTime;
    proto$1.pastFuture = pastFuture;
    proto$1.set = set;
    proto$1.eras = localeEras;
    proto$1.erasParse = localeErasParse;
    proto$1.erasConvertYear = localeErasConvertYear;
    proto$1.erasAbbrRegex = erasAbbrRegex;
    proto$1.erasNameRegex = erasNameRegex;
    proto$1.erasNarrowRegex = erasNarrowRegex;

    proto$1.months = localeMonths;
    proto$1.monthsShort = localeMonthsShort;
    proto$1.monthsParse = localeMonthsParse;
    proto$1.monthsRegex = monthsRegex;
    proto$1.monthsShortRegex = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;

    proto$1.weekdays = localeWeekdays;
    proto$1.weekdaysMin = localeWeekdaysMin;
    proto$1.weekdaysShort = localeWeekdaysShort;
    proto$1.weekdaysParse = localeWeekdaysParse;

    proto$1.weekdaysRegex = weekdaysRegex;
    proto$1.weekdaysShortRegex = weekdaysShortRegex;
    proto$1.weekdaysMinRegex = weekdaysMinRegex;

    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1(format, index, field, setter) {
        var locale = getLocale(),
            utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl(format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return get$1(format, index, field, 'month');
        }

        var i,
            out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function listWeekdaysImpl(localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;

            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        }

        var locale = getLocale(),
            shift = localeSorted ? locale._week.dow : 0,
            i,
            out = [];

        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }

        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths(format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort(format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays(localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort(localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin(localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        eras: [
            {
                since: '0001-01-01',
                until: +Infinity,
                offset: 1,
                name: 'Anno Domini',
                narrow: 'AD',
                abbr: 'AD',
            },
            {
                since: '0000-12-31',
                until: -Infinity,
                offset: 1,
                name: 'Before Christ',
                narrow: 'BC',
                abbr: 'BC',
            },
        ],
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function (number) {
            var b = number % 10,
                output =
                    toInt((number % 100) / 10) === 1
                        ? 'th'
                        : b === 1
                          ? 'st'
                          : b === 2
                            ? 'nd'
                            : b === 3
                              ? 'rd'
                              : 'th';
            return number + output;
        },
    });

    // Side effect imports

    hooks.lang = deprecate(
        'moment.lang is deprecated. Use moment.locale instead.',
        getSetGlobalLocale
    );
    hooks.langData = deprecate(
        'moment.langData is deprecated. Use moment.localeData instead.',
        getLocale
    );

    var mathAbs = Math.abs;

    function abs() {
        var data = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days = mathAbs(this._days);
        this._months = mathAbs(this._months);

        data.milliseconds = mathAbs(data.milliseconds);
        data.seconds = mathAbs(data.seconds);
        data.minutes = mathAbs(data.minutes);
        data.hours = mathAbs(data.hours);
        data.months = mathAbs(data.months);
        data.years = mathAbs(data.years);

        return this;
    }

    function addSubtract$1(duration, input, value, direction) {
        var other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days += direction * other._days;
        duration._months += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function add$1(input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function subtract$1(input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil(number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble() {
        var milliseconds = this._milliseconds,
            days = this._days,
            months = this._months,
            data = this._data,
            seconds,
            minutes,
            hours,
            years,
            monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (
            !(
                (milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0)
            )
        ) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds = absFloor(milliseconds / 1000);
        data.seconds = seconds % 60;

        minutes = absFloor(seconds / 60);
        data.minutes = minutes % 60;

        hours = absFloor(minutes / 60);
        data.hours = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days = days;
        data.months = months;
        data.years = years;

        return this;
    }

    function daysToMonths(days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return (days * 4800) / 146097;
    }

    function monthsToDays(months) {
        // the reverse of daysToMonths
        return (months * 146097) / 4800;
    }

    function as(units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days,
            months,
            milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'quarter' || units === 'year') {
            days = this._days + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            switch (units) {
                case 'month':
                    return months;
                case 'quarter':
                    return months / 3;
                case 'year':
                    return months / 12;
            }
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week':
                    return days / 7 + milliseconds / 6048e5;
                case 'day':
                    return days + milliseconds / 864e5;
                case 'hour':
                    return days * 24 + milliseconds / 36e5;
                case 'minute':
                    return days * 1440 + milliseconds / 6e4;
                case 'second':
                    return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond':
                    return Math.floor(days * 864e5) + milliseconds;
                default:
                    throw new Error('Unknown unit ' + units);
            }
        }
    }

    function makeAs(alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms'),
        asSeconds = makeAs('s'),
        asMinutes = makeAs('m'),
        asHours = makeAs('h'),
        asDays = makeAs('d'),
        asWeeks = makeAs('w'),
        asMonths = makeAs('M'),
        asQuarters = makeAs('Q'),
        asYears = makeAs('y'),
        valueOf$1 = asMilliseconds;

    function clone$1() {
        return createDuration(this);
    }

    function get$2(units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds'),
        seconds = makeGetter('seconds'),
        minutes = makeGetter('minutes'),
        hours = makeGetter('hours'),
        days = makeGetter('days'),
        months = makeGetter('months'),
        years = makeGetter('years');

    function weeks() {
        return absFloor(this.days() / 7);
    }

    var round = Math.round,
        thresholds = {
            ss: 44, // a few seconds to seconds
            s: 45, // seconds to minute
            m: 45, // minutes to hour
            h: 22, // hours to day
            d: 26, // days to month/week
            w: null, // weeks to month
            M: 11, // months to year
        };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1(posNegDuration, withoutSuffix, thresholds, locale) {
        var duration = createDuration(posNegDuration).abs(),
            seconds = round(duration.as('s')),
            minutes = round(duration.as('m')),
            hours = round(duration.as('h')),
            days = round(duration.as('d')),
            months = round(duration.as('M')),
            weeks = round(duration.as('w')),
            years = round(duration.as('y')),
            a =
                (seconds <= thresholds.ss && ['s', seconds]) ||
                (seconds < thresholds.s && ['ss', seconds]) ||
                (minutes <= 1 && ['m']) ||
                (minutes < thresholds.m && ['mm', minutes]) ||
                (hours <= 1 && ['h']) ||
                (hours < thresholds.h && ['hh', hours]) ||
                (days <= 1 && ['d']) ||
                (days < thresholds.d && ['dd', days]);

        if (thresholds.w != null) {
            a =
                a ||
                (weeks <= 1 && ['w']) ||
                (weeks < thresholds.w && ['ww', weeks]);
        }
        a = a ||
            (months <= 1 && ['M']) ||
            (months < thresholds.M && ['MM', months]) ||
            (years <= 1 && ['y']) || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set the rounding function for relative time strings
    function getSetRelativeTimeRounding(roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof roundingFunction === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    // This function allows you to set a threshold for relative time strings
    function getSetRelativeTimeThreshold(threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize(argWithSuffix, argThresholds) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var withSuffix = false,
            th = thresholds,
            locale,
            output;

        if (typeof argWithSuffix === 'object') {
            argThresholds = argWithSuffix;
            argWithSuffix = false;
        }
        if (typeof argWithSuffix === 'boolean') {
            withSuffix = argWithSuffix;
        }
        if (typeof argThresholds === 'object') {
            th = Object.assign({}, thresholds, argThresholds);
            if (argThresholds.s != null && argThresholds.ss == null) {
                th.ss = argThresholds.s - 1;
            }
        }

        locale = this.localeData();
        output = relativeTime$1(this, !withSuffix, th, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return (x > 0) - (x < 0) || +x;
    }

    function toISOString$1() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var seconds = abs$1(this._milliseconds) / 1000,
            days = abs$1(this._days),
            months = abs$1(this._months),
            minutes,
            hours,
            years,
            s,
            total = this.asSeconds(),
            totalSign,
            ymSign,
            daysSign,
            hmsSign;

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes = absFloor(seconds / 60);
        hours = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';

        totalSign = total < 0 ? '-' : '';
        ymSign = sign(this._months) !== sign(total) ? '-' : '';
        daysSign = sign(this._days) !== sign(total) ? '-' : '';
        hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

        return (
            totalSign +
            'P' +
            (years ? ymSign + years + 'Y' : '') +
            (months ? ymSign + months + 'M' : '') +
            (days ? daysSign + days + 'D' : '') +
            (hours || minutes || seconds ? 'T' : '') +
            (hours ? hmsSign + hours + 'H' : '') +
            (minutes ? hmsSign + minutes + 'M' : '') +
            (seconds ? hmsSign + s + 'S' : '')
        );
    }

    var proto$2 = Duration.prototype;

    proto$2.isValid = isValid$1;
    proto$2.abs = abs;
    proto$2.add = add$1;
    proto$2.subtract = subtract$1;
    proto$2.as = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds = asSeconds;
    proto$2.asMinutes = asMinutes;
    proto$2.asHours = asHours;
    proto$2.asDays = asDays;
    proto$2.asWeeks = asWeeks;
    proto$2.asMonths = asMonths;
    proto$2.asQuarters = asQuarters;
    proto$2.asYears = asYears;
    proto$2.valueOf = valueOf$1;
    proto$2._bubble = bubble;
    proto$2.clone = clone$1;
    proto$2.get = get$2;
    proto$2.milliseconds = milliseconds;
    proto$2.seconds = seconds;
    proto$2.minutes = minutes;
    proto$2.hours = hours;
    proto$2.days = days;
    proto$2.weeks = weeks;
    proto$2.months = months;
    proto$2.years = years;
    proto$2.humanize = humanize;
    proto$2.toISOString = toISOString$1;
    proto$2.toString = toISOString$1;
    proto$2.toJSON = toISOString$1;
    proto$2.locale = locale;
    proto$2.localeData = localeData;

    proto$2.toIsoString = deprecate(
        'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',
        toISOString$1
    );
    proto$2.lang = lang;

    // FORMATTING

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    //! moment.js

    hooks.version = '2.30.1';

    setHookCallback(createLocal);

    hooks.fn = proto;
    hooks.min = min;
    hooks.max = max;
    hooks.now = now;
    hooks.utc = createUTC;
    hooks.unix = createUnix;
    hooks.months = listMonths;
    hooks.isDate = isDate;
    hooks.locale = getSetGlobalLocale;
    hooks.invalid = createInvalid;
    hooks.duration = createDuration;
    hooks.isMoment = isMoment;
    hooks.weekdays = listWeekdays;
    hooks.parseZone = createInZone;
    hooks.localeData = getLocale;
    hooks.isDuration = isDuration;
    hooks.monthsShort = listMonthsShort;
    hooks.weekdaysMin = listWeekdaysMin;
    hooks.defineLocale = defineLocale;
    hooks.updateLocale = updateLocale;
    hooks.locales = listLocales;
    hooks.weekdaysShort = listWeekdaysShort;
    hooks.normalizeUnits = normalizeUnits;
    hooks.relativeTimeRounding = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat = getCalendarFormat;
    hooks.prototype = proto;

    // currently HTML5 input type only supports 24-hour formats
    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm', // <input type="datetime-local" />
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss', // <input type="datetime-local" step="1" />
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS', // <input type="datetime-local" step="0.001" />
        DATE: 'YYYY-MM-DD', // <input type="date" />
        TIME: 'HH:mm', // <input type="time" />
        TIME_SECONDS: 'HH:mm:ss', // <input type="time" step="1" />
        TIME_MS: 'HH:mm:ss.SSS', // <input type="time" step="0.001" />
        WEEK: 'GGGG-[W]WW', // <input type="week" />
        MONTH: 'YYYY-MM', // <input type="month" />
    };

    return hooks;
})));
/** @preserve
 * ==================================================================== 
 * moment-timezone.js
 * Copyright (c) Tim Wood, (c) JS Foundation and other contributors
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
(function (root, factory) {
	"use strict";

	/*global define*/
	if (typeof module === 'object' && module.exports) {
		module.exports = factory(require('moment')); // Node
	} else if (typeof define === 'function' && define.amd) {
		define(['moment'], factory);                 // AMD
	} else {
		factory(root.moment);                        // Browser
	}
}(this, function (moment) {
	"use strict";

	// Resolves es6 module loading issue
	if (moment.version === undefined && moment.default) {
		moment = moment.default;
	}

	// Do not load moment-timezone a second time.
	// if (moment.tz !== undefined) {
	// 	logError('Moment Timezone ' + moment.tz.version + ' was already loaded ' + (moment.tz.dataVersion ? 'with data from ' : 'without any data') + moment.tz.dataVersion);
	// 	return moment;
	// }

	var VERSION = "0.5.45",
		zones = {},
		links = {},
		countries = {},
		names = {},
		guesses = {},
		cachedGuess;

	if (!moment || typeof moment.version !== 'string') {
		logError('Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/');
	}

	var momentVersion = moment.version.split('.'),
		major = +momentVersion[0],
		minor = +momentVersion[1];

	// Moment.js version check
	if (major < 2 || (major === 2 && minor < 6)) {
		logError('Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js ' + moment.version + '. See momentjs.com');
	}

	/************************************
		Unpacking
	************************************/

	function charCodeToInt(charCode) {
		if (charCode > 96) {
			return charCode - 87;
		} else if (charCode > 64) {
			return charCode - 29;
		}
		return charCode - 48;
	}

	function unpackBase60(string) {
		var i = 0,
			parts = string.split('.'),
			whole = parts[0],
			fractional = parts[1] || '',
			multiplier = 1,
			num,
			out = 0,
			sign = 1;

		// handle negative numbers
		if (string.charCodeAt(0) === 45) {
			i = 1;
			sign = -1;
		}

		// handle digits before the decimal
		for (i; i < whole.length; i++) {
			num = charCodeToInt(whole.charCodeAt(i));
			out = 60 * out + num;
		}

		// handle digits after the decimal
		for (i = 0; i < fractional.length; i++) {
			multiplier = multiplier / 60;
			num = charCodeToInt(fractional.charCodeAt(i));
			out += num * multiplier;
		}

		return out * sign;
	}

	function arrayToInt (array) {
		for (var i = 0; i < array.length; i++) {
			array[i] = unpackBase60(array[i]);
		}
	}

	function intToUntil (array, length) {
		for (var i = 0; i < length; i++) {
			array[i] = Math.round((array[i - 1] || 0) + (array[i] * 60000)); // minutes to milliseconds
		}

		array[length - 1] = Infinity;
	}

	function mapIndices (source, indices) {
		var out = [], i;

		for (i = 0; i < indices.length; i++) {
			out[i] = source[indices[i]];
		}

		return out;
	}

	function unpack (string) {
		var data = string.split('|'),
			offsets = data[2].split(' '),
			indices = data[3].split(''),
			untils  = data[4].split(' ');

		arrayToInt(offsets);
		arrayToInt(indices);
		arrayToInt(untils);

		intToUntil(untils, indices.length);

		return {
			name       : data[0],
			abbrs      : mapIndices(data[1].split(' '), indices),
			offsets    : mapIndices(offsets, indices),
			untils     : untils,
			population : data[5] | 0
		};
	}

	/************************************
		Zone object
	************************************/

	function Zone (packedString) {
		if (packedString) {
			this._set(unpack(packedString));
		}
	}

	function closest (num, arr) {
		var len = arr.length;
		if (num < arr[0]) {
			return 0;
		} else if (len > 1 && arr[len - 1] === Infinity && num >= arr[len - 2]) {
			return len - 1;
		} else if (num >= arr[len - 1]) {
			return -1;
		}

		var mid;
		var lo = 0;
		var hi = len - 1;
		while (hi - lo > 1) {
			mid = Math.floor((lo + hi) / 2);
			if (arr[mid] <= num) {
				lo = mid;
			} else {
				hi = mid;
			}
		}
		return hi;
	}

	Zone.prototype = {
		_set : function (unpacked) {
			this.name       = unpacked.name;
			this.abbrs      = unpacked.abbrs;
			this.untils     = unpacked.untils;
			this.offsets    = unpacked.offsets;
			this.population = unpacked.population;
		},

		_index : function (timestamp) {
			var target = +timestamp,
				untils = this.untils,
				i;

			i = closest(target, untils);
			if (i >= 0) {
				return i;
			}
		},

		countries : function () {
			var zone_name = this.name;
			return Object.keys(countries).filter(function (country_code) {
				return countries[country_code].zones.indexOf(zone_name) !== -1;
			});
		},

		parse : function (timestamp) {
			var target  = +timestamp,
				offsets = this.offsets,
				untils  = this.untils,
				max     = untils.length - 1,
				offset, offsetNext, offsetPrev, i;

			for (i = 0; i < max; i++) {
				offset     = offsets[i];
				offsetNext = offsets[i + 1];
				offsetPrev = offsets[i ? i - 1 : i];

				if (offset < offsetNext && tz.moveAmbiguousForward) {
					offset = offsetNext;
				} else if (offset > offsetPrev && tz.moveInvalidForward) {
					offset = offsetPrev;
				}

				if (target < untils[i] - (offset * 60000)) {
					return offsets[i];
				}
			}

			return offsets[max];
		},

		abbr : function (mom) {
			return this.abbrs[this._index(mom)];
		},

		offset : function (mom) {
			logError("zone.offset has been deprecated in favor of zone.utcOffset");
			return this.offsets[this._index(mom)];
		},

		utcOffset : function (mom) {
			return this.offsets[this._index(mom)];
		}
	};

	/************************************
		Country object
	************************************/

	function Country (country_name, zone_names) {
		this.name = country_name;
		this.zones = zone_names;
	}

	/************************************
		Current Timezone
	************************************/

	function OffsetAt(at) {
		var timeString = at.toTimeString();
		var abbr = timeString.match(/\([a-z ]+\)/i);
		if (abbr && abbr[0]) {
			// 17:56:31 GMT-0600 (CST)
			// 17:56:31 GMT-0600 (Central Standard Time)
			abbr = abbr[0].match(/[A-Z]/g);
			abbr = abbr ? abbr.join('') : undefined;
		} else {
			// 17:56:31 CST
			// 17:56:31 GMT+0800 (å°åŒ—æ¨™æº–æ™‚é–“)
			abbr = timeString.match(/[A-Z]{3,5}/g);
			abbr = abbr ? abbr[0] : undefined;
		}

		if (abbr === 'GMT') {
			abbr = undefined;
		}

		this.at = +at;
		this.abbr = abbr;
		this.offset = at.getTimezoneOffset();
	}

	function ZoneScore(zone) {
		this.zone = zone;
		this.offsetScore = 0;
		this.abbrScore = 0;
	}

	ZoneScore.prototype.scoreOffsetAt = function (offsetAt) {
		this.offsetScore += Math.abs(this.zone.utcOffset(offsetAt.at) - offsetAt.offset);
		if (this.zone.abbr(offsetAt.at).replace(/[^A-Z]/g, '') !== offsetAt.abbr) {
			this.abbrScore++;
		}
	};

	function findChange(low, high) {
		var mid, diff;

		while ((diff = ((high.at - low.at) / 12e4 | 0) * 6e4)) {
			mid = new OffsetAt(new Date(low.at + diff));
			if (mid.offset === low.offset) {
				low = mid;
			} else {
				high = mid;
			}
		}

		return low;
	}

	function userOffsets() {
		var startYear = new Date().getFullYear() - 2,
			last = new OffsetAt(new Date(startYear, 0, 1)),
			lastOffset = last.offset,
			offsets = [last],
			change, next, nextOffset, i;

		for (i = 1; i < 48; i++) {
			nextOffset = new Date(startYear, i, 1).getTimezoneOffset();
			if (nextOffset !== lastOffset) {
				// Create OffsetAt here to avoid unnecessary abbr parsing before checking offsets
				next = new OffsetAt(new Date(startYear, i, 1));
				change = findChange(last, next);
				offsets.push(change);
				offsets.push(new OffsetAt(new Date(change.at + 6e4)));
				last = next;
				lastOffset = nextOffset;
			}
		}

		for (i = 0; i < 4; i++) {
			offsets.push(new OffsetAt(new Date(startYear + i, 0, 1)));
			offsets.push(new OffsetAt(new Date(startYear + i, 6, 1)));
		}

		return offsets;
	}

	function sortZoneScores (a, b) {
		if (a.offsetScore !== b.offsetScore) {
			return a.offsetScore - b.offsetScore;
		}
		if (a.abbrScore !== b.abbrScore) {
			return a.abbrScore - b.abbrScore;
		}
		if (a.zone.population !== b.zone.population) {
			return b.zone.population - a.zone.population;
		}
		return b.zone.name.localeCompare(a.zone.name);
	}

	function addToGuesses (name, offsets) {
		var i, offset;
		arrayToInt(offsets);
		for (i = 0; i < offsets.length; i++) {
			offset = offsets[i];
			guesses[offset] = guesses[offset] || {};
			guesses[offset][name] = true;
		}
	}

	function guessesForUserOffsets (offsets) {
		var offsetsLength = offsets.length,
			filteredGuesses = {},
			out = [],
			checkedOffsets = {},
			i, j, offset, guessesOffset;

		for (i = 0; i < offsetsLength; i++) {
			offset = offsets[i].offset;
			if (checkedOffsets.hasOwnProperty(offset)) {
				continue;
			}
			guessesOffset = guesses[offset] || {};
			for (j in guessesOffset) {
				if (guessesOffset.hasOwnProperty(j)) {
					filteredGuesses[j] = true;
				}
			}
			checkedOffsets[offset] = true;
		}

		for (i in filteredGuesses) {
			if (filteredGuesses.hasOwnProperty(i)) {
				out.push(names[i]);
			}
		}

		return out;
	}

	function rebuildGuess () {

		// use Intl API when available and returning valid time zone
		try {
			var intlName = Intl.DateTimeFormat().resolvedOptions().timeZone;
			if (intlName && intlName.length > 3) {
				var name = names[normalizeName(intlName)];
				if (name) {
					return name;
				}
				logError("Moment Timezone found " + intlName + " from the Intl api, but did not have that data loaded.");
			}
		} catch (e) {
			// Intl unavailable, fall back to manual guessing.
		}

		var offsets = userOffsets(),
			offsetsLength = offsets.length,
			guesses = guessesForUserOffsets(offsets),
			zoneScores = [],
			zoneScore, i, j;

		for (i = 0; i < guesses.length; i++) {
			zoneScore = new ZoneScore(getZone(guesses[i]), offsetsLength);
			for (j = 0; j < offsetsLength; j++) {
				zoneScore.scoreOffsetAt(offsets[j]);
			}
			zoneScores.push(zoneScore);
		}

		zoneScores.sort(sortZoneScores);

		return zoneScores.length > 0 ? zoneScores[0].zone.name : undefined;
	}

	function guess (ignoreCache) {
		if (!cachedGuess || ignoreCache) {
			cachedGuess = rebuildGuess();
		}
		return cachedGuess;
	}

	/************************************
		Global Methods
	************************************/

	function normalizeName (name) {
		return (name || '').toLowerCase().replace(/\//g, '_');
	}

	function addZone (packed) {
		var i, name, split, normalized;

		if (typeof packed === "string") {
			packed = [packed];
		}

		for (i = 0; i < packed.length; i++) {
			split = packed[i].split('|');
			name = split[0];
			normalized = normalizeName(name);
			zones[normalized] = packed[i];
			names[normalized] = name;
			addToGuesses(normalized, split[2].split(' '));
		}
	}

	function getZone (name, caller) {

		name = normalizeName(name);

		var zone = zones[name];
		var link;

		if (zone instanceof Zone) {
			return zone;
		}

		if (typeof zone === 'string') {
			zone = new Zone(zone);
			zones[name] = zone;
			return zone;
		}

		// Pass getZone to prevent recursion more than 1 level deep
		if (links[name] && caller !== getZone && (link = getZone(links[name], getZone))) {
			zone = zones[name] = new Zone();
			zone._set(link);
			zone.name = names[name];
			return zone;
		}

		return null;
	}

	function getNames () {
		var i, out = [];

		for (i in names) {
			if (names.hasOwnProperty(i) && (zones[i] || zones[links[i]]) && names[i]) {
				out.push(names[i]);
			}
		}

		return out.sort();
	}

	function getCountryNames () {
		return Object.keys(countries);
	}

	function addLink (aliases) {
		var i, alias, normal0, normal1;

		if (typeof aliases === "string") {
			aliases = [aliases];
		}

		for (i = 0; i < aliases.length; i++) {
			alias = aliases[i].split('|');

			normal0 = normalizeName(alias[0]);
			normal1 = normalizeName(alias[1]);

			links[normal0] = normal1;
			names[normal0] = alias[0];

			links[normal1] = normal0;
			names[normal1] = alias[1];
		}
	}

	function addCountries (data) {
		var i, country_code, country_zones, split;
		if (!data || !data.length) return;
		for (i = 0; i < data.length; i++) {
			split = data[i].split('|');
			country_code = split[0].toUpperCase();
			country_zones = split[1].split(' ');
			countries[country_code] = new Country(
				country_code,
				country_zones
			);
		}
	}

	function getCountry (name) {
		name = name.toUpperCase();
		return countries[name] || null;
	}

	function zonesForCountry(country, with_offset) {
		country = getCountry(country);

		if (!country) return null;

		var zones = country.zones.sort();

		if (with_offset) {
			return zones.map(function (zone_name) {
				var zone = getZone(zone_name);
				return {
					name: zone_name,
					offset: zone.utcOffset(new Date())
				};
			});
		}

		return zones;
	}

	function loadData (data) {
		addZone(data.zones);
		addLink(data.links);
		addCountries(data.countries);
		tz.dataVersion = data.version;
	}

	function zoneExists (name) {
		if (!zoneExists.didShowError) {
			zoneExists.didShowError = true;
				logError("moment.tz.zoneExists('" + name + "') has been deprecated in favor of !moment.tz.zone('" + name + "')");
		}
		return !!getZone(name);
	}

	function needsOffset (m) {
		var isUnixTimestamp = (m._f === 'X' || m._f === 'x');
		return !!(m._a && (m._tzm === undefined) && !isUnixTimestamp);
	}

	function logError (message) {
		if (typeof console !== 'undefined' && typeof console.error === 'function') {
			console.error(message);
		}
	}

	/************************************
		moment.tz namespace
	************************************/

	function tz (input) {
		var args = Array.prototype.slice.call(arguments, 0, -1),
			name = arguments[arguments.length - 1],
			out  = moment.utc.apply(null, args),
			zone;

		if (!moment.isMoment(input) && needsOffset(out) && (zone = getZone(name))) {
			out.add(zone.parse(out), 'minutes');
		}

		out.tz(name);

		return out;
	}

	tz.version      = VERSION;
	tz.dataVersion  = '';
	tz._zones       = zones;
	tz._links       = links;
	tz._names       = names;
	tz._countries	= countries;
	tz.add          = addZone;
	tz.link         = addLink;
	tz.load         = loadData;
	tz.zone         = getZone;
	tz.zoneExists   = zoneExists; // deprecated in 0.1.0
	tz.guess        = guess;
	tz.names        = getNames;
	tz.Zone         = Zone;
	tz.unpack       = unpack;
	tz.unpackBase60 = unpackBase60;
	tz.needsOffset  = needsOffset;
	tz.moveInvalidForward   = true;
	tz.moveAmbiguousForward = false;
	tz.countries    = getCountryNames;
	tz.zonesForCountry = zonesForCountry;

	/************************************
		Interface with Moment.js
	************************************/

	var fn = moment.fn;

	moment.tz = tz;

	moment.defaultZone = null;

	moment.updateOffset = function (mom, keepTime) {
		var zone = moment.defaultZone,
			offset;

		if (mom._z === undefined) {
			if (zone && needsOffset(mom) && !mom._isUTC && mom.isValid()) {
				mom._d = moment.utc(mom._a)._d;
				mom.utc().add(zone.parse(mom), 'minutes');
			}
			mom._z = zone;
		}
		if (mom._z) {
			offset = mom._z.utcOffset(mom);
			if (Math.abs(offset) < 16) {
				offset = offset / 60;
			}
			if (mom.utcOffset !== undefined) {
				var z = mom._z;
				mom.utcOffset(-offset, keepTime);
				mom._z = z;
			} else {
				mom.zone(offset, keepTime);
			}
		}
	};

	fn.tz = function (name, keepTime) {
		if (name) {
			if (typeof name !== 'string') {
				throw new Error('Time zone name must be a string, got ' + name + ' [' + typeof name + ']');
			}
			this._z = getZone(name);
			if (this._z) {
				moment.updateOffset(this, keepTime);
			} else {
				logError("Moment Timezone has no data for " + name + ". See http://momentjs.com/timezone/docs/#/data-loading/.");
			}
			return this;
		}
		if (this._z) { return this._z.name; }
	};

	function abbrWrap (old) {
		return function () {
			if (this._z) { return this._z.abbr(this); }
			return old.call(this);
		};
	}

	function resetZoneWrap (old) {
		return function () {
			this._z = null;
			return old.apply(this, arguments);
		};
	}

	function resetZoneWrap2 (old) {
		return function () {
			if (arguments.length > 0) this._z = null;
			return old.apply(this, arguments);
		};
	}

	fn.zoneName  = abbrWrap(fn.zoneName);
	fn.zoneAbbr  = abbrWrap(fn.zoneAbbr);
	fn.utc       = resetZoneWrap(fn.utc);
	fn.local     = resetZoneWrap(fn.local);
	fn.utcOffset = resetZoneWrap2(fn.utcOffset);

	moment.tz.setDefault = function(name) {
		if (major < 2 || (major === 2 && minor < 9)) {
			logError('Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js ' + moment.version + '.');
		}
		moment.defaultZone = name ? getZone(name) : null;
		return moment;
	};

	// Cloning a moment should include the _z property.
	var momentProperties = moment.momentProperties;
	if (Object.prototype.toString.call(momentProperties) === '[object Array]') {
		// moment 2.8.1+
		momentProperties.push('_z');
		momentProperties.push('_a');
	} else if (momentProperties) {
		// moment 2.7.0
		momentProperties._z = null;
	}

	loadData({
		"version": "2024a",
		"zones": [
			"Africa/Abidjan|GMT|0|0||48e5",
			"Africa/Nairobi|EAT|-30|0||47e5",
			"Africa/Algiers|CET|-10|0||26e5",
			"Africa/Lagos|WAT|-10|0||17e6",
			"Africa/Khartoum|CAT|-20|0||51e5",
			"Africa/Cairo|EET EEST|-20 -30|010101010101010|29NW0 1cL0 1cN0 1fz0 1a10 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0|15e6",
			"Africa/Casablanca|+01 +00|-10 0|010101010101010101010101|208q0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600|32e5",
			"Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|11e6",
			"Africa/Johannesburg|SAST|-20|0||84e5",
			"Africa/Juba|EAT CAT|-30 -20|01|24nx0|",
			"Africa/Sao_Tome|WAT GMT|-10 0|01|1XiN0|",
			"Africa/Tripoli|EET|-20|0||11e5",
			"America/Adak|HST HDT|a0 90|01010101010101010101010|1XKc0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|326",
			"America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1XKb0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|30e4",
			"America/Santo_Domingo|AST|40|0||29e5",
			"America/Fortaleza|-03|30|0||34e5",
			"America/Asuncion|-03 -04|30 40|01010101010101010101010|1XPD0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0|28e5",
			"America/Panama|EST|50|0||15e5",
			"America/Mexico_City|CST CDT|60 50|010101010|1XVk0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|20e6",
			"America/Managua|CST|60|0||22e5",
			"America/Caracas|-04|40|0||29e5",
			"America/Lima|-05|50|0||11e6",
			"America/Denver|MST MDT|70 60|01010101010101010101010|1XK90 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|26e5",
			"America/Campo_Grande|-03 -04|30 40|01|1XBD0|77e4",
			"America/Chicago|CST CDT|60 50|01010101010101010101010|1XK80 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|92e5",
			"America/Chihuahua|MST MDT CST|70 60 60|010101012|1XVl0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|81e4",
			"America/Ciudad_Juarez|MST MDT CST|70 60 60|010101012010101010101010|1XK90 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1wn0 cm0 EP0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|",
			"America/Phoenix|MST|70|0||42e5",
			"America/Whitehorse|PST PDT MST|80 70 70|01012|1XKa0 1zb0 Op0 1z90|23e3",
			"America/New_York|EST EDT|50 40|01010101010101010101010|1XK70 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|21e6",
			"America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1XKa0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|15e6",
			"America/Halifax|AST ADT|40 30|01010101010101010101010|1XK60 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|39e4",
			"America/Godthab|-03 -02 -01|30 20 10|0101010101212121212121|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 2so0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|17e3",
			"America/Havana|CST CDT|50 40|01010101010101010101010|1XK50 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5",
			"America/Mazatlan|MST MDT|70 60|010101010|1XVl0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|44e4",
			"America/Metlakatla|PST AKST AKDT|80 90 80|012121212121212121212121|1Xqy0 jB0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|14e2",
			"America/Miquelon|-03 -02|30 20|01010101010101010101010|1XK50 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|61e2",
			"America/Noronha|-02|20|0||30e2",
			"America/Ojinaga|MST MDT CST CDT|70 60 60 50|01010101232323232323232|1XK90 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1wn0 Rc0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|23e3",
			"America/Santiago|-03 -04|30 40|01010101010101010101010|1XVf0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|62e5",
			"America/Sao_Paulo|-02 -03|20 30|01|1XBC0|20e6",
			"America/Scoresbysund|-01 +00 -02|10 0 20|0101010101020202020202|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 2pA0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|452",
			"America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1XK5u 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0|11e4",
			"Antarctica/Casey|+11 +08|-b0 -80|0101010101|1XME0 1kr0 12l0 1o01 14kX 1lf1 14kX 1lf1 13bX|10",
			"Asia/Bangkok|+07|-70|0||15e6",
			"Asia/Vladivostok|+10|-a0|0||60e4",
			"Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1XV40 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0|40e5",
			"Asia/Tashkent|+05|-50|0||23e5",
			"Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1XV20 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0|14e5",
			"Europe/Istanbul|+03|-30|0||13e6",
			"Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|40",
			"Antarctica/Vostok|+07 +05|-70 -50|01|2bnv0|25",
			"Asia/Almaty|+06 +05|-60 -50|01|2bR60|15e5",
			"Asia/Amman|EET EEST +03|-20 -30 -30|010101012|1XRy0 1o00 11A0 1qM0 WM0 1qM0 LA0 1C00|25e5",
			"Asia/Kamchatka|+12|-c0|0||18e4",
			"Asia/Dubai|+04|-40|0||39e5",
			"Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1XSm0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|22e5",
			"Asia/Dhaka|+06|-60|0||16e6",
			"Asia/Kuala_Lumpur|+08|-80|0||71e5",
			"Asia/Kolkata|IST|-5u|0||15e6",
			"Asia/Chita|+09|-90|0||33e4",
			"Asia/Shanghai|CST|-80|0||23e6",
			"Asia/Colombo|+0530|-5u|0||22e5",
			"Asia/Damascus|EET EEST +03|-20 -30 -30|010101012|1XRy0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|26e5",
			"Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|35e5",
			"Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1XRy0 1on0 11B0 1o00 11A0 1qo0 XA0 1qp0 1cN0 1cL0 1a10 1fz0 17d0 1in0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|18e5",
			"Asia/Hong_Kong|HKT|-80|0||73e5",
			"Asia/Jakarta|WIB|-70|0||31e6",
			"Asia/Jayapura|WIT|-90|0||26e4",
			"Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1XRA0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0|81e4",
			"Asia/Kabul|+0430|-4u|0||46e5",
			"Asia/Karachi|PKT|-50|0||24e6",
			"Asia/Kathmandu|+0545|-5J|0||12e5",
			"Asia/Sakhalin|+11|-b0|0||58e4",
			"Asia/Makassar|WITA|-80|0||15e5",
			"Asia/Manila|PST|-80|0||24e6",
			"Asia/Seoul|KST|-90|0||23e6",
			"Asia/Rangoon|+0630|-6u|0||48e5",
			"Asia/Tehran|+0330 +0430|-3u -4u|010101010|1XOIu 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6",
			"Asia/Tokyo|JST|-90|0||38e6",
			"Atlantic/Azores|-01 +00|10 0|01010101010101010101010|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|25e4",
			"Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|27e5",
			"Atlantic/Cape_Verde|-01|10|0||50e4",
			"Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1XV4u 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0|11e5",
			"Australia/Brisbane|AEST|-a0|0||20e5",
			"Australia/Darwin|ACST|-9u|0||12e4",
			"Australia/Eucla|+0845|-8J|0||368",
			"Australia/Lord_Howe|+11 +1030|-b0 -au|01010101010101010101010|1XV30 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu|347",
			"Australia/Perth|AWST|-80|0||18e5",
			"Pacific/Easter|-05 -06|50 60|01010101010101010101010|1XVf0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|30e2",
			"Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|12e5",
			"Etc/GMT-1|+01|-10|0||",
			"Pacific/Tongatapu|+13|-d0|0||75e3",
			"Pacific/Kiritimati|+14|-e0|0||51e2",
			"Etc/GMT-2|+02|-20|0||",
			"Pacific/Tahiti|-10|a0|0||18e4",
			"Pacific/Niue|-11|b0|0||12e2",
			"Etc/GMT+12|-12|c0|0||",
			"Pacific/Galapagos|-06|60|0||25e3",
			"Etc/GMT+7|-07|70|0||",
			"Pacific/Pitcairn|-08|80|0||56",
			"Pacific/Gambier|-09|90|0||125",
			"Etc/UTC|UTC|0|0||",
			"Europe/London|GMT BST|0 -10|01010101010101010101010|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|10e6",
			"Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1XSo0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|67e4",
			"Europe/Moscow|MSK|-30|0||16e6",
			"Europe/Volgograd|+04 MSK|-40 -30|01|249a0|10e5",
			"Pacific/Honolulu|HST|a0|0||37e4",
			"MET|MET MEST|-10 -20|01010101010101010101010|1XSp0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0|",
			"Pacific/Chatham|+1345 +1245|-dJ -cJ|01010101010101010101010|1XV20 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0|600",
			"Pacific/Apia|+14 +13|-e0 -d0|010101|1XV20 1a00 1fA0 1a00 1fA0|37e3",
			"Pacific/Fiji|+13 +12|-d0 -c0|010101|1Xnq0 20o0 pc0 2hc0 bc0|88e4",
			"Pacific/Guam|ChST|-a0|0||17e4",
			"Pacific/Marquesas|-0930|9u|0||86e2",
			"Pacific/Pago_Pago|SST|b0|0||37e2",
			"Pacific/Norfolk|+11 +12|-b0 -c0|0101010101010101010101|219P0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0|25e4"
		],
		"links": [
			"Africa/Abidjan|Africa/Accra",
			"Africa/Abidjan|Africa/Bamako",
			"Africa/Abidjan|Africa/Banjul",
			"Africa/Abidjan|Africa/Bissau",
			"Africa/Abidjan|Africa/Conakry",
			"Africa/Abidjan|Africa/Dakar",
			"Africa/Abidjan|Africa/Freetown",
			"Africa/Abidjan|Africa/Lome",
			"Africa/Abidjan|Africa/Monrovia",
			"Africa/Abidjan|Africa/Nouakchott",
			"Africa/Abidjan|Africa/Ouagadougou",
			"Africa/Abidjan|Africa/Timbuktu",
			"Africa/Abidjan|America/Danmarkshavn",
			"Africa/Abidjan|Atlantic/Reykjavik",
			"Africa/Abidjan|Atlantic/St_Helena",
			"Africa/Abidjan|Etc/GMT",
			"Africa/Abidjan|Etc/GMT+0",
			"Africa/Abidjan|Etc/GMT-0",
			"Africa/Abidjan|Etc/GMT0",
			"Africa/Abidjan|Etc/Greenwich",
			"Africa/Abidjan|GMT",
			"Africa/Abidjan|GMT+0",
			"Africa/Abidjan|GMT-0",
			"Africa/Abidjan|GMT0",
			"Africa/Abidjan|Greenwich",
			"Africa/Abidjan|Iceland",
			"Africa/Algiers|Africa/Tunis",
			"Africa/Cairo|Egypt",
			"Africa/Casablanca|Africa/El_Aaiun",
			"Africa/Johannesburg|Africa/Maseru",
			"Africa/Johannesburg|Africa/Mbabane",
			"Africa/Khartoum|Africa/Blantyre",
			"Africa/Khartoum|Africa/Bujumbura",
			"Africa/Khartoum|Africa/Gaborone",
			"Africa/Khartoum|Africa/Harare",
			"Africa/Khartoum|Africa/Kigali",
			"Africa/Khartoum|Africa/Lubumbashi",
			"Africa/Khartoum|Africa/Lusaka",
			"Africa/Khartoum|Africa/Maputo",
			"Africa/Khartoum|Africa/Windhoek",
			"Africa/Lagos|Africa/Bangui",
			"Africa/Lagos|Africa/Brazzaville",
			"Africa/Lagos|Africa/Douala",
			"Africa/Lagos|Africa/Kinshasa",
			"Africa/Lagos|Africa/Libreville",
			"Africa/Lagos|Africa/Luanda",
			"Africa/Lagos|Africa/Malabo",
			"Africa/Lagos|Africa/Ndjamena",
			"Africa/Lagos|Africa/Niamey",
			"Africa/Lagos|Africa/Porto-Novo",
			"Africa/Nairobi|Africa/Addis_Ababa",
			"Africa/Nairobi|Africa/Asmara",
			"Africa/Nairobi|Africa/Asmera",
			"Africa/Nairobi|Africa/Dar_es_Salaam",
			"Africa/Nairobi|Africa/Djibouti",
			"Africa/Nairobi|Africa/Kampala",
			"Africa/Nairobi|Africa/Mogadishu",
			"Africa/Nairobi|Indian/Antananarivo",
			"Africa/Nairobi|Indian/Comoro",
			"Africa/Nairobi|Indian/Mayotte",
			"Africa/Tripoli|Europe/Kaliningrad",
			"Africa/Tripoli|Libya",
			"America/Adak|America/Atka",
			"America/Adak|US/Aleutian",
			"America/Anchorage|America/Juneau",
			"America/Anchorage|America/Nome",
			"America/Anchorage|America/Sitka",
			"America/Anchorage|America/Yakutat",
			"America/Anchorage|US/Alaska",
			"America/Campo_Grande|America/Cuiaba",
			"America/Caracas|America/Boa_Vista",
			"America/Caracas|America/Guyana",
			"America/Caracas|America/La_Paz",
			"America/Caracas|America/Manaus",
			"America/Caracas|America/Porto_Velho",
			"America/Caracas|Brazil/West",
			"America/Caracas|Etc/GMT+4",
			"America/Chicago|America/Indiana/Knox",
			"America/Chicago|America/Indiana/Tell_City",
			"America/Chicago|America/Knox_IN",
			"America/Chicago|America/Matamoros",
			"America/Chicago|America/Menominee",
			"America/Chicago|America/North_Dakota/Beulah",
			"America/Chicago|America/North_Dakota/Center",
			"America/Chicago|America/North_Dakota/New_Salem",
			"America/Chicago|America/Rainy_River",
			"America/Chicago|America/Rankin_Inlet",
			"America/Chicago|America/Resolute",
			"America/Chicago|America/Winnipeg",
			"America/Chicago|CST6CDT",
			"America/Chicago|Canada/Central",
			"America/Chicago|US/Central",
			"America/Chicago|US/Indiana-Starke",
			"America/Denver|America/Boise",
			"America/Denver|America/Cambridge_Bay",
			"America/Denver|America/Edmonton",
			"America/Denver|America/Inuvik",
			"America/Denver|America/Shiprock",
			"America/Denver|America/Yellowknife",
			"America/Denver|Canada/Mountain",
			"America/Denver|MST7MDT",
			"America/Denver|Navajo",
			"America/Denver|US/Mountain",
			"America/Fortaleza|America/Araguaina",
			"America/Fortaleza|America/Argentina/Buenos_Aires",
			"America/Fortaleza|America/Argentina/Catamarca",
			"America/Fortaleza|America/Argentina/ComodRivadavia",
			"America/Fortaleza|America/Argentina/Cordoba",
			"America/Fortaleza|America/Argentina/Jujuy",
			"America/Fortaleza|America/Argentina/La_Rioja",
			"America/Fortaleza|America/Argentina/Mendoza",
			"America/Fortaleza|America/Argentina/Rio_Gallegos",
			"America/Fortaleza|America/Argentina/Salta",
			"America/Fortaleza|America/Argentina/San_Juan",
			"America/Fortaleza|America/Argentina/San_Luis",
			"America/Fortaleza|America/Argentina/Tucuman",
			"America/Fortaleza|America/Argentina/Ushuaia",
			"America/Fortaleza|America/Bahia",
			"America/Fortaleza|America/Belem",
			"America/Fortaleza|America/Buenos_Aires",
			"America/Fortaleza|America/Catamarca",
			"America/Fortaleza|America/Cayenne",
			"America/Fortaleza|America/Cordoba",
			"America/Fortaleza|America/Jujuy",
			"America/Fortaleza|America/Maceio",
			"America/Fortaleza|America/Mendoza",
			"America/Fortaleza|America/Montevideo",
			"America/Fortaleza|America/Paramaribo",
			"America/Fortaleza|America/Punta_Arenas",
			"America/Fortaleza|America/Recife",
			"America/Fortaleza|America/Rosario",
			"America/Fortaleza|America/Santarem",
			"America/Fortaleza|Antarctica/Palmer",
			"America/Fortaleza|Antarctica/Rothera",
			"America/Fortaleza|Atlantic/Stanley",
			"America/Fortaleza|Etc/GMT+3",
			"America/Godthab|America/Nuuk",
			"America/Halifax|America/Glace_Bay",
			"America/Halifax|America/Goose_Bay",
			"America/Halifax|America/Moncton",
			"America/Halifax|America/Thule",
			"America/Halifax|Atlantic/Bermuda",
			"America/Halifax|Canada/Atlantic",
			"America/Havana|Cuba",
			"America/Lima|America/Bogota",
			"America/Lima|America/Eirunepe",
			"America/Lima|America/Guayaquil",
			"America/Lima|America/Porto_Acre",
			"America/Lima|America/Rio_Branco",
			"America/Lima|Brazil/Acre",
			"America/Lima|Etc/GMT+5",
			"America/Los_Angeles|America/Ensenada",
			"America/Los_Angeles|America/Santa_Isabel",
			"America/Los_Angeles|America/Tijuana",
			"America/Los_Angeles|America/Vancouver",
			"America/Los_Angeles|Canada/Pacific",
			"America/Los_Angeles|Mexico/BajaNorte",
			"America/Los_Angeles|PST8PDT",
			"America/Los_Angeles|US/Pacific",
			"America/Managua|America/Belize",
			"America/Managua|America/Costa_Rica",
			"America/Managua|America/El_Salvador",
			"America/Managua|America/Guatemala",
			"America/Managua|America/Regina",
			"America/Managua|America/Swift_Current",
			"America/Managua|America/Tegucigalpa",
			"America/Managua|Canada/Saskatchewan",
			"America/Mazatlan|Mexico/BajaSur",
			"America/Mexico_City|America/Bahia_Banderas",
			"America/Mexico_City|America/Merida",
			"America/Mexico_City|America/Monterrey",
			"America/Mexico_City|Mexico/General",
			"America/New_York|America/Detroit",
			"America/New_York|America/Fort_Wayne",
			"America/New_York|America/Grand_Turk",
			"America/New_York|America/Indiana/Indianapolis",
			"America/New_York|America/Indiana/Marengo",
			"America/New_York|America/Indiana/Petersburg",
			"America/New_York|America/Indiana/Vevay",
			"America/New_York|America/Indiana/Vincennes",
			"America/New_York|America/Indiana/Winamac",
			"America/New_York|America/Indianapolis",
			"America/New_York|America/Iqaluit",
			"America/New_York|America/Kentucky/Louisville",
			"America/New_York|America/Kentucky/Monticello",
			"America/New_York|America/Louisville",
			"America/New_York|America/Montreal",
			"America/New_York|America/Nassau",
			"America/New_York|America/Nipigon",
			"America/New_York|America/Pangnirtung",
			"America/New_York|America/Port-au-Prince",
			"America/New_York|America/Thunder_Bay",
			"America/New_York|America/Toronto",
			"America/New_York|Canada/Eastern",
			"America/New_York|EST5EDT",
			"America/New_York|US/East-Indiana",
			"America/New_York|US/Eastern",
			"America/New_York|US/Michigan",
			"America/Noronha|Atlantic/South_Georgia",
			"America/Noronha|Brazil/DeNoronha",
			"America/Noronha|Etc/GMT+2",
			"America/Panama|America/Atikokan",
			"America/Panama|America/Cancun",
			"America/Panama|America/Cayman",
			"America/Panama|America/Coral_Harbour",
			"America/Panama|America/Jamaica",
			"America/Panama|EST",
			"America/Panama|Jamaica",
			"America/Phoenix|America/Creston",
			"America/Phoenix|America/Dawson_Creek",
			"America/Phoenix|America/Fort_Nelson",
			"America/Phoenix|America/Hermosillo",
			"America/Phoenix|MST",
			"America/Phoenix|US/Arizona",
			"America/Santiago|Chile/Continental",
			"America/Santo_Domingo|America/Anguilla",
			"America/Santo_Domingo|America/Antigua",
			"America/Santo_Domingo|America/Aruba",
			"America/Santo_Domingo|America/Barbados",
			"America/Santo_Domingo|America/Blanc-Sablon",
			"America/Santo_Domingo|America/Curacao",
			"America/Santo_Domingo|America/Dominica",
			"America/Santo_Domingo|America/Grenada",
			"America/Santo_Domingo|America/Guadeloupe",
			"America/Santo_Domingo|America/Kralendijk",
			"America/Santo_Domingo|America/Lower_Princes",
			"America/Santo_Domingo|America/Marigot",
			"America/Santo_Domingo|America/Martinique",
			"America/Santo_Domingo|America/Montserrat",
			"America/Santo_Domingo|America/Port_of_Spain",
			"America/Santo_Domingo|America/Puerto_Rico",
			"America/Santo_Domingo|America/St_Barthelemy",
			"America/Santo_Domingo|America/St_Kitts",
			"America/Santo_Domingo|America/St_Lucia",
			"America/Santo_Domingo|America/St_Thomas",
			"America/Santo_Domingo|America/St_Vincent",
			"America/Santo_Domingo|America/Tortola",
			"America/Santo_Domingo|America/Virgin",
			"America/Sao_Paulo|Brazil/East",
			"America/St_Johns|Canada/Newfoundland",
			"America/Whitehorse|America/Dawson",
			"America/Whitehorse|Canada/Yukon",
			"Asia/Almaty|Asia/Qostanay",
			"Asia/Bangkok|Antarctica/Davis",
			"Asia/Bangkok|Asia/Barnaul",
			"Asia/Bangkok|Asia/Ho_Chi_Minh",
			"Asia/Bangkok|Asia/Hovd",
			"Asia/Bangkok|Asia/Krasnoyarsk",
			"Asia/Bangkok|Asia/Novokuznetsk",
			"Asia/Bangkok|Asia/Novosibirsk",
			"Asia/Bangkok|Asia/Phnom_Penh",
			"Asia/Bangkok|Asia/Saigon",
			"Asia/Bangkok|Asia/Tomsk",
			"Asia/Bangkok|Asia/Vientiane",
			"Asia/Bangkok|Etc/GMT-7",
			"Asia/Bangkok|Indian/Christmas",
			"Asia/Chita|Asia/Dili",
			"Asia/Chita|Asia/Khandyga",
			"Asia/Chita|Asia/Yakutsk",
			"Asia/Chita|Etc/GMT-9",
			"Asia/Chita|Pacific/Palau",
			"Asia/Dhaka|Asia/Bishkek",
			"Asia/Dhaka|Asia/Dacca",
			"Asia/Dhaka|Asia/Kashgar",
			"Asia/Dhaka|Asia/Omsk",
			"Asia/Dhaka|Asia/Thimbu",
			"Asia/Dhaka|Asia/Thimphu",
			"Asia/Dhaka|Asia/Urumqi",
			"Asia/Dhaka|Etc/GMT-6",
			"Asia/Dhaka|Indian/Chagos",
			"Asia/Dubai|Asia/Baku",
			"Asia/Dubai|Asia/Muscat",
			"Asia/Dubai|Asia/Tbilisi",
			"Asia/Dubai|Asia/Yerevan",
			"Asia/Dubai|Etc/GMT-4",
			"Asia/Dubai|Europe/Astrakhan",
			"Asia/Dubai|Europe/Samara",
			"Asia/Dubai|Europe/Saratov",
			"Asia/Dubai|Europe/Ulyanovsk",
			"Asia/Dubai|Indian/Mahe",
			"Asia/Dubai|Indian/Mauritius",
			"Asia/Dubai|Indian/Reunion",
			"Asia/Gaza|Asia/Hebron",
			"Asia/Hong_Kong|Hongkong",
			"Asia/Jakarta|Asia/Pontianak",
			"Asia/Jerusalem|Asia/Tel_Aviv",
			"Asia/Jerusalem|Israel",
			"Asia/Kamchatka|Asia/Anadyr",
			"Asia/Kamchatka|Etc/GMT-12",
			"Asia/Kamchatka|Kwajalein",
			"Asia/Kamchatka|Pacific/Funafuti",
			"Asia/Kamchatka|Pacific/Kwajalein",
			"Asia/Kamchatka|Pacific/Majuro",
			"Asia/Kamchatka|Pacific/Nauru",
			"Asia/Kamchatka|Pacific/Tarawa",
			"Asia/Kamchatka|Pacific/Wake",
			"Asia/Kamchatka|Pacific/Wallis",
			"Asia/Kathmandu|Asia/Katmandu",
			"Asia/Kolkata|Asia/Calcutta",
			"Asia/Kuala_Lumpur|Asia/Brunei",
			"Asia/Kuala_Lumpur|Asia/Choibalsan",
			"Asia/Kuala_Lumpur|Asia/Irkutsk",
			"Asia/Kuala_Lumpur|Asia/Kuching",
			"Asia/Kuala_Lumpur|Asia/Singapore",
			"Asia/Kuala_Lumpur|Asia/Ulaanbaatar",
			"Asia/Kuala_Lumpur|Asia/Ulan_Bator",
			"Asia/Kuala_Lumpur|Etc/GMT-8",
			"Asia/Kuala_Lumpur|Singapore",
			"Asia/Makassar|Asia/Ujung_Pandang",
			"Asia/Rangoon|Asia/Yangon",
			"Asia/Rangoon|Indian/Cocos",
			"Asia/Sakhalin|Asia/Magadan",
			"Asia/Sakhalin|Asia/Srednekolymsk",
			"Asia/Sakhalin|Etc/GMT-11",
			"Asia/Sakhalin|Pacific/Bougainville",
			"Asia/Sakhalin|Pacific/Efate",
			"Asia/Sakhalin|Pacific/Guadalcanal",
			"Asia/Sakhalin|Pacific/Kosrae",
			"Asia/Sakhalin|Pacific/Noumea",
			"Asia/Sakhalin|Pacific/Pohnpei",
			"Asia/Sakhalin|Pacific/Ponape",
			"Asia/Seoul|Asia/Pyongyang",
			"Asia/Seoul|ROK",
			"Asia/Shanghai|Asia/Chongqing",
			"Asia/Shanghai|Asia/Chungking",
			"Asia/Shanghai|Asia/Harbin",
			"Asia/Shanghai|Asia/Macao",
			"Asia/Shanghai|Asia/Macau",
			"Asia/Shanghai|Asia/Taipei",
			"Asia/Shanghai|PRC",
			"Asia/Shanghai|ROC",
			"Asia/Tashkent|Antarctica/Mawson",
			"Asia/Tashkent|Asia/Aqtau",
			"Asia/Tashkent|Asia/Aqtobe",
			"Asia/Tashkent|Asia/Ashgabat",
			"Asia/Tashkent|Asia/Ashkhabad",
			"Asia/Tashkent|Asia/Atyrau",
			"Asia/Tashkent|Asia/Dushanbe",
			"Asia/Tashkent|Asia/Oral",
			"Asia/Tashkent|Asia/Qyzylorda",
			"Asia/Tashkent|Asia/Samarkand",
			"Asia/Tashkent|Asia/Yekaterinburg",
			"Asia/Tashkent|Etc/GMT-5",
			"Asia/Tashkent|Indian/Kerguelen",
			"Asia/Tashkent|Indian/Maldives",
			"Asia/Tehran|Iran",
			"Asia/Tokyo|Japan",
			"Asia/Vladivostok|Antarctica/DumontDUrville",
			"Asia/Vladivostok|Asia/Ust-Nera",
			"Asia/Vladivostok|Etc/GMT-10",
			"Asia/Vladivostok|Pacific/Chuuk",
			"Asia/Vladivostok|Pacific/Port_Moresby",
			"Asia/Vladivostok|Pacific/Truk",
			"Asia/Vladivostok|Pacific/Yap",
			"Atlantic/Cape_Verde|Etc/GMT+1",
			"Australia/Adelaide|Australia/Broken_Hill",
			"Australia/Adelaide|Australia/South",
			"Australia/Adelaide|Australia/Yancowinna",
			"Australia/Brisbane|Australia/Lindeman",
			"Australia/Brisbane|Australia/Queensland",
			"Australia/Darwin|Australia/North",
			"Australia/Lord_Howe|Australia/LHI",
			"Australia/Perth|Australia/West",
			"Australia/Sydney|Antarctica/Macquarie",
			"Australia/Sydney|Australia/ACT",
			"Australia/Sydney|Australia/Canberra",
			"Australia/Sydney|Australia/Currie",
			"Australia/Sydney|Australia/Hobart",
			"Australia/Sydney|Australia/Melbourne",
			"Australia/Sydney|Australia/NSW",
			"Australia/Sydney|Australia/Tasmania",
			"Australia/Sydney|Australia/Victoria",
			"Etc/UTC|Etc/UCT",
			"Etc/UTC|Etc/Universal",
			"Etc/UTC|Etc/Zulu",
			"Etc/UTC|UCT",
			"Etc/UTC|UTC",
			"Etc/UTC|Universal",
			"Etc/UTC|Zulu",
			"Europe/Athens|Asia/Famagusta",
			"Europe/Athens|Asia/Nicosia",
			"Europe/Athens|EET",
			"Europe/Athens|Europe/Bucharest",
			"Europe/Athens|Europe/Helsinki",
			"Europe/Athens|Europe/Kiev",
			"Europe/Athens|Europe/Kyiv",
			"Europe/Athens|Europe/Mariehamn",
			"Europe/Athens|Europe/Nicosia",
			"Europe/Athens|Europe/Riga",
			"Europe/Athens|Europe/Sofia",
			"Europe/Athens|Europe/Tallinn",
			"Europe/Athens|Europe/Uzhgorod",
			"Europe/Athens|Europe/Vilnius",
			"Europe/Athens|Europe/Zaporozhye",
			"Europe/Chisinau|Europe/Tiraspol",
			"Europe/Dublin|Eire",
			"Europe/Istanbul|Antarctica/Syowa",
			"Europe/Istanbul|Asia/Aden",
			"Europe/Istanbul|Asia/Baghdad",
			"Europe/Istanbul|Asia/Bahrain",
			"Europe/Istanbul|Asia/Istanbul",
			"Europe/Istanbul|Asia/Kuwait",
			"Europe/Istanbul|Asia/Qatar",
			"Europe/Istanbul|Asia/Riyadh",
			"Europe/Istanbul|Etc/GMT-3",
			"Europe/Istanbul|Europe/Minsk",
			"Europe/Istanbul|Turkey",
			"Europe/Lisbon|Atlantic/Canary",
			"Europe/Lisbon|Atlantic/Faeroe",
			"Europe/Lisbon|Atlantic/Faroe",
			"Europe/Lisbon|Atlantic/Madeira",
			"Europe/Lisbon|Portugal",
			"Europe/Lisbon|WET",
			"Europe/London|Europe/Belfast",
			"Europe/London|Europe/Guernsey",
			"Europe/London|Europe/Isle_of_Man",
			"Europe/London|Europe/Jersey",
			"Europe/London|GB",
			"Europe/London|GB-Eire",
			"Europe/Moscow|Europe/Kirov",
			"Europe/Moscow|Europe/Simferopol",
			"Europe/Moscow|W-SU",
			"Europe/Paris|Africa/Ceuta",
			"Europe/Paris|Arctic/Longyearbyen",
			"Europe/Paris|Atlantic/Jan_Mayen",
			"Europe/Paris|CET",
			"Europe/Paris|Europe/Amsterdam",
			"Europe/Paris|Europe/Andorra",
			"Europe/Paris|Europe/Belgrade",
			"Europe/Paris|Europe/Berlin",
			"Europe/Paris|Europe/Bratislava",
			"Europe/Paris|Europe/Brussels",
			"Europe/Paris|Europe/Budapest",
			"Europe/Paris|Europe/Busingen",
			"Europe/Paris|Europe/Copenhagen",
			"Europe/Paris|Europe/Gibraltar",
			"Europe/Paris|Europe/Ljubljana",
			"Europe/Paris|Europe/Luxembourg",
			"Europe/Paris|Europe/Madrid",
			"Europe/Paris|Europe/Malta",
			"Europe/Paris|Europe/Monaco",
			"Europe/Paris|Europe/Oslo",
			"Europe/Paris|Europe/Podgorica",
			"Europe/Paris|Europe/Prague",
			"Europe/Paris|Europe/Rome",
			"Europe/Paris|Europe/San_Marino",
			"Europe/Paris|Europe/Sarajevo",
			"Europe/Paris|Europe/Skopje",
			"Europe/Paris|Europe/Stockholm",
			"Europe/Paris|Europe/Tirane",
			"Europe/Paris|Europe/Vaduz",
			"Europe/Paris|Europe/Vatican",
			"Europe/Paris|Europe/Vienna",
			"Europe/Paris|Europe/Warsaw",
			"Europe/Paris|Europe/Zagreb",
			"Europe/Paris|Europe/Zurich",
			"Europe/Paris|Poland",
			"Pacific/Auckland|Antarctica/McMurdo",
			"Pacific/Auckland|Antarctica/South_Pole",
			"Pacific/Auckland|NZ",
			"Pacific/Chatham|NZ-CHAT",
			"Pacific/Easter|Chile/EasterIsland",
			"Pacific/Galapagos|Etc/GMT+6",
			"Pacific/Gambier|Etc/GMT+9",
			"Pacific/Guam|Pacific/Saipan",
			"Pacific/Honolulu|HST",
			"Pacific/Honolulu|Pacific/Johnston",
			"Pacific/Honolulu|US/Hawaii",
			"Pacific/Kiritimati|Etc/GMT-14",
			"Pacific/Niue|Etc/GMT+11",
			"Pacific/Pago_Pago|Pacific/Midway",
			"Pacific/Pago_Pago|Pacific/Samoa",
			"Pacific/Pago_Pago|US/Samoa",
			"Pacific/Pitcairn|Etc/GMT+8",
			"Pacific/Tahiti|Etc/GMT+10",
			"Pacific/Tahiti|Pacific/Rarotonga",
			"Pacific/Tongatapu|Etc/GMT-13",
			"Pacific/Tongatapu|Pacific/Enderbury",
			"Pacific/Tongatapu|Pacific/Fakaofo",
			"Pacific/Tongatapu|Pacific/Kanton"
		],
		"countries": [
			"AD|Europe/Andorra",
			"AE|Asia/Dubai",
			"AF|Asia/Kabul",
			"AG|America/Puerto_Rico America/Antigua",
			"AI|America/Puerto_Rico America/Anguilla",
			"AL|Europe/Tirane",
			"AM|Asia/Yerevan",
			"AO|Africa/Lagos Africa/Luanda",
			"AQ|Antarctica/Casey Antarctica/Davis Antarctica/Mawson Antarctica/Palmer Antarctica/Rothera Antarctica/Troll Antarctica/Vostok Pacific/Auckland Pacific/Port_Moresby Asia/Riyadh Antarctica/McMurdo Antarctica/DumontDUrville Antarctica/Syowa",
			"AR|America/Argentina/Buenos_Aires America/Argentina/Cordoba America/Argentina/Salta America/Argentina/Jujuy America/Argentina/Tucuman America/Argentina/Catamarca America/Argentina/La_Rioja America/Argentina/San_Juan America/Argentina/Mendoza America/Argentina/San_Luis America/Argentina/Rio_Gallegos America/Argentina/Ushuaia",
			"AS|Pacific/Pago_Pago",
			"AT|Europe/Vienna",
			"AU|Australia/Lord_Howe Antarctica/Macquarie Australia/Hobart Australia/Melbourne Australia/Sydney Australia/Broken_Hill Australia/Brisbane Australia/Lindeman Australia/Adelaide Australia/Darwin Australia/Perth Australia/Eucla",
			"AW|America/Puerto_Rico America/Aruba",
			"AX|Europe/Helsinki Europe/Mariehamn",
			"AZ|Asia/Baku",
			"BA|Europe/Belgrade Europe/Sarajevo",
			"BB|America/Barbados",
			"BD|Asia/Dhaka",
			"BE|Europe/Brussels",
			"BF|Africa/Abidjan Africa/Ouagadougou",
			"BG|Europe/Sofia",
			"BH|Asia/Qatar Asia/Bahrain",
			"BI|Africa/Maputo Africa/Bujumbura",
			"BJ|Africa/Lagos Africa/Porto-Novo",
			"BL|America/Puerto_Rico America/St_Barthelemy",
			"BM|Atlantic/Bermuda",
			"BN|Asia/Kuching Asia/Brunei",
			"BO|America/La_Paz",
			"BQ|America/Puerto_Rico America/Kralendijk",
			"BR|America/Noronha America/Belem America/Fortaleza America/Recife America/Araguaina America/Maceio America/Bahia America/Sao_Paulo America/Campo_Grande America/Cuiaba America/Santarem America/Porto_Velho America/Boa_Vista America/Manaus America/Eirunepe America/Rio_Branco",
			"BS|America/Toronto America/Nassau",
			"BT|Asia/Thimphu",
			"BW|Africa/Maputo Africa/Gaborone",
			"BY|Europe/Minsk",
			"BZ|America/Belize",
			"CA|America/St_Johns America/Halifax America/Glace_Bay America/Moncton America/Goose_Bay America/Toronto America/Iqaluit America/Winnipeg America/Resolute America/Rankin_Inlet America/Regina America/Swift_Current America/Edmonton America/Cambridge_Bay America/Inuvik America/Dawson_Creek America/Fort_Nelson America/Whitehorse America/Dawson America/Vancouver America/Panama America/Puerto_Rico America/Phoenix America/Blanc-Sablon America/Atikokan America/Creston",
			"CC|Asia/Yangon Indian/Cocos",
			"CD|Africa/Maputo Africa/Lagos Africa/Kinshasa Africa/Lubumbashi",
			"CF|Africa/Lagos Africa/Bangui",
			"CG|Africa/Lagos Africa/Brazzaville",
			"CH|Europe/Zurich",
			"CI|Africa/Abidjan",
			"CK|Pacific/Rarotonga",
			"CL|America/Santiago America/Punta_Arenas Pacific/Easter",
			"CM|Africa/Lagos Africa/Douala",
			"CN|Asia/Shanghai Asia/Urumqi",
			"CO|America/Bogota",
			"CR|America/Costa_Rica",
			"CU|America/Havana",
			"CV|Atlantic/Cape_Verde",
			"CW|America/Puerto_Rico America/Curacao",
			"CX|Asia/Bangkok Indian/Christmas",
			"CY|Asia/Nicosia Asia/Famagusta",
			"CZ|Europe/Prague",
			"DE|Europe/Zurich Europe/Berlin Europe/Busingen",
			"DJ|Africa/Nairobi Africa/Djibouti",
			"DK|Europe/Berlin Europe/Copenhagen",
			"DM|America/Puerto_Rico America/Dominica",
			"DO|America/Santo_Domingo",
			"DZ|Africa/Algiers",
			"EC|America/Guayaquil Pacific/Galapagos",
			"EE|Europe/Tallinn",
			"EG|Africa/Cairo",
			"EH|Africa/El_Aaiun",
			"ER|Africa/Nairobi Africa/Asmara",
			"ES|Europe/Madrid Africa/Ceuta Atlantic/Canary",
			"ET|Africa/Nairobi Africa/Addis_Ababa",
			"FI|Europe/Helsinki",
			"FJ|Pacific/Fiji",
			"FK|Atlantic/Stanley",
			"FM|Pacific/Kosrae Pacific/Port_Moresby Pacific/Guadalcanal Pacific/Chuuk Pacific/Pohnpei",
			"FO|Atlantic/Faroe",
			"FR|Europe/Paris",
			"GA|Africa/Lagos Africa/Libreville",
			"GB|Europe/London",
			"GD|America/Puerto_Rico America/Grenada",
			"GE|Asia/Tbilisi",
			"GF|America/Cayenne",
			"GG|Europe/London Europe/Guernsey",
			"GH|Africa/Abidjan Africa/Accra",
			"GI|Europe/Gibraltar",
			"GL|America/Nuuk America/Danmarkshavn America/Scoresbysund America/Thule",
			"GM|Africa/Abidjan Africa/Banjul",
			"GN|Africa/Abidjan Africa/Conakry",
			"GP|America/Puerto_Rico America/Guadeloupe",
			"GQ|Africa/Lagos Africa/Malabo",
			"GR|Europe/Athens",
			"GS|Atlantic/South_Georgia",
			"GT|America/Guatemala",
			"GU|Pacific/Guam",
			"GW|Africa/Bissau",
			"GY|America/Guyana",
			"HK|Asia/Hong_Kong",
			"HN|America/Tegucigalpa",
			"HR|Europe/Belgrade Europe/Zagreb",
			"HT|America/Port-au-Prince",
			"HU|Europe/Budapest",
			"ID|Asia/Jakarta Asia/Pontianak Asia/Makassar Asia/Jayapura",
			"IE|Europe/Dublin",
			"IL|Asia/Jerusalem",
			"IM|Europe/London Europe/Isle_of_Man",
			"IN|Asia/Kolkata",
			"IO|Indian/Chagos",
			"IQ|Asia/Baghdad",
			"IR|Asia/Tehran",
			"IS|Africa/Abidjan Atlantic/Reykjavik",
			"IT|Europe/Rome",
			"JE|Europe/London Europe/Jersey",
			"JM|America/Jamaica",
			"JO|Asia/Amman",
			"JP|Asia/Tokyo",
			"KE|Africa/Nairobi",
			"KG|Asia/Bishkek",
			"KH|Asia/Bangkok Asia/Phnom_Penh",
			"KI|Pacific/Tarawa Pacific/Kanton Pacific/Kiritimati",
			"KM|Africa/Nairobi Indian/Comoro",
			"KN|America/Puerto_Rico America/St_Kitts",
			"KP|Asia/Pyongyang",
			"KR|Asia/Seoul",
			"KW|Asia/Riyadh Asia/Kuwait",
			"KY|America/Panama America/Cayman",
			"KZ|Asia/Almaty Asia/Qyzylorda Asia/Qostanay Asia/Aqtobe Asia/Aqtau Asia/Atyrau Asia/Oral",
			"LA|Asia/Bangkok Asia/Vientiane",
			"LB|Asia/Beirut",
			"LC|America/Puerto_Rico America/St_Lucia",
			"LI|Europe/Zurich Europe/Vaduz",
			"LK|Asia/Colombo",
			"LR|Africa/Monrovia",
			"LS|Africa/Johannesburg Africa/Maseru",
			"LT|Europe/Vilnius",
			"LU|Europe/Brussels Europe/Luxembourg",
			"LV|Europe/Riga",
			"LY|Africa/Tripoli",
			"MA|Africa/Casablanca",
			"MC|Europe/Paris Europe/Monaco",
			"MD|Europe/Chisinau",
			"ME|Europe/Belgrade Europe/Podgorica",
			"MF|America/Puerto_Rico America/Marigot",
			"MG|Africa/Nairobi Indian/Antananarivo",
			"MH|Pacific/Tarawa Pacific/Kwajalein Pacific/Majuro",
			"MK|Europe/Belgrade Europe/Skopje",
			"ML|Africa/Abidjan Africa/Bamako",
			"MM|Asia/Yangon",
			"MN|Asia/Ulaanbaatar Asia/Hovd Asia/Choibalsan",
			"MO|Asia/Macau",
			"MP|Pacific/Guam Pacific/Saipan",
			"MQ|America/Martinique",
			"MR|Africa/Abidjan Africa/Nouakchott",
			"MS|America/Puerto_Rico America/Montserrat",
			"MT|Europe/Malta",
			"MU|Indian/Mauritius",
			"MV|Indian/Maldives",
			"MW|Africa/Maputo Africa/Blantyre",
			"MX|America/Mexico_City America/Cancun America/Merida America/Monterrey America/Matamoros America/Chihuahua America/Ciudad_Juarez America/Ojinaga America/Mazatlan America/Bahia_Banderas America/Hermosillo America/Tijuana",
			"MY|Asia/Kuching Asia/Singapore Asia/Kuala_Lumpur",
			"MZ|Africa/Maputo",
			"NA|Africa/Windhoek",
			"NC|Pacific/Noumea",
			"NE|Africa/Lagos Africa/Niamey",
			"NF|Pacific/Norfolk",
			"NG|Africa/Lagos",
			"NI|America/Managua",
			"NL|Europe/Brussels Europe/Amsterdam",
			"NO|Europe/Berlin Europe/Oslo",
			"NP|Asia/Kathmandu",
			"NR|Pacific/Nauru",
			"NU|Pacific/Niue",
			"NZ|Pacific/Auckland Pacific/Chatham",
			"OM|Asia/Dubai Asia/Muscat",
			"PA|America/Panama",
			"PE|America/Lima",
			"PF|Pacific/Tahiti Pacific/Marquesas Pacific/Gambier",
			"PG|Pacific/Port_Moresby Pacific/Bougainville",
			"PH|Asia/Manila",
			"PK|Asia/Karachi",
			"PL|Europe/Warsaw",
			"PM|America/Miquelon",
			"PN|Pacific/Pitcairn",
			"PR|America/Puerto_Rico",
			"PS|Asia/Gaza Asia/Hebron",
			"PT|Europe/Lisbon Atlantic/Madeira Atlantic/Azores",
			"PW|Pacific/Palau",
			"PY|America/Asuncion",
			"QA|Asia/Qatar",
			"RE|Asia/Dubai Indian/Reunion",
			"RO|Europe/Bucharest",
			"RS|Europe/Belgrade",
			"RU|Europe/Kaliningrad Europe/Moscow Europe/Simferopol Europe/Kirov Europe/Volgograd Europe/Astrakhan Europe/Saratov Europe/Ulyanovsk Europe/Samara Asia/Yekaterinburg Asia/Omsk Asia/Novosibirsk Asia/Barnaul Asia/Tomsk Asia/Novokuznetsk Asia/Krasnoyarsk Asia/Irkutsk Asia/Chita Asia/Yakutsk Asia/Khandyga Asia/Vladivostok Asia/Ust-Nera Asia/Magadan Asia/Sakhalin Asia/Srednekolymsk Asia/Kamchatka Asia/Anadyr",
			"RW|Africa/Maputo Africa/Kigali",
			"SA|Asia/Riyadh",
			"SB|Pacific/Guadalcanal",
			"SC|Asia/Dubai Indian/Mahe",
			"SD|Africa/Khartoum",
			"SE|Europe/Berlin Europe/Stockholm",
			"SG|Asia/Singapore",
			"SH|Africa/Abidjan Atlantic/St_Helena",
			"SI|Europe/Belgrade Europe/Ljubljana",
			"SJ|Europe/Berlin Arctic/Longyearbyen",
			"SK|Europe/Prague Europe/Bratislava",
			"SL|Africa/Abidjan Africa/Freetown",
			"SM|Europe/Rome Europe/San_Marino",
			"SN|Africa/Abidjan Africa/Dakar",
			"SO|Africa/Nairobi Africa/Mogadishu",
			"SR|America/Paramaribo",
			"SS|Africa/Juba",
			"ST|Africa/Sao_Tome",
			"SV|America/El_Salvador",
			"SX|America/Puerto_Rico America/Lower_Princes",
			"SY|Asia/Damascus",
			"SZ|Africa/Johannesburg Africa/Mbabane",
			"TC|America/Grand_Turk",
			"TD|Africa/Ndjamena",
			"TF|Asia/Dubai Indian/Maldives Indian/Kerguelen",
			"TG|Africa/Abidjan Africa/Lome",
			"TH|Asia/Bangkok",
			"TJ|Asia/Dushanbe",
			"TK|Pacific/Fakaofo",
			"TL|Asia/Dili",
			"TM|Asia/Ashgabat",
			"TN|Africa/Tunis",
			"TO|Pacific/Tongatapu",
			"TR|Europe/Istanbul",
			"TT|America/Puerto_Rico America/Port_of_Spain",
			"TV|Pacific/Tarawa Pacific/Funafuti",
			"TW|Asia/Taipei",
			"TZ|Africa/Nairobi Africa/Dar_es_Salaam",
			"UA|Europe/Simferopol Europe/Kyiv",
			"UG|Africa/Nairobi Africa/Kampala",
			"UM|Pacific/Pago_Pago Pacific/Tarawa Pacific/Midway Pacific/Wake",
			"US|America/New_York America/Detroit America/Kentucky/Louisville America/Kentucky/Monticello America/Indiana/Indianapolis America/Indiana/Vincennes America/Indiana/Winamac America/Indiana/Marengo America/Indiana/Petersburg America/Indiana/Vevay America/Chicago America/Indiana/Tell_City America/Indiana/Knox America/Menominee America/North_Dakota/Center America/North_Dakota/New_Salem America/North_Dakota/Beulah America/Denver America/Boise America/Phoenix America/Los_Angeles America/Anchorage America/Juneau America/Sitka America/Metlakatla America/Yakutat America/Nome America/Adak Pacific/Honolulu",
			"UY|America/Montevideo",
			"UZ|Asia/Samarkand Asia/Tashkent",
			"VA|Europe/Rome Europe/Vatican",
			"VC|America/Puerto_Rico America/St_Vincent",
			"VE|America/Caracas",
			"VG|America/Puerto_Rico America/Tortola",
			"VI|America/Puerto_Rico America/St_Thomas",
			"VN|Asia/Bangkok Asia/Ho_Chi_Minh",
			"VU|Pacific/Efate",
			"WF|Pacific/Tarawa Pacific/Wallis",
			"WS|Pacific/Apia",
			"YE|Asia/Riyadh Asia/Aden",
			"YT|Africa/Nairobi Indian/Mayotte",
			"ZA|Africa/Johannesburg",
			"ZM|Africa/Maputo Africa/Lusaka",
			"ZW|Africa/Maputo Africa/Harare"
		]
	});
	return moment;
}));
/** @preserve
 * ==================================================================== 
 * xlsx.js
 * Copyright (C) 2012-present SheetJS LLC
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ====================================================================
 */
var XLSX = {};

function make_xlsx_lib(e) {
    e.version = "0.18.5";
    var r = 1200,
        t = 1252;
    var a;
    if (typeof cptable !== "undefined") a = cptable;
    else if (typeof module !== "undefined" && typeof require !== "undefined") {
        a = undefined
    }
    var n = [874, 932, 936, 949, 950, 1250, 1251, 1252, 1253, 1254, 1255, 1256, 1257, 1258, 1e4];
    var i = {
        0: 1252,
        1: 65001,
        2: 65001,
        77: 1e4,
        128: 932,
        129: 949,
        130: 1361,
        134: 936,
        136: 950,
        161: 1253,
        162: 1254,
        163: 1258,
        177: 1255,
        178: 1256,
        186: 1257,
        204: 1251,
        222: 874,
        238: 1250,
        255: 1252,
        69: 6969
    };
    var s = function (e) {
        if (n.indexOf(e) == -1) return;
        t = i[0] = e
    };

    function f() {
        s(1252)
    }
    var o = function (e) {
        r = e;
        s(e)
    };

    function c() {
        o(1200);
        f()
    }

    function l(e) {
        var r = [];
        for (var t = 0, a = e.length; t < a; ++t) r[t] = e.charCodeAt(t);
        return r
    }

    function u(e) {
        var r = [];
        for (var t = 0; t < e.length >> 1; ++t) r[t] = String.fromCharCode(e.charCodeAt(2 * t) + (e.charCodeAt(2 * t + 1) << 8));
        return r.join("")
    }

    function h(e) {
        var r = [];
        for (var t = 0; t < e.length >> 1; ++t) r[t] = String.fromCharCode(e.charCodeAt(2 * t + 1) + (e.charCodeAt(2 * t) << 8));
        return r.join("")
    }
    var d = function (e) {
        var r = e.charCodeAt(0),
            t = e.charCodeAt(1);
        if (r == 255 && t == 254) return u(e.slice(2));
        if (r == 254 && t == 255) return h(e.slice(2));
        if (r == 65279) return e.slice(1);
        return e
    };
    var v = function Yw(e) {
        return String.fromCharCode(e)
    };
    var p = function Kw(e) {
        return String.fromCharCode(e)
    };
    if (typeof a !== "undefined") {
        o = function (e) {
            r = e;
            s(e)
        };
        d = function (e) {
            if (e.charCodeAt(0) === 255 && e.charCodeAt(1) === 254) {
                return a.utils.decode(1200, l(e.slice(2)))
            }
            return e
        };
        v = function Jw(e) {
            if (r === 1200) return String.fromCharCode(e);
            return a.utils.decode(r, [e & 255, e >> 8])[0]
        };
        p = function qw(e) {
            return a.utils.decode(t, [e])[0]
        }
    }
    var m = null;
    var b = true;
    var g = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";

    function w(e) {
        var r = "";
        var t = 0,
            a = 0,
            n = 0,
            i = 0,
            s = 0,
            f = 0,
            o = 0;
        for (var c = 0; c < e.length;) {
            t = e.charCodeAt(c++);
            i = t >> 2;
            a = e.charCodeAt(c++);
            s = (t & 3) << 4 | a >> 4;
            n = e.charCodeAt(c++);
            f = (a & 15) << 2 | n >> 6;
            o = n & 63;
            if (isNaN(a)) {
                f = o = 64
            }
            else if (isNaN(n)) {
                o = 64
            }
            r += g.charAt(i) + g.charAt(s) + g.charAt(f) + g.charAt(o)
        }
        return r
    }

    function k(e) {
        var r = "";
        var t = 0,
            a = 0,
            n = 0,
            i = 0,
            s = 0,
            f = 0,
            o = 0;
        e = e.replace(/[^\w\+\/\=]/g, "");
        for (var c = 0; c < e.length;) {
            i = g.indexOf(e.charAt(c++));
            s = g.indexOf(e.charAt(c++));
            t = i << 2 | s >> 4;
            r += String.fromCharCode(t);
            f = g.indexOf(e.charAt(c++));
            a = (s & 15) << 4 | f >> 2;
            if (f !== 64) {
                r += String.fromCharCode(a)
            }
            o = g.indexOf(e.charAt(c++));
            n = (f & 3) << 6 | o;
            if (o !== 64) {
                r += String.fromCharCode(n)
            }
        }
        return r
    }
    var T = function () {
        return typeof Buffer !== "undefined" && typeof undefined !== "undefined" && typeof
            {} !== "undefined" && !!
            {}.node
    }();
    var E = function () {
        if (typeof Buffer !== "undefined") {
            var e = !Buffer.from;
            if (!e) try {
                Buffer.from("foo", "utf8")
            }
                catch (r) {
                    e = true
                }
            return e ? function (e, r) {
                return r ? new Buffer(e, r) : new Buffer(e)
            } : Buffer.from.bind(Buffer)
        }
        return function () { }
    }();

    function y(e) {
        if (T) return Buffer.alloc ? Buffer.alloc(e) : new Buffer(e);
        return typeof Uint8Array != "undefined" ? new Uint8Array(e) : new Array(e)
    }

    function S(e) {
        if (T) return Buffer.allocUnsafe ? Buffer.allocUnsafe(e) : new Buffer(e);
        return typeof Uint8Array != "undefined" ? new Uint8Array(e) : new Array(e)
    }
    var _ = function Zw(e) {
        if (T) return E(e, "binary");
        return e.split("").map(function (e) {
            return e.charCodeAt(0) & 255
        })
    };

    function A(e) {
        if (typeof ArrayBuffer === "undefined") return _(e);
        var r = new ArrayBuffer(e.length),
            t = new Uint8Array(r);
        for (var a = 0; a != e.length; ++a) t[a] = e.charCodeAt(a) & 255;
        return r
    }

    function x(e) {
        if (Array.isArray(e)) return e.map(function (e) {
            return String.fromCharCode(e)
        }).join("");
        var r = [];
        for (var t = 0; t < e.length; ++t) r[t] = String.fromCharCode(e[t]);
        return r.join("")
    }

    function C(e) {
        if (typeof Uint8Array === "undefined") throw new Error("Unsupported");
        return new Uint8Array(e)
    }

    function R(e) {
        if (typeof ArrayBuffer == "undefined") throw new Error("Unsupported");
        if (e instanceof ArrayBuffer) return R(new Uint8Array(e));
        var r = new Array(e.length);
        for (var t = 0; t < e.length; ++t) r[t] = e[t];
        return r
    }
    var O = T ? function (e) {
        return Buffer.concat(e.map(function (e) {
            return Buffer.isBuffer(e) ? e : E(e)
        }))
    } : function (e) {
        if (typeof Uint8Array !== "undefined") {
            var r = 0,
                t = 0;
            for (r = 0; r < e.length; ++r) t += e[r].length;
            var a = new Uint8Array(t);
            var n = 0;
            for (r = 0, t = 0; r < e.length; t += n, ++r) {
                n = e[r].length;
                if (e[r] instanceof Uint8Array) a.set(e[r], t);
                else if (typeof e[r] == "string") {
                    throw "wtf"
                }
                else a.set(new Uint8Array(e[r]), t)
            }
            return a
        }
        return [].concat.apply([], e.map(function (e) {
            return Array.isArray(e) ? e : [].slice.call(e)
        }))
    };

    function I(e) {
        var r = [],
            t = 0,
            a = e.length + 250;
        var n = y(e.length + 255);
        for (var i = 0; i < e.length; ++i) {
            var s = e.charCodeAt(i);
            if (s < 128) n[t++] = s;
            else if (s < 2048) {
                n[t++] = 192 | s >> 6 & 31;
                n[t++] = 128 | s & 63
            }
            else if (s >= 55296 && s < 57344) {
                s = (s & 1023) + 64;
                var f = e.charCodeAt(++i) & 1023;
                n[t++] = 240 | s >> 8 & 7;
                n[t++] = 128 | s >> 2 & 63;
                n[t++] = 128 | f >> 6 & 15 | (s & 3) << 4;
                n[t++] = 128 | f & 63
            }
            else {
                n[t++] = 224 | s >> 12 & 15;
                n[t++] = 128 | s >> 6 & 63;
                n[t++] = 128 | s & 63
            }
            if (t > a) {
                r.push(n.slice(0, t));
                t = 0;
                n = y(65535);
                a = 65530
            }
        }
        r.push(n.slice(0, t));
        return O(r)
    }
    var N = /\u0000/g,
        F = /[\u0001-\u0006]/g;

    function D(e) {
        var r = "",
            t = e.length - 1;
        while (t >= 0) r += e.charAt(t--);
        return r
    }

    function P(e, r) {
        var t = "" + e;
        return t.length >= r ? t : wr("0", r - t.length) + t
    }

    function L(e, r) {
        var t = "" + e;
        return t.length >= r ? t : wr(" ", r - t.length) + t
    }

    function M(e, r) {
        var t = "" + e;
        return t.length >= r ? t : t + wr(" ", r - t.length)
    }

    function U(e, r) {
        var t = "" + Math.round(e);
        return t.length >= r ? t : wr("0", r - t.length) + t
    }

    function B(e, r) {
        var t = "" + e;
        return t.length >= r ? t : wr("0", r - t.length) + t
    }
    var W = Math.pow(2, 32);

    function H(e, r) {
        if (e > W || e < -W) return U(e, r);
        var t = Math.round(e);
        return B(t, r)
    }

    function z(e, r) {
        r = r || 0;
        return e.length >= 7 + r && (e.charCodeAt(r) | 32) === 103 && (e.charCodeAt(r + 1) | 32) === 101 && (e.charCodeAt(r + 2) | 32) === 110 && (e.charCodeAt(r + 3) | 32) === 101 && (e.charCodeAt(r + 4) | 32) === 114 && (e.charCodeAt(r + 5) | 32) === 97 && (e.charCodeAt(r + 6) | 32) === 108
    }
    var V = [
        ["Sun", "Sunday"],
        ["Mon", "Monday"],
        ["Tue", "Tuesday"],
        ["Wed", "Wednesday"],
        ["Thu", "Thursday"],
        ["Fri", "Friday"],
        ["Sat", "Saturday"]
    ];
    var G = [
        ["J", "Jan", "January"],
        ["F", "Feb", "February"],
        ["M", "Mar", "March"],
        ["A", "Apr", "April"],
        ["M", "May", "May"],
        ["J", "Jun", "June"],
        ["J", "Jul", "July"],
        ["A", "Aug", "August"],
        ["S", "Sep", "September"],
        ["O", "Oct", "October"],
        ["N", "Nov", "November"],
        ["D", "Dec", "December"]
    ];

    function j(e) {
        if (!e) e = {};
        e[0] = "General";
        e[1] = "0";
        e[2] = "0.00";
        e[3] = "#,##0";
        e[4] = "#,##0.00";
        e[9] = "0%";
        e[10] = "0.00%";
        e[11] = "0.00E+00";
        e[12] = "# ?/?";
        e[13] = "# ??/??";
        e[14] = "m/d/yy";
        e[15] = "d-mmm-yy";
        e[16] = "d-mmm";
        e[17] = "mmm-yy";
        e[18] = "h:mm AM/PM";
        e[19] = "h:mm:ss AM/PM";
        e[20] = "h:mm";
        e[21] = "h:mm:ss";
        e[22] = "m/d/yy h:mm";
        e[37] = "#,##0 ;(#,##0)";
        e[38] = "#,##0 ;[Red](#,##0)";
        e[39] = "#,##0.00;(#,##0.00)";
        e[40] = "#,##0.00;[Red](#,##0.00)";
        e[45] = "mm:ss";
        e[46] = "[h]:mm:ss";
        e[47] = "mmss.0";
        e[48] = "##0.0E+0";
        e[49] = "@";
        e[56] = '"ä¸Šåˆ/ä¸‹åˆ "hh"æ™‚"mm"åˆ†"ss"ç§’ "';
        return e
    }
    var X = {
        0: "General",
        1: "0",
        2: "0.00",
        3: "#,##0",
        4: "#,##0.00",
        9: "0%",
        10: "0.00%",
        11: "0.00E+00",
        12: "# ?/?",
        13: "# ??/??",
        14: "m/d/yy",
        15: "d-mmm-yy",
        16: "d-mmm",
        17: "mmm-yy",
        18: "h:mm AM/PM",
        19: "h:mm:ss AM/PM",
        20: "h:mm",
        21: "h:mm:ss",
        22: "m/d/yy h:mm",
        37: "#,##0 ;(#,##0)",
        38: "#,##0 ;[Red](#,##0)",
        39: "#,##0.00;(#,##0.00)",
        40: "#,##0.00;[Red](#,##0.00)",
        45: "mm:ss",
        46: "[h]:mm:ss",
        47: "mmss.0",
        48: "##0.0E+0",
        49: "@",
        56: '"ä¸Šåˆ/ä¸‹åˆ "hh"æ™‚"mm"åˆ†"ss"ç§’ "'
    };
    var Y = {
        5: 37,
        6: 38,
        7: 39,
        8: 40,
        23: 0,
        24: 0,
        25: 0,
        26: 0,
        27: 14,
        28: 14,
        29: 14,
        30: 14,
        31: 14,
        50: 14,
        51: 14,
        52: 14,
        53: 14,
        54: 14,
        55: 14,
        56: 14,
        57: 14,
        58: 14,
        59: 1,
        60: 2,
        61: 3,
        62: 4,
        67: 9,
        68: 10,
        69: 12,
        70: 13,
        71: 14,
        72: 14,
        73: 15,
        74: 16,
        75: 17,
        76: 20,
        77: 21,
        78: 22,
        79: 45,
        80: 46,
        81: 47,
        82: 0
    };
    var K = {
        5: '"$"#,##0_);\\("$"#,##0\\)',
        63: '"$"#,##0_);\\("$"#,##0\\)',
        6: '"$"#,##0_);[Red]\\("$"#,##0\\)',
        64: '"$"#,##0_);[Red]\\("$"#,##0\\)',
        7: '"$"#,##0.00_);\\("$"#,##0.00\\)',
        65: '"$"#,##0.00_);\\("$"#,##0.00\\)',
        8: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',
        66: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',
        41: '_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',
        42: '_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',
        43: '_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',
        44: '_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'
    };

    function J(e, r, t) {
        var a = e < 0 ? -1 : 1;
        var n = e * a;
        var i = 0,
            s = 1,
            f = 0;
        var o = 1,
            c = 0,
            l = 0;
        var u = Math.floor(n);
        while (c < r) {
            u = Math.floor(n);
            f = u * s + i;
            l = u * c + o;
            if (n - u < 5e-8) break;
            n = 1 / (n - u);
            i = s;
            s = f;
            o = c;
            c = l
        }
        if (l > r) {
            if (c > r) {
                l = o;
                f = i
            }
            else {
                l = c;
                f = s
            }
        }
        if (!t) return [0, a * f, l];
        var h = Math.floor(a * f / l);
        return [h, a * f - h * l, l]
    }

    function q(e, r, t) {
        if (e > 2958465 || e < 0) return null;
        var a = e | 0,
            n = Math.floor(86400 * (e - a)),
            i = 0;
        var s = [];
        var f = {
            D: a,
            T: n,
            u: 86400 * (e - a) - n,
            y: 0,
            m: 0,
            d: 0,
            H: 0,
            M: 0,
            S: 0,
            q: 0
        };
        if (Math.abs(f.u) < 1e-6) f.u = 0;
        if (r && r.date1904) a += 1462;
        if (f.u > .9999) {
            f.u = 0;
            if (++n == 86400) {
                f.T = n = 0;
                ++a;
                ++f.D
            }
        }
        if (a === 60) {
            s = t ? [1317, 10, 29] : [1900, 2, 29];
            i = 3
        }
        else if (a === 0) {
            s = t ? [1317, 8, 29] : [1900, 1, 0];
            i = 6
        }
        else {
            if (a > 60) --a;
            var o = new Date(1900, 0, 1);
            o.setDate(o.getDate() + a - 1);
            s = [o.getFullYear(), o.getMonth() + 1, o.getDate()];
            i = o.getDay();
            if (a < 60) i = (i + 6) % 7;
            if (t) i = oe(o, s)
        }
        f.y = s[0];
        f.m = s[1];
        f.d = s[2];
        f.S = n % 60;
        n = Math.floor(n / 60);
        f.M = n % 60;
        n = Math.floor(n / 60);
        f.H = n;
        f.q = i;
        return f
    }
    var Z = new Date(1899, 11, 31, 0, 0, 0);
    var Q = Z.getTime();
    var ee = new Date(1900, 2, 1, 0, 0, 0);

    function re(e, r) {
        var t = e.getTime();
        if (r) t -= 1461 * 24 * 60 * 60 * 1e3;
        else if (e >= ee) t += 24 * 60 * 60 * 1e3;
        return (t - (Q + (e.getTimezoneOffset() - Z.getTimezoneOffset()) * 6e4)) / (24 * 60 * 60 * 1e3)
    }

    function te(e) {
        return e.indexOf(".") == -1 ? e : e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/, "$1")
    }

    function ae(e) {
        if (e.indexOf("E") == -1) return e;
        return e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/, "$1E").replace(/(E[+-])(\d)$/, "$10$2")
    }

    function ne(e) {
        var r = e < 0 ? 12 : 11;
        var t = te(e.toFixed(12));
        if (t.length <= r) return t;
        t = e.toPrecision(10);
        if (t.length <= r) return t;
        return e.toExponential(5)
    }

    function ie(e) {
        var r = te(e.toFixed(11));
        return r.length > (e < 0 ? 12 : 11) || r === "0" || r === "-0" ? e.toPrecision(6) : r
    }

    function se(e) {
        var r = Math.floor(Math.log(Math.abs(e)) * Math.LOG10E),
            t;
        if (r >= -4 && r <= -1) t = e.toPrecision(10 + r);
        else if (Math.abs(r) <= 9) t = ne(e);
        else if (r === 10) t = e.toFixed(10).substr(0, 12);
        else t = ie(e);
        return te(ae(t.toUpperCase()))
    }

    function fe(e, r) {
        switch (typeof e) {
            case "string":
                return e;
            case "boolean":
                return e ? "TRUE" : "FALSE";
            case "number":
                return (e | 0) === e ? e.toString(10) : se(e);
            case "undefined":
                return "";
            case "object":
                if (e == null) return "";
                if (e instanceof Date) return Be(14, re(e, r && r.date1904), r);
        }
        throw new Error("unsupported value in General format: " + e)
    }

    function oe(e, r) {
        r[0] -= 581;
        var t = e.getDay();
        if (e < 60) t = (t + 6) % 7;
        return t
    }

    function ce(e, r, t, a) {
        var n = "",
            i = 0,
            s = 0,
            f = t.y,
            o, c = 0;
        switch (e) {
            case 98:
                f = t.y + 543;
            case 121:
                switch (r.length) {
                    case 1:
                        ;
                    case 2:
                        o = f % 100;
                        c = 2;
                        break;
                    default:
                        o = f % 1e4;
                        c = 4;
                        break;
                }
                break;
            case 109:
                switch (r.length) {
                    case 1:
                        ;
                    case 2:
                        o = t.m;
                        c = r.length;
                        break;
                    case 3:
                        return G[t.m - 1][1];
                    case 5:
                        return G[t.m - 1][0];
                    default:
                        return G[t.m - 1][2];
                }
                break;
            case 100:
                switch (r.length) {
                    case 1:
                        ;
                    case 2:
                        o = t.d;
                        c = r.length;
                        break;
                    case 3:
                        return V[t.q][0];
                    default:
                        return V[t.q][1];
                }
                break;
            case 104:
                switch (r.length) {
                    case 1:
                        ;
                    case 2:
                        o = 1 + (t.H + 11) % 12;
                        c = r.length;
                        break;
                    default:
                        throw "bad hour format: " + r;
                }
                break;
            case 72:
                switch (r.length) {
                    case 1:
                        ;
                    case 2:
                        o = t.H;
                        c = r.length;
                        break;
                    default:
                        throw "bad hour format: " + r;
                }
                break;
            case 77:
                switch (r.length) {
                    case 1:
                        ;
                    case 2:
                        o = t.M;
                        c = r.length;
                        break;
                    default:
                        throw "bad minute format: " + r;
                }
                break;
            case 115:
                if (r != "s" && r != "ss" && r != ".0" && r != ".00" && r != ".000") throw "bad second format: " + r;
                if (t.u === 0 && (r == "s" || r == "ss")) return P(t.S, r.length);
                if (a >= 2) s = a === 3 ? 1e3 : 100;
                else s = a === 1 ? 10 : 1;
                i = Math.round(s * (t.S + t.u));
                if (i >= 60 * s) i = 0;
                if (r === "s") return i === 0 ? "0" : "" + i / s;
                n = P(i, 2 + a);
                if (r === "ss") return n.substr(0, 2);
                return "." + n.substr(2, r.length - 1);
            case 90:
                switch (r) {
                    case "[h]":
                        ;
                    case "[hh]":
                        o = t.D * 24 + t.H;
                        break;
                    case "[m]":
                        ;
                    case "[mm]":
                        o = (t.D * 24 + t.H) * 60 + t.M;
                        break;
                    case "[s]":
                        ;
                    case "[ss]":
                        o = ((t.D * 24 + t.H) * 60 + t.M) * 60 + Math.round(t.S + t.u);
                        break;
                    default:
                        throw "bad abstime format: " + r;
                }
                c = r.length === 3 ? 1 : 2;
                break;
            case 101:
                o = f;
                c = 1;
                break;
        }
        var l = c > 0 ? P(o, c) : "";
        return l
    }

    function le(e) {
        var r = 3;
        if (e.length <= r) return e;
        var t = e.length % r,
            a = e.substr(0, t);
        for (; t != e.length; t += r) a += (a.length > 0 ? "," : "") + e.substr(t, r);
        return a
    }
    var ue = /%/g;

    function he(e, r, t) {
        var a = r.replace(ue, ""),
            n = r.length - a.length;
        return Ie(e, a, t * Math.pow(10, 2 * n)) + wr("%", n)
    }

    function de(e, r, t) {
        var a = r.length - 1;
        while (r.charCodeAt(a - 1) === 44) --a;
        return Ie(e, r.substr(0, a), t / Math.pow(10, 3 * (r.length - a)))
    }

    function ve(e, r) {
        var t;
        var a = e.indexOf("E") - e.indexOf(".") - 1;
        if (e.match(/^#+0.0E\+0$/)) {
            if (r == 0) return "0.0E+0";
            else if (r < 0) return "-" + ve(e, -r);
            var n = e.indexOf(".");
            if (n === -1) n = e.indexOf("E");
            var i = Math.floor(Math.log(r) * Math.LOG10E) % n;
            if (i < 0) i += n;
            t = (r / Math.pow(10, i)).toPrecision(a + 1 + (n + i) % n);
            if (t.indexOf("e") === -1) {
                var s = Math.floor(Math.log(r) * Math.LOG10E);
                if (t.indexOf(".") === -1) t = t.charAt(0) + "." + t.substr(1) + "E+" + (s - t.length + i);
                else t += "E+" + (s - i);
                while (t.substr(0, 2) === "0.") {
                    t = t.charAt(0) + t.substr(2, n) + "." + t.substr(2 + n);
                    t = t.replace(/^0+([1-9])/, "$1").replace(/^0+\./, "0.")
                }
                t = t.replace(/\+-/, "-")
            }
            t = t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/, function (e, r, t, a) {
                return r + t + a.substr(0, (n + i) % n) + "." + a.substr(i) + "E"
            })
        }
        else t = r.toExponential(a);
        if (e.match(/E\+00$/) && t.match(/e[+-]\d$/)) t = t.substr(0, t.length - 1) + "0" + t.charAt(t.length - 1);
        if (e.match(/E\-/) && t.match(/e\+/)) t = t.replace(/e\+/, "e");
        return t.replace("e", "E")
    }
    var pe = /# (\?+)( ?)\/( ?)(\d+)/;

    function me(e, r, t) {
        var a = parseInt(e[4], 10),
            n = Math.round(r * a),
            i = Math.floor(n / a);
        var s = n - i * a,
            f = a;
        return t + (i === 0 ? "" : "" + i) + " " + (s === 0 ? wr(" ", e[1].length + 1 + e[4].length) : L(s, e[1].length) + e[2] + "/" + e[3] + P(f, e[4].length))
    }

    function be(e, r, t) {
        return t + (r === 0 ? "" : "" + r) + wr(" ", e[1].length + 2 + e[4].length)
    }
    var ge = /^#*0*\.([0#]+)/;
    var we = /\).*[0#]/;
    var ke = /\(###\) ###\\?-####/;

    function Te(e) {
        var r = "",
            t;
        for (var a = 0; a != e.length; ++a) switch (t = e.charCodeAt(a)) {
            case 35:
                break;
            case 63:
                r += " ";
                break;
            case 48:
                r += "0";
                break;
            default:
                r += String.fromCharCode(t);
        }
        return r
    }

    function Ee(e, r) {
        var t = Math.pow(10, r);
        return "" + Math.round(e * t) / t
    }

    function ye(e, r) {
        var t = e - Math.floor(e),
            a = Math.pow(10, r);
        if (r < ("" + Math.round(t * a)).length) return 0;
        return Math.round(t * a)
    }

    function Se(e, r) {
        if (r < ("" + Math.round((e - Math.floor(e)) * Math.pow(10, r))).length) {
            return 1
        }
        return 0
    }

    function _e(e) {
        if (e < 2147483647 && e > -2147483648) return "" + (e >= 0 ? e | 0 : e - 1 | 0);
        return "" + Math.floor(e)
    }

    function Ae(e, r, t) {
        if (e.charCodeAt(0) === 40 && !r.match(we)) {
            var a = r.replace(/\( */, "").replace(/ \)/, "").replace(/\)/, "");
            if (t >= 0) return Ae("n", a, t);
            return "(" + Ae("n", a, -t) + ")"
        }
        if (r.charCodeAt(r.length - 1) === 44) return de(e, r, t);
        if (r.indexOf("%") !== -1) return he(e, r, t);
        if (r.indexOf("E") !== -1) return ve(r, t);
        if (r.charCodeAt(0) === 36) return "$" + Ae(e, r.substr(r.charAt(1) == " " ? 2 : 1), t);
        var n;
        var i, s, f, o = Math.abs(t),
            c = t < 0 ? "-" : "";
        if (r.match(/^00+$/)) return c + H(o, r.length);
        if (r.match(/^[#?]+$/)) {
            n = H(t, 0);
            if (n === "0") n = "";
            return n.length > r.length ? n : Te(r.substr(0, r.length - n.length)) + n
        }
        if (i = r.match(pe)) return me(i, o, c);
        if (r.match(/^#+0+$/)) return c + H(o, r.length - r.indexOf("0"));
        if (i = r.match(ge)) {
            n = Ee(t, i[1].length).replace(/^([^\.]+)$/, "$1." + Te(i[1])).replace(/\.$/, "." + Te(i[1])).replace(/\.(\d*)$/, function (e, r) {
                return "." + r + wr("0", Te(i[1]).length - r.length)
            });
            return r.indexOf("0.") !== -1 ? n : n.replace(/^0\./, ".")
        }
        r = r.replace(/^#+([0.])/, "$1");
        if (i = r.match(/^(0*)\.(#*)$/)) {
            return c + Ee(o, i[2].length).replace(/\.(\d*[1-9])0*$/, ".$1").replace(/^(-?\d*)$/, "$1.").replace(/^0\./, i[1].length ? "0." : ".")
        }
        if (i = r.match(/^#{1,3},##0(\.?)$/)) return c + le(H(o, 0));
        if (i = r.match(/^#,##0\.([#0]*0)$/)) {
            return t < 0 ? "-" + Ae(e, r, -t) : le("" + (Math.floor(t) + Se(t, i[1].length))) + "." + P(ye(t, i[1].length), i[1].length)
        }
        if (i = r.match(/^#,#*,#0/)) return Ae(e, r.replace(/^#,#*,/, ""), t);
        if (i = r.match(/^([0#]+)(\\?-([0#]+))+$/)) {
            n = D(Ae(e, r.replace(/[\\-]/g, ""), t));
            s = 0;
            return D(D(r.replace(/\\/g, "")).replace(/[0#]/g, function (e) {
                return s < n.length ? n.charAt(s++) : e === "0" ? "0" : ""
            }))
        }
        if (r.match(ke)) {
            n = Ae(e, "##########", t);
            return "(" + n.substr(0, 3) + ") " + n.substr(3, 3) + "-" + n.substr(6)
        }
        var l = "";
        if (i = r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)) {
            s = Math.min(i[4].length, 7);
            f = J(o, Math.pow(10, s) - 1, false);
            n = "" + c;
            l = Ie("n", i[1], f[1]);
            if (l.charAt(l.length - 1) == " ") l = l.substr(0, l.length - 1) + "0";
            n += l + i[2] + "/" + i[3];
            l = M(f[2], s);
            if (l.length < i[4].length) l = Te(i[4].substr(i[4].length - l.length)) + l;
            n += l;
            return n
        }
        if (i = r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/)) {
            s = Math.min(Math.max(i[1].length, i[4].length), 7);
            f = J(o, Math.pow(10, s) - 1, true);
            return c + (f[0] || (f[1] ? "" : "0")) + " " + (f[1] ? L(f[1], s) + i[2] + "/" + i[3] + M(f[2], s) : wr(" ", 2 * s + 1 + i[2].length + i[3].length))
        }
        if (i = r.match(/^[#0?]+$/)) {
            n = H(t, 0);
            if (r.length <= n.length) return n;
            return Te(r.substr(0, r.length - n.length)) + n
        }
        if (i = r.match(/^([#0?]+)\.([#0]+)$/)) {
            n = "" + t.toFixed(Math.min(i[2].length, 10)).replace(/([^0])0+$/, "$1");
            s = n.indexOf(".");
            var u = r.indexOf(".") - s,
                h = r.length - n.length - u;
            return Te(r.substr(0, u) + n + r.substr(r.length - h))
        }
        if (i = r.match(/^00,000\.([#0]*0)$/)) {
            s = ye(t, i[1].length);
            return t < 0 ? "-" + Ae(e, r, -t) : le(_e(t)).replace(/^\d,\d{3}$/, "0$&").replace(/^\d*$/, function (e) {
                return "00," + (e.length < 3 ? P(0, 3 - e.length) : "") + e
            }) + "." + P(s, i[1].length)
        }
        switch (r) {
            case "###,##0.00":
                return Ae(e, "#,##0.00", t);
            case "###,###":
                ;
            case "##,###":
                ;
            case "#,###":
                var d = le(H(o, 0));
                return d !== "0" ? c + d : "";
            case "###,###.00":
                return Ae(e, "###,##0.00", t).replace(/^0\./, ".");
            case "#,###.00":
                return Ae(e, "#,##0.00", t).replace(/^0\./, ".");
            default:
                ;
        }
        throw new Error("unsupported format |" + r + "|")
    }

    function xe(e, r, t) {
        var a = r.length - 1;
        while (r.charCodeAt(a - 1) === 44) --a;
        return Ie(e, r.substr(0, a), t / Math.pow(10, 3 * (r.length - a)))
    }

    function Ce(e, r, t) {
        var a = r.replace(ue, ""),
            n = r.length - a.length;
        return Ie(e, a, t * Math.pow(10, 2 * n)) + wr("%", n)
    }

    function Re(e, r) {
        var t;
        var a = e.indexOf("E") - e.indexOf(".") - 1;
        if (e.match(/^#+0.0E\+0$/)) {
            if (r == 0) return "0.0E+0";
            else if (r < 0) return "-" + Re(e, -r);
            var n = e.indexOf(".");
            if (n === -1) n = e.indexOf("E");
            var i = Math.floor(Math.log(r) * Math.LOG10E) % n;
            if (i < 0) i += n;
            t = (r / Math.pow(10, i)).toPrecision(a + 1 + (n + i) % n);
            if (!t.match(/[Ee]/)) {
                var s = Math.floor(Math.log(r) * Math.LOG10E);
                if (t.indexOf(".") === -1) t = t.charAt(0) + "." + t.substr(1) + "E+" + (s - t.length + i);
                else t += "E+" + (s - i);
                t = t.replace(/\+-/, "-")
            }
            t = t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/, function (e, r, t, a) {
                return r + t + a.substr(0, (n + i) % n) + "." + a.substr(i) + "E"
            })
        }
        else t = r.toExponential(a);
        if (e.match(/E\+00$/) && t.match(/e[+-]\d$/)) t = t.substr(0, t.length - 1) + "0" + t.charAt(t.length - 1);
        if (e.match(/E\-/) && t.match(/e\+/)) t = t.replace(/e\+/, "e");
        return t.replace("e", "E")
    }

    function Oe(e, r, t) {
        if (e.charCodeAt(0) === 40 && !r.match(we)) {
            var a = r.replace(/\( */, "").replace(/ \)/, "").replace(/\)/, "");
            if (t >= 0) return Oe("n", a, t);
            return "(" + Oe("n", a, -t) + ")"
        }
        if (r.charCodeAt(r.length - 1) === 44) return xe(e, r, t);
        if (r.indexOf("%") !== -1) return Ce(e, r, t);
        if (r.indexOf("E") !== -1) return Re(r, t);
        if (r.charCodeAt(0) === 36) return "$" + Oe(e, r.substr(r.charAt(1) == " " ? 2 : 1), t);
        var n;
        var i, s, f, o = Math.abs(t),
            c = t < 0 ? "-" : "";
        if (r.match(/^00+$/)) return c + P(o, r.length);
        if (r.match(/^[#?]+$/)) {
            n = "" + t;
            if (t === 0) n = "";
            return n.length > r.length ? n : Te(r.substr(0, r.length - n.length)) + n
        }
        if (i = r.match(pe)) return be(i, o, c);
        if (r.match(/^#+0+$/)) return c + P(o, r.length - r.indexOf("0"));
        if (i = r.match(ge)) {
            n = ("" + t).replace(/^([^\.]+)$/, "$1." + Te(i[1])).replace(/\.$/, "." + Te(i[1]));
            n = n.replace(/\.(\d*)$/, function (e, r) {
                return "." + r + wr("0", Te(i[1]).length - r.length)
            });
            return r.indexOf("0.") !== -1 ? n : n.replace(/^0\./, ".")
        }
        r = r.replace(/^#+([0.])/, "$1");
        if (i = r.match(/^(0*)\.(#*)$/)) {
            return c + ("" + o).replace(/\.(\d*[1-9])0*$/, ".$1").replace(/^(-?\d*)$/, "$1.").replace(/^0\./, i[1].length ? "0." : ".")
        }
        if (i = r.match(/^#{1,3},##0(\.?)$/)) return c + le("" + o);
        if (i = r.match(/^#,##0\.([#0]*0)$/)) {
            return t < 0 ? "-" + Oe(e, r, -t) : le("" + t) + "." + wr("0", i[1].length)
        }
        if (i = r.match(/^#,#*,#0/)) return Oe(e, r.replace(/^#,#*,/, ""), t);
        if (i = r.match(/^([0#]+)(\\?-([0#]+))+$/)) {
            n = D(Oe(e, r.replace(/[\\-]/g, ""), t));
            s = 0;
            return D(D(r.replace(/\\/g, "")).replace(/[0#]/g, function (e) {
                return s < n.length ? n.charAt(s++) : e === "0" ? "0" : ""
            }))
        }
        if (r.match(ke)) {
            n = Oe(e, "##########", t);
            return "(" + n.substr(0, 3) + ") " + n.substr(3, 3) + "-" + n.substr(6)
        }
        var l = "";
        if (i = r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/)) {
            s = Math.min(i[4].length, 7);
            f = J(o, Math.pow(10, s) - 1, false);
            n = "" + c;
            l = Ie("n", i[1], f[1]);
            if (l.charAt(l.length - 1) == " ") l = l.substr(0, l.length - 1) + "0";
            n += l + i[2] + "/" + i[3];
            l = M(f[2], s);
            if (l.length < i[4].length) l = Te(i[4].substr(i[4].length - l.length)) + l;
            n += l;
            return n
        }
        if (i = r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/)) {
            s = Math.min(Math.max(i[1].length, i[4].length), 7);
            f = J(o, Math.pow(10, s) - 1, true);
            return c + (f[0] || (f[1] ? "" : "0")) + " " + (f[1] ? L(f[1], s) + i[2] + "/" + i[3] + M(f[2], s) : wr(" ", 2 * s + 1 + i[2].length + i[3].length))
        }
        if (i = r.match(/^[#0?]+$/)) {
            n = "" + t;
            if (r.length <= n.length) return n;
            return Te(r.substr(0, r.length - n.length)) + n
        }
        if (i = r.match(/^([#0]+)\.([#0]+)$/)) {
            n = "" + t.toFixed(Math.min(i[2].length, 10)).replace(/([^0])0+$/, "$1");
            s = n.indexOf(".");
            var u = r.indexOf(".") - s,
                h = r.length - n.length - u;
            return Te(r.substr(0, u) + n + r.substr(r.length - h))
        }
        if (i = r.match(/^00,000\.([#0]*0)$/)) {
            return t < 0 ? "-" + Oe(e, r, -t) : le("" + t).replace(/^\d,\d{3}$/, "0$&").replace(/^\d*$/, function (e) {
                return "00," + (e.length < 3 ? P(0, 3 - e.length) : "") + e
            }) + "." + P(0, i[1].length)
        }
        switch (r) {
            case "###,###":
                ;
            case "##,###":
                ;
            case "#,###":
                var d = le("" + o);
                return d !== "0" ? c + d : "";
            default:
                if (r.match(/\.[0#?]*$/)) return Oe(e, r.slice(0, r.lastIndexOf(".")), t) + Te(r.slice(r.lastIndexOf(".")));
        }
        throw new Error("unsupported format |" + r + "|")
    }

    function Ie(e, r, t) {
        return (t | 0) === t ? Oe(e, r, t) : Ae(e, r, t)
    }

    function Ne(e) {
        var r = [];
        var t = false;
        for (var a = 0, n = 0; a < e.length; ++a) switch (e.charCodeAt(a)) {
            case 34:
                t = !t;
                break;
            case 95:
                ;
            case 42:
                ;
            case 92:
                ++a;
                break;
            case 59:
                r[r.length] = e.substr(n, a - n);
                n = a + 1;
        }
        r[r.length] = e.substr(n);
        if (t === true) throw new Error("Format |" + e + "| unterminated string ");
        return r
    }
    var Fe = /\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;

    function De(e) {
        var r = 0,
            t = "",
            a = "";
        while (r < e.length) {
            switch (t = e.charAt(r)) {
                case "G":
                    if (z(e, r)) r += 6;
                    r++;
                    break;
                case '"':
                    for (; e.charCodeAt(++r) !== 34 && r < e.length;) { } ++r;
                    break;
                case "\\":
                    r += 2;
                    break;
                case "_":
                    r += 2;
                    break;
                case "@":
                    ++r;
                    break;
                case "B":
                    ;
                case "b":
                    if (e.charAt(r + 1) === "1" || e.charAt(r + 1) === "2") return true;
                case "M":
                    ;
                case "D":
                    ;
                case "Y":
                    ;
                case "H":
                    ;
                case "S":
                    ;
                case "E":
                    ;
                case "m":
                    ;
                case "d":
                    ;
                case "y":
                    ;
                case "h":
                    ;
                case "s":
                    ;
                case "e":
                    ;
                case "g":
                    return true;
                case "A":
                    ;
                case "a":
                    ;
                case "ä¸Š":
                    if (e.substr(r, 3).toUpperCase() === "A/P") return true;
                    if (e.substr(r, 5).toUpperCase() === "AM/PM") return true;
                    if (e.substr(r, 5).toUpperCase() === "ä¸Šåˆ/ä¸‹åˆ") return true;
                    ++r;
                    break;
                case "[":
                    a = t;
                    while (e.charAt(r++) !== "]" && r < e.length) a += e.charAt(r);
                    if (a.match(Fe)) return true;
                    break;
                case ".":
                    ;
                case "0":
                    ;
                case "#":
                    while (r < e.length && ("0#?.,E+-%".indexOf(t = e.charAt(++r)) > -1 || t == "\\" && e.charAt(r + 1) == "-" && "0#".indexOf(e.charAt(r + 2)) > -1)) { }
                    break;
                case "?":
                    while (e.charAt(++r) === t) { }
                    break;
                case "*":
                    ++r;
                    if (e.charAt(r) == " " || e.charAt(r) == "*") ++r;
                    break;
                case "(":
                    ;
                case ")":
                    ++r;
                    break;
                case "1":
                    ;
                case "2":
                    ;
                case "3":
                    ;
                case "4":
                    ;
                case "5":
                    ;
                case "6":
                    ;
                case "7":
                    ;
                case "8":
                    ;
                case "9":
                    while (r < e.length && "0123456789".indexOf(e.charAt(++r)) > -1) { }
                    break;
                case " ":
                    ++r;
                    break;
                default:
                    ++r;
                    break;
            }
        }
        return false
    }

    function Pe(e, r, t, a) {
        var n = [],
            i = "",
            s = 0,
            f = "",
            o = "t",
            c, l, u;
        var h = "H";
        while (s < e.length) {
            switch (f = e.charAt(s)) {
                case "G":
                    if (!z(e, s)) throw new Error("unrecognized character " + f + " in " + e);
                    n[n.length] = {
                        t: "G",
                        v: "General"
                    };
                    s += 7;
                    break;
                case '"':
                    for (i = "";
                        (u = e.charCodeAt(++s)) !== 34 && s < e.length;) i += String.fromCharCode(u);
                    n[n.length] = {
                        t: "t",
                        v: i
                    };
                    ++s;
                    break;
                case "\\":
                    var d = e.charAt(++s),
                        v = d === "(" || d === ")" ? d : "t";
                    n[n.length] = {
                        t: v,
                        v: d
                    };
                    ++s;
                    break;
                case "_":
                    n[n.length] = {
                        t: "t",
                        v: " "
                    };
                    s += 2;
                    break;
                case "@":
                    n[n.length] = {
                        t: "T",
                        v: r
                    };
                    ++s;
                    break;
                case "B":
                    ;
                case "b":
                    if (e.charAt(s + 1) === "1" || e.charAt(s + 1) === "2") {
                        if (c == null) {
                            c = q(r, t, e.charAt(s + 1) === "2");
                            if (c == null) return ""
                        }
                        n[n.length] = {
                            t: "X",
                            v: e.substr(s, 2)
                        };
                        o = f;
                        s += 2;
                        break
                    };
                case "M":
                    ;
                case "D":
                    ;
                case "Y":
                    ;
                case "H":
                    ;
                case "S":
                    ;
                case "E":
                    f = f.toLowerCase();
                case "m":
                    ;
                case "d":
                    ;
                case "y":
                    ;
                case "h":
                    ;
                case "s":
                    ;
                case "e":
                    ;
                case "g":
                    if (r < 0) return "";
                    if (c == null) {
                        c = q(r, t);
                        if (c == null) return ""
                    }
                    i = f;
                    while (++s < e.length && e.charAt(s).toLowerCase() === f) i += f;
                    if (f === "m" && o.toLowerCase() === "h") f = "M";
                    if (f === "h") f = h;
                    n[n.length] = {
                        t: f,
                        v: i
                    };
                    o = f;
                    break;
                case "A":
                    ;
                case "a":
                    ;
                case "ä¸Š":
                    var p = {
                        t: f,
                        v: f
                    };
                    if (c == null) c = q(r, t);
                    if (e.substr(s, 3).toUpperCase() === "A/P") {
                        if (c != null) p.v = c.H >= 12 ? "P" : "A";
                        p.t = "T";
                        h = "h";
                        s += 3
                    }
                    else if (e.substr(s, 5).toUpperCase() === "AM/PM") {
                        if (c != null) p.v = c.H >= 12 ? "PM" : "AM";
                        p.t = "T";
                        s += 5;
                        h = "h"
                    }
                    else if (e.substr(s, 5).toUpperCase() === "ä¸Šåˆ/ä¸‹åˆ") {
                        if (c != null) p.v = c.H >= 12 ? "ä¸‹åˆ" : "ä¸Šåˆ";
                        p.t = "T";
                        s += 5;
                        h = "h"
                    }
                    else {
                        p.t = "t";
                        ++s
                    }
                    if (c == null && p.t === "T") return "";
                    n[n.length] = p;
                    o = f;
                    break;
                case "[":
                    i = f;
                    while (e.charAt(s++) !== "]" && s < e.length) i += e.charAt(s);
                    if (i.slice(-1) !== "]") throw 'unterminated "[" block: |' + i + "|";
                    if (i.match(Fe)) {
                        if (c == null) {
                            c = q(r, t);
                            if (c == null) return ""
                        }
                        n[n.length] = {
                            t: "Z",
                            v: i.toLowerCase()
                        };
                        o = i.charAt(1)
                    }
                    else if (i.indexOf("$") > -1) {
                        i = (i.match(/\$([^-\[\]]*)/) || [])[1] || "$";
                        if (!De(e)) n[n.length] = {
                            t: "t",
                            v: i
                        }
                    }
                    break;
                case ".":
                    if (c != null) {
                        i = f;
                        while (++s < e.length && (f = e.charAt(s)) === "0") i += f;
                        n[n.length] = {
                            t: "s",
                            v: i
                        };
                        break
                    };
                case "0":
                    ;
                case "#":
                    i = f;
                    while (++s < e.length && "0#?.,E+-%".indexOf(f = e.charAt(s)) > -1) i += f;
                    n[n.length] = {
                        t: "n",
                        v: i
                    };
                    break;
                case "?":
                    i = f;
                    while (e.charAt(++s) === f) i += f;
                    n[n.length] = {
                        t: f,
                        v: i
                    };
                    o = f;
                    break;
                case "*":
                    ++s;
                    if (e.charAt(s) == " " || e.charAt(s) == "*") ++s;
                    break;
                case "(":
                    ;
                case ")":
                    n[n.length] = {
                        t: a === 1 ? "t" : f,
                        v: f
                    };
                    ++s;
                    break;
                case "1":
                    ;
                case "2":
                    ;
                case "3":
                    ;
                case "4":
                    ;
                case "5":
                    ;
                case "6":
                    ;
                case "7":
                    ;
                case "8":
                    ;
                case "9":
                    i = f;
                    while (s < e.length && "0123456789".indexOf(e.charAt(++s)) > -1) i += e.charAt(s);
                    n[n.length] = {
                        t: "D",
                        v: i
                    };
                    break;
                case " ":
                    n[n.length] = {
                        t: f,
                        v: f
                    };
                    ++s;
                    break;
                case "$":
                    n[n.length] = {
                        t: "t",
                        v: "$"
                    };
                    ++s;
                    break;
                default:
                    if (",$-+/():!^&'~{}<>=â‚¬acfijklopqrtuvwxzP".indexOf(f) === -1) throw new Error("unrecognized character " + f + " in " + e);
                    n[n.length] = {
                        t: "t",
                        v: f
                    };
                    ++s;
                    break;
            }
        }
        var m = 0,
            b = 0,
            g;
        for (s = n.length - 1, o = "t"; s >= 0; --s) {
            switch (n[s].t) {
                case "h":
                    ;
                case "H":
                    n[s].t = h;
                    o = "h";
                    if (m < 1) m = 1;
                    break;
                case "s":
                    if (g = n[s].v.match(/\.0+$/)) b = Math.max(b, g[0].length - 1);
                    if (m < 3) m = 3;
                case "d":
                    ;
                case "y":
                    ;
                case "M":
                    ;
                case "e":
                    o = n[s].t;
                    break;
                case "m":
                    if (o === "s") {
                        n[s].t = "M";
                        if (m < 2) m = 2
                    }
                    break;
                case "X":
                    break;
                case "Z":
                    if (m < 1 && n[s].v.match(/[Hh]/)) m = 1;
                    if (m < 2 && n[s].v.match(/[Mm]/)) m = 2;
                    if (m < 3 && n[s].v.match(/[Ss]/)) m = 3;
            }
        }
        switch (m) {
            case 0:
                break;
            case 1:
                if (c.u >= .5) {
                    c.u = 0;
                    ++c.S
                }
                if (c.S >= 60) {
                    c.S = 0;
                    ++c.M
                }
                if (c.M >= 60) {
                    c.M = 0;
                    ++c.H
                }
                break;
            case 2:
                if (c.u >= .5) {
                    c.u = 0;
                    ++c.S
                }
                if (c.S >= 60) {
                    c.S = 0;
                    ++c.M
                }
                break;
        }
        var w = "",
            k;
        for (s = 0; s < n.length; ++s) {
            switch (n[s].t) {
                case "t":
                    ;
                case "T":
                    ;
                case " ":
                    ;
                case "D":
                    break;
                case "X":
                    n[s].v = "";
                    n[s].t = ";";
                    break;
                case "d":
                    ;
                case "m":
                    ;
                case "y":
                    ;
                case "h":
                    ;
                case "H":
                    ;
                case "M":
                    ;
                case "s":
                    ;
                case "e":
                    ;
                case "b":
                    ;
                case "Z":
                    n[s].v = ce(n[s].t.charCodeAt(0), n[s].v, c, b);
                    n[s].t = "t";
                    break;
                case "n":
                    ;
                case "?":
                    k = s + 1;
                    while (n[k] != null && ((f = n[k].t) === "?" || f === "D" || (f === " " || f === "t") && n[k + 1] != null && (n[k + 1].t === "?" || n[k + 1].t === "t" && n[k + 1].v === "/") || n[s].t === "(" && (f === " " || f === "n" || f === ")") || f === "t" && (n[k].v === "/" || n[k].v === " " && n[k + 1] != null && n[k + 1].t == "?"))) {
                        n[s].v += n[k].v;
                        n[k] = {
                            v: "",
                            t: ";"
                        };
                        ++k
                    }
                    w += n[s].v;
                    s = k - 1;
                    break;
                case "G":
                    n[s].t = "t";
                    n[s].v = fe(r, t);
                    break;
            }
        }
        var T = "",
            E, y;
        if (w.length > 0) {
            if (w.charCodeAt(0) == 40) {
                E = r < 0 && w.charCodeAt(0) === 45 ? -r : r;
                y = Ie("n", w, E)
            }
            else {
                E = r < 0 && a > 1 ? -r : r;
                y = Ie("n", w, E);
                if (E < 0 && n[0] && n[0].t == "t") {
                    y = y.substr(1);
                    n[0].v = "-" + n[0].v
                }
            }
            k = y.length - 1;
            var S = n.length;
            for (s = 0; s < n.length; ++s)
                if (n[s] != null && n[s].t != "t" && n[s].v.indexOf(".") > -1) {
                    S = s;
                    break
                } var _ = n.length;
            if (S === n.length && y.indexOf("E") === -1) {
                for (s = n.length - 1; s >= 0; --s) {
                    if (n[s] == null || "n?".indexOf(n[s].t) === -1) continue;
                    if (k >= n[s].v.length - 1) {
                        k -= n[s].v.length;
                        n[s].v = y.substr(k + 1, n[s].v.length)
                    }
                    else if (k < 0) n[s].v = "";
                    else {
                        n[s].v = y.substr(0, k + 1);
                        k = -1
                    }
                    n[s].t = "t";
                    _ = s
                }
                if (k >= 0 && _ < n.length) n[_].v = y.substr(0, k + 1) + n[_].v
            }
            else if (S !== n.length && y.indexOf("E") === -1) {
                k = y.indexOf(".") - 1;
                for (s = S; s >= 0; --s) {
                    if (n[s] == null || "n?".indexOf(n[s].t) === -1) continue;
                    l = n[s].v.indexOf(".") > -1 && s === S ? n[s].v.indexOf(".") - 1 : n[s].v.length - 1;
                    T = n[s].v.substr(l + 1);
                    for (; l >= 0; --l) {
                        if (k >= 0 && (n[s].v.charAt(l) === "0" || n[s].v.charAt(l) === "#")) T = y.charAt(k--) + T
                    }
                    n[s].v = T;
                    n[s].t = "t";
                    _ = s
                }
                if (k >= 0 && _ < n.length) n[_].v = y.substr(0, k + 1) + n[_].v;
                k = y.indexOf(".") + 1;
                for (s = S; s < n.length; ++s) {
                    if (n[s] == null || "n?(".indexOf(n[s].t) === -1 && s !== S) continue;
                    l = n[s].v.indexOf(".") > -1 && s === S ? n[s].v.indexOf(".") + 1 : 0;
                    T = n[s].v.substr(0, l);
                    for (; l < n[s].v.length; ++l) {
                        if (k < y.length) T += y.charAt(k++)
                    }
                    n[s].v = T;
                    n[s].t = "t";
                    _ = s
                }
            }
        }
        for (s = 0; s < n.length; ++s)
            if (n[s] != null && "n?".indexOf(n[s].t) > -1) {
                E = a > 1 && r < 0 && s > 0 && n[s - 1].v === "-" ? -r : r;
                n[s].v = Ie(n[s].t, n[s].v, E);
                n[s].t = "t"
            } var A = "";
        for (s = 0; s !== n.length; ++s)
            if (n[s] != null) A += n[s].v;
        return A
    }
    var Le = /\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;

    function Me(e, r) {
        if (r == null) return false;
        var t = parseFloat(r[2]);
        switch (r[1]) {
            case "=":
                if (e == t) return true;
                break;
            case ">":
                if (e > t) return true;
                break;
            case "<":
                if (e < t) return true;
                break;
            case "<>":
                if (e != t) return true;
                break;
            case ">=":
                if (e >= t) return true;
                break;
            case "<=":
                if (e <= t) return true;
                break;
        }
        return false
    }

    function Ue(e, r) {
        var t = Ne(e);
        var a = t.length,
            n = t[a - 1].indexOf("@");
        if (a < 4 && n > -1) --a;
        if (t.length > 4) throw new Error("cannot find right format for |" + t.join("|") + "|");
        if (typeof r !== "number") return [4, t.length === 4 || n > -1 ? t[t.length - 1] : "@"];
        switch (t.length) {
            case 1:
                t = n > -1 ? ["General", "General", "General", t[0]] : [t[0], t[0], t[0], "@"];
                break;
            case 2:
                t = n > -1 ? [t[0], t[0], t[0], t[1]] : [t[0], t[1], t[0], "@"];
                break;
            case 3:
                t = n > -1 ? [t[0], t[1], t[0], t[2]] : [t[0], t[1], t[2], "@"];
                break;
            case 4:
                break;
        }
        var i = r > 0 ? t[0] : r < 0 ? t[1] : t[2];
        if (t[0].indexOf("[") === -1 && t[1].indexOf("[") === -1) return [a, i];
        if (t[0].match(/\[[=<>]/) != null || t[1].match(/\[[=<>]/) != null) {
            var s = t[0].match(Le);
            var f = t[1].match(Le);
            return Me(r, s) ? [a, t[0]] : Me(r, f) ? [a, t[1]] : [a, t[s != null && f != null ? 2 : 1]]
        }
        return [a, i]
    }

    function Be(e, r, t) {
        if (t == null) t = {};
        var a = "";
        switch (typeof e) {
            case "string":
                if (e == "m/d/yy" && t.dateNF) a = t.dateNF;
                else a = e;
                break;
            case "number":
                if (e == 14 && t.dateNF) a = t.dateNF;
                else a = (t.table != null ? t.table : X)[e];
                if (a == null) a = t.table && t.table[Y[e]] || X[Y[e]];
                if (a == null) a = K[e] || "General";
                break;
        }
        if (z(a, 0)) return fe(r, t);
        if (r instanceof Date) r = re(r, t.date1904);
        var n = Ue(a, r);
        if (z(n[1])) return fe(r, t);
        if (r === true) r = "TRUE";
        else if (r === false) r = "FALSE";
        else if (r === "" || r == null) return "";
        return Pe(n[1], r, t, n[0])
    }

    function We(e, r) {
        if (typeof r != "number") {
            r = +r || -1;
            for (var t = 0; t < 392; ++t) {
                if (X[t] == undefined) {
                    if (r < 0) r = t;
                    continue
                }
                if (X[t] == e) {
                    r = t;
                    break
                }
            }
            if (r < 0) r = 391
        }
        X[r] = e;
        return r
    }

    function He(e) {
        for (var r = 0; r != 392; ++r)
            if (e[r] !== undefined) We(e[r], r)
    }

    function ze() {
        X = j()
    }
    var Ve = {
        format: Be,
        load: We,
        _table: X,
        load_table: He,
        parse_date_code: q,
        is_date: De,
        get_table: function Qw() {
            return Ve._table = X
        }
    };
    var Ge = {
        5: '"$"#,##0_);\\("$"#,##0\\)',
        6: '"$"#,##0_);[Red]\\("$"#,##0\\)',
        7: '"$"#,##0.00_);\\("$"#,##0.00\\)',
        8: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',
        23: "General",
        24: "General",
        25: "General",
        26: "General",
        27: "m/d/yy",
        28: "m/d/yy",
        29: "m/d/yy",
        30: "m/d/yy",
        31: "m/d/yy",
        32: "h:mm:ss",
        33: "h:mm:ss",
        34: "h:mm:ss",
        35: "h:mm:ss",
        36: "m/d/yy",
        41: '_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',
        42: '_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',
        43: '_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',
        44: '_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',
        50: "m/d/yy",
        51: "m/d/yy",
        52: "m/d/yy",
        53: "m/d/yy",
        54: "m/d/yy",
        55: "m/d/yy",
        56: "m/d/yy",
        57: "m/d/yy",
        58: "m/d/yy",
        59: "0",
        60: "0.00",
        61: "#,##0",
        62: "#,##0.00",
        63: '"$"#,##0_);\\("$"#,##0\\)',
        64: '"$"#,##0_);[Red]\\("$"#,##0\\)',
        65: '"$"#,##0.00_);\\("$"#,##0.00\\)',
        66: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',
        67: "0%",
        68: "0.00%",
        69: "# ?/?",
        70: "# ??/??",
        71: "m/d/yy",
        72: "m/d/yy",
        73: "d-mmm-yy",
        74: "d-mmm",
        75: "mmm-yy",
        76: "h:mm",
        77: "h:mm:ss",
        78: "m/d/yy h:mm",
        79: "mm:ss",
        80: "[h]:mm:ss",
        81: "mmss.0"
    };
    var je = /[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;

    function Xe(e) {
        var r = typeof e == "number" ? X[e] : e;
        r = r.replace(je, "(\\d+)");
        return new RegExp("^" + r + "$")
    }

    function $e(e, r, t) {
        var a = -1,
            n = -1,
            i = -1,
            s = -1,
            f = -1,
            o = -1;
        (r.match(je) || []).forEach(function (e, r) {
            var c = parseInt(t[r + 1], 10);
            switch (e.toLowerCase().charAt(0)) {
                case "y":
                    a = c;
                    break;
                case "d":
                    i = c;
                    break;
                case "h":
                    s = c;
                    break;
                case "s":
                    o = c;
                    break;
                case "m":
                    if (s >= 0) f = c;
                    else n = c;
                    break;
            }
        });
        if (o >= 0 && f == -1 && n >= 0) {
            f = n;
            n = -1
        }
        var c = ("" + (a >= 0 ? a : (new Date).getFullYear())).slice(-4) + "-" + ("00" + (n >= 1 ? n : 1)).slice(-2) + "-" + ("00" + (i >= 1 ? i : 1)).slice(-2);
        if (c.length == 7) c = "0" + c;
        if (c.length == 8) c = "20" + c;
        var l = ("00" + (s >= 0 ? s : 0)).slice(-2) + ":" + ("00" + (f >= 0 ? f : 0)).slice(-2) + ":" + ("00" + (o >= 0 ? o : 0)).slice(-2);
        if (s == -1 && f == -1 && o == -1) return c;
        if (a == -1 && n == -1 && i == -1) return l;
        return c + "T" + l
    }
    var Ye = function () {
        var e = {};
        e.version = "1.2.0";

        function r() {
            var e = 0,
                r = new Array(256);
            for (var t = 0; t != 256; ++t) {
                e = t;
                e = e & 1 ? -306674912 ^ e >>> 1 : e >>> 1;
                e = e & 1 ? -306674912 ^ e >>> 1 : e >>> 1;
                e = e & 1 ? -306674912 ^ e >>> 1 : e >>> 1;
                e = e & 1 ? -306674912 ^ e >>> 1 : e >>> 1;
                e = e & 1 ? -306674912 ^ e >>> 1 : e >>> 1;
                e = e & 1 ? -306674912 ^ e >>> 1 : e >>> 1;
                e = e & 1 ? -306674912 ^ e >>> 1 : e >>> 1;
                e = e & 1 ? -306674912 ^ e >>> 1 : e >>> 1;
                r[t] = e
            }
            return typeof Int32Array !== "undefined" ? new Int32Array(r) : r
        }
        var t = r();

        function a(e) {
            var r = 0,
                t = 0,
                a = 0,
                n = typeof Int32Array !== "undefined" ? new Int32Array(4096) : new Array(4096);
            for (a = 0; a != 256; ++a) n[a] = e[a];
            for (a = 0; a != 256; ++a) {
                t = e[a];
                for (r = 256 + a; r < 4096; r += 256) t = n[r] = t >>> 8 ^ e[t & 255]
            }
            var i = [];
            for (a = 1; a != 16; ++a) i[a - 1] = typeof Int32Array !== "undefined" ? n.subarray(a * 256, a * 256 + 256) : n.slice(a * 256, a * 256 + 256);
            return i
        }
        var n = a(t);
        var i = n[0],
            s = n[1],
            f = n[2],
            o = n[3],
            c = n[4];
        var l = n[5],
            u = n[6],
            h = n[7],
            d = n[8],
            v = n[9];
        var p = n[10],
            m = n[11],
            b = n[12],
            g = n[13],
            w = n[14];

        function k(e, r) {
            var a = r ^ -1;
            for (var n = 0, i = e.length; n < i;) a = a >>> 8 ^ t[(a ^ e.charCodeAt(n++)) & 255];
            return ~a
        }

        function T(e, r) {
            var a = r ^ -1,
                n = e.length - 15,
                k = 0;
            for (; k < n;) a = w[e[k++] ^ a & 255] ^ g[e[k++] ^ a >> 8 & 255] ^ b[e[k++] ^ a >> 16 & 255] ^ m[e[k++] ^ a >>> 24] ^ p[e[k++]] ^ v[e[k++]] ^ d[e[k++]] ^ h[e[k++]] ^ u[e[k++]] ^ l[e[k++]] ^ c[e[k++]] ^ o[e[k++]] ^ f[e[k++]] ^ s[e[k++]] ^ i[e[k++]] ^ t[e[k++]];
            n += 15;
            while (k < n) a = a >>> 8 ^ t[(a ^ e[k++]) & 255];
            return ~a
        }

        function E(e, r) {
            var a = r ^ -1;
            for (var n = 0, i = e.length, s = 0, f = 0; n < i;) {
                s = e.charCodeAt(n++);
                if (s < 128) {
                    a = a >>> 8 ^ t[(a ^ s) & 255]
                }
                else if (s < 2048) {
                    a = a >>> 8 ^ t[(a ^ (192 | s >> 6 & 31)) & 255];
                    a = a >>> 8 ^ t[(a ^ (128 | s & 63)) & 255]
                }
                else if (s >= 55296 && s < 57344) {
                    s = (s & 1023) + 64;
                    f = e.charCodeAt(n++) & 1023;
                    a = a >>> 8 ^ t[(a ^ (240 | s >> 8 & 7)) & 255];
                    a = a >>> 8 ^ t[(a ^ (128 | s >> 2 & 63)) & 255];
                    a = a >>> 8 ^ t[(a ^ (128 | f >> 6 & 15 | (s & 3) << 4)) & 255];
                    a = a >>> 8 ^ t[(a ^ (128 | f & 63)) & 255]
                }
                else {
                    a = a >>> 8 ^ t[(a ^ (224 | s >> 12 & 15)) & 255];
                    a = a >>> 8 ^ t[(a ^ (128 | s >> 6 & 63)) & 255];
                    a = a >>> 8 ^ t[(a ^ (128 | s & 63)) & 255]
                }
            }
            return ~a
        }
        e.table = t;
        e.bstr = k;
        e.buf = T;
        e.str = E;
        return e
    }();
    var Ke = function ek() {
        var e = {};
        e.version = "1.2.1";

        function r(e, r) {
            var t = e.split("/"),
                a = r.split("/");
            for (var n = 0, i = 0, s = Math.min(t.length, a.length); n < s; ++n) {
                if (i = t[n].length - a[n].length) return i;
                if (t[n] != a[n]) return t[n] < a[n] ? -1 : 1
            }
            return t.length - a.length
        }

        function t(e) {
            if (e.charAt(e.length - 1) == "/") return e.slice(0, -1).indexOf("/") === -1 ? e : t(e.slice(0, -1));
            var r = e.lastIndexOf("/");
            return r === -1 ? e : e.slice(0, r + 1)
        }

        function a(e) {
            if (e.charAt(e.length - 1) == "/") return a(e.slice(0, -1));
            var r = e.lastIndexOf("/");
            return r === -1 ? e : e.slice(r + 1)
        }

        function n(e, r) {
            if (typeof r === "string") r = new Date(r);
            var t = r.getHours();
            t = t << 6 | r.getMinutes();
            t = t << 5 | r.getSeconds() >>> 1;
            e._W(2, t);
            var a = r.getFullYear() - 1980;
            a = a << 4 | r.getMonth() + 1;
            a = a << 5 | r.getDate();
            e._W(2, a)
        }

        function i(e) {
            var r = e._R(2) & 65535;
            var t = e._R(2) & 65535;
            var a = new Date;
            var n = t & 31;
            t >>>= 5;
            var i = t & 15;
            t >>>= 4;
            a.setMilliseconds(0);
            a.setFullYear(t + 1980);
            a.setMonth(i - 1);
            a.setDate(n);
            var s = r & 31;
            r >>>= 5;
            var f = r & 63;
            r >>>= 6;
            a.setHours(r);
            a.setMinutes(f);
            a.setSeconds(s << 1);
            return a
        }

        function s(e) {
            la(e, 0);
            var r = {};
            var t = 0;
            while (e.l <= e.length - 4) {
                var a = e._R(2);
                var n = e._R(2),
                    i = e.l + n;
                var s = {};
                switch (a) {
                    case 21589:
                        {
                            t = e._R(1);
                            if (t & 1) s.mtime = e._R(4);
                            if (n > 5) {
                                if (t & 2) s.atime = e._R(4);
                                if (t & 4) s.ctime = e._R(4)
                            }
                            if (s.mtime) s.mt = new Date(s.mtime * 1e3)
                        }
                        break;
                }
                e.l = i;
                r[a] = s
            }
            return r
        }
        var f;

        function o() {
            return f || (f = undefined)
        }

        function c(e, r) {
            if (e[0] == 80 && e[1] == 75) return Ie(e, r);
            if ((e[0] | 32) == 109 && (e[1] | 32) == 105) return We(e, r);
            if (e.length < 512) throw new Error("CFB file size " + e.length + " < 512");
            var t = 3;
            var a = 512;
            var n = 0;
            var i = 0;
            var s = 0;
            var f = 0;
            var o = 0;
            var c = [];
            var v = e.slice(0, 512);
            la(v, 0);
            var m = l(v);
            t = m[0];
            switch (t) {
                case 3:
                    a = 512;
                    break;
                case 4:
                    a = 4096;
                    break;
                case 0:
                    if (m[1] == 0) return Ie(e, r);
                default:
                    throw new Error("Major Version: Expected 3 or 4 saw " + t);
            }
            if (a !== 512) {
                v = e.slice(0, a);
                la(v, 28)
            }
            var w = e.slice(0, a);
            u(v, t);
            var k = v._R(4, "i");
            if (t === 3 && k !== 0) throw new Error("# Directory Sectors: Expected 0 saw " + k);
            v.l += 4;
            s = v._R(4, "i");
            v.l += 4;
            v.chk("00100000", "Mini Stream Cutoff Size: ");
            f = v._R(4, "i");
            n = v._R(4, "i");
            o = v._R(4, "i");
            i = v._R(4, "i");
            for (var T = -1, E = 0; E < 109; ++E) {
                T = v._R(4, "i");
                if (T < 0) break;
                c[E] = T
            }
            var y = h(e, a);
            p(o, i, y, a, c);
            var S = b(y, s, c, a);
            S[s].name = "!Directory";
            if (n > 0 && f !== U) S[f].name = "!MiniFAT";
            S[c[0]].name = "!FAT";
            S.fat_addrs = c;
            S.ssz = a;
            var _ = {},
                A = [],
                x = [],
                C = [];
            g(s, S, y, A, n, _, x, f);
            d(x, C, A);
            A.shift();
            var R = {
                FileIndex: x,
                FullPaths: C
            };
            if (r && r.raw) R.raw = {
                header: w,
                sectors: y
            };
            return R
        }

        function l(e) {
            if (e[e.l] == 80 && e[e.l + 1] == 75) return [0, 0];
            e.chk(B, "Header Signature: ");
            e.l += 16;
            var r = e._R(2, "u");
            return [e._R(2, "u"), r]
        }

        function u(e, r) {
            var t = 9;
            e.l += 2;
            switch (t = e._R(2)) {
                case 9:
                    if (r != 3) throw new Error("Sector Shift: Expected 9 saw " + t);
                    break;
                case 12:
                    if (r != 4) throw new Error("Sector Shift: Expected 12 saw " + t);
                    break;
                default:
                    throw new Error("Sector Shift: Expected 9 or 12 saw " + t);
            }
            e.chk("0600", "Mini Sector Shift: ");
            e.chk("000000000000", "Reserved: ")
        }

        function h(e, r) {
            var t = Math.ceil(e.length / r) - 1;
            var a = [];
            for (var n = 1; n < t; ++n) a[n - 1] = e.slice(n * r, (n + 1) * r);
            a[t - 1] = e.slice(t * r);
            return a
        }

        function d(e, r, t) {
            var a = 0,
                n = 0,
                i = 0,
                s = 0,
                f = 0,
                o = t.length;
            var c = [],
                l = [];
            for (; a < o; ++a) {
                c[a] = l[a] = a;
                r[a] = t[a]
            }
            for (; f < l.length; ++f) {
                a = l[f];
                n = e[a].L;
                i = e[a].R;
                s = e[a].C;
                if (c[a] === a) {
                    if (n !== -1 && c[n] !== n) c[a] = c[n];
                    if (i !== -1 && c[i] !== i) c[a] = c[i]
                }
                if (s !== -1) c[s] = a;
                if (n !== -1 && a != c[a]) {
                    c[n] = c[a];
                    if (l.lastIndexOf(n) < f) l.push(n)
                }
                if (i !== -1 && a != c[a]) {
                    c[i] = c[a];
                    if (l.lastIndexOf(i) < f) l.push(i)
                }
            }
            for (a = 1; a < o; ++a)
                if (c[a] === a) {
                    if (i !== -1 && c[i] !== i) c[a] = c[i];
                    else if (n !== -1 && c[n] !== n) c[a] = c[n]
                } for (a = 1; a < o; ++a) {
                    if (e[a].type === 0) continue;
                    f = a;
                    if (f != c[f])
                        do {
                            f = c[f];
                            r[a] = r[f] + "/" + r[a]
                        } while (f !== 0 && -1 !== c[f] && f != c[f]);
                    c[a] = -1
                }
            r[0] += "/";
            for (a = 1; a < o; ++a) {
                if (e[a].type !== 2) r[a] += "/"
            }
        }

        function v(e, r, t) {
            var a = e.start,
                n = e.size;
            var i = [];
            var s = a;
            while (t && n > 0 && s >= 0) {
                i.push(r.slice(s * M, s * M + M));
                n -= M;
                s = ta(t, s * 4)
            }
            if (i.length === 0) return ha(0);
            return O(i).slice(0, e.size)
        }

        function p(e, r, t, a, n) {
            var i = U;
            if (e === U) {
                if (r !== 0) throw new Error("DIFAT chain shorter than expected")
            }
            else if (e !== -1) {
                var s = t[e],
                    f = (a >>> 2) - 1;
                if (!s) return;
                for (var o = 0; o < f; ++o) {
                    if ((i = ta(s, o * 4)) === U) break;
                    n.push(i)
                }
                p(ta(s, a - 4), r - 1, t, a, n)
            }
        }

        function m(e, r, t, a, n) {
            var i = [],
                s = [];
            if (!n) n = [];
            var f = a - 1,
                o = 0,
                c = 0;
            for (o = r; o >= 0;) {
                n[o] = true;
                i[i.length] = o;
                s.push(e[o]);
                var l = t[Math.floor(o * 4 / a)];
                c = o * 4 & f;
                if (a < 4 + c) throw new Error("FAT boundary crossed: " + o + " 4 " + a);
                if (!e[l]) break;
                o = ta(e[l], c)
            }
            return {
                nodes: i,
                data: It([s])
            }
        }

        function b(e, r, t, a) {
            var n = e.length,
                i = [];
            var s = [],
                f = [],
                o = [];
            var c = a - 1,
                l = 0,
                u = 0,
                h = 0,
                d = 0;
            for (l = 0; l < n; ++l) {
                f = [];
                h = l + r;
                if (h >= n) h -= n;
                if (s[h]) continue;
                o = [];
                var v = [];
                for (u = h; u >= 0;) {
                    v[u] = true;
                    s[u] = true;
                    f[f.length] = u;
                    o.push(e[u]);
                    var p = t[Math.floor(u * 4 / a)];
                    d = u * 4 & c;
                    if (a < 4 + d) throw new Error("FAT boundary crossed: " + u + " 4 " + a);
                    if (!e[p]) break;
                    u = ta(e[p], d);
                    if (v[u]) break
                }
                i[h] = {
                    nodes: f,
                    data: It([o])
                }
            }
            return i
        }

        function g(e, r, t, a, n, i, s, f) {
            var o = 0,
                c = a.length ? 2 : 0;
            var l = r[e].data;
            var u = 0,
                h = 0,
                d;
            for (; u < l.length; u += 128) {
                var p = l.slice(u, u + 128);
                la(p, 64);
                h = p._R(2);
                d = Ft(p, 0, h - c);
                a.push(d);
                var b = {
                    name: d,
                    type: p._R(1),
                    color: p._R(1),
                    L: p._R(4, "i"),
                    R: p._R(4, "i"),
                    C: p._R(4, "i"),
                    clsid: p._R(16),
                    state: p._R(4, "i"),
                    start: 0,
                    size: 0
                };
                var g = p._R(2) + p._R(2) + p._R(2) + p._R(2);
                if (g !== 0) b.ct = A(p, p.l - 8);
                var w = p._R(2) + p._R(2) + p._R(2) + p._R(2);
                if (w !== 0) b.mt = A(p, p.l - 8);
                b.start = p._R(4, "i");
                b.size = p._R(4, "i");
                if (b.size < 0 && b.start < 0) {
                    b.size = b.type = 0;
                    b.start = U;
                    b.name = ""
                }
                if (b.type === 5) {
                    o = b.start;
                    if (n > 0 && o !== U) r[o].name = "!StreamData"
                }
                else if (b.size >= 4096) {
                    b.storage = "fat";
                    if (r[b.start] === undefined) r[b.start] = m(t, b.start, r.fat_addrs, r.ssz);
                    r[b.start].name = b.name;
                    b.content = r[b.start].data.slice(0, b.size)
                }
                else {
                    b.storage = "minifat";
                    if (b.size < 0) b.size = 0;
                    else if (o !== U && b.start !== U && r[o]) {
                        b.content = v(b, r[o].data, (r[f] ||
                            {}).data)
                    }
                }
                if (b.content) la(b.content, 0);
                i[d] = b;
                s.push(b)
            }
        }

        function A(e, r) {
            return new Date((ra(e, r + 4) / 1e7 * Math.pow(2, 32) + ra(e, r) / 1e7 - 11644473600) * 1e3)
        }

        function x(e, r) {
            o();
            return c(f.readFileSync(e), r)
        }

        function C(e, r) {
            var t = r && r.type;
            if (!t) {
                if (T && Buffer.isBuffer(e)) t = "buffer"
            }
            switch (t || "base64") {
                case "file":
                    return x(e, r);
                case "base64":
                    return c(_(k(e)), r);
                case "binary":
                    return c(_(e), r);
            }
            return c(e, r)
        }

        function R(e, r) {
            var t = r ||
                {},
                a = t.root || "Root Entry";
            if (!e.FullPaths) e.FullPaths = [];
            if (!e.FileIndex) e.FileIndex = [];
            if (e.FullPaths.length !== e.FileIndex.length) throw new Error("inconsistent CFB structure");
            if (e.FullPaths.length === 0) {
                e.FullPaths[0] = a + "/";
                e.FileIndex[0] = {
                    name: a,
                    type: 5
                }
            }
            if (t.CLSID) e.FileIndex[0].clsid = t.CLSID;
            I(e)
        }

        function I(e) {
            var r = "Sh33tJ5";
            if (Ke.find(e, "/" + r)) return;
            var t = ha(4);
            t[0] = 55;
            t[1] = t[3] = 50;
            t[2] = 54;
            e.FileIndex.push(
                {
                    name: r,
                    type: 2,
                    content: t,
                    size: 4,
                    L: 69,
                    R: 69,
                    C: 69
                });
            e.FullPaths.push(e.FullPaths[0] + r);
            D(e)
        }

        function D(e, n) {
            R(e);
            var i = false,
                s = false;
            for (var f = e.FullPaths.length - 1; f >= 0; --f) {
                var o = e.FileIndex[f];
                switch (o.type) {
                    case 0:
                        if (s) i = true;
                        else {
                            e.FileIndex.pop();
                            e.FullPaths.pop()
                        }
                        break;
                    case 1:
                        ;
                    case 2:
                        ;
                    case 5:
                        s = true;
                        if (isNaN(o.R * o.L * o.C)) i = true;
                        if (o.R > -1 && o.L > -1 && o.R == o.L) i = true;
                        break;
                    default:
                        i = true;
                        break;
                }
            }
            if (!i && !n) return;
            var c = new Date(1987, 1, 19),
                l = 0;
            var u = Object.create ? Object.create(null) :
                {};
            var h = [];
            for (f = 0; f < e.FullPaths.length; ++f) {
                u[e.FullPaths[f]] = true;
                if (e.FileIndex[f].type === 0) continue;
                h.push([e.FullPaths[f], e.FileIndex[f]])
            }
            for (f = 0; f < h.length; ++f) {
                var d = t(h[f][0]);
                s = u[d];
                if (!s) {
                    h.push([d,
                        {
                            name: a(d).replace("/", ""),
                            type: 1,
                            clsid: H,
                            ct: c,
                            mt: c,
                            content: null
                        }]);
                    u[d] = true
                }
            }
            h.sort(function (e, t) {
                return r(e[0], t[0])
            });
            e.FullPaths = [];
            e.FileIndex = [];
            for (f = 0; f < h.length; ++f) {
                e.FullPaths[f] = h[f][0];
                e.FileIndex[f] = h[f][1]
            }
            for (f = 0; f < h.length; ++f) {
                var v = e.FileIndex[f];
                var p = e.FullPaths[f];
                v.name = a(p).replace("/", "");
                v.L = v.R = v.C = -(v.color = 1);
                v.size = v.content ? v.content.length : 0;
                v.start = 0;
                v.clsid = v.clsid || H;
                if (f === 0) {
                    v.C = h.length > 1 ? 1 : -1;
                    v.size = 0;
                    v.type = 5
                }
                else if (p.slice(-1) == "/") {
                    for (l = f + 1; l < h.length; ++l)
                        if (t(e.FullPaths[l]) == p) break;
                    v.C = l >= h.length ? -1 : l;
                    for (l = f + 1; l < h.length; ++l)
                        if (t(e.FullPaths[l]) == t(p)) break;
                    v.R = l >= h.length ? -1 : l;
                    v.type = 1
                }
                else {
                    if (t(e.FullPaths[f + 1] || "") == t(p)) v.R = f + 1;
                    v.type = 2
                }
            }
        }

        function P(e, r) {
            var t = r ||
                {};
            if (t.fileType == "mad") return He(e, t);
            D(e);
            switch (t.fileType) {
                case "zip":
                    return Fe(e, t);
            }
            var a = function (e) {
                var r = 0,
                    t = 0;
                for (var a = 0; a < e.FileIndex.length; ++a) {
                    var n = e.FileIndex[a];
                    if (!n.content) continue;
                    var i = n.content.length;
                    if (i > 0) {
                        if (i < 4096) r += i + 63 >> 6;
                        else t += i + 511 >> 9
                    }
                }
                var s = e.FullPaths.length + 3 >> 2;
                var f = r + 7 >> 3;
                var o = r + 127 >> 7;
                var c = f + t + s + o;
                var l = c + 127 >> 7;
                var u = l <= 109 ? 0 : Math.ceil((l - 109) / 127);
                while (c + l + u + 127 >> 7 > l) u = ++l <= 109 ? 0 : Math.ceil((l - 109) / 127);
                var h = [1, u, l, o, s, t, r, 0];
                e.FileIndex[0].size = r << 6;
                h[7] = (e.FileIndex[0].start = h[0] + h[1] + h[2] + h[3] + h[4] + h[5]) + (h[6] + 7 >> 3);
                return h
            }(e);
            var n = ha(a[7] << 9);
            var i = 0,
                s = 0;
            {
                for (i = 0; i < 8; ++i) n._W(1, W[i]);
                for (i = 0; i < 8; ++i) n._W(2, 0);
                n._W(2, 62);
                n._W(2, 3);
                n._W(2, 65534);
                n._W(2, 9);
                n._W(2, 6);
                for (i = 0; i < 3; ++i) n._W(2, 0);
                n._W(4, 0);
                n._W(4, a[2]);
                n._W(4, a[0] + a[1] + a[2] + a[3] - 1);
                n._W(4, 0);
                n._W(4, 1 << 12);
                n._W(4, a[3] ? a[0] + a[1] + a[2] - 1 : U);
                n._W(4, a[3]);
                n._W(-4, a[1] ? a[0] - 1 : U);
                n._W(4, a[1]);
                for (i = 0; i < 109; ++i) n._W(-4, i < a[2] ? a[1] + i : -1)
            }
            if (a[1]) {
                for (s = 0; s < a[1]; ++s) {
                    for (; i < 236 + s * 127; ++i) n._W(-4, i < a[2] ? a[1] + i : -1);
                    n._W(-4, s === a[1] - 1 ? U : s + 1)
                }
            }
            var f = function (e) {
                for (s += e; i < s - 1; ++i) n._W(-4, i + 1);
                if (e) {
                    ++i;
                    n._W(-4, U)
                }
            };
            s = i = 0;
            for (s += a[1]; i < s; ++i) n._W(-4, z.DIFSECT);
            for (s += a[2]; i < s; ++i) n._W(-4, z.FATSECT);
            f(a[3]);
            f(a[4]);
            var o = 0,
                c = 0;
            var l = e.FileIndex[0];
            for (; o < e.FileIndex.length; ++o) {
                l = e.FileIndex[o];
                if (!l.content) continue;
                c = l.content.length;
                if (c < 4096) continue;
                l.start = s;
                f(c + 511 >> 9)
            }
            f(a[6] + 7 >> 3);
            while (n.l & 511) n._W(-4, z.ENDOFCHAIN);
            s = i = 0;
            for (o = 0; o < e.FileIndex.length; ++o) {
                l = e.FileIndex[o];
                if (!l.content) continue;
                c = l.content.length;
                if (!c || c >= 4096) continue;
                l.start = s;
                f(c + 63 >> 6)
            }
            while (n.l & 511) n._W(-4, z.ENDOFCHAIN);
            for (i = 0; i < a[4] << 2; ++i) {
                var u = e.FullPaths[i];
                if (!u || u.length === 0) {
                    for (o = 0; o < 17; ++o) n._W(4, 0);
                    for (o = 0; o < 3; ++o) n._W(4, -1);
                    for (o = 0; o < 12; ++o) n._W(4, 0);
                    continue
                }
                l = e.FileIndex[i];
                if (i === 0) l.start = l.size ? l.start - 1 : U;
                var h = i === 0 && t.root || l.name;
                c = 2 * (h.length + 1);
                n._W(64, h, "utf16le");
                n._W(2, c);
                n._W(1, l.type);
                n._W(1, l.color);
                n._W(-4, l.L);
                n._W(-4, l.R);
                n._W(-4, l.C);
                if (!l.clsid)
                    for (o = 0; o < 4; ++o) n._W(4, 0);
                else n._W(16, l.clsid, "hex");
                n._W(4, l.state || 0);
                n._W(4, 0);
                n._W(4, 0);
                n._W(4, 0);
                n._W(4, 0);
                n._W(4, l.start);
                n._W(4, l.size);
                n._W(4, 0)
            }
            for (i = 1; i < e.FileIndex.length; ++i) {
                l = e.FileIndex[i];
                if (l.size >= 4096) {
                    n.l = l.start + 1 << 9;
                    if (T && Buffer.isBuffer(l.content)) {
                        l.content.copy(n, n.l, 0, l.size);
                        n.l += l.size + 511 & -512
                    }
                    else {
                        for (o = 0; o < l.size; ++o) n._W(1, l.content[o]);
                        for (; o & 511; ++o) n._W(1, 0)
                    }
                }
            }
            for (i = 1; i < e.FileIndex.length; ++i) {
                l = e.FileIndex[i];
                if (l.size > 0 && l.size < 4096) {
                    if (T && Buffer.isBuffer(l.content)) {
                        l.content.copy(n, n.l, 0, l.size);
                        n.l += l.size + 63 & -64
                    }
                    else {
                        for (o = 0; o < l.size; ++o) n._W(1, l.content[o]);
                        for (; o & 63; ++o) n._W(1, 0)
                    }
                }
            }
            if (T) {
                n.l = n.length
            }
            else {
                while (n.l < n.length) n._W(1, 0)
            }
            return n
        }

        function L(e, r) {
            var t = e.FullPaths.map(function (e) {
                return e.toUpperCase()
            });
            var a = t.map(function (e) {
                var r = e.split("/");
                return r[r.length - (e.slice(-1) == "/" ? 2 : 1)]
            });
            var n = false;
            if (r.charCodeAt(0) === 47) {
                n = true;
                r = t[0].slice(0, -1) + r
            }
            else n = r.indexOf("/") !== -1;
            var i = r.toUpperCase();
            var s = n === true ? t.indexOf(i) : a.indexOf(i);
            if (s !== -1) return e.FileIndex[s];
            var f = !i.match(F);
            i = i.replace(N, "");
            if (f) i = i.replace(F, "!");
            for (s = 0; s < t.length; ++s) {
                if ((f ? t[s].replace(F, "!") : t[s]).replace(N, "") == i) return e.FileIndex[s];
                if ((f ? a[s].replace(F, "!") : a[s]).replace(N, "") == i) return e.FileIndex[s]
            }
            return null
        }
        var M = 64;
        var U = -2;
        var B = "d0cf11e0a1b11ae1";
        var W = [208, 207, 17, 224, 161, 177, 26, 225];
        var H = "00000000000000000000000000000000";
        var z = {
            MAXREGSECT: -6,
            DIFSECT: -4,
            FATSECT: -3,
            ENDOFCHAIN: U,
            FREESECT: -1,
            HEADER_SIGNATURE: B,
            HEADER_MINOR_VERSION: "3e00",
            MAXREGSID: -6,
            NOSTREAM: -1,
            HEADER_CLSID: H,
            EntryTypes: ["unknown", "storage", "stream", "lockbytes", "property", "root"]
        };

        function V(e, r, t) {
            o();
            var a = P(e, t);
            f.writeFileSync(r, a)
        }

        function G(e) {
            var r = new Array(e.length);
            for (var t = 0; t < e.length; ++t) r[t] = String.fromCharCode(e[t]);
            return r.join("")
        }

        function j(e, r) {
            var t = P(e, r);
            switch (r && r.type || "buffer") {
                case "file":
                    o();
                    f.writeFileSync(r.filename, t);
                    return t;
                case "binary":
                    return typeof t == "string" ? t : G(t);
                case "base64":
                    return w(typeof t == "string" ? t : G(t));
                case "buffer":
                    if (T) return Buffer.isBuffer(t) ? t : E(t);
                case "array":
                    return typeof t == "string" ? _(t) : t;
            }
            return t
        }
        var X;

        function $(e) {
            try {
                var r = e.InflateRaw;
                var t = new r;
                t._processChunk(new Uint8Array([3, 0]), t._finishFlushFlag);
                if (t.bytesRead) X = e;
                else throw new Error("zlib does not expose bytesRead")
            }
            catch (a) {
                console.error("cannot use native zlib: " + (a.message || a))
            }
        }

        function Y(e, r) {
            if (!X) return Re(e, r);
            var t = X.InflateRaw;
            var a = new t;
            var n = a._processChunk(e.slice(e.l), a._finishFlushFlag);
            e.l += a.bytesRead;
            return n
        }

        function K(e) {
            return X ? X.deflateRawSync(e) : Te(e)
        }
        var J = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
        var q = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258];
        var Z = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577];

        function Q(e) {
            var r = (e << 1 | e << 11) & 139536 | (e << 5 | e << 15) & 558144;
            return (r >> 16 | r >> 8 | r) & 255
        }
        var ee = typeof Uint8Array !== "undefined";
        var re = ee ? new Uint8Array(1 << 8) : [];
        for (var te = 0; te < 1 << 8; ++te) re[te] = Q(te);

        function ae(e, r) {
            var t = re[e & 255];
            if (r <= 8) return t >>> 8 - r;
            t = t << 8 | re[e >> 8 & 255];
            if (r <= 16) return t >>> 16 - r;
            t = t << 8 | re[e >> 16 & 255];
            return t >>> 24 - r
        }

        function ne(e, r) {
            var t = r & 7,
                a = r >>> 3;
            return (e[a] | (t <= 6 ? 0 : e[a + 1] << 8)) >>> t & 3
        }

        function ie(e, r) {
            var t = r & 7,
                a = r >>> 3;
            return (e[a] | (t <= 5 ? 0 : e[a + 1] << 8)) >>> t & 7
        }

        function se(e, r) {
            var t = r & 7,
                a = r >>> 3;
            return (e[a] | (t <= 4 ? 0 : e[a + 1] << 8)) >>> t & 15
        }

        function fe(e, r) {
            var t = r & 7,
                a = r >>> 3;
            return (e[a] | (t <= 3 ? 0 : e[a + 1] << 8)) >>> t & 31
        }

        function oe(e, r) {
            var t = r & 7,
                a = r >>> 3;
            return (e[a] | (t <= 1 ? 0 : e[a + 1] << 8)) >>> t & 127
        }

        function ce(e, r, t) {
            var a = r & 7,
                n = r >>> 3,
                i = (1 << t) - 1;
            var s = e[n] >>> a;
            if (t < 8 - a) return s & i;
            s |= e[n + 1] << 8 - a;
            if (t < 16 - a) return s & i;
            s |= e[n + 2] << 16 - a;
            if (t < 24 - a) return s & i;
            s |= e[n + 3] << 24 - a;
            return s & i
        }

        function le(e, r, t) {
            var a = r & 7,
                n = r >>> 3;
            if (a <= 5) e[n] |= (t & 7) << a;
            else {
                e[n] |= t << a & 255;
                e[n + 1] = (t & 7) >> 8 - a
            }
            return r + 3
        }

        function ue(e, r, t) {
            var a = r & 7,
                n = r >>> 3;
            t = (t & 1) << a;
            e[n] |= t;
            return r + 1
        }

        function he(e, r, t) {
            var a = r & 7,
                n = r >>> 3;
            t <<= a;
            e[n] |= t & 255;
            t >>>= 8;
            e[n + 1] = t;
            return r + 8
        }

        function de(e, r, t) {
            var a = r & 7,
                n = r >>> 3;
            t <<= a;
            e[n] |= t & 255;
            t >>>= 8;
            e[n + 1] = t & 255;
            e[n + 2] = t >>> 8;
            return r + 16
        }

        function ve(e, r) {
            var t = e.length,
                a = 2 * t > r ? 2 * t : r + 5,
                n = 0;
            if (t >= r) return e;
            if (T) {
                var i = S(a);
                if (e.copy) e.copy(i);
                else
                    for (; n < e.length; ++n) i[n] = e[n];
                return i
            }
            else if (ee) {
                var s = new Uint8Array(a);
                if (s.set) s.set(e);
                else
                    for (; n < t; ++n) s[n] = e[n];
                return s
            }
            e.length = a;
            return e
        }

        function pe(e) {
            var r = new Array(e);
            for (var t = 0; t < e; ++t) r[t] = 0;
            return r
        }

        function me(e, r, t) {
            var a = 1,
                n = 0,
                i = 0,
                s = 0,
                f = 0,
                o = e.length;
            var c = ee ? new Uint16Array(32) : pe(32);
            for (i = 0; i < 32; ++i) c[i] = 0;
            for (i = o; i < t; ++i) e[i] = 0;
            o = e.length;
            var l = ee ? new Uint16Array(o) : pe(o);
            for (i = 0; i < o; ++i) {
                c[n = e[i]]++;
                if (a < n) a = n;
                l[i] = 0
            }
            c[0] = 0;
            for (i = 1; i <= a; ++i) c[i + 16] = f = f + c[i - 1] << 1;
            for (i = 0; i < o; ++i) {
                f = e[i];
                if (f != 0) l[i] = c[f + 16]++
            }
            var u = 0;
            for (i = 0; i < o; ++i) {
                u = e[i];
                if (u != 0) {
                    f = ae(l[i], a) >> a - u;
                    for (s = (1 << a + 4 - u) - 1; s >= 0; --s) r[f | s << u] = u & 15 | i << 4
                }
            }
            return a
        }
        var be = ee ? new Uint16Array(512) : pe(512);
        var ge = ee ? new Uint16Array(32) : pe(32);
        if (!ee) {
            for (var we = 0; we < 512; ++we) be[we] = 0;
            for (we = 0; we < 32; ++we) ge[we] = 0
        } (function () {
            var e = [];
            var r = 0;
            for (; r < 32; r++) e.push(5);
            me(e, ge, 32);
            var t = [];
            r = 0;
            for (; r <= 143; r++) t.push(8);
            for (; r <= 255; r++) t.push(9);
            for (; r <= 279; r++) t.push(7);
            for (; r <= 287; r++) t.push(8);
            me(t, be, 288)
        })();
        var ke = function $e() {
            var e = ee ? new Uint8Array(32768) : [];
            var r = 0,
                t = 0;
            for (; r < Z.length - 1; ++r) {
                for (; t < Z[r + 1]; ++t) e[t] = r
            }
            for (; t < 32768; ++t) e[t] = 29;
            var a = ee ? new Uint8Array(259) : [];
            for (r = 0, t = 0; r < q.length - 1; ++r) {
                for (; t < q[r + 1]; ++t) a[t] = r
            }

            function n(e, r) {
                var t = 0;
                while (t < e.length) {
                    var a = Math.min(65535, e.length - t);
                    var n = t + a == e.length;
                    r._W(1, +n);
                    r._W(2, a);
                    r._W(2, ~a & 65535);
                    while (a-- > 0) r[r.l++] = e[t++]
                }
                return r.l
            }

            function i(r, t) {
                var n = 0;
                var i = 0;
                var s = ee ? new Uint16Array(32768) : [];
                while (i < r.length) {
                    var f = Math.min(65535, r.length - i);
                    if (f < 10) {
                        n = le(t, n, +!!(i + f == r.length));
                        if (n & 7) n += 8 - (n & 7);
                        t.l = n / 8 | 0;
                        t._W(2, f);
                        t._W(2, ~f & 65535);
                        while (f-- > 0) t[t.l++] = r[i++];
                        n = t.l * 8;
                        continue
                    }
                    n = le(t, n, +!!(i + f == r.length) + 2);
                    var o = 0;
                    while (f-- > 0) {
                        var c = r[i];
                        o = (o << 5 ^ c) & 32767;
                        var l = -1,
                            u = 0;
                        if (l = s[o]) {
                            l |= i & ~32767;
                            if (l > i) l -= 32768;
                            if (l < i)
                                while (r[l + u] == r[i + u] && u < 250) ++u
                        }
                        if (u > 2) {
                            c = a[u];
                            if (c <= 22) n = he(t, n, re[c + 1] >> 1) - 1;
                            else {
                                he(t, n, 3);
                                n += 5;
                                he(t, n, re[c - 23] >> 5);
                                n += 3
                            }
                            var h = c < 8 ? 0 : c - 4 >> 2;
                            if (h > 0) {
                                de(t, n, u - q[c]);
                                n += h
                            }
                            c = e[i - l];
                            n = he(t, n, re[c] >> 3);
                            n -= 3;
                            var d = c < 4 ? 0 : c - 2 >> 1;
                            if (d > 0) {
                                de(t, n, i - l - Z[c]);
                                n += d
                            }
                            for (var v = 0; v < u; ++v) {
                                s[o] = i & 32767;
                                o = (o << 5 ^ r[i]) & 32767;
                                ++i
                            }
                            f -= u - 1
                        }
                        else {
                            if (c <= 143) c = c + 48;
                            else n = ue(t, n, 1);
                            n = he(t, n, re[c]);
                            s[o] = i & 32767;
                            ++i
                        }
                    }
                    n = he(t, n, 0) - 1
                }
                t.l = (n + 7) / 8 | 0;
                return t.l
            }
            return function s(e, r) {
                if (e.length < 8) return n(e, r);
                return i(e, r)
            }
        }();

        function Te(e) {
            var r = ha(50 + Math.floor(e.length * 1.1));
            var t = ke(e, r);
            return r.slice(0, t)
        }
        var Ee = ee ? new Uint16Array(32768) : pe(32768);
        var ye = ee ? new Uint16Array(32768) : pe(32768);
        var Se = ee ? new Uint16Array(128) : pe(128);
        var _e = 1,
            Ae = 1;

        function xe(e, r) {
            var t = fe(e, r) + 257;
            r += 5;
            var a = fe(e, r) + 1;
            r += 5;
            var n = se(e, r) + 4;
            r += 4;
            var i = 0;
            var s = ee ? new Uint8Array(19) : pe(19);
            var f = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
            var o = 1;
            var c = ee ? new Uint8Array(8) : pe(8);
            var l = ee ? new Uint8Array(8) : pe(8);
            var u = s.length;
            for (var h = 0; h < n; ++h) {
                s[J[h]] = i = ie(e, r);
                if (o < i) o = i;
                c[i]++;
                r += 3
            }
            var d = 0;
            c[0] = 0;
            for (h = 1; h <= o; ++h) l[h] = d = d + c[h - 1] << 1;
            for (h = 0; h < u; ++h)
                if ((d = s[h]) != 0) f[h] = l[d]++;
            var v = 0;
            for (h = 0; h < u; ++h) {
                v = s[h];
                if (v != 0) {
                    d = re[f[h]] >> 8 - v;
                    for (var p = (1 << 7 - v) - 1; p >= 0; --p) Se[d | p << v] = v & 7 | h << 3
                }
            }
            var m = [];
            o = 1;
            for (; m.length < t + a;) {
                d = Se[oe(e, r)];
                r += d & 7;
                switch (d >>>= 3) {
                    case 16:
                        i = 3 + ne(e, r);
                        r += 2;
                        d = m[m.length - 1];
                        while (i-- > 0) m.push(d);
                        break;
                    case 17:
                        i = 3 + ie(e, r);
                        r += 3;
                        while (i-- > 0) m.push(0);
                        break;
                    case 18:
                        i = 11 + oe(e, r);
                        r += 7;
                        while (i-- > 0) m.push(0);
                        break;
                    default:
                        m.push(d);
                        if (o < d) o = d;
                        break;
                }
            }
            var b = m.slice(0, t),
                g = m.slice(t);
            for (h = t; h < 286; ++h) b[h] = 0;
            for (h = a; h < 30; ++h) g[h] = 0;
            _e = me(b, Ee, 286);
            Ae = me(g, ye, 30);
            return r
        }

        function Ce(e, r) {
            if (e[0] == 3 && !(e[1] & 3)) {
                return [y(r), 2]
            }
            var t = 0;
            var a = 0;
            var n = S(r ? r : 1 << 18);
            var i = 0;
            var s = n.length >>> 0;
            var f = 0,
                o = 0;
            while ((a & 1) == 0) {
                a = ie(e, t);
                t += 3;
                if (a >>> 1 == 0) {
                    if (t & 7) t += 8 - (t & 7);
                    var c = e[t >>> 3] | e[(t >>> 3) + 1] << 8;
                    t += 32;
                    if (c > 0) {
                        if (!r && s < i + c) {
                            n = ve(n, i + c);
                            s = n.length
                        }
                        while (c-- > 0) {
                            n[i++] = e[t >>> 3];
                            t += 8
                        }
                    }
                    continue
                }
                else if (a >> 1 == 1) {
                    f = 9;
                    o = 5
                }
                else {
                    t = xe(e, t);
                    f = _e;
                    o = Ae
                }
                for (; ;) {
                    if (!r && s < i + 32767) {
                        n = ve(n, i + 32767);
                        s = n.length
                    }
                    var l = ce(e, t, f);
                    var u = a >>> 1 == 1 ? be[l] : Ee[l];
                    t += u & 15;
                    u >>>= 4;
                    if ((u >>> 8 & 255) === 0) n[i++] = u;
                    else if (u == 256) break;
                    else {
                        u -= 257;
                        var h = u < 8 ? 0 : u - 4 >> 2;
                        if (h > 5) h = 0;
                        var d = i + q[u];
                        if (h > 0) {
                            d += ce(e, t, h);
                            t += h
                        }
                        l = ce(e, t, o);
                        u = a >>> 1 == 1 ? ge[l] : ye[l];
                        t += u & 15;
                        u >>>= 4;
                        var v = u < 4 ? 0 : u - 2 >> 1;
                        var p = Z[u];
                        if (v > 0) {
                            p += ce(e, t, v);
                            t += v
                        }
                        if (!r && s < d) {
                            n = ve(n, d + 100);
                            s = n.length
                        }
                        while (i < d) {
                            n[i] = n[i - p];
                            ++i
                        }
                    }
                }
            }
            if (r) return [n, t + 7 >>> 3];
            return [n.slice(0, i), t + 7 >>> 3]
        }

        function Re(e, r) {
            var t = e.slice(e.l || 0);
            var a = Ce(t, r);
            e.l += a[1];
            return a[0]
        }

        function Oe(e, r) {
            if (e) {
                if (typeof console !== "undefined") console.error(r)
            }
            else throw new Error(r)
        }

        function Ie(e, r) {
            var t = e;
            la(t, 0);
            var a = [],
                n = [];
            var i = {
                FileIndex: a,
                FullPaths: n
            };
            R(i,
                {
                    root: r.root
                });
            var f = t.length - 4;
            while ((t[f] != 80 || t[f + 1] != 75 || t[f + 2] != 5 || t[f + 3] != 6) && f >= 0) --f;
            t.l = f + 4;
            t.l += 4;
            var o = t._R(2);
            t.l += 6;
            var c = t._R(4);
            t.l = c;
            for (f = 0; f < o; ++f) {
                t.l += 20;
                var l = t._R(4);
                var u = t._R(4);
                var h = t._R(2);
                var d = t._R(2);
                var v = t._R(2);
                t.l += 8;
                var p = t._R(4);
                var m = s(t.slice(t.l + h, t.l + h + d));
                t.l += h + d + v;
                var b = t.l;
                t.l = p + 4;
                Ne(t, l, u, i, m);
                t.l = b
            }
            return i
        }

        function Ne(e, r, t, a, n) {
            e.l += 2;
            var f = e._R(2);
            var o = e._R(2);
            var c = i(e);
            if (f & 8257) throw new Error("Unsupported ZIP encryption");
            var l = e._R(4);
            var u = e._R(4);
            var h = e._R(4);
            var d = e._R(2);
            var v = e._R(2);
            var p = "";
            for (var m = 0; m < d; ++m) p += String.fromCharCode(e[e.l++]);
            if (v) {
                var b = s(e.slice(e.l, e.l + v));
                if ((b[21589] ||
                    {}).mt) c = b[21589].mt;
                if (((n ||
                    {})[21589] ||
                    {}).mt) c = n[21589].mt
            }
            e.l += v;
            var g = e.slice(e.l, e.l + u);
            switch (o) {
                case 8:
                    g = Y(e, h);
                    break;
                case 0:
                    break;
                default:
                    throw new Error("Unsupported ZIP Compression method " + o);
            }
            var w = false;
            if (f & 8) {
                l = e._R(4);
                if (l == 134695760) {
                    l = e._R(4);
                    w = true
                }
                u = e._R(4);
                h = e._R(4)
            }
            if (u != r) Oe(w, "Bad compressed size: " + r + " != " + u);
            if (h != t) Oe(w, "Bad uncompressed size: " + t + " != " + h);
            Ve(a, p, g,
                {
                    unsafe: true,
                    mt: c
                })
        }

        function Fe(e, r) {
            var t = r ||
                {};
            var a = [],
                i = [];
            var s = ha(1);
            var f = t.compression ? 8 : 0,
                o = 0;
            var c = false;
            if (c) o |= 8;
            var l = 0,
                u = 0;
            var h = 0,
                d = 0;
            var v = e.FullPaths[0],
                p = v,
                m = e.FileIndex[0];
            var b = [];
            var g = 0;
            for (l = 1; l < e.FullPaths.length; ++l) {
                p = e.FullPaths[l].slice(v.length);
                m = e.FileIndex[l];
                if (!m.size || !m.content || p == "Sh33tJ5") continue;
                var w = h;
                var k = ha(p.length);
                for (u = 0; u < p.length; ++u) k._W(1, p.charCodeAt(u) & 127);
                k = k.slice(0, k.l);
                b[d] = Ye.buf(m.content, 0);
                var T = m.content;
                if (f == 8) T = K(T);
                s = ha(30);
                s._W(4, 67324752);
                s._W(2, 20);
                s._W(2, o);
                s._W(2, f);
                if (m.mt) n(s, m.mt);
                else s._W(4, 0);
                s._W(-4, o & 8 ? 0 : b[d]);
                s._W(4, o & 8 ? 0 : T.length);
                s._W(4, o & 8 ? 0 : m.content.length);
                s._W(2, k.length);
                s._W(2, 0);
                h += s.length;
                a.push(s);
                h += k.length;
                a.push(k);
                h += T.length;
                a.push(T);
                if (o & 8) {
                    s = ha(12);
                    s._W(-4, b[d]);
                    s._W(4, T.length);
                    s._W(4, m.content.length);
                    h += s.l;
                    a.push(s)
                }
                s = ha(46);
                s._W(4, 33639248);
                s._W(2, 0);
                s._W(2, 20);
                s._W(2, o);
                s._W(2, f);
                s._W(4, 0);
                s._W(-4, b[d]);
                s._W(4, T.length);
                s._W(4, m.content.length);
                s._W(2, k.length);
                s._W(2, 0);
                s._W(2, 0);
                s._W(2, 0);
                s._W(2, 0);
                s._W(4, 0);
                s._W(4, w);
                g += s.l;
                i.push(s);
                g += k.length;
                i.push(k);
                ++d
            }
            s = ha(22);
            s._W(4, 101010256);
            s._W(2, 0);
            s._W(2, 0);
            s._W(2, d);
            s._W(2, d);
            s._W(4, g);
            s._W(4, h);
            s._W(2, 0);
            return O([O(a), O(i), s])
        }
        var De = {
            htm: "text/html",
            xml: "text/xml",
            gif: "image/gif",
            jpg: "image/jpeg",
            png: "image/png",
            mso: "application/x-mso",
            thmx: "application/vnd.ms-officetheme",
            sh33tj5: "application/octet-stream"
        };

        function Pe(e, r) {
            if (e.ctype) return e.ctype;
            var t = e.name || "",
                a = t.match(/\.([^\.]+)$/);
            if (a && De[a[1]]) return De[a[1]];
            if (r) {
                a = (t = r).match(/[\.\\]([^\.\\])+$/);
                if (a && De[a[1]]) return De[a[1]]
            }
            return "application/octet-stream"
        }

        function Le(e) {
            var r = w(e);
            var t = [];
            for (var a = 0; a < r.length; a += 76) t.push(r.slice(a, a + 76));
            return t.join("\r\n") + "\r\n"
        }

        function Me(e) {
            var r = e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g, function (e) {
                var r = e.charCodeAt(0).toString(16).toUpperCase();
                return "=" + (r.length == 1 ? "0" + r : r)
            });
            r = r.replace(/ $/gm, "=20").replace(/\t$/gm, "=09");
            if (r.charAt(0) == "\n") r = "=0D" + r.slice(1);
            r = r.replace(/\r(?!\n)/gm, "=0D").replace(/\n\n/gm, "\n=0A").replace(/([^\r\n])\n/gm, "$1=0A");
            var t = [],
                a = r.split("\r\n");
            for (var n = 0; n < a.length; ++n) {
                var i = a[n];
                if (i.length == 0) {
                    t.push("");
                    continue
                }
                for (var s = 0; s < i.length;) {
                    var f = 76;
                    var o = i.slice(s, s + f);
                    if (o.charAt(f - 1) == "=") f--;
                    else if (o.charAt(f - 2) == "=") f -= 2;
                    else if (o.charAt(f - 3) == "=") f -= 3;
                    o = i.slice(s, s + f);
                    s += f;
                    if (s < i.length) o += "=";
                    t.push(o)
                }
            }
            return t.join("\r\n")
        }

        function Ue(e) {
            var r = [];
            for (var t = 0; t < e.length; ++t) {
                var a = e[t];
                while (t <= e.length && a.charAt(a.length - 1) == "=") a = a.slice(0, a.length - 1) + e[++t];
                r.push(a)
            }
            for (var n = 0; n < r.length; ++n) r[n] = r[n].replace(/[=][0-9A-Fa-f]{2}/g, function (e) {
                return String.fromCharCode(parseInt(e.slice(1), 16))
            });
            return _(r.join("\r\n"))
        }

        function Be(e, r, t) {
            var a = "",
                n = "",
                i = "",
                s;
            var f = 0;
            for (; f < 10; ++f) {
                var o = r[f];
                if (!o || o.match(/^\s*$/)) break;
                var c = o.match(/^(.*?):\s*([^\s].*)$/);
                if (c) switch (c[1].toLowerCase()) {
                    case "content-location":
                        a = c[2].trim();
                        break;
                    case "content-type":
                        i = c[2].trim();
                        break;
                    case "content-transfer-encoding":
                        n = c[2].trim();
                        break;
                }
            } ++f;
            switch (n.toLowerCase()) {
                case "base64":
                    s = _(k(r.slice(f).join("")));
                    break;
                case "quoted-printable":
                    s = Ue(r.slice(f));
                    break;
                default:
                    throw new Error("Unsupported Content-Transfer-Encoding " + n);
            }
            var l = Ve(e, a.slice(t.length), s,
                {
                    unsafe: true
                });
            if (i) l.ctype = i
        }

        function We(e, r) {
            if (G(e.slice(0, 13)).toLowerCase() != "mime-version:") throw new Error("Unsupported MAD header");
            var t = r && r.root || "";
            var a = (T && Buffer.isBuffer(e) ? e.toString("binary") : G(e)).split("\r\n");
            var n = 0,
                i = "";
            for (n = 0; n < a.length; ++n) {
                i = a[n];
                if (!/^Content-Location:/i.test(i)) continue;
                i = i.slice(i.indexOf("file"));
                if (!t) t = i.slice(0, i.lastIndexOf("/") + 1);
                if (i.slice(0, t.length) == t) continue;
                while (t.length > 0) {
                    t = t.slice(0, t.length - 1);
                    t = t.slice(0, t.lastIndexOf("/") + 1);
                    if (i.slice(0, t.length) == t) break
                }
            }
            var s = (a[1] || "").match(/boundary="(.*?)"/);
            if (!s) throw new Error("MAD cannot find boundary");
            var f = "--" + (s[1] || "");
            var o = [],
                c = [];
            var l = {
                FileIndex: o,
                FullPaths: c
            };
            R(l);
            var u, h = 0;
            for (n = 0; n < a.length; ++n) {
                var d = a[n];
                if (d !== f && d !== f + "--") continue;
                if (h++) Be(l, a.slice(u, n), t);
                u = n
            }
            return l
        }

        function He(e, r) {
            var t = r ||
                {};
            var a = t.boundary || "SheetJS";
            a = "------=" + a;
            var n = ["MIME-Version: 1.0", 'Content-Type: multipart/related; boundary="' + a.slice(2) + '"', "", "", ""];
            var i = e.FullPaths[0],
                s = i,
                f = e.FileIndex[0];
            for (var o = 1; o < e.FullPaths.length; ++o) {
                s = e.FullPaths[o].slice(i.length);
                f = e.FileIndex[o];
                if (!f.size || !f.content || s == "Sh33tJ5") continue;
                s = s.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g, function (e) {
                    return "_x" + e.charCodeAt(0).toString(16) + "_"
                }).replace(/[\u0080-\uFFFF]/g, function (e) {
                    return "_u" + e.charCodeAt(0).toString(16) + "_"
                });
                var c = f.content;
                var l = T && Buffer.isBuffer(c) ? c.toString("binary") : G(c);
                var u = 0,
                    h = Math.min(1024, l.length),
                    d = 0;
                for (var v = 0; v <= h; ++v)
                    if ((d = l.charCodeAt(v)) >= 32 && d < 128) ++u;
                var p = u >= h * 4 / 5;
                n.push(a);
                n.push("Content-Location: " + (t.root || "file:///C:/SheetJS/") + s);
                n.push("Content-Transfer-Encoding: " + (p ? "quoted-printable" : "base64"));
                n.push("Content-Type: " + Pe(f, s));
                n.push("");
                n.push(p ? Me(l) : Le(l))
            }
            n.push(a + "--\r\n");
            return n.join("\r\n")
        }

        function ze(e) {
            var r = {};
            R(r, e);
            return r
        }

        function Ve(e, r, t, n) {
            var i = n && n.unsafe;
            if (!i) R(e);
            var s = !i && Ke.find(e, r);
            if (!s) {
                var f = e.FullPaths[0];
                if (r.slice(0, f.length) == f) f = r;
                else {
                    if (f.slice(-1) != "/") f += "/";
                    f = (f + r).replace("//", "/")
                }
                s = {
                    name: a(r),
                    type: 2
                };
                e.FileIndex.push(s);
                e.FullPaths.push(f);
                if (!i) Ke.utils.cfb_gc(e)
            }
            s.content = t;
            s.size = t ? t.length : 0;
            if (n) {
                if (n.CLSID) s.clsid = n.CLSID;
                if (n.mt) s.mt = n.mt;
                if (n.ct) s.ct = n.ct
            }
            return s
        }

        function Ge(e, r) {
            R(e);
            var t = Ke.find(e, r);
            if (t)
                for (var a = 0; a < e.FileIndex.length; ++a)
                    if (e.FileIndex[a] == t) {
                        e.FileIndex.splice(a, 1);
                        e.FullPaths.splice(a, 1);
                        return true
                    } return false
        }

        function je(e, r, t) {
            R(e);
            var n = Ke.find(e, r);
            if (n)
                for (var i = 0; i < e.FileIndex.length; ++i)
                    if (e.FileIndex[i] == n) {
                        e.FileIndex[i].name = a(t);
                        e.FullPaths[i] = t;
                        return true
                    } return false
        }

        function Xe(e) {
            D(e, true)
        }
        e.find = L;
        e.read = C;
        e.parse = c;
        e.write = j;
        e.writeFile = V;
        e.utils = {
            cfb_new: ze,
            cfb_add: Ve,
            cfb_del: Ge,
            cfb_mov: je,
            cfb_gc: Xe,
            ReadShift: na,
            CheckField: ca,
            prep_blob: la,
            bconcat: O,
            use_zlib: $,
            _deflateRaw: Te,
            _inflateRaw: Re,
            consts: z
        };
        return e
    }();
    var Je;
    if (typeof require !== "undefined") try {
        Je = undefined
    }
        catch (qe) { }

    function Ze(e) {
        if (typeof e === "string") return A(e);
        if (Array.isArray(e)) return C(e);
        return e
    }

    function Qe(e, r, t) {
        if (typeof Je !== "undefined" && Je.writeFileSync) return t ? Je.writeFileSync(e, r, t) : Je.writeFileSync(e, r);
        if (typeof Deno !== "undefined") {
            if (t && typeof r == "string") switch (t) {
                case "utf8":
                    r = new TextEncoder(t).encode(r);
                    break;
                case "binary":
                    r = A(r);
                    break;
                default:
                    throw new Error("Unsupported encoding " + t);
            }
            return Deno.writeFileSync(e, r)
        }
        var a = t == "utf8" ? lt(r) : r;
        if (typeof IE_SaveFile !== "undefined") return IE_SaveFile(a, e);
        if (typeof Blob !== "undefined") {
            var n = new Blob([Ze(a)],
                {
                    type: "application/octet-stream"
                });
            if (typeof navigator !== "undefined" && navigator.msSaveBlob) return navigator.msSaveBlob(n, e);
            if (typeof saveAs !== "undefined") return saveAs(n, e);
            if (typeof URL !== "undefined" && typeof document !== "undefined" && document.createElement && URL.createObjectURL) {
                var i = URL.createObjectURL(n);
                if (typeof chrome === "object" && typeof (chrome.downloads ||
                    {}).download == "function") {
                    if (URL.revokeObjectURL && typeof setTimeout !== "undefined") setTimeout(function () {
                        URL.revokeObjectURL(i)
                    }, 6e4);
                    return chrome.downloads.download(
                        {
                            url: i,
                            filename: e,
                            saveAs: true
                        })
                }
                var s = document.createElement("a");
                if (s.download != null) {
                    s.download = e;
                    s.href = i;
                    document.body.appendChild(s);
                    s.click();
                    document.body.removeChild(s);
                    if (URL.revokeObjectURL && typeof setTimeout !== "undefined") setTimeout(function () {
                        URL.revokeObjectURL(i)
                    }, 6e4);
                    return i
                }
            }
        }
        if (typeof $ !== "undefined" && typeof File !== "undefined" && typeof Folder !== "undefined") try {
            var f = File(e);
            f.open("w");
            f.encoding = "binary";
            if (Array.isArray(r)) r = x(r);
            f.write(r);
            f.close();
            return r
        }
            catch (o) {
                if (!o.message || !o.message.match(/onstruct/)) throw o
            }
        throw new Error("cannot save file " + e)
    }

    function er(e) {
        if (typeof Je !== "undefined") return Je.readFileSync(e);
        if (typeof Deno !== "undefined") return Deno.readFileSync(e);
        if (typeof $ !== "undefined" && typeof File !== "undefined" && typeof Folder !== "undefined") try {
            var r = File(e);
            r.open("r");
            r.encoding = "binary";
            var t = r.read();
            r.close();
            return t
        }
            catch (a) {
                if (!a.message || !a.message.match(/onstruct/)) throw a
            }
        throw new Error("Cannot access file " + e)
    }

    function rr(e) {
        var r = Object.keys(e),
            t = [];
        for (var a = 0; a < r.length; ++a)
            if (Object.prototype.hasOwnProperty.call(e, r[a])) t.push(r[a]);
        return t
    }

    function tr(e, r) {
        var t = [],
            a = rr(e);
        for (var n = 0; n !== a.length; ++n)
            if (t[e[a[n]][r]] == null) t[e[a[n]][r]] = a[n];
        return t
    }

    function ar(e) {
        var r = [],
            t = rr(e);
        for (var a = 0; a !== t.length; ++a) r[e[t[a]]] = t[a];
        return r
    }

    function nr(e) {
        var r = [],
            t = rr(e);
        for (var a = 0; a !== t.length; ++a) r[e[t[a]]] = parseInt(t[a], 10);
        return r
    }

    function ir(e) {
        var r = [],
            t = rr(e);
        for (var a = 0; a !== t.length; ++a) {
            if (r[e[t[a]]] == null) r[e[t[a]]] = [];
            r[e[t[a]]].push(t[a])
        }
        return r
    }
    var sr = new Date(1899, 11, 30, 0, 0, 0);

    function fr(e, r) {
        var t = e.getTime();
        if (r) t -= 1462 * 24 * 60 * 60 * 1e3;
        var a = sr.getTime() + (e.getTimezoneOffset() - sr.getTimezoneOffset()) * 6e4;
        return (t - a) / (24 * 60 * 60 * 1e3)
    }
    var or = new Date;
    var cr = sr.getTime() + (or.getTimezoneOffset() - sr.getTimezoneOffset()) * 6e4;
    var lr = or.getTimezoneOffset();

    function ur(e) {
        var r = new Date;
        r.setTime(e * 24 * 60 * 60 * 1e3 + cr);
        if (r.getTimezoneOffset() !== lr) {
            r.setTime(r.getTime() + (r.getTimezoneOffset() - lr) * 6e4)
        }
        return r
    }

    function hr(e) {
        var r = 0,
            t = 0,
            a = false;
        var n = e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);
        if (!n) throw new Error("|" + e + "| is not an ISO8601 Duration");
        for (var i = 1; i != n.length; ++i) {
            if (!n[i]) continue;
            t = 1;
            if (i > 3) a = true;
            switch (n[i].slice(n[i].length - 1)) {
                case "Y":
                    throw new Error("Unsupported ISO Duration Field: " + n[i].slice(n[i].length - 1));
                case "D":
                    t *= 24;
                case "H":
                    t *= 60;
                case "M":
                    if (!a) throw new Error("Unsupported ISO Duration Field: M");
                    else t *= 60;
                case "S":
                    break;
            }
            r += t * parseInt(n[i], 10)
        }
        return r
    }
    var dr = new Date("2017-02-19T19:06:09.000Z");
    var vr = isNaN(dr.getFullYear()) ? new Date("2/19/17") : dr;
    var pr = vr.getFullYear() == 2017;

    function mr(e, r) {
        var t = new Date(e);
        if (pr) {
            if (r > 0) t.setTime(t.getTime() + t.getTimezoneOffset() * 60 * 1e3);
            else if (r < 0) t.setTime(t.getTime() - t.getTimezoneOffset() * 60 * 1e3);
            return t
        }
        if (e instanceof Date) return e;
        if (vr.getFullYear() == 1917 && !isNaN(t.getFullYear())) {
            var a = t.getFullYear();
            if (e.indexOf("" + a) > -1) return t;
            t.setFullYear(t.getFullYear() + 100);
            return t
        }
        var n = e.match(/\d+/g) || ["2017", "2", "19", "0", "0", "0"];
        var i = new Date(+n[0], +n[1] - 1, +n[2], +n[3] || 0, +n[4] || 0, +n[5] || 0);
        if (e.indexOf("Z") > -1) i = new Date(i.getTime() - i.getTimezoneOffset() * 60 * 1e3);
        return i
    }

    function br(e, r) {
        if (T && Buffer.isBuffer(e)) {
            if (r) {
                if (e[0] == 255 && e[1] == 254) return lt(e.slice(2).toString("utf16le"));
                if (e[1] == 254 && e[2] == 255) return lt(h(e.slice(2).toString("binary")))
            }
            return e.toString("binary")
        }
        if (typeof TextDecoder !== "undefined") try {
            if (r) {
                if (e[0] == 255 && e[1] == 254) return lt(new TextDecoder("utf-16le").decode(e.slice(2)));
                if (e[0] == 254 && e[1] == 255) return lt(new TextDecoder("utf-16be").decode(e.slice(2)))
            }
            var t = {
                "â‚¬": "Â€",
                "â€š": "Â‚",
                "Æ’": "Âƒ",
                "â€ž": "Â„",
                "â€¦": "Â…",
                "â€ ": "Â†",
                "â€¡": "Â‡",
                "Ë†": "Âˆ",
                "â€°": "Â‰",
                "Å ": "ÂŠ",
                "â€¹": "Â‹",
                "Å’": "ÂŒ",
                "Å½": "ÂŽ",
                "â€˜": "Â‘",
                "â€™": "Â’",
                "â€œ": "Â“",
                "â€": "Â”",
                "â€¢": "Â•",
                "â€“": "Â–",
                "â€”": "Â—",
                "Ëœ": "Â˜",
                "â„¢": "Â™",
                "Å¡": "Âš",
                "â€º": "Â›",
                "Å“": "Âœ",
                "Å¾": "Âž",
                "Å¸": "ÂŸ"
            };
            if (Array.isArray(e)) e = new Uint8Array(e);
            return new TextDecoder("latin1").decode(e).replace(/[â‚¬â€šÆ’â€žâ€¦â€ â€¡Ë†â€°Å â€¹Å’Å½â€˜â€™â€œâ€â€¢â€“â€”Ëœâ„¢Å¡â€ºÅ“Å¾Å¸]/g, function (e) {
                return t[e] || e
            })
        }
            catch (a) { }
        var n = [];
        for (var i = 0; i != e.length; ++i) n.push(String.fromCharCode(e[i]));
        return n.join("")
    }

    function gr(e) {
        if (typeof JSON != "undefined" && !Array.isArray(e)) return JSON.parse(JSON.stringify(e));
        if (typeof e != "object" || e == null) return e;
        if (e instanceof Date) return new Date(e.getTime());
        var r = {};
        for (var t in e)
            if (Object.prototype.hasOwnProperty.call(e, t)) r[t] = gr(e[t]);
        return r
    }

    function wr(e, r) {
        var t = "";
        while (t.length < r) t += e;
        return t
    }

    function kr(e) {
        var r = Number(e);
        if (!isNaN(r)) return isFinite(r) ? r : NaN;
        if (!/\d/.test(e)) return r;
        var t = 1;
        var a = e.replace(/([\d]),([\d])/g, "$1$2").replace(/[$]/g, "").replace(/[%]/g, function () {
            t *= 100;
            return ""
        });
        if (!isNaN(r = Number(a))) return r / t;
        a = a.replace(/[(](.*)[)]/, function (e, r) {
            t = -t;
            return r
        });
        if (!isNaN(r = Number(a))) return r / t;
        return r
    }
    var Tr = ["january", "february", "march", "april", "may", "june", "july", "august", "september", "october", "november", "december"];

    function Er(e) {
        var r = new Date(e),
            t = new Date(NaN);
        var a = r.getYear(),
            n = r.getMonth(),
            i = r.getDate();
        if (isNaN(i)) return t;
        var s = e.toLowerCase();
        if (s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)) {
            s = s.replace(/[^a-z]/g, "").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/, "");
            if (s.length > 3 && Tr.indexOf(s) == -1) return t
        }
        else if (s.match(/[a-z]/)) return t;
        if (a < 0 || a > 8099) return t;
        if ((n > 0 || i > 1) && a != 101) return r;
        if (e.match(/[^-0-9:,\/\\]/)) return t;
        return r
    }
    var yr = function () {
        var e = "abacaba".split(/(:?b)/i).length == 5;
        return function r(t, a, n) {
            if (e || typeof a == "string") return t.split(a);
            var i = t.split(a),
                s = [i[0]];
            for (var f = 1; f < i.length; ++f) {
                s.push(n);
                s.push(i[f])
            }
            return s
        }
    }();

    function Sr(e) {
        if (!e) return null;
        if (e.content && e.type) return br(e.content, true);
        if (e.data) return d(e.data);
        if (e.asNodeBuffer && T) return d(e.asNodeBuffer().toString("binary"));
        if (e.asBinary) return d(e.asBinary());
        if (e._data && e._data.getContent) return d(br(Array.prototype.slice.call(e._data.getContent(), 0)));
        return null
    }

    function _r(e) {
        if (!e) return null;
        if (e.data) return l(e.data);
        if (e.asNodeBuffer && T) return e.asNodeBuffer();
        if (e._data && e._data.getContent) {
            var r = e._data.getContent();
            if (typeof r == "string") return l(r);
            return Array.prototype.slice.call(r)
        }
        if (e.content && e.type) return e.content;
        return null
    }

    function Ar(e) {
        return e && e.name.slice(-4) === ".bin" ? _r(e) : Sr(e)
    }

    function xr(e, r) {
        var t = e.FullPaths || rr(e.files);
        var a = r.toLowerCase().replace(/[\/]/g, "\\"),
            n = a.replace(/\\/g, "/");
        for (var i = 0; i < t.length; ++i) {
            var s = t[i].replace(/^Root Entry[\/]/, "").toLowerCase();
            if (a == s || n == s) return e.files ? e.files[t[i]] : e.FileIndex[i]
        }
        return null
    }

    function Cr(e, r) {
        var t = xr(e, r);
        if (t == null) throw new Error("Cannot find file " + r + " in zip");
        return t
    }

    function Rr(e, r, t) {
        if (!t) return Ar(Cr(e, r));
        if (!r) return null;
        try {
            return Rr(e, r)
        }
        catch (a) {
            return null
        }
    }

    function Or(e, r, t) {
        if (!t) return Sr(Cr(e, r));
        if (!r) return null;
        try {
            return Or(e, r)
        }
        catch (a) {
            return null
        }
    }

    function Ir(e, r, t) {
        if (!t) return _r(Cr(e, r));
        if (!r) return null;
        try {
            return Ir(e, r)
        }
        catch (a) {
            return null
        }
    }

    function Nr(e) {
        var r = e.FullPaths || rr(e.files),
            t = [];
        for (var a = 0; a < r.length; ++a)
            if (r[a].slice(-1) != "/") t.push(r[a].replace(/^Root Entry[\/]/, ""));
        return t.sort()
    }

    function Fr(e, r, t) {
        if (e.FullPaths) {
            if (typeof t == "string") {
                var a;
                if (T) a = E(t);
                else a = I(t);
                return Ke.utils.cfb_add(e, r, a)
            }
            Ke.utils.cfb_add(e, r, t)
        }
        else e.file(r, t)
    }

    function Dr() {
        return Ke.utils.cfb_new()
    }

    function Pr(e, r) {
        switch (r.type) {
            case "base64":
                return Ke.read(e,
                    {
                        type: "base64"
                    });
            case "binary":
                return Ke.read(e,
                    {
                        type: "binary"
                    });
            case "buffer":
                ;
            case "array":
                return Ke.read(e,
                    {
                        type: "buffer"
                    });
        }
        throw new Error("Unrecognized type " + r.type)
    }

    function Lr(e, r) {
        if (e.charAt(0) == "/") return e.slice(1);
        var t = r.split("/");
        if (r.slice(-1) != "/") t.pop();
        var a = e.split("/");
        while (a.length !== 0) {
            var n = a.shift();
            if (n === "..") t.pop();
            else if (n !== ".") t.push(n)
        }
        return t.join("/")
    }
    var Mr = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';
    var Ur = /([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g;
    var Br = /<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,
        Wr = /<[^>]*>/g;
    var Hr = Mr.match(Br) ? Br : Wr;
    var zr = /<\w*:/,
        Vr = /<(\/?)\w+:/;

    function Gr(e, r, t) {
        var a = {};
        var n = 0,
            i = 0;
        for (; n !== e.length; ++n)
            if ((i = e.charCodeAt(n)) === 32 || i === 10 || i === 13) break;
        if (!r) a[0] = e.slice(0, n);
        if (n === e.length) return a;
        var s = e.match(Ur),
            f = 0,
            o = "",
            c = 0,
            l = "",
            u = "",
            h = 1;
        if (s)
            for (c = 0; c != s.length; ++c) {
                u = s[c];
                for (i = 0; i != u.length; ++i)
                    if (u.charCodeAt(i) === 61) break;
                l = u.slice(0, i).trim();
                while (u.charCodeAt(i + 1) == 32) ++i;
                h = (n = u.charCodeAt(i + 1)) == 34 || n == 39 ? 1 : 0;
                o = u.slice(i + 1 + h, u.length - h);
                for (f = 0; f != l.length; ++f)
                    if (l.charCodeAt(f) === 58) break;
                if (f === l.length) {
                    if (l.indexOf("_") > 0) l = l.slice(0, l.indexOf("_"));
                    a[l] = o;
                    if (!t) a[l.toLowerCase()] = o
                }
                else {
                    var d = (f === 5 && l.slice(0, 5) === "xmlns" ? "xmlns" : "") + l.slice(f + 1);
                    if (a[d] && l.slice(f - 3, f) == "ext") continue;
                    a[d] = o;
                    if (!t) a[d.toLowerCase()] = o
                }
            }
        return a
    }

    function jr(e) {
        return e.replace(Vr, "<$1")
    }
    var Xr = {
        "&quot;": '"',
        "&apos;": "'",
        "&gt;": ">",
        "&lt;": "<",
        "&amp;": "&"
    };
    var $r = ar(Xr);
    var Yr = function () {
        var e = /&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,
            r = /_x([\da-fA-F]{4})_/gi;
        return function t(a) {
            var n = a + "",
                i = n.indexOf("<![CDATA[");
            if (i == -1) return n.replace(e, function (e, r) {
                return Xr[e] || String.fromCharCode(parseInt(r, e.indexOf("x") > -1 ? 16 : 10)) || e
            }).replace(r, function (e, r) {
                return String.fromCharCode(parseInt(r, 16))
            });
            var s = n.indexOf("]]>");
            return t(n.slice(0, i)) + n.slice(i + 9, s) + t(n.slice(s + 3))
        }
    }();
    var Kr = /[&<>'"]/g,
        Jr = /[\u0000-\u0008\u000b-\u001f]/g;

    function qr(e) {
        var r = e + "";
        return r.replace(Kr, function (e) {
            return $r[e]
        }).replace(Jr, function (e) {
            return "_x" + ("000" + e.charCodeAt(0).toString(16)).slice(-4) + "_"
        })
    }

    function Zr(e) {
        return qr(e).replace(/ /g, "_x0020_")
    }
    var Qr = /[\u0000-\u001f]/g;

    function et(e) {
        var r = e + "";
        return r.replace(Kr, function (e) {
            return $r[e]
        }).replace(/\n/g, "<br/>").replace(Qr, function (e) {
            return "&#x" + ("000" + e.charCodeAt(0).toString(16)).slice(-4) + ";"
        })
    }

    function rt(e) {
        var r = e + "";
        return r.replace(Kr, function (e) {
            return $r[e]
        }).replace(Qr, function (e) {
            return "&#x" + e.charCodeAt(0).toString(16).toUpperCase() + ";"
        })
    }
    var tt = function () {
        var e = /&#(\d+);/g;

        function r(e, r) {
            return String.fromCharCode(parseInt(r, 10))
        }
        return function t(a) {
            return a.replace(e, r)
        }
    }();

    function at(e) {
        return e.replace(/(\r\n|[\r\n])/g, "&#10;")
    }

    function nt(e) {
        switch (e) {
            case 1:
                ;
            case true:
                ;
            case "1":
                ;
            case "true":
                ;
            case "TRUE":
                return true;
            default:
                return false;
        }
    }

    function it(e) {
        var r = "",
            t = 0,
            a = 0,
            n = 0,
            i = 0,
            s = 0,
            f = 0;
        while (t < e.length) {
            a = e.charCodeAt(t++);
            if (a < 128) {
                r += String.fromCharCode(a);
                continue
            }
            n = e.charCodeAt(t++);
            if (a > 191 && a < 224) {
                s = (a & 31) << 6;
                s |= n & 63;
                r += String.fromCharCode(s);
                continue
            }
            i = e.charCodeAt(t++);
            if (a < 240) {
                r += String.fromCharCode((a & 15) << 12 | (n & 63) << 6 | i & 63);
                continue
            }
            s = e.charCodeAt(t++);
            f = ((a & 7) << 18 | (n & 63) << 12 | (i & 63) << 6 | s & 63) - 65536;
            r += String.fromCharCode(55296 + (f >>> 10 & 1023));
            r += String.fromCharCode(56320 + (f & 1023))
        }
        return r
    }

    function st(e) {
        var r = y(2 * e.length),
            t, a, n = 1,
            i = 0,
            s = 0,
            f;
        for (a = 0; a < e.length; a += n) {
            n = 1;
            if ((f = e.charCodeAt(a)) < 128) t = f;
            else if (f < 224) {
                t = (f & 31) * 64 + (e.charCodeAt(a + 1) & 63);
                n = 2
            }
            else if (f < 240) {
                t = (f & 15) * 4096 + (e.charCodeAt(a + 1) & 63) * 64 + (e.charCodeAt(a + 2) & 63);
                n = 3
            }
            else {
                n = 4;
                t = (f & 7) * 262144 + (e.charCodeAt(a + 1) & 63) * 4096 + (e.charCodeAt(a + 2) & 63) * 64 + (e.charCodeAt(a + 3) & 63);
                t -= 65536;
                s = 55296 + (t >>> 10 & 1023);
                t = 56320 + (t & 1023)
            }
            if (s !== 0) {
                r[i++] = s & 255;
                r[i++] = s >>> 8;
                s = 0
            }
            r[i++] = t % 256;
            r[i++] = t >>> 8
        }
        return r.slice(0, i).toString("ucs2")
    }

    function ft(e) {
        return E(e, "binary").toString("utf8")
    }
    var ot = "foo bar bazÃ¢Â˜ÂƒÃ°ÂŸÂÂ£";
    var ct = T && (ft(ot) == it(ot) && ft || st(ot) == it(ot) && st) || it;
    var lt = T ? function (e) {
        return E(e, "utf8").toString("binary")
    } : function (e) {
        var r = [],
            t = 0,
            a = 0,
            n = 0;
        while (t < e.length) {
            a = e.charCodeAt(t++);
            switch (true) {
                case a < 128:
                    r.push(String.fromCharCode(a));
                    break;
                case a < 2048:
                    r.push(String.fromCharCode(192 + (a >> 6)));
                    r.push(String.fromCharCode(128 + (a & 63)));
                    break;
                case a >= 55296 && a < 57344:
                    a -= 55296;
                    n = e.charCodeAt(t++) - 56320 + (a << 10);
                    r.push(String.fromCharCode(240 + (n >> 18 & 7)));
                    r.push(String.fromCharCode(144 + (n >> 12 & 63)));
                    r.push(String.fromCharCode(128 + (n >> 6 & 63)));
                    r.push(String.fromCharCode(128 + (n & 63)));
                    break;
                default:
                    r.push(String.fromCharCode(224 + (a >> 12)));
                    r.push(String.fromCharCode(128 + (a >> 6 & 63)));
                    r.push(String.fromCharCode(128 + (a & 63)));
            }
        }
        return r.join("")
    };
    var ut = function () {
        var e = {};
        return function r(t, a) {
            var n = t + "|" + (a || "");
            if (e[n]) return e[n];
            return e[n] = new RegExp("<(?:\\w+:)?" + t + '(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?' + t + ">", a || "")
        }
    }();
    var ht = function () {
        var e = [
            ["nbsp", " "],
            ["middot", "Â·"],
            ["quot", '"'],
            ["apos", "'"],
            ["gt", ">"],
            ["lt", "<"],
            ["amp", "&"]
        ].map(function (e) {
            return [new RegExp("&" + e[0] + ";", "ig"), e[1]]
        });
        return function r(t) {
            var a = t.replace(/^[\t\n\r ]+/, "").replace(/[\t\n\r ]+$/, "").replace(/>\s+/g, ">").replace(/\s+</g, "<").replace(/[\t\n\r ]+/g, " ").replace(/<\s*[bB][rR]\s*\/?>/g, "\n").replace(/<[^>]*>/g, "");
            for (var n = 0; n < e.length; ++n) a = a.replace(e[n][0], e[n][1]);
            return a
        }
    }();
    var dt = function () {
        var e = {};
        return function r(t) {
            if (e[t] !== undefined) return e[t];
            return e[t] = new RegExp("<(?:vt:)?" + t + ">([\\s\\S]*?)</(?:vt:)?" + t + ">", "g")
        }
    }();
    var vt = /<\/?(?:vt:)?variant>/g,
        pt = /<(?:vt:)([^>]*)>([\s\S]*)</;

    function mt(e, r) {
        var t = Gr(e);
        var a = e.match(dt(t.baseType)) || [];
        var n = [];
        if (a.length != t.size) {
            if (r.WTF) throw new Error("unexpected vector length " + a.length + " != " + t.size);
            return n
        }
        a.forEach(function (e) {
            var r = e.replace(vt, "").match(pt);
            if (r) n.push(
                {
                    v: ct(r[2]),
                    t: r[1]
                })
        });
        return n
    }
    var bt = /(^\s|\s$|\n)/;

    function gt(e, r) {
        return "<" + e + (r.match(bt) ? ' xml:space="preserve"' : "") + ">" + r + "</" + e + ">"
    }

    function wt(e) {
        return rr(e).map(function (r) {
            return " " + r + '="' + e[r] + '"'
        }).join("")
    }

    function kt(e, r, t) {
        return "<" + e + (t != null ? wt(t) : "") + (r != null ? (r.match(bt) ? ' xml:space="preserve"' : "") + ">" + r + "</" + e : "/") + ">"
    }

    function Tt(e, r) {
        try {
            return e.toISOString().replace(/\.\d*/, "")
        }
        catch (t) {
            if (r) throw t
        }
        return ""
    }

    function Et(e, r) {
        switch (typeof e) {
            case "string":
                var t = kt("vt:lpwstr", qr(e));
                if (r) t = t.replace(/&quot;/g, "_x0022_");
                return t;
            case "number":
                return kt((e | 0) == e ? "vt:i4" : "vt:r8", qr(String(e)));
            case "boolean":
                return kt("vt:bool", e ? "true" : "false");
        }
        if (e instanceof Date) return kt("vt:filetime", Tt(e));
        throw new Error("Unable to serialize " + e)
    }

    function yt(e) {
        if (T && Buffer.isBuffer(e)) return e.toString("utf8");
        if (typeof e === "string") return e;
        if (typeof Uint8Array !== "undefined" && e instanceof Uint8Array) return ct(x(R(e)));
        throw new Error("Bad input format: expected Buffer or string")
    }
    var St = /<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm;
    var _t = {
        CORE_PROPS: "http://schemas.openxmlformats.org/package/2006/metadata/core-properties",
        CUST_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",
        EXT_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",
        CT: "http://schemas.openxmlformats.org/package/2006/content-types",
        RELS: "http://schemas.openxmlformats.org/package/2006/relationships",
        TCMNT: "http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",
        dc: "http://purl.org/dc/elements/1.1/",
        dcterms: "http://purl.org/dc/terms/",
        dcmitype: "http://purl.org/dc/dcmitype/",
        mx: "http://schemas.microsoft.com/office/mac/excel/2008/main",
        r: "http://schemas.openxmlformats.org/officeDocument/2006/relationships",
        sjs: "http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",
        vt: "http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",
        xsi: "http://www.w3.org/2001/XMLSchema-instance",
        xsd: "http://www.w3.org/2001/XMLSchema"
    };
    var At = ["http://schemas.openxmlformats.org/spreadsheetml/2006/main", "http://purl.oclc.org/ooxml/spreadsheetml/main", "http://schemas.microsoft.com/office/excel/2006/main", "http://schemas.microsoft.com/office/excel/2006/2"];
    var xt = {
        o: "urn:schemas-microsoft-com:office:office",
        x: "urn:schemas-microsoft-com:office:excel",
        ss: "urn:schemas-microsoft-com:office:spreadsheet",
        dt: "uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",
        mv: "http://macVmlSchemaUri",
        v: "urn:schemas-microsoft-com:vml",
        html: "http://www.w3.org/TR/REC-html40"
    };

    function Ct(e, r) {
        var t = 1 - 2 * (e[r + 7] >>> 7);
        var a = ((e[r + 7] & 127) << 4) + (e[r + 6] >>> 4 & 15);
        var n = e[r + 6] & 15;
        for (var i = 5; i >= 0; --i) n = n * 256 + e[r + i];
        if (a == 2047) return n == 0 ? t * Infinity : NaN;
        if (a == 0) a = -1022;
        else {
            a -= 1023;
            n += Math.pow(2, 52)
        }
        return t * Math.pow(2, a - 52) * n
    }

    function Rt(e, r, t) {
        var a = (r < 0 || 1 / r == -Infinity ? 1 : 0) << 7,
            n = 0,
            i = 0;
        var s = a ? -r : r;
        if (!isFinite(s)) {
            n = 2047;
            i = isNaN(r) ? 26985 : 0
        }
        else if (s == 0) n = i = 0;
        else {
            n = Math.floor(Math.log(s) / Math.LN2);
            i = s * Math.pow(2, 52 - n);
            if (n <= -1023 && (!isFinite(i) || i < Math.pow(2, 52))) {
                n = -1022
            }
            else {
                i -= Math.pow(2, 52);
                n += 1023
            }
        }
        for (var f = 0; f <= 5; ++f, i /= 256) e[t + f] = i & 255;
        e[t + 6] = (n & 15) << 4 | i & 15;
        e[t + 7] = n >> 4 | a
    }
    var Ot = function (e) {
        var r = [],
            t = 10240;
        for (var a = 0; a < e[0].length; ++a)
            if (e[0][a])
                for (var n = 0, i = e[0][a].length; n < i; n += t) r.push.apply(r, e[0][a].slice(n, n + t));
        return r
    };
    var It = T ? function (e) {
        return e[0].length > 0 && Buffer.isBuffer(e[0][0]) ? Buffer.concat(e[0].map(function (e) {
            return Buffer.isBuffer(e) ? e : E(e)
        })) : Ot(e)
    } : Ot;
    var Nt = function (e, r, t) {
        var a = [];
        for (var n = r; n < t; n += 2) a.push(String.fromCharCode(Qt(e, n)));
        return a.join("").replace(N, "")
    };
    var Ft = T ? function (e, r, t) {
        if (!Buffer.isBuffer(e)) return Nt(e, r, t);
        return e.toString("utf16le", r, t).replace(N, "")
    } : Nt;
    var Dt = function (e, r, t) {
        var a = [];
        for (var n = r; n < r + t; ++n) a.push(("0" + e[n].toString(16)).slice(-2));
        return a.join("")
    };
    var Pt = T ? function (e, r, t) {
        return Buffer.isBuffer(e) ? e.toString("hex", r, r + t) : Dt(e, r, t)
    } : Dt;
    var Lt = function (e, r, t) {
        var a = [];
        for (var n = r; n < t; n++) a.push(String.fromCharCode(Zt(e, n)));
        return a.join("")
    };
    var Mt = T ? function rk(e, r, t) {
        return Buffer.isBuffer(e) ? e.toString("utf8", r, t) : Lt(e, r, t)
    } : Lt;
    var Ut = function (e, r) {
        var t = ra(e, r);
        return t > 0 ? Mt(e, r + 4, r + 4 + t - 1) : ""
    };
    var Bt = Ut;
    var Wt = function (e, r) {
        var t = ra(e, r);
        return t > 0 ? Mt(e, r + 4, r + 4 + t - 1) : ""
    };
    var Ht = Wt;
    var zt = function (e, r) {
        var t = 2 * ra(e, r);
        return t > 0 ? Mt(e, r + 4, r + 4 + t - 1) : ""
    };
    var Vt = zt;
    var Gt = function tk(e, r) {
        var t = ra(e, r);
        return t > 0 ? Ft(e, r + 4, r + 4 + t) : ""
    };
    var jt = Gt;
    var Xt = function (e, r) {
        var t = ra(e, r);
        return t > 0 ? Mt(e, r + 4, r + 4 + t) : ""
    };
    var $t = Xt;
    var Yt = function (e, r) {
        return Ct(e, r)
    };
    var Kt = Yt;
    var Jt = function ak(e) {
        return Array.isArray(e) || typeof Uint8Array !== "undefined" && e instanceof Uint8Array
    };
    if (T) {
        Bt = function nk(e, r) {
            if (!Buffer.isBuffer(e)) return Ut(e, r);
            var t = e.readUInt32LE(r);
            return t > 0 ? e.toString("utf8", r + 4, r + 4 + t - 1) : ""
        };
        Ht = function ik(e, r) {
            if (!Buffer.isBuffer(e)) return Wt(e, r);
            var t = e.readUInt32LE(r);
            return t > 0 ? e.toString("utf8", r + 4, r + 4 + t - 1) : ""
        };
        Vt = function sk(e, r) {
            if (!Buffer.isBuffer(e)) return zt(e, r);
            var t = 2 * e.readUInt32LE(r);
            return e.toString("utf16le", r + 4, r + 4 + t - 1)
        };
        jt = function fk(e, r) {
            if (!Buffer.isBuffer(e)) return Gt(e, r);
            var t = e.readUInt32LE(r);
            return e.toString("utf16le", r + 4, r + 4 + t)
        };
        $t = function ok(e, r) {
            if (!Buffer.isBuffer(e)) return Xt(e, r);
            var t = e.readUInt32LE(r);
            return e.toString("utf8", r + 4, r + 4 + t)
        };
        Kt = function ck(e, r) {
            if (Buffer.isBuffer(e)) return e.readDoubleLE(r);
            return Yt(e, r)
        };
        Jt = function lk(e) {
            return Buffer.isBuffer(e) || Array.isArray(e) || typeof Uint8Array !== "undefined" && e instanceof Uint8Array
        }
    }

    function qt() {
        Ft = function (e, r, t) {
            return a.utils.decode(1200, e.slice(r, t)).replace(N, "")
        };
        Mt = function (e, r, t) {
            return a.utils.decode(65001, e.slice(r, t))
        };
        Bt = function (e, r) {
            var n = ra(e, r);
            return n > 0 ? a.utils.decode(t, e.slice(r + 4, r + 4 + n - 1)) : ""
        };
        Ht = function (e, t) {
            var n = ra(e, t);
            return n > 0 ? a.utils.decode(r, e.slice(t + 4, t + 4 + n - 1)) : ""
        };
        Vt = function (e, r) {
            var t = 2 * ra(e, r);
            return t > 0 ? a.utils.decode(1200, e.slice(r + 4, r + 4 + t - 1)) : ""
        };
        jt = function (e, r) {
            var t = ra(e, r);
            return t > 0 ? a.utils.decode(1200, e.slice(r + 4, r + 4 + t)) : ""
        };
        $t = function (e, r) {
            var t = ra(e, r);
            return t > 0 ? a.utils.decode(65001, e.slice(r + 4, r + 4 + t)) : ""
        }
    }
    if (typeof a !== "undefined") qt();
    var Zt = function (e, r) {
        return e[r]
    };
    var Qt = function (e, r) {
        return e[r + 1] * (1 << 8) + e[r]
    };
    var ea = function (e, r) {
        var t = e[r + 1] * (1 << 8) + e[r];
        return t < 32768 ? t : (65535 - t + 1) * -1
    };
    var ra = function (e, r) {
        return e[r + 3] * (1 << 24) + (e[r + 2] << 16) + (e[r + 1] << 8) + e[r]
    };
    var ta = function (e, r) {
        return e[r + 3] << 24 | e[r + 2] << 16 | e[r + 1] << 8 | e[r]
    };
    var aa = function (e, r) {
        return e[r] << 24 | e[r + 1] << 16 | e[r + 2] << 8 | e[r + 3]
    };

    function na(e, t) {
        var n = "",
            i, s, f = [],
            o, c, l, u;
        switch (t) {
            case "dbcs":
                u = this.l;
                if (T && Buffer.isBuffer(this)) n = this.slice(this.l, this.l + 2 * e).toString("utf16le");
                else
                    for (l = 0; l < e; ++l) {
                        n += String.fromCharCode(Qt(this, u));
                        u += 2
                    }
                e *= 2;
                break;
            case "utf8":
                n = Mt(this, this.l, this.l + e);
                break;
            case "utf16le":
                e *= 2;
                n = Ft(this, this.l, this.l + e);
                break;
            case "wstr":
                if (typeof a !== "undefined") n = a.utils.decode(r, this.slice(this.l, this.l + 2 * e));
                else return na.call(this, e, "dbcs");
                e = 2 * e;
                break;
            case "lpstr-ansi":
                n = Bt(this, this.l);
                e = 4 + ra(this, this.l);
                break;
            case "lpstr-cp":
                n = Ht(this, this.l);
                e = 4 + ra(this, this.l);
                break;
            case "lpwstr":
                n = Vt(this, this.l);
                e = 4 + 2 * ra(this, this.l);
                break;
            case "lpp4":
                e = 4 + ra(this, this.l);
                n = jt(this, this.l);
                if (e & 2) e += 2;
                break;
            case "8lpp4":
                e = 4 + ra(this, this.l);
                n = $t(this, this.l);
                if (e & 3) e += 4 - (e & 3);
                break;
            case "cstr":
                e = 0;
                n = "";
                while ((o = Zt(this, this.l + e++)) !== 0) f.push(v(o));
                n = f.join("");
                break;
            case "_wstr":
                e = 0;
                n = "";
                while ((o = Qt(this, this.l + e)) !== 0) {
                    f.push(v(o));
                    e += 2
                }
                e += 2;
                n = f.join("");
                break;
            case "dbcs-cont":
                n = "";
                u = this.l;
                for (l = 0; l < e; ++l) {
                    if (this.lens && this.lens.indexOf(u) !== -1) {
                        o = Zt(this, u);
                        this.l = u + 1;
                        c = na.call(this, e - l, o ? "dbcs-cont" : "sbcs-cont");
                        return f.join("") + c
                    }
                    f.push(v(Qt(this, u)));
                    u += 2
                }
                n = f.join("");
                e *= 2;
                break;
            case "cpstr":
                if (typeof a !== "undefined") {
                    n = a.utils.decode(r, this.slice(this.l, this.l + e));
                    break
                };
            case "sbcs-cont":
                n = "";
                u = this.l;
                for (l = 0; l != e; ++l) {
                    if (this.lens && this.lens.indexOf(u) !== -1) {
                        o = Zt(this, u);
                        this.l = u + 1;
                        c = na.call(this, e - l, o ? "dbcs-cont" : "sbcs-cont");
                        return f.join("") + c
                    }
                    f.push(v(Zt(this, u)));
                    u += 1
                }
                n = f.join("");
                break;
            default:
                switch (e) {
                    case 1:
                        i = Zt(this, this.l);
                        this.l++;
                        return i;
                    case 2:
                        i = (t === "i" ? ea : Qt)(this, this.l);
                        this.l += 2;
                        return i;
                    case 4:
                        ;
                    case -4:
                        if (t === "i" || (this[this.l + 3] & 128) === 0) {
                            i = (e > 0 ? ta : aa)(this, this.l);
                            this.l += 4;
                            return i
                        }
                        else {
                            s = ra(this, this.l);
                            this.l += 4
                        }
                        return s;
                    case 8:
                        ;
                    case -8:
                        if (t === "f") {
                            if (e == 8) s = Kt(this, this.l);
                            else s = Kt([this[this.l + 7], this[this.l + 6], this[this.l + 5], this[this.l + 4], this[this.l + 3], this[this.l + 2], this[this.l + 1], this[this.l + 0]], 0);
                            this.l += 8;
                            return s
                        }
                        else e = 8;
                    case 16:
                        n = Pt(this, this.l, e);
                        break;
                };
        }
        this.l += e;
        return n
    }
    var ia = function (e, r, t) {
        e[t] = r & 255;
        e[t + 1] = r >>> 8 & 255;
        e[t + 2] = r >>> 16 & 255;
        e[t + 3] = r >>> 24 & 255
    };
    var sa = function (e, r, t) {
        e[t] = r & 255;
        e[t + 1] = r >> 8 & 255;
        e[t + 2] = r >> 16 & 255;
        e[t + 3] = r >> 24 & 255
    };
    var fa = function (e, r, t) {
        e[t] = r & 255;
        e[t + 1] = r >>> 8 & 255
    };

    function oa(e, r, n) {
        var i = 0,
            s = 0;
        if (n === "dbcs") {
            for (s = 0; s != r.length; ++s) fa(this, r.charCodeAt(s), this.l + 2 * s);
            i = 2 * r.length
        }
        else if (n === "sbcs") {
            if (typeof a !== "undefined" && t == 874) {
                for (s = 0; s != r.length; ++s) {
                    var f = a.utils.encode(t, r.charAt(s));
                    this[this.l + s] = f[0]
                }
            }
            else {
                r = r.replace(/[^\x00-\x7F]/g, "_");
                for (s = 0; s != r.length; ++s) this[this.l + s] = r.charCodeAt(s) & 255
            }
            i = r.length
        }
        else if (n === "hex") {
            for (; s < e; ++s) {
                this[this.l++] = parseInt(r.slice(2 * s, 2 * s + 2), 16) || 0
            }
            return this
        }
        else if (n === "utf16le") {
            var o = Math.min(this.l + e, this.length);
            for (s = 0; s < Math.min(r.length, e); ++s) {
                var c = r.charCodeAt(s);
                this[this.l++] = c & 255;
                this[this.l++] = c >> 8
            }
            while (this.l < o) this[this.l++] = 0;
            return this
        }
        else switch (e) {
            case 1:
                i = 1;
                this[this.l] = r & 255;
                break;
            case 2:
                i = 2;
                this[this.l] = r & 255;
                r >>>= 8;
                this[this.l + 1] = r & 255;
                break;
            case 3:
                i = 3;
                this[this.l] = r & 255;
                r >>>= 8;
                this[this.l + 1] = r & 255;
                r >>>= 8;
                this[this.l + 2] = r & 255;
                break;
            case 4:
                i = 4;
                ia(this, r, this.l);
                break;
            case 8:
                i = 8;
                if (n === "f") {
                    Rt(this, r, this.l);
                    break
                };
            case 16:
                break;
            case -4:
                i = 4;
                sa(this, r, this.l);
                break;
        }
        this.l += i;
        return this
    }

    function ca(e, r) {
        var t = Pt(this, this.l, e.length >> 1);
        if (t !== e) throw new Error(r + "Expected " + e + " saw " + t);
        this.l += e.length >> 1
    }

    function la(e, r) {
        e.l = r;
        e._R = na;
        e.chk = ca;
        e._W = oa
    }

    function ua(e, r) {
        e.l += r
    }

    function ha(e) {
        var r = y(e);
        la(r, 0);
        return r
    }

    function da(e, r, t) {
        if (!e) return;
        var a, n, i;
        la(e, e.l || 0);
        var s = e.length,
            f = 0,
            o = 0;
        while (e.l < s) {
            f = e._R(1);
            if (f & 128) f = (f & 127) + ((e._R(1) & 127) << 7);
            var c = mb[f] || mb[65535];
            a = e._R(1);
            i = a & 127;
            for (n = 1; n < 4 && a & 128; ++n) i += ((a = e._R(1)) & 127) << 7 * n;
            o = e.l + i;
            var l = c.f && c.f(e, i, t);
            e.l = o;
            if (r(l, c, f)) return
        }
    }

    function va() {
        var e = [],
            r = T ? 256 : 2048;
        var t = function o(e) {
            var r = ha(e);
            la(r, 0);
            return r
        };
        var a = t(r);
        var n = function c() {
            if (!a) return;
            if (a.length > a.l) {
                a = a.slice(0, a.l);
                a.l = a.length
            }
            if (a.length > 0) e.push(a);
            a = null
        };
        var i = function l(e) {
            if (a && e < a.length - a.l) return a;
            n();
            return a = t(Math.max(e + 1, r))
        };
        var s = function u() {
            n();
            return O(e)
        };
        var f = function h(e) {
            n();
            a = e;
            if (a.l == null) a.l = a.length;
            i(r)
        };
        return {
            next: i,
            push: f,
            end: s,
            _bufs: e
        }
    }

    function pa(e, r, t, a) {
        var n = +r,
            i;
        if (isNaN(n)) return;
        if (!a) a = mb[n].p || (t || []).length || 0;
        i = 1 + (n >= 128 ? 1 : 0) + 1;
        if (a >= 128) ++i;
        if (a >= 16384) ++i;
        if (a >= 2097152) ++i;
        var s = e.next(i);
        if (n <= 127) s._W(1, n);
        else {
            s._W(1, (n & 127) + 128);
            s._W(1, n >> 7)
        }
        for (var f = 0; f != 4; ++f) {
            if (a >= 128) {
                s._W(1, (a & 127) + 128);
                a >>= 7
            }
            else {
                s._W(1, a);
                break
            }
        }
        if (a > 0 && Jt(t)) e.push(t)
    }

    function ma(e, r, t) {
        var a = gr(e);
        if (r.s) {
            if (a.cRel) a.c += r.s.c;
            if (a.rRel) a.r += r.s.r
        }
        else {
            if (a.cRel) a.c += r.c;
            if (a.rRel) a.r += r.r
        }
        if (!t || t.biff < 12) {
            while (a.c >= 256) a.c -= 256;
            while (a.r >= 65536) a.r -= 65536
        }
        return a
    }

    function ba(e, r, t) {
        var a = gr(e);
        a.s = ma(a.s, r.s, t);
        a.e = ma(a.e, r.s, t);
        return a
    }

    function ga(e, r) {
        if (e.cRel && e.c < 0) {
            e = gr(e);
            while (e.c < 0) e.c += r > 8 ? 16384 : 256
        }
        if (e.rRel && e.r < 0) {
            e = gr(e);
            while (e.r < 0) e.r += r > 8 ? 1048576 : r > 5 ? 65536 : 16384
        }
        var t = Oa(e);
        if (!e.cRel && e.cRel != null) t = Aa(t);
        if (!e.rRel && e.rRel != null) t = Ea(t);
        return t
    }

    function wa(e, r) {
        if (e.s.r == 0 && !e.s.rRel) {
            if (e.e.r == (r.biff >= 12 ? 1048575 : r.biff >= 8 ? 65536 : 16384) && !e.e.rRel) {
                return (e.s.cRel ? "" : "$") + _a(e.s.c) + ":" + (e.e.cRel ? "" : "$") + _a(e.e.c)
            }
        }
        if (e.s.c == 0 && !e.s.cRel) {
            if (e.e.c == (r.biff >= 12 ? 16383 : 255) && !e.e.cRel) {
                return (e.s.rRel ? "" : "$") + Ta(e.s.r) + ":" + (e.e.rRel ? "" : "$") + Ta(e.e.r)
            }
        }
        return ga(e.s, r.biff) + ":" + ga(e.e, r.biff)
    }

    function ka(e) {
        return parseInt(ya(e), 10) - 1
    }

    function Ta(e) {
        return "" + (e + 1)
    }

    function Ea(e) {
        return e.replace(/([A-Z]|^)(\d+)$/, "$1$$$2")
    }

    function ya(e) {
        return e.replace(/\$(\d+)$/, "$1")
    }

    function Sa(e) {
        var r = xa(e),
            t = 0,
            a = 0;
        for (; a !== r.length; ++a) t = 26 * t + r.charCodeAt(a) - 64;
        return t - 1
    }

    function _a(e) {
        if (e < 0) throw new Error("invalid column " + e);
        var r = "";
        for (++e; e; e = Math.floor((e - 1) / 26)) r = String.fromCharCode((e - 1) % 26 + 65) + r;
        return r
    }

    function Aa(e) {
        return e.replace(/^([A-Z])/, "$$$1")
    }

    function xa(e) {
        return e.replace(/^\$([A-Z])/, "$1")
    }

    function Ca(e) {
        return e.replace(/(\$?[A-Z]*)(\$?\d*)/, "$1,$2").split(",")
    }

    function Ra(e) {
        var r = 0,
            t = 0;
        for (var a = 0; a < e.length; ++a) {
            var n = e.charCodeAt(a);
            if (n >= 48 && n <= 57) r = 10 * r + (n - 48);
            else if (n >= 65 && n <= 90) t = 26 * t + (n - 64)
        }
        return {
            c: t - 1,
            r: r - 1
        }
    }

    function Oa(e) {
        var r = e.c + 1;
        var t = "";
        for (; r; r = (r - 1) / 26 | 0) t = String.fromCharCode((r - 1) % 26 + 65) + t;
        return t + (e.r + 1)
    }

    function Ia(e) {
        var r = e.indexOf(":");
        if (r == -1) return {
            s: Ra(e),
            e: Ra(e)
        };
        return {
            s: Ra(e.slice(0, r)),
            e: Ra(e.slice(r + 1))
        }
    }

    function Na(e, r) {
        if (typeof r === "undefined" || typeof r === "number") {
            return Na(e.s, e.e)
        }
        if (typeof e !== "string") e = Oa(e);
        if (typeof r !== "string") r = Oa(r);
        return e == r ? e : e + ":" + r
    }

    function Fa(e) {
        var r = {
            s:
            {
                c: 0,
                r: 0
            },
            e:
            {
                c: 0,
                r: 0
            }
        };
        var t = 0,
            a = 0,
            n = 0;
        var i = e.length;
        for (t = 0; a < i; ++a) {
            if ((n = e.charCodeAt(a) - 64) < 1 || n > 26) break;
            t = 26 * t + n
        }
        r.s.c = --t;
        for (t = 0; a < i; ++a) {
            if ((n = e.charCodeAt(a) - 48) < 0 || n > 9) break;
            t = 10 * t + n
        }
        r.s.r = --t;
        if (a === i || n != 10) {
            r.e.c = r.s.c;
            r.e.r = r.s.r;
            return r
        } ++a;
        for (t = 0; a != i; ++a) {
            if ((n = e.charCodeAt(a) - 64) < 1 || n > 26) break;
            t = 26 * t + n
        }
        r.e.c = --t;
        for (t = 0; a != i; ++a) {
            if ((n = e.charCodeAt(a) - 48) < 0 || n > 9) break;
            t = 10 * t + n
        }
        r.e.r = --t;
        return r
    }

    function Da(e, r) {
        var t = e.t == "d" && r instanceof Date;
        if (e.z != null) try {
            return e.w = Be(e.z, t ? fr(r) : r)
        }
            catch (a) { }
        try {
            return e.w = Be((e.XF ||
                {}).numFmtId || (t ? 14 : 0), t ? fr(r) : r)
        }
        catch (a) {
            return "" + r
        }
    }

    function Pa(e, r, t) {
        if (e == null || e.t == null || e.t == "z") return "";
        if (e.w !== undefined) return e.w;
        if (e.t == "d" && !e.z && t && t.dateNF) e.z = t.dateNF;
        if (e.t == "e") return Gn[e.v] || e.v;
        if (r == undefined) return Da(e, e.v);
        return Da(e, r)
    }

    function La(e, r) {
        var t = r && r.sheet ? r.sheet : "Sheet1";
        var a = {};
        a[t] = e;
        return {
            SheetNames: [t],
            Sheets: a
        }
    }

    function Ma(e, r, t) {
        var a = t ||
            {};
        var n = e ? Array.isArray(e) : a.dense;
        if (m != null && n == null) n = m;
        var i = e || (n ? [] :
            {});
        var s = 0,
            f = 0;
        if (i && a.origin != null) {
            if (typeof a.origin == "number") s = a.origin;
            else {
                var o = typeof a.origin == "string" ? Ra(a.origin) : a.origin;
                s = o.r;
                f = o.c
            }
            if (!i["!ref"]) i["!ref"] = "A1:A1"
        }
        var c = {
            s:
            {
                c: 1e7,
                r: 1e7
            },
            e:
            {
                c: 0,
                r: 0
            }
        };
        if (i["!ref"]) {
            var l = Fa(i["!ref"]);
            c.s.c = l.s.c;
            c.s.r = l.s.r;
            c.e.c = Math.max(c.e.c, l.e.c);
            c.e.r = Math.max(c.e.r, l.e.r);
            if (s == -1) c.e.r = s = l.e.r + 1
        }
        for (var u = 0; u != r.length; ++u) {
            if (!r[u]) continue;
            if (!Array.isArray(r[u])) throw new Error("aoa_to_sheet expects an array of arrays");
            for (var h = 0; h != r[u].length; ++h) {
                if (typeof r[u][h] === "undefined") continue;
                var d = {
                    v: r[u][h]
                };
                var v = s + u,
                    p = f + h;
                if (c.s.r > v) c.s.r = v;
                if (c.s.c > p) c.s.c = p;
                if (c.e.r < v) c.e.r = v;
                if (c.e.c < p) c.e.c = p;
                if (r[u][h] && typeof r[u][h] === "object" && !Array.isArray(r[u][h]) && !(r[u][h] instanceof Date)) d = r[u][h];
                else {
                    if (Array.isArray(d.v)) {
                        d.f = r[u][h][1];
                        d.v = d.v[0]
                    }
                    if (d.v === null) {
                        if (d.f) d.t = "n";
                        else if (a.nullError) {
                            d.t = "e";
                            d.v = 0
                        }
                        else if (!a.sheetStubs) continue;
                        else d.t = "z"
                    }
                    else if (typeof d.v === "number") d.t = "n";
                    else if (typeof d.v === "boolean") d.t = "b";
                    else if (d.v instanceof Date) {
                        d.z = a.dateNF || X[14];
                        if (a.cellDates) {
                            d.t = "d";
                            d.w = Be(d.z, fr(d.v))
                        }
                        else {
                            d.t = "n";
                            d.v = fr(d.v);
                            d.w = Be(d.z, d.v)
                        }
                    }
                    else d.t = "s"
                }
                if (n) {
                    if (!i[v]) i[v] = [];
                    if (i[v][p] && i[v][p].z) d.z = i[v][p].z;
                    i[v][p] = d
                }
                else {
                    var b = Oa(
                        {
                            c: p,
                            r: v
                        });
                    if (i[b] && i[b].z) d.z = i[b].z;
                    i[b] = d
                }
            }
        }
        if (c.s.c < 1e7) i["!ref"] = Na(c);
        return i
    }

    function Ua(e, r) {
        return Ma(null, e, r)
    }

    function Ba(e) {
        return e._R(4, "i")
    }

    function Wa(e, r) {
        if (!r) r = ha(4);
        r._W(4, e);
        return r
    }

    function Ha(e) {
        var r = e._R(4);
        return r === 0 ? "" : e._R(r, "dbcs")
    }

    function za(e, r) {
        var t = false;
        if (r == null) {
            t = true;
            r = ha(4 + 2 * e.length)
        }
        r._W(4, e.length);
        if (e.length > 0) r._W(0, e, "dbcs");
        return t ? r.slice(0, r.l) : r
    }

    function Va(e) {
        return {
            ich: e._R(2),
            ifnt: e._R(2)
        }
    }

    function Ga(e, r) {
        if (!r) r = ha(4);
        r._W(2, e.ich || 0);
        r._W(2, e.ifnt || 0);
        return r
    }

    function ja(e, r) {
        var t = e.l;
        var a = e._R(1);
        var n = Ha(e);
        var i = [];
        var s = {
            t: n,
            h: n
        };
        if ((a & 1) !== 0) {
            var f = e._R(4);
            for (var o = 0; o != f; ++o) i.push(Va(e));
            s.r = i
        }
        else s.r = [
            {
                ich: 0,
                ifnt: 0
            }];
        e.l = t + r;
        return s
    }

    function Xa(e, r) {
        var t = false;
        if (r == null) {
            t = true;
            r = ha(15 + 4 * e.t.length)
        }
        r._W(1, 0);
        za(e.t, r);
        return t ? r.slice(0, r.l) : r
    }
    var $a = ja;

    function Ya(e, r) {
        var t = false;
        if (r == null) {
            t = true;
            r = ha(23 + 4 * e.t.length)
        }
        r._W(1, 1);
        za(e.t, r);
        r._W(4, 1);
        Ga(
            {
                ich: 0,
                ifnt: 0
            }, r);
        return t ? r.slice(0, r.l) : r
    }

    function Ka(e) {
        var r = e._R(4);
        var t = e._R(2);
        t += e._R(1) << 16;
        e.l++;
        return {
            c: r,
            iStyleRef: t
        }
    }

    function Ja(e, r) {
        if (r == null) r = ha(8);
        r._W(-4, e.c);
        r._W(3, e.iStyleRef || e.s);
        r._W(1, 0);
        return r
    }

    function qa(e) {
        var r = e._R(2);
        r += e._R(1) << 16;
        e.l++;
        return {
            c: -1,
            iStyleRef: r
        }
    }

    function Za(e, r) {
        if (r == null) r = ha(4);
        r._W(3, e.iStyleRef || e.s);
        r._W(1, 0);
        return r
    }
    var Qa = Ha;
    var en = za;

    function rn(e) {
        var r = e._R(4);
        return r === 0 || r === 4294967295 ? "" : e._R(r, "dbcs")
    }

    function tn(e, r) {
        var t = false;
        if (r == null) {
            t = true;
            r = ha(127)
        }
        r._W(4, e.length > 0 ? e.length : 4294967295);
        if (e.length > 0) r._W(0, e, "dbcs");
        return t ? r.slice(0, r.l) : r
    }
    var an = Ha;
    var nn = rn;
    var sn = tn;

    function fn(e) {
        var r = e.slice(e.l, e.l + 4);
        var t = r[0] & 1,
            a = r[0] & 2;
        e.l += 4;
        var n = a === 0 ? Kt([0, 0, 0, 0, r[0] & 252, r[1], r[2], r[3]], 0) : ta(r, 0) >> 2;
        return t ? n / 100 : n
    }

    function on(e, r) {
        if (r == null) r = ha(4);
        var t = 0,
            a = 0,
            n = e * 100;
        if (e == (e | 0) && e >= -(1 << 29) && e < 1 << 29) {
            a = 1
        }
        else if (n == (n | 0) && n >= -(1 << 29) && n < 1 << 29) {
            a = 1;
            t = 1
        }
        if (a) r._W(-4, ((t ? n : e) << 2) + (t + 2));
        else throw new Error("unsupported RkNumber " + e)
    }

    function cn(e) {
        var r = {
            s:
                {},
            e:
                {}
        };
        r.s.r = e._R(4);
        r.e.r = e._R(4);
        r.s.c = e._R(4);
        r.e.c = e._R(4);
        return r
    }

    function ln(e, r) {
        if (!r) r = ha(16);
        r._W(4, e.s.r);
        r._W(4, e.e.r);
        r._W(4, e.s.c);
        r._W(4, e.e.c);
        return r
    }
    var un = cn;
    var hn = ln;

    function dn(e) {
        if (e.length - e.l < 8) throw "XLS Xnum Buffer underflow";
        return e._R(8, "f")
    }

    function vn(e, r) {
        return (r || ha(8))._W(8, e, "f")
    }

    function pn(e) {
        var r = {};
        var t = e._R(1);
        var a = t >>> 1;
        var n = e._R(1);
        var i = e._R(2, "i");
        var s = e._R(1);
        var f = e._R(1);
        var o = e._R(1);
        e.l++;
        switch (a) {
            case 0:
                r.auto = 1;
                break;
            case 1:
                r.index = n;
                var c = Vn[n];
                if (c) r.rgb = gc(c);
                break;
            case 2:
                r.rgb = gc([s, f, o]);
                break;
            case 3:
                r.theme = n;
                break;
        }
        if (i != 0) r.tint = i > 0 ? i / 32767 : i / 32768;
        return r
    }

    function mn(e, r) {
        if (!r) r = ha(8);
        if (!e || e.auto) {
            r._W(4, 0);
            r._W(4, 0);
            return r
        }
        if (e.index != null) {
            r._W(1, 2);
            r._W(1, e.index)
        }
        else if (e.theme != null) {
            r._W(1, 6);
            r._W(1, e.theme)
        }
        else {
            r._W(1, 5);
            r._W(1, 0)
        }
        var t = e.tint || 0;
        if (t > 0) t *= 32767;
        else if (t < 0) t *= 32768;
        r._W(2, t);
        if (!e.rgb || e.theme != null) {
            r._W(2, 0);
            r._W(1, 0);
            r._W(1, 0)
        }
        else {
            var a = e.rgb || "FFFFFF";
            if (typeof a == "number") a = ("000000" + a.toString(16)).slice(-6);
            r._W(1, parseInt(a.slice(0, 2), 16));
            r._W(1, parseInt(a.slice(2, 4), 16));
            r._W(1, parseInt(a.slice(4, 6), 16));
            r._W(1, 255)
        }
        return r
    }

    function bn(e) {
        var r = e._R(1);
        e.l++;
        var t = {
            fBold: r & 1,
            fItalic: r & 2,
            fUnderline: r & 4,
            fStrikeout: r & 8,
            fOutline: r & 16,
            fShadow: r & 32,
            fCondense: r & 64,
            fExtend: r & 128
        };
        return t
    }

    function gn(e, r) {
        if (!r) r = ha(2);
        var t = (e.italic ? 2 : 0) | (e.strike ? 8 : 0) | (e.outline ? 16 : 0) | (e.shadow ? 32 : 0) | (e.condense ? 64 : 0) | (e.extend ? 128 : 0);
        r._W(1, t);
        r._W(1, 0);
        return r
    }

    function wn(e, r) {
        var t = {
            2: "BITMAP",
            3: "METAFILEPICT",
            8: "DIB",
            14: "ENHMETAFILE"
        };
        var a = e._R(4);
        switch (a) {
            case 0:
                return "";
            case 4294967295:
                ;
            case 4294967294:
                return t[e._R(4)] || "";
        }
        if (a > 400) throw new Error("Unsupported Clipboard: " + a.toString(16));
        e.l -= 4;
        return e._R(0, r == 1 ? "lpstr" : "lpwstr")
    }

    function kn(e) {
        return wn(e, 1)
    }

    function Tn(e) {
        return wn(e, 2)
    }
    var En = 2;
    var yn = 3;
    var Sn = 11;
    var _n = 12;
    var An = 19;
    var xn = 30;
    var Cn = 64;
    var Rn = 65;
    var On = 71;
    var In = 4096;
    var Nn = 4108;
    var Fn = 4126;
    var Dn = 80;
    var Pn = 81;
    var Ln = [Dn, Pn];
    var Mn = {
        1:
        {
            n: "CodePage",
            t: En
        },
        2:
        {
            n: "Category",
            t: Dn
        },
        3:
        {
            n: "PresentationFormat",
            t: Dn
        },
        4:
        {
            n: "ByteCount",
            t: yn
        },
        5:
        {
            n: "LineCount",
            t: yn
        },
        6:
        {
            n: "ParagraphCount",
            t: yn
        },
        7:
        {
            n: "SlideCount",
            t: yn
        },
        8:
        {
            n: "NoteCount",
            t: yn
        },
        9:
        {
            n: "HiddenCount",
            t: yn
        },
        10:
        {
            n: "MultimediaClipCount",
            t: yn
        },
        11:
        {
            n: "ScaleCrop",
            t: Sn
        },
        12:
        {
            n: "HeadingPairs",
            t: Nn
        },
        13:
        {
            n: "TitlesOfParts",
            t: Fn
        },
        14:
        {
            n: "Manager",
            t: Dn
        },
        15:
        {
            n: "Company",
            t: Dn
        },
        16:
        {
            n: "LinksUpToDate",
            t: Sn
        },
        17:
        {
            n: "CharacterCount",
            t: yn
        },
        19:
        {
            n: "SharedDoc",
            t: Sn
        },
        22:
        {
            n: "HyperlinksChanged",
            t: Sn
        },
        23:
        {
            n: "AppVersion",
            t: yn,
            p: "version"
        },
        24:
        {
            n: "DigSig",
            t: Rn
        },
        26:
        {
            n: "ContentType",
            t: Dn
        },
        27:
        {
            n: "ContentStatus",
            t: Dn
        },
        28:
        {
            n: "Language",
            t: Dn
        },
        29:
        {
            n: "Version",
            t: Dn
        },
        255:
            {},
        2147483648:
        {
            n: "Locale",
            t: An
        },
        2147483651:
        {
            n: "Behavior",
            t: An
        },
        1919054434:
            {}
    };
    var Un = {
        1:
        {
            n: "CodePage",
            t: En
        },
        2:
        {
            n: "Title",
            t: Dn
        },
        3:
        {
            n: "Subject",
            t: Dn
        },
        4:
        {
            n: "Author",
            t: Dn
        },
        5:
        {
            n: "Keywords",
            t: Dn
        },
        6:
        {
            n: "Comments",
            t: Dn
        },
        7:
        {
            n: "Template",
            t: Dn
        },
        8:
        {
            n: "LastAuthor",
            t: Dn
        },
        9:
        {
            n: "RevNumber",
            t: Dn
        },
        10:
        {
            n: "EditTime",
            t: Cn
        },
        11:
        {
            n: "LastPrinted",
            t: Cn
        },
        12:
        {
            n: "CreatedDate",
            t: Cn
        },
        13:
        {
            n: "ModifiedDate",
            t: Cn
        },
        14:
        {
            n: "PageCount",
            t: yn
        },
        15:
        {
            n: "WordCount",
            t: yn
        },
        16:
        {
            n: "CharCount",
            t: yn
        },
        17:
        {
            n: "Thumbnail",
            t: On
        },
        18:
        {
            n: "Application",
            t: Dn
        },
        19:
        {
            n: "DocSecurity",
            t: yn
        },
        255:
            {},
        2147483648:
        {
            n: "Locale",
            t: An
        },
        2147483651:
        {
            n: "Behavior",
            t: An
        },
        1919054434:
            {}
    };
    var Bn = {
        1: "US",
        2: "CA",
        3: "",
        7: "RU",
        20: "EG",
        30: "GR",
        31: "NL",
        32: "BE",
        33: "FR",
        34: "ES",
        36: "HU",
        39: "IT",
        41: "CH",
        43: "AT",
        44: "GB",
        45: "DK",
        46: "SE",
        47: "NO",
        48: "PL",
        49: "DE",
        52: "MX",
        55: "BR",
        61: "AU",
        64: "NZ",
        66: "TH",
        81: "JP",
        82: "KR",
        84: "VN",
        86: "CN",
        90: "TR",
        105: "JS",
        213: "DZ",
        216: "MA",
        218: "LY",
        351: "PT",
        354: "IS",
        358: "FI",
        420: "CZ",
        886: "TW",
        961: "LB",
        962: "JO",
        963: "SY",
        964: "IQ",
        965: "KW",
        966: "SA",
        971: "AE",
        972: "IL",
        974: "QA",
        981: "IR",
        65535: "US"
    };
    var Wn = [null, "solid", "mediumGray", "darkGray", "lightGray", "darkHorizontal", "darkVertical", "darkDown", "darkUp", "darkGrid", "darkTrellis", "lightHorizontal", "lightVertical", "lightDown", "lightUp", "lightGrid", "lightTrellis", "gray125", "gray0625"];

    function Hn(e) {
        return e.map(function (e) {
            return [e >> 16 & 255, e >> 8 & 255, e & 255]
        })
    }
    var zn = Hn([0, 16777215, 16711680, 65280, 255, 16776960, 16711935, 65535, 0, 16777215, 16711680, 65280, 255, 16776960, 16711935, 65535, 8388608, 32768, 128, 8421376, 8388736, 32896, 12632256, 8421504, 10066431, 10040166, 16777164, 13434879, 6684774, 16744576, 26316, 13421823, 128, 16711935, 16776960, 65535, 8388736, 8388608, 32896, 255, 52479, 13434879, 13434828, 16777113, 10079487, 16751052, 13408767, 16764057, 3368703, 3394764, 10079232, 16763904, 16750848, 16737792, 6710937, 9868950, 13158, 3381606, 13056, 3355392, 10040064, 10040166, 3355545, 3355443, 16777215, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
    var Vn = gr(zn);
    var Gn = {
        0: "#NULL!",
        7: "#DIV/0!",
        15: "#VALUE!",
        23: "#REF!",
        29: "#NAME?",
        36: "#NUM!",
        42: "#N/A",
        43: "#GETTING_DATA",
        255: "#WTF?"
    };
    var jn = {
        "#NULL!": 0,
        "#DIV/0!": 7,
        "#VALUE!": 15,
        "#REF!": 23,
        "#NAME?": 29,
        "#NUM!": 36,
        "#N/A": 42,
        "#GETTING_DATA": 43,
        "#WTF?": 255
    };
    var Xn = {
        "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml": "workbooks",
        "application/vnd.ms-excel.sheet.macroEnabled.main+xml": "workbooks",
        "application/vnd.ms-excel.sheet.binary.macroEnabled.main": "workbooks",
        "application/vnd.ms-excel.addin.macroEnabled.main+xml": "workbooks",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml": "workbooks",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml": "sheets",
        "application/vnd.ms-excel.worksheet": "sheets",
        "application/vnd.ms-excel.binIndexWs": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml": "charts",
        "application/vnd.ms-excel.chartsheet": "charts",
        "application/vnd.ms-excel.macrosheet+xml": "macros",
        "application/vnd.ms-excel.macrosheet": "macros",
        "application/vnd.ms-excel.intlmacrosheet": "TODO",
        "application/vnd.ms-excel.binIndexMs": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml": "dialogs",
        "application/vnd.ms-excel.dialogsheet": "dialogs",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml": "strs",
        "application/vnd.ms-excel.sharedStrings": "strs",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml": "styles",
        "application/vnd.ms-excel.styles": "styles",
        "application/vnd.openxmlformats-package.core-properties+xml": "coreprops",
        "application/vnd.openxmlformats-officedocument.custom-properties+xml": "custprops",
        "application/vnd.openxmlformats-officedocument.extended-properties+xml": "extprops",
        "application/vnd.openxmlformats-officedocument.customXmlProperties+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml": "comments",
        "application/vnd.ms-excel.comments": "comments",
        "application/vnd.ms-excel.threadedcomments+xml": "threadedcomments",
        "application/vnd.ms-excel.person+xml": "people",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml": "metadata",
        "application/vnd.ms-excel.sheetMetadata": "metadata",
        "application/vnd.ms-excel.pivotTable": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.drawingml.chart+xml": "TODO",
        "application/vnd.ms-office.chartcolorstyle+xml": "TODO",
        "application/vnd.ms-office.chartstyle+xml": "TODO",
        "application/vnd.ms-office.chartex+xml": "TODO",
        "application/vnd.ms-excel.calcChain": "calcchains",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml": "calcchains",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings": "TODO",
        "application/vnd.ms-office.activeX": "TODO",
        "application/vnd.ms-office.activeX+xml": "TODO",
        "application/vnd.ms-excel.attachedToolbars": "TODO",
        "application/vnd.ms-excel.connections": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml": "TODO",
        "application/vnd.ms-excel.externalLink": "links",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml": "links",
        "application/vnd.ms-excel.pivotCacheDefinition": "TODO",
        "application/vnd.ms-excel.pivotCacheRecords": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml": "TODO",
        "application/vnd.ms-excel.queryTable": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml": "TODO",
        "application/vnd.ms-excel.userNames": "TODO",
        "application/vnd.ms-excel.revisionHeaders": "TODO",
        "application/vnd.ms-excel.revisionLog": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml": "TODO",
        "application/vnd.ms-excel.tableSingleCells": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml": "TODO",
        "application/vnd.ms-excel.slicer": "TODO",
        "application/vnd.ms-excel.slicerCache": "TODO",
        "application/vnd.ms-excel.slicer+xml": "TODO",
        "application/vnd.ms-excel.slicerCache+xml": "TODO",
        "application/vnd.ms-excel.wsSortMap": "TODO",
        "application/vnd.ms-excel.table": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.theme+xml": "themes",
        "application/vnd.openxmlformats-officedocument.themeOverride+xml": "TODO",
        "application/vnd.ms-excel.Timeline+xml": "TODO",
        "application/vnd.ms-excel.TimelineCache+xml": "TODO",
        "application/vnd.ms-office.vbaProject": "vba",
        "application/vnd.ms-office.vbaProjectSignature": "TODO",
        "application/vnd.ms-office.volatileDependencies": "TODO",
        "application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml": "TODO",
        "application/vnd.ms-excel.controlproperties+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.model+data": "TODO",
        "application/vnd.ms-excel.Survey+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.drawing+xml": "drawings",
        "application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml": "TODO",
        "application/vnd.openxmlformats-officedocument.vmlDrawing": "TODO",
        "application/vnd.openxmlformats-package.relationships+xml": "rels",
        "application/vnd.openxmlformats-officedocument.oleObject": "TODO",
        "image/png": "TODO",
        sheet: "js"
    };
    var $n = {
        workbooks:
        {
            xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",
            xlsm: "application/vnd.ms-excel.sheet.macroEnabled.main+xml",
            xlsb: "application/vnd.ms-excel.sheet.binary.macroEnabled.main",
            xlam: "application/vnd.ms-excel.addin.macroEnabled.main+xml",
            xltx: "application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"
        },
        strs:
        {
            xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",
            xlsb: "application/vnd.ms-excel.sharedStrings"
        },
        comments:
        {
            xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",
            xlsb: "application/vnd.ms-excel.comments"
        },
        sheets:
        {
            xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",
            xlsb: "application/vnd.ms-excel.worksheet"
        },
        charts:
        {
            xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",
            xlsb: "application/vnd.ms-excel.chartsheet"
        },
        dialogs:
        {
            xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",
            xlsb: "application/vnd.ms-excel.dialogsheet"
        },
        macros:
        {
            xlsx: "application/vnd.ms-excel.macrosheet+xml",
            xlsb: "application/vnd.ms-excel.macrosheet"
        },
        metadata:
        {
            xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",
            xlsb: "application/vnd.ms-excel.sheetMetadata"
        },
        styles:
        {
            xlsx: "application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",
            xlsb: "application/vnd.ms-excel.styles"
        }
    };

    function Yn() {
        return {
            workbooks: [],
            sheets: [],
            charts: [],
            dialogs: [],
            macros: [],
            rels: [],
            strs: [],
            comments: [],
            threadedcomments: [],
            links: [],
            coreprops: [],
            extprops: [],
            custprops: [],
            themes: [],
            styles: [],
            calcchains: [],
            vba: [],
            drawings: [],
            metadata: [],
            people: [],
            TODO: [],
            xmlns: ""
        }
    }

    function Kn(e) {
        var r = Yn();
        if (!e || !e.match) return r;
        var t = {};
        (e.match(Hr) || []).forEach(function (e) {
            var a = Gr(e);
            switch (a[0].replace(zr, "<")) {
                case "<?xml":
                    break;
                case "<Types":
                    r.xmlns = a["xmlns" + (a[0].match(/<(\w+):/) || ["", ""])[1]];
                    break;
                case "<Default":
                    t[a.Extension] = a.ContentType;
                    break;
                case "<Override":
                    if (r[Xn[a.ContentType]] !== undefined) r[Xn[a.ContentType]].push(a.PartName);
                    break;
            }
        });
        if (r.xmlns !== _t.CT) throw new Error("Unknown Namespace: " + r.xmlns);
        r.calcchain = r.calcchains.length > 0 ? r.calcchains[0] : "";
        r.sst = r.strs.length > 0 ? r.strs[0] : "";
        r.style = r.styles.length > 0 ? r.styles[0] : "";
        r.defaults = t;
        delete r.calcchains;
        return r
    }

    function Jn(e, r) {
        var t = ir(Xn);
        var a = [],
            n;
        a[a.length] = Mr;
        a[a.length] = kt("Types", null,
            {
                xmlns: _t.CT,
                "xmlns:xsd": _t.xsd,
                "xmlns:xsi": _t.xsi
            });
        a = a.concat([
            ["xml", "application/xml"],
            ["bin", "application/vnd.ms-excel.sheet.binary.macroEnabled.main"],
            ["vml", "application/vnd.openxmlformats-officedocument.vmlDrawing"],
            ["data", "application/vnd.openxmlformats-officedocument.model+data"],
            ["bmp", "image/bmp"],
            ["png", "image/png"],
            ["gif", "image/gif"],
            ["emf", "image/x-emf"],
            ["wmf", "image/x-wmf"],
            ["jpg", "image/jpeg"],
            ["jpeg", "image/jpeg"],
            ["tif", "image/tiff"],
            ["tiff", "image/tiff"],
            ["pdf", "application/pdf"],
            ["rels", "application/vnd.openxmlformats-package.relationships+xml"]
        ].map(function (e) {
            return kt("Default", null,
                {
                    Extension: e[0],
                    ContentType: e[1]
                })
        }));
        var i = function (t) {
            if (e[t] && e[t].length > 0) {
                n = e[t][0];
                a[a.length] = kt("Override", null,
                    {
                        PartName: (n[0] == "/" ? "" : "/") + n,
                        ContentType: $n[t][r.bookType] || $n[t]["xlsx"]
                    })
            }
        };
        var s = function (t) {
            (e[t] || []).forEach(function (e) {
                a[a.length] = kt("Override", null,
                    {
                        PartName: (e[0] == "/" ? "" : "/") + e,
                        ContentType: $n[t][r.bookType] || $n[t]["xlsx"]
                    })
            })
        };
        var f = function (r) {
            (e[r] || []).forEach(function (e) {
                a[a.length] = kt("Override", null,
                    {
                        PartName: (e[0] == "/" ? "" : "/") + e,
                        ContentType: t[r][0]
                    })
            })
        };
        i("workbooks");
        s("sheets");
        s("charts");
        f("themes");
        ["strs", "styles"].forEach(i);
        ["coreprops", "extprops", "custprops"].forEach(f);
        f("vba");
        f("comments");
        f("threadedcomments");
        f("drawings");
        s("metadata");
        f("people");
        if (a.length > 2) {
            a[a.length] = "</Types>";
            a[1] = a[1].replace("/>", ">")
        }
        return a.join("")
    }
    var qn = {
        WB: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",
        SHEET: "http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",
        HLINK: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",
        VML: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",
        XPATH: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",
        XMISS: "http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",
        XLINK: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",
        CXML: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",
        CXMLP: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",
        CMNT: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",
        CORE_PROPS: "http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",
        EXT_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",
        CUST_PROPS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",
        SST: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",
        STY: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",
        THEME: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",
        CHART: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",
        CHARTEX: "http://schemas.microsoft.com/office/2014/relationships/chartEx",
        CS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",
        WS: ["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet", "http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],
        DS: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",
        MS: "http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",
        IMG: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",
        DRAW: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",
        XLMETA: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",
        TCMNT: "http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",
        PEOPLE: "http://schemas.microsoft.com/office/2017/10/relationships/person",
        VBA: "http://schemas.microsoft.com/office/2006/relationships/vbaProject"
    };

    function Zn(e) {
        var r = e.lastIndexOf("/");
        return e.slice(0, r + 1) + "_rels/" + e.slice(r + 1) + ".rels"
    }

    function Qn(e, r) {
        var t = {
            "!id":
                {}
        };
        if (!e) return t;
        if (r.charAt(0) !== "/") {
            r = "/" + r
        }
        var a = {};
        (e.match(Hr) || []).forEach(function (e) {
            var n = Gr(e);
            if (n[0] === "<Relationship") {
                var i = {};
                i.Type = n.Type;
                i.Target = n.Target;
                i.Id = n.Id;
                if (n.TargetMode) i.TargetMode = n.TargetMode;
                var s = n.TargetMode === "External" ? n.Target : Lr(n.Target, r);
                t[s] = i;
                a[n.Id] = i
            }
        });
        t["!id"] = a;
        return t
    }

    function ei(e) {
        var r = [Mr, kt("Relationships", null,
            {
                xmlns: _t.RELS
            })];
        rr(e["!id"]).forEach(function (t) {
            r[r.length] = kt("Relationship", null, e["!id"][t])
        });
        if (r.length > 2) {
            r[r.length] = "</Relationships>";
            r[1] = r[1].replace("/>", ">")
        }
        return r.join("")
    }

    function ri(e, r, t, a, n, i) {
        if (!n) n = {};
        if (!e["!id"]) e["!id"] = {};
        if (!e["!idx"]) e["!idx"] = 1;
        if (r < 0)
            for (r = e["!idx"]; e["!id"]["rId" + r]; ++r) { }
        e["!idx"] = r + 1;
        n.Id = "rId" + r;
        n.Type = a;
        n.Target = t;
        if (i) n.TargetMode = i;
        else if ([qn.HLINK, qn.XPATH, qn.XMISS].indexOf(n.Type) > -1) n.TargetMode = "External";
        if (e["!id"][n.Id]) throw new Error("Cannot rewrite rId " + r);
        e["!id"][n.Id] = n;
        e[("/" + n.Target).replace("//", "/")] = n;
        return r
    }
    var ti = "application/vnd.oasis.opendocument.spreadsheet";

    function ai(e, r) {
        var t = yt(e);
        var a;
        var n;
        while (a = St.exec(t)) switch (a[3]) {
            case "manifest":
                break;
            case "file-entry":
                n = Gr(a[0], false);
                if (n.path == "/" && n.type !== ti) throw new Error("This OpenDocument is not a spreadsheet");
                break;
            case "encryption-data":
                ;
            case "algorithm":
                ;
            case "start-key-generation":
                ;
            case "key-derivation":
                throw new Error("Unsupported ODS Encryption");
            default:
                if (r && r.WTF) throw a;
        }
    }

    function ni(e) {
        var r = [Mr];
        r.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n');
        r.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');
        for (var t = 0; t < e.length; ++t) r.push('  <manifest:file-entry manifest:full-path="' + e[t][0] + '" manifest:media-type="' + e[t][1] + '"/>\n');
        r.push("</manifest:manifest>");
        return r.join("")
    }

    function ii(e, r, t) {
        return ['  <rdf:Description rdf:about="' + e + '">\n', '    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/' + (t || "odf") + "#" + r + '"/>\n', "  </rdf:Description>\n"].join("")
    }

    function si(e, r) {
        return ['  <rdf:Description rdf:about="' + e + '">\n', '    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="' + r + '"/>\n', "  </rdf:Description>\n"].join("")
    }

    function fi(e) {
        var r = [Mr];
        r.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');
        for (var t = 0; t != e.length; ++t) {
            r.push(ii(e[t][0], e[t][1]));
            r.push(si("", e[t][0]))
        }
        r.push(ii("", "Document", "pkg"));
        r.push("</rdf:RDF>");
        return r.join("")
    }

    function oi() {
        return '<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>Sheet' + "JS " + e.version + "</meta:generator></office:meta></office:document-meta>"
    }
    var ci = [
        ["cp:category", "Category"],
        ["cp:contentStatus", "ContentStatus"],
        ["cp:keywords", "Keywords"],
        ["cp:lastModifiedBy", "LastAuthor"],
        ["cp:lastPrinted", "LastPrinted"],
        ["cp:revision", "RevNumber"],
        ["cp:version", "Version"],
        ["dc:creator", "Author"],
        ["dc:description", "Comments"],
        ["dc:identifier", "Identifier"],
        ["dc:language", "Language"],
        ["dc:subject", "Subject"],
        ["dc:title", "Title"],
        ["dcterms:created", "CreatedDate", "date"],
        ["dcterms:modified", "ModifiedDate", "date"]
    ];
    var li = function () {
        var e = new Array(ci.length);
        for (var r = 0; r < ci.length; ++r) {
            var t = ci[r];
            var a = "(?:" + t[0].slice(0, t[0].indexOf(":")) + ":)" + t[0].slice(t[0].indexOf(":") + 1);
            e[r] = new RegExp("<" + a + "[^>]*>([\\s\\S]*?)</" + a + ">")
        }
        return e
    }();

    function ui(e) {
        var r = {};
        e = ct(e);
        for (var t = 0; t < ci.length; ++t) {
            var a = ci[t],
                n = e.match(li[t]);
            if (n != null && n.length > 0) r[a[1]] = Yr(n[1]);
            if (a[2] === "date" && r[a[1]]) r[a[1]] = mr(r[a[1]])
        }
        return r
    }

    function hi(e, r, t, a, n) {
        if (n[e] != null || r == null || r === "") return;
        n[e] = r;
        r = qr(r);
        a[a.length] = t ? kt(e, r, t) : gt(e, r)
    }

    function di(e, r) {
        var t = r ||
            {};
        var a = [Mr, kt("cp:coreProperties", null,
            {
                "xmlns:cp": _t.CORE_PROPS,
                "xmlns:dc": _t.dc,
                "xmlns:dcterms": _t.dcterms,
                "xmlns:dcmitype": _t.dcmitype,
                "xmlns:xsi": _t.xsi
            })],
            n = {};
        if (!e && !t.Props) return a.join("");
        if (e) {
            if (e.CreatedDate != null) hi("dcterms:created", typeof e.CreatedDate === "string" ? e.CreatedDate : Tt(e.CreatedDate, t.WTF),
                {
                    "xsi:type": "dcterms:W3CDTF"
                }, a, n);
            if (e.ModifiedDate != null) hi("dcterms:modified", typeof e.ModifiedDate === "string" ? e.ModifiedDate : Tt(e.ModifiedDate, t.WTF),
                {
                    "xsi:type": "dcterms:W3CDTF"
                }, a, n)
        }
        for (var i = 0; i != ci.length; ++i) {
            var s = ci[i];
            var f = t.Props && t.Props[s[1]] != null ? t.Props[s[1]] : e ? e[s[1]] : null;
            if (f === true) f = "1";
            else if (f === false) f = "0";
            else if (typeof f == "number") f = String(f);
            if (f != null) hi(s[0], f, null, a, n)
        }
        if (a.length > 2) {
            a[a.length] = "</cp:coreProperties>";
            a[1] = a[1].replace("/>", ">")
        }
        return a.join("")
    }
    var vi = [
        ["Application", "Application", "string"],
        ["AppVersion", "AppVersion", "string"],
        ["Company", "Company", "string"],
        ["DocSecurity", "DocSecurity", "string"],
        ["Manager", "Manager", "string"],
        ["HyperlinksChanged", "HyperlinksChanged", "bool"],
        ["SharedDoc", "SharedDoc", "bool"],
        ["LinksUpToDate", "LinksUpToDate", "bool"],
        ["ScaleCrop", "ScaleCrop", "bool"],
        ["HeadingPairs", "HeadingPairs", "raw"],
        ["TitlesOfParts", "TitlesOfParts", "raw"]
    ];
    var pi = ["Worksheets", "SheetNames", "NamedRanges", "DefinedNames", "Chartsheets", "ChartNames"];

    function mi(e, r, t, a) {
        var n = [];
        if (typeof e == "string") n = mt(e, a);
        else
            for (var i = 0; i < e.length; ++i) n = n.concat(e[i].map(function (e) {
                return {
                    v: e
                }
            }));
        var s = typeof r == "string" ? mt(r, a).map(function (e) {
            return e.v
        }) : r;
        var f = 0,
            o = 0;
        if (s.length > 0)
            for (var c = 0; c !== n.length; c += 2) {
                o = +n[c + 1].v;
                switch (n[c].v) {
                    case "Worksheets":
                        ;
                    case "å·¥ä½œè¡¨":
                        ;
                    case "Ð›Ð¸ÑÑ‚Ñ‹":
                        ;
                    case "Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ø¹Ù…Ù„":
                        ;
                    case "ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ¼ãƒˆ":
                        ;
                    case "×’×œ×™×•× ×•×ª ×¢×‘×•×“×”":
                        ;
                    case "ArbeitsblÃ¤tter":
                        ;
                    case "Ã‡alÄ±ÅŸma SayfalarÄ±":
                        ;
                    case "Feuilles de calcul":
                        ;
                    case "Fogli di lavoro":
                        ;
                    case "Folhas de cÃ¡lculo":
                        ;
                    case "Planilhas":
                        ;
                    case "Regneark":
                        ;
                    case "Hojas de cÃ¡lculo":
                        ;
                    case "Werkbladen":
                        t.Worksheets = o;
                        t.SheetNames = s.slice(f, f + o);
                        break;
                    case "Named Ranges":
                        ;
                    case "Rangos con nombre":
                        ;
                    case "åå‰ä»˜ãä¸€è¦§":
                        ;
                    case "Benannte Bereiche":
                        ;
                    case "Navngivne omrÃ¥der":
                        t.NamedRanges = o;
                        t.DefinedNames = s.slice(f, f + o);
                        break;
                    case "Charts":
                        ;
                    case "Diagramme":
                        t.Chartsheets = o;
                        t.ChartNames = s.slice(f, f + o);
                        break;
                }
                f += o
            }
    }

    function bi(e, r, t) {
        var a = {};
        if (!r) r = {};
        e = ct(e);
        vi.forEach(function (t) {
            var n = (e.match(ut(t[0])) || [])[1];
            switch (t[2]) {
                case "string":
                    if (n) r[t[1]] = Yr(n);
                    break;
                case "bool":
                    r[t[1]] = n === "true";
                    break;
                case "raw":
                    var i = e.match(new RegExp("<" + t[0] + "[^>]*>([\\s\\S]*?)</" + t[0] + ">"));
                    if (i && i.length > 0) a[t[1]] = i[1];
                    break;
            }
        });
        if (a.HeadingPairs && a.TitlesOfParts) mi(a.HeadingPairs, a.TitlesOfParts, r, t);
        return r
    }

    function gi(e) {
        var r = [],
            t = kt;
        if (!e) e = {};
        e.Application = "SheetJS";
        r[r.length] = Mr;
        r[r.length] = kt("Properties", null,
            {
                xmlns: _t.EXT_PROPS,
                "xmlns:vt": _t.vt
            });
        vi.forEach(function (a) {
            if (e[a[1]] === undefined) return;
            var n;
            switch (a[2]) {
                case "string":
                    n = qr(String(e[a[1]]));
                    break;
                case "bool":
                    n = e[a[1]] ? "true" : "false";
                    break;
            }
            if (n !== undefined) r[r.length] = t(a[0], n)
        });
        r[r.length] = t("HeadingPairs", t("vt:vector", t("vt:variant", "<vt:lpstr>Worksheets</vt:lpstr>") + t("vt:variant", t("vt:i4", String(e.Worksheets))),
            {
                size: 2,
                baseType: "variant"
            }));
        r[r.length] = t("TitlesOfParts", t("vt:vector", e.SheetNames.map(function (e) {
            return "<vt:lpstr>" + qr(e) + "</vt:lpstr>"
        }).join(""),
            {
                size: e.Worksheets,
                baseType: "lpstr"
            }));
        if (r.length > 2) {
            r[r.length] = "</Properties>";
            r[1] = r[1].replace("/>", ">")
        }
        return r.join("")
    }
    var wi = /<[^>]+>[^<]*/g;

    function ki(e, r) {
        var t = {},
            a = "";
        var n = e.match(wi);
        if (n)
            for (var i = 0; i != n.length; ++i) {
                var s = n[i],
                    f = Gr(s);
                switch (f[0]) {
                    case "<?xml":
                        break;
                    case "<Properties":
                        break;
                    case "<property":
                        a = Yr(f.name);
                        break;
                    case "</property>":
                        a = null;
                        break;
                    default:
                        if (s.indexOf("<vt:") === 0) {
                            var o = s.split(">");
                            var c = o[0].slice(4),
                                l = o[1];
                            switch (c) {
                                case "lpstr":
                                    ;
                                case "bstr":
                                    ;
                                case "lpwstr":
                                    t[a] = Yr(l);
                                    break;
                                case "bool":
                                    t[a] = nt(l);
                                    break;
                                case "i1":
                                    ;
                                case "i2":
                                    ;
                                case "i4":
                                    ;
                                case "i8":
                                    ;
                                case "int":
                                    ;
                                case "uint":
                                    t[a] = parseInt(l, 10);
                                    break;
                                case "r4":
                                    ;
                                case "r8":
                                    ;
                                case "decimal":
                                    t[a] = parseFloat(l);
                                    break;
                                case "filetime":
                                    ;
                                case "date":
                                    t[a] = mr(l);
                                    break;
                                case "cy":
                                    ;
                                case "error":
                                    t[a] = Yr(l);
                                    break;
                                default:
                                    if (c.slice(-1) == "/") break;
                                    if (r.WTF && typeof console !== "undefined") console.warn("Unexpected", s, c, o);
                            }
                        }
                        else if (s.slice(0, 2) === "</") { }
                        else if (r.WTF) throw new Error(s);
                }
            }
        return t
    }

    function Ti(e) {
        var r = [Mr, kt("Properties", null,
            {
                xmlns: _t.CUST_PROPS,
                "xmlns:vt": _t.vt
            })];
        if (!e) return r.join("");
        var t = 1;
        rr(e).forEach(function a(n) {
            ++t;
            r[r.length] = kt("property", Et(e[n], true),
                {
                    fmtid: "{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",
                    pid: t,
                    name: qr(n)
                })
        });
        if (r.length > 2) {
            r[r.length] = "</Properties>";
            r[1] = r[1].replace("/>", ">")
        }
        return r.join("")
    }
    var Ei = {
        Title: "Title",
        Subject: "Subject",
        Author: "Author",
        Keywords: "Keywords",
        Comments: "Description",
        LastAuthor: "LastAuthor",
        RevNumber: "Revision",
        Application: "AppName",
        LastPrinted: "LastPrinted",
        CreatedDate: "Created",
        ModifiedDate: "LastSaved",
        Category: "Category",
        Manager: "Manager",
        Company: "Company",
        AppVersion: "Version",
        ContentStatus: "ContentStatus",
        Identifier: "Identifier",
        Language: "Language"
    };
    var yi;

    function Si(e, r, t) {
        if (!yi) yi = ar(Ei);
        r = yi[r] || r;
        e[r] = t
    }

    function _i(e, r) {
        var t = [];
        rr(Ei).map(function (e) {
            for (var r = 0; r < ci.length; ++r)
                if (ci[r][1] == e) return ci[r];
            for (r = 0; r < vi.length; ++r)
                if (vi[r][1] == e) return vi[r];
            throw e
        }).forEach(function (a) {
            if (e[a[1]] == null) return;
            var n = r && r.Props && r.Props[a[1]] != null ? r.Props[a[1]] : e[a[1]];
            switch (a[2]) {
                case "date":
                    n = new Date(n).toISOString().replace(/\.\d*Z/, "Z");
                    break;
            }
            if (typeof n == "number") n = String(n);
            else if (n === true || n === false) {
                n = n ? "1" : "0"
            }
            else if (n instanceof Date) n = new Date(n).toISOString().replace(/\.\d*Z/, "");
            t.push(gt(Ei[a[1]] || a[1], n))
        });
        return kt("DocumentProperties", t.join(""),
            {
                xmlns: xt.o
            })
    }

    function Ai(e, r) {
        var t = ["Worksheets", "SheetNames"];
        var a = "CustomDocumentProperties";
        var n = [];
        if (e) rr(e).forEach(function (r) {
            if (!Object.prototype.hasOwnProperty.call(e, r)) return;
            for (var a = 0; a < ci.length; ++a)
                if (r == ci[a][1]) return;
            for (a = 0; a < vi.length; ++a)
                if (r == vi[a][1]) return;
            for (a = 0; a < t.length; ++a)
                if (r == t[a]) return;
            var i = e[r];
            var s = "string";
            if (typeof i == "number") {
                s = "float";
                i = String(i)
            }
            else if (i === true || i === false) {
                s = "boolean";
                i = i ? "1" : "0"
            }
            else i = String(i);
            n.push(kt(Zr(r), i,
                {
                    "dt:dt": s
                }))
        });
        if (r) rr(r).forEach(function (t) {
            if (!Object.prototype.hasOwnProperty.call(r, t)) return;
            if (e && Object.prototype.hasOwnProperty.call(e, t)) return;
            var a = r[t];
            var i = "string";
            if (typeof a == "number") {
                i = "float";
                a = String(a)
            }
            else if (a === true || a === false) {
                i = "boolean";
                a = a ? "1" : "0"
            }
            else if (a instanceof Date) {
                i = "dateTime.tz";
                a = a.toISOString()
            }
            else a = String(a);
            n.push(kt(Zr(t), a,
                {
                    "dt:dt": i
                }))
        });
        return "<" + a + ' xmlns="' + xt.o + '">' + n.join("") + "</" + a + ">"
    }

    function xi(e) {
        var r = e._R(4),
            t = e._R(4);
        return new Date((t / 1e7 * Math.pow(2, 32) + r / 1e7 - 11644473600) * 1e3).toISOString().replace(/\.000/, "")
    }

    function Ci(e) {
        var r = typeof e == "string" ? new Date(Date.parse(e)) : e;
        var t = r.getTime() / 1e3 + 11644473600;
        var a = t % Math.pow(2, 32),
            n = (t - a) / Math.pow(2, 32);
        a *= 1e7;
        n *= 1e7;
        var i = a / Math.pow(2, 32) | 0;
        if (i > 0) {
            a = a % Math.pow(2, 32);
            n += i
        }
        var s = ha(8);
        s._W(4, a);
        s._W(4, n);
        return s
    }

    function Ri(e, r, t) {
        var a = e.l;
        var n = e._R(0, "lpstr-cp");
        if (t)
            while (e.l - a & 3) ++e.l;
        return n
    }

    function Oi(e, r, t) {
        var a = e._R(0, "lpwstr");
        if (t) e.l += 4 - (a.length + 1 & 3) & 3;
        return a
    }

    function Ii(e, r, t) {
        if (r === 31) return Oi(e);
        return Ri(e, r, t)
    }

    function Ni(e, r, t) {
        return Ii(e, r, t === false ? 0 : 4)
    }

    function Fi(e, r) {
        if (!r) throw new Error("VtUnalignedString must have positive length");
        return Ii(e, r, 0)
    }

    function Di(e) {
        var r = e._R(4);
        var t = [];
        for (var a = 0; a != r; ++a) {
            var n = e.l;
            t[a] = e._R(0, "lpwstr").replace(N, "");
            if (e.l - n & 2) e.l += 2
        }
        return t
    }

    function Pi(e) {
        var r = e._R(4);
        var t = [];
        for (var a = 0; a != r; ++a) t[a] = e._R(0, "lpstr-cp").replace(N, "");
        return t
    }

    function Li(e) {
        var r = e.l;
        var t = Hi(e, Pn);
        if (e[e.l] == 0 && e[e.l + 1] == 0 && e.l - r & 2) e.l += 2;
        var a = Hi(e, yn);
        return [t, a]
    }

    function Mi(e) {
        var r = e._R(4);
        var t = [];
        for (var a = 0; a < r / 2; ++a) t.push(Li(e));
        return t
    }

    function Ui(e, r) {
        var t = e._R(4);
        var a = {};
        for (var n = 0; n != t; ++n) {
            var i = e._R(4);
            var s = e._R(4);
            a[i] = e._R(s, r === 1200 ? "utf16le" : "utf8").replace(N, "").replace(F, "!");
            if (r === 1200 && s % 2) e.l += 2
        }
        if (e.l & 3) e.l = e.l >> 2 + 1 << 2;
        return a
    }

    function Bi(e) {
        var r = e._R(4);
        var t = e.slice(e.l, e.l + r);
        e.l += r;
        if ((r & 3) > 0) e.l += 4 - (r & 3) & 3;
        return t
    }

    function Wi(e) {
        var r = {};
        r.Size = e._R(4);
        e.l += r.Size + 3 - (r.Size - 1) % 4;
        return r
    }

    function Hi(e, r, t) {
        var a = e._R(2),
            n, i = t ||
                {};
        e.l += 2;
        if (r !== _n)
            if (a !== r && Ln.indexOf(r) === -1 && !((r & 65534) == 4126 && (a & 65534) == 4126)) throw new Error("Expected type " + r + " saw " + a);
        switch (r === _n ? a : r) {
            case 2:
                n = e._R(2, "i");
                if (!i.raw) e.l += 2;
                return n;
            case 3:
                n = e._R(4, "i");
                return n;
            case 11:
                return e._R(4) !== 0;
            case 19:
                n = e._R(4);
                return n;
            case 30:
                return Ri(e, a, 4).replace(N, "");
            case 31:
                return Oi(e);
            case 64:
                return xi(e);
            case 65:
                return Bi(e);
            case 71:
                return Wi(e);
            case 80:
                return Ni(e, a, !i.raw).replace(N, "");
            case 81:
                return Fi(e, a).replace(N, "");
            case 4108:
                return Mi(e);
            case 4126:
                ;
            case 4127:
                return a == 4127 ? Di(e) : Pi(e);
            default:
                throw new Error("TypedPropertyValue unrecognized type " + r + " " + a);
        }
    }

    function zi(e, r) {
        var t = ha(4),
            a = ha(4);
        t._W(4, e == 80 ? 31 : e);
        switch (e) {
            case 3:
                a._W(-4, r);
                break;
            case 5:
                a = ha(8);
                a._W(8, r, "f");
                break;
            case 11:
                a._W(4, r ? 1 : 0);
                break;
            case 64:
                a = Ci(r);
                break;
            case 31:
                ;
            case 80:
                a = ha(4 + 2 * (r.length + 1) + (r.length % 2 ? 0 : 2));
                a._W(4, r.length + 1);
                a._W(0, r, "dbcs");
                while (a.l != a.length) a._W(1, 0);
                break;
            default:
                throw new Error("TypedPropertyValue unrecognized type " + e + " " + r);
        }
        return O([t, a])
    }

    function Vi(e, r) {
        var t = e.l;
        var a = e._R(4);
        var n = e._R(4);
        var i = [],
            s = 0;
        var f = 0;
        var c = -1,
            l = {};
        for (s = 0; s != n; ++s) {
            var u = e._R(4);
            var h = e._R(4);
            i[s] = [u, h + t]
        }
        i.sort(function (e, r) {
            return e[1] - r[1]
        });
        var d = {};
        for (s = 0; s != n; ++s) {
            if (e.l !== i[s][1]) {
                var v = true;
                if (s > 0 && r) switch (r[i[s - 1][0]].t) {
                    case 2:
                        if (e.l + 2 === i[s][1]) {
                            e.l += 2;
                            v = false
                        }
                        break;
                    case 80:
                        if (e.l <= i[s][1]) {
                            e.l = i[s][1];
                            v = false
                        }
                        break;
                    case 4108:
                        if (e.l <= i[s][1]) {
                            e.l = i[s][1];
                            v = false
                        }
                        break;
                }
                if ((!r || s == 0) && e.l <= i[s][1]) {
                    v = false;
                    e.l = i[s][1]
                }
                if (v) throw new Error("Read Error: Expected address " + i[s][1] + " at " + e.l + " :" + s)
            }
            if (r) {
                var p = r[i[s][0]];
                d[p.n] = Hi(e, p.t,
                    {
                        raw: true
                    });
                if (p.p === "version") d[p.n] = String(d[p.n] >> 16) + "." + ("0000" + String(d[p.n] & 65535)).slice(-4);
                if (p.n == "CodePage") switch (d[p.n]) {
                    case 0:
                        d[p.n] = 1252;
                    case 874:
                        ;
                    case 932:
                        ;
                    case 936:
                        ;
                    case 949:
                        ;
                    case 950:
                        ;
                    case 1250:
                        ;
                    case 1251:
                        ;
                    case 1253:
                        ;
                    case 1254:
                        ;
                    case 1255:
                        ;
                    case 1256:
                        ;
                    case 1257:
                        ;
                    case 1258:
                        ;
                    case 1e4:
                        ;
                    case 1200:
                        ;
                    case 1201:
                        ;
                    case 1252:
                        ;
                    case 65e3:
                        ;
                    case -536:
                        ;
                    case 65001:
                        ;
                    case -535:
                        o(f = d[p.n] >>> 0 & 65535);
                        break;
                    default:
                        throw new Error("Unsupported CodePage: " + d[p.n]);
                }
            }
            else {
                if (i[s][0] === 1) {
                    f = d.CodePage = Hi(e, En);
                    o(f);
                    if (c !== -1) {
                        var m = e.l;
                        e.l = i[c][1];
                        l = Ui(e, f);
                        e.l = m
                    }
                }
                else if (i[s][0] === 0) {
                    if (f === 0) {
                        c = s;
                        e.l = i[s + 1][1];
                        continue
                    }
                    l = Ui(e, f)
                }
                else {
                    var b = l[i[s][0]];
                    var g;
                    switch (e[e.l]) {
                        case 65:
                            e.l += 4;
                            g = Bi(e);
                            break;
                        case 30:
                            e.l += 4;
                            g = Ni(e, e[e.l - 4]).replace(/\u0000+$/, "");
                            break;
                        case 31:
                            e.l += 4;
                            g = Ni(e, e[e.l - 4]).replace(/\u0000+$/, "");
                            break;
                        case 3:
                            e.l += 4;
                            g = e._R(4, "i");
                            break;
                        case 19:
                            e.l += 4;
                            g = e._R(4);
                            break;
                        case 5:
                            e.l += 4;
                            g = e._R(8, "f");
                            break;
                        case 11:
                            e.l += 4;
                            g = Zi(e, 4);
                            break;
                        case 64:
                            e.l += 4;
                            g = mr(xi(e));
                            break;
                        default:
                            throw new Error("unparsed value: " + e[e.l]);
                    }
                    d[b] = g
                }
            }
        }
        e.l = t + a;
        return d
    }
    var Gi = ["CodePage", "Thumbnail", "_PID_LINKBASE", "_PID_HLINKS", "SystemIdentifier", "FMTID"];

    function ji(e) {
        switch (typeof e) {
            case "boolean":
                return 11;
            case "number":
                return (e | 0) == e ? 3 : 5;
            case "string":
                return 31;
            case "object":
                if (e instanceof Date) return 64;
                break;
        }
        return -1
    }

    function Xi(e, r, t) {
        var a = ha(8),
            n = [],
            i = [];
        var s = 8,
            f = 0;
        var o = ha(8),
            c = ha(8);
        o._W(4, 2);
        o._W(4, 1200);
        c._W(4, 1);
        i.push(o);
        n.push(c);
        s += 8 + o.length;
        if (!r) {
            c = ha(8);
            c._W(4, 0);
            n.unshift(c);
            var l = [ha(4)];
            l[0]._W(4, e.length);
            for (f = 0; f < e.length; ++f) {
                var u = e[f][0];
                o = ha(4 + 4 + 2 * (u.length + 1) + (u.length % 2 ? 0 : 2));
                o._W(4, f + 2);
                o._W(4, u.length + 1);
                o._W(0, u, "dbcs");
                while (o.l != o.length) o._W(1, 0);
                l.push(o)
            }
            o = O(l);
            i.unshift(o);
            s += 8 + o.length
        }
        for (f = 0; f < e.length; ++f) {
            if (r && !r[e[f][0]]) continue;
            if (Gi.indexOf(e[f][0]) > -1 || pi.indexOf(e[f][0]) > -1) continue;
            if (e[f][1] == null) continue;
            var h = e[f][1],
                d = 0;
            if (r) {
                d = +r[e[f][0]];
                var v = t[d];
                if (v.p == "version" && typeof h == "string") {
                    var p = h.split(".");
                    h = (+p[0] << 16) + (+p[1] || 0)
                }
                o = zi(v.t, h)
            }
            else {
                var m = ji(h);
                if (m == -1) {
                    m = 31;
                    h = String(h)
                }
                o = zi(m, h)
            }
            i.push(o);
            c = ha(8);
            c._W(4, !r ? 2 + f : d);
            n.push(c);
            s += 8 + o.length
        }
        var b = 8 * (i.length + 1);
        for (f = 0; f < i.length; ++f) {
            n[f]._W(4, b);
            b += i[f].length
        }
        a._W(4, s);
        a._W(4, i.length);
        return O([a].concat(n).concat(i))
    }

    function $i(e, r, t) {
        var a = e.content;
        if (!a) return {};
        la(a, 0);
        var n, i, s, f, o = 0;
        a.chk("feff", "Byte Order: ");
        a._R(2);
        var c = a._R(4);
        var l = a._R(16);
        if (l !== Ke.utils.consts.HEADER_CLSID && l !== t) throw new Error("Bad PropertySet CLSID " + l);
        n = a._R(4);
        if (n !== 1 && n !== 2) throw new Error("Unrecognized #Sets: " + n);
        i = a._R(16);
        f = a._R(4);
        if (n === 1 && f !== a.l) throw new Error("Length mismatch: " + f + " !== " + a.l);
        else if (n === 2) {
            s = a._R(16);
            o = a._R(4)
        }
        var u = Vi(a, r);
        var h = {
            SystemIdentifier: c
        };
        for (var d in u) h[d] = u[d];
        h.FMTID = i;
        if (n === 1) return h;
        if (o - a.l == 2) a.l += 2;
        if (a.l !== o) throw new Error("Length mismatch 2: " + a.l + " !== " + o);
        var v;
        try {
            v = Vi(a, null)
        }
        catch (p) { }
        for (d in v) h[d] = v[d];
        h.FMTID = [i, s];
        return h
    }

    function Yi(e, r, t, a, n, i) {
        var s = ha(n ? 68 : 48);
        var f = [s];
        s._W(2, 65534);
        s._W(2, 0);
        s._W(4, 842412599);
        s._W(16, Ke.utils.consts.HEADER_CLSID, "hex");
        s._W(4, n ? 2 : 1);
        s._W(16, r, "hex");
        s._W(4, n ? 68 : 48);
        var o = Xi(e, t, a);
        f.push(o);
        if (n) {
            var c = Xi(n, null, null);
            s._W(16, i, "hex");
            s._W(4, 68 + o.length);
            f.push(c)
        }
        return O(f)
    }

    function Ki(e, r) {
        e._R(r);
        return null
    }

    function Ji(e, r) {
        if (!r) r = ha(e);
        for (var t = 0; t < e; ++t) r._W(1, 0);
        return r
    }

    function qi(e, r, t) {
        var a = [],
            n = e.l + r;
        while (e.l < n) a.push(t(e, n - e.l));
        if (n !== e.l) throw new Error("Slurp error");
        return a
    }

    function Zi(e, r) {
        return e._R(r) === 1
    }

    function Qi(e, r) {
        if (!r) r = ha(2);
        r._W(2, +!!e);
        return r
    }

    function es(e) {
        return e._R(2, "u")
    }

    function rs(e, r) {
        if (!r) r = ha(2);
        r._W(2, e);
        return r
    }

    function ts(e, r) {
        return qi(e, r, es)
    }

    function as(e) {
        var r = e._R(1),
            t = e._R(1);
        return t === 1 ? r : r === 1
    }

    function ns(e, r, t) {
        if (!t) t = ha(2);
        t._W(1, r == "e" ? +e : +!!e);
        t._W(1, r == "e" ? 1 : 0);
        return t
    }

    function is(e, t, a) {
        var n = e._R(a && a.biff >= 12 ? 2 : 1);
        var i = "sbcs-cont";
        var s = r;
        if (a && a.biff >= 8) r = 1200;
        if (!a || a.biff == 8) {
            var f = e._R(1);
            if (f) {
                i = "dbcs-cont"
            }
        }
        else if (a.biff == 12) {
            i = "wstr"
        }
        if (a.biff >= 2 && a.biff <= 5) i = "cpstr";
        var o = n ? e._R(n, i) : "";
        r = s;
        return o
    }

    function ss(e) {
        var t = r;
        r = 1200;
        var a = e._R(2),
            n = e._R(1);
        var i = n & 4,
            s = n & 8;
        var f = 1 + (n & 1);
        var o = 0,
            c;
        var l = {};
        if (s) o = e._R(2);
        if (i) c = e._R(4);
        var u = f == 2 ? "dbcs-cont" : "sbcs-cont";
        var h = a === 0 ? "" : e._R(a, u);
        if (s) e.l += 4 * o;
        if (i) e.l += c;
        l.t = h;
        if (!s) {
            l.raw = "<t>" + l.t + "</t>";
            l.r = l.t
        }
        r = t;
        return l
    }

    function fs(e) {
        var r = e.t || "",
            t = 1;
        var a = ha(3 + (t > 1 ? 2 : 0));
        a._W(2, r.length);
        a._W(1, (t > 1 ? 8 : 0) | 1);
        if (t > 1) a._W(2, t);
        var n = ha(2 * r.length);
        n._W(2 * r.length, r, "utf16le");
        var i = [a, n];
        return O(i)
    }

    function os(e, r, t) {
        var a;
        if (t) {
            if (t.biff >= 2 && t.biff <= 5) return e._R(r, "cpstr");
            if (t.biff >= 12) return e._R(r, "dbcs-cont")
        }
        var n = e._R(1);
        if (n === 0) {
            a = e._R(r, "sbcs-cont")
        }
        else {
            a = e._R(r, "dbcs-cont")
        }
        return a
    }

    function cs(e, r, t) {
        var a = e._R(t && t.biff == 2 ? 1 : 2);
        if (a === 0) {
            e.l++;
            return ""
        }
        return os(e, a, t)
    }

    function ls(e, r, t) {
        if (t.biff > 5) return cs(e, r, t);
        var a = e._R(1);
        if (a === 0) {
            e.l++;
            return ""
        }
        return e._R(a, t.biff <= 4 || !e.lens ? "cpstr" : "sbcs-cont")
    }

    function us(e, r, t) {
        if (!t) t = ha(3 + 2 * e.length);
        t._W(2, e.length);
        t._W(1, 1);
        t._W(31, e, "utf16le");
        return t
    }

    function hs(e) {
        var r = e._R(1);
        e.l++;
        var t = e._R(2);
        e.l += 2;
        return [r, t]
    }

    function ds(e) {
        var r = e._R(4),
            t = e.l;
        var a = false;
        if (r > 24) {
            e.l += r - 24;
            if (e._R(16) === "795881f43b1d7f48af2c825dc4852763") a = true;
            e.l = t
        }
        var n = e._R((a ? r - 24 : r) >> 1, "utf16le").replace(N, "");
        if (a) e.l += 24;
        return n
    }

    function vs(e) {
        var r = e._R(2);
        var t = "";
        while (r-- > 0) t += "../";
        var a = e._R(0, "lpstr-ansi");
        e.l += 2;
        if (e._R(2) != 57005) throw new Error("Bad FileMoniker");
        var n = e._R(4);
        if (n === 0) return t + a.replace(/\\/g, "/");
        var i = e._R(4);
        if (e._R(2) != 3) throw new Error("Bad FileMoniker");
        var s = e._R(i >> 1, "utf16le").replace(N, "");
        return t + s
    }

    function ps(e, r) {
        var t = e._R(16);
        r -= 16;
        switch (t) {
            case "e0c9ea79f9bace118c8200aa004ba90b":
                return ds(e, r);
            case "0303000000000000c000000000000046":
                return vs(e, r);
            default:
                throw new Error("Unsupported Moniker " + t);
        }
    }

    function ms(e) {
        var r = e._R(4);
        var t = r > 0 ? e._R(r, "utf16le").replace(N, "") : "";
        return t
    }

    function bs(e, r) {
        if (!r) r = ha(6 + e.length * 2);
        r._W(4, 1 + e.length);
        for (var t = 0; t < e.length; ++t) r._W(2, e.charCodeAt(t));
        r._W(2, 0);
        return r
    }

    function gs(e, r) {
        var t = e.l + r;
        var a = e._R(4);
        if (a !== 2) throw new Error("Unrecognized streamVersion: " + a);
        var n = e._R(2);
        e.l += 2;
        var i, s, f, o, c = "",
            l, u;
        if (n & 16) i = ms(e, t - e.l);
        if (n & 128) s = ms(e, t - e.l);
        if ((n & 257) === 257) f = ms(e, t - e.l);
        if ((n & 257) === 1) o = ps(e, t - e.l);
        if (n & 8) c = ms(e, t - e.l);
        if (n & 32) l = e._R(16);
        if (n & 64) u = xi(e);
        e.l = t;
        var h = s || f || o || "";
        if (h && c) h += "#" + c;
        if (!h) h = "#" + c;
        if (n & 2 && h.charAt(0) == "/" && h.charAt(1) != "/") h = "file://" + h;
        var d = {
            Target: h
        };
        if (l) d.guid = l;
        if (u) d.time = u;
        if (i) d.Tooltip = i;
        return d
    }

    function ws(e) {
        var r = ha(512),
            t = 0;
        var a = e.Target;
        if (a.slice(0, 7) == "file://") a = a.slice(7);
        var n = a.indexOf("#");
        var i = n > -1 ? 31 : 23;
        switch (a.charAt(0)) {
            case "#":
                i = 28;
                break;
            case ".":
                i &= ~2;
                break;
        }
        r._W(4, 2);
        r._W(4, i);
        var s = [8, 6815827, 6619237, 4849780, 83];
        for (t = 0; t < s.length; ++t) r._W(4, s[t]);
        if (i == 28) {
            a = a.slice(1);
            bs(a, r)
        }
        else if (i & 2) {
            s = "e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" ");
            for (t = 0; t < s.length; ++t) r._W(1, parseInt(s[t], 16));
            var f = n > -1 ? a.slice(0, n) : a;
            r._W(4, 2 * (f.length + 1));
            for (t = 0; t < f.length; ++t) r._W(2, f.charCodeAt(t));
            r._W(2, 0);
            if (i & 8) bs(n > -1 ? a.slice(n + 1) : "", r)
        }
        else {
            s = "03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" ");
            for (t = 0; t < s.length; ++t) r._W(1, parseInt(s[t], 16));
            var o = 0;
            while (a.slice(o * 3, o * 3 + 3) == "../" || a.slice(o * 3, o * 3 + 3) == "..\\") ++o;
            r._W(2, o);
            r._W(4, a.length - 3 * o + 1);
            for (t = 0; t < a.length - 3 * o; ++t) r._W(1, a.charCodeAt(t + 3 * o) & 255);
            r._W(1, 0);
            r._W(2, 65535);
            r._W(2, 57005);
            for (t = 0; t < 6; ++t) r._W(4, 0)
        }
        return r.slice(0, r.l)
    }

    function ks(e) {
        var r = e._R(1),
            t = e._R(1),
            a = e._R(1),
            n = e._R(1);
        return [r, t, a, n]
    }

    function Ts(e, r) {
        var t = ks(e, r);
        t[3] = 0;
        return t
    }

    function Es(e) {
        var r = e._R(2);
        var t = e._R(2);
        var a = e._R(2);
        return {
            r: r,
            c: t,
            ixfe: a
        }
    }

    function ys(e, r, t, a) {
        if (!a) a = ha(6);
        a._W(2, e);
        a._W(2, r);
        a._W(2, t || 0);
        return a
    }

    function Ss(e) {
        var r = e._R(2);
        var t = e._R(2);
        e.l += 8;
        return {
            type: r,
            flags: t
        }
    }

    function _s(e, r, t) {
        return r === 0 ? "" : ls(e, r, t)
    }

    function As(e, r, t) {
        var a = t.biff > 8 ? 4 : 2;
        var n = e._R(a),
            i = e._R(a, "i"),
            s = e._R(a, "i");
        return [n, i, s]
    }

    function xs(e) {
        var r = e._R(2);
        var t = fn(e);
        return [r, t]
    }

    function Cs(e, r, t) {
        e.l += 4;
        r -= 4;
        var a = e.l + r;
        var n = is(e, r, t);
        var i = e._R(2);
        a -= e.l;
        if (i !== a) throw new Error("Malformed AddinUdf: padding = " + a + " != " + i);
        e.l += i;
        return n
    }

    function Rs(e) {
        var r = e._R(2);
        var t = e._R(2);
        var a = e._R(2);
        var n = e._R(2);
        return {
            s:
            {
                c: a,
                r: r
            },
            e:
            {
                c: n,
                r: t
            }
        }
    }

    function Os(e, r) {
        if (!r) r = ha(8);
        r._W(2, e.s.r);
        r._W(2, e.e.r);
        r._W(2, e.s.c);
        r._W(2, e.e.c);
        return r
    }

    function Is(e) {
        var r = e._R(2);
        var t = e._R(2);
        var a = e._R(1);
        var n = e._R(1);
        return {
            s:
            {
                c: a,
                r: r
            },
            e:
            {
                c: n,
                r: t
            }
        }
    }
    var Ns = Is;

    function Fs(e) {
        e.l += 4;
        var r = e._R(2);
        var t = e._R(2);
        var a = e._R(2);
        e.l += 12;
        return [t, r, a]
    }

    function Ds(e) {
        var r = {};
        e.l += 4;
        e.l += 16;
        r.fSharedNote = e._R(2);
        e.l += 4;
        return r
    }

    function Ps(e) {
        var r = {};
        e.l += 4;
        e.cf = e._R(2);
        return r
    }

    function Ls(e) {
        e.l += 2;
        e.l += e._R(2)
    }
    var Ms = {
        0: Ls,
        4: Ls,
        5: Ls,
        6: Ls,
        7: Ps,
        8: Ls,
        9: Ls,
        10: Ls,
        11: Ls,
        12: Ls,
        13: Ds,
        14: Ls,
        15: Ls,
        16: Ls,
        17: Ls,
        18: Ls,
        19: Ls,
        20: Ls,
        21: Fs
    };

    function Us(e, r) {
        var t = e.l + r;
        var a = [];
        while (e.l < t) {
            var n = e._R(2);
            e.l -= 2;
            try {
                a.push(Ms[n](e, t - e.l))
            }
            catch (i) {
                e.l = t;
                return a
            }
        }
        if (e.l != t) e.l = t;
        return a
    }

    function Bs(e, r) {
        var t = {
            BIFFVer: 0,
            dt: 0
        };
        t.BIFFVer = e._R(2);
        r -= 2;
        if (r >= 2) {
            t.dt = e._R(2);
            e.l -= 2
        }
        switch (t.BIFFVer) {
            case 1536:
                ;
            case 1280:
                ;
            case 1024:
                ;
            case 768:
                ;
            case 512:
                ;
            case 2:
                ;
            case 7:
                break;
            default:
                if (r > 6) throw new Error("Unexpected BIFF Ver " + t.BIFFVer);
        }
        e._R(r);
        return t
    }

    function Ws(e, r, t) {
        var a = 1536,
            n = 16;
        switch (t.bookType) {
            case "biff8":
                break;
            case "biff5":
                a = 1280;
                n = 8;
                break;
            case "biff4":
                a = 4;
                n = 6;
                break;
            case "biff3":
                a = 3;
                n = 6;
                break;
            case "biff2":
                a = 2;
                n = 4;
                break;
            case "xla":
                break;
            default:
                throw new Error("unsupported BIFF version");
        }
        var i = ha(n);
        i._W(2, a);
        i._W(2, r);
        if (n > 4) i._W(2, 29282);
        if (n > 6) i._W(2, 1997);
        if (n > 8) {
            i._W(2, 49161);
            i._W(2, 1);
            i._W(2, 1798);
            i._W(2, 0)
        }
        return i
    }

    function Hs(e, r) {
        if (r === 0) return 1200;
        if (e._R(2) !== 1200) { }
        return 1200
    }

    function zs(e, r, t) {
        if (t.enc) {
            e.l += r;
            return ""
        }
        var a = e.l;
        var n = ls(e, 0, t);
        e._R(r + a - e.l);
        return n
    }

    function Vs(e, r) {
        var t = !r || r.biff == 8;
        var a = ha(t ? 112 : 54);
        a._W(r.biff == 8 ? 2 : 1, 7);
        if (t) a._W(1, 0);
        a._W(4, 859007059);
        a._W(4, 5458548 | (t ? 0 : 536870912));
        while (a.l < a.length) a._W(1, t ? 0 : 32);
        return a
    }

    function Gs(e, r, t) {
        var a = t && t.biff == 8 || r == 2 ? e._R(2) : (e.l += r, 0);
        return {
            fDialog: a & 16,
            fBelow: a & 64,
            fRight: a & 128
        }
    }

    function js(e, r, t) {
        var a = e._R(4);
        var n = e._R(1) & 3;
        var i = e._R(1);
        switch (i) {
            case 0:
                i = "Worksheet";
                break;
            case 1:
                i = "Macrosheet";
                break;
            case 2:
                i = "Chartsheet";
                break;
            case 6:
                i = "VBAModule";
                break;
        }
        var s = is(e, 0, t);
        if (s.length === 0) s = "Sheet1";
        return {
            pos: a,
            hs: n,
            dt: i,
            name: s
        }
    }

    function Xs(e, r) {
        var t = !r || r.biff >= 8 ? 2 : 1;
        var a = ha(8 + t * e.name.length);
        a._W(4, e.pos);
        a._W(1, e.hs || 0);
        a._W(1, e.dt);
        a._W(1, e.name.length);
        if (r.biff >= 8) a._W(1, 1);
        a._W(t * e.name.length, e.name, r.biff < 8 ? "sbcs" : "utf16le");
        var n = a.slice(0, a.l);
        n.l = a.l;
        return n
    }

    function $s(e, r) {
        var t = e.l + r;
        var a = e._R(4);
        var n = e._R(4);
        var i = [];
        for (var s = 0; s != n && e.l < t; ++s) {
            i.push(ss(e))
        }
        i.Count = a;
        i.Unique = n;
        return i
    }

    function Ys(e, r) {
        var t = ha(8);
        t._W(4, e.Count);
        t._W(4, e.Unique);
        var a = [];
        for (var n = 0; n < e.length; ++n) a[n] = fs(e[n], r);
        var i = O([t].concat(a));
        i.parts = [t.length].concat(a.map(function (e) {
            return e.length
        }));
        return i
    }

    function Ks(e, r) {
        var t = {};
        t.dsst = e._R(2);
        e.l += r - 2;
        return t
    }

    function Js(e) {
        var r = {};
        r.r = e._R(2);
        r.c = e._R(2);
        r.cnt = e._R(2) - r.c;
        var t = e._R(2);
        e.l += 4;
        var a = e._R(1);
        e.l += 3;
        if (a & 7) r.level = a & 7;
        if (a & 32) r.hidden = true;
        if (a & 64) r.hpt = t / 20;
        return r
    }

    function qs(e) {
        var r = Ss(e);
        if (r.type != 2211) throw new Error("Invalid Future Record " + r.type);
        var t = e._R(4);
        return t !== 0
    }

    function Zs(e) {
        e._R(2);
        return e._R(4)
    }

    function Qs(e, r, t) {
        var a = 0;
        if (!(t && t.biff == 2)) {
            a = e._R(2)
        }
        var n = e._R(2);
        if (t && t.biff == 2) {
            a = 1 - (n >> 15);
            n &= 32767
        }
        var i = {
            Unsynced: a & 1,
            DyZero: (a & 2) >> 1,
            ExAsc: (a & 4) >> 2,
            ExDsc: (a & 8) >> 3
        };
        return [i, n]
    }

    function ef(e) {
        var r = e._R(2),
            t = e._R(2),
            a = e._R(2),
            n = e._R(2);
        var i = e._R(2),
            s = e._R(2),
            f = e._R(2);
        var o = e._R(2),
            c = e._R(2);
        return {
            Pos: [r, t],
            Dim: [a, n],
            Flags: i,
            CurTab: s,
            FirstTab: f,
            Selected: o,
            TabRatio: c
        }
    }

    function rf() {
        var e = ha(18);
        e._W(2, 0);
        e._W(2, 0);
        e._W(2, 29280);
        e._W(2, 17600);
        e._W(2, 56);
        e._W(2, 0);
        e._W(2, 0);
        e._W(2, 1);
        e._W(2, 500);
        return e
    }

    function tf(e, r, t) {
        if (t && t.biff >= 2 && t.biff < 5) return {};
        var a = e._R(2);
        return {
            RTL: a & 64
        }
    }

    function af(e) {
        var r = ha(18),
            t = 1718;
        if (e && e.RTL) t |= 64;
        r._W(2, t);
        r._W(4, 0);
        r._W(4, 64);
        r._W(4, 0);
        r._W(4, 0);
        return r
    }

    function nf() { }

    function sf(e, r, t) {
        var a = {
            dyHeight: e._R(2),
            fl: e._R(2)
        };
        switch (t && t.biff || 8) {
            case 2:
                break;
            case 3:
                ;
            case 4:
                e.l += 2;
                break;
            default:
                e.l += 10;
                break;
        }
        a.name = is(e, 0, t);
        return a
    }

    function ff(e, r) {
        var t = e.name || "Arial";
        var a = r && r.biff == 5,
            n = a ? 15 + t.length : 16 + 2 * t.length;
        var i = ha(n);
        i._W(2, (e.sz || 12) * 20);
        i._W(4, 0);
        i._W(2, 400);
        i._W(4, 0);
        i._W(2, 0);
        i._W(1, t.length);
        if (!a) i._W(1, 1);
        i._W((a ? 1 : 2) * t.length, t, a ? "sbcs" : "utf16le");
        return i
    }

    function of(e) {
        var r = Es(e);
        r.isst = e._R(4);
        return r
    }

    function cf(e, r, t, a) {
        var n = ha(10);
        ys(e, r, a, n);
        n._W(4, t);
        return n
    }

    function lf(e, r, t) {
        if (t.biffguess && t.biff == 2) t.biff = 5;
        var a = e.l + r;
        var n = Es(e, 6);
        if (t.biff == 2) e.l++;
        var i = cs(e, a - e.l, t);
        n.val = i;
        return n
    }

    function uf(e, r, t, a, n) {
        var i = !n || n.biff == 8;
        var s = ha(6 + 2 + +i + (1 + i) * t.length);
        ys(e, r, a, s);
        s._W(2, t.length);
        if (i) s._W(1, 1);
        s._W((1 + i) * t.length, t, i ? "utf16le" : "sbcs");
        return s
    }

    function hf(e, r, t) {
        var a = e._R(2);
        var n = ls(e, 0, t);
        return [a, n]
    }

    function df(e, r, t, a) {
        var n = t && t.biff == 5;
        if (!a) a = ha(n ? 3 + r.length : 5 + 2 * r.length);
        a._W(2, e);
        a._W(n ? 1 : 2, r.length);
        if (!n) a._W(1, 1);
        a._W((n ? 1 : 2) * r.length, r, n ? "sbcs" : "utf16le");
        var i = a.length > a.l ? a.slice(0, a.l) : a;
        if (i.l == null) i.l = i.length;
        return i
    }
    var vf = ls;

    function pf(e, r, t) {
        var a = e.l + r;
        var n = t.biff == 8 || !t.biff ? 4 : 2;
        var i = e._R(n),
            s = e._R(n);
        var f = e._R(2),
            o = e._R(2);
        e.l = a;
        return {
            s:
            {
                r: i,
                c: f
            },
            e:
            {
                r: s,
                c: o
            }
        }
    }

    function mf(e, r) {
        var t = r.biff == 8 || !r.biff ? 4 : 2;
        var a = ha(2 * t + 6);
        a._W(t, e.s.r);
        a._W(t, e.e.r + 1);
        a._W(2, e.s.c);
        a._W(2, e.e.c + 1);
        a._W(2, 0);
        return a
    }

    function bf(e) {
        var r = e._R(2),
            t = e._R(2);
        var a = xs(e);
        return {
            r: r,
            c: t,
            ixfe: a[0],
            rknum: a[1]
        }
    }

    function gf(e, r) {
        var t = e.l + r - 2;
        var a = e._R(2),
            n = e._R(2);
        var i = [];
        while (e.l < t) i.push(xs(e));
        if (e.l !== t) throw new Error("MulRK read error");
        var s = e._R(2);
        if (i.length != s - n + 1) throw new Error("MulRK length mismatch");
        return {
            r: a,
            c: n,
            C: s,
            rkrec: i
        }
    }

    function wf(e, r) {
        var t = e.l + r - 2;
        var a = e._R(2),
            n = e._R(2);
        var i = [];
        while (e.l < t) i.push(e._R(2));
        if (e.l !== t) throw new Error("MulBlank read error");
        var s = e._R(2);
        if (i.length != s - n + 1) throw new Error("MulBlank length mismatch");
        return {
            r: a,
            c: n,
            C: s,
            ixfe: i
        }
    }

    function kf(e, r, t, a) {
        var n = {};
        var i = e._R(4),
            s = e._R(4);
        var f = e._R(4),
            o = e._R(2);
        n.patternType = Wn[f >> 26];
        if (!a.cellStyles) return n;
        n.alc = i & 7;
        n.fWrap = i >> 3 & 1;
        n.alcV = i >> 4 & 7;
        n.fJustLast = i >> 7 & 1;
        n.trot = i >> 8 & 255;
        n.cIndent = i >> 16 & 15;
        n.fShrinkToFit = i >> 20 & 1;
        n.iReadOrder = i >> 22 & 2;
        n.fAtrNum = i >> 26 & 1;
        n.fAtrFnt = i >> 27 & 1;
        n.fAtrAlc = i >> 28 & 1;
        n.fAtrBdr = i >> 29 & 1;
        n.fAtrPat = i >> 30 & 1;
        n.fAtrProt = i >> 31 & 1;
        n.dgLeft = s & 15;
        n.dgRight = s >> 4 & 15;
        n.dgTop = s >> 8 & 15;
        n.dgBottom = s >> 12 & 15;
        n.icvLeft = s >> 16 & 127;
        n.icvRight = s >> 23 & 127;
        n.grbitDiag = s >> 30 & 3;
        n.icvTop = f & 127;
        n.icvBottom = f >> 7 & 127;
        n.icvDiag = f >> 14 & 127;
        n.dgDiag = f >> 21 & 15;
        n.icvFore = o & 127;
        n.icvBack = o >> 7 & 127;
        n.fsxButton = o >> 14 & 1;
        return n
    }

    function Tf(e, r, t) {
        var a = {};
        a.ifnt = e._R(2);
        a.numFmtId = e._R(2);
        a.flags = e._R(2);
        a.fStyle = a.flags >> 2 & 1;
        r -= 6;
        a.data = kf(e, r, a.fStyle, t);
        return a
    }

    function Ef(e, r, t, a) {
        var n = t && t.biff == 5;
        if (!a) a = ha(n ? 16 : 20);
        a._W(2, 0);
        if (e.style) {
            a._W(2, e.numFmtId || 0);
            a._W(2, 65524)
        }
        else {
            a._W(2, e.numFmtId || 0);
            a._W(2, r << 4)
        }
        var i = 0;
        if (e.numFmtId > 0 && n) i |= 1024;
        a._W(4, i);
        a._W(4, 0);
        if (!n) a._W(4, 0);
        a._W(2, 0);
        return a
    }

    function yf(e) {
        e.l += 4;
        var r = [e._R(2), e._R(2)];
        if (r[0] !== 0) r[0]--;
        if (r[1] !== 0) r[1]--;
        if (r[0] > 7 || r[1] > 7) throw new Error("Bad Gutters: " + r.join("|"));
        return r
    }

    function Sf(e) {
        var r = ha(8);
        r._W(4, 0);
        r._W(2, e[0] ? e[0] + 1 : 0);
        r._W(2, e[1] ? e[1] + 1 : 0);
        return r
    }

    function _f(e, r, t) {
        var a = Es(e, 6);
        if (t.biff == 2 || r == 9) ++e.l;
        var n = as(e, 2);
        a.val = n;
        a.t = n === true || n === false ? "b" : "e";
        return a
    }

    function Af(e, r, t, a, n, i) {
        var s = ha(8);
        ys(e, r, a, s);
        ns(t, i, s);
        return s
    }

    function xf(e, r, t) {
        if (t.biffguess && t.biff == 2) t.biff = 5;
        var a = Es(e, 6);
        var n = dn(e, 8);
        a.val = n;
        return a
    }

    function Cf(e, r, t, a) {
        var n = ha(14);
        ys(e, r, a, n);
        vn(t, n);
        return n
    }
    var Rf = _s;

    function Of(e, r, t) {
        var a = e.l + r;
        var n = e._R(2);
        var i = e._R(2);
        t.sbcch = i;
        if (i == 1025 || i == 14849) return [i, n];
        if (i < 1 || i > 255) throw new Error("Unexpected SupBook type: " + i);
        var s = os(e, i);
        var f = [];
        while (a > e.l) f.push(cs(e));
        return [i, n, s, f]
    }

    function If(e, r, t) {
        var a = e._R(2);
        var n;
        var i = {
            fBuiltIn: a & 1,
            fWantAdvise: a >>> 1 & 1,
            fWantPict: a >>> 2 & 1,
            fOle: a >>> 3 & 1,
            fOleLink: a >>> 4 & 1,
            cf: a >>> 5 & 1023,
            fIcon: a >>> 15 & 1
        };
        if (t.sbcch === 14849) n = Cs(e, r - 2, t);
        i.body = n || e._R(r - 2);
        if (typeof n === "string") i.Name = n;
        return i
    }
    var Nf = ["_xlnm.Consolidate_Area", "_xlnm.Auto_Open", "_xlnm.Auto_Close", "_xlnm.Extract", "_xlnm.Database", "_xlnm.Criteria", "_xlnm.Print_Area", "_xlnm.Print_Titles", "_xlnm.Recorder", "_xlnm.Data_Form", "_xlnm.Auto_Activate", "_xlnm.Auto_Deactivate", "_xlnm.Sheet_Title", "_xlnm._FilterDatabase"];

    function Ff(e, r, t) {
        var a = e.l + r;
        var n = e._R(2);
        var i = e._R(1);
        var s = e._R(1);
        var f = e._R(t && t.biff == 2 ? 1 : 2);
        var o = 0;
        if (!t || t.biff >= 5) {
            if (t.biff != 5) e.l += 2;
            o = e._R(2);
            if (t.biff == 5) e.l += 2;
            e.l += 4
        }
        var c = os(e, s, t);
        if (n & 32) c = Nf[c.charCodeAt(0)];
        var l = a - e.l;
        if (t && t.biff == 2) --l;
        var u = a == e.l || f === 0 || !(l > 0) ? [] : ld(e, l, t, f);
        return {
            chKey: i,
            Name: c,
            itab: o,
            rgce: u
        }
    }

    function Df(e, r, t) {
        if (t.biff < 8) return Pf(e, r, t);
        var a = [],
            n = e.l + r,
            i = e._R(t.biff > 8 ? 4 : 2);
        while (i-- !== 0) a.push(As(e, t.biff > 8 ? 12 : 6, t));
        if (e.l != n) throw new Error("Bad ExternSheet: " + e.l + " != " + n);
        return a
    }

    function Pf(e, r, t) {
        if (e[e.l + 1] == 3) e[e.l]++;
        var a = is(e, r, t);
        return a.charCodeAt(0) == 3 ? a.slice(1) : a
    }

    function Lf(e, r, t) {
        if (t.biff < 8) {
            e.l += r;
            return
        }
        var a = e._R(2);
        var n = e._R(2);
        var i = os(e, a, t);
        var s = os(e, n, t);
        return [i, s]
    }

    function Mf(e, r, t) {
        var a = Is(e, 6);
        e.l++;
        var n = e._R(1);
        r -= 8;
        return [ud(e, r, t), n, a]
    }

    function Uf(e, r, t) {
        var a = Ns(e, 6);
        switch (t.biff) {
            case 2:
                e.l++;
                r -= 7;
                break;
            case 3:
                ;
            case 4:
                e.l += 2;
                r -= 8;
                break;
            default:
                e.l += 6;
                r -= 12;
        }
        return [a, od(e, r, t, a)]
    }

    function Bf(e) {
        var r = e._R(4) !== 0;
        var t = e._R(4) !== 0;
        var a = e._R(4);
        return [r, t, a]
    }

    function Wf(e, r, t) {
        if (t.biff < 8) return;
        var a = e._R(2),
            n = e._R(2);
        var i = e._R(2),
            s = e._R(2);
        var f = ls(e, 0, t);
        if (t.biff < 8) e._R(1);
        return [
            {
                r: a,
                c: n
            }, f, s, i]
    }

    function Hf(e, r, t) {
        return Wf(e, r, t)
    }

    function zf(e, r) {
        var t = [];
        var a = e._R(2);
        while (a--) t.push(Rs(e, r));
        return t
    }

    function Vf(e) {
        var r = ha(2 + e.length * 8);
        r._W(2, e.length);
        for (var t = 0; t < e.length; ++t) Os(e[t], r);
        return r
    }

    function Gf(e, r, t) {
        if (t && t.biff < 8) return Xf(e, r, t);
        var a = Fs(e, 22);
        var n = Us(e, r - 22, a[1]);
        return {
            cmo: a,
            ft: n
        }
    }
    var jf = {
        8: function (e, r) {
            var t = e.l + r;
            e.l += 10;
            var a = e._R(2);
            e.l += 4;
            e.l += 2;
            e.l += 2;
            e.l += 2;
            e.l += 4;
            var n = e._R(1);
            e.l += n;
            e.l = t;
            return {
                fmt: a
            }
        }
    };

    function Xf(e, r, t) {
        e.l += 4;
        var a = e._R(2);
        var n = e._R(2);
        var i = e._R(2);
        e.l += 2;
        e.l += 2;
        e.l += 2;
        e.l += 2;
        e.l += 2;
        e.l += 2;
        e.l += 2;
        e.l += 2;
        e.l += 2;
        e.l += 6;
        r -= 36;
        var s = [];
        s.push((jf[a] || ua)(e, r, t));
        return {
            cmo: [n, a, i],
            ft: s
        }
    }

    function $f(e, r, t) {
        var a = e.l;
        var n = "";
        try {
            e.l += 4;
            var i = (t.lastobj ||
            {
                cmo: [0, 0]
            }).cmo[1];
            var s;
            if ([0, 5, 7, 11, 12, 14].indexOf(i) == -1) e.l += 6;
            else s = hs(e, 6, t);
            var f = e._R(2);
            e._R(2);
            es(e, 2);
            var o = e._R(2);
            e.l += o;
            for (var c = 1; c < e.lens.length - 1; ++c) {
                if (e.l - a != e.lens[c]) throw new Error("TxO: bad continue record");
                var l = e[e.l];
                var u = os(e, e.lens[c + 1] - e.lens[c] - 1);
                n += u;
                if (n.length >= (l ? f : 2 * f)) break
            }
            if (n.length !== f && n.length !== f * 2) {
                throw new Error("cchText: " + f + " != " + n.length)
            }
            e.l = a + r;
            return {
                t: n
            }
        }
        catch (h) {
            e.l = a + r;
            return {
                t: n
            }
        }
    }

    function Yf(e, r) {
        var t = Rs(e, 8);
        e.l += 16;
        var a = gs(e, r - 24);
        return [t, a]
    }

    function Kf(e) {
        var r = ha(24);
        var t = Ra(e[0]);
        r._W(2, t.r);
        r._W(2, t.r);
        r._W(2, t.c);
        r._W(2, t.c);
        var a = "d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" ");
        for (var n = 0; n < 16; ++n) r._W(1, parseInt(a[n], 16));
        return O([r, ws(e[1])])
    }

    function Jf(e, r) {
        e._R(2);
        var t = Rs(e, 8);
        var a = e._R((r - 10) / 2, "dbcs-cont");
        a = a.replace(N, "");
        return [t, a]
    }

    function qf(e) {
        var r = e[1].Tooltip;
        var t = ha(10 + 2 * (r.length + 1));
        t._W(2, 2048);
        var a = Ra(e[0]);
        t._W(2, a.r);
        t._W(2, a.r);
        t._W(2, a.c);
        t._W(2, a.c);
        for (var n = 0; n < r.length; ++n) t._W(2, r.charCodeAt(n));
        t._W(2, 0);
        return t
    }

    function Zf(e) {
        var r = [0, 0],
            t;
        t = e._R(2);
        r[0] = Bn[t] || t;
        t = e._R(2);
        r[1] = Bn[t] || t;
        return r
    }

    function Qf(e) {
        if (!e) e = ha(4);
        e._W(2, 1);
        e._W(2, 1);
        return e
    }

    function eo(e) {
        var r = e._R(2);
        var t = [];
        while (r-- > 0) t.push(Ts(e, 8));
        return t
    }

    function ro(e) {
        var r = e._R(2);
        var t = [];
        while (r-- > 0) t.push(Ts(e, 8));
        return t
    }

    function to(e) {
        e.l += 2;
        var r = {
            cxfs: 0,
            crc: 0
        };
        r.cxfs = e._R(2);
        r.crc = e._R(4);
        return r
    }

    function ao(e, r, t) {
        if (!t.cellStyles) return ua(e, r);
        var a = t && t.biff >= 12 ? 4 : 2;
        var n = e._R(a);
        var i = e._R(a);
        var s = e._R(a);
        var f = e._R(a);
        var o = e._R(2);
        if (a == 2) e.l += 2;
        var c = {
            s: n,
            e: i,
            w: s,
            ixfe: f,
            flags: o
        };
        if (t.biff >= 5 || !t.biff) c.level = o >> 8 & 7;
        return c
    }

    function no(e, r) {
        var t = ha(12);
        t._W(2, r);
        t._W(2, r);
        t._W(2, e.width * 256);
        t._W(2, 0);
        var a = 0;
        if (e.hidden) a |= 1;
        t._W(1, a);
        a = e.level || 0;
        t._W(1, a);
        t._W(2, 0);
        return t
    }

    function io(e, r) {
        var t = {};
        if (r < 32) return t;
        e.l += 16;
        t.header = dn(e, 8);
        t.footer = dn(e, 8);
        e.l += 2;
        return t
    }

    function so(e, r, t) {
        var a = {
            area: false
        };
        if (t.biff != 5) {
            e.l += r;
            return a
        }
        var n = e._R(1);
        e.l += 3;
        if (n & 16) a.area = true;
        return a
    }

    function fo(e) {
        var r = ha(2 * e);
        for (var t = 0; t < e; ++t) r._W(2, t + 1);
        return r
    }
    var oo = Es;
    var co = ts;
    var lo = cs;

    function uo(e) {
        var r = e._R(2);
        var t = e._R(2);
        var a = e._R(4);
        var n = {
            fmt: r,
            env: t,
            len: a,
            data: e.slice(e.l, e.l + a)
        };
        e.l += a;
        return n
    }

    function ho(e, r, t) {
        if (t.biffguess && t.biff == 5) t.biff = 2;
        var a = Es(e, 6);
        ++e.l;
        var n = ls(e, r - 7, t);
        a.t = "str";
        a.val = n;
        return a
    }

    function vo(e) {
        var r = Es(e, 6);
        ++e.l;
        var t = dn(e, 8);
        r.t = "n";
        r.val = t;
        return r
    }

    function po(e, r, t) {
        var a = ha(15);
        kb(a, e, r);
        a._W(8, t, "f");
        return a
    }

    function mo(e) {
        var r = Es(e, 6);
        ++e.l;
        var t = e._R(2);
        r.t = "n";
        r.val = t;
        return r
    }

    function bo(e, r, t) {
        var a = ha(9);
        kb(a, e, r);
        a._W(2, t);
        return a
    }

    function go(e) {
        var r = e._R(1);
        if (r === 0) {
            e.l++;
            return ""
        }
        return e._R(r, "sbcs-cont")
    }

    function wo(e, r) {
        e.l += 6;
        e.l += 2;
        e.l += 1;
        e.l += 3;
        e.l += 1;
        e.l += r - 13
    }

    function ko(e, r, t) {
        var a = e.l + r;
        var n = Es(e, 6);
        var i = e._R(2);
        var s = os(e, i, t);
        e.l = a;
        n.t = "str";
        n.val = s;
        return n
    }
    var To = [2, 3, 48, 49, 131, 139, 140, 245];
    var Eo = function () {
        var e = {
            1: 437,
            2: 850,
            3: 1252,
            4: 1e4,
            100: 852,
            101: 866,
            102: 865,
            103: 861,
            104: 895,
            105: 620,
            106: 737,
            107: 857,
            120: 950,
            121: 949,
            122: 936,
            123: 932,
            124: 874,
            125: 1255,
            126: 1256,
            150: 10007,
            151: 10029,
            152: 10006,
            200: 1250,
            201: 1251,
            202: 1254,
            203: 1253,
            0: 20127,
            8: 865,
            9: 437,
            10: 850,
            11: 437,
            13: 437,
            14: 850,
            15: 437,
            16: 850,
            17: 437,
            18: 850,
            19: 932,
            20: 850,
            21: 437,
            22: 850,
            23: 865,
            24: 437,
            25: 437,
            26: 850,
            27: 437,
            28: 863,
            29: 850,
            31: 852,
            34: 852,
            35: 852,
            36: 860,
            37: 850,
            38: 866,
            55: 850,
            64: 852,
            77: 936,
            78: 949,
            79: 950,
            80: 874,
            87: 1252,
            88: 1252,
            89: 1252,
            108: 863,
            134: 737,
            135: 852,
            136: 857,
            204: 1257,
            255: 16969
        };
        var r = ar(
            {
                1: 437,
                2: 850,
                3: 1252,
                4: 1e4,
                100: 852,
                101: 866,
                102: 865,
                103: 861,
                104: 895,
                105: 620,
                106: 737,
                107: 857,
                120: 950,
                121: 949,
                122: 936,
                123: 932,
                124: 874,
                125: 1255,
                126: 1256,
                150: 10007,
                151: 10029,
                152: 10006,
                200: 1250,
                201: 1251,
                202: 1254,
                203: 1253,
                0: 20127
            });

        function n(r, t) {
            var n = [];
            var i = y(1);
            switch (t.type) {
                case "base64":
                    i = _(k(r));
                    break;
                case "binary":
                    i = _(r);
                    break;
                case "buffer":
                    ;
                case "array":
                    i = r;
                    break;
            }
            la(i, 0);
            var s = i._R(1);
            var f = !!(s & 136);
            var o = false,
                c = false;
            switch (s) {
                case 2:
                    break;
                case 3:
                    break;
                case 48:
                    o = true;
                    f = true;
                    break;
                case 49:
                    o = true;
                    f = true;
                    break;
                case 131:
                    break;
                case 139:
                    break;
                case 140:
                    c = true;
                    break;
                case 245:
                    break;
                default:
                    throw new Error("DBF Unsupported Version: " + s.toString(16));
            }
            var l = 0,
                u = 521;
            if (s == 2) l = i._R(2);
            i.l += 3;
            if (s != 2) l = i._R(4);
            if (l > 1048576) l = 1e6;
            if (s != 2) u = i._R(2);
            var h = i._R(2);
            var d = t.codepage || 1252;
            if (s != 2) {
                i.l += 16;
                i._R(1);
                if (i[i.l] !== 0) d = e[i[i.l]];
                i.l += 1;
                i.l += 2
            }
            if (c) i.l += 36;
            var v = [],
                p = {};
            var m = Math.min(i.length, s == 2 ? 521 : u - 10 - (o ? 264 : 0));
            var b = c ? 32 : 11;
            while (i.l < m && i[i.l] != 13) {
                p = {};
                p.name = a.utils.decode(d, i.slice(i.l, i.l + b)).replace(/[\u0000\r\n].*$/g, "");
                i.l += b;
                p.type = String.fromCharCode(i._R(1));
                if (s != 2 && !c) p.offset = i._R(4);
                p.len = i._R(1);
                if (s == 2) p.offset = i._R(2);
                p.dec = i._R(1);
                if (p.name.length) v.push(p);
                if (s != 2) i.l += c ? 13 : 14;
                switch (p.type) {
                    case "B":
                        if ((!o || p.len != 8) && t.WTF) console.log("Skipping " + p.name + ":" + p.type);
                        break;
                    case "G":
                        ;
                    case "P":
                        if (t.WTF) console.log("Skipping " + p.name + ":" + p.type);
                        break;
                    case "+":
                        ;
                    case "0":
                        ;
                    case "@":
                        ;
                    case "C":
                        ;
                    case "D":
                        ;
                    case "F":
                        ;
                    case "I":
                        ;
                    case "L":
                        ;
                    case "M":
                        ;
                    case "N":
                        ;
                    case "O":
                        ;
                    case "T":
                        ;
                    case "Y":
                        break;
                    default:
                        throw new Error("Unknown Field Type: " + p.type);
                }
            }
            if (i[i.l] !== 13) i.l = u - 1;
            if (i._R(1) !== 13) throw new Error("DBF Terminator not found " + i.l + " " + i[i.l]);
            i.l = u;
            var g = 0,
                w = 0;
            n[0] = [];
            for (w = 0; w != v.length; ++w) n[0][w] = v[w].name;
            while (l-- > 0) {
                if (i[i.l] === 42) {
                    i.l += h;
                    continue
                } ++i.l;
                n[++g] = [];
                w = 0;
                for (w = 0; w != v.length; ++w) {
                    var T = i.slice(i.l, i.l + v[w].len);
                    i.l += v[w].len;
                    la(T, 0);
                    var E = a.utils.decode(d, T);
                    switch (v[w].type) {
                        case "C":
                            if (E.trim().length) n[g][w] = E.replace(/\s+$/, "");
                            break;
                        case "D":
                            if (E.length === 8) n[g][w] = new Date(+E.slice(0, 4), +E.slice(4, 6) - 1, +E.slice(6, 8));
                            else n[g][w] = E;
                            break;
                        case "F":
                            n[g][w] = parseFloat(E.trim());
                            break;
                        case "+":
                            ;
                        case "I":
                            n[g][w] = c ? T._R(-4, "i") ^ 2147483648 : T._R(4, "i");
                            break;
                        case "L":
                            switch (E.trim().toUpperCase()) {
                                case "Y":
                                    ;
                                case "T":
                                    n[g][w] = true;
                                    break;
                                case "N":
                                    ;
                                case "F":
                                    n[g][w] = false;
                                    break;
                                case "":
                                    ;
                                case "?":
                                    break;
                                default:
                                    throw new Error("DBF Unrecognized L:|" + E + "|");
                            }
                            break;
                        case "M":
                            if (!f) throw new Error("DBF Unexpected MEMO for type " + s.toString(16));
                            n[g][w] = "##MEMO##" + (c ? parseInt(E.trim(), 10) : T._R(4));
                            break;
                        case "N":
                            E = E.replace(/\u0000/g, "").trim();
                            if (E && E != ".") n[g][w] = +E || 0;
                            break;
                        case "@":
                            n[g][w] = new Date(T._R(-8, "f") - 621356832e5);
                            break;
                        case "T":
                            n[g][w] = new Date((T._R(4) - 2440588) * 864e5 + T._R(4));
                            break;
                        case "Y":
                            n[g][w] = T._R(4, "i") / 1e4 + T._R(4, "i") / 1e4 * Math.pow(2, 32);
                            break;
                        case "O":
                            n[g][w] = -T._R(-8, "f");
                            break;
                        case "B":
                            if (o && v[w].len == 8) {
                                n[g][w] = T._R(8, "f");
                                break
                            };
                        case "G":
                            ;
                        case "P":
                            T.l += v[w].len;
                            break;
                        case "0":
                            if (v[w].name === "_NullFlags") break;
                        default:
                            throw new Error("DBF Unsupported data type " + v[w].type);
                    }
                }
            }
            if (s != 2)
                if (i.l < i.length && i[i.l++] != 26) throw new Error("DBF EOF Marker missing " + (i.l - 1) + " of " + i.length + " " + i[i.l - 1].toString(16));
            if (t && t.sheetRows) n = n.slice(0, t.sheetRows);
            t.DBF = v;
            return n
        }

        function i(e, r) {
            var t = r ||
                {};
            if (!t.dateNF) t.dateNF = "yyyymmdd";
            var a = Ua(n(e, t), t);
            a["!cols"] = t.DBF.map(function (e) {
                return {
                    wch: e.len,
                    DBF: e
                }
            });
            delete t.DBF;
            return a
        }

        function s(e, r) {
            try {
                return La(i(e, r), r)
            }
            catch (t) {
                if (r && r.WTF) throw t
            }
            return {
                SheetNames: [],
                Sheets:
                    {}
            }
        }
        var f = {
            B: 8,
            C: 250,
            L: 1,
            D: 8,
            "?": 0,
            "": 0
        };

        function c(e, a) {
            var n = a ||
                {};
            if (+n.codepage >= 0) o(+n.codepage);
            if (n.type == "string") throw new Error("Cannot write DBF to JS string");
            var i = va();
            var s = Ew(e,
                {
                    header: 1,
                    raw: true,
                    cellDates: true
                });
            var c = s[0],
                l = s.slice(1),
                u = e["!cols"] || [];
            var h = 0,
                d = 0,
                v = 0,
                p = 1;
            for (h = 0; h < c.length; ++h) {
                if (((u[h] ||
                    {}).DBF ||
                    {}).name) {
                    c[h] = u[h].DBF.name;
                    ++v;
                    continue
                }
                if (c[h] == null) continue;
                ++v;
                if (typeof c[h] === "number") c[h] = c[h].toString(10);
                if (typeof c[h] !== "string") throw new Error("DBF Invalid column name " + c[h] + " |" + typeof c[h] + "|");
                if (c.indexOf(c[h]) !== h)
                    for (d = 0; d < 1024; ++d)
                        if (c.indexOf(c[h] + "_" + d) == -1) {
                            c[h] += "_" + d;
                            break
                        }
            }
            var m = Fa(e["!ref"]);
            var b = [];
            var g = [];
            var w = [];
            for (h = 0; h <= m.e.c - m.s.c; ++h) {
                var k = "",
                    T = "",
                    E = 0;
                var y = [];
                for (d = 0; d < l.length; ++d) {
                    if (l[d][h] != null) y.push(l[d][h])
                }
                if (y.length == 0 || c[h] == null) {
                    b[h] = "?";
                    continue
                }
                for (d = 0; d < y.length; ++d) {
                    switch (typeof y[d]) {
                        case "number":
                            T = "B";
                            break;
                        case "string":
                            T = "C";
                            break;
                        case "boolean":
                            T = "L";
                            break;
                        case "object":
                            T = y[d] instanceof Date ? "D" : "C";
                            break;
                        default:
                            T = "C";
                    }
                    E = Math.max(E, String(y[d]).length);
                    k = k && k != T ? "C" : T
                }
                if (E > 250) E = 250;
                T = ((u[h] ||
                    {}).DBF ||
                    {}).type;
                if (T == "C") {
                    if (u[h].DBF.len > E) E = u[h].DBF.len
                }
                if (k == "B" && T == "N") {
                    k = "N";
                    w[h] = u[h].DBF.dec;
                    E = u[h].DBF.len
                }
                g[h] = k == "C" || T == "N" ? E : f[k] || 0;
                p += g[h];
                b[h] = k
            }
            var S = i.next(32);
            S._W(4, 318902576);
            S._W(4, l.length);
            S._W(2, 296 + 32 * v);
            S._W(2, p);
            for (h = 0; h < 4; ++h) S._W(4, 0);
            S._W(4, 0 | (+r[t] || 3) << 8);
            for (h = 0, d = 0; h < c.length; ++h) {
                if (c[h] == null) continue;
                var _ = i.next(32);
                var A = (c[h].slice(-10) + "\0\0\0\0\0\0\0\0\0\0\0").slice(0, 11);
                _._W(1, A, "sbcs");
                _._W(1, b[h] == "?" ? "C" : b[h], "sbcs");
                _._W(4, d);
                _._W(1, g[h] || f[b[h]] || 0);
                _._W(1, w[h] || 0);
                _._W(1, 2);
                _._W(4, 0);
                _._W(1, 0);
                _._W(4, 0);
                _._W(4, 0);
                d += g[h] || f[b[h]] || 0
            }
            var x = i.next(264);
            x._W(4, 13);
            for (h = 0; h < 65; ++h) x._W(4, 0);
            for (h = 0; h < l.length; ++h) {
                var C = i.next(p);
                C._W(1, 0);
                for (d = 0; d < c.length; ++d) {
                    if (c[d] == null) continue;
                    switch (b[d]) {
                        case "L":
                            C._W(1, l[h][d] == null ? 63 : l[h][d] ? 84 : 70);
                            break;
                        case "B":
                            C._W(8, l[h][d] || 0, "f");
                            break;
                        case "N":
                            var R = "0";
                            if (typeof l[h][d] == "number") R = l[h][d].toFixed(w[d] || 0);
                            for (v = 0; v < g[d] - R.length; ++v) C._W(1, 32);
                            C._W(1, R, "sbcs");
                            break;
                        case "D":
                            if (!l[h][d]) C._W(8, "00000000", "sbcs");
                            else {
                                C._W(4, ("0000" + l[h][d].getFullYear()).slice(-4), "sbcs");
                                C._W(2, ("00" + (l[h][d].getMonth() + 1)).slice(-2), "sbcs");
                                C._W(2, ("00" + l[h][d].getDate()).slice(-2), "sbcs")
                            }
                            break;
                        case "C":
                            var O = String(l[h][d] != null ? l[h][d] : "").slice(0, g[d]);
                            C._W(1, O, "sbcs");
                            for (v = 0; v < g[d] - O.length; ++v) C._W(1, 32);
                            break;
                    }
                }
            }
            i.next(1)._W(1, 26);
            return i.end()
        }
        return {
            to_workbook: s,
            to_sheet: i,
            from_sheet: c
        }
    }();
    var yo = function () {
        var e = {
            AA: "Ã€",
            BA: "Ã",
            CA: "Ã‚",
            DA: 195,
            HA: "Ã„",
            JA: 197,
            AE: "Ãˆ",
            BE: "Ã‰",
            CE: "ÃŠ",
            HE: "Ã‹",
            AI: "ÃŒ",
            BI: "Ã",
            CI: "ÃŽ",
            HI: "Ã",
            AO: "Ã’",
            BO: "Ã“",
            CO: "Ã”",
            DO: 213,
            HO: "Ã–",
            AU: "Ã™",
            BU: "Ãš",
            CU: "Ã›",
            HU: "Ãœ",
            Aa: "Ã ",
            Ba: "Ã¡",
            Ca: "Ã¢",
            Da: 227,
            Ha: "Ã¤",
            Ja: 229,
            Ae: "Ã¨",
            Be: "Ã©",
            Ce: "Ãª",
            He: "Ã«",
            Ai: "Ã¬",
            Bi: "Ã­",
            Ci: "Ã®",
            Hi: "Ã¯",
            Ao: "Ã²",
            Bo: "Ã³",
            Co: "Ã´",
            Do: 245,
            Ho: "Ã¶",
            Au: "Ã¹",
            Bu: "Ãº",
            Cu: "Ã»",
            Hu: "Ã¼",
            KC: "Ã‡",
            Kc: "Ã§",
            q: "Ã¦",
            z: "Å“",
            a: "Ã†",
            j: "Å’",
            DN: 209,
            Dn: 241,
            Hy: 255,
            S: 169,
            c: 170,
            R: 174,
            "B ": 180,
            0: 176,
            1: 177,
            2: 178,
            3: 179,
            5: 181,
            6: 182,
            7: 183,
            Q: 185,
            k: 186,
            b: 208,
            i: 216,
            l: 222,
            s: 240,
            y: 248,
            "!": 161,
            '"': 162,
            "#": 163,
            "(": 164,
            "%": 165,
            "'": 167,
            "H ": 168,
            "+": 171,
            ";": 187,
            "<": 188,
            "=": 189,
            ">": 190,
            "?": 191,
            "{": 223
        };
        var r = new RegExp("N(" + rr(e).join("|").replace(/\|\|\|/, "|\\||").replace(/([?()+])/g, "\\$1") + "|\\|)", "gm");
        var t = function (r, t) {
            var a = e[t];
            return typeof a == "number" ? p(a) : a
        };
        var n = function (e, r, t) {
            var a = r.charCodeAt(0) - 32 << 4 | t.charCodeAt(0) - 48;
            return a == 59 ? e : p(a)
        };
        e["|"] = 254;

        function i(e, r) {
            switch (r.type) {
                case "base64":
                    return s(k(e), r);
                case "binary":
                    return s(e, r);
                case "buffer":
                    return s(T && Buffer.isBuffer(e) ? e.toString("binary") : x(e), r);
                case "array":
                    return s(br(e), r);
            }
            throw new Error("Unrecognized type " + r.type)
        }

        function s(e, i) {
            var s = e.split(/[\n\r]+/),
                f = -1,
                c = -1,
                l = 0,
                u = 0,
                h = [];
            var d = [];
            var v = null;
            var p = {},
                m = [],
                b = [],
                g = [];
            var w = 0,
                k;
            if (+i.codepage >= 0) o(+i.codepage);
            for (; l !== s.length; ++l) {
                w = 0;
                var T = s[l].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g, n).replace(r, t);
                var E = T.replace(/;;/g, "\0").split(";").map(function (e) {
                    return e.replace(/\u0000/g, ";")
                });
                var y = E[0],
                    S;
                if (T.length > 0) switch (y) {
                    case "ID":
                        break;
                    case "E":
                        break;
                    case "B":
                        break;
                    case "O":
                        break;
                    case "W":
                        break;
                    case "P":
                        if (E[1].charAt(0) == "P") d.push(T.slice(3).replace(/;;/g, ";"));
                        break;
                    case "C":
                        var _ = false,
                            A = false,
                            x = false,
                            C = false,
                            R = -1,
                            O = -1;
                        for (u = 1; u < E.length; ++u) switch (E[u].charAt(0)) {
                            case "A":
                                break;
                            case "X":
                                c = parseInt(E[u].slice(1)) - 1;
                                A = true;
                                break;
                            case "Y":
                                f = parseInt(E[u].slice(1)) - 1;
                                if (!A) c = 0;
                                for (k = h.length; k <= f; ++k) h[k] = [];
                                break;
                            case "K":
                                S = E[u].slice(1);
                                if (S.charAt(0) === '"') S = S.slice(1, S.length - 1);
                                else if (S === "TRUE") S = true;
                                else if (S === "FALSE") S = false;
                                else if (!isNaN(kr(S))) {
                                    S = kr(S);
                                    if (v !== null && De(v)) S = ur(S)
                                }
                                else if (!isNaN(Er(S).getDate())) {
                                    S = mr(S)
                                }
                                if (typeof a !== "undefined" && typeof S == "string" && (i ||
                                    {}).type != "string" && (i ||
                                        {}).codepage) S = a.utils.decode(i.codepage, S);
                                _ = true;
                                break;
                            case "E":
                                C = true;
                                var I = Au(E[u].slice(1),
                                    {
                                        r: f,
                                        c: c
                                    });
                                h[f][c] = [h[f][c], I];
                                break;
                            case "S":
                                x = true;
                                h[f][c] = [h[f][c], "S5S"];
                                break;
                            case "G":
                                break;
                            case "R":
                                R = parseInt(E[u].slice(1)) - 1;
                                break;
                            case "C":
                                O = parseInt(E[u].slice(1)) - 1;
                                break;
                            default:
                                if (i && i.WTF) throw new Error("SYLK bad record " + T);
                        }
                        if (_) {
                            if (h[f][c] && h[f][c].length == 2) h[f][c][0] = S;
                            else h[f][c] = S;
                            v = null
                        }
                        if (x) {
                            if (C) throw new Error("SYLK shared formula cannot have own formula");
                            var N = R > -1 && h[R][O];
                            if (!N || !N[1]) throw new Error("SYLK shared formula cannot find base");
                            h[f][c][1] = Ru(N[1],
                                {
                                    r: f - R,
                                    c: c - O
                                })
                        }
                        break;
                    case "F":
                        var F = 0;
                        for (u = 1; u < E.length; ++u) switch (E[u].charAt(0)) {
                            case "X":
                                c = parseInt(E[u].slice(1)) - 1;
                                ++F;
                                break;
                            case "Y":
                                f = parseInt(E[u].slice(1)) - 1;
                                for (k = h.length; k <= f; ++k) h[k] = [];
                                break;
                            case "M":
                                w = parseInt(E[u].slice(1)) / 20;
                                break;
                            case "F":
                                break;
                            case "G":
                                break;
                            case "P":
                                v = d[parseInt(E[u].slice(1))];
                                break;
                            case "S":
                                break;
                            case "D":
                                break;
                            case "N":
                                break;
                            case "W":
                                g = E[u].slice(1).split(" ");
                                for (k = parseInt(g[0], 10); k <= parseInt(g[1], 10); ++k) {
                                    w = parseInt(g[2], 10);
                                    b[k - 1] = w === 0 ?
                                        {
                                            hidden: true
                                        } :
                                        {
                                            wch: w
                                        };
                                    Ic(b[k - 1])
                                }
                                break;
                            case "C":
                                c = parseInt(E[u].slice(1)) - 1;
                                if (!b[c]) b[c] = {};
                                break;
                            case "R":
                                f = parseInt(E[u].slice(1)) - 1;
                                if (!m[f]) m[f] = {};
                                if (w > 0) {
                                    m[f].hpt = w;
                                    m[f].hpx = Pc(w)
                                }
                                else if (w === 0) m[f].hidden = true;
                                break;
                            default:
                                if (i && i.WTF) throw new Error("SYLK bad record " + T);
                        }
                        if (F < 1) v = null;
                        break;
                    default:
                        if (i && i.WTF) throw new Error("SYLK bad record " + T);
                }
            }
            if (m.length > 0) p["!rows"] = m;
            if (b.length > 0) p["!cols"] = b;
            if (i && i.sheetRows) h = h.slice(0, i.sheetRows);
            return [h, p]
        }

        function f(e, r) {
            var t = i(e, r);
            var a = t[0],
                n = t[1];
            var s = Ua(a, r);
            rr(n).forEach(function (e) {
                s[e] = n[e]
            });
            return s
        }

        function c(e, r) {
            return La(f(e, r), r)
        }

        function l(e, r, t, a) {
            var n = "C;Y" + (t + 1) + ";X" + (a + 1) + ";K";
            switch (e.t) {
                case "n":
                    n += e.v || 0;
                    if (e.f && !e.F) n += ";E" + Cu(e.f,
                        {
                            r: t,
                            c: a
                        });
                    break;
                case "b":
                    n += e.v ? "TRUE" : "FALSE";
                    break;
                case "e":
                    n += e.w || e.v;
                    break;
                case "d":
                    n += '"' + (e.w || e.v) + '"';
                    break;
                case "s":
                    n += '"' + e.v.replace(/"/g, "").replace(/;/g, ";;") + '"';
                    break;
            }
            return n
        }

        function u(e, r) {
            r.forEach(function (r, t) {
                var a = "F;W" + (t + 1) + " " + (t + 1) + " ";
                if (r.hidden) a += "0";
                else {
                    if (typeof r.width == "number" && !r.wpx) r.wpx = Ac(r.width);
                    if (typeof r.wpx == "number" && !r.wch) r.wch = xc(r.wpx);
                    if (typeof r.wch == "number") a += Math.round(r.wch)
                }
                if (a.charAt(a.length - 1) != " ") e.push(a)
            })
        }

        function h(e, r) {
            r.forEach(function (r, t) {
                var a = "F;";
                if (r.hidden) a += "M0;";
                else if (r.hpt) a += "M" + 20 * r.hpt + ";";
                else if (r.hpx) a += "M" + 20 * Dc(r.hpx) + ";";
                if (a.length > 2) e.push(a + "R" + (t + 1))
            })
        }

        function d(e, r) {
            var t = ["ID;PWXL;N;E"],
                a = [];
            var n = Fa(e["!ref"]),
                i;
            var s = Array.isArray(e);
            var f = "\r\n";
            t.push("P;PGeneral");
            t.push("F;P0;DG0G8;M255");
            if (e["!cols"]) u(t, e["!cols"]);
            if (e["!rows"]) h(t, e["!rows"]);
            t.push("B;Y" + (n.e.r - n.s.r + 1) + ";X" + (n.e.c - n.s.c + 1) + ";D" + [n.s.c, n.s.r, n.e.c, n.e.r].join(" "));
            for (var o = n.s.r; o <= n.e.r; ++o) {
                for (var c = n.s.c; c <= n.e.c; ++c) {
                    var d = Oa(
                        {
                            r: o,
                            c: c
                        });
                    i = s ? (e[o] || [])[c] : e[d];
                    if (!i || i.v == null && (!i.f || i.F)) continue;
                    a.push(l(i, e, o, c, r))
                }
            }
            return t.join(f) + f + a.join(f) + f + "E" + f
        }
        return {
            to_workbook: c,
            to_sheet: f,
            from_sheet: d
        }
    }();
    var So = function () {
        function e(e, t) {
            switch (t.type) {
                case "base64":
                    return r(k(e), t);
                case "binary":
                    return r(e, t);
                case "buffer":
                    return r(T && Buffer.isBuffer(e) ? e.toString("binary") : x(e), t);
                case "array":
                    return r(br(e), t);
            }
            throw new Error("Unrecognized type " + t.type)
        }

        function r(e, r) {
            var t = e.split("\n"),
                a = -1,
                n = -1,
                i = 0,
                s = [];
            for (; i !== t.length; ++i) {
                if (t[i].trim() === "BOT") {
                    s[++a] = [];
                    n = 0;
                    continue
                }
                if (a < 0) continue;
                var f = t[i].trim().split(",");
                var o = f[0],
                    c = f[1];
                ++i;
                var l = t[i] || "";
                while ((l.match(/["]/g) || []).length & 1 && i < t.length - 1) l += "\n" + t[++i];
                l = l.trim();
                switch (+o) {
                    case -1:
                        if (l === "BOT") {
                            s[++a] = [];
                            n = 0;
                            continue
                        }
                        else if (l !== "EOD") throw new Error("Unrecognized DIF special command " + l);
                        break;
                    case 0:
                        if (l === "TRUE") s[a][n] = true;
                        else if (l === "FALSE") s[a][n] = false;
                        else if (!isNaN(kr(c))) s[a][n] = kr(c);
                        else if (!isNaN(Er(c).getDate())) s[a][n] = mr(c);
                        else s[a][n] = c;
                        ++n;
                        break;
                    case 1:
                        l = l.slice(1, l.length - 1);
                        l = l.replace(/""/g, '"');
                        if (b && l && l.match(/^=".*"$/)) l = l.slice(2, -1);
                        s[a][n++] = l !== "" ? l : null;
                        break;
                }
                if (l === "EOD") break
            }
            if (r && r.sheetRows) s = s.slice(0, r.sheetRows);
            return s
        }

        function t(r, t) {
            return Ua(e(r, t), t)
        }

        function a(e, r) {
            return La(t(e, r), r)
        }
        var n = function () {
            var e = function t(e, r, a, n, i) {
                e.push(r);
                e.push(a + "," + n);
                e.push('"' + i.replace(/"/g, '""') + '"')
            };
            var r = function a(e, r, t, n) {
                e.push(r + "," + t);
                e.push(r == 1 ? '"' + n.replace(/"/g, '""') + '"' : n)
            };
            return function n(t) {
                var a = [];
                var n = Fa(t["!ref"]),
                    i;
                var s = Array.isArray(t);
                e(a, "TABLE", 0, 1, "sheetjs");
                e(a, "VECTORS", 0, n.e.r - n.s.r + 1, "");
                e(a, "TUPLES", 0, n.e.c - n.s.c + 1, "");
                e(a, "DATA", 0, 0, "");
                for (var f = n.s.r; f <= n.e.r; ++f) {
                    r(a, -1, 0, "BOT");
                    for (var o = n.s.c; o <= n.e.c; ++o) {
                        var c = Oa(
                            {
                                r: f,
                                c: o
                            });
                        i = s ? (t[f] || [])[o] : t[c];
                        if (!i) {
                            r(a, 1, 0, "");
                            continue
                        }
                        switch (i.t) {
                            case "n":
                                var l = b ? i.w : i.v;
                                if (!l && i.v != null) l = i.v;
                                if (l == null) {
                                    if (b && i.f && !i.F) r(a, 1, 0, "=" + i.f);
                                    else r(a, 1, 0, "")
                                }
                                else r(a, 0, l, "V");
                                break;
                            case "b":
                                r(a, 0, i.v ? 1 : 0, i.v ? "TRUE" : "FALSE");
                                break;
                            case "s":
                                r(a, 1, 0, !b || isNaN(i.v) ? i.v : '="' + i.v + '"');
                                break;
                            case "d":
                                if (!i.w) i.w = Be(i.z || X[14], fr(mr(i.v)));
                                if (b) r(a, 0, i.w, "V");
                                else r(a, 1, 0, i.w);
                                break;
                            default:
                                r(a, 1, 0, "");
                        }
                    }
                }
                r(a, -1, 0, "EOD");
                var u = "\r\n";
                var h = a.join(u);
                return h
            }
        }();
        return {
            to_workbook: a,
            to_sheet: t,
            from_sheet: n
        }
    }();
    var _o = function () {
        function e(e) {
            return e.replace(/\\b/g, "\\").replace(/\\c/g, ":").replace(/\\n/g, "\n")
        }

        function r(e) {
            return e.replace(/\\/g, "\\b").replace(/:/g, "\\c").replace(/\n/g, "\\n")
        }

        function t(r, t) {
            var a = r.split("\n"),
                n = -1,
                i = -1,
                s = 0,
                f = [];
            for (; s !== a.length; ++s) {
                var o = a[s].trim().split(":");
                if (o[0] !== "cell") continue;
                var c = Ra(o[1]);
                if (f.length <= c.r)
                    for (n = f.length; n <= c.r; ++n)
                        if (!f[n]) f[n] = [];
                n = c.r;
                i = c.c;
                switch (o[2]) {
                    case "t":
                        f[n][i] = e(o[3]);
                        break;
                    case "v":
                        f[n][i] = +o[3];
                        break;
                    case "vtf":
                        var l = o[o.length - 1];
                    case "vtc":
                        switch (o[3]) {
                            case "nl":
                                f[n][i] = +o[4] ? true : false;
                                break;
                            default:
                                f[n][i] = +o[4];
                                break;
                        }
                        if (o[2] == "vtf") f[n][i] = [f[n][i], l];
                }
            }
            if (t && t.sheetRows) f = f.slice(0, t.sheetRows);
            return f
        }

        function a(e, r) {
            return Ua(t(e, r), r)
        }

        function n(e, r) {
            return La(a(e, r), r)
        }
        var i = ["socialcalc:version:1.5", "MIME-Version: 1.0", "Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n");
        var s = ["--SocialCalcSpreadsheetControlSave", "Content-type: text/plain; charset=UTF-8"].join("\n") + "\n";
        var f = ["# SocialCalc Spreadsheet Control Save", "part:sheet"].join("\n");
        var o = "--SocialCalcSpreadsheetControlSave--";

        function c(e) {
            if (!e || !e["!ref"]) return "";
            var t = [],
                a = [],
                n, i = "";
            var s = Ia(e["!ref"]);
            var f = Array.isArray(e);
            for (var o = s.s.r; o <= s.e.r; ++o) {
                for (var c = s.s.c; c <= s.e.c; ++c) {
                    i = Oa(
                        {
                            r: o,
                            c: c
                        });
                    n = f ? (e[o] || [])[c] : e[i];
                    if (!n || n.v == null || n.t === "z") continue;
                    a = ["cell", i, "t"];
                    switch (n.t) {
                        case "s":
                            ;
                        case "str":
                            a.push(r(n.v));
                            break;
                        case "n":
                            if (!n.f) {
                                a[2] = "v";
                                a[3] = n.v
                            }
                            else {
                                a[2] = "vtf";
                                a[3] = "n";
                                a[4] = n.v;
                                a[5] = r(n.f)
                            }
                            break;
                        case "b":
                            a[2] = "vt" + (n.f ? "f" : "c");
                            a[3] = "nl";
                            a[4] = n.v ? "1" : "0";
                            a[5] = r(n.f || (n.v ? "TRUE" : "FALSE"));
                            break;
                        case "d":
                            var l = fr(mr(n.v));
                            a[2] = "vtc";
                            a[3] = "nd";
                            a[4] = "" + l;
                            a[5] = n.w || Be(n.z || X[14], l);
                            break;
                        case "e":
                            continue;
                    }
                    t.push(a.join(":"))
                }
            }
            t.push("sheet:c:" + (s.e.c - s.s.c + 1) + ":r:" + (s.e.r - s.s.r + 1) + ":tvf:1");
            t.push("valueformat:1:text-wiki");
            return t.join("\n")
        }

        function l(e) {
            return [i, s, f, s, c(e), o].join("\n")
        }
        return {
            to_workbook: n,
            to_sheet: a,
            from_sheet: l
        }
    }();
    var Ao = function () {
        function e(e, r, t, a, n) {
            if (n.raw) r[t][a] = e;
            else if (e === "") { }
            else if (e === "TRUE") r[t][a] = true;
            else if (e === "FALSE") r[t][a] = false;
            else if (!isNaN(kr(e))) r[t][a] = kr(e);
            else if (!isNaN(Er(e).getDate())) r[t][a] = mr(e);
            else r[t][a] = e
        }

        function r(r, t) {
            var a = t ||
                {};
            var n = [];
            if (!r || r.length === 0) return n;
            var i = r.split(/[\r\n]/);
            var s = i.length - 1;
            while (s >= 0 && i[s].length === 0) --s;
            var f = 10,
                o = 0;
            var c = 0;
            for (; c <= s; ++c) {
                o = i[c].indexOf(" ");
                if (o == -1) o = i[c].length;
                else o++;
                f = Math.max(f, o)
            }
            for (c = 0; c <= s; ++c) {
                n[c] = [];
                var l = 0;
                e(i[c].slice(0, f).trim(), n, c, l, a);
                for (l = 1; l <= (i[c].length - f) / 10 + 1; ++l) e(i[c].slice(f + (l - 1) * 10, f + l * 10).trim(), n, c, l, a)
            }
            if (a.sheetRows) n = n.slice(0, a.sheetRows);
            return n
        }
        var t = {
            44: ",",
            9: "\t",
            59: ";",
            124: "|"
        };
        var n = {
            44: 3,
            9: 2,
            59: 1,
            124: 0
        };

        function i(e) {
            var r = {},
                a = false,
                i = 0,
                s = 0;
            for (; i < e.length; ++i) {
                if ((s = e.charCodeAt(i)) == 34) a = !a;
                else if (!a && s in t) r[s] = (r[s] || 0) + 1
            }
            s = [];
            for (i in r)
                if (Object.prototype.hasOwnProperty.call(r, i)) {
                    s.push([r[i], i])
                } if (!s.length) {
                    r = n;
                    for (i in r)
                        if (Object.prototype.hasOwnProperty.call(r, i)) {
                            s.push([r[i], i])
                        }
                }
            s.sort(function (e, r) {
                return e[0] - r[0] || n[e[1]] - n[r[1]]
            });
            return t[s.pop()[1]] || 44
        }

        function s(e, r) {
            var t = r ||
                {};
            var a = "";
            if (m != null && t.dense == null) t.dense = m;
            var n = t.dense ? [] :
                {};
            var s = {
                s:
                {
                    c: 0,
                    r: 0
                },
                e:
                {
                    c: 0,
                    r: 0
                }
            };
            if (e.slice(0, 4) == "sep=") {
                if (e.charCodeAt(5) == 13 && e.charCodeAt(6) == 10) {
                    a = e.charAt(4);
                    e = e.slice(7)
                }
                else if (e.charCodeAt(5) == 13 || e.charCodeAt(5) == 10) {
                    a = e.charAt(4);
                    e = e.slice(6)
                }
                else a = i(e.slice(0, 1024))
            }
            else if (t && t.FS) a = t.FS;
            else a = i(e.slice(0, 1024));
            var f = 0,
                o = 0,
                c = 0;
            var l = 0,
                u = 0,
                h = a.charCodeAt(0),
                d = false,
                v = 0,
                p = e.charCodeAt(0);
            e = e.replace(/\r\n/gm, "\n");
            var b = t.dateNF != null ? Xe(t.dateNF) : null;

            function g() {
                var r = e.slice(l, u);
                var a = {};
                if (r.charAt(0) == '"' && r.charAt(r.length - 1) == '"') r = r.slice(1, -1).replace(/""/g, '"');
                if (r.length === 0) a.t = "z";
                else if (t.raw) {
                    a.t = "s";
                    a.v = r
                }
                else if (r.trim().length === 0) {
                    a.t = "s";
                    a.v = r
                }
                else if (r.charCodeAt(0) == 61) {
                    if (r.charCodeAt(1) == 34 && r.charCodeAt(r.length - 1) == 34) {
                        a.t = "s";
                        a.v = r.slice(2, -1).replace(/""/g, '"')
                    }
                    else if (Iu(r)) {
                        a.t = "n";
                        a.f = r.slice(1)
                    }
                    else {
                        a.t = "s";
                        a.v = r
                    }
                }
                else if (r == "TRUE") {
                    a.t = "b";
                    a.v = true
                }
                else if (r == "FALSE") {
                    a.t = "b";
                    a.v = false
                }
                else if (!isNaN(c = kr(r))) {
                    a.t = "n";
                    if (t.cellText !== false) a.w = r;
                    a.v = c
                }
                else if (!isNaN(Er(r).getDate()) || b && r.match(b)) {
                    a.z = t.dateNF || X[14];
                    var i = 0;
                    if (b && r.match(b)) {
                        r = $e(r, t.dateNF, r.match(b) || []);
                        i = 1
                    }
                    if (t.cellDates) {
                        a.t = "d";
                        a.v = mr(r, i)
                    }
                    else {
                        a.t = "n";
                        a.v = fr(mr(r, i))
                    }
                    if (t.cellText !== false) a.w = Be(a.z, a.v instanceof Date ? fr(a.v) : a.v);
                    if (!t.cellNF) delete a.z
                }
                else {
                    a.t = "s";
                    a.v = r
                }
                if (a.t == "z") { }
                else if (t.dense) {
                    if (!n[f]) n[f] = [];
                    n[f][o] = a
                }
                else n[Oa(
                    {
                        c: o,
                        r: f
                    })] = a;
                l = u + 1;
                p = e.charCodeAt(l);
                if (s.e.c < o) s.e.c = o;
                if (s.e.r < f) s.e.r = f;
                if (v == h) ++o;
                else {
                    o = 0;
                    ++f;
                    if (t.sheetRows && t.sheetRows <= f) return true
                }
            }
            e: for (; u < e.length; ++u) switch (v = e.charCodeAt(u)) {
                case 34:
                    if (p === 34) d = !d;
                    break;
                case h:
                    ;
                case 10:
                    ;
                case 13:
                    if (!d && g()) break e;
                    break;
                default:
                    break;
            }
            if (u - l > 0) g();
            n["!ref"] = Na(s);
            return n
        }

        function f(e, t) {
            if (!(t && t.PRN)) return s(e, t);
            if (t.FS) return s(e, t);
            if (e.slice(0, 4) == "sep=") return s(e, t);
            if (e.indexOf("\t") >= 0 || e.indexOf(",") >= 0 || e.indexOf(";") >= 0) return s(e, t);
            return Ua(r(e, t), t)
        }

        function o(e, r) {
            var t = "",
                n = r.type == "string" ? [0, 0, 0, 0] : qg(e, r);
            switch (r.type) {
                case "base64":
                    t = k(e);
                    break;
                case "binary":
                    t = e;
                    break;
                case "buffer":
                    if (r.codepage == 65001) t = e.toString("utf8");
                    else if (r.codepage && typeof a !== "undefined") t = a.utils.decode(r.codepage, e);
                    else t = T && Buffer.isBuffer(e) ? e.toString("binary") : x(e);
                    break;
                case "array":
                    t = br(e);
                    break;
                case "string":
                    t = e;
                    break;
                default:
                    throw new Error("Unrecognized type " + r.type);
            }
            if (n[0] == 239 && n[1] == 187 && n[2] == 191) t = ct(t.slice(3));
            else if (r.type != "string" && r.type != "buffer" && r.codepage == 65001) t = ct(t);
            else if (r.type == "binary" && typeof a !== "undefined" && r.codepage) t = a.utils.decode(r.codepage, a.utils.encode(28591, t));
            if (t.slice(0, 19) == "socialcalc:version:") return _o.to_sheet(r.type == "string" ? t : ct(t), r);
            return f(t, r)
        }

        function c(e, r) {
            return La(o(e, r), r)
        }

        function l(e) {
            var r = [];
            var t = Fa(e["!ref"]),
                a;
            var n = Array.isArray(e);
            for (var i = t.s.r; i <= t.e.r; ++i) {
                var s = [];
                for (var f = t.s.c; f <= t.e.c; ++f) {
                    var o = Oa(
                        {
                            r: i,
                            c: f
                        });
                    a = n ? (e[i] || [])[f] : e[o];
                    if (!a || a.v == null) {
                        s.push("          ");
                        continue
                    }
                    var c = (a.w || (Pa(a), a.w) || "").slice(0, 10);
                    while (c.length < 10) c += " ";
                    s.push(c + (f === 0 ? " " : ""))
                }
                r.push(s.join(""))
            }
            return r.join("\n")
        }
        return {
            to_workbook: c,
            to_sheet: o,
            from_sheet: l
        }
    }();

    function xo(e, r) {
        var t = r ||
            {},
            a = !!t.WTF;
        t.WTF = true;
        try {
            var n = yo.to_workbook(e, t);
            t.WTF = a;
            return n
        }
        catch (i) {
            t.WTF = a;
            if (!i.message.match(/SYLK bad record ID/) && a) throw i;
            return Ao.to_workbook(e, r)
        }
    }
    var Co = function () {
        function e(e, r, t) {
            if (!e) return;
            la(e, e.l || 0);
            var a = t.Enum || W;
            while (e.l < e.length) {
                var n = e._R(2);
                var i = a[n] || a[65535];
                var s = e._R(2);
                var f = e.l + s;
                var o = i.f && i.f(e, s, t);
                e.l = f;
                if (r(o, i, n)) return
            }
        }

        function r(e, r) {
            switch (r.type) {
                case "base64":
                    return t(_(k(e)), r);
                case "binary":
                    return t(_(e), r);
                case "buffer":
                    ;
                case "array":
                    return t(e, r);
            }
            throw "Unsupported type " + r.type
        }

        function t(r, t) {
            if (!r) return r;
            var a = t ||
                {};
            if (m != null && a.dense == null) a.dense = m;
            var n = a.dense ? [] :
                {},
                i = "Sheet1",
                s = "",
                f = 0;
            var o = {},
                c = [],
                l = [];
            var u = {
                s:
                {
                    r: 0,
                    c: 0
                },
                e:
                {
                    r: 0,
                    c: 0
                }
            };
            var h = a.sheetRows || 0;
            if (r[2] == 0) {
                if (r[3] == 8 || r[3] == 9) {
                    if (r.length >= 16 && r[14] == 5 && r[15] === 108) throw new Error("Unsupported Works 3 for Mac file")
                }
            }
            if (r[2] == 2) {
                a.Enum = W;
                e(r, function (e, r, t) {
                    switch (t) {
                        case 0:
                            a.vers = e;
                            if (e >= 4096) a.qpro = true;
                            break;
                        case 6:
                            u = e;
                            break;
                        case 204:
                            if (e) s = e;
                            break;
                        case 222:
                            s = e;
                            break;
                        case 15:
                            ;
                        case 51:
                            if (!a.qpro) e[1].v = e[1].v.slice(1);
                        case 13:
                            ;
                        case 14:
                            ;
                        case 16:
                            if (t == 14 && (e[2] & 112) == 112 && (e[2] & 15) > 1 && (e[2] & 15) < 15) {
                                e[1].z = a.dateNF || X[14];
                                if (a.cellDates) {
                                    e[1].t = "d";
                                    e[1].v = ur(e[1].v)
                                }
                            }
                            if (a.qpro) {
                                if (e[3] > f) {
                                    n["!ref"] = Na(u);
                                    o[i] = n;
                                    c.push(i);
                                    n = a.dense ? [] :
                                        {};
                                    u = {
                                        s:
                                        {
                                            r: 0,
                                            c: 0
                                        },
                                        e:
                                        {
                                            r: 0,
                                            c: 0
                                        }
                                    };
                                    f = e[3];
                                    i = s || "Sheet" + (f + 1);
                                    s = ""
                                }
                            }
                            var l = a.dense ? (n[e[0].r] || [])[e[0].c] : n[Oa(e[0])];
                            if (l) {
                                l.t = e[1].t;
                                l.v = e[1].v;
                                if (e[1].z != null) l.z = e[1].z;
                                if (e[1].f != null) l.f = e[1].f;
                                break
                            }
                            if (a.dense) {
                                if (!n[e[0].r]) n[e[0].r] = [];
                                n[e[0].r][e[0].c] = e[1]
                            }
                            else n[Oa(e[0])] = e[1];
                            break;
                        default:
                            ;
                    }
                }, a)
            }
            else if (r[2] == 26 || r[2] == 14) {
                a.Enum = H;
                if (r[2] == 14) {
                    a.qpro = true;
                    r.l = 0
                }
                e(r, function (e, r, t) {
                    switch (t) {
                        case 204:
                            i = e;
                            break;
                        case 22:
                            e[1].v = e[1].v.slice(1);
                        case 23:
                            ;
                        case 24:
                            ;
                        case 25:
                            ;
                        case 37:
                            ;
                        case 39:
                            ;
                        case 40:
                            if (e[3] > f) {
                                n["!ref"] = Na(u);
                                o[i] = n;
                                c.push(i);
                                n = a.dense ? [] :
                                    {};
                                u = {
                                    s:
                                    {
                                        r: 0,
                                        c: 0
                                    },
                                    e:
                                    {
                                        r: 0,
                                        c: 0
                                    }
                                };
                                f = e[3];
                                i = "Sheet" + (f + 1)
                            }
                            if (h > 0 && e[0].r >= h) break;
                            if (a.dense) {
                                if (!n[e[0].r]) n[e[0].r] = [];
                                n[e[0].r][e[0].c] = e[1]
                            }
                            else n[Oa(e[0])] = e[1];
                            if (u.e.c < e[0].c) u.e.c = e[0].c;
                            if (u.e.r < e[0].r) u.e.r = e[0].r;
                            break;
                        case 27:
                            if (e[14e3]) l[e[14e3][0]] = e[14e3][1];
                            break;
                        case 1537:
                            l[e[0]] = e[1];
                            if (e[0] == f) i = e[1];
                            break;
                        default:
                            break;
                    }
                }, a)
            }
            else throw new Error("Unrecognized LOTUS BOF " + r[2]);
            n["!ref"] = Na(u);
            o[s || i] = n;
            c.push(s || i);
            if (!l.length) return {
                SheetNames: c,
                Sheets: o
            };
            var d = {},
                v = [];
            for (var p = 0; p < l.length; ++p)
                if (o[c[p]]) {
                    v.push(l[p] || c[p]);
                    d[l[p]] = o[l[p]] || o[c[p]]
                }
                else {
                    v.push(l[p]);
                    d[l[p]] = {
                        "!ref": "A1"
                    }
                }
            return {
                SheetNames: v,
                Sheets: d
            }
        }

        function a(e, r) {
            var t = r ||
                {};
            if (+t.codepage >= 0) o(+t.codepage);
            if (t.type == "string") throw new Error("Cannot write WK1 to JS string");
            var a = va();
            var n = Fa(e["!ref"]);
            var s = Array.isArray(e);
            var f = [];
            gb(a, 0, i(1030));
            gb(a, 6, c(n));
            var l = Math.min(n.e.r, 8191);
            for (var u = n.s.r; u <= l; ++u) {
                var d = Ta(u);
                for (var p = n.s.c; p <= n.e.c; ++p) {
                    if (u === n.s.r) f[p] = _a(p);
                    var m = f[p] + d;
                    var g = s ? (e[u] || [])[p] : e[m];
                    if (!g || g.t == "z") continue;
                    if (g.t == "n") {
                        if ((g.v | 0) == g.v && g.v >= -32768 && g.v <= 32767) gb(a, 13, v(u, p, g.v));
                        else gb(a, 14, b(u, p, g.v))
                    }
                    else {
                        var w = Pa(g);
                        gb(a, 15, h(u, p, w.slice(0, 239)))
                    }
                }
            }
            gb(a, 1);
            return a.end()
        }

        function n(e, r) {
            var t = r ||
                {};
            if (+t.codepage >= 0) o(+t.codepage);
            if (t.type == "string") throw new Error("Cannot write WK3 to JS string");
            var a = va();
            gb(a, 0, s(e));
            for (var n = 0, i = 0; n < e.SheetNames.length; ++n)
                if ((e.Sheets[e.SheetNames[n]] ||
                    {})["!ref"]) gb(a, 27, B(e.SheetNames[n], i++));
            var f = 0;
            for (n = 0; n < e.SheetNames.length; ++n) {
                var c = e.Sheets[e.SheetNames[n]];
                if (!c || !c["!ref"]) continue;
                var l = Fa(c["!ref"]);
                var u = Array.isArray(c);
                var h = [];
                var d = Math.min(l.e.r, 8191);
                for (var v = l.s.r; v <= d; ++v) {
                    var p = Ta(v);
                    for (var m = l.s.c; m <= l.e.c; ++m) {
                        if (v === l.s.r) h[m] = _a(m);
                        var b = h[m] + p;
                        var g = u ? (c[v] || [])[m] : c[b];
                        if (!g || g.t == "z") continue;
                        if (g.t == "n") {
                            gb(a, 23, O(v, m, f, g.v))
                        }
                        else {
                            var w = Pa(g);
                            gb(a, 22, x(v, m, f, w.slice(0, 239)))
                        }
                    }
                } ++f
            }
            gb(a, 1);
            return a.end()
        }

        function i(e) {
            var r = ha(2);
            r._W(2, e);
            return r
        }

        function s(e) {
            var r = ha(26);
            r._W(2, 4096);
            r._W(2, 4);
            r._W(4, 0);
            var t = 0,
                a = 0,
                n = 0;
            for (var i = 0; i < e.SheetNames.length; ++i) {
                var s = e.SheetNames[i];
                var f = e.Sheets[s];
                if (!f || !f["!ref"]) continue;
                ++n;
                var o = Ia(f["!ref"]);
                if (t < o.e.r) t = o.e.r;
                if (a < o.e.c) a = o.e.c
            }
            if (t > 8191) t = 8191;
            r._W(2, t);
            r._W(1, n);
            r._W(1, a);
            r._W(2, 0);
            r._W(2, 0);
            r._W(1, 1);
            r._W(1, 2);
            r._W(4, 0);
            r._W(4, 0);
            return r
        }

        function f(e, r, t) {
            var a = {
                s:
                {
                    c: 0,
                    r: 0
                },
                e:
                {
                    c: 0,
                    r: 0
                }
            };
            if (r == 8 && t.qpro) {
                a.s.c = e._R(1);
                e.l++;
                a.s.r = e._R(2);
                a.e.c = e._R(1);
                e.l++;
                a.e.r = e._R(2);
                return a
            }
            a.s.c = e._R(2);
            a.s.r = e._R(2);
            if (r == 12 && t.qpro) e.l += 2;
            a.e.c = e._R(2);
            a.e.r = e._R(2);
            if (r == 12 && t.qpro) e.l += 2;
            if (a.s.c == 65535) a.s.c = a.e.c = a.s.r = a.e.r = 0;
            return a
        }

        function c(e) {
            var r = ha(8);
            r._W(2, e.s.c);
            r._W(2, e.s.r);
            r._W(2, e.e.c);
            r._W(2, e.e.r);
            return r
        }

        function l(e, r, t) {
            var a = [
                {
                    c: 0,
                    r: 0
                },
                {
                    t: "n",
                    v: 0
                }, 0, 0];
            if (t.qpro && t.vers != 20768) {
                a[0].c = e._R(1);
                a[3] = e._R(1);
                a[0].r = e._R(2);
                e.l += 2
            }
            else {
                a[2] = e._R(1);
                a[0].c = e._R(2);
                a[0].r = e._R(2)
            }
            return a
        }

        function u(e, r, t) {
            var a = e.l + r;
            var n = l(e, r, t);
            n[1].t = "s";
            if (t.vers == 20768) {
                e.l++;
                var i = e._R(1);
                n[1].v = e._R(i, "utf8");
                return n
            }
            if (t.qpro) e.l++;
            n[1].v = e._R(a - e.l, "cstr");
            return n
        }

        function h(e, r, t) {
            var a = ha(7 + t.length);
            a._W(1, 255);
            a._W(2, r);
            a._W(2, e);
            a._W(1, 39);
            for (var n = 0; n < a.length; ++n) {
                var i = t.charCodeAt(n);
                a._W(1, i >= 128 ? 95 : i)
            }
            a._W(1, 0);
            return a
        }

        function d(e, r, t) {
            var a = l(e, r, t);
            a[1].v = e._R(2, "i");
            return a
        }

        function v(e, r, t) {
            var a = ha(7);
            a._W(1, 255);
            a._W(2, r);
            a._W(2, e);
            a._W(2, t, "i");
            return a
        }

        function p(e, r, t) {
            var a = l(e, r, t);
            a[1].v = e._R(8, "f");
            return a
        }

        function b(e, r, t) {
            var a = ha(13);
            a._W(1, 255);
            a._W(2, r);
            a._W(2, e);
            a._W(8, t, "f");
            return a
        }

        function g(e, r, t) {
            var a = e.l + r;
            var n = l(e, r, t);
            n[1].v = e._R(8, "f");
            if (t.qpro) e.l = a;
            else {
                var i = e._R(2);
                y(e.slice(e.l, e.l + i), n);
                e.l += i
            }
            return n
        }

        function w(e, r, t) {
            var a = r & 32768;
            r &= ~32768;
            r = (a ? e : 0) + (r >= 8192 ? r - 16384 : r);
            return (a ? "" : "$") + (t ? _a(r) : Ta(r))
        }
        var T = {
            51: ["FALSE", 0],
            52: ["TRUE", 0],
            70: ["LEN", 1],
            80: ["SUM", 69],
            81: ["AVERAGEA", 69],
            82: ["COUNTA", 69],
            83: ["MINA", 69],
            84: ["MAXA", 69],
            111: ["T", 1]
        };
        var E = ["", "", "", "", "", "", "", "", "", "+", "-", "*", "/", "^", "=", "<>", "<=", ">=", "<", ">", "", "", "", "", "&", "", "", "", "", "", "", ""];

        function y(e, r) {
            la(e, 0);
            var t = [],
                a = 0,
                n = "",
                i = "",
                s = "",
                f = "";
            while (e.l < e.length) {
                var o = e[e.l++];
                switch (o) {
                    case 0:
                        t.push(e._R(8, "f"));
                        break;
                    case 1:
                        {
                            i = w(r[0].c, e._R(2), true);
                            n = w(r[0].r, e._R(2), false);
                            t.push(i + n)
                        }
                        break;
                    case 2:
                        {
                            var c = w(r[0].c, e._R(2), true);
                            var l = w(r[0].r, e._R(2), false);
                            i = w(r[0].c, e._R(2), true);
                            n = w(r[0].r, e._R(2), false);
                            t.push(c + l + ":" + i + n)
                        }
                        break;
                    case 3:
                        if (e.l < e.length) {
                            console.error("WK1 premature formula end");
                            return
                        }
                        break;
                    case 4:
                        t.push("(" + t.pop() + ")");
                        break;
                    case 5:
                        t.push(e._R(2));
                        break;
                    case 6:
                        {
                            var u = "";
                            while (o = e[e.l++]) u += String.fromCharCode(o);
                            t.push('"' + u.replace(/"/g, '""') + '"')
                        }
                        break;
                    case 8:
                        t.push("-" + t.pop());
                        break;
                    case 23:
                        t.push("+" + t.pop());
                        break;
                    case 22:
                        t.push("NOT(" + t.pop() + ")");
                        break;
                    case 20:
                        ;
                    case 21:
                        {
                            f = t.pop();
                            s = t.pop();
                            t.push(["AND", "OR"][o - 20] + "(" + s + "," + f + ")")
                        }
                        break;
                    default:
                        if (o < 32 && E[o]) {
                            f = t.pop();
                            s = t.pop();
                            t.push(s + E[o] + f)
                        }
                        else if (T[o]) {
                            a = T[o][1];
                            if (a == 69) a = e[e.l++];
                            if (a > t.length) {
                                console.error("WK1 bad formula parse 0x" + o.toString(16) + ":|" + t.join("|") + "|");
                                return
                            }
                            var h = t.slice(-a);
                            t.length -= a;
                            t.push(T[o][0] + "(" + h.join(",") + ")")
                        }
                        else if (o <= 7) return console.error("WK1 invalid opcode " + o.toString(16));
                        else if (o <= 24) return console.error("WK1 unsupported op " + o.toString(16));
                        else if (o <= 30) return console.error("WK1 invalid opcode " + o.toString(16));
                        else if (o <= 115) return console.error("WK1 unsupported function opcode " + o.toString(16));
                        else return console.error("WK1 unrecognized opcode " + o.toString(16));
                }
            }
            if (t.length == 1) r[1].f = "" + t[0];
            else console.error("WK1 bad formula parse |" + t.join("|") + "|")
        }

        function S(e) {
            var r = [
                {
                    c: 0,
                    r: 0
                },
                {
                    t: "n",
                    v: 0
                }, 0];
            r[0].r = e._R(2);
            r[3] = e[e.l++];
            r[0].c = e[e.l++];
            return r
        }

        function A(e, r) {
            var t = S(e, r);
            t[1].t = "s";
            t[1].v = e._R(r - 4, "cstr");
            return t
        }

        function x(e, r, t, a) {
            var n = ha(6 + a.length);
            n._W(2, e);
            n._W(1, t);
            n._W(1, r);
            n._W(1, 39);
            for (var i = 0; i < a.length; ++i) {
                var s = a.charCodeAt(i);
                n._W(1, s >= 128 ? 95 : s)
            }
            n._W(1, 0);
            return n
        }

        function C(e, r) {
            var t = S(e, r);
            t[1].v = e._R(2);
            var a = t[1].v >> 1;
            if (t[1].v & 1) {
                switch (a & 7) {
                    case 0:
                        a = (a >> 3) * 5e3;
                        break;
                    case 1:
                        a = (a >> 3) * 500;
                        break;
                    case 2:
                        a = (a >> 3) / 20;
                        break;
                    case 3:
                        a = (a >> 3) / 200;
                        break;
                    case 4:
                        a = (a >> 3) / 2e3;
                        break;
                    case 5:
                        a = (a >> 3) / 2e4;
                        break;
                    case 6:
                        a = (a >> 3) / 16;
                        break;
                    case 7:
                        a = (a >> 3) / 64;
                        break;
                }
            }
            t[1].v = a;
            return t
        }

        function R(e, r) {
            var t = S(e, r);
            var a = e._R(4);
            var n = e._R(4);
            var i = e._R(2);
            if (i == 65535) {
                if (a === 0 && n === 3221225472) {
                    t[1].t = "e";
                    t[1].v = 15
                }
                else if (a === 0 && n === 3489660928) {
                    t[1].t = "e";
                    t[1].v = 42
                }
                else t[1].v = 0;
                return t
            }
            var s = i & 32768;
            i = (i & 32767) - 16446;
            t[1].v = (1 - s * 2) * (n * Math.pow(2, i + 32) + a * Math.pow(2, i));
            return t
        }

        function O(e, r, t, a) {
            var n = ha(14);
            n._W(2, e);
            n._W(1, t);
            n._W(1, r);
            if (a == 0) {
                n._W(4, 0);
                n._W(4, 0);
                n._W(2, 65535);
                return n
            }
            var i = 0,
                s = 0,
                f = 0,
                o = 0;
            if (a < 0) {
                i = 1;
                a = -a
            }
            s = Math.log2(a) | 0;
            a /= Math.pow(2, s - 31);
            o = a >>> 0;
            if ((o & 2147483648) == 0) {
                a /= 2;
                ++s;
                o = a >>> 0
            }
            a -= o;
            o |= 2147483648;
            o >>>= 0;
            a *= Math.pow(2, 32);
            f = a >>> 0;
            n._W(4, f);
            n._W(4, o);
            s += 16383 + (i ? 32768 : 0);
            n._W(2, s);
            return n
        }

        function I(e, r) {
            var t = R(e, 14);
            e.l += r - 14;
            return t
        }

        function N(e, r) {
            var t = S(e, r);
            var a = e._R(4);
            t[1].v = a >> 6;
            return t
        }

        function F(e, r) {
            var t = S(e, r);
            var a = e._R(8, "f");
            t[1].v = a;
            return t
        }

        function D(e, r) {
            var t = F(e, 14);
            e.l += r - 10;
            return t
        }

        function P(e, r) {
            return e[e.l + r - 1] == 0 ? e._R(r, "cstr") : ""
        }

        function L(e, r) {
            var t = e[e.l++];
            if (t > r - 1) t = r - 1;
            var a = "";
            while (a.length < t) a += String.fromCharCode(e[e.l++]);
            return a
        }

        function M(e, r, t) {
            if (!t.qpro || r < 21) return;
            var a = e._R(1);
            e.l += 17;
            e.l += 1;
            e.l += 2;
            var n = e._R(r - 21, "cstr");
            return [a, n]
        }

        function U(e, r) {
            var t = {},
                a = e.l + r;
            while (e.l < a) {
                var n = e._R(2);
                if (n == 14e3) {
                    t[n] = [0, ""];
                    t[n][0] = e._R(2);
                    while (e[e.l]) {
                        t[n][1] += String.fromCharCode(e[e.l]);
                        e.l++
                    }
                    e.l++
                }
            }
            return t
        }

        function B(e, r) {
            var t = ha(5 + e.length);
            t._W(2, 14e3);
            t._W(2, r);
            for (var a = 0; a < e.length; ++a) {
                var n = e.charCodeAt(a);
                t[t.l++] = n > 127 ? 95 : n
            }
            t[t.l++] = 0;
            return t
        }
        var W = {
            0:
            {
                n: "BOF",
                f: es
            },
            1:
            {
                n: "EOF"
            },
            2:
            {
                n: "CALCMODE"
            },
            3:
            {
                n: "CALCORDER"
            },
            4:
            {
                n: "SPLIT"
            },
            5:
            {
                n: "SYNC"
            },
            6:
            {
                n: "RANGE",
                f: f
            },
            7:
            {
                n: "WINDOW1"
            },
            8:
            {
                n: "COLW1"
            },
            9:
            {
                n: "WINTWO"
            },
            10:
            {
                n: "COLW2"
            },
            11:
            {
                n: "NAME"
            },
            12:
            {
                n: "BLANK"
            },
            13:
            {
                n: "INTEGER",
                f: d
            },
            14:
            {
                n: "NUMBER",
                f: p
            },
            15:
            {
                n: "LABEL",
                f: u
            },
            16:
            {
                n: "FORMULA",
                f: g
            },
            24:
            {
                n: "TABLE"
            },
            25:
            {
                n: "ORANGE"
            },
            26:
            {
                n: "PRANGE"
            },
            27:
            {
                n: "SRANGE"
            },
            28:
            {
                n: "FRANGE"
            },
            29:
            {
                n: "KRANGE1"
            },
            32:
            {
                n: "HRANGE"
            },
            35:
            {
                n: "KRANGE2"
            },
            36:
            {
                n: "PROTEC"
            },
            37:
            {
                n: "FOOTER"
            },
            38:
            {
                n: "HEADER"
            },
            39:
            {
                n: "SETUP"
            },
            40:
            {
                n: "MARGINS"
            },
            41:
            {
                n: "LABELFMT"
            },
            42:
            {
                n: "TITLES"
            },
            43:
            {
                n: "SHEETJS"
            },
            45:
            {
                n: "GRAPH"
            },
            46:
            {
                n: "NGRAPH"
            },
            47:
            {
                n: "CALCCOUNT"
            },
            48:
            {
                n: "UNFORMATTED"
            },
            49:
            {
                n: "CURSORW12"
            },
            50:
            {
                n: "WINDOW"
            },
            51:
            {
                n: "STRING",
                f: u
            },
            55:
            {
                n: "PASSWORD"
            },
            56:
            {
                n: "LOCKED"
            },
            60:
            {
                n: "QUERY"
            },
            61:
            {
                n: "QUERYNAME"
            },
            62:
            {
                n: "PRINT"
            },
            63:
            {
                n: "PRINTNAME"
            },
            64:
            {
                n: "GRAPH2"
            },
            65:
            {
                n: "GRAPHNAME"
            },
            66:
            {
                n: "ZOOM"
            },
            67:
            {
                n: "SYMSPLIT"
            },
            68:
            {
                n: "NSROWS"
            },
            69:
            {
                n: "NSCOLS"
            },
            70:
            {
                n: "RULER"
            },
            71:
            {
                n: "NNAME"
            },
            72:
            {
                n: "ACOMM"
            },
            73:
            {
                n: "AMACRO"
            },
            74:
            {
                n: "PARSE"
            },
            102:
            {
                n: "PRANGES??"
            },
            103:
            {
                n: "RRANGES??"
            },
            104:
            {
                n: "FNAME??"
            },
            105:
            {
                n: "MRANGES??"
            },
            204:
            {
                n: "SHEETNAMECS",
                f: P
            },
            222:
            {
                n: "SHEETNAMELP",
                f: L
            },
            65535:
            {
                n: ""
            }
        };
        var H = {
            0:
            {
                n: "BOF"
            },
            1:
            {
                n: "EOF"
            },
            2:
            {
                n: "PASSWORD"
            },
            3:
            {
                n: "CALCSET"
            },
            4:
            {
                n: "WINDOWSET"
            },
            5:
            {
                n: "SHEETCELLPTR"
            },
            6:
            {
                n: "SHEETLAYOUT"
            },
            7:
            {
                n: "COLUMNWIDTH"
            },
            8:
            {
                n: "HIDDENCOLUMN"
            },
            9:
            {
                n: "USERRANGE"
            },
            10:
            {
                n: "SYSTEMRANGE"
            },
            11:
            {
                n: "ZEROFORCE"
            },
            12:
            {
                n: "SORTKEYDIR"
            },
            13:
            {
                n: "FILESEAL"
            },
            14:
            {
                n: "DATAFILLNUMS"
            },
            15:
            {
                n: "PRINTMAIN"
            },
            16:
            {
                n: "PRINTSTRING"
            },
            17:
            {
                n: "GRAPHMAIN"
            },
            18:
            {
                n: "GRAPHSTRING"
            },
            19:
            {
                n: "??"
            },
            20:
            {
                n: "ERRCELL"
            },
            21:
            {
                n: "NACELL"
            },
            22:
            {
                n: "LABEL16",
                f: A
            },
            23:
            {
                n: "NUMBER17",
                f: R
            },
            24:
            {
                n: "NUMBER18",
                f: C
            },
            25:
            {
                n: "FORMULA19",
                f: I
            },
            26:
            {
                n: "FORMULA1A"
            },
            27:
            {
                n: "XFORMAT",
                f: U
            },
            28:
            {
                n: "DTLABELMISC"
            },
            29:
            {
                n: "DTLABELCELL"
            },
            30:
            {
                n: "GRAPHWINDOW"
            },
            31:
            {
                n: "CPA"
            },
            32:
            {
                n: "LPLAUTO"
            },
            33:
            {
                n: "QUERY"
            },
            34:
            {
                n: "HIDDENSHEET"
            },
            35:
            {
                n: "??"
            },
            37:
            {
                n: "NUMBER25",
                f: N
            },
            38:
            {
                n: "??"
            },
            39:
            {
                n: "NUMBER27",
                f: F
            },
            40:
            {
                n: "FORMULA28",
                f: D
            },
            142:
            {
                n: "??"
            },
            147:
            {
                n: "??"
            },
            150:
            {
                n: "??"
            },
            151:
            {
                n: "??"
            },
            152:
            {
                n: "??"
            },
            153:
            {
                n: "??"
            },
            154:
            {
                n: "??"
            },
            155:
            {
                n: "??"
            },
            156:
            {
                n: "??"
            },
            163:
            {
                n: "??"
            },
            174:
            {
                n: "??"
            },
            175:
            {
                n: "??"
            },
            176:
            {
                n: "??"
            },
            177:
            {
                n: "??"
            },
            184:
            {
                n: "??"
            },
            185:
            {
                n: "??"
            },
            186:
            {
                n: "??"
            },
            187:
            {
                n: "??"
            },
            188:
            {
                n: "??"
            },
            195:
            {
                n: "??"
            },
            201:
            {
                n: "??"
            },
            204:
            {
                n: "SHEETNAMECS",
                f: P
            },
            205:
            {
                n: "??"
            },
            206:
            {
                n: "??"
            },
            207:
            {
                n: "??"
            },
            208:
            {
                n: "??"
            },
            256:
            {
                n: "??"
            },
            259:
            {
                n: "??"
            },
            260:
            {
                n: "??"
            },
            261:
            {
                n: "??"
            },
            262:
            {
                n: "??"
            },
            263:
            {
                n: "??"
            },
            265:
            {
                n: "??"
            },
            266:
            {
                n: "??"
            },
            267:
            {
                n: "??"
            },
            268:
            {
                n: "??"
            },
            270:
            {
                n: "??"
            },
            271:
            {
                n: "??"
            },
            384:
            {
                n: "??"
            },
            389:
            {
                n: "??"
            },
            390:
            {
                n: "??"
            },
            393:
            {
                n: "??"
            },
            396:
            {
                n: "??"
            },
            512:
            {
                n: "??"
            },
            514:
            {
                n: "??"
            },
            513:
            {
                n: "??"
            },
            516:
            {
                n: "??"
            },
            517:
            {
                n: "??"
            },
            640:
            {
                n: "??"
            },
            641:
            {
                n: "??"
            },
            642:
            {
                n: "??"
            },
            643:
            {
                n: "??"
            },
            644:
            {
                n: "??"
            },
            645:
            {
                n: "??"
            },
            646:
            {
                n: "??"
            },
            647:
            {
                n: "??"
            },
            648:
            {
                n: "??"
            },
            658:
            {
                n: "??"
            },
            659:
            {
                n: "??"
            },
            660:
            {
                n: "??"
            },
            661:
            {
                n: "??"
            },
            662:
            {
                n: "??"
            },
            665:
            {
                n: "??"
            },
            666:
            {
                n: "??"
            },
            768:
            {
                n: "??"
            },
            772:
            {
                n: "??"
            },
            1537:
            {
                n: "SHEETINFOQP",
                f: M
            },
            1600:
            {
                n: "??"
            },
            1602:
            {
                n: "??"
            },
            1793:
            {
                n: "??"
            },
            1794:
            {
                n: "??"
            },
            1795:
            {
                n: "??"
            },
            1796:
            {
                n: "??"
            },
            1920:
            {
                n: "??"
            },
            2048:
            {
                n: "??"
            },
            2049:
            {
                n: "??"
            },
            2052:
            {
                n: "??"
            },
            2688:
            {
                n: "??"
            },
            10998:
            {
                n: "??"
            },
            12849:
            {
                n: "??"
            },
            28233:
            {
                n: "??"
            },
            28484:
            {
                n: "??"
            },
            65535:
            {
                n: ""
            }
        };
        return {
            sheet_to_wk1: a,
            book_to_wk3: n,
            to_workbook: r
        }
    }();

    function Ro(e) {
        var r = {},
            t = e.match(Hr),
            a = 0;
        var n = false;
        if (t)
            for (; a != t.length; ++a) {
                var s = Gr(t[a]);
                switch (s[0].replace(/\w*:/g, "")) {
                    case "<condense":
                        break;
                    case "<extend":
                        break;
                    case "<shadow":
                        if (!s.val) break;
                    case "<shadow>":
                        ;
                    case "<shadow/>":
                        r.shadow = 1;
                        break;
                    case "</shadow>":
                        break;
                    case "<charset":
                        if (s.val == "1") break;
                        r.cp = i[parseInt(s.val, 10)];
                        break;
                    case "<outline":
                        if (!s.val) break;
                    case "<outline>":
                        ;
                    case "<outline/>":
                        r.outline = 1;
                        break;
                    case "</outline>":
                        break;
                    case "<rFont":
                        r.name = s.val;
                        break;
                    case "<sz":
                        r.sz = s.val;
                        break;
                    case "<strike":
                        if (!s.val) break;
                    case "<strike>":
                        ;
                    case "<strike/>":
                        r.strike = 1;
                        break;
                    case "</strike>":
                        break;
                    case "<u":
                        if (!s.val) break;
                        switch (s.val) {
                            case "double":
                                r.uval = "double";
                                break;
                            case "singleAccounting":
                                r.uval = "single-accounting";
                                break;
                            case "doubleAccounting":
                                r.uval = "double-accounting";
                                break;
                        };
                    case "<u>":
                        ;
                    case "<u/>":
                        r.u = 1;
                        break;
                    case "</u>":
                        break;
                    case "<b":
                        if (s.val == "0") break;
                    case "<b>":
                        ;
                    case "<b/>":
                        r.b = 1;
                        break;
                    case "</b>":
                        break;
                    case "<i":
                        if (s.val == "0") break;
                    case "<i>":
                        ;
                    case "<i/>":
                        r.i = 1;
                        break;
                    case "</i>":
                        break;
                    case "<color":
                        if (s.rgb) r.color = s.rgb.slice(2, 8);
                        break;
                    case "<color>":
                        ;
                    case "<color/>":
                        ;
                    case "</color>":
                        break;
                    case "<family":
                        r.family = s.val;
                        break;
                    case "<family>":
                        ;
                    case "<family/>":
                        ;
                    case "</family>":
                        break;
                    case "<vertAlign":
                        r.valign = s.val;
                        break;
                    case "<vertAlign>":
                        ;
                    case "<vertAlign/>":
                        ;
                    case "</vertAlign>":
                        break;
                    case "<scheme":
                        break;
                    case "<scheme>":
                        ;
                    case "<scheme/>":
                        ;
                    case "</scheme>":
                        break;
                    case "<extLst":
                        ;
                    case "<extLst>":
                        ;
                    case "</extLst>":
                        break;
                    case "<ext":
                        n = true;
                        break;
                    case "</ext>":
                        n = false;
                        break;
                    default:
                        if (s[0].charCodeAt(1) !== 47 && !n) throw new Error("Unrecognized rich format " + s[0]);
                }
            }
        return r
    }
    var Oo = function () {
        var e = ut("t"),
            r = ut("rPr");

        function t(t) {
            var a = t.match(e);
            if (!a) return {
                t: "s",
                v: ""
            };
            var n = {
                t: "s",
                v: Yr(a[1])
            };
            var i = t.match(r);
            if (i) n.s = Ro(i[1]);
            return n
        }
        var a = /<(?:\w+:)?r>/g,
            n = /<\/(?:\w+:)?r>/;
        return function i(e) {
            return e.replace(a, "").split(n).map(t).filter(function (e) {
                return e.v
            })
        }
    }();
    var Io = function uk() {
        var e = /(\r\n|\n)/g;

        function r(e, r, t) {
            var a = [];
            if (e.u) a.push("text-decoration: underline;");
            if (e.uval) a.push("text-underline-style:" + e.uval + ";");
            if (e.sz) a.push("font-size:" + e.sz + "pt;");
            if (e.outline) a.push("text-effect: outline;");
            if (e.shadow) a.push("text-shadow: auto;");
            r.push('<span style="' + a.join("") + '">');
            if (e.b) {
                r.push("<b>");
                t.push("</b>")
            }
            if (e.i) {
                r.push("<i>");
                t.push("</i>")
            }
            if (e.strike) {
                r.push("<s>");
                t.push("</s>")
            }
            var n = e.valign || "";
            if (n == "superscript" || n == "super") n = "sup";
            else if (n == "subscript") n = "sub";
            if (n != "") {
                r.push("<" + n + ">");
                t.push("</" + n + ">")
            }
            t.push("</span>");
            return e
        }

        function t(t) {
            var a = [
                [], t.v, []
            ];
            if (!t.v) return "";
            if (t.s) r(t.s, a[0], a[2]);
            return a[0].join("") + a[1].replace(e, "<br/>") + a[2].join("")
        }
        return function a(e) {
            return e.map(t).join("")
        }
    }();
    var No = /<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,
        Fo = /<(?:\w+:)?r>/;
    var Do = /<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;

    function Po(e, r) {
        var t = r ? r.cellHTML : true;
        var a = {};
        if (!e) return {
            t: ""
        };
        if (e.match(/^\s*<(?:\w+:)?t[^>]*>/)) {
            a.t = Yr(ct(e.slice(e.indexOf(">") + 1).split(/<\/(?:\w+:)?t>/)[0] || ""));
            a.r = ct(e);
            if (t) a.h = et(a.t)
        }
        else if (e.match(Fo)) {
            a.r = ct(e);
            a.t = Yr(ct((e.replace(Do, "").match(No) || []).join("").replace(Hr, "")));
            if (t) a.h = Io(Oo(a.r))
        }
        return a
    }
    var Lo = /<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/;
    var Mo = /<(?:\w+:)?(?:si|sstItem)>/g;
    var Uo = /<\/(?:\w+:)?(?:si|sstItem)>/;

    function Bo(e, r) {
        var t = [],
            a = "";
        if (!e) return t;
        var n = e.match(Lo);
        if (n) {
            a = n[2].replace(Mo, "").split(Uo);
            for (var i = 0; i != a.length; ++i) {
                var s = Po(a[i].trim(), r);
                if (s != null) t[t.length] = s
            }
            n = Gr(n[1]);
            t.Count = n.count;
            t.Unique = n.uniqueCount
        }
        return t
    }
    var Wo = /^\s|\s$|[\t\n\r]/;

    function Ho(e, r) {
        if (!r.bookSST) return "";
        var t = [Mr];
        t[t.length] = kt("sst", null,
            {
                xmlns: At[0],
                count: e.Count,
                uniqueCount: e.Unique
            });
        for (var a = 0; a != e.length; ++a) {
            if (e[a] == null) continue;
            var n = e[a];
            var i = "<si>";
            if (n.r) i += n.r;
            else {
                i += "<t";
                if (!n.t) n.t = "";
                if (n.t.match(Wo)) i += ' xml:space="preserve"';
                i += ">" + qr(n.t) + "</t>"
            }
            i += "</si>";
            t[t.length] = i
        }
        if (t.length > 2) {
            t[t.length] = "</sst>";
            t[1] = t[1].replace("/>", ">")
        }
        return t.join("")
    }

    function zo(e) {
        return [e._R(4), e._R(4)]
    }

    function Vo(e, r) {
        var t = [];
        var a = false;
        da(e, function n(e, i, s) {
            switch (s) {
                case 159:
                    t.Count = e[0];
                    t.Unique = e[1];
                    break;
                case 19:
                    t.push(e);
                    break;
                case 160:
                    return true;
                case 35:
                    a = true;
                    break;
                case 36:
                    a = false;
                    break;
                default:
                    if (i.T) { }
                    if (!a || r.WTF) throw new Error("Unexpected record 0x" + s.toString(16));
            }
        });
        return t
    }

    function Go(e, r) {
        if (!r) r = ha(8);
        r._W(4, e.Count);
        r._W(4, e.Unique);
        return r
    }
    var jo = Xa;

    function Xo(e) {
        var r = va();
        pa(r, 159, Go(e));
        for (var t = 0; t < e.length; ++t) pa(r, 19, jo(e[t]));
        pa(r, 160);
        return r.end()
    }

    function $o(e) {
        if (typeof a !== "undefined") return a.utils.encode(t, e);
        var r = [],
            n = e.split("");
        for (var i = 0; i < n.length; ++i) r[i] = n[i].charCodeAt(0);
        return r
    }

    function Yo(e, r) {
        var t = {};
        t.Major = e._R(2);
        t.Minor = e._R(2);
        if (r >= 4) e.l += r - 4;
        return t
    }

    function Ko(e) {
        var r = {};
        r.id = e._R(0, "lpp4");
        r.R = Yo(e, 4);
        r.U = Yo(e, 4);
        r.W = Yo(e, 4);
        return r
    }

    function Jo(e) {
        var r = e._R(4);
        var t = e.l + r - 4;
        var a = {};
        var n = e._R(4);
        var i = [];
        while (n-- > 0) i.push(
            {
                t: e._R(4),
                v: e._R(0, "lpp4")
            });
        a.name = e._R(0, "lpp4");
        a.comps = i;
        if (e.l != t) throw new Error("Bad DataSpaceMapEntry: " + e.l + " != " + t);
        return a
    }

    function qo(e) {
        var r = [];
        e.l += 4;
        var t = e._R(4);
        while (t-- > 0) r.push(Jo(e));
        return r
    }

    function Zo(e) {
        var r = [];
        e.l += 4;
        var t = e._R(4);
        while (t-- > 0) r.push(e._R(0, "lpp4"));
        return r
    }

    function Qo(e) {
        var r = {};
        e._R(4);
        e.l += 4;
        r.id = e._R(0, "lpp4");
        r.name = e._R(0, "lpp4");
        r.R = Yo(e, 4);
        r.U = Yo(e, 4);
        r.W = Yo(e, 4);
        return r
    }

    function ec(e) {
        var r = Qo(e);
        r.ename = e._R(0, "8lpp4");
        r.blksz = e._R(4);
        r.cmode = e._R(4);
        if (e._R(4) != 4) throw new Error("Bad !Primary record");
        return r
    }

    function rc(e, r) {
        var t = e.l + r;
        var a = {};
        a.Flags = e._R(4) & 63;
        e.l += 4;
        a.AlgID = e._R(4);
        var n = false;
        switch (a.AlgID) {
            case 26126:
                ;
            case 26127:
                ;
            case 26128:
                n = a.Flags == 36;
                break;
            case 26625:
                n = a.Flags == 4;
                break;
            case 0:
                n = a.Flags == 16 || a.Flags == 4 || a.Flags == 36;
                break;
            default:
                throw "Unrecognized encryption algorithm: " + a.AlgID;
        }
        if (!n) throw new Error("Encryption Flags/AlgID mismatch");
        a.AlgIDHash = e._R(4);
        a.KeySize = e._R(4);
        a.ProviderType = e._R(4);
        e.l += 8;
        a.CSPName = e._R(t - e.l >> 1, "utf16le");
        e.l = t;
        return a
    }

    function tc(e, r) {
        var t = {},
            a = e.l + r;
        e.l += 4;
        t.Salt = e.slice(e.l, e.l + 16);
        e.l += 16;
        t.Verifier = e.slice(e.l, e.l + 16);
        e.l += 16;
        e._R(4);
        t.VerifierHash = e.slice(e.l, a);
        e.l = a;
        return t
    }

    function ac(e) {
        var r = Yo(e);
        switch (r.Minor) {
            case 2:
                return [r.Minor, nc(e, r)];
            case 3:
                return [r.Minor, ic(e, r)];
            case 4:
                return [r.Minor, sc(e, r)];
        }
        throw new Error("ECMA-376 Encrypted file unrecognized Version: " + r.Minor)
    }

    function nc(e) {
        var r = e._R(4);
        if ((r & 63) != 36) throw new Error("EncryptionInfo mismatch");
        var t = e._R(4);
        var a = rc(e, t);
        var n = tc(e, e.length - e.l);
        return {
            t: "Std",
            h: a,
            v: n
        }
    }

    function ic() {
        throw new Error("File is password-protected: ECMA-376 Extensible")
    }

    function sc(e) {
        var r = ["saltSize", "blockSize", "keyBits", "hashSize", "cipherAlgorithm", "cipherChaining", "hashAlgorithm", "saltValue"];
        e.l += 4;
        var t = e._R(e.length - e.l, "utf8");
        var a = {};
        t.replace(Hr, function n(e) {
            var t = Gr(e);
            switch (jr(t[0])) {
                case "<?xml":
                    break;
                case "<encryption":
                    ;
                case "</encryption>":
                    break;
                case "<keyData":
                    r.forEach(function (e) {
                        a[e] = t[e]
                    });
                    break;
                case "<dataIntegrity":
                    a.encryptedHmacKey = t.encryptedHmacKey;
                    a.encryptedHmacValue = t.encryptedHmacValue;
                    break;
                case "<keyEncryptors>":
                    ;
                case "<keyEncryptors":
                    a.encs = [];
                    break;
                case "</keyEncryptors>":
                    break;
                case "<keyEncryptor":
                    a.uri = t.uri;
                    break;
                case "</keyEncryptor>":
                    break;
                case "<encryptedKey":
                    a.encs.push(t);
                    break;
                default:
                    throw t[0];
            }
        });
        return a
    }

    function fc(e, r) {
        var t = {};
        var a = t.EncryptionVersionInfo = Yo(e, 4);
        r -= 4;
        if (a.Minor != 2) throw new Error("unrecognized minor version code: " + a.Minor);
        if (a.Major > 4 || a.Major < 2) throw new Error("unrecognized major version code: " + a.Major);
        t.Flags = e._R(4);
        r -= 4;
        var n = e._R(4);
        r -= 4;
        t.EncryptionHeader = rc(e, n);
        r -= n;
        t.EncryptionVerifier = tc(e, r);
        return t
    }

    function oc(e) {
        var r = {};
        var t = r.EncryptionVersionInfo = Yo(e, 4);
        if (t.Major != 1 || t.Minor != 1) throw "unrecognized version code " + t.Major + " : " + t.Minor;
        r.Salt = e._R(16);
        r.EncryptedVerifier = e._R(16);
        r.EncryptedVerifierHash = e._R(16);
        return r
    }

    function cc(e) {
        var r = 0,
            t;
        var a = $o(e);
        var n = a.length + 1,
            i, s;
        var f, o, c;
        t = y(n);
        t[0] = a.length;
        for (i = 1; i != n; ++i) t[i] = a[i - 1];
        for (i = n - 1; i >= 0; --i) {
            s = t[i];
            f = (r & 16384) === 0 ? 0 : 1;
            o = r << 1 & 32767;
            c = f | o;
            r = c ^ s
        }
        return r ^ 52811
    }
    var lc = function () {
        var e = [187, 255, 255, 186, 255, 255, 185, 128, 0, 190, 15, 0, 191, 15, 0];
        var r = [57840, 7439, 52380, 33984, 4364, 3600, 61902, 12606, 6258, 57657, 54287, 34041, 10252, 43370, 20163];
        var t = [44796, 19929, 39858, 10053, 20106, 40212, 10761, 31585, 63170, 64933, 60267, 50935, 40399, 11199, 17763, 35526, 1453, 2906, 5812, 11624, 23248, 885, 1770, 3540, 7080, 14160, 28320, 56640, 55369, 41139, 20807, 41614, 21821, 43642, 17621, 28485, 56970, 44341, 19019, 38038, 14605, 29210, 60195, 50791, 40175, 10751, 21502, 43004, 24537, 18387, 36774, 3949, 7898, 15796, 31592, 63184, 47201, 24803, 49606, 37805, 14203, 28406, 56812, 17824, 35648, 1697, 3394, 6788, 13576, 27152, 43601, 17539, 35078, 557, 1114, 2228, 4456, 30388, 60776, 51953, 34243, 7079, 14158, 28316, 14128, 28256, 56512, 43425, 17251, 34502, 7597, 13105, 26210, 52420, 35241, 883, 1766, 3532, 4129, 8258, 16516, 33032, 4657, 9314, 18628];
        var a = function (e) {
            return (e / 2 | e * 128) & 255
        };
        var n = function (e, r) {
            return a(e ^ r)
        };
        var i = function (e) {
            var a = r[e.length - 1];
            var n = 104;
            for (var i = e.length - 1; i >= 0; --i) {
                var s = e[i];
                for (var f = 0; f != 7; ++f) {
                    if (s & 64) a ^= t[n];
                    s *= 2;
                    --n
                }
            }
            return a
        };
        return function (r) {
            var t = $o(r);
            var a = i(t);
            var s = t.length;
            var f = y(16);
            for (var o = 0; o != 16; ++o) f[o] = 0;
            var c, l, u;
            if ((s & 1) === 1) {
                c = a >> 8;
                f[s] = n(e[0], c);
                --s;
                c = a & 255;
                l = t[t.length - 1];
                f[s] = n(l, c)
            }
            while (s > 0) {
                --s;
                c = a >> 8;
                f[s] = n(t[s], c);
                --s;
                c = a & 255;
                f[s] = n(t[s], c)
            }
            s = 15;
            u = 15 - t.length;
            while (u > 0) {
                c = a >> 8;
                f[s] = n(e[u], c);
                --s;
                --u;
                c = a & 255;
                f[s] = n(t[s], c);
                --s;
                --u
            }
            return f
        }
    }();
    var uc = function (e, r, t, a, n) {
        if (!n) n = r;
        if (!a) a = lc(e);
        var i, s;
        for (i = 0; i != r.length; ++i) {
            s = r[i];
            s ^= a[t];
            s = (s >> 5 | s << 3) & 255;
            n[i] = s;
            ++t
        }
        return [n, t, a]
    };
    var hc = function (e) {
        var r = 0,
            t = lc(e);
        return function (e) {
            var a = uc("", e, r, t);
            r = a[1];
            return a[0]
        }
    };

    function dc(e, r, t, a) {
        var n = {
            key: es(e),
            verificationBytes: es(e)
        };
        if (t.password) n.verifier = cc(t.password);
        a.valid = n.verificationBytes === n.verifier;
        if (a.valid) a.insitu = hc(t.password);
        return n
    }

    function vc(e, r, t) {
        var a = t ||
            {};
        a.Info = e._R(2);
        e.l -= 2;
        if (a.Info === 1) a.Data = oc(e, r);
        else a.Data = fc(e, r);
        return a
    }

    function pc(e, r, t) {
        var a = {
            Type: t.biff >= 8 ? e._R(2) : 0
        };
        if (a.Type) vc(e, r - 2, a);
        else dc(e, t.biff >= 8 ? r : r - 2, t, a);
        return a
    }
    var mc = function () {
        function e(e, t) {
            switch (t.type) {
                case "base64":
                    return r(k(e), t);
                case "binary":
                    return r(e, t);
                case "buffer":
                    return r(T && Buffer.isBuffer(e) ? e.toString("binary") : x(e), t);
                case "array":
                    return r(br(e), t);
            }
            throw new Error("Unrecognized type " + t.type)
        }

        function r(e, r) {
            var t = r ||
                {};
            var a = t.dense ? [] :
                {};
            var n = e.match(/\\trowd.*?\\row\b/g);
            if (!n.length) throw new Error("RTF missing table");
            var i = {
                s:
                {
                    c: 0,
                    r: 0
                },
                e:
                {
                    c: 0,
                    r: n.length - 1
                }
            };
            n.forEach(function (e, r) {
                if (Array.isArray(a)) a[r] = [];
                var t = /\\\w+\b/g;
                var n = 0;
                var s;
                var f = -1;
                while (s = t.exec(e)) {
                    switch (s[0]) {
                        case "\\cell":
                            var o = e.slice(n, t.lastIndex - s[0].length);
                            if (o[0] == " ") o = o.slice(1);
                            ++f;
                            if (o.length) {
                                var c = {
                                    v: o,
                                    t: "s"
                                };
                                if (Array.isArray(a)) a[r][f] = c;
                                else a[Oa(
                                    {
                                        r: r,
                                        c: f
                                    })] = c
                            }
                            break;
                    }
                    n = t.lastIndex
                }
                if (f > i.e.c) i.e.c = f
            });
            a["!ref"] = Na(i);
            return a
        }

        function t(r, t) {
            return La(e(r, t), t)
        }

        function a(e) {
            var r = ["{\\rtf1\\ansi"];
            var t = Fa(e["!ref"]),
                a;
            var n = Array.isArray(e);
            for (var i = t.s.r; i <= t.e.r; ++i) {
                r.push("\\trowd\\trautofit1");
                for (var s = t.s.c; s <= t.e.c; ++s) r.push("\\cellx" + (s + 1));
                r.push("\\pard\\intbl");
                for (s = t.s.c; s <= t.e.c; ++s) {
                    var f = Oa(
                        {
                            r: i,
                            c: s
                        });
                    a = n ? (e[i] || [])[s] : e[f];
                    if (!a || a.v == null && (!a.f || a.F)) continue;
                    r.push(" " + (a.w || (Pa(a), a.w)));
                    r.push("\\cell")
                }
                r.push("\\pard\\intbl\\row")
            }
            return r.join("") + "}"
        }
        return {
            to_workbook: t,
            to_sheet: e,
            from_sheet: a
        }
    }();

    function bc(e) {
        var r = e.slice(e[0] === "#" ? 1 : 0).slice(0, 6);
        return [parseInt(r.slice(0, 2), 16), parseInt(r.slice(2, 4), 16), parseInt(r.slice(4, 6), 16)]
    }

    function gc(e) {
        for (var r = 0, t = 1; r != 3; ++r) t = t * 256 + (e[r] > 255 ? 255 : e[r] < 0 ? 0 : e[r]);
        return t.toString(16).toUpperCase().slice(1)
    }

    function wc(e) {
        var r = e[0] / 255,
            t = e[1] / 255,
            a = e[2] / 255;
        var n = Math.max(r, t, a),
            i = Math.min(r, t, a),
            s = n - i;
        if (s === 0) return [0, 0, r];
        var f = 0,
            o = 0,
            c = n + i;
        o = s / (c > 1 ? 2 - c : c);
        switch (n) {
            case r:
                f = ((t - a) / s + 6) % 6;
                break;
            case t:
                f = (a - r) / s + 2;
                break;
            case a:
                f = (r - t) / s + 4;
                break;
        }
        return [f / 6, o, c / 2]
    }

    function kc(e) {
        var r = e[0],
            t = e[1],
            a = e[2];
        var n = t * 2 * (a < .5 ? a : 1 - a),
            i = a - n / 2;
        var s = [i, i, i],
            f = 6 * r;
        var o;
        if (t !== 0) switch (f | 0) {
            case 0:
                ;
            case 6:
                o = n * f;
                s[0] += n;
                s[1] += o;
                break;
            case 1:
                o = n * (2 - f);
                s[0] += o;
                s[1] += n;
                break;
            case 2:
                o = n * (f - 2);
                s[1] += n;
                s[2] += o;
                break;
            case 3:
                o = n * (4 - f);
                s[1] += o;
                s[2] += n;
                break;
            case 4:
                o = n * (f - 4);
                s[2] += n;
                s[0] += o;
                break;
            case 5:
                o = n * (6 - f);
                s[2] += o;
                s[0] += n;
                break;
        }
        for (var c = 0; c != 3; ++c) s[c] = Math.round(s[c] * 255);
        return s
    }

    function Tc(e, r) {
        if (r === 0) return e;
        var t = wc(bc(e));
        if (r < 0) t[2] = t[2] * (1 + r);
        else t[2] = 1 - (1 - t[2]) * (1 - r);
        return gc(kc(t))
    }
    var Ec = 6,
        yc = 15,
        Sc = 1,
        _c = Ec;

    function Ac(e) {
        return Math.floor((e + Math.round(128 / _c) / 256) * _c)
    }

    function xc(e) {
        return Math.floor((e - 5) / _c * 100 + .5) / 100
    }

    function Cc(e) {
        return Math.round((e * _c + 5) / _c * 256) / 256
    }

    function Rc(e) {
        return Cc(xc(Ac(e)))
    }

    function Oc(e) {
        var r = Math.abs(e - Rc(e)),
            t = _c;
        if (r > .005)
            for (_c = Sc; _c < yc; ++_c)
                if (Math.abs(e - Rc(e)) <= r) {
                    r = Math.abs(e - Rc(e));
                    t = _c
                } _c = t
    }

    function Ic(e) {
        if (e.width) {
            e.wpx = Ac(e.width);
            e.wch = xc(e.wpx);
            e.MDW = _c
        }
        else if (e.wpx) {
            e.wch = xc(e.wpx);
            e.width = Cc(e.wch);
            e.MDW = _c
        }
        else if (typeof e.wch == "number") {
            e.width = Cc(e.wch);
            e.wpx = Ac(e.width);
            e.MDW = _c
        }
        if (e.customWidth) delete e.customWidth
    }
    var Nc = 96,
        Fc = Nc;

    function Dc(e) {
        return e * 96 / Fc
    }

    function Pc(e) {
        return e * Fc / 96
    }
    var Lc = {
        None: "none",
        Solid: "solid",
        Gray50: "mediumGray",
        Gray75: "darkGray",
        Gray25: "lightGray",
        HorzStripe: "darkHorizontal",
        VertStripe: "darkVertical",
        ReverseDiagStripe: "darkDown",
        DiagStripe: "darkUp",
        DiagCross: "darkGrid",
        ThickDiagCross: "darkTrellis",
        ThinHorzStripe: "lightHorizontal",
        ThinVertStripe: "lightVertical",
        ThinReverseDiagStripe: "lightDown",
        ThinHorzCross: "lightGrid"
    };

    function Mc(e, r, t, a) {
        r.Borders = [];
        var n = {};
        var i = false;
        (e[0].match(Hr) || []).forEach(function (e) {
            var t = Gr(e);
            switch (jr(t[0])) {
                case "<borders":
                    ;
                case "<borders>":
                    ;
                case "</borders>":
                    break;
                case "<border":
                    ;
                case "<border>":
                    ;
                case "<border/>":
                    n = {};
                    if (t.diagonalUp) n.diagonalUp = nt(t.diagonalUp);
                    if (t.diagonalDown) n.diagonalDown = nt(t.diagonalDown);
                    r.Borders.push(n);
                    break;
                case "</border>":
                    break;
                case "<left/>":
                    break;
                case "<left":
                    ;
                case "<left>":
                    break;
                case "</left>":
                    break;
                case "<right/>":
                    break;
                case "<right":
                    ;
                case "<right>":
                    break;
                case "</right>":
                    break;
                case "<top/>":
                    break;
                case "<top":
                    ;
                case "<top>":
                    break;
                case "</top>":
                    break;
                case "<bottom/>":
                    break;
                case "<bottom":
                    ;
                case "<bottom>":
                    break;
                case "</bottom>":
                    break;
                case "<diagonal":
                    ;
                case "<diagonal>":
                    ;
                case "<diagonal/>":
                    break;
                case "</diagonal>":
                    break;
                case "<horizontal":
                    ;
                case "<horizontal>":
                    ;
                case "<horizontal/>":
                    break;
                case "</horizontal>":
                    break;
                case "<vertical":
                    ;
                case "<vertical>":
                    ;
                case "<vertical/>":
                    break;
                case "</vertical>":
                    break;
                case "<start":
                    ;
                case "<start>":
                    ;
                case "<start/>":
                    break;
                case "</start>":
                    break;
                case "<end":
                    ;
                case "<end>":
                    ;
                case "<end/>":
                    break;
                case "</end>":
                    break;
                case "<color":
                    ;
                case "<color>":
                    break;
                case "<color/>":
                    ;
                case "</color>":
                    break;
                case "<extLst":
                    ;
                case "<extLst>":
                    ;
                case "</extLst>":
                    break;
                case "<ext":
                    i = true;
                    break;
                case "</ext>":
                    i = false;
                    break;
                default:
                    if (a && a.WTF) {
                        if (!i) throw new Error("unrecognized " + t[0] + " in borders")
                    };
            }
        })
    }

    function Uc(e, r, t, a) {
        r.Fills = [];
        var n = {};
        var i = false;
        (e[0].match(Hr) || []).forEach(function (e) {
            var t = Gr(e);
            switch (jr(t[0])) {
                case "<fills":
                    ;
                case "<fills>":
                    ;
                case "</fills>":
                    break;
                case "<fill>":
                    ;
                case "<fill":
                    ;
                case "<fill/>":
                    n = {};
                    r.Fills.push(n);
                    break;
                case "</fill>":
                    break;
                case "<gradientFill>":
                    break;
                case "<gradientFill":
                    ;
                case "</gradientFill>":
                    r.Fills.push(n);
                    n = {};
                    break;
                case "<patternFill":
                    ;
                case "<patternFill>":
                    if (t.patternType) n.patternType = t.patternType;
                    break;
                case "<patternFill/>":
                    ;
                case "</patternFill>":
                    break;
                case "<bgColor":
                    if (!n.bgColor) n.bgColor = {};
                    if (t.indexed) n.bgColor.indexed = parseInt(t.indexed, 10);
                    if (t.theme) n.bgColor.theme = parseInt(t.theme, 10);
                    if (t.tint) n.bgColor.tint = parseFloat(t.tint);
                    if (t.rgb) n.bgColor.rgb = t.rgb.slice(-6);
                    break;
                case "<bgColor/>":
                    ;
                case "</bgColor>":
                    break;
                case "<fgColor":
                    if (!n.fgColor) n.fgColor = {};
                    if (t.theme) n.fgColor.theme = parseInt(t.theme, 10);
                    if (t.tint) n.fgColor.tint = parseFloat(t.tint);
                    if (t.rgb != null) n.fgColor.rgb = t.rgb.slice(-6);
                    break;
                case "<fgColor/>":
                    ;
                case "</fgColor>":
                    break;
                case "<stop":
                    ;
                case "<stop/>":
                    break;
                case "</stop>":
                    break;
                case "<color":
                    ;
                case "<color/>":
                    break;
                case "</color>":
                    break;
                case "<extLst":
                    ;
                case "<extLst>":
                    ;
                case "</extLst>":
                    break;
                case "<ext":
                    i = true;
                    break;
                case "</ext>":
                    i = false;
                    break;
                default:
                    if (a && a.WTF) {
                        if (!i) throw new Error("unrecognized " + t[0] + " in fills")
                    };
            }
        })
    }

    function Bc(e, r, t, a) {
        r.Fonts = [];
        var n = {};
        var s = false;
        (e[0].match(Hr) || []).forEach(function (e) {
            var f = Gr(e);
            switch (jr(f[0])) {
                case "<fonts":
                    ;
                case "<fonts>":
                    ;
                case "</fonts>":
                    break;
                case "<font":
                    ;
                case "<font>":
                    break;
                case "</font>":
                    ;
                case "<font/>":
                    r.Fonts.push(n);
                    n = {};
                    break;
                case "<name":
                    if (f.val) n.name = ct(f.val);
                    break;
                case "<name/>":
                    ;
                case "</name>":
                    break;
                case "<b":
                    n.bold = f.val ? nt(f.val) : 1;
                    break;
                case "<b/>":
                    n.bold = 1;
                    break;
                case "<i":
                    n.italic = f.val ? nt(f.val) : 1;
                    break;
                case "<i/>":
                    n.italic = 1;
                    break;
                case "<u":
                    switch (f.val) {
                        case "none":
                            n.underline = 0;
                            break;
                        case "single":
                            n.underline = 1;
                            break;
                        case "double":
                            n.underline = 2;
                            break;
                        case "singleAccounting":
                            n.underline = 33;
                            break;
                        case "doubleAccounting":
                            n.underline = 34;
                            break;
                    }
                    break;
                case "<u/>":
                    n.underline = 1;
                    break;
                case "<strike":
                    n.strike = f.val ? nt(f.val) : 1;
                    break;
                case "<strike/>":
                    n.strike = 1;
                    break;
                case "<outline":
                    n.outline = f.val ? nt(f.val) : 1;
                    break;
                case "<outline/>":
                    n.outline = 1;
                    break;
                case "<shadow":
                    n.shadow = f.val ? nt(f.val) : 1;
                    break;
                case "<shadow/>":
                    n.shadow = 1;
                    break;
                case "<condense":
                    n.condense = f.val ? nt(f.val) : 1;
                    break;
                case "<condense/>":
                    n.condense = 1;
                    break;
                case "<extend":
                    n.extend = f.val ? nt(f.val) : 1;
                    break;
                case "<extend/>":
                    n.extend = 1;
                    break;
                case "<sz":
                    if (f.val) n.sz = +f.val;
                    break;
                case "<sz/>":
                    ;
                case "</sz>":
                    break;
                case "<vertAlign":
                    if (f.val) n.vertAlign = f.val;
                    break;
                case "<vertAlign/>":
                    ;
                case "</vertAlign>":
                    break;
                case "<family":
                    if (f.val) n.family = parseInt(f.val, 10);
                    break;
                case "<family/>":
                    ;
                case "</family>":
                    break;
                case "<scheme":
                    if (f.val) n.scheme = f.val;
                    break;
                case "<scheme/>":
                    ;
                case "</scheme>":
                    break;
                case "<charset":
                    if (f.val == "1") break;
                    f.codepage = i[parseInt(f.val, 10)];
                    break;
                case "<color":
                    if (!n.color) n.color = {};
                    if (f.auto) n.color.auto = nt(f.auto);
                    if (f.rgb) n.color.rgb = f.rgb.slice(-6);
                    else if (f.indexed) {
                        n.color.index = parseInt(f.indexed, 10);
                        var o = Vn[n.color.index];
                        if (n.color.index == 81) o = Vn[1];
                        if (!o) o = Vn[1];
                        n.color.rgb = o[0].toString(16) + o[1].toString(16) + o[2].toString(16)
                    }
                    else if (f.theme) {
                        n.color.theme = parseInt(f.theme, 10);
                        if (f.tint) n.color.tint = parseFloat(f.tint);
                        if (f.theme && t.themeElements && t.themeElements.clrScheme) {
                            n.color.rgb = Tc(t.themeElements.clrScheme[n.color.theme].rgb, n.color.tint || 0)
                        }
                    }
                    break;
                case "<color/>":
                    ;
                case "</color>":
                    break;
                case "<AlternateContent":
                    s = true;
                    break;
                case "</AlternateContent>":
                    s = false;
                    break;
                case "<extLst":
                    ;
                case "<extLst>":
                    ;
                case "</extLst>":
                    break;
                case "<ext":
                    s = true;
                    break;
                case "</ext>":
                    s = false;
                    break;
                default:
                    if (a && a.WTF) {
                        if (!s) throw new Error("unrecognized " + f[0] + " in fonts")
                    };
            }
        })
    }

    function Wc(e, r, t) {
        r.NumberFmt = [];
        var a = rr(X);
        for (var n = 0; n < a.length; ++n) r.NumberFmt[a[n]] = X[a[n]];
        var i = e[0].match(Hr);
        if (!i) return;
        for (n = 0; n < i.length; ++n) {
            var s = Gr(i[n]);
            switch (jr(s[0])) {
                case "<numFmts":
                    ;
                case "</numFmts>":
                    ;
                case "<numFmts/>":
                    ;
                case "<numFmts>":
                    break;
                case "<numFmt":
                    {
                        var f = Yr(ct(s.formatCode)),
                            o = parseInt(s.numFmtId, 10);
                        r.NumberFmt[o] = f;
                        if (o > 0) {
                            if (o > 392) {
                                for (o = 392; o > 60; --o)
                                    if (r.NumberFmt[o] == null) break;
                                r.NumberFmt[o] = f
                            }
                            We(f, o)
                        }
                    }
                    break;
                case "</numFmt>":
                    break;
                default:
                    if (t.WTF) throw new Error("unrecognized " + s[0] + " in numFmts");
            }
        }
    }

    function Hc(e) {
        var r = ["<numFmts>"];
        [
            [5, 8],
            [23, 26],
            [41, 44],
            [50, 392]
        ].forEach(function (t) {
            for (var a = t[0]; a <= t[1]; ++a)
                if (e[a] != null) r[r.length] = kt("numFmt", null,
                    {
                        numFmtId: a,
                        formatCode: qr(e[a])
                    })
        });
        if (r.length === 1) return "";
        r[r.length] = "</numFmts>";
        r[0] = kt("numFmts", null,
            {
                count: r.length - 2
            }).replace("/>", ">");
        return r.join("")
    }
    var zc = ["numFmtId", "fillId", "fontId", "borderId", "xfId"];
    var Vc = ["applyAlignment", "applyBorder", "applyFill", "applyFont", "applyNumberFormat", "applyProtection", "pivotButton", "quotePrefix"];

    function Gc(e, r, t) {
        r.CellXf = [];
        var a;
        var n = false;
        (e[0].match(Hr) || []).forEach(function (e) {
            var i = Gr(e),
                s = 0;
            switch (jr(i[0])) {
                case "<cellXfs":
                    ;
                case "<cellXfs>":
                    ;
                case "<cellXfs/>":
                    ;
                case "</cellXfs>":
                    break;
                case "<xf":
                    ;
                case "<xf/>":
                    a = i;
                    delete a[0];
                    for (s = 0; s < zc.length; ++s)
                        if (a[zc[s]]) a[zc[s]] = parseInt(a[zc[s]], 10);
                    for (s = 0; s < Vc.length; ++s)
                        if (a[Vc[s]]) a[Vc[s]] = nt(a[Vc[s]]);
                    if (r.NumberFmt && a.numFmtId > 392) {
                        for (s = 392; s > 60; --s)
                            if (r.NumberFmt[a.numFmtId] == r.NumberFmt[s]) {
                                a.numFmtId = s;
                                break
                            }
                    }
                    r.CellXf.push(a);
                    break;
                case "</xf>":
                    break;
                case "<alignment":
                    ;
                case "<alignment/>":
                    var f = {};
                    if (i.vertical) f.vertical = i.vertical;
                    if (i.horizontal) f.horizontal = i.horizontal;
                    if (i.textRotation != null) f.textRotation = i.textRotation;
                    if (i.indent) f.indent = i.indent;
                    if (i.wrapText) f.wrapText = nt(i.wrapText);
                    a.alignment = f;
                    break;
                case "</alignment>":
                    break;
                case "<protection":
                    break;
                case "</protection>":
                    ;
                case "<protection/>":
                    break;
                case "<AlternateContent":
                    n = true;
                    break;
                case "</AlternateContent>":
                    n = false;
                    break;
                case "<extLst":
                    ;
                case "<extLst>":
                    ;
                case "</extLst>":
                    break;
                case "<ext":
                    n = true;
                    break;
                case "</ext>":
                    n = false;
                    break;
                default:
                    if (t && t.WTF) {
                        if (!n) throw new Error("unrecognized " + i[0] + " in cellXfs")
                    };
            }
        })
    }

    function jc(e) {
        var r = [];
        r[r.length] = kt("cellXfs", null);
        e.forEach(function (e) {
            r[r.length] = kt("xf", null, e)
        });
        r[r.length] = "</cellXfs>";
        if (r.length === 2) return "";
        r[0] = kt("cellXfs", null,
            {
                count: r.length - 2
            }).replace("/>", ">");
        return r.join("")
    }
    var Xc = function hk() {
        var e = /<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/;
        var r = /<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/;
        var t = /<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/;
        var a = /<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/;
        var n = /<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;
        return function i(s, f, o) {
            var c = {};
            if (!s) return c;
            s = s.replace(/<!--([\s\S]*?)-->/gm, "").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm, "");
            var l;
            if (l = s.match(e)) Wc(l, c, o);
            if (l = s.match(a)) Bc(l, c, f, o);
            if (l = s.match(t)) Uc(l, c, f, o);
            if (l = s.match(n)) Mc(l, c, f, o);
            if (l = s.match(r)) Gc(l, c, o);
            return c
        }
    }();

    function $c(e, r) {
        var t = [Mr, kt("styleSheet", null,
            {
                xmlns: At[0],
                "xmlns:vt": _t.vt
            })],
            a;
        if (e.SSF && (a = Hc(e.SSF)) != null) t[t.length] = a;
        t[t.length] = '<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>';
        t[t.length] = '<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>';
        t[t.length] = '<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>';
        t[t.length] = '<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>';
        if (a = jc(r.cellXfs)) t[t.length] = a;
        t[t.length] = '<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>';
        t[t.length] = '<dxfs count="0"/>';
        t[t.length] = '<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>';
        if (t.length > 2) {
            t[t.length] = "</styleSheet>";
            t[1] = t[1].replace("/>", ">")
        }
        return t.join("")
    }

    function Yc(e, r) {
        var t = e._R(2);
        var a = Ha(e, r - 2);
        return [t, a]
    }

    function Kc(e, r, t) {
        if (!t) t = ha(6 + 4 * r.length);
        t._W(2, e);
        za(r, t);
        var a = t.length > t.l ? t.slice(0, t.l) : t;
        if (t.l == null) t.l = t.length;
        return a
    }

    function Jc(e, r, t) {
        var a = {};
        a.sz = e._R(2) / 20;
        var n = bn(e, 2, t);
        if (n.fItalic) a.italic = 1;
        if (n.fCondense) a.condense = 1;
        if (n.fExtend) a.extend = 1;
        if (n.fShadow) a.shadow = 1;
        if (n.fOutline) a.outline = 1;
        if (n.fStrikeout) a.strike = 1;
        var i = e._R(2);
        if (i === 700) a.bold = 1;
        switch (e._R(2)) {
            case 1:
                a.vertAlign = "superscript";
                break;
            case 2:
                a.vertAlign = "subscript";
                break;
        }
        var s = e._R(1);
        if (s != 0) a.underline = s;
        var f = e._R(1);
        if (f > 0) a.family = f;
        var o = e._R(1);
        if (o > 0) a.charset = o;
        e.l++;
        a.color = pn(e, 8);
        switch (e._R(1)) {
            case 1:
                a.scheme = "major";
                break;
            case 2:
                a.scheme = "minor";
                break;
        }
        a.name = Ha(e, r - 21);
        return a
    }

    function qc(e, r) {
        if (!r) r = ha(25 + 4 * 32);
        r._W(2, e.sz * 20);
        gn(e, r);
        r._W(2, e.bold ? 700 : 400);
        var t = 0;
        if (e.vertAlign == "superscript") t = 1;
        else if (e.vertAlign == "subscript") t = 2;
        r._W(2, t);
        r._W(1, e.underline || 0);
        r._W(1, e.family || 0);
        r._W(1, e.charset || 0);
        r._W(1, 0);
        mn(e.color, r);
        var a = 0;
        if (e.scheme == "major") a = 1;
        if (e.scheme == "minor") a = 2;
        r._W(1, a);
        za(e.name, r);
        return r.length > r.l ? r.slice(0, r.l) : r
    }
    var Zc = ["none", "solid", "mediumGray", "darkGray", "lightGray", "darkHorizontal", "darkVertical", "darkDown", "darkUp", "darkGrid", "darkTrellis", "lightHorizontal", "lightVertical", "lightDown", "lightUp", "lightGrid", "lightTrellis", "gray125", "gray0625"];
    var Qc;
    var el = ua;

    function rl(e, r) {
        if (!r) r = ha(4 * 3 + 8 * 7 + 16 * 1);
        if (!Qc) Qc = ar(Zc);
        var t = Qc[e.patternType];
        if (t == null) t = 40;
        r._W(4, t);
        var a = 0;
        if (t != 40) {
            mn(
                {
                    auto: 1
                }, r);
            mn(
                {
                    auto: 1
                }, r);
            for (; a < 12; ++a) r._W(4, 0)
        }
        else {
            for (; a < 4; ++a) r._W(4, 0);
            for (; a < 12; ++a) r._W(4, 0)
        }
        return r.length > r.l ? r.slice(0, r.l) : r
    }

    function tl(e, r) {
        var t = e.l + r;
        var a = e._R(2);
        var n = e._R(2);
        e.l = t;
        return {
            ixfe: a,
            numFmtId: n
        }
    }

    function al(e, r, t) {
        if (!t) t = ha(16);
        t._W(2, r || 0);
        t._W(2, e.numFmtId || 0);
        t._W(2, 0);
        t._W(2, 0);
        t._W(2, 0);
        t._W(1, 0);
        t._W(1, 0);
        var a = 0;
        t._W(1, a);
        t._W(1, 0);
        t._W(1, 0);
        t._W(1, 0);
        return t
    }

    function nl(e, r) {
        if (!r) r = ha(10);
        r._W(1, 0);
        r._W(1, 0);
        r._W(4, 0);
        r._W(4, 0);
        return r
    }
    var il = ua;

    function sl(e, r) {
        if (!r) r = ha(51);
        r._W(1, 0);
        nl(null, r);
        nl(null, r);
        nl(null, r);
        nl(null, r);
        nl(null, r);
        return r.length > r.l ? r.slice(0, r.l) : r
    }

    function fl(e, r) {
        if (!r) r = ha(12 + 4 * 10);
        r._W(4, e.xfId);
        r._W(2, 1);
        r._W(1, +e.builtinId);
        r._W(1, 0);
        tn(e.name || "", r);
        return r.length > r.l ? r.slice(0, r.l) : r
    }

    function ol(e, r, t) {
        var a = ha(4 + 256 * 2 * 4);
        a._W(4, e);
        tn(r, a);
        tn(t, a);
        return a.length > a.l ? a.slice(0, a.l) : a
    }

    function cl(e, r, t) {
        var a = {};
        a.NumberFmt = [];
        for (var n in X) a.NumberFmt[n] = X[n];
        a.CellXf = [];
        a.Fonts = [];
        var i = [];
        var s = false;
        da(e, function f(e, n, o) {
            switch (o) {
                case 44:
                    a.NumberFmt[e[0]] = e[1];
                    We(e[1], e[0]);
                    break;
                case 43:
                    a.Fonts.push(e);
                    if (e.color.theme != null && r && r.themeElements && r.themeElements.clrScheme) {
                        e.color.rgb = Tc(r.themeElements.clrScheme[e.color.theme].rgb, e.color.tint || 0)
                    }
                    break;
                case 1025:
                    break;
                case 45:
                    break;
                case 46:
                    break;
                case 47:
                    if (i[i.length - 1] == 617) {
                        a.CellXf.push(e)
                    }
                    break;
                case 48:
                    ;
                case 507:
                    ;
                case 572:
                    ;
                case 475:
                    break;
                case 1171:
                    ;
                case 2102:
                    ;
                case 1130:
                    ;
                case 512:
                    ;
                case 2095:
                    ;
                case 3072:
                    break;
                case 35:
                    s = true;
                    break;
                case 36:
                    s = false;
                    break;
                case 37:
                    i.push(o);
                    s = true;
                    break;
                case 38:
                    i.pop();
                    s = false;
                    break;
                default:
                    if (n.T > 0) i.push(o);
                    else if (n.T < 0) i.pop();
                    else if (!s || t.WTF && i[i.length - 1] != 37) throw new Error("Unexpected record 0x" + o.toString(16));
            }
        });
        return a
    }

    function ll(e, r) {
        if (!r) return;
        var t = 0;
        [
            [5, 8],
            [23, 26],
            [41, 44],
            [50, 392]
        ].forEach(function (e) {
            for (var a = e[0]; a <= e[1]; ++a)
                if (r[a] != null) ++t
        });
        if (t == 0) return;
        pa(e, 615, Wa(t));
        [
            [5, 8],
            [23, 26],
            [41, 44],
            [50, 392]
        ].forEach(function (t) {
            for (var a = t[0]; a <= t[1]; ++a)
                if (r[a] != null) pa(e, 44, Kc(a, r[a]))
        });
        pa(e, 616)
    }

    function ul(e) {
        var r = 1;
        if (r == 0) return;
        pa(e, 611, Wa(r));
        pa(e, 43, qc(
            {
                sz: 12,
                color:
                {
                    theme: 1
                },
                name: "Calibri",
                family: 2,
                scheme: "minor"
            }));
        pa(e, 612)
    }

    function hl(e) {
        var r = 2;
        if (r == 0) return;
        pa(e, 603, Wa(r));
        pa(e, 45, rl(
            {
                patternType: "none"
            }));
        pa(e, 45, rl(
            {
                patternType: "gray125"
            }));
        pa(e, 604)
    }

    function dl(e) {
        var r = 1;
        if (r == 0) return;
        pa(e, 613, Wa(r));
        pa(e, 46, sl(
            {}));
        pa(e, 614)
    }

    function vl(e) {
        var r = 1;
        pa(e, 626, Wa(r));
        pa(e, 47, al(
            {
                numFmtId: 0,
                fontId: 0,
                fillId: 0,
                borderId: 0
            }, 65535));
        pa(e, 627)
    }

    function pl(e, r) {
        pa(e, 617, Wa(r.length));
        r.forEach(function (r) {
            pa(e, 47, al(r, 0))
        });
        pa(e, 618)
    }

    function ml(e) {
        var r = 1;
        pa(e, 619, Wa(r));
        pa(e, 48, fl(
            {
                xfId: 0,
                builtinId: 0,
                name: "Normal"
            }));
        pa(e, 620)
    }

    function bl(e) {
        var r = 0;
        pa(e, 505, Wa(r));
        pa(e, 506)
    }

    function gl(e) {
        var r = 0;
        pa(e, 508, ol(r, "TableStyleMedium9", "PivotStyleMedium4"));
        pa(e, 509)
    }

    function wl() {
        return
    }

    function kl(e, r) {
        var t = va();
        pa(t, 278);
        ll(t, e.SSF);
        ul(t, e);
        hl(t, e);
        dl(t, e);
        vl(t, e);
        pl(t, r.cellXfs);
        ml(t, e);
        bl(t, e);
        gl(t, e);
        wl(t, e);
        pa(t, 279);
        return t.end()
    }
    var Tl = ["</a:lt1>", "</a:dk1>", "</a:lt2>", "</a:dk2>", "</a:accent1>", "</a:accent2>", "</a:accent3>", "</a:accent4>", "</a:accent5>", "</a:accent6>", "</a:hlink>", "</a:folHlink>"];

    function El(e, r, t) {
        r.themeElements.clrScheme = [];
        var a = {};
        (e[0].match(Hr) || []).forEach(function (e) {
            var n = Gr(e);
            switch (n[0]) {
                case "<a:clrScheme":
                    ;
                case "</a:clrScheme>":
                    break;
                case "<a:srgbClr":
                    a.rgb = n.val;
                    break;
                case "<a:sysClr":
                    a.rgb = n.lastClr;
                    break;
                case "<a:dk1>":
                    ;
                case "</a:dk1>":
                    ;
                case "<a:lt1>":
                    ;
                case "</a:lt1>":
                    ;
                case "<a:dk2>":
                    ;
                case "</a:dk2>":
                    ;
                case "<a:lt2>":
                    ;
                case "</a:lt2>":
                    ;
                case "<a:accent1>":
                    ;
                case "</a:accent1>":
                    ;
                case "<a:accent2>":
                    ;
                case "</a:accent2>":
                    ;
                case "<a:accent3>":
                    ;
                case "</a:accent3>":
                    ;
                case "<a:accent4>":
                    ;
                case "</a:accent4>":
                    ;
                case "<a:accent5>":
                    ;
                case "</a:accent5>":
                    ;
                case "<a:accent6>":
                    ;
                case "</a:accent6>":
                    ;
                case "<a:hlink>":
                    ;
                case "</a:hlink>":
                    ;
                case "<a:folHlink>":
                    ;
                case "</a:folHlink>":
                    if (n[0].charAt(1) === "/") {
                        r.themeElements.clrScheme[Tl.indexOf(n[0])] = a;
                        a = {}
                    }
                    else {
                        a.name = n[0].slice(3, n[0].length - 1)
                    }
                    break;
                default:
                    if (t && t.WTF) throw new Error("Unrecognized " + n[0] + " in clrScheme");
            }
        })
    }

    function yl() { }

    function Sl() { }
    var _l = /<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/;
    var Al = /<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/;
    var xl = /<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;

    function Cl(e, r, t) {
        r.themeElements = {};
        var a;
        [
            ["clrScheme", _l, El],
            ["fontScheme", Al, yl],
            ["fmtScheme", xl, Sl]
        ].forEach(function (n) {
            if (!(a = e.match(n[1]))) throw new Error(n[0] + " not found in themeElements");
            n[2](a, r, t)
        })
    }
    var Rl = /<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;

    function Ol(e, r) {
        if (!e || e.length === 0) e = Il();
        var t;
        var a = {};
        if (!(t = e.match(Rl))) throw new Error("themeElements not found in theme");
        Cl(t[0], a, r);
        a.raw = e;
        return a
    }

    function Il(e, r) {
        if (r && r.themeXLSX) return r.themeXLSX;
        if (e && typeof e.raw == "string") return e.raw;
        var t = [Mr];
        t[t.length] = '<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">';
        t[t.length] = "<a:themeElements>";
        t[t.length] = '<a:clrScheme name="Office">';
        t[t.length] = '<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>';
        t[t.length] = '<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>';
        t[t.length] = '<a:dk2><a:srgbClr val="1F497D"/></a:dk2>';
        t[t.length] = '<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>';
        t[t.length] = '<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>';
        t[t.length] = '<a:accent2><a:srgbClr val="C0504D"/></a:accent2>';
        t[t.length] = '<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>';
        t[t.length] = '<a:accent4><a:srgbClr val="8064A2"/></a:accent4>';
        t[t.length] = '<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>';
        t[t.length] = '<a:accent6><a:srgbClr val="F79646"/></a:accent6>';
        t[t.length] = '<a:hlink><a:srgbClr val="0000FF"/></a:hlink>';
        t[t.length] = '<a:folHlink><a:srgbClr val="800080"/></a:folHlink>';
        t[t.length] = "</a:clrScheme>";
        t[t.length] = '<a:fontScheme name="Office">';
        t[t.length] = "<a:majorFont>";
        t[t.length] = '<a:latin typeface="Cambria"/>';
        t[t.length] = '<a:ea typeface=""/>';
        t[t.length] = '<a:cs typeface=""/>';
        t[t.length] = '<a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã‚´ã‚·ãƒƒã‚¯"/>';
        t[t.length] = '<a:font script="Hang" typeface="ë§‘ì€ ê³ ë”•"/>';
        t[t.length] = '<a:font script="Hans" typeface="å®‹ä½“"/>';
        t[t.length] = '<a:font script="Hant" typeface="æ–°ç´°æ˜Žé«”"/>';
        t[t.length] = '<a:font script="Arab" typeface="Times New Roman"/>';
        t[t.length] = '<a:font script="Hebr" typeface="Times New Roman"/>';
        t[t.length] = '<a:font script="Thai" typeface="Tahoma"/>';
        t[t.length] = '<a:font script="Ethi" typeface="Nyala"/>';
        t[t.length] = '<a:font script="Beng" typeface="Vrinda"/>';
        t[t.length] = '<a:font script="Gujr" typeface="Shruti"/>';
        t[t.length] = '<a:font script="Khmr" typeface="MoolBoran"/>';
        t[t.length] = '<a:font script="Knda" typeface="Tunga"/>';
        t[t.length] = '<a:font script="Guru" typeface="Raavi"/>';
        t[t.length] = '<a:font script="Cans" typeface="Euphemia"/>';
        t[t.length] = '<a:font script="Cher" typeface="Plantagenet Cherokee"/>';
        t[t.length] = '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>';
        t[t.length] = '<a:font script="Tibt" typeface="Microsoft Himalaya"/>';
        t[t.length] = '<a:font script="Thaa" typeface="MV Boli"/>';
        t[t.length] = '<a:font script="Deva" typeface="Mangal"/>';
        t[t.length] = '<a:font script="Telu" typeface="Gautami"/>';
        t[t.length] = '<a:font script="Taml" typeface="Latha"/>';
        t[t.length] = '<a:font script="Syrc" typeface="Estrangelo Edessa"/>';
        t[t.length] = '<a:font script="Orya" typeface="Kalinga"/>';
        t[t.length] = '<a:font script="Mlym" typeface="Kartika"/>';
        t[t.length] = '<a:font script="Laoo" typeface="DokChampa"/>';
        t[t.length] = '<a:font script="Sinh" typeface="Iskoola Pota"/>';
        t[t.length] = '<a:font script="Mong" typeface="Mongolian Baiti"/>';
        t[t.length] = '<a:font script="Viet" typeface="Times New Roman"/>';
        t[t.length] = '<a:font script="Uigh" typeface="Microsoft Uighur"/>';
        t[t.length] = '<a:font script="Geor" typeface="Sylfaen"/>';
        t[t.length] = "</a:majorFont>";
        t[t.length] = "<a:minorFont>";
        t[t.length] = '<a:latin typeface="Calibri"/>';
        t[t.length] = '<a:ea typeface=""/>';
        t[t.length] = '<a:cs typeface=""/>';
        t[t.length] = '<a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã‚´ã‚·ãƒƒã‚¯"/>';
        t[t.length] = '<a:font script="Hang" typeface="ë§‘ì€ ê³ ë”•"/>';
        t[t.length] = '<a:font script="Hans" typeface="å®‹ä½“"/>';
        t[t.length] = '<a:font script="Hant" typeface="æ–°ç´°æ˜Žé«”"/>';
        t[t.length] = '<a:font script="Arab" typeface="Arial"/>';
        t[t.length] = '<a:font script="Hebr" typeface="Arial"/>';
        t[t.length] = '<a:font script="Thai" typeface="Tahoma"/>';
        t[t.length] = '<a:font script="Ethi" typeface="Nyala"/>';
        t[t.length] = '<a:font script="Beng" typeface="Vrinda"/>';
        t[t.length] = '<a:font script="Gujr" typeface="Shruti"/>';
        t[t.length] = '<a:font script="Khmr" typeface="DaunPenh"/>';
        t[t.length] = '<a:font script="Knda" typeface="Tunga"/>';
        t[t.length] = '<a:font script="Guru" typeface="Raavi"/>';
        t[t.length] = '<a:font script="Cans" typeface="Euphemia"/>';
        t[t.length] = '<a:font script="Cher" typeface="Plantagenet Cherokee"/>';
        t[t.length] = '<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>';
        t[t.length] = '<a:font script="Tibt" typeface="Microsoft Himalaya"/>';
        t[t.length] = '<a:font script="Thaa" typeface="MV Boli"/>';
        t[t.length] = '<a:font script="Deva" typeface="Mangal"/>';
        t[t.length] = '<a:font script="Telu" typeface="Gautami"/>';
        t[t.length] = '<a:font script="Taml" typeface="Latha"/>';
        t[t.length] = '<a:font script="Syrc" typeface="Estrangelo Edessa"/>';
        t[t.length] = '<a:font script="Orya" typeface="Kalinga"/>';
        t[t.length] = '<a:font script="Mlym" typeface="Kartika"/>';
        t[t.length] = '<a:font script="Laoo" typeface="DokChampa"/>';
        t[t.length] = '<a:font script="Sinh" typeface="Iskoola Pota"/>';
        t[t.length] = '<a:font script="Mong" typeface="Mongolian Baiti"/>';
        t[t.length] = '<a:font script="Viet" typeface="Arial"/>';
        t[t.length] = '<a:font script="Uigh" typeface="Microsoft Uighur"/>';
        t[t.length] = '<a:font script="Geor" typeface="Sylfaen"/>';
        t[t.length] = "</a:minorFont>";
        t[t.length] = "</a:fontScheme>";
        t[t.length] = '<a:fmtScheme name="Office">';
        t[t.length] = "<a:fillStyleLst>";
        t[t.length] = '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>';
        t[t.length] = '<a:gradFill rotWithShape="1">';
        t[t.length] = "<a:gsLst>";
        t[t.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>';
        t[t.length] = '<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>';
        t[t.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';
        t[t.length] = "</a:gsLst>";
        t[t.length] = '<a:lin ang="16200000" scaled="1"/>';
        t[t.length] = "</a:gradFill>";
        t[t.length] = '<a:gradFill rotWithShape="1">';
        t[t.length] = "<a:gsLst>";
        t[t.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>';
        t[t.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';
        t[t.length] = "</a:gsLst>";
        t[t.length] = '<a:lin ang="16200000" scaled="0"/>';
        t[t.length] = "</a:gradFill>";
        t[t.length] = "</a:fillStyleLst>";
        t[t.length] = "<a:lnStyleLst>";
        t[t.length] = '<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>';
        t[t.length] = '<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>';
        t[t.length] = '<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>';
        t[t.length] = "</a:lnStyleLst>";
        t[t.length] = "<a:effectStyleLst>";
        t[t.length] = "<a:effectStyle>";
        t[t.length] = "<a:effectLst>";
        t[t.length] = '<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>';
        t[t.length] = "</a:effectLst>";
        t[t.length] = "</a:effectStyle>";
        t[t.length] = "<a:effectStyle>";
        t[t.length] = "<a:effectLst>";
        t[t.length] = '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>';
        t[t.length] = "</a:effectLst>";
        t[t.length] = "</a:effectStyle>";
        t[t.length] = "<a:effectStyle>";
        t[t.length] = "<a:effectLst>";
        t[t.length] = '<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>';
        t[t.length] = "</a:effectLst>";
        t[t.length] = '<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>';
        t[t.length] = '<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>';
        t[t.length] = "</a:effectStyle>";
        t[t.length] = "</a:effectStyleLst>";
        t[t.length] = "<a:bgFillStyleLst>";
        t[t.length] = '<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>';
        t[t.length] = '<a:gradFill rotWithShape="1">';
        t[t.length] = "<a:gsLst>";
        t[t.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';
        t[t.length] = '<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>';
        t[t.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>';
        t[t.length] = "</a:gsLst>";
        t[t.length] = '<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>';
        t[t.length] = "</a:gradFill>";
        t[t.length] = '<a:gradFill rotWithShape="1">';
        t[t.length] = "<a:gsLst>";
        t[t.length] = '<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>';
        t[t.length] = '<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>';
        t[t.length] = "</a:gsLst>";
        t[t.length] = '<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>';
        t[t.length] = "</a:gradFill>";
        t[t.length] = "</a:bgFillStyleLst>";
        t[t.length] = "</a:fmtScheme>";
        t[t.length] = "</a:themeElements>";
        t[t.length] = "<a:objectDefaults>";
        t[t.length] = "<a:spDef>";
        t[t.length] = '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>';
        t[t.length] = "</a:spDef>";
        t[t.length] = "<a:lnDef>";
        t[t.length] = '<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>';
        t[t.length] = "</a:lnDef>";
        t[t.length] = "</a:objectDefaults>";
        t[t.length] = "<a:extraClrSchemeLst/>";
        t[t.length] = "</a:theme>";
        return t.join("")
    }

    function Nl(e, r, t) {
        var a = e.l + r;
        var n = e._R(4);
        if (n === 124226) return;
        if (!t.cellStyles) {
            e.l = a;
            return
        }
        var i = e.slice(e.l);
        e.l = a;
        var s;
        try {
            s = Pr(i,
                {
                    type: "array"
                })
        }
        catch (f) {
            return
        }
        var o = Or(s, "theme/theme/theme1.xml", true);
        if (!o) return;
        return Ol(o, t)
    }

    function Fl(e) {
        return e._R(4)
    }

    function Dl(e) {
        var r = {};
        r.xclrType = e._R(2);
        r.nTintShade = e._R(2);
        switch (r.xclrType) {
            case 0:
                e.l += 4;
                break;
            case 1:
                r.xclrValue = Pl(e, 4);
                break;
            case 2:
                r.xclrValue = ks(e, 4);
                break;
            case 3:
                r.xclrValue = Fl(e, 4);
                break;
            case 4:
                e.l += 4;
                break;
        }
        e.l += 8;
        return r
    }

    function Pl(e, r) {
        return ua(e, r)
    }

    function Ll(e, r) {
        return ua(e, r)
    }

    function Ml(e) {
        var r = e._R(2);
        var t = e._R(2) - 4;
        var a = [r];
        switch (r) {
            case 4:
                ;
            case 5:
                ;
            case 7:
                ;
            case 8:
                ;
            case 9:
                ;
            case 10:
                ;
            case 11:
                ;
            case 13:
                a[1] = Dl(e, t);
                break;
            case 6:
                a[1] = Ll(e, t);
                break;
            case 14:
                ;
            case 15:
                a[1] = e._R(t === 1 ? 1 : 2);
                break;
            default:
                throw new Error("Unrecognized ExtProp type: " + r + " " + t);
        }
        return a
    }

    function Ul(e, r) {
        var t = e.l + r;
        e.l += 2;
        var a = e._R(2);
        e.l += 2;
        var n = e._R(2);
        var i = [];
        while (n-- > 0) i.push(Ml(e, t - e.l));
        return {
            ixfe: a,
            ext: i
        }
    }

    function Bl(e, r) {
        r.forEach(function (e) {
            switch (e[0]) {
                case 4:
                    break;
                case 5:
                    break;
                case 6:
                    break;
                case 7:
                    break;
                case 8:
                    break;
                case 9:
                    break;
                case 10:
                    break;
                case 11:
                    break;
                case 13:
                    break;
                case 14:
                    break;
                case 15:
                    break;
            }
        })
    }

    function Wl(e, r) {
        return {
            flags: e._R(4),
            version: e._R(4),
            name: Ha(e, r - 8)
        }
    }

    function Hl(e) {
        var r = ha(12 + 2 * e.name.length);
        r._W(4, e.flags);
        r._W(4, e.version);
        za(e.name, r);
        return r.slice(0, r.l)
    }

    function zl(e) {
        var r = [];
        var t = e._R(4);
        while (t-- > 0) r.push([e._R(4), e._R(4)]);
        return r
    }

    function Vl(e) {
        var r = ha(4 + 8 * e.length);
        r._W(4, e.length);
        for (var t = 0; t < e.length; ++t) {
            r._W(4, e[t][0]);
            r._W(4, e[t][1])
        }
        return r
    }

    function Gl(e, r) {
        var t = ha(8 + 2 * r.length);
        t._W(4, e);
        za(r, t);
        return t.slice(0, t.l)
    }

    function jl(e) {
        e.l += 4;
        return e._R(4) != 0
    }

    function Xl(e, r) {
        var t = ha(8);
        t._W(4, e);
        t._W(4, r ? 1 : 0);
        return t
    }

    function $l(e, r, t) {
        var a = {
            Types: [],
            Cell: [],
            Value: []
        };
        var n = t ||
            {};
        var i = [];
        var s = false;
        var f = 2;
        da(e, function (e, r, t) {
            switch (t) {
                case 335:
                    a.Types.push(
                        {
                            name: e.name
                        });
                    break;
                case 51:
                    e.forEach(function (e) {
                        if (f == 1) a.Cell.push(
                            {
                                type: a.Types[e[0] - 1].name,
                                index: e[1]
                            });
                        else if (f == 0) a.Value.push(
                            {
                                type: a.Types[e[0] - 1].name,
                                index: e[1]
                            })
                    });
                    break;
                case 337:
                    f = e ? 1 : 0;
                    break;
                case 338:
                    f = 2;
                    break;
                case 35:
                    i.push(t);
                    s = true;
                    break;
                case 36:
                    i.pop();
                    s = false;
                    break;
                default:
                    if (r.T) { }
                    else if (!s || n.WTF && i[i.length - 1] != 35) throw new Error("Unexpected record 0x" + t.toString(16));
            }
        });
        return a
    }

    function Yl() {
        var e = va();
        pa(e, 332);
        pa(e, 334, Wa(1));
        pa(e, 335, Hl(
            {
                name: "XLDAPR",
                version: 12e4,
                flags: 3496657072
            }));
        pa(e, 336);
        pa(e, 339, Gl(1, "XLDAPR"));
        pa(e, 52);
        pa(e, 35, Wa(514));
        pa(e, 4096, Wa(0));
        pa(e, 4097, rs(1));
        pa(e, 36);
        pa(e, 53);
        pa(e, 340);
        pa(e, 337, Xl(1, true));
        pa(e, 51, Vl([
            [1, 0]
        ]));
        pa(e, 338);
        pa(e, 333);
        return e.end()
    }

    function Kl(e, r, t) {
        var a = {
            Types: [],
            Cell: [],
            Value: []
        };
        if (!e) return a;
        var n = false;
        var i = 2;
        var s;
        e.replace(Hr, function (e) {
            var r = Gr(e);
            switch (jr(r[0])) {
                case "<?xml":
                    break;
                case "<metadata":
                    ;
                case "</metadata>":
                    break;
                case "<metadataTypes":
                    ;
                case "</metadataTypes>":
                    break;
                case "<metadataType":
                    a.Types.push(
                        {
                            name: r.name
                        });
                    break;
                case "</metadataType>":
                    break;
                case "<futureMetadata":
                    for (var f = 0; f < a.Types.length; ++f)
                        if (a.Types[f].name == r.name) s = a.Types[f];
                    break;
                case "</futureMetadata>":
                    break;
                case "<bk>":
                    break;
                case "</bk>":
                    break;
                case "<rc":
                    if (i == 1) a.Cell.push(
                        {
                            type: a.Types[r.t - 1].name,
                            index: +r.v
                        });
                    else if (i == 0) a.Value.push(
                        {
                            type: a.Types[r.t - 1].name,
                            index: +r.v
                        });
                    break;
                case "</rc>":
                    break;
                case "<cellMetadata":
                    i = 1;
                    break;
                case "</cellMetadata>":
                    i = 2;
                    break;
                case "<valueMetadata":
                    i = 0;
                    break;
                case "</valueMetadata>":
                    i = 2;
                    break;
                case "<extLst":
                    ;
                case "<extLst>":
                    ;
                case "</extLst>":
                    ;
                case "<extLst/>":
                    break;
                case "<ext":
                    n = true;
                    break;
                case "</ext>":
                    n = false;
                    break;
                case "<rvb":
                    if (!s) break;
                    if (!s.offsets) s.offsets = [];
                    s.offsets.push(+r.i);
                    break;
                default:
                    if (!n && t.WTF) throw new Error("unrecognized " + r[0] + " in metadata");
            }
            return e
        });
        return a
    }

    function Jl() {
        var e = [Mr];
        e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>');
        return e.join("")
    }

    function ql(e) {
        var r = [];
        if (!e) return r;
        var t = 1;
        (e.match(Hr) || []).forEach(function (e) {
            var a = Gr(e);
            switch (a[0]) {
                case "<?xml":
                    break;
                case "<calcChain":
                    ;
                case "<calcChain>":
                    ;
                case "</calcChain>":
                    break;
                case "<c":
                    delete a[0];
                    if (a.i) t = a.i;
                    else a.i = t;
                    r.push(a);
                    break;
            }
        });
        return r
    }

    function Zl(e) {
        var r = {};
        r.i = e._R(4);
        var t = {};
        t.r = e._R(4);
        t.c = e._R(4);
        r.r = Oa(t);
        var a = e._R(1);
        if (a & 2) r.l = "1";
        if (a & 8) r.a = "1";
        return r
    }

    function Ql(e, r, t) {
        var a = [];
        var n = false;
        da(e, function i(e, r, s) {
            switch (s) {
                case 63:
                    a.push(e);
                    break;
                default:
                    if (r.T) { }
                    else if (!n || t.WTF) throw new Error("Unexpected record 0x" + s.toString(16));
            }
        });
        return a
    }

    function eu() { }

    function ru(e, r, t, a) {
        if (!e) return e;
        var n = a ||
            {};
        var i = false,
            s = false;
        da(e, function f(e, r, t) {
            if (s) return;
            switch (t) {
                case 359:
                    ;
                case 363:
                    ;
                case 364:
                    ;
                case 366:
                    ;
                case 367:
                    ;
                case 368:
                    ;
                case 369:
                    ;
                case 370:
                    ;
                case 371:
                    ;
                case 472:
                    ;
                case 577:
                    ;
                case 578:
                    ;
                case 579:
                    ;
                case 580:
                    ;
                case 581:
                    ;
                case 582:
                    ;
                case 583:
                    ;
                case 584:
                    ;
                case 585:
                    ;
                case 586:
                    ;
                case 587:
                    break;
                case 35:
                    i = true;
                    break;
                case 36:
                    i = false;
                    break;
                default:
                    if (r.T) { }
                    else if (!i || n.WTF) throw new Error("Unexpected record 0x" + t.toString(16));
            }
        }, n)
    }

    function tu(e, r) {
        if (!e) return "??";
        var t = (e.match(/<c:chart [^>]*r:id="([^"]*)"/) || ["", ""])[1];
        return r["!id"][t].Target
    }
    var au = 1024;

    function nu(e, r) {
        var t = [21600, 21600];
        var a = ["m0,0l0", t[1], t[0], t[1], t[0], "0xe"].join(",");
        var n = [kt("xml", null,
            {
                "xmlns:v": xt.v,
                "xmlns:o": xt.o,
                "xmlns:x": xt.x,
                "xmlns:mv": xt.mv
            }).replace(/\/>/, ">"), kt("o:shapelayout", kt("o:idmap", null,
                {
                    "v:ext": "edit",
                    data: e
                }),
                {
                    "v:ext": "edit"
                }), kt("v:shapetype", [kt("v:stroke", null,
                    {
                        joinstyle: "miter"
                    }), kt("v:path", null,
                        {
                            gradientshapeok: "t",
                            "o:connecttype": "rect"
                        })].join(""),
                    {
                        id: "_x0000_t202",
                        "o:spt": 202,
                        coordsize: t.join(","),
                        path: a
                    })];
        while (au < e * 1e3) au += 1e3;
        r.forEach(function (e) {
            var r = Ra(e[0]);
            var t = {
                color2: "#BEFF82",
                type: "gradient"
            };
            if (t.type == "gradient") t.angle = "-180";
            var a = t.type == "gradient" ? kt("o:fill", null,
                {
                    type: "gradientUnscaled",
                    "v:ext": "view"
                }) : null;
            var i = kt("v:fill", a, t);
            var s = {
                on: "t",
                obscured: "t"
            };
            ++au;
            n = n.concat(["<v:shape" + wt(
                {
                    id: "_x0000_s" + au,
                    type: "#_x0000_t202",
                    style: "position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10" + (e[1].hidden ? ";visibility:hidden" : ""),
                    fillcolor: "#ECFAD4",
                    strokecolor: "#edeaa1"
                }) + ">", i, kt("v:shadow", null, s), kt("v:path", null,
                    {
                        "o:connecttype": "none"
                    }), '<v:textbox><div style="text-align:left"></div></v:textbox>', '<x:ClientData ObjectType="Note">', "<x:MoveWithCells/>", "<x:SizeWithCells/>", gt("x:Anchor", [r.c + 1, 0, r.r + 1, 0, r.c + 3, 20, r.r + 5, 20].join(",")), gt("x:AutoFill", "False"), gt("x:Row", String(r.r)), gt("x:Column", String(r.c)), e[1].hidden ? "" : "<x:Visible/>", "</x:ClientData>", "</v:shape>"])
        });
        n.push("</xml>");
        return n.join("")
    }

    function iu(e, r, t, a) {
        var n = Array.isArray(e);
        var i;
        r.forEach(function (r) {
            var s = Ra(r.ref);
            if (n) {
                if (!e[s.r]) e[s.r] = [];
                i = e[s.r][s.c]
            }
            else i = e[r.ref];
            if (!i) {
                i = {
                    t: "z"
                };
                if (n) e[s.r][s.c] = i;
                else e[r.ref] = i;
                var f = Fa(e["!ref"] || "BDWGO1000001:A1");
                if (f.s.r > s.r) f.s.r = s.r;
                if (f.e.r < s.r) f.e.r = s.r;
                if (f.s.c > s.c) f.s.c = s.c;
                if (f.e.c < s.c) f.e.c = s.c;
                var o = Na(f);
                if (o !== e["!ref"]) e["!ref"] = o
            }
            if (!i.c) i.c = [];
            var c = {
                a: r.author,
                t: r.t,
                r: r.r,
                T: t
            };
            if (r.h) c.h = r.h;
            for (var l = i.c.length - 1; l >= 0; --l) {
                if (!t && i.c[l].T) return;
                if (t && !i.c[l].T) i.c.splice(l, 1)
            }
            if (t && a)
                for (l = 0; l < a.length; ++l) {
                    if (c.a == a[l].id) {
                        c.a = a[l].name || c.a;
                        break
                    }
                }
            i.c.push(c)
        })
    }

    function su(e, r) {
        if (e.match(/<(?:\w+:)?comments *\/>/)) return [];
        var t = [];
        var a = [];
        var n = e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);
        if (n && n[1]) n[1].split(/<\/\w*:?author>/).forEach(function (e) {
            if (e === "" || e.trim() === "") return;
            var r = e.match(/<(?:\w+:)?author[^>]*>(.*)/);
            if (r) t.push(r[1])
        });
        var i = e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);
        if (i && i[1]) i[1].split(/<\/\w*:?comment>/).forEach(function (e) {
            if (e === "" || e.trim() === "") return;
            var n = e.match(/<(?:\w+:)?comment[^>]*>/);
            if (!n) return;
            var i = Gr(n[0]);
            var s = {
                author: i.authorId && t[i.authorId] || "sheetjsghost",
                ref: i.ref,
                guid: i.guid
            };
            var f = Ra(i.ref);
            if (r.sheetRows && r.sheetRows <= f.r) return;
            var o = e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/);
            var c = !!o && !!o[1] && Po(o[1]) ||
            {
                r: "",
                t: "",
                h: ""
            };
            s.r = c.r;
            if (c.r == "<t></t>") c.t = c.h = "";
            s.t = (c.t || "").replace(/\r\n/g, "\n").replace(/\r/g, "\n");
            if (r.cellHTML) s.h = c.h;
            a.push(s)
        });
        return a
    }

    function fu(e) {
        var r = [Mr, kt("comments", null,
            {
                xmlns: At[0]
            })];
        var t = [];
        r.push("<authors>");
        e.forEach(function (e) {
            e[1].forEach(function (e) {
                var a = qr(e.a);
                if (t.indexOf(a) == -1) {
                    t.push(a);
                    r.push("<author>" + a + "</author>")
                }
                if (e.T && e.ID && t.indexOf("tc=" + e.ID) == -1) {
                    t.push("tc=" + e.ID);
                    r.push("<author>" + "tc=" + e.ID + "</author>")
                }
            })
        });
        if (t.length == 0) {
            t.push("SheetJ5");
            r.push("<author>SheetJ5</author>")
        }
        r.push("</authors>");
        r.push("<commentList>");
        e.forEach(function (e) {
            var a = 0,
                n = [];
            if (e[1][0] && e[1][0].T && e[1][0].ID) a = t.indexOf("tc=" + e[1][0].ID);
            else e[1].forEach(function (e) {
                if (e.a) a = t.indexOf(qr(e.a));
                n.push(e.t || "")
            });
            r.push('<comment ref="' + e[0] + '" authorId="' + a + '"><text>');
            if (n.length <= 1) r.push(gt("t", qr(n[0] || "")));
            else {
                var i = "Comment:\n    " + n[0] + "\n";
                for (var s = 1; s < n.length; ++s) i += "Reply:\n    " + n[s] + "\n";
                r.push(gt("t", qr(i)))
            }
            r.push("</text></comment>")
        });
        r.push("</commentList>");
        if (r.length > 2) {
            r[r.length] = "</comments>";
            r[1] = r[1].replace("/>", ">")
        }
        return r.join("")
    }

    function ou(e, r) {
        var t = [];
        var a = false,
            n = {},
            i = 0;
        e.replace(Hr, function s(f, o) {
            var c = Gr(f);
            switch (jr(c[0])) {
                case "<?xml":
                    break;
                case "<ThreadedComments":
                    break;
                case "</ThreadedComments>":
                    break;
                case "<threadedComment":
                    n = {
                        author: c.personId,
                        guid: c.id,
                        ref: c.ref,
                        T: 1
                    };
                    break;
                case "</threadedComment>":
                    if (n.t != null) t.push(n);
                    break;
                case "<text>":
                    ;
                case "<text":
                    i = o + f.length;
                    break;
                case "</text>":
                    n.t = e.slice(i, o).replace(/\r\n/g, "\n").replace(/\r/g, "\n");
                    break;
                case "<mentions":
                    ;
                case "<mentions>":
                    a = true;
                    break;
                case "</mentions>":
                    a = false;
                    break;
                case "<extLst":
                    ;
                case "<extLst>":
                    ;
                case "</extLst>":
                    ;
                case "<extLst/>":
                    break;
                case "<ext":
                    a = true;
                    break;
                case "</ext>":
                    a = false;
                    break;
                default:
                    if (!a && r.WTF) throw new Error("unrecognized " + c[0] + " in threaded comments");
            }
            return f
        });
        return t
    }

    function cu(e, r, t) {
        var a = [Mr, kt("ThreadedComments", null,
            {
                xmlns: _t.TCMNT
            }).replace(/[\/]>/, ">")];
        e.forEach(function (e) {
            var n = "";
            (e[1] || []).forEach(function (i, s) {
                if (!i.T) {
                    delete i.ID;
                    return
                }
                if (i.a && r.indexOf(i.a) == -1) r.push(i.a);
                var f = {
                    ref: e[0],
                    id: "{54EE7951-7262-4200-6969-" + ("000000000000" + t.tcid++).slice(-12) + "}"
                };
                if (s == 0) n = f.id;
                else f.parentId = n;
                i.ID = f.id;
                if (i.a) f.personId = "{54EE7950-7262-4200-6969-" + ("000000000000" + r.indexOf(i.a)).slice(-12) + "}";
                a.push(kt("threadedComment", gt("text", i.t || ""), f))
            })
        });
        a.push("</ThreadedComments>");
        return a.join("")
    }

    function lu(e, r) {
        var t = [];
        var a = false;
        e.replace(Hr, function n(e) {
            var n = Gr(e);
            switch (jr(n[0])) {
                case "<?xml":
                    break;
                case "<personList":
                    break;
                case "</personList>":
                    break;
                case "<person":
                    t.push(
                        {
                            name: n.displayname,
                            id: n.id
                        });
                    break;
                case "</person>":
                    break;
                case "<extLst":
                    ;
                case "<extLst>":
                    ;
                case "</extLst>":
                    ;
                case "<extLst/>":
                    break;
                case "<ext":
                    a = true;
                    break;
                case "</ext>":
                    a = false;
                    break;
                default:
                    if (!a && r.WTF) throw new Error("unrecognized " + n[0] + " in threaded comments");
            }
            return e
        });
        return t
    }

    function uu(e) {
        var r = [Mr, kt("personList", null,
            {
                xmlns: _t.TCMNT,
                "xmlns:x": At[0]
            }).replace(/[\/]>/, ">")];
        e.forEach(function (e, t) {
            r.push(kt("person", null,
                {
                    displayName: e,
                    id: "{54EE7950-7262-4200-6969-" + ("000000000000" + t).slice(-12) + "}",
                    userId: e,
                    providerId: "None"
                }))
        });
        r.push("</personList>");
        return r.join("")
    }

    function hu(e) {
        var r = {};
        r.iauthor = e._R(4);
        var t = un(e, 16);
        r.rfx = t.s;
        r.ref = Oa(t.s);
        e.l += 16;
        return r
    }

    function du(e, r) {
        if (r == null) r = ha(36);
        r._W(4, e[1].iauthor);
        hn(e[0], r);
        r._W(4, 0);
        r._W(4, 0);
        r._W(4, 0);
        r._W(4, 0);
        return r
    }
    var vu = Ha;

    function pu(e) {
        return za(e.slice(0, 54))
    }

    function mu(e, r) {
        var t = [];
        var a = [];
        var n = {};
        var i = false;
        da(e, function s(e, f, o) {
            switch (o) {
                case 632:
                    a.push(e);
                    break;
                case 635:
                    n = e;
                    break;
                case 637:
                    n.t = e.t;
                    n.h = e.h;
                    n.r = e.r;
                    break;
                case 636:
                    n.author = a[n.iauthor];
                    delete n.iauthor;
                    if (r.sheetRows && n.rfx && r.sheetRows <= n.rfx.r) break;
                    if (!n.t) n.t = "";
                    delete n.rfx;
                    t.push(n);
                    break;
                case 3072:
                    break;
                case 35:
                    i = true;
                    break;
                case 36:
                    i = false;
                    break;
                case 37:
                    break;
                case 38:
                    break;
                default:
                    if (f.T) { }
                    else if (!i || r.WTF) throw new Error("Unexpected record 0x" + o.toString(16));
            }
        });
        return t
    }

    function bu(e) {
        var r = va();
        var t = [];
        pa(r, 628);
        pa(r, 630);
        e.forEach(function (e) {
            e[1].forEach(function (e) {
                if (t.indexOf(e.a) > -1) return;
                t.push(e.a.slice(0, 54));
                pa(r, 632, pu(e.a))
            })
        });
        pa(r, 631);
        pa(r, 633);
        e.forEach(function (e) {
            e[1].forEach(function (a) {
                a.iauthor = t.indexOf(a.a);
                var n = {
                    s: Ra(e[0]),
                    e: Ra(e[0])
                };
                pa(r, 635, du([n, a]));
                if (a.t && a.t.length > 0) pa(r, 637, Ya(a));
                pa(r, 636);
                delete a.iauthor
            })
        });
        pa(r, 634);
        pa(r, 629);
        return r.end()
    }
    var gu = "application/vnd.ms-office.vbaProject";

    function wu(e) {
        var r = Ke.utils.cfb_new(
            {
                root: "R"
            });
        e.FullPaths.forEach(function (t, a) {
            if (t.slice(-1) === "/" || !t.match(/_VBA_PROJECT_CUR/)) return;
            var n = t.replace(/^[^\/]*/, "R").replace(/\/_VBA_PROJECT_CUR\u0000*/, "");
            Ke.utils.cfb_add(r, n, e.FileIndex[a].content)
        });
        return Ke.write(r)
    }

    function ku(e, r) {
        r.FullPaths.forEach(function (t, a) {
            if (a == 0) return;
            var n = t.replace(/[^\/]*[\/]/, "/_VBA_PROJECT_CUR/");
            if (n.slice(-1) !== "/") Ke.utils.cfb_add(e, n, r.FileIndex[a].content)
        })
    }
    var Tu = ["xlsb", "xlsm", "xlam", "biff8", "xla"];

    function Eu() {
        return {
            "!type": "dialog"
        }
    }

    function yu() {
        return {
            "!type": "dialog"
        }
    }

    function Su() {
        return {
            "!type": "macro"
        }
    }

    function _u() {
        return {
            "!type": "macro"
        }
    }
    var Au = function () {
        var e = /(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g;
        var r = {
            r: 0,
            c: 0
        };

        function t(e, t, a, n) {
            var i = false,
                s = false;
            if (a.length == 0) s = true;
            else if (a.charAt(0) == "[") {
                s = true;
                a = a.slice(1, -1)
            }
            if (n.length == 0) i = true;
            else if (n.charAt(0) == "[") {
                i = true;
                n = n.slice(1, -1)
            }
            var f = a.length > 0 ? parseInt(a, 10) | 0 : 0,
                o = n.length > 0 ? parseInt(n, 10) | 0 : 0;
            if (i) o += r.c;
            else --o;
            if (s) f += r.r;
            else --f;
            return t + (i ? "" : "$") + _a(o) + (s ? "" : "$") + Ta(f)
        }
        return function a(n, i) {
            r = i;
            return n.replace(e, t)
        }
    }();
    var xu = /(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g;
    var Cu = function () {
        return function e(r, t) {
            return r.replace(xu, function (e, r, a, n, i, s) {
                var f = Sa(n) - (a ? 0 : t.c);
                var o = ka(s) - (i ? 0 : t.r);
                var c = o == 0 ? "" : !i ? "[" + o + "]" : o + 1;
                var l = f == 0 ? "" : !a ? "[" + f + "]" : f + 1;
                return r + "R" + c + "C" + l
            })
        }
    }();

    function Ru(e, r) {
        return e.replace(xu, function (e, t, a, n, i, s) {
            return t + (a == "$" ? a + n : _a(Sa(n) + r.c)) + (i == "$" ? i + s : Ta(ka(s) + r.r))
        })
    }

    function Ou(e, r, t) {
        var a = Ia(r),
            n = a.s,
            i = Ra(t);
        var s = {
            r: i.r - n.r,
            c: i.c - n.c
        };
        return Ru(e, s)
    }

    function Iu(e) {
        if (e.length == 1) return false;
        return true
    }

    function Nu(e) {
        return e.replace(/_xlfn\./g, "")
    }

    function Fu(e) {
        e.l += 1;
        return
    }

    function Du(e, r) {
        var t = e._R(r == 1 ? 1 : 2);
        return [t & 16383, t >> 14 & 1, t >> 15 & 1]
    }

    function Pu(e, r, t) {
        var a = 2;
        if (t) {
            if (t.biff >= 2 && t.biff <= 5) return Lu(e, r, t);
            else if (t.biff == 12) a = 4
        }
        var n = e._R(a),
            i = e._R(a);
        var s = Du(e, 2);
        var f = Du(e, 2);
        return {
            s:
            {
                r: n,
                c: s[0],
                cRel: s[1],
                rRel: s[2]
            },
            e:
            {
                r: i,
                c: f[0],
                cRel: f[1],
                rRel: f[2]
            }
        }
    }

    function Lu(e) {
        var r = Du(e, 2),
            t = Du(e, 2);
        var a = e._R(1);
        var n = e._R(1);
        return {
            s:
            {
                r: r[0],
                c: a,
                cRel: r[1],
                rRel: r[2]
            },
            e:
            {
                r: t[0],
                c: n,
                cRel: t[1],
                rRel: t[2]
            }
        }
    }

    function Mu(e, r, t) {
        if (t.biff < 8) return Lu(e, r, t);
        var a = e._R(t.biff == 12 ? 4 : 2),
            n = e._R(t.biff == 12 ? 4 : 2);
        var i = Du(e, 2);
        var s = Du(e, 2);
        return {
            s:
            {
                r: a,
                c: i[0],
                cRel: i[1],
                rRel: i[2]
            },
            e:
            {
                r: n,
                c: s[0],
                cRel: s[1],
                rRel: s[2]
            }
        }
    }

    function Uu(e, r, t) {
        if (t && t.biff >= 2 && t.biff <= 5) return Bu(e, r, t);
        var a = e._R(t && t.biff == 12 ? 4 : 2);
        var n = Du(e, 2);
        return {
            r: a,
            c: n[0],
            cRel: n[1],
            rRel: n[2]
        }
    }

    function Bu(e) {
        var r = Du(e, 2);
        var t = e._R(1);
        return {
            r: r[0],
            c: t,
            cRel: r[1],
            rRel: r[2]
        }
    }

    function Wu(e) {
        var r = e._R(2);
        var t = e._R(2);
        return {
            r: r,
            c: t & 255,
            fQuoted: !!(t & 16384),
            cRel: t >> 15,
            rRel: t >> 15
        }
    }

    function Hu(e, r, t) {
        var a = t && t.biff ? t.biff : 8;
        if (a >= 2 && a <= 5) return zu(e, r, t);
        var n = e._R(a >= 12 ? 4 : 2);
        var i = e._R(2);
        var s = (i & 16384) >> 14,
            f = (i & 32768) >> 15;
        i &= 16383;
        if (f == 1)
            while (n > 524287) n -= 1048576;
        if (s == 1)
            while (i > 8191) i = i - 16384;
        return {
            r: n,
            c: i,
            cRel: s,
            rRel: f
        }
    }

    function zu(e) {
        var r = e._R(2);
        var t = e._R(1);
        var a = (r & 32768) >> 15,
            n = (r & 16384) >> 14;
        r &= 16383;
        if (a == 1 && r >= 8192) r = r - 16384;
        if (n == 1 && t >= 128) t = t - 256;
        return {
            r: r,
            c: t,
            cRel: n,
            rRel: a
        }
    }

    function Vu(e, r, t) {
        var a = (e[e.l++] & 96) >> 5;
        var n = Pu(e, t.biff >= 2 && t.biff <= 5 ? 6 : 8, t);
        return [a, n]
    }

    function Gu(e, r, t) {
        var a = (e[e.l++] & 96) >> 5;
        var n = e._R(2, "i");
        var i = 8;
        if (t) switch (t.biff) {
            case 5:
                e.l += 12;
                i = 6;
                break;
            case 12:
                i = 12;
                break;
        }
        var s = Pu(e, i, t);
        return [a, n, s]
    }

    function ju(e, r, t) {
        var a = (e[e.l++] & 96) >> 5;
        e.l += t && t.biff > 8 ? 12 : t.biff < 8 ? 6 : 8;
        return [a]
    }

    function Xu(e, r, t) {
        var a = (e[e.l++] & 96) >> 5;
        var n = e._R(2);
        var i = 8;
        if (t) switch (t.biff) {
            case 5:
                e.l += 12;
                i = 6;
                break;
            case 12:
                i = 12;
                break;
        }
        e.l += i;
        return [a, n]
    }

    function $u(e, r, t) {
        var a = (e[e.l++] & 96) >> 5;
        var n = Mu(e, r - 1, t);
        return [a, n]
    }

    function Yu(e, r, t) {
        var a = (e[e.l++] & 96) >> 5;
        e.l += t.biff == 2 ? 6 : t.biff == 12 ? 14 : 7;
        return [a]
    }

    function Ku(e) {
        var r = e[e.l + 1] & 1;
        var t = 1;
        e.l += 4;
        return [r, t]
    }

    function Ju(e, r, t) {
        e.l += 2;
        var a = e._R(t && t.biff == 2 ? 1 : 2);
        var n = [];
        for (var i = 0; i <= a; ++i) n.push(e._R(t && t.biff == 2 ? 1 : 2));
        return n
    }

    function qu(e, r, t) {
        var a = e[e.l + 1] & 255 ? 1 : 0;
        e.l += 2;
        return [a, e._R(t && t.biff == 2 ? 1 : 2)]
    }

    function Zu(e, r, t) {
        var a = e[e.l + 1] & 255 ? 1 : 0;
        e.l += 2;
        return [a, e._R(t && t.biff == 2 ? 1 : 2)]
    }

    function Qu(e) {
        var r = e[e.l + 1] & 255 ? 1 : 0;
        e.l += 2;
        return [r, e._R(2)]
    }

    function eh(e, r, t) {
        var a = e[e.l + 1] & 255 ? 1 : 0;
        e.l += t && t.biff == 2 ? 3 : 4;
        return [a]
    }

    function rh(e) {
        var r = e._R(1),
            t = e._R(1);
        return [r, t]
    }

    function th(e) {
        e._R(2);
        return rh(e, 2)
    }

    function ah(e) {
        e._R(2);
        return rh(e, 2)
    }

    function nh(e, r, t) {
        var a = (e[e.l] & 96) >> 5;
        e.l += 1;
        var n = Uu(e, 0, t);
        return [a, n]
    }

    function ih(e, r, t) {
        var a = (e[e.l] & 96) >> 5;
        e.l += 1;
        var n = Hu(e, 0, t);
        return [a, n]
    }

    function sh(e, r, t) {
        var a = (e[e.l] & 96) >> 5;
        e.l += 1;
        var n = e._R(2);
        if (t && t.biff == 5) e.l += 12;
        var i = Uu(e, 0, t);
        return [a, n, i]
    }

    function fh(e, r, t) {
        var a = (e[e.l] & 96) >> 5;
        e.l += 1;
        var n = e._R(t && t.biff <= 3 ? 1 : 2);
        return [yd[n], Ed[n], a]
    }

    function oh(e, r, t) {
        var a = e[e.l++];
        var n = e._R(1),
            i = t && t.biff <= 3 ? [a == 88 ? -1 : 0, e._R(1)] : ch(e);
        return [n, (i[0] === 0 ? Ed : Td)[i[1]]]
    }

    function ch(e) {
        return [e[e.l + 1] >> 7, e._R(2) & 32767]
    }

    function lh(e, r, t) {
        e.l += t && t.biff == 2 ? 3 : 4;
        return
    }

    function uh(e, r, t) {
        e.l++;
        if (t && t.biff == 12) return [e._R(4, "i"), 0];
        var a = e._R(2);
        var n = e._R(t && t.biff == 2 ? 1 : 2);
        return [a, n]
    }

    function hh(e) {
        e.l++;
        return Gn[e._R(1)]
    }

    function dh(e) {
        e.l++;
        return e._R(2)
    }

    function vh(e) {
        e.l++;
        return e._R(1) !== 0
    }

    function ph(e) {
        e.l++;
        return dn(e, 8)
    }

    function mh(e, r, t) {
        e.l++;
        return is(e, r - 1, t)
    }

    function bh(e, r) {
        var t = [e._R(1)];
        if (r == 12) switch (t[0]) {
            case 2:
                t[0] = 4;
                break;
            case 4:
                t[0] = 16;
                break;
            case 0:
                t[0] = 1;
                break;
            case 1:
                t[0] = 2;
                break;
        }
        switch (t[0]) {
            case 4:
                t[1] = Zi(e, 1) ? "TRUE" : "FALSE";
                if (r != 12) e.l += 7;
                break;
            case 37:
                ;
            case 16:
                t[1] = Gn[e[e.l]];
                e.l += r == 12 ? 4 : 8;
                break;
            case 0:
                e.l += 8;
                break;
            case 1:
                t[1] = dn(e, 8);
                break;
            case 2:
                t[1] = ls(e, 0,
                    {
                        biff: r > 0 && r < 8 ? 2 : r
                    });
                break;
            default:
                throw new Error("Bad SerAr: " + t[0]);
        }
        return t
    }

    function gh(e, r, t) {
        var a = e._R(t.biff == 12 ? 4 : 2);
        var n = [];
        for (var i = 0; i != a; ++i) n.push((t.biff == 12 ? un : Rs)(e, 8));
        return n
    }

    function wh(e, r, t) {
        var a = 0,
            n = 0;
        if (t.biff == 12) {
            a = e._R(4);
            n = e._R(4)
        }
        else {
            n = 1 + e._R(1);
            a = 1 + e._R(2)
        }
        if (t.biff >= 2 && t.biff < 8) {
            --a;
            if (--n == 0) n = 256
        }
        for (var i = 0, s = []; i != a && (s[i] = []); ++i)
            for (var f = 0; f != n; ++f) s[i][f] = bh(e, t.biff);
        return s
    }

    function kh(e, r, t) {
        var a = e._R(1) >>> 5 & 3;
        var n = !t || t.biff >= 8 ? 4 : 2;
        var i = e._R(n);
        switch (t.biff) {
            case 2:
                e.l += 5;
                break;
            case 3:
                ;
            case 4:
                e.l += 8;
                break;
            case 5:
                e.l += 12;
                break;
        }
        return [a, 0, i]
    }

    function Th(e, r, t) {
        if (t.biff == 5) return Eh(e, r, t);
        var a = e._R(1) >>> 5 & 3;
        var n = e._R(2);
        var i = e._R(4);
        return [a, n, i]
    }

    function Eh(e) {
        var r = e._R(1) >>> 5 & 3;
        var t = e._R(2, "i");
        e.l += 8;
        var a = e._R(2);
        e.l += 12;
        return [r, t, a]
    }

    function yh(e, r, t) {
        var a = e._R(1) >>> 5 & 3;
        e.l += t && t.biff == 2 ? 3 : 4;
        var n = e._R(t && t.biff == 2 ? 1 : 2);
        return [a, n]
    }

    function Sh(e, r, t) {
        var a = e._R(1) >>> 5 & 3;
        var n = e._R(t && t.biff == 2 ? 1 : 2);
        return [a, n]
    }

    function _h(e, r, t) {
        var a = e._R(1) >>> 5 & 3;
        e.l += 4;
        if (t.biff < 8) e.l--;
        if (t.biff == 12) e.l += 2;
        return [a]
    }

    function Ah(e, r, t) {
        var a = (e[e.l++] & 96) >> 5;
        var n = e._R(2);
        var i = 4;
        if (t) switch (t.biff) {
            case 5:
                i = 15;
                break;
            case 12:
                i = 6;
                break;
        }
        e.l += i;
        return [a, n]
    }
    var xh = ua;
    var Ch = ua;
    var Rh = ua;

    function Oh(e, r, t) {
        e.l += 2;
        return [Wu(e, 4, t)]
    }

    function Ih(e) {
        e.l += 6;
        return []
    }
    var Nh = Oh;
    var Fh = Ih;
    var Dh = Ih;
    var Ph = Oh;

    function Lh(e) {
        e.l += 2;
        return [es(e), e._R(2) & 1]
    }
    var Mh = Oh;
    var Uh = Lh;
    var Bh = Ih;
    var Wh = Oh;
    var Hh = Oh;
    var zh = ["Data", "All", "Headers", "??", "?Data2", "??", "?DataHeaders", "??", "Totals", "??", "??", "??", "?DataTotals", "??", "??", "??", "?Current"];

    function Vh(e) {
        e.l += 2;
        var r = e._R(2);
        var t = e._R(2);
        var a = e._R(4);
        var n = e._R(2);
        var i = e._R(2);
        var s = zh[t >> 2 & 31];
        return {
            ixti: r,
            coltype: t & 3,
            rt: s,
            idx: a,
            c: n,
            C: i
        }
    }

    function Gh(e) {
        e.l += 2;
        return [e._R(4)]
    }

    function jh(e, r, t) {
        e.l += 5;
        e.l += 2;
        e.l += t.biff == 2 ? 1 : 4;
        return ["PTGSHEET"]
    }

    function Xh(e, r, t) {
        e.l += t.biff == 2 ? 4 : 5;
        return ["PTGENDSHEET"]
    }

    function $h(e) {
        var r = e._R(1) >>> 5 & 3;
        var t = e._R(2);
        return [r, t]
    }

    function Yh(e) {
        var r = e._R(1) >>> 5 & 3;
        var t = e._R(2);
        return [r, t]
    }

    function Kh(e) {
        e.l += 4;
        return [0, 0]
    }
    var Jh = {
        1:
        {
            n: "PtgExp",
            f: uh
        },
        2:
        {
            n: "PtgTbl",
            f: Rh
        },
        3:
        {
            n: "PtgAdd",
            f: Fu
        },
        4:
        {
            n: "PtgSub",
            f: Fu
        },
        5:
        {
            n: "PtgMul",
            f: Fu
        },
        6:
        {
            n: "PtgDiv",
            f: Fu
        },
        7:
        {
            n: "PtgPower",
            f: Fu
        },
        8:
        {
            n: "PtgConcat",
            f: Fu
        },
        9:
        {
            n: "PtgLt",
            f: Fu
        },
        10:
        {
            n: "PtgLe",
            f: Fu
        },
        11:
        {
            n: "PtgEq",
            f: Fu
        },
        12:
        {
            n: "PtgGe",
            f: Fu
        },
        13:
        {
            n: "PtgGt",
            f: Fu
        },
        14:
        {
            n: "PtgNe",
            f: Fu
        },
        15:
        {
            n: "PtgIsect",
            f: Fu
        },
        16:
        {
            n: "PtgUnion",
            f: Fu
        },
        17:
        {
            n: "PtgRange",
            f: Fu
        },
        18:
        {
            n: "PtgUplus",
            f: Fu
        },
        19:
        {
            n: "PtgUminus",
            f: Fu
        },
        20:
        {
            n: "PtgPercent",
            f: Fu
        },
        21:
        {
            n: "PtgParen",
            f: Fu
        },
        22:
        {
            n: "PtgMissArg",
            f: Fu
        },
        23:
        {
            n: "PtgStr",
            f: mh
        },
        26:
        {
            n: "PtgSheet",
            f: jh
        },
        27:
        {
            n: "PtgEndSheet",
            f: Xh
        },
        28:
        {
            n: "PtgErr",
            f: hh
        },
        29:
        {
            n: "PtgBool",
            f: vh
        },
        30:
        {
            n: "PtgInt",
            f: dh
        },
        31:
        {
            n: "PtgNum",
            f: ph
        },
        32:
        {
            n: "PtgArray",
            f: Yu
        },
        33:
        {
            n: "PtgFunc",
            f: fh
        },
        34:
        {
            n: "PtgFuncVar",
            f: oh
        },
        35:
        {
            n: "PtgName",
            f: kh
        },
        36:
        {
            n: "PtgRef",
            f: nh
        },
        37:
        {
            n: "PtgArea",
            f: Vu
        },
        38:
        {
            n: "PtgMemArea",
            f: yh
        },
        39:
        {
            n: "PtgMemErr",
            f: xh
        },
        40:
        {
            n: "PtgMemNoMem",
            f: Ch
        },
        41:
        {
            n: "PtgMemFunc",
            f: Sh
        },
        42:
        {
            n: "PtgRefErr",
            f: _h
        },
        43:
        {
            n: "PtgAreaErr",
            f: ju
        },
        44:
        {
            n: "PtgRefN",
            f: ih
        },
        45:
        {
            n: "PtgAreaN",
            f: $u
        },
        46:
        {
            n: "PtgMemAreaN",
            f: $h
        },
        47:
        {
            n: "PtgMemNoMemN",
            f: Yh
        },
        57:
        {
            n: "PtgNameX",
            f: Th
        },
        58:
        {
            n: "PtgRef3d",
            f: sh
        },
        59:
        {
            n: "PtgArea3d",
            f: Gu
        },
        60:
        {
            n: "PtgRefErr3d",
            f: Ah
        },
        61:
        {
            n: "PtgAreaErr3d",
            f: Xu
        },
        255:
            {}
    };
    var qh = {
        64: 32,
        96: 32,
        65: 33,
        97: 33,
        66: 34,
        98: 34,
        67: 35,
        99: 35,
        68: 36,
        100: 36,
        69: 37,
        101: 37,
        70: 38,
        102: 38,
        71: 39,
        103: 39,
        72: 40,
        104: 40,
        73: 41,
        105: 41,
        74: 42,
        106: 42,
        75: 43,
        107: 43,
        76: 44,
        108: 44,
        77: 45,
        109: 45,
        78: 46,
        110: 46,
        79: 47,
        111: 47,
        88: 34,
        120: 34,
        89: 57,
        121: 57,
        90: 58,
        122: 58,
        91: 59,
        123: 59,
        92: 60,
        124: 60,
        93: 61,
        125: 61
    };
    var Zh = {
        1:
        {
            n: "PtgElfLel",
            f: Lh
        },
        2:
        {
            n: "PtgElfRw",
            f: Wh
        },
        3:
        {
            n: "PtgElfCol",
            f: Nh
        },
        6:
        {
            n: "PtgElfRwV",
            f: Hh
        },
        7:
        {
            n: "PtgElfColV",
            f: Ph
        },
        10:
        {
            n: "PtgElfRadical",
            f: Mh
        },
        11:
        {
            n: "PtgElfRadicalS",
            f: Bh
        },
        13:
        {
            n: "PtgElfColS",
            f: Fh
        },
        15:
        {
            n: "PtgElfColSV",
            f: Dh
        },
        16:
        {
            n: "PtgElfRadicalLel",
            f: Uh
        },
        25:
        {
            n: "PtgList",
            f: Vh
        },
        29:
        {
            n: "PtgSxName",
            f: Gh
        },
        255:
            {}
    };
    var Qh = {
        0:
        {
            n: "PtgAttrNoop",
            f: Kh
        },
        1:
        {
            n: "PtgAttrSemi",
            f: eh
        },
        2:
        {
            n: "PtgAttrIf",
            f: Zu
        },
        4:
        {
            n: "PtgAttrChoose",
            f: Ju
        },
        8:
        {
            n: "PtgAttrGoto",
            f: qu
        },
        16:
        {
            n: "PtgAttrSum",
            f: lh
        },
        32:
        {
            n: "PtgAttrBaxcel",
            f: Ku
        },
        33:
        {
            n: "PtgAttrBaxcel",
            f: Ku
        },
        64:
        {
            n: "PtgAttrSpace",
            f: th
        },
        65:
        {
            n: "PtgAttrSpaceSemi",
            f: ah
        },
        128:
        {
            n: "PtgAttrIfError",
            f: Qu
        },
        255:
            {}
    };

    function ed(e, r, t, a) {
        if (a.biff < 8) return ua(e, r);
        var n = e.l + r;
        var i = [];
        for (var s = 0; s !== t.length; ++s) {
            switch (t[s][0]) {
                case "PtgArray":
                    t[s][1] = wh(e, 0, a);
                    i.push(t[s][1]);
                    break;
                case "PtgMemArea":
                    t[s][2] = gh(e, t[s][1], a);
                    i.push(t[s][2]);
                    break;
                case "PtgExp":
                    if (a && a.biff == 12) {
                        t[s][1][1] = e._R(4);
                        i.push(t[s][1])
                    }
                    break;
                case "PtgList":
                    ;
                case "PtgElfRadicalS":
                    ;
                case "PtgElfColS":
                    ;
                case "PtgElfColSV":
                    throw "Unsupported " + t[s][0];
                default:
                    break;
            }
        }
        r = n - e.l;
        if (r !== 0) i.push(ua(e, r));
        return i
    }

    function rd(e, r, t) {
        var a = e.l + r;
        var n, i, s = [];
        while (a != e.l) {
            r = a - e.l;
            i = e[e.l];
            n = Jh[i] || Jh[qh[i]];
            if (i === 24 || i === 25) n = (i === 24 ? Zh : Qh)[e[e.l + 1]];
            if (!n || !n.f) {
                ua(e, r)
            }
            else {
                s.push([n.n, n.f(e, r, t)])
            }
        }
        return s
    }

    function td(e) {
        var r = [];
        for (var t = 0; t < e.length; ++t) {
            var a = e[t],
                n = [];
            for (var i = 0; i < a.length; ++i) {
                var s = a[i];
                if (s) switch (s[0]) {
                    case 2:
                        n.push('"' + s[1].replace(/"/g, '""') + '"');
                        break;
                    default:
                        n.push(s[1]);
                }
                else n.push("")
            }
            r.push(n.join(","))
        }
        return r.join(";")
    }
    var ad = {
        PtgAdd: "+",
        PtgConcat: "&",
        PtgDiv: "/",
        PtgEq: "=",
        PtgGe: ">=",
        PtgGt: ">",
        PtgLe: "<=",
        PtgLt: "<",
        PtgMul: "*",
        PtgNe: "<>",
        PtgPower: "^",
        PtgSub: "-"
    };

    function nd(e, r) {
        if (!e && !(r && r.biff <= 5 && r.biff >= 2)) throw new Error("empty sheet name");
        if (/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)) return "'" + e + "'";
        return e
    }

    function id(e, r, t) {
        if (!e) return "SH33TJSERR0";
        if (t.biff > 8 && (!e.XTI || !e.XTI[r])) return e.SheetNames[r];
        if (!e.XTI) return "SH33TJSERR6";
        var a = e.XTI[r];
        if (t.biff < 8) {
            if (r > 1e4) r -= 65536;
            if (r < 0) r = -r;
            return r == 0 ? "" : e.XTI[r - 1]
        }
        if (!a) return "SH33TJSERR1";
        var n = "";
        if (t.biff > 8) switch (e[a[0]][0]) {
            case 357:
                n = a[1] == -1 ? "#REF" : e.SheetNames[a[1]];
                return a[1] == a[2] ? n : n + ":" + e.SheetNames[a[2]];
            case 358:
                if (t.SID != null) return e.SheetNames[t.SID];
                return "SH33TJSSAME" + e[a[0]][0];
            case 355:
                ;
            default:
                return "SH33TJSSRC" + e[a[0]][0];
        }
        switch (e[a[0]][0][0]) {
            case 1025:
                n = a[1] == -1 ? "#REF" : e.SheetNames[a[1]] || "SH33TJSERR3";
                return a[1] == a[2] ? n : n + ":" + e.SheetNames[a[2]];
            case 14849:
                return e[a[0]].slice(1).map(function (e) {
                    return e.Name
                }).join(";;");
            default:
                if (!e[a[0]][0][3]) return "SH33TJSERR2";
                n = a[1] == -1 ? "#REF" : e[a[0]][0][3][a[1]] || "SH33TJSERR4";
                return a[1] == a[2] ? n : n + ":" + e[a[0]][0][3][a[2]];
        }
    }

    function sd(e, r, t) {
        var a = id(e, r, t);
        return a == "#REF" ? a : nd(a, t)
    }

    function fd(e, r, t, a, n) {
        var i = n && n.biff || 8;
        var s = {
            s:
            {
                c: 0,
                r: 0
            },
            e:
            {
                c: 0,
                r: 0
            }
        };
        var f = [],
            o, c, l, u = 0,
            h = 0,
            d, v = "";
        if (!e[0] || !e[0][0]) return "";
        var p = -1,
            m = "";
        for (var b = 0, g = e[0].length; b < g; ++b) {
            var w = e[0][b];
            switch (w[0]) {
                case "PtgUminus":
                    f.push("-" + f.pop());
                    break;
                case "PtgUplus":
                    f.push("+" + f.pop());
                    break;
                case "PtgPercent":
                    f.push(f.pop() + "%");
                    break;
                case "PtgAdd":
                    ;
                case "PtgConcat":
                    ;
                case "PtgDiv":
                    ;
                case "PtgEq":
                    ;
                case "PtgGe":
                    ;
                case "PtgGt":
                    ;
                case "PtgLe":
                    ;
                case "PtgLt":
                    ;
                case "PtgMul":
                    ;
                case "PtgNe":
                    ;
                case "PtgPower":
                    ;
                case "PtgSub":
                    o = f.pop();
                    c = f.pop();
                    if (p >= 0) {
                        switch (e[0][p][1][0]) {
                            case 0:
                                m = wr(" ", e[0][p][1][1]);
                                break;
                            case 1:
                                m = wr("\r", e[0][p][1][1]);
                                break;
                            default:
                                m = "";
                                if (n.WTF) throw new Error("Unexpected PtgAttrSpaceType " + e[0][p][1][0]);
                        }
                        c = c + m;
                        p = -1
                    }
                    f.push(c + ad[w[0]] + o);
                    break;
                case "PtgIsect":
                    o = f.pop();
                    c = f.pop();
                    f.push(c + " " + o);
                    break;
                case "PtgUnion":
                    o = f.pop();
                    c = f.pop();
                    f.push(c + "," + o);
                    break;
                case "PtgRange":
                    o = f.pop();
                    c = f.pop();
                    f.push(c + ":" + o);
                    break;
                case "PtgAttrChoose":
                    break;
                case "PtgAttrGoto":
                    break;
                case "PtgAttrIf":
                    break;
                case "PtgAttrIfError":
                    break;
                case "PtgRef":
                    l = ma(w[1][1], s, n);
                    f.push(ga(l, i));
                    break;
                case "PtgRefN":
                    l = t ? ma(w[1][1], t, n) : w[1][1];
                    f.push(ga(l, i));
                    break;
                case "PtgRef3d":
                    u = w[1][1];
                    l = ma(w[1][2], s, n);
                    v = sd(a, u, n);
                    var k = v;
                    f.push(v + "!" + ga(l, i));
                    break;
                case "PtgFunc":
                    ;
                case "PtgFuncVar":
                    var T = w[1][0],
                        E = w[1][1];
                    if (!T) T = 0;
                    T &= 127;
                    var y = T == 0 ? [] : f.slice(-T);
                    f.length -= T;
                    if (E === "User") E = y.shift();
                    f.push(E + "(" + y.join(",") + ")");
                    break;
                case "PtgBool":
                    f.push(w[1] ? "TRUE" : "FALSE");
                    break;
                case "PtgInt":
                    f.push(w[1]);
                    break;
                case "PtgNum":
                    f.push(String(w[1]));
                    break;
                case "PtgStr":
                    f.push('"' + w[1].replace(/"/g, '""') + '"');
                    break;
                case "PtgErr":
                    f.push(w[1]);
                    break;
                case "PtgAreaN":
                    d = ba(w[1][1], t ?
                        {
                            s: t
                        } : s, n);
                    f.push(wa(d, n));
                    break;
                case "PtgArea":
                    d = ba(w[1][1], s, n);
                    f.push(wa(d, n));
                    break;
                case "PtgArea3d":
                    u = w[1][1];
                    d = w[1][2];
                    v = sd(a, u, n);
                    f.push(v + "!" + wa(d, n));
                    break;
                case "PtgAttrSum":
                    f.push("SUM(" + f.pop() + ")");
                    break;
                case "PtgAttrBaxcel":
                    ;
                case "PtgAttrSemi":
                    break;
                case "PtgName":
                    h = w[1][2];
                    var S = (a.names || [])[h - 1] || (a[0] || [])[h];
                    var _ = S ? S.Name : "SH33TJSNAME" + String(h);
                    if (_ && _.slice(0, 6) == "_xlfn." && !n.xlfn) _ = _.slice(6);
                    f.push(_);
                    break;
                case "PtgNameX":
                    var A = w[1][1];
                    h = w[1][2];
                    var x;
                    if (n.biff <= 5) {
                        if (A < 0) A = -A;
                        if (a[A]) x = a[A][h]
                    }
                    else {
                        var C = "";
                        if (((a[A] || [])[0] || [])[0] == 14849) { }
                        else if (((a[A] || [])[0] || [])[0] == 1025) {
                            if (a[A][h] && a[A][h].itab > 0) {
                                C = a.SheetNames[a[A][h].itab - 1] + "!"
                            }
                        }
                        else C = a.SheetNames[h - 1] + "!";
                        if (a[A] && a[A][h]) C += a[A][h].Name;
                        else if (a[0] && a[0][h]) C += a[0][h].Name;
                        else {
                            var R = (id(a, A, n) || "").split(";;");
                            if (R[h - 1]) C = R[h - 1];
                            else C += "SH33TJSERRX"
                        }
                        f.push(C);
                        break
                    }
                    if (!x) x = {
                        Name: "SH33TJSERRY"
                    };
                    f.push(x.Name);
                    break;
                case "PtgParen":
                    var O = "(",
                        I = ")";
                    if (p >= 0) {
                        m = "";
                        switch (e[0][p][1][0]) {
                            case 2:
                                O = wr(" ", e[0][p][1][1]) + O;
                                break;
                            case 3:
                                O = wr("\r", e[0][p][1][1]) + O;
                                break;
                            case 4:
                                I = wr(" ", e[0][p][1][1]) + I;
                                break;
                            case 5:
                                I = wr("\r", e[0][p][1][1]) + I;
                                break;
                            default:
                                if (n.WTF) throw new Error("Unexpected PtgAttrSpaceType " + e[0][p][1][0]);
                        }
                        p = -1
                    }
                    f.push(O + f.pop() + I);
                    break;
                case "PtgRefErr":
                    f.push("#REF!");
                    break;
                case "PtgRefErr3d":
                    f.push("#REF!");
                    break;
                case "PtgExp":
                    l = {
                        c: w[1][1],
                        r: w[1][0]
                    };
                    var N = {
                        c: t.c,
                        r: t.r
                    };
                    if (a.sharedf[Oa(l)]) {
                        var F = a.sharedf[Oa(l)];
                        f.push(fd(F, s, N, a, n))
                    }
                    else {
                        var D = false;
                        for (o = 0; o != a.arrayf.length; ++o) {
                            c = a.arrayf[o];
                            if (l.c < c[0].s.c || l.c > c[0].e.c) continue;
                            if (l.r < c[0].s.r || l.r > c[0].e.r) continue;
                            f.push(fd(c[1], s, N, a, n));
                            D = true;
                            break
                        }
                        if (!D) f.push(w[1])
                    }
                    break;
                case "PtgArray":
                    f.push("{" + td(w[1]) + "}");
                    break;
                case "PtgMemArea":
                    break;
                case "PtgAttrSpace":
                    ;
                case "PtgAttrSpaceSemi":
                    p = b;
                    break;
                case "PtgTbl":
                    break;
                case "PtgMemErr":
                    break;
                case "PtgMissArg":
                    f.push("");
                    break;
                case "PtgAreaErr":
                    f.push("#REF!");
                    break;
                case "PtgAreaErr3d":
                    f.push("#REF!");
                    break;
                case "PtgList":
                    f.push("Table" + w[1].idx + "[#" + w[1].rt + "]");
                    break;
                case "PtgMemAreaN":
                    ;
                case "PtgMemNoMemN":
                    ;
                case "PtgAttrNoop":
                    ;
                case "PtgSheet":
                    ;
                case "PtgEndSheet":
                    break;
                case "PtgMemFunc":
                    break;
                case "PtgMemNoMem":
                    break;
                case "PtgElfCol":
                    ;
                case "PtgElfColS":
                    ;
                case "PtgElfColSV":
                    ;
                case "PtgElfColV":
                    ;
                case "PtgElfLel":
                    ;
                case "PtgElfRadical":
                    ;
                case "PtgElfRadicalLel":
                    ;
                case "PtgElfRadicalS":
                    ;
                case "PtgElfRw":
                    ;
                case "PtgElfRwV":
                    throw new Error("Unsupported ELFs");
                case "PtgSxName":
                    throw new Error("Unrecognized Formula Token: " + String(w));
                default:
                    throw new Error("Unrecognized Formula Token: " + String(w));
            }
            var P = ["PtgAttrSpace", "PtgAttrSpaceSemi", "PtgAttrGoto"];
            if (n.biff != 3)
                if (p >= 0 && P.indexOf(e[0][b][0]) == -1) {
                    w = e[0][p];
                    var L = true;
                    switch (w[1][0]) {
                        case 4:
                            L = false;
                        case 0:
                            m = wr(" ", w[1][1]);
                            break;
                        case 5:
                            L = false;
                        case 1:
                            m = wr("\r", w[1][1]);
                            break;
                        default:
                            m = "";
                            if (n.WTF) throw new Error("Unexpected PtgAttrSpaceType " + w[1][0]);
                    }
                    f.push((L ? m : "") + f.pop() + (L ? "" : m));
                    p = -1
                }
        }
        if (f.length > 1 && n.WTF) throw new Error("bad formula stack");
        return f[0]
    }

    function od(e, r, t) {
        var a = e.l + r,
            n = t.biff == 2 ? 1 : 2;
        var i, s = e._R(n);
        if (s == 65535) return [
            [], ua(e, r - 2)
        ];
        var f = rd(e, s, t);
        if (r !== s + n) i = ed(e, r - s - n, f, t);
        e.l = a;
        return [f, i]
    }

    function cd(e, r, t) {
        var a = e.l + r,
            n = t.biff == 2 ? 1 : 2;
        var i, s = e._R(n);
        if (s == 65535) return [
            [], ua(e, r - 2)
        ];
        var f = rd(e, s, t);
        if (r !== s + n) i = ed(e, r - s - n, f, t);
        e.l = a;
        return [f, i]
    }

    function ld(e, r, t, a) {
        var n = e.l + r;
        var i = rd(e, a, t);
        var s;
        if (n !== e.l) s = ed(e, n - e.l, i, t);
        return [i, s]
    }

    function ud(e, r, t) {
        var a = e.l + r;
        var n, i = e._R(2);
        var s = rd(e, i, t);
        if (i == 65535) return [
            [], ua(e, r - 2)
        ];
        if (r !== i + 2) n = ed(e, a - i - 2, s, t);
        return [s, n]
    }

    function hd(e) {
        var r;
        if (Qt(e, e.l + 6) !== 65535) return [dn(e), "n"];
        switch (e[e.l]) {
            case 0:
                e.l += 8;
                return ["String", "s"];
            case 1:
                r = e[e.l + 2] === 1;
                e.l += 8;
                return [r, "b"];
            case 2:
                r = e[e.l + 2];
                e.l += 8;
                return [r, "e"];
            case 3:
                e.l += 8;
                return ["", "s"];
        }
        return []
    }

    function dd(e) {
        if (e == null) {
            var r = ha(8);
            r._W(1, 3);
            r._W(1, 0);
            r._W(2, 0);
            r._W(2, 0);
            r._W(2, 65535);
            return r
        }
        else if (typeof e == "number") return vn(e);
        return vn(0)
    }

    function vd(e, r, t) {
        var a = e.l + r;
        var n = Es(e, 6);
        if (t.biff == 2) ++e.l;
        var i = hd(e, 8);
        var s = e._R(1);
        if (t.biff != 2) {
            e._R(1);
            if (t.biff >= 5) {
                e._R(4)
            }
        }
        var f = cd(e, a - e.l, t);
        return {
            cell: n,
            val: i[0],
            formula: f,
            shared: s >> 3 & 1,
            tt: i[1]
        }
    }

    function pd(e, r, t, a, n) {
        var i = ys(r, t, n);
        var s = dd(e.v);
        var f = ha(6);
        var o = 1 | 32;
        f._W(2, o);
        f._W(4, 0);
        var c = ha(e.bf.length);
        for (var l = 0; l < e.bf.length; ++l) c[l] = e.bf[l];
        var u = O([i, s, f, c]);
        return u
    }

    function md(e, r, t) {
        var a = e._R(4);
        var n = rd(e, a, t);
        var i = e._R(4);
        var s = i > 0 ? ed(e, i, n, t) : null;
        return [n, s]
    }
    var bd = md;
    var gd = md;
    var wd = md;
    var kd = md;
    var Td = {
        0: "BEEP",
        1: "OPEN",
        2: "OPEN.LINKS",
        3: "CLOSE.ALL",
        4: "SAVE",
        5: "SAVE.AS",
        6: "FILE.DELETE",
        7: "PAGE.SETUP",
        8: "PRINT",
        9: "PRINTER.SETUP",
        10: "QUIT",
        11: "NEW.WINDOW",
        12: "ARRANGE.ALL",
        13: "WINDOW.SIZE",
        14: "WINDOW.MOVE",
        15: "FULL",
        16: "CLOSE",
        17: "RUN",
        22: "SET.PRINT.AREA",
        23: "SET.PRINT.TITLES",
        24: "SET.PAGE.BREAK",
        25: "REMOVE.PAGE.BREAK",
        26: "FONT",
        27: "DISPLAY",
        28: "PROTECT.DOCUMENT",
        29: "PRECISION",
        30: "A1.R1C1",
        31: "CALCULATE.NOW",
        32: "CALCULATION",
        34: "DATA.FIND",
        35: "EXTRACT",
        36: "DATA.DELETE",
        37: "SET.DATABASE",
        38: "SET.CRITERIA",
        39: "SORT",
        40: "DATA.SERIES",
        41: "TABLE",
        42: "FORMAT.NUMBER",
        43: "ALIGNMENT",
        44: "STYLE",
        45: "BORDER",
        46: "CELL.PROTECTION",
        47: "COLUMN.WIDTH",
        48: "UNDO",
        49: "CUT",
        50: "COPY",
        51: "PASTE",
        52: "CLEAR",
        53: "PASTE.SPECIAL",
        54: "EDIT.DELETE",
        55: "INSERT",
        56: "FILL.RIGHT",
        57: "FILL.DOWN",
        61: "DEFINE.NAME",
        62: "CREATE.NAMES",
        63: "FORMULA.GOTO",
        64: "FORMULA.FIND",
        65: "SELECT.LAST.CELL",
        66: "SHOW.ACTIVE.CELL",
        67: "GALLERY.AREA",
        68: "GALLERY.BAR",
        69: "GALLERY.COLUMN",
        70: "GALLERY.LINE",
        71: "GALLERY.PIE",
        72: "GALLERY.SCATTER",
        73: "COMBINATION",
        74: "PREFERRED",
        75: "ADD.OVERLAY",
        76: "GRIDLINES",
        77: "SET.PREFERRED",
        78: "AXES",
        79: "LEGEND",
        80: "ATTACH.TEXT",
        81: "ADD.ARROW",
        82: "SELECT.CHART",
        83: "SELECT.PLOT.AREA",
        84: "PATTERNS",
        85: "MAIN.CHART",
        86: "OVERLAY",
        87: "SCALE",
        88: "FORMAT.LEGEND",
        89: "FORMAT.TEXT",
        90: "EDIT.REPEAT",
        91: "PARSE",
        92: "JUSTIFY",
        93: "HIDE",
        94: "UNHIDE",
        95: "WORKSPACE",
        96: "FORMULA",
        97: "FORMULA.FILL",
        98: "FORMULA.ARRAY",
        99: "DATA.FIND.NEXT",
        100: "DATA.FIND.PREV",
        101: "FORMULA.FIND.NEXT",
        102: "FORMULA.FIND.PREV",
        103: "ACTIVATE",
        104: "ACTIVATE.NEXT",
        105: "ACTIVATE.PREV",
        106: "UNLOCKED.NEXT",
        107: "UNLOCKED.PREV",
        108: "COPY.PICTURE",
        109: "SELECT",
        110: "DELETE.NAME",
        111: "DELETE.FORMAT",
        112: "VLINE",
        113: "HLINE",
        114: "VPAGE",
        115: "HPAGE",
        116: "VSCROLL",
        117: "HSCROLL",
        118: "ALERT",
        119: "NEW",
        120: "CANCEL.COPY",
        121: "SHOW.CLIPBOARD",
        122: "MESSAGE",
        124: "PASTE.LINK",
        125: "APP.ACTIVATE",
        126: "DELETE.ARROW",
        127: "ROW.HEIGHT",
        128: "FORMAT.MOVE",
        129: "FORMAT.SIZE",
        130: "FORMULA.REPLACE",
        131: "SEND.KEYS",
        132: "SELECT.SPECIAL",
        133: "APPLY.NAMES",
        134: "REPLACE.FONT",
        135: "FREEZE.PANES",
        136: "SHOW.INFO",
        137: "SPLIT",
        138: "ON.WINDOW",
        139: "ON.DATA",
        140: "DISABLE.INPUT",
        142: "OUTLINE",
        143: "LIST.NAMES",
        144: "FILE.CLOSE",
        145: "SAVE.WORKBOOK",
        146: "DATA.FORM",
        147: "COPY.CHART",
        148: "ON.TIME",
        149: "WAIT",
        150: "FORMAT.FONT",
        151: "FILL.UP",
        152: "FILL.LEFT",
        153: "DELETE.OVERLAY",
        155: "SHORT.MENUS",
        159: "SET.UPDATE.STATUS",
        161: "COLOR.PALETTE",
        162: "DELETE.STYLE",
        163: "WINDOW.RESTORE",
        164: "WINDOW.MAXIMIZE",
        166: "CHANGE.LINK",
        167: "CALCULATE.DOCUMENT",
        168: "ON.KEY",
        169: "APP.RESTORE",
        170: "APP.MOVE",
        171: "APP.SIZE",
        172: "APP.MINIMIZE",
        173: "APP.MAXIMIZE",
        174: "BRING.TO.FRONT",
        175: "SEND.TO.BACK",
        185: "MAIN.CHART.TYPE",
        186: "OVERLAY.CHART.TYPE",
        187: "SELECT.END",
        188: "OPEN.MAIL",
        189: "SEND.MAIL",
        190: "STANDARD.FONT",
        191: "CONSOLIDATE",
        192: "SORT.SPECIAL",
        193: "GALLERY.3D.AREA",
        194: "GALLERY.3D.COLUMN",
        195: "GALLERY.3D.LINE",
        196: "GALLERY.3D.PIE",
        197: "VIEW.3D",
        198: "GOAL.SEEK",
        199: "WORKGROUP",
        200: "FILL.GROUP",
        201: "UPDATE.LINK",
        202: "PROMOTE",
        203: "DEMOTE",
        204: "SHOW.DETAIL",
        206: "UNGROUP",
        207: "OBJECT.PROPERTIES",
        208: "SAVE.NEW.OBJECT",
        209: "SHARE",
        210: "SHARE.NAME",
        211: "DUPLICATE",
        212: "APPLY.STYLE",
        213: "ASSIGN.TO.OBJECT",
        214: "OBJECT.PROTECTION",
        215: "HIDE.OBJECT",
        216: "SET.EXTRACT",
        217: "CREATE.PUBLISHER",
        218: "SUBSCRIBE.TO",
        219: "ATTRIBUTES",
        220: "SHOW.TOOLBAR",
        222: "PRINT.PREVIEW",
        223: "EDIT.COLOR",
        224: "SHOW.LEVELS",
        225: "FORMAT.MAIN",
        226: "FORMAT.OVERLAY",
        227: "ON.RECALC",
        228: "EDIT.SERIES",
        229: "DEFINE.STYLE",
        240: "LINE.PRINT",
        243: "ENTER.DATA",
        249: "GALLERY.RADAR",
        250: "MERGE.STYLES",
        251: "EDITION.OPTIONS",
        252: "PASTE.PICTURE",
        253: "PASTE.PICTURE.LINK",
        254: "SPELLING",
        256: "ZOOM",
        259: "INSERT.OBJECT",
        260: "WINDOW.MINIMIZE",
        265: "SOUND.NOTE",
        266: "SOUND.PLAY",
        267: "FORMAT.SHAPE",
        268: "EXTEND.POLYGON",
        269: "FORMAT.AUTO",
        272: "GALLERY.3D.BAR",
        273: "GALLERY.3D.SURFACE",
        274: "FILL.AUTO",
        276: "CUSTOMIZE.TOOLBAR",
        277: "ADD.TOOL",
        278: "EDIT.OBJECT",
        279: "ON.DOUBLECLICK",
        280: "ON.ENTRY",
        281: "WORKBOOK.ADD",
        282: "WORKBOOK.MOVE",
        283: "WORKBOOK.COPY",
        284: "WORKBOOK.OPTIONS",
        285: "SAVE.WORKSPACE",
        288: "CHART.WIZARD",
        289: "DELETE.TOOL",
        290: "MOVE.TOOL",
        291: "WORKBOOK.SELECT",
        292: "WORKBOOK.ACTIVATE",
        293: "ASSIGN.TO.TOOL",
        295: "COPY.TOOL",
        296: "RESET.TOOL",
        297: "CONSTRAIN.NUMERIC",
        298: "PASTE.TOOL",
        302: "WORKBOOK.NEW",
        305: "SCENARIO.CELLS",
        306: "SCENARIO.DELETE",
        307: "SCENARIO.ADD",
        308: "SCENARIO.EDIT",
        309: "SCENARIO.SHOW",
        310: "SCENARIO.SHOW.NEXT",
        311: "SCENARIO.SUMMARY",
        312: "PIVOT.TABLE.WIZARD",
        313: "PIVOT.FIELD.PROPERTIES",
        314: "PIVOT.FIELD",
        315: "PIVOT.ITEM",
        316: "PIVOT.ADD.FIELDS",
        318: "OPTIONS.CALCULATION",
        319: "OPTIONS.EDIT",
        320: "OPTIONS.VIEW",
        321: "ADDIN.MANAGER",
        322: "MENU.EDITOR",
        323: "ATTACH.TOOLBARS",
        324: "VBAActivate",
        325: "OPTIONS.CHART",
        328: "VBA.INSERT.FILE",
        330: "VBA.PROCEDURE.DEFINITION",
        336: "ROUTING.SLIP",
        338: "ROUTE.DOCUMENT",
        339: "MAIL.LOGON",
        342: "INSERT.PICTURE",
        343: "EDIT.TOOL",
        344: "GALLERY.DOUGHNUT",
        350: "CHART.TREND",
        352: "PIVOT.ITEM.PROPERTIES",
        354: "WORKBOOK.INSERT",
        355: "OPTIONS.TRANSITION",
        356: "OPTIONS.GENERAL",
        370: "FILTER.ADVANCED",
        373: "MAIL.ADD.MAILER",
        374: "MAIL.DELETE.MAILER",
        375: "MAIL.REPLY",
        376: "MAIL.REPLY.ALL",
        377: "MAIL.FORWARD",
        378: "MAIL.NEXT.LETTER",
        379: "DATA.LABEL",
        380: "INSERT.TITLE",
        381: "FONT.PROPERTIES",
        382: "MACRO.OPTIONS",
        383: "WORKBOOK.HIDE",
        384: "WORKBOOK.UNHIDE",
        385: "WORKBOOK.DELETE",
        386: "WORKBOOK.NAME",
        388: "GALLERY.CUSTOM",
        390: "ADD.CHART.AUTOFORMAT",
        391: "DELETE.CHART.AUTOFORMAT",
        392: "CHART.ADD.DATA",
        393: "AUTO.OUTLINE",
        394: "TAB.ORDER",
        395: "SHOW.DIALOG",
        396: "SELECT.ALL",
        397: "UNGROUP.SHEETS",
        398: "SUBTOTAL.CREATE",
        399: "SUBTOTAL.REMOVE",
        400: "RENAME.OBJECT",
        412: "WORKBOOK.SCROLL",
        413: "WORKBOOK.NEXT",
        414: "WORKBOOK.PREV",
        415: "WORKBOOK.TAB.SPLIT",
        416: "FULL.SCREEN",
        417: "WORKBOOK.PROTECT",
        420: "SCROLLBAR.PROPERTIES",
        421: "PIVOT.SHOW.PAGES",
        422: "TEXT.TO.COLUMNS",
        423: "FORMAT.CHARTTYPE",
        424: "LINK.FORMAT",
        425: "TRACER.DISPLAY",
        430: "TRACER.NAVIGATE",
        431: "TRACER.CLEAR",
        432: "TRACER.ERROR",
        433: "PIVOT.FIELD.GROUP",
        434: "PIVOT.FIELD.UNGROUP",
        435: "CHECKBOX.PROPERTIES",
        436: "LABEL.PROPERTIES",
        437: "LISTBOX.PROPERTIES",
        438: "EDITBOX.PROPERTIES",
        439: "PIVOT.REFRESH",
        440: "LINK.COMBO",
        441: "OPEN.TEXT",
        442: "HIDE.DIALOG",
        443: "SET.DIALOG.FOCUS",
        444: "ENABLE.OBJECT",
        445: "PUSHBUTTON.PROPERTIES",
        446: "SET.DIALOG.DEFAULT",
        447: "FILTER",
        448: "FILTER.SHOW.ALL",
        449: "CLEAR.OUTLINE",
        450: "FUNCTION.WIZARD",
        451: "ADD.LIST.ITEM",
        452: "SET.LIST.ITEM",
        453: "REMOVE.LIST.ITEM",
        454: "SELECT.LIST.ITEM",
        455: "SET.CONTROL.VALUE",
        456: "SAVE.COPY.AS",
        458: "OPTIONS.LISTS.ADD",
        459: "OPTIONS.LISTS.DELETE",
        460: "SERIES.AXES",
        461: "SERIES.X",
        462: "SERIES.Y",
        463: "ERRORBAR.X",
        464: "ERRORBAR.Y",
        465: "FORMAT.CHART",
        466: "SERIES.ORDER",
        467: "MAIL.LOGOFF",
        468: "CLEAR.ROUTING.SLIP",
        469: "APP.ACTIVATE.MICROSOFT",
        470: "MAIL.EDIT.MAILER",
        471: "ON.SHEET",
        472: "STANDARD.WIDTH",
        473: "SCENARIO.MERGE",
        474: "SUMMARY.INFO",
        475: "FIND.FILE",
        476: "ACTIVE.CELL.FONT",
        477: "ENABLE.TIPWIZARD",
        478: "VBA.MAKE.ADDIN",
        480: "INSERTDATATABLE",
        481: "WORKGROUP.OPTIONS",
        482: "MAIL.SEND.MAILER",
        485: "AUTOCORRECT",
        489: "POST.DOCUMENT",
        491: "PICKLIST",
        493: "VIEW.SHOW",
        494: "VIEW.DEFINE",
        495: "VIEW.DELETE",
        509: "SHEET.BACKGROUND",
        510: "INSERT.MAP.OBJECT",
        511: "OPTIONS.MENONO",
        517: "MSOCHECKS",
        518: "NORMAL",
        519: "LAYOUT",
        520: "RM.PRINT.AREA",
        521: "CLEAR.PRINT.AREA",
        522: "ADD.PRINT.AREA",
        523: "MOVE.BRK",
        545: "HIDECURR.NOTE",
        546: "HIDEALL.NOTES",
        547: "DELETE.NOTE",
        548: "TRAVERSE.NOTES",
        549: "ACTIVATE.NOTES",
        620: "PROTECT.REVISIONS",
        621: "UNPROTECT.REVISIONS",
        647: "OPTIONS.ME",
        653: "WEB.PUBLISH",
        667: "NEWWEBQUERY",
        673: "PIVOT.TABLE.CHART",
        753: "OPTIONS.SAVE",
        755: "OPTIONS.SPELL",
        808: "HIDEALL.INKANNOTS"
    };
    var Ed = {
        0: "COUNT",
        1: "IF",
        2: "ISNA",
        3: "ISERROR",
        4: "SUM",
        5: "AVERAGE",
        6: "MIN",
        7: "MAX",
        8: "ROW",
        9: "COLUMN",
        10: "NA",
        11: "NPV",
        12: "STDEV",
        13: "DOLLAR",
        14: "FIXED",
        15: "SIN",
        16: "COS",
        17: "TAN",
        18: "ATAN",
        19: "PI",
        20: "SQRT",
        21: "EXP",
        22: "LN",
        23: "LOG10",
        24: "ABS",
        25: "INT",
        26: "SIGN",
        27: "ROUND",
        28: "LOOKUP",
        29: "INDEX",
        30: "REPT",
        31: "MID",
        32: "LEN",
        33: "VALUE",
        34: "TRUE",
        35: "FALSE",
        36: "AND",
        37: "OR",
        38: "NOT",
        39: "MOD",
        40: "DCOUNT",
        41: "DSUM",
        42: "DAVERAGE",
        43: "DMIN",
        44: "DMAX",
        45: "DSTDEV",
        46: "VAR",
        47: "DVAR",
        48: "TEXT",
        49: "LINEST",
        50: "TREND",
        51: "LOGEST",
        52: "GROWTH",
        53: "GOTO",
        54: "HALT",
        55: "RETURN",
        56: "PV",
        57: "FV",
        58: "NPER",
        59: "PMT",
        60: "RATE",
        61: "MIRR",
        62: "IRR",
        63: "RAND",
        64: "MATCH",
        65: "DATE",
        66: "TIME",
        67: "DAY",
        68: "MONTH",
        69: "YEAR",
        70: "WEEKDAY",
        71: "HOUR",
        72: "MINUTE",
        73: "SECOND",
        74: "NOW",
        75: "AREAS",
        76: "ROWS",
        77: "COLUMNS",
        78: "OFFSET",
        79: "ABSREF",
        80: "RELREF",
        81: "ARGUMENT",
        82: "SEARCH",
        83: "TRANSPOSE",
        84: "ERROR",
        85: "STEP",
        86: "TYPE",
        87: "ECHO",
        88: "SET.NAME",
        89: "CALLER",
        90: "DEREF",
        91: "WINDOWS",
        92: "SERIES",
        93: "DOCUMENTS",
        94: "ACTIVE.CELL",
        95: "SELECTION",
        96: "RESULT",
        97: "ATAN2",
        98: "ASIN",
        99: "ACOS",
        100: "CHOOSE",
        101: "HLOOKUP",
        102: "VLOOKUP",
        103: "LINKS",
        104: "INPUT",
        105: "ISREF",
        106: "GET.FORMULA",
        107: "GET.NAME",
        108: "SET.VALUE",
        109: "LOG",
        110: "EXEC",
        111: "CHAR",
        112: "LOWER",
        113: "UPPER",
        114: "PROPER",
        115: "LEFT",
        116: "RIGHT",
        117: "EXACT",
        118: "TRIM",
        119: "REPLACE",
        120: "SUBSTITUTE",
        121: "CODE",
        122: "NAMES",
        123: "DIRECTORY",
        124: "FIND",
        125: "CELL",
        126: "ISERR",
        127: "ISTEXT",
        128: "ISNUMBER",
        129: "ISBLANK",
        130: "T",
        131: "N",
        132: "FOPEN",
        133: "FCLOSE",
        134: "FSIZE",
        135: "FREADLN",
        136: "FREAD",
        137: "FWRITELN",
        138: "FWRITE",
        139: "FPOS",
        140: "DATEVALUE",
        141: "TIMEVALUE",
        142: "SLN",
        143: "SYD",
        144: "DDB",
        145: "GET.DEF",
        146: "REFTEXT",
        147: "TEXTREF",
        148: "INDIRECT",
        149: "REGISTER",
        150: "CALL",
        151: "ADD.BAR",
        152: "ADD.MENU",
        153: "ADD.COMMAND",
        154: "ENABLE.COMMAND",
        155: "CHECK.COMMAND",
        156: "RENAME.COMMAND",
        157: "SHOW.BAR",
        158: "DELETE.MENU",
        159: "DELETE.COMMAND",
        160: "GET.CHART.ITEM",
        161: "DIALOG.BOX",
        162: "CLEAN",
        163: "MDETERM",
        164: "MINVERSE",
        165: "MMULT",
        166: "FILES",
        167: "IPMT",
        168: "PPMT",
        169: "COUNTA",
        170: "CANCEL.KEY",
        171: "FOR",
        172: "WHILE",
        173: "BREAK",
        174: "NEXT",
        175: "INITIATE",
        176: "REQUEST",
        177: "POKE",
        178: "EXECUTE",
        179: "TERMINATE",
        180: "RESTART",
        181: "HELP",
        182: "GET.BAR",
        183: "PRODUCT",
        184: "FACT",
        185: "GET.CELL",
        186: "GET.WORKSPACE",
        187: "GET.WINDOW",
        188: "GET.DOCUMENT",
        189: "DPRODUCT",
        190: "ISNONTEXT",
        191: "GET.NOTE",
        192: "NOTE",
        193: "STDEVP",
        194: "VARP",
        195: "DSTDEVP",
        196: "DVARP",
        197: "TRUNC",
        198: "ISLOGICAL",
        199: "DCOUNTA",
        200: "DELETE.BAR",
        201: "UNREGISTER",
        204: "USDOLLAR",
        205: "FINDB",
        206: "SEARCHB",
        207: "REPLACEB",
        208: "LEFTB",
        209: "RIGHTB",
        210: "MIDB",
        211: "LENB",
        212: "ROUNDUP",
        213: "ROUNDDOWN",
        214: "ASC",
        215: "DBCS",
        216: "RANK",
        219: "ADDRESS",
        220: "DAYS360",
        221: "TODAY",
        222: "VDB",
        223: "ELSE",
        224: "ELSE.IF",
        225: "END.IF",
        226: "FOR.CELL",
        227: "MEDIAN",
        228: "SUMPRODUCT",
        229: "SINH",
        230: "COSH",
        231: "TANH",
        232: "ASINH",
        233: "ACOSH",
        234: "ATANH",
        235: "DGET",
        236: "CREATE.OBJECT",
        237: "VOLATILE",
        238: "LAST.ERROR",
        239: "CUSTOM.UNDO",
        240: "CUSTOM.REPEAT",
        241: "FORMULA.CONVERT",
        242: "GET.LINK.INFO",
        243: "TEXT.BOX",
        244: "INFO",
        245: "GROUP",
        246: "GET.OBJECT",
        247: "DB",
        248: "PAUSE",
        251: "RESUME",
        252: "FREQUENCY",
        253: "ADD.TOOLBAR",
        254: "DELETE.TOOLBAR",
        255: "User",
        256: "RESET.TOOLBAR",
        257: "EVALUATE",
        258: "GET.TOOLBAR",
        259: "GET.TOOL",
        260: "SPELLING.CHECK",
        261: "ERROR.TYPE",
        262: "APP.TITLE",
        263: "WINDOW.TITLE",
        264: "SAVE.TOOLBAR",
        265: "ENABLE.TOOL",
        266: "PRESS.TOOL",
        267: "REGISTER.ID",
        268: "GET.WORKBOOK",
        269: "AVEDEV",
        270: "BETADIST",
        271: "GAMMALN",
        272: "BETAINV",
        273: "BINOMDIST",
        274: "CHIDIST",
        275: "CHIINV",
        276: "COMBIN",
        277: "CONFIDENCE",
        278: "CRITBINOM",
        279: "EVEN",
        280: "EXPONDIST",
        281: "FDIST",
        282: "FINV",
        283: "FISHER",
        284: "FISHERINV",
        285: "FLOOR",
        286: "GAMMADIST",
        287: "GAMMAINV",
        288: "CEILING",
        289: "HYPGEOMDIST",
        290: "LOGNORMDIST",
        291: "LOGINV",
        292: "NEGBINOMDIST",
        293: "NORMDIST",
        294: "NORMSDIST",
        295: "NORMINV",
        296: "NORMSINV",
        297: "STANDARDIZE",
        298: "ODD",
        299: "PERMUT",
        300: "POISSON",
        301: "TDIST",
        302: "WEIBULL",
        303: "SUMXMY2",
        304: "SUMX2MY2",
        305: "SUMX2PY2",
        306: "CHITEST",
        307: "CORREL",
        308: "COVAR",
        309: "FORECAST",
        310: "FTEST",
        311: "INTERCEPT",
        312: "PEARSON",
        313: "RSQ",
        314: "STEYX",
        315: "SLOPE",
        316: "TTEST",
        317: "PROB",
        318: "DEVSQ",
        319: "GEOMEAN",
        320: "HARMEAN",
        321: "SUMSQ",
        322: "KURT",
        323: "SKEW",
        324: "ZTEST",
        325: "LARGE",
        326: "SMALL",
        327: "QUARTILE",
        328: "PERCENTILE",
        329: "PERCENTRANK",
        330: "MODE",
        331: "TRIMMEAN",
        332: "TINV",
        334: "MOVIE.COMMAND",
        335: "GET.MOVIE",
        336: "CONCATENATE",
        337: "POWER",
        338: "PIVOT.ADD.DATA",
        339: "GET.PIVOT.TABLE",
        340: "GET.PIVOT.FIELD",
        341: "GET.PIVOT.ITEM",
        342: "RADIANS",
        343: "DEGREES",
        344: "SUBTOTAL",
        345: "SUMIF",
        346: "COUNTIF",
        347: "COUNTBLANK",
        348: "SCENARIO.GET",
        349: "OPTIONS.LISTS.GET",
        350: "ISPMT",
        351: "DATEDIF",
        352: "DATESTRING",
        353: "NUMBERSTRING",
        354: "ROMAN",
        355: "OPEN.DIALOG",
        356: "SAVE.DIALOG",
        357: "VIEW.GET",
        358: "GETPIVOTDATA",
        359: "HYPERLINK",
        360: "PHONETIC",
        361: "AVERAGEA",
        362: "MAXA",
        363: "MINA",
        364: "STDEVPA",
        365: "VARPA",
        366: "STDEVA",
        367: "VARA",
        368: "BAHTTEXT",
        369: "THAIDAYOFWEEK",
        370: "THAIDIGIT",
        371: "THAIMONTHOFYEAR",
        372: "THAINUMSOUND",
        373: "THAINUMSTRING",
        374: "THAISTRINGLENGTH",
        375: "ISTHAIDIGIT",
        376: "ROUNDBAHTDOWN",
        377: "ROUNDBAHTUP",
        378: "THAIYEAR",
        379: "RTD",
        380: "CUBEVALUE",
        381: "CUBEMEMBER",
        382: "CUBEMEMBERPROPERTY",
        383: "CUBERANKEDMEMBER",
        384: "HEX2BIN",
        385: "HEX2DEC",
        386: "HEX2OCT",
        387: "DEC2BIN",
        388: "DEC2HEX",
        389: "DEC2OCT",
        390: "OCT2BIN",
        391: "OCT2HEX",
        392: "OCT2DEC",
        393: "BIN2DEC",
        394: "BIN2OCT",
        395: "BIN2HEX",
        396: "IMSUB",
        397: "IMDIV",
        398: "IMPOWER",
        399: "IMABS",
        400: "IMSQRT",
        401: "IMLN",
        402: "IMLOG2",
        403: "IMLOG10",
        404: "IMSIN",
        405: "IMCOS",
        406: "IMEXP",
        407: "IMARGUMENT",
        408: "IMCONJUGATE",
        409: "IMAGINARY",
        410: "IMREAL",
        411: "COMPLEX",
        412: "IMSUM",
        413: "IMPRODUCT",
        414: "SERIESSUM",
        415: "FACTDOUBLE",
        416: "SQRTPI",
        417: "QUOTIENT",
        418: "DELTA",
        419: "GESTEP",
        420: "ISEVEN",
        421: "ISODD",
        422: "MROUND",
        423: "ERF",
        424: "ERFC",
        425: "BESSELJ",
        426: "BESSELK",
        427: "BESSELY",
        428: "BESSELI",
        429: "XIRR",
        430: "XNPV",
        431: "PRICEMAT",
        432: "YIELDMAT",
        433: "INTRATE",
        434: "RECEIVED",
        435: "DISC",
        436: "PRICEDISC",
        437: "YIELDDISC",
        438: "TBILLEQ",
        439: "TBILLPRICE",
        440: "TBILLYIELD",
        441: "PRICE",
        442: "YIELD",
        443: "DOLLARDE",
        444: "DOLLARFR",
        445: "NOMINAL",
        446: "EFFECT",
        447: "CUMPRINC",
        448: "CUMIPMT",
        449: "EDATE",
        450: "EOMONTH",
        451: "YEARFRAC",
        452: "COUPDAYBS",
        453: "COUPDAYS",
        454: "COUPDAYSNC",
        455: "COUPNCD",
        456: "COUPNUM",
        457: "COUPPCD",
        458: "DURATION",
        459: "MDURATION",
        460: "ODDLPRICE",
        461: "ODDLYIELD",
        462: "ODDFPRICE",
        463: "ODDFYIELD",
        464: "RANDBETWEEN",
        465: "WEEKNUM",
        466: "AMORDEGRC",
        467: "AMORLINC",
        468: "CONVERT",
        724: "SHEETJS",
        469: "ACCRINT",
        470: "ACCRINTM",
        471: "WORKDAY",
        472: "NETWORKDAYS",
        473: "GCD",
        474: "MULTINOMIAL",
        475: "LCM",
        476: "FVSCHEDULE",
        477: "CUBEKPIMEMBER",
        478: "CUBESET",
        479: "CUBESETCOUNT",
        480: "IFERROR",
        481: "COUNTIFS",
        482: "SUMIFS",
        483: "AVERAGEIF",
        484: "AVERAGEIFS"
    };
    var yd = {
        2: 1,
        3: 1,
        10: 0,
        15: 1,
        16: 1,
        17: 1,
        18: 1,
        19: 0,
        20: 1,
        21: 1,
        22: 1,
        23: 1,
        24: 1,
        25: 1,
        26: 1,
        27: 2,
        30: 2,
        31: 3,
        32: 1,
        33: 1,
        34: 0,
        35: 0,
        38: 1,
        39: 2,
        40: 3,
        41: 3,
        42: 3,
        43: 3,
        44: 3,
        45: 3,
        47: 3,
        48: 2,
        53: 1,
        61: 3,
        63: 0,
        65: 3,
        66: 3,
        67: 1,
        68: 1,
        69: 1,
        70: 1,
        71: 1,
        72: 1,
        73: 1,
        74: 0,
        75: 1,
        76: 1,
        77: 1,
        79: 2,
        80: 2,
        83: 1,
        85: 0,
        86: 1,
        89: 0,
        90: 1,
        94: 0,
        95: 0,
        97: 2,
        98: 1,
        99: 1,
        101: 3,
        102: 3,
        105: 1,
        106: 1,
        108: 2,
        111: 1,
        112: 1,
        113: 1,
        114: 1,
        117: 2,
        118: 1,
        119: 4,
        121: 1,
        126: 1,
        127: 1,
        128: 1,
        129: 1,
        130: 1,
        131: 1,
        133: 1,
        134: 1,
        135: 1,
        136: 2,
        137: 2,
        138: 2,
        140: 1,
        141: 1,
        142: 3,
        143: 4,
        144: 4,
        161: 1,
        162: 1,
        163: 1,
        164: 1,
        165: 2,
        172: 1,
        175: 2,
        176: 2,
        177: 3,
        178: 2,
        179: 1,
        184: 1,
        186: 1,
        189: 3,
        190: 1,
        195: 3,
        196: 3,
        197: 1,
        198: 1,
        199: 3,
        201: 1,
        207: 4,
        210: 3,
        211: 1,
        212: 2,
        213: 2,
        214: 1,
        215: 1,
        225: 0,
        229: 1,
        230: 1,
        231: 1,
        232: 1,
        233: 1,
        234: 1,
        235: 3,
        244: 1,
        247: 4,
        252: 2,
        257: 1,
        261: 1,
        271: 1,
        273: 4,
        274: 2,
        275: 2,
        276: 2,
        277: 3,
        278: 3,
        279: 1,
        280: 3,
        281: 3,
        282: 3,
        283: 1,
        284: 1,
        285: 2,
        286: 4,
        287: 3,
        288: 2,
        289: 4,
        290: 3,
        291: 3,
        292: 3,
        293: 4,
        294: 1,
        295: 3,
        296: 1,
        297: 3,
        298: 1,
        299: 2,
        300: 3,
        301: 3,
        302: 4,
        303: 2,
        304: 2,
        305: 2,
        306: 2,
        307: 2,
        308: 2,
        309: 3,
        310: 2,
        311: 2,
        312: 2,
        313: 2,
        314: 2,
        315: 2,
        316: 4,
        325: 2,
        326: 2,
        327: 2,
        328: 2,
        331: 2,
        332: 2,
        337: 2,
        342: 1,
        343: 1,
        346: 2,
        347: 1,
        350: 4,
        351: 3,
        352: 1,
        353: 2,
        360: 1,
        368: 1,
        369: 1,
        370: 1,
        371: 1,
        372: 1,
        373: 1,
        374: 1,
        375: 1,
        376: 1,
        377: 1,
        378: 1,
        382: 3,
        385: 1,
        392: 1,
        393: 1,
        396: 2,
        397: 2,
        398: 2,
        399: 1,
        400: 1,
        401: 1,
        402: 1,
        403: 1,
        404: 1,
        405: 1,
        406: 1,
        407: 1,
        408: 1,
        409: 1,
        410: 1,
        414: 4,
        415: 1,
        416: 1,
        417: 2,
        420: 1,
        421: 1,
        422: 2,
        424: 1,
        425: 2,
        426: 2,
        427: 2,
        428: 2,
        430: 3,
        438: 3,
        439: 3,
        440: 3,
        443: 2,
        444: 2,
        445: 2,
        446: 2,
        447: 6,
        448: 6,
        449: 2,
        450: 2,
        464: 2,
        468: 3,
        476: 2,
        479: 1,
        480: 2,
        65535: 0
    };

    function Sd(e) {
        if (e.slice(0, 3) == "of:") e = e.slice(3);
        if (e.charCodeAt(0) == 61) {
            e = e.slice(1);
            if (e.charCodeAt(0) == 61) e = e.slice(1)
        }
        e = e.replace(/COM\.MICROSOFT\./g, "");
        e = e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g, function (e, r) {
            return r.replace(/\./g, "")
        });
        e = e.replace(/\[.(#[A-Z]*[?!])\]/g, "$1");
        return e.replace(/[;~]/g, ",").replace(/\|/g, ";")
    }

    function _d(e) {
        var r = "of:=" + e.replace(xu, "$1[.$2$3$4$5]").replace(/\]:\[/g, ":");
        return r.replace(/;/g, "|").replace(/,/g, ";")
    }

    function Ad(e) {
        var r = e.split(":");
        var t = r[0].split(".")[0];
        return [t, r[0].split(".")[1] + (r.length > 1 ? ":" + (r[1].split(".")[1] || r[1].split(".")[0]) : "")]
    }

    function xd(e) {
        return e.replace(/\./, "!")
    }
    var Cd = {};
    var Rd = {};
    var Od = typeof Map !== "undefined";

    function Id(e, r, t) {
        var a = 0,
            n = e.length;
        if (t) {
            if (Od ? t.has(r) : Object.prototype.hasOwnProperty.call(t, r)) {
                var i = Od ? t.get(r) : t[r];
                for (; a < i.length; ++a) {
                    if (e[i[a]].t === r) {
                        e.Count++;
                        return i[a]
                    }
                }
            }
        }
        else
            for (; a < n; ++a) {
                if (e[a].t === r) {
                    e.Count++;
                    return a
                }
            }
        e[n] = {
            t: r
        };
        e.Count++;
        e.Unique++;
        if (t) {
            if (Od) {
                if (!t.has(r)) t.set(r, []);
                t.get(r).push(n)
            }
            else {
                if (!Object.prototype.hasOwnProperty.call(t, r)) t[r] = [];
                t[r].push(n)
            }
        }
        return n
    }

    function Nd(e, r) {
        var t = {
            min: e + 1,
            max: e + 1
        };
        var a = -1;
        if (r.MDW) _c = r.MDW;
        if (r.width != null) t.customWidth = 1;
        else if (r.wpx != null) a = xc(r.wpx);
        else if (r.wch != null) a = r.wch;
        if (a > -1) {
            t.width = Cc(a);
            t.customWidth = 1
        }
        else if (r.width != null) t.width = r.width;
        if (r.hidden) t.hidden = true;
        if (r.level != null) {
            t.outlineLevel = t.level = r.level
        }
        return t
    }

    function Fd(e, r) {
        if (!e) return;
        var t = [.7, .7, .75, .75, .3, .3];
        if (r == "xlml") t = [1, 1, 1, 1, .5, .5];
        if (e.left == null) e.left = t[0];
        if (e.right == null) e.right = t[1];
        if (e.top == null) e.top = t[2];
        if (e.bottom == null) e.bottom = t[3];
        if (e.header == null) e.header = t[4];
        if (e.footer == null) e.footer = t[5]
    }

    function Dd(e, r, t) {
        var a = t.revssf[r.z != null ? r.z : "General"];
        var n = 60,
            i = e.length;
        if (a == null && t.ssf) {
            for (; n < 392; ++n)
                if (t.ssf[n] == null) {
                    We(r.z, n);
                    t.ssf[n] = r.z;
                    t.revssf[r.z] = a = n;
                    break
                }
        }
        for (n = 0; n != i; ++n)
            if (e[n].numFmtId === a) return n;
        e[i] = {
            numFmtId: a,
            fontId: 0,
            fillId: 0,
            borderId: 0,
            xfId: 0,
            applyNumberFormat: 1
        };
        return i
    }

    function Pd(e, r, t, a, n, i) {
        try {
            if (a.cellNF) e.z = X[r]
        }
        catch (s) {
            if (a.WTF) throw s
        }
        if (e.t === "z" && !a.cellStyles) return;
        if (e.t === "d" && typeof e.v === "string") e.v = mr(e.v);
        if ((!a || a.cellText !== false) && e.t !== "z") try {
            if (X[r] == null) We(Ge[r] || "General", r);
            if (e.t === "e") e.w = e.w || Gn[e.v];
            else if (r === 0) {
                if (e.t === "n") {
                    if ((e.v | 0) === e.v) e.w = e.v.toString(10);
                    else e.w = se(e.v)
                }
                else if (e.t === "d") {
                    var f = fr(e.v);
                    if ((f | 0) === f) e.w = f.toString(10);
                    else e.w = se(f)
                }
                else if (e.v === undefined) return "";
                else e.w = fe(e.v, Rd)
            }
            else if (e.t === "d") e.w = Be(r, fr(e.v), Rd);
            else e.w = Be(r, e.v, Rd)
        }
            catch (s) {
                if (a.WTF) throw s
            }
        if (!a.cellStyles) return;
        if (t != null) try {
            e.s = i.Fills[t];
            if (e.s.fgColor && e.s.fgColor.theme && !e.s.fgColor.rgb) {
                e.s.fgColor.rgb = Tc(n.themeElements.clrScheme[e.s.fgColor.theme].rgb, e.s.fgColor.tint || 0);
                if (a.WTF) e.s.fgColor.raw_rgb = n.themeElements.clrScheme[e.s.fgColor.theme].rgb
            }
            if (e.s.bgColor && e.s.bgColor.theme) {
                e.s.bgColor.rgb = Tc(n.themeElements.clrScheme[e.s.bgColor.theme].rgb, e.s.bgColor.tint || 0);
                if (a.WTF) e.s.bgColor.raw_rgb = n.themeElements.clrScheme[e.s.bgColor.theme].rgb
            }
        }
            catch (s) {
                if (a.WTF && i.Fills) throw s
            }
    }

    function Ld(e, r, t) {
        if (e && e["!ref"]) {
            var a = Fa(e["!ref"]);
            if (a.e.c < a.s.c || a.e.r < a.s.r) throw new Error("Bad range (" + t + "): " + e["!ref"])
        }
    }

    function Md(e, r) {
        var t = Fa(r);
        if (t.s.r <= t.e.r && t.s.c <= t.e.c && t.s.r >= 0 && t.s.c >= 0) e["!ref"] = Na(t)
    }
    var Ud = /<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g;
    var Bd = /<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/;
    var Wd = /<(?:\w:)?hyperlink [^>]*>/gm;
    var Hd = /"(\w*:\w*)"/;
    var zd = /<(?:\w:)?col\b[^>]*[\/]?>/g;
    var Vd = /<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g;
    var Gd = /<(?:\w:)?pageMargins[^>]*\/>/g;
    var jd = /<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/;
    var Xd = /<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/;
    var $d = /<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;

    function Yd(e, r, t, a, n, i, s) {
        if (!e) return e;
        if (!a) a = {
            "!id":
                {}
        };
        if (m != null && r.dense == null) r.dense = m;
        var f = r.dense ? [] :
            {};
        var o = {
            s:
            {
                r: 2e6,
                c: 2e6
            },
            e:
            {
                r: 0,
                c: 0
            }
        };
        var c = "",
            l = "";
        var u = e.match(Bd);
        if (u) {
            c = e.slice(0, u.index);
            l = e.slice(u.index + u[0].length)
        }
        else c = l = e;
        var h = c.match(jd);
        if (h) Jd(h[0], f, n, t);
        else if (h = c.match(Xd)) qd(h[0], h[1] || "", f, n, t, s, i);
        var d = (c.match(/<(?:\w*:)?dimension/) ||
        {
            index: -1
        }).index;
        if (d > 0) {
            var v = c.slice(d, d + 50).match(Hd);
            if (v) Md(f, v[1])
        }
        var p = c.match($d);
        if (p && p[1]) lv(p[1], n);
        var b = [];
        if (r.cellStyles) {
            var g = c.match(zd);
            if (g) iv(b, g)
        }
        if (u) dv(u[1], f, r, o, i, s);
        var w = l.match(Vd);
        if (w) f["!autofilter"] = fv(w[0]);
        var k = [];
        var T = l.match(Ud);
        if (T)
            for (d = 0; d != T.length; ++d) k[d] = Fa(T[d].slice(T[d].indexOf('"') + 1));
        var E = l.match(Wd);
        if (E) tv(f, E, a);
        var y = l.match(Gd);
        if (y) f["!margins"] = av(Gr(y[0]));
        if (!f["!ref"] && o.e.c >= o.s.c && o.e.r >= o.s.r) f["!ref"] = Na(o);
        if (r.sheetRows > 0 && f["!ref"]) {
            var S = Fa(f["!ref"]);
            if (r.sheetRows <= +S.e.r) {
                S.e.r = r.sheetRows - 1;
                if (S.e.r > o.e.r) S.e.r = o.e.r;
                if (S.e.r < S.s.r) S.s.r = S.e.r;
                if (S.e.c > o.e.c) S.e.c = o.e.c;
                if (S.e.c < S.s.c) S.s.c = S.e.c;
                f["!fullref"] = f["!ref"];
                f["!ref"] = Na(S)
            }
        }
        if (b.length > 0) f["!cols"] = b;
        if (k.length > 0) f["!merges"] = k;
        return f
    }

    function Kd(e) {
        if (e.length === 0) return "";
        var r = '<mergeCells count="' + e.length + '">';
        for (var t = 0; t != e.length; ++t) r += '<mergeCell ref="' + Na(e[t]) + '"/>';
        return r + "</mergeCells>"
    }

    function Jd(e, r, t, a) {
        var n = Gr(e);
        if (!t.Sheets[a]) t.Sheets[a] = {};
        if (n.codeName) t.Sheets[a].CodeName = Yr(ct(n.codeName))
    }

    function qd(e, r, t, a, n) {
        Jd(e.slice(0, e.indexOf(">")), t, a, n)
    }

    function Zd(e, r, t, a, n) {
        var i = false;
        var s = {},
            f = null;
        if (a.bookType !== "xlsx" && r.vbaraw) {
            var o = r.SheetNames[t];
            try {
                if (r.Workbook) o = r.Workbook.Sheets[t].CodeName || o
            }
            catch (c) { }
            i = true;
            s.codeName = lt(qr(o))
        }
        if (e && e["!outline"]) {
            var l = {
                summaryBelow: 1,
                summaryRight: 1
            };
            if (e["!outline"].above) l.summaryBelow = 0;
            if (e["!outline"].left) l.summaryRight = 0;
            f = (f || "") + kt("outlinePr", null, l)
        }
        if (!i && !f) return;
        n[n.length] = kt("sheetPr", f, s)
    }
    var Qd = ["objects", "scenarios", "selectLockedCells", "selectUnlockedCells"];
    var ev = ["formatColumns", "formatRows", "formatCells", "insertColumns", "insertRows", "insertHyperlinks", "deleteColumns", "deleteRows", "sort", "autoFilter", "pivotTables"];

    function rv(e) {
        var r = {
            sheet: 1
        };
        Qd.forEach(function (t) {
            if (e[t] != null && e[t]) r[t] = "1"
        });
        ev.forEach(function (t) {
            if (e[t] != null && !e[t]) r[t] = "0"
        });
        if (e.password) r.password = cc(e.password).toString(16).toUpperCase();
        return kt("sheetProtection", null, r)
    }

    function tv(e, r, t) {
        var a = Array.isArray(e);
        for (var n = 0; n != r.length; ++n) {
            var i = Gr(ct(r[n]), true);
            if (!i.ref) return;
            var s = ((t ||
                {})["!id"] || [])[i.id];
            if (s) {
                i.Target = s.Target;
                if (i.location) i.Target += "#" + Yr(i.location)
            }
            else {
                i.Target = "#" + Yr(i.location);
                s = {
                    Target: i.Target,
                    TargetMode: "Internal"
                }
            }
            i.Rel = s;
            if (i.tooltip) {
                i.Tooltip = i.tooltip;
                delete i.tooltip
            }
            var f = Fa(i.ref);
            for (var o = f.s.r; o <= f.e.r; ++o)
                for (var c = f.s.c; c <= f.e.c; ++c) {
                    var l = Oa(
                        {
                            c: c,
                            r: o
                        });
                    if (a) {
                        if (!e[o]) e[o] = [];
                        if (!e[o][c]) e[o][c] = {
                            t: "z",
                            v: undefined
                        };
                        e[o][c].l = i
                    }
                    else {
                        if (!e[l]) e[l] = {
                            t: "z",
                            v: undefined
                        };
                        e[l].l = i
                    }
                }
        }
    }

    function av(e) {
        var r = {};
        ["left", "right", "top", "bottom", "header", "footer"].forEach(function (t) {
            if (e[t]) r[t] = parseFloat(e[t])
        });
        return r
    }

    function nv(e) {
        Fd(e);
        return kt("pageMargins", null, e)
    }

    function iv(e, r) {
        var t = false;
        for (var a = 0; a != r.length; ++a) {
            var n = Gr(r[a], true);
            if (n.hidden) n.hidden = nt(n.hidden);
            var i = parseInt(n.min, 10) - 1,
                s = parseInt(n.max, 10) - 1;
            if (n.outlineLevel) n.level = +n.outlineLevel || 0;
            delete n.min;
            delete n.max;
            n.width = +n.width;
            if (!t && n.width) {
                t = true;
                Oc(n.width)
            }
            Ic(n);
            while (i <= s) e[i++] = gr(n)
        }
    }

    function sv(e, r) {
        var t = ["<cols>"],
            a;
        for (var n = 0; n != r.length; ++n) {
            if (!(a = r[n])) continue;
            t[t.length] = kt("col", null, Nd(n, a))
        }
        t[t.length] = "</cols>";
        return t.join("")
    }

    function fv(e) {
        var r = {
            ref: (e.match(/ref="([^"]*)"/) || [])[1]
        };
        return r
    }

    function ov(e, r, t, a) {
        var n = typeof e.ref == "string" ? e.ref : Na(e.ref);
        if (!t.Workbook) t.Workbook = {
            Sheets: []
        };
        if (!t.Workbook.Names) t.Workbook.Names = [];
        var i = t.Workbook.Names;
        var s = Ia(n);
        if (s.s.r == s.e.r) {
            s.e.r = Ia(r["!ref"]).e.r;
            n = Na(s)
        }
        for (var f = 0; f < i.length; ++f) {
            var o = i[f];
            if (o.Name != "_xlnm._FilterDatabase") continue;
            if (o.Sheet != a) continue;
            o.Ref = "'" + t.SheetNames[a] + "'!" + n;
            break
        }
        if (f == i.length) i.push(
            {
                Name: "_xlnm._FilterDatabase",
                Sheet: a,
                Ref: "'" + t.SheetNames[a] + "'!" + n
            });
        return kt("autoFilter", null,
            {
                ref: n
            })
    }
    var cv = /<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;

    function lv(e, r) {
        if (!r.Views) r.Views = [
            {}];
        (e.match(cv) || []).forEach(function (e, t) {
            var a = Gr(e);
            if (!r.Views[t]) r.Views[t] = {};
            if (+a.zoomScale) r.Views[t].zoom = +a.zoomScale;
            if (nt(a.rightToLeft)) r.Views[t].RTL = true
        })
    }

    function uv(e, r, t, a) {
        var n = {
            workbookViewId: "0"
        };
        if ((((a ||
            {}).Workbook ||
            {}).Views || [])[0]) n.rightToLeft = a.Workbook.Views[0].RTL ? "1" : "0";
        return kt("sheetViews", kt("sheetView", null, n),
            {})
    }

    function hv(e, r, t, a) {
        if (e.c) t["!comments"].push([r, e.c]);
        if (e.v === undefined && typeof e.f !== "string" || e.t === "z" && !e.f) return "";
        var n = "";
        var i = e.t,
            s = e.v;
        if (e.t !== "z") switch (e.t) {
            case "b":
                n = e.v ? "1" : "0";
                break;
            case "n":
                n = "" + e.v;
                break;
            case "e":
                n = Gn[e.v];
                break;
            case "d":
                if (a && a.cellDates) n = mr(e.v, -1).toISOString();
                else {
                    e = gr(e);
                    e.t = "n";
                    n = "" + (e.v = fr(mr(e.v)))
                }
                if (typeof e.z === "undefined") e.z = X[14];
                break;
            default:
                n = e.v;
                break;
        }
        var f = gt("v", qr(n)),
            o = {
                r: r
            };
        var c = Dd(a.cellXfs, e, a);
        if (c !== 0) o.s = c;
        switch (e.t) {
            case "n":
                break;
            case "d":
                o.t = "d";
                break;
            case "b":
                o.t = "b";
                break;
            case "e":
                o.t = "e";
                break;
            case "z":
                break;
            default:
                if (e.v == null) {
                    delete e.t;
                    break
                }
                if (e.v.length > 32767) throw new Error("Text length must not exceed 32767 characters");
                if (a && a.bookSST) {
                    f = gt("v", "" + Id(a.Strings, e.v, a.revStrings));
                    o.t = "s";
                    break
                }
                o.t = "str";
                break;
        }
        if (e.t != i) {
            e.t = i;
            e.v = s
        }
        if (typeof e.f == "string" && e.f) {
            var l = e.F && e.F.slice(0, r.length) == r ?
                {
                    t: "array",
                    ref: e.F
                } : null;
            f = kt("f", qr(e.f), l) + (e.v != null ? f : "")
        }
        if (e.l) t["!links"].push([r, e.l]);
        if (e.D) o.cm = 1;
        return kt("c", f, o)
    }
    var dv = function () {
        var e = /<(?:\w+:)?c[ \/>]/,
            r = /<\/(?:\w+:)?row>/;
        var t = /r=["']([^"']*)["']/,
            a = /<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/;
        var n = /ref=["']([^"']*)["']/;
        var i = ut("v"),
            s = ut("f");
        return function f(o, c, l, u, h, d) {
            var v = 0,
                p = "",
                m = [],
                b = [],
                g = 0,
                w = 0,
                k = 0,
                T = "",
                E;
            var y, S = 0,
                _ = 0;
            var A, x;
            var C = 0,
                R = 0;
            var O = Array.isArray(d.CellXf),
                I;
            var N = [];
            var F = [];
            var D = Array.isArray(c);
            var P = [],
                L = {},
                M = false;
            var U = !!l.sheetStubs;
            for (var B = o.split(r), W = 0, H = B.length; W != H; ++W) {
                p = B[W].trim();
                var z = p.length;
                if (z === 0) continue;
                var V = 0;
                e: for (v = 0; v < z; ++v) switch (p[v]) {
                    case ">":
                        if (p[v - 1] != "/") {
                            ++v;
                            break e
                        }
                        if (l && l.cellStyles) {
                            y = Gr(p.slice(V, v), true);
                            S = y.r != null ? parseInt(y.r, 10) : S + 1;
                            _ = -1;
                            if (l.sheetRows && l.sheetRows < S) continue;
                            L = {};
                            M = false;
                            if (y.ht) {
                                M = true;
                                L.hpt = parseFloat(y.ht);
                                L.hpx = Pc(L.hpt)
                            }
                            if (y.hidden == "1") {
                                M = true;
                                L.hidden = true
                            }
                            if (y.outlineLevel != null) {
                                M = true;
                                L.level = +y.outlineLevel
                            }
                            if (M) P[S - 1] = L
                        }
                        break;
                    case "<":
                        V = v;
                        break;
                }
                if (V >= v) break;
                y = Gr(p.slice(V, v), true);
                S = y.r != null ? parseInt(y.r, 10) : S + 1;
                _ = -1;
                if (l.sheetRows && l.sheetRows < S) continue;
                if (u.s.r > S - 1) u.s.r = S - 1;
                if (u.e.r < S - 1) u.e.r = S - 1;
                if (l && l.cellStyles) {
                    L = {};
                    M = false;
                    if (y.ht) {
                        M = true;
                        L.hpt = parseFloat(y.ht);
                        L.hpx = Pc(L.hpt)
                    }
                    if (y.hidden == "1") {
                        M = true;
                        L.hidden = true
                    }
                    if (y.outlineLevel != null) {
                        M = true;
                        L.level = +y.outlineLevel
                    }
                    if (M) P[S - 1] = L
                }
                m = p.slice(v).split(e);
                for (var G = 0; G != m.length; ++G)
                    if (m[G].trim().charAt(0) != "<") break;
                m = m.slice(G);
                for (v = 0; v != m.length; ++v) {
                    p = m[v].trim();
                    if (p.length === 0) continue;
                    b = p.match(t);
                    g = v;
                    w = 0;
                    k = 0;
                    p = "<c " + (p.slice(0, 1) == "<" ? ">" : "") + p;
                    if (b != null && b.length === 2) {
                        g = 0;
                        T = b[1];
                        for (w = 0; w != T.length; ++w) {
                            if ((k = T.charCodeAt(w) - 64) < 1 || k > 26) break;
                            g = 26 * g + k
                        } --g;
                        _ = g
                    }
                    else ++_;
                    for (w = 0; w != p.length; ++w)
                        if (p.charCodeAt(w) === 62) break;
                    ++w;
                    y = Gr(p.slice(0, w), true);
                    if (!y.r) y.r = Oa(
                        {
                            r: S - 1,
                            c: _
                        });
                    T = p.slice(w);
                    E = {
                        t: ""
                    };
                    if ((b = T.match(i)) != null && b[1] !== "") E.v = Yr(b[1]);
                    if (l.cellFormula) {
                        if ((b = T.match(s)) != null && b[1] !== "") {
                            E.f = Yr(ct(b[1])).replace(/\r\n/g, "\n");
                            if (!l.xlfn) E.f = Nu(E.f);
                            if (b[0].indexOf('t="array"') > -1) {
                                E.F = (T.match(n) || [])[1];
                                if (E.F.indexOf(":") > -1) N.push([Fa(E.F), E.F])
                            }
                            else if (b[0].indexOf('t="shared"') > -1) {
                                x = Gr(b[0]);
                                var j = Yr(ct(b[1]));
                                if (!l.xlfn) j = Nu(j);
                                F[parseInt(x.si, 10)] = [x, j, y.r]
                            }
                        }
                        else if (b = T.match(/<f[^>]*\/>/)) {
                            x = Gr(b[0]);
                            if (F[x.si]) E.f = Ou(F[x.si][1], F[x.si][2], y.r)
                        }
                        var $ = Ra(y.r);
                        for (w = 0; w < N.length; ++w)
                            if ($.r >= N[w][0].s.r && $.r <= N[w][0].e.r)
                                if ($.c >= N[w][0].s.c && $.c <= N[w][0].e.c) E.F = N[w][1]
                    }
                    if (y.t == null && E.v === undefined) {
                        if (E.f || E.F) {
                            E.v = 0;
                            E.t = "n"
                        }
                        else if (!U) continue;
                        else E.t = "z"
                    }
                    else E.t = y.t || "n";
                    if (u.s.c > _) u.s.c = _;
                    if (u.e.c < _) u.e.c = _;
                    switch (E.t) {
                        case "n":
                            if (E.v == "" || E.v == null) {
                                if (!U) continue;
                                E.t = "z"
                            }
                            else E.v = parseFloat(E.v);
                            break;
                        case "s":
                            if (typeof E.v == "undefined") {
                                if (!U) continue;
                                E.t = "z"
                            }
                            else {
                                A = Cd[parseInt(E.v, 10)];
                                E.v = A.t;
                                E.r = A.r;
                                if (l.cellHTML) E.h = A.h
                            }
                            break;
                        case "str":
                            E.t = "s";
                            E.v = E.v != null ? ct(E.v) : "";
                            if (l.cellHTML) E.h = et(E.v);
                            break;
                        case "inlineStr":
                            b = T.match(a);
                            E.t = "s";
                            if (b != null && (A = Po(b[1]))) {
                                E.v = A.t;
                                if (l.cellHTML) E.h = A.h
                            }
                            else E.v = "";
                            break;
                        case "b":
                            E.v = nt(E.v);
                            break;
                        case "d":
                            if (l.cellDates) E.v = mr(E.v, 1);
                            else {
                                E.v = fr(mr(E.v, 1));
                                E.t = "n"
                            }
                            break;
                        case "e":
                            if (!l || l.cellText !== false) E.w = E.v;
                            E.v = jn[E.v];
                            break;
                    }
                    C = R = 0;
                    I = null;
                    if (O && y.s !== undefined) {
                        I = d.CellXf[y.s];
                        if (I != null) {
                            if (I.numFmtId != null) C = I.numFmtId;
                            if (l.cellStyles) {
                                if (I.fillId != null) R = I.fillId
                            }
                        }
                    }
                    Pd(E, C, R, l, h, d);
                    if (l.cellDates && O && E.t == "n" && De(X[C])) {
                        E.t = "d";
                        E.v = ur(E.v)
                    }
                    if (y.cm && l.xlmeta) {
                        var Y = (l.xlmeta.Cell || [])[+y.cm - 1];
                        if (Y && Y.type == "XLDAPR") E.D = true
                    }
                    if (D) {
                        var K = Ra(y.r);
                        if (!c[K.r]) c[K.r] = [];
                        c[K.r][K.c] = E
                    }
                    else c[y.r] = E
                }
            }
            if (P.length > 0) c["!rows"] = P
        }
    }();

    function vv(e, r, t, a) {
        var n = [],
            i = [],
            s = Fa(e["!ref"]),
            f = "",
            o, c = "",
            l = [],
            u = 0,
            h = 0,
            d = e["!rows"];
        var v = Array.isArray(e);
        var p = {
            r: c
        },
            m, b = -1;
        for (h = s.s.c; h <= s.e.c; ++h) l[h] = _a(h);
        for (u = s.s.r; u <= s.e.r; ++u) {
            i = [];
            c = Ta(u);
            for (h = s.s.c; h <= s.e.c; ++h) {
                o = l[h] + c;
                var g = v ? (e[u] || [])[h] : e[o];
                if (g === undefined) continue;
                if ((f = hv(g, o, e, r, t, a)) != null) i.push(f)
            }
            if (i.length > 0 || d && d[u]) {
                p = {
                    r: c
                };
                if (d && d[u]) {
                    m = d[u];
                    if (m.hidden) p.hidden = 1;
                    b = -1;
                    if (m.hpx) b = Dc(m.hpx);
                    else if (m.hpt) b = m.hpt;
                    if (b > -1) {
                        p.ht = b;
                        p.customHeight = 1
                    }
                    if (m.level) {
                        p.outlineLevel = m.level
                    }
                }
                n[n.length] = kt("row", i.join(""), p)
            }
        }
        if (d)
            for (; u < d.length; ++u) {
                if (d && d[u]) {
                    p = {
                        r: u + 1
                    };
                    m = d[u];
                    if (m.hidden) p.hidden = 1;
                    b = -1;
                    if (m.hpx) b = Dc(m.hpx);
                    else if (m.hpt) b = m.hpt;
                    if (b > -1) {
                        p.ht = b;
                        p.customHeight = 1
                    }
                    if (m.level) {
                        p.outlineLevel = m.level
                    }
                    n[n.length] = kt("row", "", p)
                }
            }
        return n.join("")
    }

    function pv(e, r, t, a) {
        var n = [Mr, kt("worksheet", null,
            {
                xmlns: At[0],
                "xmlns:r": _t.r
            })];
        var i = t.SheetNames[e],
            s = 0,
            f = "";
        var o = t.Sheets[i];
        if (o == null) o = {};
        var c = o["!ref"] || "A1";
        var l = Fa(c);
        if (l.e.c > 16383 || l.e.r > 1048575) {
            if (r.WTF) throw new Error("Range " + c + " exceeds format limit A1:XFD1048576");
            l.e.c = Math.min(l.e.c, 16383);
            l.e.r = Math.min(l.e.c, 1048575);
            c = Na(l)
        }
        if (!a) a = {};
        o["!comments"] = [];
        var u = [];
        Zd(o, t, e, r, n);
        n[n.length] = kt("dimension", null,
            {
                ref: c
            });
        n[n.length] = uv(o, r, e, t);
        if (r.sheetFormat) n[n.length] = kt("sheetFormatPr", null,
            {
                defaultRowHeight: r.sheetFormat.defaultRowHeight || "16",
                baseColWidth: r.sheetFormat.baseColWidth || "10",
                outlineLevelRow: r.sheetFormat.outlineLevelRow || "7"
            });
        if (o["!cols"] != null && o["!cols"].length > 0) n[n.length] = sv(o, o["!cols"]);
        n[s = n.length] = "<sheetData/>";
        o["!links"] = [];
        if (o["!ref"] != null) {
            f = vv(o, r, e, t, a);
            if (f.length > 0) n[n.length] = f
        }
        if (n.length > s + 1) {
            n[n.length] = "</sheetData>";
            n[s] = n[s].replace("/>", ">")
        }
        if (o["!protect"]) n[n.length] = rv(o["!protect"]);
        if (o["!autofilter"] != null) n[n.length] = ov(o["!autofilter"], o, t, e);
        if (o["!merges"] != null && o["!merges"].length > 0) n[n.length] = Kd(o["!merges"]);
        var h = -1,
            d, v = -1;
        if (o["!links"].length > 0) {
            n[n.length] = "<hyperlinks>";
            o["!links"].forEach(function (e) {
                if (!e[1].Target) return;
                d = {
                    ref: e[0]
                };
                if (e[1].Target.charAt(0) != "#") {
                    v = ri(a, -1, qr(e[1].Target).replace(/#.*$/, ""), qn.HLINK);
                    d["r:id"] = "rId" + v
                }
                if ((h = e[1].Target.indexOf("#")) > -1) d.location = qr(e[1].Target.slice(h + 1));
                if (e[1].Tooltip) d.tooltip = qr(e[1].Tooltip);
                n[n.length] = kt("hyperlink", null, d)
            });
            n[n.length] = "</hyperlinks>"
        }
        delete o["!links"];
        if (o["!margins"] != null) n[n.length] = nv(o["!margins"]);
        if (!r || r.ignoreEC || r.ignoreEC == void 0) n[n.length] = gt("ignoredErrors", kt("ignoredError", null,
            {
                numberStoredAsText: 1,
                sqref: c
            }));
        if (u.length > 0) {
            v = ri(a, -1, "../drawings/drawing" + (e + 1) + ".xml", qn.DRAW);
            n[n.length] = kt("drawing", null,
                {
                    "r:id": "rId" + v
                });
            o["!drawing"] = u
        }
        if (o["!comments"].length > 0) {
            v = ri(a, -1, "../drawings/vmlDrawing" + (e + 1) + ".vml", qn.VML);
            n[n.length] = kt("legacyDrawing", null,
                {
                    "r:id": "rId" + v
                });
            o["!legacy"] = v
        }
        if (n.length > 1) {
            n[n.length] = "</worksheet>";
            n[1] = n[1].replace("/>", ">")
        }
        return n.join("")
    }

    function mv(e, r) {
        var t = {};
        var a = e.l + r;
        t.r = e._R(4);
        e.l += 4;
        var n = e._R(2);
        e.l += 1;
        var i = e._R(1);
        e.l = a;
        if (i & 7) t.level = i & 7;
        if (i & 16) t.hidden = true;
        if (i & 32) t.hpt = n / 20;
        return t
    }

    function bv(e, r, t) {
        var a = ha(17 + 8 * 16);
        var n = (t["!rows"] || [])[e] ||
            {};
        a._W(4, e);
        a._W(4, 0);
        var i = 320;
        if (n.hpx) i = Dc(n.hpx) * 20;
        else if (n.hpt) i = n.hpt * 20;
        a._W(2, i);
        a._W(1, 0);
        var s = 0;
        if (n.level) s |= n.level;
        if (n.hidden) s |= 16;
        if (n.hpx || n.hpt) s |= 32;
        a._W(1, s);
        a._W(1, 0);
        var f = 0,
            o = a.l;
        a.l += 4;
        var c = {
            r: e,
            c: 0
        };
        for (var l = 0; l < 16; ++l) {
            if (r.s.c > l + 1 << 10 || r.e.c < l << 10) continue;
            var u = -1,
                h = -1;
            for (var d = l << 10; d < l + 1 << 10; ++d) {
                c.c = d;
                var v = Array.isArray(t) ? (t[c.r] || [])[c.c] : t[Oa(c)];
                if (v) {
                    if (u < 0) u = d;
                    h = d
                }
            }
            if (u < 0) continue;
            ++f;
            a._W(4, u);
            a._W(4, h)
        }
        var p = a.l;
        a.l = o;
        a._W(4, f);
        a.l = p;
        return a.length > a.l ? a.slice(0, a.l) : a
    }

    function gv(e, r, t, a) {
        var n = bv(a, t, r);
        if (n.length > 17 || (r["!rows"] || [])[a]) pa(e, 0, n)
    }
    var wv = un;
    var kv = hn;

    function Tv() { }

    function Ev(e, r) {
        var t = {};
        var a = e[e.l];
        ++e.l;
        t.above = !(a & 64);
        t.left = !(a & 128);
        e.l += 18;
        t.name = Qa(e, r - 19);
        return t
    }

    function yv(e, r, t) {
        if (t == null) t = ha(84 + 4 * e.length);
        var a = 192;
        if (r) {
            if (r.above) a &= ~64;
            if (r.left) a &= ~128
        }
        t._W(1, a);
        for (var n = 1; n < 3; ++n) t._W(1, 0);
        mn(
            {
                auto: 1
            }, t);
        t._W(-4, -1);
        t._W(-4, -1);
        en(e, t);
        return t.slice(0, t.l)
    }

    function Sv(e) {
        var r = Ka(e);
        return [r]
    }

    function _v(e, r, t) {
        if (t == null) t = ha(8);
        return Ja(r, t)
    }

    function Av(e) {
        var r = qa(e);
        return [r]
    }

    function xv(e, r, t) {
        if (t == null) t = ha(4);
        return Za(r, t)
    }

    function Cv(e) {
        var r = Ka(e);
        var t = e._R(1);
        return [r, t, "b"]
    }

    function Rv(e, r, t) {
        if (t == null) t = ha(9);
        Ja(r, t);
        t._W(1, e.v ? 1 : 0);
        return t
    }

    function Ov(e) {
        var r = qa(e);
        var t = e._R(1);
        return [r, t, "b"]
    }

    function Iv(e, r, t) {
        if (t == null) t = ha(5);
        Za(r, t);
        t._W(1, e.v ? 1 : 0);
        return t
    }

    function Nv(e) {
        var r = Ka(e);
        var t = e._R(1);
        return [r, t, "e"]
    }

    function Fv(e, r, t) {
        if (t == null) t = ha(9);
        Ja(r, t);
        t._W(1, e.v);
        return t
    }

    function Dv(e) {
        var r = qa(e);
        var t = e._R(1);
        return [r, t, "e"]
    }

    function Pv(e, r, t) {
        if (t == null) t = ha(8);
        Za(r, t);
        t._W(1, e.v);
        t._W(2, 0);
        t._W(1, 0);
        return t
    }

    function Lv(e) {
        var r = Ka(e);
        var t = e._R(4);
        return [r, t, "s"]
    }

    function Mv(e, r, t) {
        if (t == null) t = ha(12);
        Ja(r, t);
        t._W(4, r.v);
        return t
    }

    function Uv(e) {
        var r = qa(e);
        var t = e._R(4);
        return [r, t, "s"]
    }

    function Bv(e, r, t) {
        if (t == null) t = ha(8);
        Za(r, t);
        t._W(4, r.v);
        return t
    }

    function Wv(e) {
        var r = Ka(e);
        var t = dn(e);
        return [r, t, "n"]
    }

    function Hv(e, r, t) {
        if (t == null) t = ha(16);
        Ja(r, t);
        vn(e.v, t);
        return t
    }

    function zv(e) {
        var r = qa(e);
        var t = dn(e);
        return [r, t, "n"]
    }

    function Vv(e, r, t) {
        if (t == null) t = ha(12);
        Za(r, t);
        vn(e.v, t);
        return t
    }

    function Gv(e) {
        var r = Ka(e);
        var t = fn(e);
        return [r, t, "n"]
    }

    function jv(e, r, t) {
        if (t == null) t = ha(12);
        Ja(r, t);
        on(e.v, t);
        return t
    }

    function Xv(e) {
        var r = qa(e);
        var t = fn(e);
        return [r, t, "n"]
    }

    function $v(e, r, t) {
        if (t == null) t = ha(8);
        Za(r, t);
        on(e.v, t);
        return t
    }

    function Yv(e) {
        var r = Ka(e);
        var t = ja(e);
        return [r, t, "is"]
    }

    function Kv(e) {
        var r = Ka(e);
        var t = Ha(e);
        return [r, t, "str"]
    }

    function Jv(e, r, t) {
        if (t == null) t = ha(12 + 4 * e.v.length);
        Ja(r, t);
        za(e.v, t);
        return t.length > t.l ? t.slice(0, t.l) : t
    }

    function qv(e) {
        var r = qa(e);
        var t = Ha(e);
        return [r, t, "str"]
    }

    function Zv(e, r, t) {
        if (t == null) t = ha(8 + 4 * e.v.length);
        Za(r, t);
        za(e.v, t);
        return t.length > t.l ? t.slice(0, t.l) : t
    }

    function Qv(e, r, t) {
        var a = e.l + r;
        var n = Ka(e);
        n.r = t["!row"];
        var i = e._R(1);
        var s = [n, i, "b"];
        if (t.cellFormula) {
            e.l += 2;
            var f = gd(e, a - e.l, t);
            s[3] = fd(f, null, n, t.supbooks, t)
        }
        else e.l = a;
        return s
    }

    function ep(e, r, t) {
        var a = e.l + r;
        var n = Ka(e);
        n.r = t["!row"];
        var i = e._R(1);
        var s = [n, i, "e"];
        if (t.cellFormula) {
            e.l += 2;
            var f = gd(e, a - e.l, t);
            s[3] = fd(f, null, n, t.supbooks, t)
        }
        else e.l = a;
        return s
    }

    function rp(e, r, t) {
        var a = e.l + r;
        var n = Ka(e);
        n.r = t["!row"];
        var i = dn(e);
        var s = [n, i, "n"];
        if (t.cellFormula) {
            e.l += 2;
            var f = gd(e, a - e.l, t);
            s[3] = fd(f, null, n, t.supbooks, t)
        }
        else e.l = a;
        return s
    }

    function tp(e, r, t) {
        var a = e.l + r;
        var n = Ka(e);
        n.r = t["!row"];
        var i = Ha(e);
        var s = [n, i, "str"];
        if (t.cellFormula) {
            e.l += 2;
            var f = gd(e, a - e.l, t);
            s[3] = fd(f, null, n, t.supbooks, t)
        }
        else e.l = a;
        return s
    }
    var ap = un;
    var np = hn;

    function ip(e, r) {
        if (r == null) r = ha(4);
        r._W(4, e);
        return r
    }

    function sp(e, r) {
        var t = e.l + r;
        var a = un(e, 16);
        var n = rn(e);
        var i = Ha(e);
        var s = Ha(e);
        var f = Ha(e);
        e.l = t;
        var o = {
            rfx: a,
            relId: n,
            loc: i,
            display: f
        };
        if (s) o.Tooltip = s;
        return o
    }

    function fp(e, r) {
        var t = ha(50 + 4 * (e[1].Target.length + (e[1].Tooltip || "").length));
        hn(
            {
                s: Ra(e[0]),
                e: Ra(e[0])
            }, t);
        sn("rId" + r, t);
        var a = e[1].Target.indexOf("#");
        var n = a == -1 ? "" : e[1].Target.slice(a + 1);
        za(n || "", t);
        za(e[1].Tooltip || "", t);
        za("", t);
        return t.slice(0, t.l)
    }

    function op() { }

    function cp(e, r, t) {
        var a = e.l + r;
        var n = cn(e, 16);
        var i = e._R(1);
        var s = [n];
        s[2] = i;
        if (t.cellFormula) {
            var f = bd(e, a - e.l, t);
            s[1] = f
        }
        else e.l = a;
        return s
    }

    function lp(e, r, t) {
        var a = e.l + r;
        var n = un(e, 16);
        var i = [n];
        if (t.cellFormula) {
            var s = kd(e, a - e.l, t);
            i[1] = s;
            e.l = a
        }
        else e.l = a;
        return i
    }

    function up(e, r, t) {
        if (t == null) t = ha(18);
        var a = Nd(e, r);
        t._W(-4, e);
        t._W(-4, e);
        t._W(4, (a.width || 10) * 256);
        t._W(4, 0);
        var n = 0;
        if (r.hidden) n |= 1;
        if (typeof a.width == "number") n |= 2;
        if (r.level) n |= r.level << 8;
        t._W(2, n);
        return t
    }
    var hp = ["left", "right", "top", "bottom", "header", "footer"];

    function dp(e) {
        var r = {};
        hp.forEach(function (t) {
            r[t] = dn(e, 8)
        });
        return r
    }

    function vp(e, r) {
        if (r == null) r = ha(6 * 8);
        Fd(e);
        hp.forEach(function (t) {
            vn(e[t], r)
        });
        return r
    }

    function pp(e) {
        var r = e._R(2);
        e.l += 28;
        return {
            RTL: r & 32
        }
    }

    function mp(e, r, t) {
        if (t == null) t = ha(30);
        var a = 924;
        if ((((r ||
            {}).Views || [])[0] ||
            {}).RTL) a |= 32;
        t._W(2, a);
        t._W(4, 0);
        t._W(4, 0);
        t._W(4, 0);
        t._W(1, 0);
        t._W(1, 0);
        t._W(2, 0);
        t._W(2, 100);
        t._W(2, 0);
        t._W(2, 0);
        t._W(2, 0);
        t._W(4, 0);
        return t
    }

    function bp(e) {
        var r = ha(24);
        r._W(4, 4);
        r._W(4, 1);
        hn(e, r);
        return r
    }

    function gp(e, r) {
        if (r == null) r = ha(16 * 4 + 2);
        r._W(2, e.password ? cc(e.password) : 0);
        r._W(4, 1);
        [
            ["objects", false],
            ["scenarios", false],
            ["formatCells", true],
            ["formatColumns", true],
            ["formatRows", true],
            ["insertColumns", true],
            ["insertRows", true],
            ["insertHyperlinks", true],
            ["deleteColumns", true],
            ["deleteRows", true],
            ["selectLockedCells", false],
            ["sort", true],
            ["autoFilter", true],
            ["pivotTables", true],
            ["selectUnlockedCells", false]
        ].forEach(function (t) {
            if (t[1]) r._W(4, e[t[0]] != null && !e[t[0]] ? 1 : 0);
            else r._W(4, e[t[0]] != null && e[t[0]] ? 0 : 1)
        });
        return r
    }

    function wp() { }

    function kp() { }

    function Tp(e, r, t, a, n, i, s) {
        if (!e) return e;
        var f = r ||
            {};
        if (!a) a = {
            "!id":
                {}
        };
        if (m != null && f.dense == null) f.dense = m;
        var o = f.dense ? [] :
            {};
        var c;
        var l = {
            s:
            {
                r: 2e6,
                c: 2e6
            },
            e:
            {
                r: 0,
                c: 0
            }
        };
        var u = [];
        var h = false,
            d = false;
        var v, p, b, g, w, k, T, E, y;
        var S = [];
        f.biff = 12;
        f["!row"] = 0;
        var _ = 0,
            A = false;
        var x = [];
        var C = {};
        var R = f.supbooks || n.supbooks || [
            []
        ];
        R.sharedf = C;
        R.arrayf = x;
        R.SheetNames = n.SheetNames || n.Sheets.map(function (e) {
            return e.name
        });
        if (!f.supbooks) {
            f.supbooks = R;
            if (n.Names)
                for (var O = 0; O < n.Names.length; ++O) R[0][O + 1] = n.Names[O]
        }
        var I = [],
            N = [];
        var F = false;
        mb[16] = {
            n: "BrtShortReal",
            f: zv
        };
        var D, P;
        da(e, function M(e, r, m) {
            if (d) return;
            switch (m) {
                case 148:
                    c = e;
                    break;
                case 0:
                    v = e;
                    if (f.sheetRows && f.sheetRows <= v.r) d = true;
                    E = Ta(g = v.r);
                    f["!row"] = v.r;
                    if (e.hidden || e.hpt || e.level != null) {
                        if (e.hpt) e.hpx = Pc(e.hpt);
                        N[e.r] = e
                    }
                    break;
                case 2:
                    ;
                case 3:
                    ;
                case 4:
                    ;
                case 5:
                    ;
                case 6:
                    ;
                case 7:
                    ;
                case 8:
                    ;
                case 9:
                    ;
                case 10:
                    ;
                case 11:
                    ;
                case 13:
                    ;
                case 14:
                    ;
                case 15:
                    ;
                case 16:
                    ;
                case 17:
                    ;
                case 18:
                    ;
                case 62:
                    p = {
                        t: e[2]
                    };
                    switch (e[2]) {
                        case "n":
                            p.v = e[1];
                            break;
                        case "s":
                            T = Cd[e[1]];
                            p.v = T.t;
                            p.r = T.r;
                            break;
                        case "b":
                            p.v = e[1] ? true : false;
                            break;
                        case "e":
                            p.v = e[1];
                            if (f.cellText !== false) p.w = Gn[p.v];
                            break;
                        case "str":
                            p.t = "s";
                            p.v = e[1];
                            break;
                        case "is":
                            p.t = "s";
                            p.v = e[1].t;
                            break;
                    }
                    if (b = s.CellXf[e[0].iStyleRef]) Pd(p, b.numFmtId, null, f, i, s);
                    w = e[0].c == -1 ? w + 1 : e[0].c;
                    if (f.dense) {
                        if (!o[g]) o[g] = [];
                        o[g][w] = p
                    }
                    else o[_a(w) + E] = p;
                    if (f.cellFormula) {
                        A = false;
                        for (_ = 0; _ < x.length; ++_) {
                            var O = x[_];
                            if (v.r >= O[0].s.r && v.r <= O[0].e.r)
                                if (w >= O[0].s.c && w <= O[0].e.c) {
                                    p.F = Na(O[0]);
                                    A = true
                                }
                        }
                        if (!A && e.length > 3) p.f = e[3]
                    }
                    if (l.s.r > v.r) l.s.r = v.r;
                    if (l.s.c > w) l.s.c = w;
                    if (l.e.r < v.r) l.e.r = v.r;
                    if (l.e.c < w) l.e.c = w;
                    if (f.cellDates && b && p.t == "n" && De(X[b.numFmtId])) {
                        var L = q(p.v);
                        if (L) {
                            p.t = "d";
                            p.v = new Date(L.y, L.m - 1, L.d, L.H, L.M, L.S, L.u)
                        }
                    }
                    if (D) {
                        if (D.type == "XLDAPR") p.D = true;
                        D = void 0
                    }
                    if (P) P = void 0;
                    break;
                case 1:
                    ;
                case 12:
                    if (!f.sheetStubs || h) break;
                    p = {
                        t: "z",
                        v: void 0
                    };
                    w = e[0].c == -1 ? w + 1 : e[0].c;
                    if (f.dense) {
                        if (!o[g]) o[g] = [];
                        o[g][w] = p
                    }
                    else o[_a(w) + E] = p;
                    if (l.s.r > v.r) l.s.r = v.r;
                    if (l.s.c > w) l.s.c = w;
                    if (l.e.r < v.r) l.e.r = v.r;
                    if (l.e.c < w) l.e.c = w;
                    if (D) {
                        if (D.type == "XLDAPR") p.D = true;
                        D = void 0
                    }
                    if (P) P = void 0;
                    break;
                case 176:
                    S.push(e);
                    break;
                case 49:
                    {
                        D = ((f.xlmeta ||
                            {}).Cell || [])[e - 1]
                    }
                    break;
                case 494:
                    var M = a["!id"][e.relId];
                    if (M) {
                        e.Target = M.Target;
                        if (e.loc) e.Target += "#" + e.loc;
                        e.Rel = M
                    }
                    else if (e.relId == "") {
                        e.Target = "#" + e.loc
                    }
                    for (g = e.rfx.s.r; g <= e.rfx.e.r; ++g)
                        for (w = e.rfx.s.c; w <= e.rfx.e.c; ++w) {
                            if (f.dense) {
                                if (!o[g]) o[g] = [];
                                if (!o[g][w]) o[g][w] = {
                                    t: "z",
                                    v: undefined
                                };
                                o[g][w].l = e
                            }
                            else {
                                k = Oa(
                                    {
                                        c: w,
                                        r: g
                                    });
                                if (!o[k]) o[k] = {
                                    t: "z",
                                    v: undefined
                                };
                                o[k].l = e
                            }
                        }
                    break;
                case 426:
                    if (!f.cellFormula) break;
                    x.push(e);
                    y = f.dense ? o[g][w] : o[_a(w) + E];
                    y.f = fd(e[1], l,
                        {
                            r: v.r,
                            c: w
                        }, R, f);
                    y.F = Na(e[0]);
                    break;
                case 427:
                    if (!f.cellFormula) break;
                    C[Oa(e[0].s)] = e[1];
                    y = f.dense ? o[g][w] : o[_a(w) + E];
                    y.f = fd(e[1], l,
                        {
                            r: v.r,
                            c: w
                        }, R, f);
                    break;
                case 60:
                    if (!f.cellStyles) break;
                    while (e.e >= e.s) {
                        I[e.e--] = {
                            width: e.w / 256,
                            hidden: !!(e.flags & 1),
                            level: e.level
                        };
                        if (!F) {
                            F = true;
                            Oc(e.w / 256)
                        }
                        Ic(I[e.e + 1])
                    }
                    break;
                case 161:
                    o["!autofilter"] = {
                        ref: Na(e)
                    };
                    break;
                case 476:
                    o["!margins"] = e;
                    break;
                case 147:
                    if (!n.Sheets[t]) n.Sheets[t] = {};
                    if (e.name) n.Sheets[t].CodeName = e.name;
                    if (e.above || e.left) o["!outline"] = {
                        above: e.above,
                        left: e.left
                    };
                    break;
                case 137:
                    if (!n.Views) n.Views = [
                        {}];
                    if (!n.Views[0]) n.Views[0] = {};
                    if (e.RTL) n.Views[0].RTL = true;
                    break;
                case 485:
                    break;
                case 64:
                    ;
                case 1053:
                    break;
                case 151:
                    break;
                case 152:
                    ;
                case 175:
                    ;
                case 644:
                    ;
                case 625:
                    ;
                case 562:
                    ;
                case 396:
                    ;
                case 1112:
                    ;
                case 1146:
                    ;
                case 471:
                    ;
                case 1050:
                    ;
                case 649:
                    ;
                case 1105:
                    ;
                case 589:
                    ;
                case 607:
                    ;
                case 564:
                    ;
                case 1055:
                    ;
                case 168:
                    ;
                case 174:
                    ;
                case 1180:
                    ;
                case 499:
                    ;
                case 507:
                    ;
                case 550:
                    ;
                case 171:
                    ;
                case 167:
                    ;
                case 1177:
                    ;
                case 169:
                    ;
                case 1181:
                    ;
                case 551:
                    ;
                case 552:
                    ;
                case 661:
                    ;
                case 639:
                    ;
                case 478:
                    ;
                case 537:
                    ;
                case 477:
                    ;
                case 536:
                    ;
                case 1103:
                    ;
                case 680:
                    ;
                case 1104:
                    ;
                case 1024:
                    ;
                case 663:
                    ;
                case 535:
                    ;
                case 678:
                    ;
                case 504:
                    ;
                case 1043:
                    ;
                case 428:
                    ;
                case 170:
                    ;
                case 3072:
                    ;
                case 50:
                    ;
                case 2070:
                    ;
                case 1045:
                    break;
                case 35:
                    h = true;
                    break;
                case 36:
                    h = false;
                    break;
                case 37:
                    u.push(m);
                    h = true;
                    break;
                case 38:
                    u.pop();
                    h = false;
                    break;
                default:
                    if (r.T) { }
                    else if (!h || f.WTF) throw new Error("Unexpected record 0x" + m.toString(16));
            }
        }, f);
        delete f.supbooks;
        delete f["!row"];
        if (!o["!ref"] && (l.s.r < 2e6 || c && (c.e.r > 0 || c.e.c > 0 || c.s.r > 0 || c.s.c > 0))) o["!ref"] = Na(c || l);
        if (f.sheetRows && o["!ref"]) {
            var L = Fa(o["!ref"]);
            if (f.sheetRows <= +L.e.r) {
                L.e.r = f.sheetRows - 1;
                if (L.e.r > l.e.r) L.e.r = l.e.r;
                if (L.e.r < L.s.r) L.s.r = L.e.r;
                if (L.e.c > l.e.c) L.e.c = l.e.c;
                if (L.e.c < L.s.c) L.s.c = L.e.c;
                o["!fullref"] = o["!ref"];
                o["!ref"] = Na(L)
            }
        }
        if (S.length > 0) o["!merges"] = S;
        if (I.length > 0) o["!cols"] = I;
        if (N.length > 0) o["!rows"] = N;
        return o
    }

    function Ep(e, r, t, a, n, i, s) {
        if (r.v === undefined) return false;
        var f = "";
        switch (r.t) {
            case "b":
                f = r.v ? "1" : "0";
                break;
            case "d":
                r = gr(r);
                r.z = r.z || X[14];
                r.v = fr(mr(r.v));
                r.t = "n";
                break;
            case "n":
                ;
            case "e":
                f = "" + r.v;
                break;
            default:
                f = r.v;
                break;
        }
        var o = {
            r: t,
            c: a
        };
        o.s = Dd(n.cellXfs, r, n);
        if (r.l) i["!links"].push([Oa(o), r.l]);
        if (r.c) i["!comments"].push([Oa(o), r.c]);
        switch (r.t) {
            case "s":
                ;
            case "str":
                if (n.bookSST) {
                    f = Id(n.Strings, r.v, n.revStrings);
                    o.t = "s";
                    o.v = f;
                    if (s) pa(e, 18, Bv(r, o));
                    else pa(e, 7, Mv(r, o))
                }
                else {
                    o.t = "str";
                    if (s) pa(e, 17, Zv(r, o));
                    else pa(e, 6, Jv(r, o))
                }
                return true;
            case "n":
                if (r.v == (r.v | 0) && r.v > -1e3 && r.v < 1e3) {
                    if (s) pa(e, 13, $v(r, o));
                    else pa(e, 2, jv(r, o))
                }
                else {
                    if (s) pa(e, 16, Vv(r, o));
                    else pa(e, 5, Hv(r, o))
                }
                return true;
            case "b":
                o.t = "b";
                if (s) pa(e, 15, Iv(r, o));
                else pa(e, 4, Rv(r, o));
                return true;
            case "e":
                o.t = "e";
                if (s) pa(e, 14, Pv(r, o));
                else pa(e, 3, Fv(r, o));
                return true;
        }
        if (s) pa(e, 12, xv(r, o));
        else pa(e, 1, _v(r, o));
        return true
    }

    function yp(e, r, t, a) {
        var n = Fa(r["!ref"] || "A1"),
            i, s = "",
            f = [];
        pa(e, 145);
        var o = Array.isArray(r);
        var c = n.e.r;
        if (r["!rows"]) c = Math.max(n.e.r, r["!rows"].length - 1);
        for (var l = n.s.r; l <= c; ++l) {
            s = Ta(l);
            gv(e, r, n, l);
            var u = false;
            if (l <= n.e.r)
                for (var h = n.s.c; h <= n.e.c; ++h) {
                    if (l === n.s.r) f[h] = _a(h);
                    i = f[h] + s;
                    var d = o ? (r[l] || [])[h] : r[i];
                    if (!d) {
                        u = false;
                        continue
                    }
                    u = Ep(e, d, l, h, a, r, u)
                }
        }
        pa(e, 146)
    }

    function Sp(e, r) {
        if (!r || !r["!merges"]) return;
        pa(e, 177, ip(r["!merges"].length));
        r["!merges"].forEach(function (r) {
            pa(e, 176, np(r))
        });
        pa(e, 178)
    }

    function _p(e, r) {
        if (!r || !r["!cols"]) return;
        pa(e, 390);
        r["!cols"].forEach(function (r, t) {
            if (r) pa(e, 60, up(t, r))
        });
        pa(e, 391)
    }

    function Ap(e, r) {
        if (!r || !r["!ref"]) return;
        pa(e, 648);
        pa(e, 649, bp(Fa(r["!ref"])));
        pa(e, 650)
    }

    function xp(e, r, t) {
        r["!links"].forEach(function (r) {
            if (!r[1].Target) return;
            var a = ri(t, -1, r[1].Target.replace(/#.*$/, ""), qn.HLINK);
            pa(e, 494, fp(r, a))
        });
        delete r["!links"]
    }

    function Cp(e, r, t, a) {
        if (r["!comments"].length > 0) {
            var n = ri(a, -1, "../drawings/vmlDrawing" + (t + 1) + ".vml", qn.VML);
            pa(e, 551, sn("rId" + n));
            r["!legacy"] = n
        }
    }

    function Rp(e, r, t, a) {
        if (!r["!autofilter"]) return;
        var n = r["!autofilter"];
        var i = typeof n.ref === "string" ? n.ref : Na(n.ref);
        if (!t.Workbook) t.Workbook = {
            Sheets: []
        };
        if (!t.Workbook.Names) t.Workbook.Names = [];
        var s = t.Workbook.Names;
        var f = Ia(i);
        if (f.s.r == f.e.r) {
            f.e.r = Ia(r["!ref"]).e.r;
            i = Na(f)
        }
        for (var o = 0; o < s.length; ++o) {
            var c = s[o];
            if (c.Name != "_xlnm._FilterDatabase") continue;
            if (c.Sheet != a) continue;
            c.Ref = "'" + t.SheetNames[a] + "'!" + i;
            break
        }
        if (o == s.length) s.push(
            {
                Name: "_xlnm._FilterDatabase",
                Sheet: a,
                Ref: "'" + t.SheetNames[a] + "'!" + i
            });
        pa(e, 161, hn(Fa(i)));
        pa(e, 162)
    }

    function Op(e, r, t) {
        pa(e, 133);
        {
            pa(e, 137, mp(r, t));
            pa(e, 138)
        }
        pa(e, 134)
    }

    function Ip() { }

    function Np(e, r) {
        if (!r["!protect"]) return;
        pa(e, 535, gp(r["!protect"]))
    }

    function Fp(e, r, t, a) {
        var n = va();
        var i = t.SheetNames[e],
            s = t.Sheets[i] ||
                {};
        var f = i;
        try {
            if (t && t.Workbook) f = t.Workbook.Sheets[e].CodeName || f
        }
        catch (o) { }
        var c = Fa(s["!ref"] || "A1");
        if (c.e.c > 16383 || c.e.r > 1048575) {
            if (r.WTF) throw new Error("Range " + (s["!ref"] || "A1") + " exceeds format limit A1:XFD1048576");
            c.e.c = Math.min(c.e.c, 16383);
            c.e.r = Math.min(c.e.c, 1048575)
        }
        s["!links"] = [];
        s["!comments"] = [];
        pa(n, 129);
        if (t.vbaraw || s["!outline"]) pa(n, 147, yv(f, s["!outline"]));
        pa(n, 148, kv(c));
        Op(n, s, t.Workbook);
        Ip(n, s);
        _p(n, s, e, r, t);
        yp(n, s, e, r, t);
        Np(n, s);
        Rp(n, s, t, e);
        Sp(n, s);
        xp(n, s, a);
        if (s["!margins"]) pa(n, 476, vp(s["!margins"]));
        if (!r || r.ignoreEC || r.ignoreEC == void 0) Ap(n, s);
        Cp(n, s, e, a);
        pa(n, 130);
        return n.end()
    }

    function Dp(e) {
        var r = [];
        var t = e.match(/^<c:numCache>/);
        var a;
        (e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm) || []).forEach(function (e) {
            var a = e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);
            if (!a) return;
            r[+a[1]] = t ? +a[2] : a[2]
        });
        var n = Yr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/) || ["", "General"])[1]);
        (e.match(/<c:f>(.*?)<\/c:f>/gm) || []).forEach(function (e) {
            a = e.replace(/<.*?>/g, "")
        });
        return [r, n, a]
    }

    function Pp(e, r, t, a, n, i) {
        var s = i ||
        {
            "!type": "chart"
        };
        if (!e) return i;
        var f = 0,
            o = 0,
            c = "A";
        var l = {
            s:
            {
                r: 2e6,
                c: 2e6
            },
            e:
            {
                r: 0,
                c: 0
            }
        };
        (e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm) || []).forEach(function (e) {
            var r = Dp(e);
            l.s.r = l.s.c = 0;
            l.e.c = f;
            c = _a(f);
            r[0].forEach(function (e, t) {
                s[c + Ta(t)] = {
                    t: "n",
                    v: e,
                    z: r[1]
                };
                o = t
            });
            if (l.e.r < o) l.e.r = o;
            ++f
        });
        if (f > 0) s["!ref"] = Na(l);
        return s
    }

    function Lp(e, r, t, a, n) {
        if (!e) return e;
        if (!a) a = {
            "!id":
                {}
        };
        var i = {
            "!type": "chart",
            "!drawel": null,
            "!rel": ""
        };
        var s;
        var f = e.match(jd);
        if (f) Jd(f[0], i, n, t);
        if (s = e.match(/drawing r:id="(.*?)"/)) i["!rel"] = s[1];
        if (a["!id"][i["!rel"]]) i["!drawel"] = a["!id"][i["!rel"]];
        return i
    }

    function Mp(e, r, t, a) {
        var n = [Mr, kt("chartsheet", null,
            {
                xmlns: At[0],
                "xmlns:r": _t.r
            })];
        n[n.length] = kt("drawing", null,
            {
                "r:id": "rId1"
            });
        ri(a, -1, "../drawings/drawing" + (e + 1) + ".xml", qn.DRAW);
        if (n.length > 2) {
            n[n.length] = "</chartsheet>";
            n[1] = n[1].replace("/>", ">")
        }
        return n.join("")
    }

    function Up(e, r) {
        e.l += 10;
        var t = Ha(e, r - 10);
        return {
            name: t
        }
    }

    function Bp(e, r, t, a, n) {
        if (!e) return e;
        if (!a) a = {
            "!id":
                {}
        };
        var i = {
            "!type": "chart",
            "!drawel": null,
            "!rel": ""
        };
        var s = [];
        var f = false;
        da(e, function o(e, a, c) {
            switch (c) {
                case 550:
                    i["!rel"] = e;
                    break;
                case 651:
                    if (!n.Sheets[t]) n.Sheets[t] = {};
                    if (e.name) n.Sheets[t].CodeName = e.name;
                    break;
                case 562:
                    ;
                case 652:
                    ;
                case 669:
                    ;
                case 679:
                    ;
                case 551:
                    ;
                case 552:
                    ;
                case 476:
                    ;
                case 3072:
                    break;
                case 35:
                    f = true;
                    break;
                case 36:
                    f = false;
                    break;
                case 37:
                    s.push(c);
                    break;
                case 38:
                    s.pop();
                    break;
                default:
                    if (a.T > 0) s.push(c);
                    else if (a.T < 0) s.pop();
                    else if (!f || r.WTF) throw new Error("Unexpected record 0x" + c.toString(16));
            }
        }, r);
        if (a["!id"][i["!rel"]]) i["!drawel"] = a["!id"][i["!rel"]];
        return i
    }

    function Wp() {
        var e = va();
        pa(e, 129);
        pa(e, 130);
        return e.end()
    }
    var Hp = [
        ["allowRefreshQuery", false, "bool"],
        ["autoCompressPictures", true, "bool"],
        ["backupFile", false, "bool"],
        ["checkCompatibility", false, "bool"],
        ["CodeName", ""],
        ["date1904", false, "bool"],
        ["defaultThemeVersion", 0, "int"],
        ["filterPrivacy", false, "bool"],
        ["hidePivotFieldList", false, "bool"],
        ["promptedSolutions", false, "bool"],
        ["publishItems", false, "bool"],
        ["refreshAllConnections", false, "bool"],
        ["saveExternalLinkValues", true, "bool"],
        ["showBorderUnselectedTables", true, "bool"],
        ["showInkAnnotation", true, "bool"],
        ["showObjects", "all"],
        ["showPivotChartFilter", false, "bool"],
        ["updateLinks", "userSet"]
    ];
    var zp = [
        ["activeTab", 0, "int"],
        ["autoFilterDateGrouping", true, "bool"],
        ["firstSheet", 0, "int"],
        ["minimized", false, "bool"],
        ["showHorizontalScroll", true, "bool"],
        ["showSheetTabs", true, "bool"],
        ["showVerticalScroll", true, "bool"],
        ["tabRatio", 600, "int"],
        ["visibility", "visible"]
    ];
    var Vp = [];
    var Gp = [
        ["calcCompleted", "true"],
        ["calcMode", "auto"],
        ["calcOnSave", "true"],
        ["concurrentCalc", "true"],
        ["fullCalcOnLoad", "false"],
        ["fullPrecision", "true"],
        ["iterate", "false"],
        ["iterateCount", "100"],
        ["iterateDelta", "0.001"],
        ["refMode", "A1"]
    ];

    function jp(e, r) {
        for (var t = 0; t != e.length; ++t) {
            var a = e[t];
            for (var n = 0; n != r.length; ++n) {
                var i = r[n];
                if (a[i[0]] == null) a[i[0]] = i[1];
                else switch (i[2]) {
                    case "bool":
                        if (typeof a[i[0]] == "string") a[i[0]] = nt(a[i[0]]);
                        break;
                    case "int":
                        if (typeof a[i[0]] == "string") a[i[0]] = parseInt(a[i[0]], 10);
                        break;
                }
            }
        }
    }

    function Xp(e, r) {
        for (var t = 0; t != r.length; ++t) {
            var a = r[t];
            if (e[a[0]] == null) e[a[0]] = a[1];
            else switch (a[2]) {
                case "bool":
                    if (typeof e[a[0]] == "string") e[a[0]] = nt(e[a[0]]);
                    break;
                case "int":
                    if (typeof e[a[0]] == "string") e[a[0]] = parseInt(e[a[0]], 10);
                    break;
            }
        }
    }

    function $p(e) {
        Xp(e.WBProps, Hp);
        Xp(e.CalcPr, Gp);
        jp(e.WBView, zp);
        jp(e.Sheets, Vp);
        Rd.date1904 = nt(e.WBProps.date1904)
    }

    function Yp(e) {
        if (!e.Workbook) return "false";
        if (!e.Workbook.WBProps) return "false";
        return nt(e.Workbook.WBProps.date1904) ? "true" : "false"
    }
    var Kp = "][*?/\\".split("");

    function Jp(e, r) {
        if (e.length > 31) {
            if (r) return false;
            throw new Error("Sheet names cannot exceed 31 chars")
        }
        var t = true;
        Kp.forEach(function (a) {
            if (e.indexOf(a) == -1) return;
            if (!r) throw new Error("Sheet name cannot contain : \\ / ? * [ ]");
            t = false
        });
        return t
    }

    function qp(e, r, t) {
        e.forEach(function (a, n) {
            Jp(a);
            for (var i = 0; i < n; ++i)
                if (a == e[i]) throw new Error("Duplicate Sheet Name: " + a);
            if (t) {
                var s = r && r[n] && r[n].CodeName || a;
                if (s.charCodeAt(0) == 95 && s.length > 22) throw new Error("Bad Code Name: Worksheet" + s)
            }
        })
    }

    function Zp(e) {
        if (!e || !e.SheetNames || !e.Sheets) throw new Error("Invalid Workbook");
        if (!e.SheetNames.length) throw new Error("Workbook is empty");
        var r = e.Workbook && e.Workbook.Sheets || [];
        qp(e.SheetNames, r, !!e.vbaraw);
        for (var t = 0; t < e.SheetNames.length; ++t) Ld(e.Sheets[e.SheetNames[t]], e.SheetNames[t], t)
    }
    var Qp = /<\w+:workbook/;

    function em(e, r) {
        if (!e) throw new Error("Could not find file");
        var t = {
            AppVersion:
                {},
            WBProps:
                {},
            WBView: [],
            Sheets: [],
            CalcPr:
                {},
            Names: [],
            xmlns: ""
        };
        var a = false,
            n = "xmlns";
        var i = {},
            s = 0;
        e.replace(Hr, function f(o, c) {
            var l = Gr(o);
            switch (jr(l[0])) {
                case "<?xml":
                    break;
                case "<workbook":
                    if (o.match(Qp)) n = "xmlns" + o.match(/<(\w+):/)[1];
                    t.xmlns = l[n];
                    break;
                case "</workbook>":
                    break;
                case "<fileVersion":
                    delete l[0];
                    t.AppVersion = l;
                    break;
                case "<fileVersion/>":
                    ;
                case "</fileVersion>":
                    break;
                case "<fileSharing":
                    break;
                case "<fileSharing/>":
                    break;
                case "<workbookPr":
                    ;
                case "<workbookPr/>":
                    Hp.forEach(function (e) {
                        if (l[e[0]] == null) return;
                        switch (e[2]) {
                            case "bool":
                                t.WBProps[e[0]] = nt(l[e[0]]);
                                break;
                            case "int":
                                t.WBProps[e[0]] = parseInt(l[e[0]], 10);
                                break;
                            default:
                                t.WBProps[e[0]] = l[e[0]];
                        }
                    });
                    if (l.codeName) t.WBProps.CodeName = ct(l.codeName);
                    break;
                case "</workbookPr>":
                    break;
                case "<workbookProtection":
                    break;
                case "<workbookProtection/>":
                    break;
                case "<bookViews":
                    ;
                case "<bookViews>":
                    ;
                case "</bookViews>":
                    break;
                case "<workbookView":
                    ;
                case "<workbookView/>":
                    delete l[0];
                    t.WBView.push(l);
                    break;
                case "</workbookView>":
                    break;
                case "<sheets":
                    ;
                case "<sheets>":
                    ;
                case "</sheets>":
                    break;
                case "<sheet":
                    switch (l.state) {
                        case "hidden":
                            l.Hidden = 1;
                            break;
                        case "veryHidden":
                            l.Hidden = 2;
                            break;
                        default:
                            l.Hidden = 0;
                    }
                    delete l.state;
                    l.name = Yr(ct(l.name));
                    delete l[0];
                    t.Sheets.push(l);
                    break;
                case "</sheet>":
                    break;
                case "<functionGroups":
                    ;
                case "<functionGroups/>":
                    break;
                case "<functionGroup":
                    break;
                case "<externalReferences":
                    ;
                case "</externalReferences>":
                    ;
                case "<externalReferences>":
                    break;
                case "<externalReference":
                    break;
                case "<definedNames/>":
                    break;
                case "<definedNames>":
                    ;
                case "<definedNames":
                    a = true;
                    break;
                case "</definedNames>":
                    a = false;
                    break;
                case "<definedName":
                    {
                        i = {};
                        i.Name = ct(l.name);
                        if (l.comment) i.Comment = l.comment;
                        if (l.localSheetId) i.Sheet = +l.localSheetId;
                        if (nt(l.hidden || "0")) i.Hidden = true;
                        s = c + o.length
                    }
                    break;
                case "</definedName>":
                    {
                        i.Ref = Yr(ct(e.slice(s, c)));
                        t.Names.push(i)
                    }
                    break;
                case "<definedName/>":
                    break;
                case "<calcPr":
                    delete l[0];
                    t.CalcPr = l;
                    break;
                case "<calcPr/>":
                    delete l[0];
                    t.CalcPr = l;
                    break;
                case "</calcPr>":
                    break;
                case "<oleSize":
                    break;
                case "<customWorkbookViews>":
                    ;
                case "</customWorkbookViews>":
                    ;
                case "<customWorkbookViews":
                    break;
                case "<customWorkbookView":
                    ;
                case "</customWorkbookView>":
                    break;
                case "<pivotCaches>":
                    ;
                case "</pivotCaches>":
                    ;
                case "<pivotCaches":
                    break;
                case "<pivotCache":
                    break;
                case "<smartTagPr":
                    ;
                case "<smartTagPr/>":
                    break;
                case "<smartTagTypes":
                    ;
                case "<smartTagTypes>":
                    ;
                case "</smartTagTypes>":
                    break;
                case "<smartTagType":
                    break;
                case "<webPublishing":
                    ;
                case "<webPublishing/>":
                    break;
                case "<fileRecoveryPr":
                    ;
                case "<fileRecoveryPr/>":
                    break;
                case "<webPublishObjects>":
                    ;
                case "<webPublishObjects":
                    ;
                case "</webPublishObjects>":
                    break;
                case "<webPublishObject":
                    break;
                case "<extLst":
                    ;
                case "<extLst>":
                    ;
                case "</extLst>":
                    ;
                case "<extLst/>":
                    break;
                case "<ext":
                    a = true;
                    break;
                case "</ext>":
                    a = false;
                    break;
                case "<ArchID":
                    break;
                case "<AlternateContent":
                    ;
                case "<AlternateContent>":
                    a = true;
                    break;
                case "</AlternateContent>":
                    a = false;
                    break;
                case "<revisionPtr":
                    break;
                default:
                    if (!a && r.WTF) throw new Error("unrecognized " + l[0] + " in workbook");
            }
            return o
        });
        if (At.indexOf(t.xmlns) === -1) throw new Error("Unknown Namespace: " + t.xmlns);
        $p(t);
        return t
    }

    function rm(e) {
        var r = [Mr];
        r[r.length] = kt("workbook", null,
            {
                xmlns: At[0],
                "xmlns:r": _t.r
            });
        var t = e.Workbook && (e.Workbook.Names || []).length > 0;
        var a = {
            codeName: "ThisWorkbook"
        };
        if (e.Workbook && e.Workbook.WBProps) {
            Hp.forEach(function (r) {
                if (e.Workbook.WBProps[r[0]] == null) return;
                if (e.Workbook.WBProps[r[0]] == r[1]) return;
                a[r[0]] = e.Workbook.WBProps[r[0]]
            });
            if (e.Workbook.WBProps.CodeName) {
                a.codeName = e.Workbook.WBProps.CodeName;
                delete a.CodeName
            }
        }
        r[r.length] = kt("workbookPr", null, a);
        var n = e.Workbook && e.Workbook.Sheets || [];
        var i = 0;
        if (n && n[0] && !!n[0].Hidden) {
            r[r.length] = "<bookViews>";
            for (i = 0; i != e.SheetNames.length; ++i) {
                if (!n[i]) break;
                if (!n[i].Hidden) break
            }
            if (i == e.SheetNames.length) i = 0;
            r[r.length] = '<workbookView firstSheet="' + i + '" activeTab="' + i + '"/>';
            r[r.length] = "</bookViews>"
        }
        r[r.length] = "<sheets>";
        for (i = 0; i != e.SheetNames.length; ++i) {
            var s = {
                name: qr(e.SheetNames[i].slice(0, 31))
            };
            s.sheetId = "" + (i + 1);
            s["r:id"] = "rId" + (i + 1);
            if (n[i]) switch (n[i].Hidden) {
                case 1:
                    s.state = "hidden";
                    break;
                case 2:
                    s.state = "veryHidden";
                    break;
            }
            r[r.length] = kt("sheet", null, s)
        }
        r[r.length] = "</sheets>";
        if (t) {
            r[r.length] = "<definedNames>";
            if (e.Workbook && e.Workbook.Names) e.Workbook.Names.forEach(function (e) {
                var t = {
                    name: e.Name
                };
                if (e.Comment) t.comment = e.Comment;
                if (e.Sheet != null) t.localSheetId = "" + e.Sheet;
                if (e.Hidden) t.hidden = "1";
                if (!e.Ref) return;
                r[r.length] = kt("definedName", qr(e.Ref), t)
            });
            r[r.length] = "</definedNames>"
        }
        if (r.length > 2) {
            r[r.length] = "</workbook>";
            r[1] = r[1].replace("/>", ">")
        }
        return r.join("")
    }

    function tm(e, r) {
        var t = {};
        t.Hidden = e._R(4);
        t.iTabID = e._R(4);
        t.strRelID = nn(e, r - 8);
        t.name = Ha(e);
        return t
    }

    function am(e, r) {
        if (!r) r = ha(127);
        r._W(4, e.Hidden);
        r._W(4, e.iTabID);
        sn(e.strRelID, r);
        za(e.name.slice(0, 31), r);
        return r.length > r.l ? r.slice(0, r.l) : r
    }

    function nm(e, r) {
        var t = {};
        var a = e._R(4);
        t.defaultThemeVersion = e._R(4);
        var n = r > 8 ? Ha(e) : "";
        if (n.length > 0) t.CodeName = n;
        t.autoCompressPictures = !!(a & 65536);
        t.backupFile = !!(a & 64);
        t.checkCompatibility = !!(a & 4096);
        t.date1904 = !!(a & 1);
        t.filterPrivacy = !!(a & 8);
        t.hidePivotFieldList = !!(a & 1024);
        t.promptedSolutions = !!(a & 16);
        t.publishItems = !!(a & 2048);
        t.refreshAllConnections = !!(a & 262144);
        t.saveExternalLinkValues = !!(a & 128);
        t.showBorderUnselectedTables = !!(a & 4);
        t.showInkAnnotation = !!(a & 32);
        t.showObjects = ["all", "placeholders", "none"][a >> 13 & 3];
        t.showPivotChartFilter = !!(a & 32768);
        t.updateLinks = ["userSet", "never", "always"][a >> 8 & 3];
        return t
    }

    function im(e, r) {
        if (!r) r = ha(72);
        var t = 0;
        if (e) {
            if (e.filterPrivacy) t |= 8
        }
        r._W(4, t);
        r._W(4, 0);
        en(e && e.CodeName || "ThisWorkbook", r);
        return r.slice(0, r.l)
    }

    function sm(e, r) {
        var t = {};
        e._R(4);
        t.ArchID = e._R(4);
        e.l += r - 8;
        return t
    }

    function fm(e, r, t) {
        var a = e.l + r;
        e.l += 4;
        e.l += 1;
        var n = e._R(4);
        var i = an(e);
        var s = wd(e, 0, t);
        var f = rn(e);
        e.l = a;
        var o = {
            Name: i,
            Ptg: s
        };
        if (n < 268435455) o.Sheet = n;
        if (f) o.Comment = f;
        return o
    }

    function om(e, r) {
        var t = {
            AppVersion:
                {},
            WBProps:
                {},
            WBView: [],
            Sheets: [],
            CalcPr:
                {},
            xmlns: ""
        };
        var a = [];
        var n = false;
        if (!r) r = {};
        r.biff = 12;
        var i = [];
        var s = [
            []
        ];
        s.SheetNames = [];
        s.XTI = [];
        mb[16] = {
            n: "BrtFRTArchID$",
            f: sm
        };
        da(e, function f(e, o, c) {
            switch (c) {
                case 156:
                    s.SheetNames.push(e.name);
                    t.Sheets.push(e);
                    break;
                case 153:
                    t.WBProps = e;
                    break;
                case 39:
                    if (e.Sheet != null) r.SID = e.Sheet;
                    e.Ref = fd(e.Ptg, null, null, s, r);
                    delete r.SID;
                    delete e.Ptg;
                    i.push(e);
                    break;
                case 1036:
                    break;
                case 357:
                    ;
                case 358:
                    ;
                case 355:
                    ;
                case 667:
                    if (!s[0].length) s[0] = [c, e];
                    else s.push([c, e]);
                    s[s.length - 1].XTI = [];
                    break;
                case 362:
                    if (s.length === 0) {
                        s[0] = [];
                        s[0].XTI = []
                    }
                    s[s.length - 1].XTI = s[s.length - 1].XTI.concat(e);
                    s.XTI = s.XTI.concat(e);
                    break;
                case 361:
                    break;
                case 2071:
                    ;
                case 158:
                    ;
                case 143:
                    ;
                case 664:
                    ;
                case 353:
                    break;
                case 3072:
                    ;
                case 3073:
                    ;
                case 534:
                    ;
                case 677:
                    ;
                case 157:
                    ;
                case 610:
                    ;
                case 2050:
                    ;
                case 155:
                    ;
                case 548:
                    ;
                case 676:
                    ;
                case 128:
                    ;
                case 665:
                    ;
                case 2128:
                    ;
                case 2125:
                    ;
                case 549:
                    ;
                case 2053:
                    ;
                case 596:
                    ;
                case 2076:
                    ;
                case 2075:
                    ;
                case 2082:
                    ;
                case 397:
                    ;
                case 154:
                    ;
                case 1117:
                    ;
                case 553:
                    ;
                case 2091:
                    break;
                case 35:
                    a.push(c);
                    n = true;
                    break;
                case 36:
                    a.pop();
                    n = false;
                    break;
                case 37:
                    a.push(c);
                    n = true;
                    break;
                case 38:
                    a.pop();
                    n = false;
                    break;
                case 16:
                    break;
                default:
                    if (o.T) { }
                    else if (!n || r.WTF && a[a.length - 1] != 37 && a[a.length - 1] != 35) throw new Error("Unexpected record 0x" + c.toString(16));
            }
        }, r);
        $p(t);
        t.Names = i;
        t.supbooks = s;
        return t
    }

    function cm(e, r) {
        pa(e, 143);
        for (var t = 0; t != r.SheetNames.length; ++t) {
            var a = r.Workbook && r.Workbook.Sheets && r.Workbook.Sheets[t] && r.Workbook.Sheets[t].Hidden || 0;
            var n = {
                Hidden: a,
                iTabID: t + 1,
                strRelID: "rId" + (t + 1),
                name: r.SheetNames[t]
            };
            pa(e, 156, am(n))
        }
        pa(e, 144)
    }

    function lm(r, t) {
        if (!t) t = ha(127);
        for (var a = 0; a != 4; ++a) t._W(4, 0);
        za("SheetJS", t);
        za(e.version, t);
        za(e.version, t);
        za("7262", t);
        return t.length > t.l ? t.slice(0, t.l) : t
    }

    function um(e, r) {
        if (!r) r = ha(29);
        r._W(-4, 0);
        r._W(-4, 460);
        r._W(4, 28800);
        r._W(4, 17600);
        r._W(4, 500);
        r._W(4, e);
        r._W(4, e);
        var t = 120;
        r._W(1, t);
        return r.length > r.l ? r.slice(0, r.l) : r
    }

    function hm(e, r) {
        if (!r.Workbook || !r.Workbook.Sheets) return;
        var t = r.Workbook.Sheets;
        var a = 0,
            n = -1,
            i = -1;
        for (; a < t.length; ++a) {
            if (!t[a] || !t[a].Hidden && n == -1) n = a;
            else if (t[a].Hidden == 1 && i == -1) i = a
        }
        if (i > n) return;
        pa(e, 135);
        pa(e, 158, um(n));
        pa(e, 136)
    }

    function dm(e, r) {
        var t = va();
        pa(t, 131);
        pa(t, 128, lm());
        pa(t, 153, im(e.Workbook && e.Workbook.WBProps || null));
        hm(t, e, r);
        cm(t, e, r);
        pa(t, 132);
        return t.end()
    }

    function vm(e, r, t) {
        if (r.slice(-4) === ".bin") return om(e, t);
        return em(e, t)
    }

    function pm(e, r, t, a, n, i, s, f) {
        if (r.slice(-4) === ".bin") return Tp(e, a, t, n, i, s, f);
        return Yd(e, a, t, n, i, s, f)
    }

    function mm(e, r, t, a, n, i, s, f) {
        if (r.slice(-4) === ".bin") return Bp(e, a, t, n, i, s, f);
        return Lp(e, a, t, n, i, s, f)
    }

    function bm(e, r, t, a, n, i, s, f) {
        if (r.slice(-4) === ".bin") return Su(e, a, t, n, i, s, f);
        return _u(e, a, t, n, i, s, f)
    }

    function gm(e, r, t, a, n, i, s, f) {
        if (r.slice(-4) === ".bin") return Eu(e, a, t, n, i, s, f);
        return yu(e, a, t, n, i, s, f)
    }

    function wm(e, r, t, a) {
        if (r.slice(-4) === ".bin") return cl(e, t, a);
        return Xc(e, t, a)
    }

    function km(e, r, t) {
        return Ol(e, t)
    }

    function Tm(e, r, t) {
        if (r.slice(-4) === ".bin") return Vo(e, t);
        return Bo(e, t)
    }

    function Em(e, r, t) {
        if (r.slice(-4) === ".bin") return mu(e, t);
        return su(e, t)
    }

    function ym(e, r, t) {
        if (r.slice(-4) === ".bin") return Ql(e, r, t);
        return ql(e, r, t)
    }

    function Sm(e, r, t, a) {
        if (t.slice(-4) === ".bin") return ru(e, r, t, a);
        return eu(e, r, t, a)
    }

    function _m(e, r, t) {
        if (r.slice(-4) === ".bin") return $l(e, r, t);
        return Kl(e, r, t)
    }

    function Am(e, r, t) {
        return (r.slice(-4) === ".bin" ? dm : rm)(e, t)
    }

    function xm(e, r, t, a, n) {
        return (r.slice(-4) === ".bin" ? Fp : pv)(e, t, a, n)
    }

    function Cm(e, r, t, a, n) {
        return (r.slice(-4) === ".bin" ? Wp : Mp)(e, t, a, n)
    }

    function Rm(e, r, t) {
        return (r.slice(-4) === ".bin" ? kl : $c)(e, t)
    }

    function Om(e, r, t) {
        return (r.slice(-4) === ".bin" ? Xo : Ho)(e, t)
    }

    function Im(e, r, t) {
        return (r.slice(-4) === ".bin" ? bu : fu)(e, t)
    }

    function Nm(e) {
        return (e.slice(-4) === ".bin" ? Yl : Jl)()
    }
    var Fm = /([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g;
    var Dm = /([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;

    function Pm(e, r) {
        var t = e.split(/\s+/);
        var a = [];
        if (!r) a[0] = t[0];
        if (t.length === 1) return a;
        var n = e.match(Fm),
            i, s, f, o;
        if (n)
            for (o = 0; o != n.length; ++o) {
                i = n[o].match(Dm);
                if ((s = i[1].indexOf(":")) === -1) a[i[1]] = i[2].slice(1, i[2].length - 1);
                else {
                    if (i[1].slice(0, 6) === "xmlns:") f = "xmlns" + i[1].slice(6);
                    else f = i[1].slice(s + 1);
                    a[f] = i[2].slice(1, i[2].length - 1)
                }
            }
        return a
    }

    function Lm(e) {
        var r = e.split(/\s+/);
        var t = {};
        if (r.length === 1) return t;
        var a = e.match(Fm),
            n, i, s, f;
        if (a)
            for (f = 0; f != a.length; ++f) {
                n = a[f].match(Dm);
                if ((i = n[1].indexOf(":")) === -1) t[n[1]] = n[2].slice(1, n[2].length - 1);
                else {
                    if (n[1].slice(0, 6) === "xmlns:") s = "xmlns" + n[1].slice(6);
                    else s = n[1].slice(i + 1);
                    t[s] = n[2].slice(1, n[2].length - 1)
                }
            }
        return t
    }
    var Mm;

    function Um(e, r) {
        var t = Mm[e] || Yr(e);
        if (t === "General") return fe(r);
        return Be(t, r)
    }

    function Bm(e, r, t, a) {
        var n = a;
        switch ((t[0].match(/dt:dt="([\w.]+)"/) || ["", ""])[1]) {
            case "boolean":
                n = nt(a);
                break;
            case "i2":
                ;
            case "int":
                n = parseInt(a, 10);
                break;
            case "r4":
                ;
            case "float":
                n = parseFloat(a);
                break;
            case "date":
                ;
            case "dateTime.tz":
                n = mr(a);
                break;
            case "i8":
                ;
            case "string":
                ;
            case "fixed":
                ;
            case "uuid":
                ;
            case "bin.base64":
                break;
            default:
                throw new Error("bad custprop:" + t[0]);
        }
        e[Yr(r)] = n
    }

    function Wm(e, r, t) {
        if (e.t === "z") return;
        if (!t || t.cellText !== false) try {
            if (e.t === "e") {
                e.w = e.w || Gn[e.v]
            }
            else if (r === "General") {
                if (e.t === "n") {
                    if ((e.v | 0) === e.v) e.w = e.v.toString(10);
                    else e.w = se(e.v)
                }
                else e.w = fe(e.v)
            }
            else e.w = Um(r || "General", e.v)
        }
            catch (a) {
                if (t.WTF) throw a
            }
        try {
            var n = Mm[r] || r || "General";
            if (t.cellNF) e.z = n;
            if (t.cellDates && e.t == "n" && De(n)) {
                var i = q(e.v);
                if (i) {
                    e.t = "d";
                    e.v = new Date(i.y, i.m - 1, i.d, i.H, i.M, i.S, i.u)
                }
            }
        }
        catch (a) {
            if (t.WTF) throw a
        }
    }

    function Hm(e, r, t) {
        if (t.cellStyles) {
            if (r.Interior) {
                var a = r.Interior;
                if (a.Pattern) a.patternType = Lc[a.Pattern] || a.Pattern
            }
        }
        e[r.ID] = r
    }

    function zm(e, r, t, a, n, i, s, f, o, c) {
        var l = "General",
            u = a.StyleID,
            h = {};
        c = c ||
            {};
        var d = [];
        var v = 0;
        if (u === undefined && f) u = f.StyleID;
        if (u === undefined && s) u = s.StyleID;
        while (i[u] !== undefined) {
            if (i[u].nf) l = i[u].nf;
            if (i[u].Interior) d.push(i[u].Interior);
            if (!i[u].Parent) break;
            u = i[u].Parent
        }
        switch (t.Type) {
            case "Boolean":
                a.t = "b";
                a.v = nt(e);
                break;
            case "String":
                a.t = "s";
                a.r = tt(Yr(e));
                a.v = e.indexOf("<") > -1 ? Yr(r || e).replace(/<.*?>/g, "") : a.r;
                break;
            case "DateTime":
                if (e.slice(-1) != "Z") e += "Z";
                a.v = (mr(e) - new Date(Date.UTC(1899, 11, 30))) / (24 * 60 * 60 * 1e3);
                if (a.v !== a.v) a.v = Yr(e);
                else if (a.v < 60) a.v = a.v - 1;
                if (!l || l == "General") l = "yyyy-mm-dd";
            case "Number":
                if (a.v === undefined) a.v = +e;
                if (!a.t) a.t = "n";
                break;
            case "Error":
                a.t = "e";
                a.v = jn[e];
                if (c.cellText !== false) a.w = e;
                break;
            default:
                if (e == "" && r == "") {
                    a.t = "z"
                }
                else {
                    a.t = "s";
                    a.v = tt(r || e)
                }
                break;
        }
        Wm(a, l, c);
        if (c.cellFormula !== false) {
            if (a.Formula) {
                var p = Yr(a.Formula);
                if (p.charCodeAt(0) == 61) p = p.slice(1);
                a.f = Au(p, n);
                delete a.Formula;
                if (a.ArrayRange == "RC") a.F = Au("RC:RC", n);
                else if (a.ArrayRange) {
                    a.F = Au(a.ArrayRange, n);
                    o.push([Fa(a.F), a.F])
                }
            }
            else {
                for (v = 0; v < o.length; ++v)
                    if (n.r >= o[v][0].s.r && n.r <= o[v][0].e.r)
                        if (n.c >= o[v][0].s.c && n.c <= o[v][0].e.c) a.F = o[v][1]
            }
        }
        if (c.cellStyles) {
            d.forEach(function (e) {
                if (!h.patternType && e.patternType) h.patternType = e.patternType
            });
            a.s = h
        }
        if (a.StyleID !== undefined) a.ixfe = a.StyleID
    }

    function Vm(e) {
        e.t = e.v || "";
        e.t = e.t.replace(/\r\n/g, "\n").replace(/\r/g, "\n");
        e.v = e.w = e.ixfe = undefined
    }

    function Gm(e, r) {
        var t = r ||
            {};
        ze();
        var n = d(yt(e));
        if (t.type == "binary" || t.type == "array" || t.type == "base64") {
            if (typeof a !== "undefined") n = a.utils.decode(65001, l(n));
            else n = ct(n)
        }
        var i = n.slice(0, 1024).toLowerCase(),
            s = false;
        i = i.replace(/".*?"/g, "");
        if ((i.indexOf(">") & 1023) > Math.min(i.indexOf(",") & 1023, i.indexOf(";") & 1023)) {
            var f = gr(t);
            f.type = "string";
            return Ao.to_workbook(n, f)
        }
        if (i.indexOf("<?xml") == -1) ["html", "table", "head", "meta", "script", "style", "div"].forEach(function (e) {
            if (i.indexOf("<" + e) >= 0) s = true
        });
        if (s) return Hb(n, t);
        Mm = {
            "General Number": "General",
            "General Date": X[22],
            "Long Date": "dddd, mmmm dd, yyyy",
            "Medium Date": X[15],
            "Short Date": X[14],
            "Long Time": X[19],
            "Medium Time": X[18],
            "Short Time": X[20],
            Currency: '"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',
            Fixed: X[2],
            Standard: X[4],
            Percent: X[10],
            Scientific: X[11],
            "Yes/No": '"Yes";"Yes";"No";@',
            "True/False": '"True";"True";"False";@',
            "On/Off": '"Yes";"Yes";"No";@'
        };
        var o;
        var c = [],
            u;
        if (m != null && t.dense == null) t.dense = m;
        var h = {},
            v = [],
            p = t.dense ? [] :
                {},
            b = "";
        var g = {},
            w = {};
        var k = Pm('<Data ss:Type="String">'),
            T = 0;
        var E = 0,
            y = 0;
        var S = {
            s:
            {
                r: 2e6,
                c: 2e6
            },
            e:
            {
                r: 0,
                c: 0
            }
        };
        var _ = {},
            A = {};
        var x = "",
            C = 0;
        var R = [];
        var O = {},
            I = {},
            N = 0,
            F = [];
        var D = [],
            P = {};
        var L = [],
            M, U = false;
        var B = [];
        var W = [],
            H = {},
            z = 0,
            V = 0;
        var G = {
            Sheets: [],
            WBProps:
            {
                date1904: false
            }
        },
            j = {};
        St.lastIndex = 0;
        n = n.replace(/<!--([\s\S]*?)-->/gm, "");
        var $ = "";
        while (o = St.exec(n)) switch (o[3] = ($ = o[3]).toLowerCase()) {
            case "data":
                if ($ == "data") {
                    if (o[1] === "/") {
                        if ((u = c.pop())[0] !== o[3]) throw new Error("Bad state: " + u.join("|"))
                    }
                    else if (o[0].charAt(o[0].length - 2) !== "/") c.push([o[3], true]);
                    break
                }
                if (c[c.length - 1][1]) break;
                if (o[1] === "/") zm(n.slice(T, o.index), x, k, c[c.length - 1][0] == "comment" ? P : g,
                    {
                        c: E,
                        r: y
                    }, _, L[E], w, B, t);
                else {
                    x = "";
                    k = Pm(o[0]);
                    T = o.index + o[0].length
                }
                break;
            case "cell":
                if (o[1] === "/") {
                    if (D.length > 0) g.c = D;
                    if ((!t.sheetRows || t.sheetRows > y) && g.v !== undefined) {
                        if (t.dense) {
                            if (!p[y]) p[y] = [];
                            p[y][E] = g
                        }
                        else p[_a(E) + Ta(y)] = g
                    }
                    if (g.HRef) {
                        g.l = {
                            Target: Yr(g.HRef)
                        };
                        if (g.HRefScreenTip) g.l.Tooltip = g.HRefScreenTip;
                        delete g.HRef;
                        delete g.HRefScreenTip
                    }
                    if (g.MergeAcross || g.MergeDown) {
                        z = E + (parseInt(g.MergeAcross, 10) | 0);
                        V = y + (parseInt(g.MergeDown, 10) | 0);
                        R.push(
                            {
                                s:
                                {
                                    c: E,
                                    r: y
                                },
                                e:
                                {
                                    c: z,
                                    r: V
                                }
                            })
                    }
                    if (!t.sheetStubs) {
                        if (g.MergeAcross) E = z + 1;
                        else ++E
                    }
                    else if (g.MergeAcross || g.MergeDown) {
                        for (var Y = E; Y <= z; ++Y) {
                            for (var K = y; K <= V; ++K) {
                                if (Y > E || K > y) {
                                    if (t.dense) {
                                        if (!p[K]) p[K] = [];
                                        p[K][Y] = {
                                            t: "z"
                                        }
                                    }
                                    else p[_a(Y) + Ta(K)] = {
                                        t: "z"
                                    }
                                }
                            }
                        }
                        E = z + 1
                    }
                    else ++E
                }
                else {
                    g = Lm(o[0]);
                    if (g.Index) E = +g.Index - 1;
                    if (E < S.s.c) S.s.c = E;
                    if (E > S.e.c) S.e.c = E;
                    if (o[0].slice(-2) === "/>") ++E;
                    D = []
                }
                break;
            case "row":
                if (o[1] === "/" || o[0].slice(-2) === "/>") {
                    if (y < S.s.r) S.s.r = y;
                    if (y > S.e.r) S.e.r = y;
                    if (o[0].slice(-2) === "/>") {
                        w = Pm(o[0]);
                        if (w.Index) y = +w.Index - 1
                    }
                    E = 0;
                    ++y
                }
                else {
                    w = Pm(o[0]);
                    if (w.Index) y = +w.Index - 1;
                    H = {};
                    if (w.AutoFitHeight == "0" || w.Height) {
                        H.hpx = parseInt(w.Height, 10);
                        H.hpt = Dc(H.hpx);
                        W[y] = H
                    }
                    if (w.Hidden == "1") {
                        H.hidden = true;
                        W[y] = H
                    }
                }
                break;
            case "worksheet":
                if (o[1] === "/") {
                    if ((u = c.pop())[0] !== o[3]) throw new Error("Bad state: " + u.join("|"));
                    v.push(b);
                    if (S.s.r <= S.e.r && S.s.c <= S.e.c) {
                        p["!ref"] = Na(S);
                        if (t.sheetRows && t.sheetRows <= S.e.r) {
                            p["!fullref"] = p["!ref"];
                            S.e.r = t.sheetRows - 1;
                            p["!ref"] = Na(S)
                        }
                    }
                    if (R.length) p["!merges"] = R;
                    if (L.length > 0) p["!cols"] = L;
                    if (W.length > 0) p["!rows"] = W;
                    h[b] = p
                }
                else {
                    S = {
                        s:
                        {
                            r: 2e6,
                            c: 2e6
                        },
                        e:
                        {
                            r: 0,
                            c: 0
                        }
                    };
                    y = E = 0;
                    c.push([o[3], false]);
                    u = Pm(o[0]);
                    b = Yr(u.Name);
                    p = t.dense ? [] :
                        {};
                    R = [];
                    B = [];
                    W = [];
                    j = {
                        name: b,
                        Hidden: 0
                    };
                    G.Sheets.push(j)
                }
                break;
            case "table":
                if (o[1] === "/") {
                    if ((u = c.pop())[0] !== o[3]) throw new Error("Bad state: " + u.join("|"))
                }
                else if (o[0].slice(-2) == "/>") break;
                else {
                    c.push([o[3], false]);
                    L = [];
                    U = false
                }
                break;
            case "style":
                if (o[1] === "/") Hm(_, A, t);
                else A = Pm(o[0]);
                break;
            case "numberformat":
                A.nf = Yr(Pm(o[0]).Format || "General");
                if (Mm[A.nf]) A.nf = Mm[A.nf];
                for (var J = 0; J != 392; ++J)
                    if (X[J] == A.nf) break;
                if (J == 392)
                    for (J = 57; J != 392; ++J)
                        if (X[J] == null) {
                            We(A.nf, J);
                            break
                        } break;
            case "column":
                if (c[c.length - 1][0] !== "table") break;
                M = Pm(o[0]);
                if (M.Hidden) {
                    M.hidden = true;
                    delete M.Hidden
                }
                if (M.Width) M.wpx = parseInt(M.Width, 10);
                if (!U && M.wpx > 10) {
                    U = true;
                    _c = Ec;
                    for (var q = 0; q < L.length; ++q)
                        if (L[q]) Ic(L[q])
                }
                if (U) Ic(M);
                L[M.Index - 1 || L.length] = M;
                for (var Z = 0; Z < +M.Span; ++Z) L[L.length] = gr(M);
                break;
            case "namedrange":
                if (o[1] === "/") break;
                if (!G.Names) G.Names = [];
                var Q = Gr(o[0]);
                var ee = {
                    Name: Q.Name,
                    Ref: Au(Q.RefersTo.slice(1),
                        {
                            r: 0,
                            c: 0
                        })
                };
                if (G.Sheets.length > 0) ee.Sheet = G.Sheets.length - 1;
                G.Names.push(ee);
                break;
            case "namedcell":
                break;
            case "b":
                break;
            case "i":
                break;
            case "u":
                break;
            case "s":
                break;
            case "em":
                break;
            case "h2":
                break;
            case "h3":
                break;
            case "sub":
                break;
            case "sup":
                break;
            case "span":
                break;
            case "alignment":
                break;
            case "borders":
                break;
            case "border":
                break;
            case "font":
                if (o[0].slice(-2) === "/>") break;
                else if (o[1] === "/") x += n.slice(C, o.index);
                else C = o.index + o[0].length;
                break;
            case "interior":
                if (!t.cellStyles) break;
                A.Interior = Pm(o[0]);
                break;
            case "protection":
                break;
            case "author":
                ;
            case "title":
                ;
            case "description":
                ;
            case "created":
                ;
            case "keywords":
                ;
            case "subject":
                ;
            case "category":
                ;
            case "company":
                ;
            case "lastauthor":
                ;
            case "lastsaved":
                ;
            case "lastprinted":
                ;
            case "version":
                ;
            case "revision":
                ;
            case "totaltime":
                ;
            case "hyperlinkbase":
                ;
            case "manager":
                ;
            case "contentstatus":
                ;
            case "identifier":
                ;
            case "language":
                ;
            case "appname":
                if (o[0].slice(-2) === "/>") break;
                else if (o[1] === "/") Si(O, $, n.slice(N, o.index));
                else N = o.index + o[0].length;
                break;
            case "paragraphs":
                break;
            case "styles":
                ;
            case "workbook":
                if (o[1] === "/") {
                    if ((u = c.pop())[0] !== o[3]) throw new Error("Bad state: " + u.join("|"))
                }
                else c.push([o[3], false]);
                break;
            case "comment":
                if (o[1] === "/") {
                    if ((u = c.pop())[0] !== o[3]) throw new Error("Bad state: " + u.join("|"));
                    Vm(P);
                    D.push(P)
                }
                else {
                    c.push([o[3], false]);
                    u = Pm(o[0]);
                    P = {
                        a: u.Author
                    }
                }
                break;
            case "autofilter":
                if (o[1] === "/") {
                    if ((u = c.pop())[0] !== o[3]) throw new Error("Bad state: " + u.join("|"))
                }
                else if (o[0].charAt(o[0].length - 2) !== "/") {
                    var re = Pm(o[0]);
                    p["!autofilter"] = {
                        ref: Au(re.Range).replace(/\$/g, "")
                    };
                    c.push([o[3], true])
                }
                break;
            case "name":
                break;
            case "datavalidation":
                if (o[1] === "/") {
                    if ((u = c.pop())[0] !== o[3]) throw new Error("Bad state: " + u.join("|"))
                }
                else {
                    if (o[0].charAt(o[0].length - 2) !== "/") c.push([o[3], true])
                }
                break;
            case "pixelsperinch":
                break;
            case "componentoptions":
                ;
            case "documentproperties":
                ;
            case "customdocumentproperties":
                ;
            case "officedocumentsettings":
                ;
            case "pivottable":
                ;
            case "pivotcache":
                ;
            case "names":
                ;
            case "mapinfo":
                ;
            case "pagebreaks":
                ;
            case "querytable":
                ;
            case "sorting":
                ;
            case "schema":
                ;
            case "conditionalformatting":
                ;
            case "smarttagtype":
                ;
            case "smarttags":
                ;
            case "excelworkbook":
                ;
            case "workbookoptions":
                ;
            case "worksheetoptions":
                if (o[1] === "/") {
                    if ((u = c.pop())[0] !== o[3]) throw new Error("Bad state: " + u.join("|"))
                }
                else if (o[0].charAt(o[0].length - 2) !== "/") c.push([o[3], true]);
                break;
            case "null":
                break;
            default:
                if (c.length == 0 && o[3] == "document") return Qb(n, t);
                if (c.length == 0 && o[3] == "uof") return Qb(n, t);
                var te = true;
                switch (c[c.length - 1][0]) {
                    case "officedocumentsettings":
                        switch (o[3]) {
                            case "allowpng":
                                break;
                            case "removepersonalinformation":
                                break;
                            case "downloadcomponents":
                                break;
                            case "locationofcomponents":
                                break;
                            case "colors":
                                break;
                            case "color":
                                break;
                            case "index":
                                break;
                            case "rgb":
                                break;
                            case "targetscreensize":
                                break;
                            case "readonlyrecommended":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "componentoptions":
                        switch (o[3]) {
                            case "toolbar":
                                break;
                            case "hideofficelogo":
                                break;
                            case "spreadsheetautofit":
                                break;
                            case "label":
                                break;
                            case "caption":
                                break;
                            case "maxheight":
                                break;
                            case "maxwidth":
                                break;
                            case "nextsheetnumber":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "excelworkbook":
                        switch (o[3]) {
                            case "date1904":
                                G.WBProps.date1904 = true;
                                break;
                            case "windowheight":
                                break;
                            case "windowwidth":
                                break;
                            case "windowtopx":
                                break;
                            case "windowtopy":
                                break;
                            case "tabratio":
                                break;
                            case "protectstructure":
                                break;
                            case "protectwindow":
                                break;
                            case "protectwindows":
                                break;
                            case "activesheet":
                                break;
                            case "displayinknotes":
                                break;
                            case "firstvisiblesheet":
                                break;
                            case "supbook":
                                break;
                            case "sheetname":
                                break;
                            case "sheetindex":
                                break;
                            case "sheetindexfirst":
                                break;
                            case "sheetindexlast":
                                break;
                            case "dll":
                                break;
                            case "acceptlabelsinformulas":
                                break;
                            case "donotsavelinkvalues":
                                break;
                            case "iteration":
                                break;
                            case "maxiterations":
                                break;
                            case "maxchange":
                                break;
                            case "path":
                                break;
                            case "xct":
                                break;
                            case "count":
                                break;
                            case "selectedsheets":
                                break;
                            case "calculation":
                                break;
                            case "uncalced":
                                break;
                            case "startupprompt":
                                break;
                            case "crn":
                                break;
                            case "externname":
                                break;
                            case "formula":
                                break;
                            case "colfirst":
                                break;
                            case "collast":
                                break;
                            case "wantadvise":
                                break;
                            case "boolean":
                                break;
                            case "error":
                                break;
                            case "text":
                                break;
                            case "ole":
                                break;
                            case "noautorecover":
                                break;
                            case "publishobjects":
                                break;
                            case "donotcalculatebeforesave":
                                break;
                            case "number":
                                break;
                            case "refmoder1c1":
                                break;
                            case "embedsavesmarttags":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "workbookoptions":
                        switch (o[3]) {
                            case "owcversion":
                                break;
                            case "height":
                                break;
                            case "width":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "worksheetoptions":
                        switch (o[3]) {
                            case "visible":
                                if (o[0].slice(-2) === "/>") { }
                                else if (o[1] === "/") switch (n.slice(N, o.index)) {
                                    case "SheetHidden":
                                        j.Hidden = 1;
                                        break;
                                    case "SheetVeryHidden":
                                        j.Hidden = 2;
                                        break;
                                }
                                else N = o.index + o[0].length;
                                break;
                            case "header":
                                if (!p["!margins"]) Fd(p["!margins"] = {}, "xlml");
                                if (!isNaN(+Gr(o[0]).Margin)) p["!margins"].header = +Gr(o[0]).Margin;
                                break;
                            case "footer":
                                if (!p["!margins"]) Fd(p["!margins"] = {}, "xlml");
                                if (!isNaN(+Gr(o[0]).Margin)) p["!margins"].footer = +Gr(o[0]).Margin;
                                break;
                            case "pagemargins":
                                var ae = Gr(o[0]);
                                if (!p["!margins"]) Fd(p["!margins"] = {}, "xlml");
                                if (!isNaN(+ae.Top)) p["!margins"].top = +ae.Top;
                                if (!isNaN(+ae.Left)) p["!margins"].left = +ae.Left;
                                if (!isNaN(+ae.Right)) p["!margins"].right = +ae.Right;
                                if (!isNaN(+ae.Bottom)) p["!margins"].bottom = +ae.Bottom;
                                break;
                            case "displayrighttoleft":
                                if (!G.Views) G.Views = [];
                                if (!G.Views[0]) G.Views[0] = {};
                                G.Views[0].RTL = true;
                                break;
                            case "freezepanes":
                                break;
                            case "frozennosplit":
                                break;
                            case "splithorizontal":
                                ;
                            case "splitvertical":
                                break;
                            case "donotdisplaygridlines":
                                break;
                            case "activerow":
                                break;
                            case "activecol":
                                break;
                            case "toprowbottompane":
                                break;
                            case "leftcolumnrightpane":
                                break;
                            case "unsynced":
                                break;
                            case "print":
                                break;
                            case "printerrors":
                                break;
                            case "panes":
                                break;
                            case "scale":
                                break;
                            case "pane":
                                break;
                            case "number":
                                break;
                            case "layout":
                                break;
                            case "pagesetup":
                                break;
                            case "selected":
                                break;
                            case "protectobjects":
                                break;
                            case "enableselection":
                                break;
                            case "protectscenarios":
                                break;
                            case "validprinterinfo":
                                break;
                            case "horizontalresolution":
                                break;
                            case "verticalresolution":
                                break;
                            case "numberofcopies":
                                break;
                            case "activepane":
                                break;
                            case "toprowvisible":
                                break;
                            case "leftcolumnvisible":
                                break;
                            case "fittopage":
                                break;
                            case "rangeselection":
                                break;
                            case "papersizeindex":
                                break;
                            case "pagelayoutzoom":
                                break;
                            case "pagebreakzoom":
                                break;
                            case "filteron":
                                break;
                            case "fitwidth":
                                break;
                            case "fitheight":
                                break;
                            case "commentslayout":
                                break;
                            case "zoom":
                                break;
                            case "lefttoright":
                                break;
                            case "gridlines":
                                break;
                            case "allowsort":
                                break;
                            case "allowfilter":
                                break;
                            case "allowinsertrows":
                                break;
                            case "allowdeleterows":
                                break;
                            case "allowinsertcols":
                                break;
                            case "allowdeletecols":
                                break;
                            case "allowinserthyperlinks":
                                break;
                            case "allowformatcells":
                                break;
                            case "allowsizecols":
                                break;
                            case "allowsizerows":
                                break;
                            case "nosummaryrowsbelowdetail":
                                if (!p["!outline"]) p["!outline"] = {};
                                p["!outline"].above = true;
                                break;
                            case "tabcolorindex":
                                break;
                            case "donotdisplayheadings":
                                break;
                            case "showpagelayoutzoom":
                                break;
                            case "nosummarycolumnsrightdetail":
                                if (!p["!outline"]) p["!outline"] = {};
                                p["!outline"].left = true;
                                break;
                            case "blackandwhite":
                                break;
                            case "donotdisplayzeros":
                                break;
                            case "displaypagebreak":
                                break;
                            case "rowcolheadings":
                                break;
                            case "donotdisplayoutline":
                                break;
                            case "noorientation":
                                break;
                            case "allowusepivottables":
                                break;
                            case "zeroheight":
                                break;
                            case "viewablerange":
                                break;
                            case "selection":
                                break;
                            case "protectcontents":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "pivottable":
                        ;
                    case "pivotcache":
                        switch (o[3]) {
                            case "immediateitemsondrop":
                                break;
                            case "showpagemultipleitemlabel":
                                break;
                            case "compactrowindent":
                                break;
                            case "location":
                                break;
                            case "pivotfield":
                                break;
                            case "orientation":
                                break;
                            case "layoutform":
                                break;
                            case "layoutsubtotallocation":
                                break;
                            case "layoutcompactrow":
                                break;
                            case "position":
                                break;
                            case "pivotitem":
                                break;
                            case "datatype":
                                break;
                            case "datafield":
                                break;
                            case "sourcename":
                                break;
                            case "parentfield":
                                break;
                            case "ptlineitems":
                                break;
                            case "ptlineitem":
                                break;
                            case "countofsameitems":
                                break;
                            case "item":
                                break;
                            case "itemtype":
                                break;
                            case "ptsource":
                                break;
                            case "cacheindex":
                                break;
                            case "consolidationreference":
                                break;
                            case "filename":
                                break;
                            case "reference":
                                break;
                            case "nocolumngrand":
                                break;
                            case "norowgrand":
                                break;
                            case "blanklineafteritems":
                                break;
                            case "hidden":
                                break;
                            case "subtotal":
                                break;
                            case "basefield":
                                break;
                            case "mapchilditems":
                                break;
                            case "function":
                                break;
                            case "refreshonfileopen":
                                break;
                            case "printsettitles":
                                break;
                            case "mergelabels":
                                break;
                            case "defaultversion":
                                break;
                            case "refreshname":
                                break;
                            case "refreshdate":
                                break;
                            case "refreshdatecopy":
                                break;
                            case "versionlastrefresh":
                                break;
                            case "versionlastupdate":
                                break;
                            case "versionupdateablemin":
                                break;
                            case "versionrefreshablemin":
                                break;
                            case "calculation":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "pagebreaks":
                        switch (o[3]) {
                            case "colbreaks":
                                break;
                            case "colbreak":
                                break;
                            case "rowbreaks":
                                break;
                            case "rowbreak":
                                break;
                            case "colstart":
                                break;
                            case "colend":
                                break;
                            case "rowend":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "autofilter":
                        switch (o[3]) {
                            case "autofiltercolumn":
                                break;
                            case "autofiltercondition":
                                break;
                            case "autofilterand":
                                break;
                            case "autofilteror":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "querytable":
                        switch (o[3]) {
                            case "id":
                                break;
                            case "autoformatfont":
                                break;
                            case "autoformatpattern":
                                break;
                            case "querysource":
                                break;
                            case "querytype":
                                break;
                            case "enableredirections":
                                break;
                            case "refreshedinxl9":
                                break;
                            case "urlstring":
                                break;
                            case "htmltables":
                                break;
                            case "connection":
                                break;
                            case "commandtext":
                                break;
                            case "refreshinfo":
                                break;
                            case "notitles":
                                break;
                            case "nextid":
                                break;
                            case "columninfo":
                                break;
                            case "overwritecells":
                                break;
                            case "donotpromptforfile":
                                break;
                            case "textwizardsettings":
                                break;
                            case "source":
                                break;
                            case "number":
                                break;
                            case "decimal":
                                break;
                            case "thousandseparator":
                                break;
                            case "trailingminusnumbers":
                                break;
                            case "formatsettings":
                                break;
                            case "fieldtype":
                                break;
                            case "delimiters":
                                break;
                            case "tab":
                                break;
                            case "comma":
                                break;
                            case "autoformatname":
                                break;
                            case "versionlastedit":
                                break;
                            case "versionlastrefresh":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "datavalidation":
                        switch (o[3]) {
                            case "range":
                                break;
                            case "type":
                                break;
                            case "min":
                                break;
                            case "max":
                                break;
                            case "sort":
                                break;
                            case "descending":
                                break;
                            case "order":
                                break;
                            case "casesensitive":
                                break;
                            case "value":
                                break;
                            case "errorstyle":
                                break;
                            case "errormessage":
                                break;
                            case "errortitle":
                                break;
                            case "inputmessage":
                                break;
                            case "inputtitle":
                                break;
                            case "combohide":
                                break;
                            case "inputhide":
                                break;
                            case "condition":
                                break;
                            case "qualifier":
                                break;
                            case "useblank":
                                break;
                            case "value1":
                                break;
                            case "value2":
                                break;
                            case "format":
                                break;
                            case "cellrangelist":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "sorting":
                        ;
                    case "conditionalformatting":
                        switch (o[3]) {
                            case "range":
                                break;
                            case "type":
                                break;
                            case "min":
                                break;
                            case "max":
                                break;
                            case "sort":
                                break;
                            case "descending":
                                break;
                            case "order":
                                break;
                            case "casesensitive":
                                break;
                            case "value":
                                break;
                            case "errorstyle":
                                break;
                            case "errormessage":
                                break;
                            case "errortitle":
                                break;
                            case "cellrangelist":
                                break;
                            case "inputmessage":
                                break;
                            case "inputtitle":
                                break;
                            case "combohide":
                                break;
                            case "inputhide":
                                break;
                            case "condition":
                                break;
                            case "qualifier":
                                break;
                            case "useblank":
                                break;
                            case "value1":
                                break;
                            case "value2":
                                break;
                            case "format":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "mapinfo":
                        ;
                    case "schema":
                        ;
                    case "data":
                        switch (o[3]) {
                            case "map":
                                break;
                            case "entry":
                                break;
                            case "range":
                                break;
                            case "xpath":
                                break;
                            case "field":
                                break;
                            case "xsdtype":
                                break;
                            case "filteron":
                                break;
                            case "aggregate":
                                break;
                            case "elementtype":
                                break;
                            case "attributetype":
                                break;
                            case "schema":
                                ;
                            case "element":
                                ;
                            case "complextype":
                                ;
                            case "datatype":
                                ;
                            case "all":
                                ;
                            case "attribute":
                                ;
                            case "extends":
                                break;
                            case "row":
                                break;
                            default:
                                te = false;
                        }
                        break;
                    case "smarttags":
                        break;
                    default:
                        te = false;
                        break;
                }
                if (te) break;
                if (o[3].match(/!\[CDATA/)) break;
                if (!c[c.length - 1][1]) throw "Unrecognized tag: " + o[3] + "|" + c.join("|");
                if (c[c.length - 1][0] === "customdocumentproperties") {
                    if (o[0].slice(-2) === "/>") break;
                    else if (o[1] === "/") Bm(I, $, F, n.slice(N, o.index));
                    else {
                        F = o;
                        N = o.index + o[0].length
                    }
                    break
                }
                if (t.WTF) throw "Unrecognized tag: " + o[3] + "|" + c.join("|");
        }
        var ne = {};
        if (!t.bookSheets && !t.bookProps) ne.Sheets = h;
        ne.SheetNames = v;
        ne.Workbook = G;
        ne.SSF = gr(X);
        ne.Props = O;
        ne.Custprops = I;
        return ne
    }

    function jm(e, r) {
        Wg(r = r ||
            {});
        switch (r.type || "base64") {
            case "base64":
                return Gm(k(e), r);
            case "binary":
                ;
            case "buffer":
                ;
            case "file":
                return Gm(e, r);
            case "array":
                return Gm(x(e), r);
        }
    }

    function Xm(e, r) {
        var t = [];
        if (e.Props) t.push(_i(e.Props, r));
        if (e.Custprops) t.push(Ai(e.Props, e.Custprops, r));
        return t.join("")
    }

    function $m() {
        return ""
    }

    function Ym(e, r) {
        var t = ['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];
        r.cellXfs.forEach(function (e, r) {
            var a = [];
            a.push(kt("NumberFormat", null,
                {
                    "ss:Format": qr(X[e.numFmtId])
                }));
            var n = {
                "ss:ID": "s" + (21 + r)
            };
            t.push(kt("Style", a.join(""), n))
        });
        return kt("Styles", t.join(""))
    }

    function Km(e) {
        return kt("NamedRange", null,
            {
                "ss:Name": e.Name,
                "ss:RefersTo": "=" + Cu(e.Ref,
                    {
                        r: 0,
                        c: 0
                    })
            })
    }

    function Jm(e) {
        if (!((e ||
            {}).Workbook ||
            {}).Names) return "";
        var r = e.Workbook.Names;
        var t = [];
        for (var a = 0; a < r.length; ++a) {
            var n = r[a];
            if (n.Sheet != null) continue;
            if (n.Name.match(/^_xlfn\./)) continue;
            t.push(Km(n))
        }
        return kt("Names", t.join(""))
    }

    function qm(e, r, t, a) {
        if (!e) return "";
        if (!((a ||
            {}).Workbook ||
            {}).Names) return "";
        var n = a.Workbook.Names;
        var i = [];
        for (var s = 0; s < n.length; ++s) {
            var f = n[s];
            if (f.Sheet != t) continue;
            if (f.Name.match(/^_xlfn\./)) continue;
            i.push(Km(f))
        }
        return i.join("")
    }

    function Zm(e, r, t, a) {
        if (!e) return "";
        var n = [];
        if (e["!margins"]) {
            n.push("<PageSetup>");
            if (e["!margins"].header) n.push(kt("Header", null,
                {
                    "x:Margin": e["!margins"].header
                }));
            if (e["!margins"].footer) n.push(kt("Footer", null,
                {
                    "x:Margin": e["!margins"].footer
                }));
            n.push(kt("PageMargins", null,
                {
                    "x:Bottom": e["!margins"].bottom || "0.75",
                    "x:Left": e["!margins"].left || "0.7",
                    "x:Right": e["!margins"].right || "0.7",
                    "x:Top": e["!margins"].top || "0.75"
                }));
            n.push("</PageSetup>")
        }
        if (a && a.Workbook && a.Workbook.Sheets && a.Workbook.Sheets[t]) {
            if (a.Workbook.Sheets[t].Hidden) n.push(kt("Visible", a.Workbook.Sheets[t].Hidden == 1 ? "SheetHidden" : "SheetVeryHidden",
                {}));
            else {
                for (var i = 0; i < t; ++i)
                    if (a.Workbook.Sheets[i] && !a.Workbook.Sheets[i].Hidden) break;
                if (i == t) n.push("<Selected/>")
            }
        }
        if (((((a ||
            {}).Workbook ||
            {}).Views || [])[0] ||
            {}).RTL) n.push("<DisplayRightToLeft/>");
        if (e["!protect"]) {
            n.push(gt("ProtectContents", "True"));
            if (e["!protect"].objects) n.push(gt("ProtectObjects", "True"));
            if (e["!protect"].scenarios) n.push(gt("ProtectScenarios", "True"));
            if (e["!protect"].selectLockedCells != null && !e["!protect"].selectLockedCells) n.push(gt("EnableSelection", "NoSelection"));
            else if (e["!protect"].selectUnlockedCells != null && !e["!protect"].selectUnlockedCells) n.push(gt("EnableSelection", "UnlockedCells"));
            [
                ["formatCells", "AllowFormatCells"],
                ["formatColumns", "AllowSizeCols"],
                ["formatRows", "AllowSizeRows"],
                ["insertColumns", "AllowInsertCols"],
                ["insertRows", "AllowInsertRows"],
                ["insertHyperlinks", "AllowInsertHyperlinks"],
                ["deleteColumns", "AllowDeleteCols"],
                ["deleteRows", "AllowDeleteRows"],
                ["sort", "AllowSort"],
                ["autoFilter", "AllowFilter"],
                ["pivotTables", "AllowUsePivotTables"]
            ].forEach(function (r) {
                if (e["!protect"][r[0]]) n.push("<" + r[1] + "/>")
            })
        }
        if (n.length == 0) return "";
        return kt("WorksheetOptions", n.join(""),
            {
                xmlns: xt.x
            })
    }

    function Qm(e) {
        return e.map(function (e) {
            var r = at(e.t || "");
            var t = kt("ss:Data", r,
                {
                    xmlns: "http://www.w3.org/TR/REC-html40"
                });
            return kt("Comment", t,
                {
                    "ss:Author": e.a
                })
        }).join("")
    }

    function eb(e, r, t, a, n, i, s) {
        if (!e || e.v == undefined && e.f == undefined) return "";
        var f = {};
        if (e.f) f["ss:Formula"] = "=" + qr(Cu(e.f, s));
        if (e.F && e.F.slice(0, r.length) == r) {
            var o = Ra(e.F.slice(r.length + 1));
            f["ss:ArrayRange"] = "RC:R" + (o.r == s.r ? "" : "[" + (o.r - s.r) + "]") + "C" + (o.c == s.c ? "" : "[" + (o.c - s.c) + "]")
        }
        if (e.l && e.l.Target) {
            f["ss:HRef"] = qr(e.l.Target);
            if (e.l.Tooltip) f["x:HRefScreenTip"] = qr(e.l.Tooltip)
        }
        if (t["!merges"]) {
            var c = t["!merges"];
            for (var l = 0; l != c.length; ++l) {
                if (c[l].s.c != s.c || c[l].s.r != s.r) continue;
                if (c[l].e.c > c[l].s.c) f["ss:MergeAcross"] = c[l].e.c - c[l].s.c;
                if (c[l].e.r > c[l].s.r) f["ss:MergeDown"] = c[l].e.r - c[l].s.r
            }
        }
        var u = "",
            h = "";
        switch (e.t) {
            case "z":
                if (!a.sheetStubs) return "";
                break;
            case "n":
                u = "Number";
                h = String(e.v);
                break;
            case "b":
                u = "Boolean";
                h = e.v ? "1" : "0";
                break;
            case "e":
                u = "Error";
                h = Gn[e.v];
                break;
            case "d":
                u = "DateTime";
                h = new Date(e.v).toISOString();
                if (e.z == null) e.z = e.z || X[14];
                break;
            case "s":
                u = "String";
                h = rt(e.v || "");
                break;
        }
        var d = Dd(a.cellXfs, e, a);
        f["ss:StyleID"] = "s" + (21 + d);
        f["ss:Index"] = s.c + 1;
        var v = e.v != null ? h : "";
        var p = e.t == "z" ? "" : '<Data ss:Type="' + u + '">' + v + "</Data>";
        if ((e.c || []).length > 0) p += Qm(e.c);
        return kt("Cell", p, f)
    }

    function rb(e, r) {
        var t = '<Row ss:Index="' + (e + 1) + '"';
        if (r) {
            if (r.hpt && !r.hpx) r.hpx = Pc(r.hpt);
            if (r.hpx) t += ' ss:AutoFitHeight="0" ss:Height="' + r.hpx + '"';
            if (r.hidden) t += ' ss:Hidden="1"'
        }
        return t + ">"
    }

    function tb(e, r, t, a) {
        if (!e["!ref"]) return "";
        var n = Fa(e["!ref"]);
        var i = e["!merges"] || [],
            s = 0;
        var f = [];
        if (e["!cols"]) e["!cols"].forEach(function (e, r) {
            Ic(e);
            var t = !!e.width;
            var a = Nd(r, e);
            var n = {
                "ss:Index": r + 1
            };
            if (t) n["ss:Width"] = Ac(a.width);
            if (e.hidden) n["ss:Hidden"] = "1";
            f.push(kt("Column", null, n))
        });
        var o = Array.isArray(e);
        for (var c = n.s.r; c <= n.e.r; ++c) {
            var l = [rb(c, (e["!rows"] || [])[c])];
            for (var u = n.s.c; u <= n.e.c; ++u) {
                var h = false;
                for (s = 0; s != i.length; ++s) {
                    if (i[s].s.c > u) continue;
                    if (i[s].s.r > c) continue;
                    if (i[s].e.c < u) continue;
                    if (i[s].e.r < c) continue;
                    if (i[s].s.c != u || i[s].s.r != c) h = true;
                    break
                }
                if (h) continue;
                var d = {
                    r: c,
                    c: u
                };
                var v = Oa(d),
                    p = o ? (e[c] || [])[u] : e[v];
                l.push(eb(p, v, e, r, t, a, d))
            }
            l.push("</Row>");
            if (l.length > 2) f.push(l.join(""))
        }
        return f.join("")
    }

    function ab(e, r, t) {
        var a = [];
        var n = t.SheetNames[e];
        var i = t.Sheets[n];
        var s = i ? qm(i, r, e, t) : "";
        if (s.length > 0) a.push("<Names>" + s + "</Names>");
        s = i ? tb(i, r, e, t) : "";
        if (s.length > 0) a.push("<Table>" + s + "</Table>");
        a.push(Zm(i, r, e, t));
        return a.join("")
    }

    function nb(e, r) {
        if (!r) r = {};
        if (!e.SSF) e.SSF = gr(X);
        if (e.SSF) {
            ze();
            He(e.SSF);
            r.revssf = nr(e.SSF);
            r.revssf[e.SSF[65535]] = 0;
            r.ssf = e.SSF;
            r.cellXfs = [];
            Dd(r.cellXfs,
                {},
                {
                    revssf:
                    {
                        General: 0
                    }
                })
        }
        var t = [];
        t.push(Xm(e, r));
        t.push($m(e, r));
        t.push("");
        t.push("");
        for (var a = 0; a < e.SheetNames.length; ++a) t.push(kt("Worksheet", ab(a, r, e),
            {
                "ss:Name": qr(e.SheetNames[a])
            }));
        t[2] = Ym(e, r);
        t[3] = Jm(e, r);
        return Mr + kt("Workbook", t.join(""),
            {
                xmlns: xt.ss,
                "xmlns:o": xt.o,
                "xmlns:x": xt.x,
                "xmlns:ss": xt.ss,
                "xmlns:dt": xt.dt,
                "xmlns:html": xt.html
            })
    }

    function ib(e) {
        var r = {};
        var t = e.content;
        t.l = 28;
        r.AnsiUserType = t._R(0, "lpstr-ansi");
        r.AnsiClipboardFormat = kn(t);
        if (t.length - t.l <= 4) return r;
        var a = t._R(4);
        if (a == 0 || a > 40) return r;
        t.l -= 4;
        r.Reserved1 = t._R(0, "lpstr-ansi");
        if (t.length - t.l <= 4) return r;
        a = t._R(4);
        if (a !== 1907505652) return r;
        r.UnicodeClipboardFormat = Tn(t);
        a = t._R(4);
        if (a == 0 || a > 40) return r;
        t.l -= 4;
        r.Reserved2 = t._R(0, "lpwstr")
    }
    var sb = [60, 1084, 2066, 2165, 2175];

    function fb(e, r, t, a, n) {
        var i = a;
        var s = [];
        var f = t.slice(t.l, t.l + i);
        if (n && n.enc && n.enc.insitu && f.length > 0) switch (e) {
            case 9:
                ;
            case 521:
                ;
            case 1033:
                ;
            case 2057:
                ;
            case 47:
                ;
            case 405:
                ;
            case 225:
                ;
            case 406:
                ;
            case 312:
                ;
            case 404:
                ;
            case 10:
                break;
            case 133:
                break;
            default:
                n.enc.insitu(f);
        }
        s.push(f);
        t.l += i;
        var o = Qt(t, t.l),
            c = bb[o];
        var l = 0;
        while (c != null && sb.indexOf(o) > -1) {
            i = Qt(t, t.l + 2);
            l = t.l + 4;
            if (o == 2066) l += 4;
            else if (o == 2165 || o == 2175) {
                l += 12
            }
            f = t.slice(l, t.l + 4 + i);
            s.push(f);
            t.l += 4 + i;
            c = bb[o = Qt(t, t.l)]
        }
        var u = O(s);
        la(u, 0);
        var h = 0;
        u.lens = [];
        for (var d = 0; d < s.length; ++d) {
            u.lens.push(h);
            h += s[d].length
        }
        if (u.length < a) throw "XLS Record 0x" + e.toString(16) + " Truncated: " + u.length + " < " + a;
        return r.f(u, u.length, n)
    }

    function ob(e, r, t) {
        if (e.t === "z") return;
        if (!e.XF) return;
        var a = 0;
        try {
            a = e.z || e.XF.numFmtId || 0;
            if (r.cellNF) e.z = X[a]
        }
        catch (n) {
            if (r.WTF) throw n
        }
        if (!r || r.cellText !== false) try {
            if (e.t === "e") {
                e.w = e.w || Gn[e.v]
            }
            else if (a === 0 || a == "General") {
                if (e.t === "n") {
                    if ((e.v | 0) === e.v) e.w = e.v.toString(10);
                    else e.w = se(e.v)
                }
                else e.w = fe(e.v)
            }
            else e.w = Be(a, e.v,
                {
                    date1904: !!t,
                    dateNF: r && r.dateNF
                })
        }
            catch (n) {
                if (r.WTF) throw n
            }
        if (r.cellDates && a && e.t == "n" && De(X[a] || String(a))) {
            var i = q(e.v);
            if (i) {
                e.t = "d";
                e.v = new Date(i.y, i.m - 1, i.d, i.H, i.M, i.S, i.u)
            }
        }
    }

    function cb(e, r, t) {
        return {
            v: e,
            ixfe: r,
            t: t
        }
    }

    function lb(e, r) {
        var t = {
            opts:
                {}
        };
        var a = {};
        if (m != null && r.dense == null) r.dense = m;
        var n = r.dense ? [] :
            {};
        var i = {};
        var s = {};
        var f = null;
        var c = [];
        var l = "";
        var u = {};
        var h, d = "",
            v, p, b, g;
        var w = {};
        var k = [];
        var T;
        var E;
        var y = [];
        var S = [];
        var _ = {
            Sheets: [],
            WBProps:
            {
                date1904: false
            },
            Views: [
                {}]
        },
            A = {};
        var x = function ve(e) {
            if (e < 8) return Vn[e];
            if (e < 64) return S[e - 8] || Vn[e];
            return Vn[e]
        };
        var C = function pe(e, r, t) {
            var a = r.XF.data;
            if (!a || !a.patternType || !t || !t.cellStyles) return;
            r.s = {};
            r.s.patternType = a.patternType;
            var n;
            if (n = gc(x(a.icvFore))) {
                r.s.fgColor = {
                    rgb: n
                }
            }
            if (n = gc(x(a.icvBack))) {
                r.s.bgColor = {
                    rgb: n
                }
            }
        };
        var R = function me(e, r, t) {
            if (B > 1) return;
            if (t.sheetRows && e.r >= t.sheetRows) return;
            if (t.cellStyles && r.XF && r.XF.data) C(e, r, t);
            delete r.ixfe;
            delete r.XF;
            h = e;
            d = Oa(e);
            if (!s || !s.s || !s.e) s = {
                s:
                {
                    r: 0,
                    c: 0
                },
                e:
                {
                    r: 0,
                    c: 0
                }
            };
            if (e.r < s.s.r) s.s.r = e.r;
            if (e.c < s.s.c) s.s.c = e.c;
            if (e.r + 1 > s.e.r) s.e.r = e.r + 1;
            if (e.c + 1 > s.e.c) s.e.c = e.c + 1;
            if (t.cellFormula && r.f) {
                for (var a = 0; a < k.length; ++a) {
                    if (k[a][0].s.c > e.c || k[a][0].s.r > e.r) continue;
                    if (k[a][0].e.c < e.c || k[a][0].e.r < e.r) continue;
                    r.F = Na(k[a][0]);
                    if (k[a][0].s.c != e.c || k[a][0].s.r != e.r) delete r.f;
                    if (r.f) r.f = "" + fd(k[a][1], s, e, M, O);
                    break
                }
            }
            {
                if (t.dense) {
                    if (!n[e.r]) n[e.r] = [];
                    n[e.r][e.c] = r
                }
                else n[d] = r
            }
        };
        var O = {
            enc: false,
            sbcch: 0,
            snames: [],
            sharedf: w,
            arrayf: k,
            rrtabid: [],
            lastuser: "",
            biff: 8,
            codepage: 0,
            winlocked: 0,
            cellStyles: !!r && !!r.cellStyles,
            WTF: !!r && !!r.wtf
        };
        if (r.password) O.password = r.password;
        var I;
        var N = [];
        var F = [];
        var D = [],
            P = [];
        var L = false;
        var M = [];
        M.SheetNames = O.snames;
        M.sharedf = O.sharedf;
        M.arrayf = O.arrayf;
        M.names = [];
        M.XTI = [];
        var U = 0;
        var B = 0;
        var W = 0,
            H = [];
        var z = [];
        var V;
        O.codepage = 1200;
        o(1200);
        var G = false;
        while (e.l < e.length - 1) {
            var j = e.l;
            var $ = e._R(2);
            if ($ === 0 && U === 10) break;
            var Y = e.l === e.length ? 0 : e._R(2);
            var K = bb[$];
            if (K && K.f) {
                if (r.bookSheets) {
                    if (U === 133 && $ !== 133) break
                }
                U = $;
                if (K.r === 2 || K.r == 12) {
                    var J = e._R(2);
                    Y -= 2;
                    if (!O.enc && J !== $ && ((J & 255) << 8 | J >> 8) !== $) throw new Error("rt mismatch: " + J + "!=" + $);
                    if (K.r == 12) {
                        e.l += 10;
                        Y -= 10
                    }
                }
                var q = {};
                if ($ === 10) q = K.f(e, Y, O);
                else q = fb($, K, e, Y, O);
                if (B == 0 && [9, 521, 1033, 2057].indexOf(U) === -1) continue;
                switch ($) {
                    case 34:
                        t.opts.Date1904 = _.WBProps.date1904 = q;
                        break;
                    case 134:
                        t.opts.WriteProtect = true;
                        break;
                    case 47:
                        if (!O.enc) e.l = 0;
                        O.enc = q;
                        if (!r.password) throw new Error("File is password-protected");
                        if (q.valid == null) throw new Error("Encryption scheme unsupported");
                        if (!q.valid) throw new Error("Password is incorrect");
                        break;
                    case 92:
                        O.lastuser = q;
                        break;
                    case 66:
                        var Z = Number(q);
                        switch (Z) {
                            case 21010:
                                Z = 1200;
                                break;
                            case 32768:
                                Z = 1e4;
                                break;
                            case 32769:
                                Z = 1252;
                                break;
                        }
                        o(O.codepage = Z);
                        G = true;
                        break;
                    case 317:
                        O.rrtabid = q;
                        break;
                    case 25:
                        O.winlocked = q;
                        break;
                    case 439:
                        t.opts["RefreshAll"] = q;
                        break;
                    case 12:
                        t.opts["CalcCount"] = q;
                        break;
                    case 16:
                        t.opts["CalcDelta"] = q;
                        break;
                    case 17:
                        t.opts["CalcIter"] = q;
                        break;
                    case 13:
                        t.opts["CalcMode"] = q;
                        break;
                    case 14:
                        t.opts["CalcPrecision"] = q;
                        break;
                    case 95:
                        t.opts["CalcSaveRecalc"] = q;
                        break;
                    case 15:
                        O.CalcRefMode = q;
                        break;
                    case 2211:
                        t.opts.FullCalc = q;
                        break;
                    case 129:
                        if (q.fDialog) n["!type"] = "dialog";
                        if (!q.fBelow) (n["!outline"] || (n["!outline"] = {})).above = true;
                        if (!q.fRight) (n["!outline"] || (n["!outline"] = {})).left = true;
                        break;
                    case 224:
                        y.push(q);
                        break;
                    case 430:
                        M.push([q]);
                        M[M.length - 1].XTI = [];
                        break;
                    case 35:
                        ;
                    case 547:
                        M[M.length - 1].push(q);
                        break;
                    case 24:
                        ;
                    case 536:
                        V = {
                            Name: q.Name,
                            Ref: fd(q.rgce, s, null, M, O)
                        };
                        if (q.itab > 0) V.Sheet = q.itab - 1;
                        M.names.push(V);
                        if (!M[0]) {
                            M[0] = [];
                            M[0].XTI = []
                        }
                        M[M.length - 1].push(q);
                        if (q.Name == "_xlnm._FilterDatabase" && q.itab > 0)
                            if (q.rgce && q.rgce[0] && q.rgce[0][0] && q.rgce[0][0][0] == "PtgArea3d") z[q.itab - 1] = {
                                ref: Na(q.rgce[0][0][1][2])
                            };
                        break;
                    case 22:
                        O.ExternCount = q;
                        break;
                    case 23:
                        if (M.length == 0) {
                            M[0] = [];
                            M[0].XTI = []
                        }
                        M[M.length - 1].XTI = M[M.length - 1].XTI.concat(q);
                        M.XTI = M.XTI.concat(q);
                        break;
                    case 2196:
                        if (O.biff < 8) break;
                        if (V != null) V.Comment = q[1];
                        break;
                    case 18:
                        n["!protect"] = q;
                        break;
                    case 19:
                        if (q !== 0 && O.WTF) console.error("Password verifier: " + q);
                        break;
                    case 133:
                        {
                            i[q.pos] = q;
                            O.snames.push(q.name)
                        }
                        break;
                    case 10:
                        {
                            if (--B) break;
                            if (s.e) {
                                if (s.e.r > 0 && s.e.c > 0) {
                                    s.e.r--;
                                    s.e.c--;
                                    n["!ref"] = Na(s);
                                    if (r.sheetRows && r.sheetRows <= s.e.r) {
                                        var Q = s.e.r;
                                        s.e.r = r.sheetRows - 1;
                                        n["!fullref"] = n["!ref"];
                                        n["!ref"] = Na(s);
                                        s.e.r = Q
                                    }
                                    s.e.r++;
                                    s.e.c++
                                }
                                if (N.length > 0) n["!merges"] = N;
                                if (F.length > 0) n["!objects"] = F;
                                if (D.length > 0) n["!cols"] = D;
                                if (P.length > 0) n["!rows"] = P;
                                _.Sheets.push(A)
                            }
                            if (l === "") u = n;
                            else a[l] = n;
                            n = r.dense ? [] :
                                {}
                        }
                        break;
                    case 9:
                        ;
                    case 521:
                        ;
                    case 1033:
                        ;
                    case 2057:
                        {
                            if (O.biff === 8) O.biff = {
                                9: 2,
                                521: 3,
                                1033: 4
                            }[$] ||
                                {
                                    512: 2,
                                    768: 3,
                                    1024: 4,
                                    1280: 5,
                                    1536: 8,
                                    2: 2,
                                    7: 2
                                }[q.BIFFVer] || 8;
                            O.biffguess = q.BIFFVer == 0;
                            if (q.BIFFVer == 0 && q.dt == 4096) {
                                O.biff = 5;
                                G = true;
                                o(O.codepage = 28591)
                            }
                            if (O.biff == 8 && q.BIFFVer == 0 && q.dt == 16) O.biff = 2;
                            if (B++) break;
                            n = r.dense ? [] :
                                {};
                            if (O.biff < 8 && !G) {
                                G = true;
                                o(O.codepage = r.codepage || 1252)
                            }
                            if (O.biff < 5 || q.BIFFVer == 0 && q.dt == 4096) {
                                if (l === "") l = "Sheet1";
                                s = {
                                    s:
                                    {
                                        r: 0,
                                        c: 0
                                    },
                                    e:
                                    {
                                        r: 0,
                                        c: 0
                                    }
                                };
                                var ee = {
                                    pos: e.l - Y,
                                    name: l
                                };
                                i[ee.pos] = ee;
                                O.snames.push(l)
                            }
                            else l = (i[j] ||
                            {
                                name: ""
                            }).name;
                            if (q.dt == 32) n["!type"] = "chart";
                            if (q.dt == 64) n["!type"] = "macro";
                            N = [];
                            F = [];
                            O.arrayf = k = [];
                            D = [];
                            P = [];
                            L = false;
                            A = {
                                Hidden: (i[j] ||
                                {
                                    hs: 0
                                }).hs,
                                name: l
                            }
                        }
                        break;
                    case 515:
                        ;
                    case 3:
                        ;
                    case 2:
                        {
                            if (n["!type"] == "chart")
                                if (r.dense ? (n[q.r] || [])[q.c] : n[Oa(
                                    {
                                        c: q.c,
                                        r: q.r
                                    })]) ++q.c;
                            T = {
                                ixfe: q.ixfe,
                                XF: y[q.ixfe] ||
                                    {},
                                v: q.val,
                                t: "n"
                            };
                            if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                            ob(T, r, t.opts.Date1904);
                            R(
                                {
                                    c: q.c,
                                    r: q.r
                                }, T, r)
                        }
                        break;
                    case 5:
                        ;
                    case 517:
                        {
                            T = {
                                ixfe: q.ixfe,
                                XF: y[q.ixfe],
                                v: q.val,
                                t: q.t
                            };
                            if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                            ob(T, r, t.opts.Date1904);
                            R(
                                {
                                    c: q.c,
                                    r: q.r
                                }, T, r)
                        }
                        break;
                    case 638:
                        {
                            T = {
                                ixfe: q.ixfe,
                                XF: y[q.ixfe],
                                v: q.rknum,
                                t: "n"
                            };
                            if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                            ob(T, r, t.opts.Date1904);
                            R(
                                {
                                    c: q.c,
                                    r: q.r
                                }, T, r)
                        }
                        break;
                    case 189:
                        {
                            for (var re = q.c; re <= q.C; ++re) {
                                var te = q.rkrec[re - q.c][0];
                                T = {
                                    ixfe: te,
                                    XF: y[te],
                                    v: q.rkrec[re - q.c][1],
                                    t: "n"
                                };
                                if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                                ob(T, r, t.opts.Date1904);
                                R(
                                    {
                                        c: re,
                                        r: q.r
                                    }, T, r)
                            }
                        }
                        break;
                    case 6:
                        ;
                    case 518:
                        ;
                    case 1030:
                        {
                            if (q.val == "String") {
                                f = q;
                                break
                            }
                            T = cb(q.val, q.cell.ixfe, q.tt);
                            T.XF = y[T.ixfe];
                            if (r.cellFormula) {
                                var ae = q.formula;
                                if (ae && ae[0] && ae[0][0] && ae[0][0][0] == "PtgExp") {
                                    var ne = ae[0][0][1][0],
                                        ie = ae[0][0][1][1];
                                    var se = Oa(
                                        {
                                            r: ne,
                                            c: ie
                                        });
                                    if (w[se]) T.f = "" + fd(q.formula, s, q.cell, M, O);
                                    else T.F = ((r.dense ? (n[ne] || [])[ie] : n[se]) ||
                                        {}).F
                                }
                                else T.f = "" + fd(q.formula, s, q.cell, M, O)
                            }
                            if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                            ob(T, r, t.opts.Date1904);
                            R(q.cell, T, r);
                            f = q
                        }
                        break;
                    case 7:
                        ;
                    case 519:
                        {
                            if (f) {
                                f.val = q;
                                T = cb(q, f.cell.ixfe, "s");
                                T.XF = y[T.ixfe];
                                if (r.cellFormula) {
                                    T.f = "" + fd(f.formula, s, f.cell, M, O)
                                }
                                if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                                ob(T, r, t.opts.Date1904);
                                R(f.cell, T, r);
                                f = null
                            }
                            else throw new Error("String record expects Formula")
                        }
                        break;
                    case 33:
                        ;
                    case 545:
                        {
                            k.push(q);
                            var fe = Oa(q[0].s);
                            v = r.dense ? (n[q[0].s.r] || [])[q[0].s.c] : n[fe];
                            if (r.cellFormula && v) {
                                if (!f) break;
                                if (!fe || !v) break;
                                v.f = "" + fd(q[1], s, q[0], M, O);
                                v.F = Na(q[0])
                            }
                        }
                        break;
                    case 1212:
                        {
                            if (!r.cellFormula) break;
                            if (d) {
                                if (!f) break;
                                w[Oa(f.cell)] = q[0];
                                v = r.dense ? (n[f.cell.r] || [])[f.cell.c] : n[Oa(f.cell)];
                                (v ||
                                    {}).f = "" + fd(q[0], s, h, M, O)
                            }
                        }
                        break;
                    case 253:
                        T = cb(c[q.isst].t, q.ixfe, "s");
                        if (c[q.isst].h) T.h = c[q.isst].h;
                        T.XF = y[T.ixfe];
                        if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                        ob(T, r, t.opts.Date1904);
                        R(
                            {
                                c: q.c,
                                r: q.r
                            }, T, r);
                        break;
                    case 513:
                        if (r.sheetStubs) {
                            T = {
                                ixfe: q.ixfe,
                                XF: y[q.ixfe],
                                t: "z"
                            };
                            if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                            ob(T, r, t.opts.Date1904);
                            R(
                                {
                                    c: q.c,
                                    r: q.r
                                }, T, r)
                        }
                        break;
                    case 190:
                        if (r.sheetStubs) {
                            for (var oe = q.c; oe <= q.C; ++oe) {
                                var ce = q.ixfe[oe - q.c];
                                T = {
                                    ixfe: ce,
                                    XF: y[ce],
                                    t: "z"
                                };
                                if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                                ob(T, r, t.opts.Date1904);
                                R(
                                    {
                                        c: oe,
                                        r: q.r
                                    }, T, r)
                            }
                        }
                        break;
                    case 214:
                        ;
                    case 516:
                        ;
                    case 4:
                        T = cb(q.val, q.ixfe, "s");
                        T.XF = y[T.ixfe];
                        if (W > 0) T.z = H[T.ixfe >> 8 & 63];
                        ob(T, r, t.opts.Date1904);
                        R(
                            {
                                c: q.c,
                                r: q.r
                            }, T, r);
                        break;
                    case 0:
                        ;
                    case 512:
                        {
                            if (B === 1) s = q
                        }
                        break;
                    case 252:
                        {
                            c = q
                        }
                        break;
                    case 1054:
                        {
                            if (O.biff == 4) {
                                H[W++] = q[1];
                                for (var le = 0; le < W + 163; ++le)
                                    if (X[le] == q[1]) break;
                                if (le >= 163) We(q[1], W + 163)
                            }
                            else We(q[1], q[0])
                        }
                        break;
                    case 30:
                        {
                            H[W++] = q;
                            for (var ue = 0; ue < W + 163; ++ue)
                                if (X[ue] == q) break;
                            if (ue >= 163) We(q, W + 163)
                        }
                        break;
                    case 229:
                        N = N.concat(q);
                        break;
                    case 93:
                        F[q.cmo[0]] = O.lastobj = q;
                        break;
                    case 438:
                        O.lastobj.TxO = q;
                        break;
                    case 127:
                        O.lastobj.ImData = q;
                        break;
                    case 440:
                        {
                            for (g = q[0].s.r; g <= q[0].e.r; ++g)
                                for (b = q[0].s.c; b <= q[0].e.c; ++b) {
                                    v = r.dense ? (n[g] || [])[b] : n[Oa(
                                        {
                                            c: b,
                                            r: g
                                        })];
                                    if (v) v.l = q[1]
                                }
                        }
                        break;
                    case 2048:
                        {
                            for (g = q[0].s.r; g <= q[0].e.r; ++g)
                                for (b = q[0].s.c; b <= q[0].e.c; ++b) {
                                    v = r.dense ? (n[g] || [])[b] : n[Oa(
                                        {
                                            c: b,
                                            r: g
                                        })];
                                    if (v && v.l) v.l.Tooltip = q[1]
                                }
                        }
                        break;
                    case 28:
                        {
                            if (O.biff <= 5 && O.biff >= 2) break;
                            v = r.dense ? (n[q[0].r] || [])[q[0].c] : n[Oa(q[0])];
                            var he = F[q[2]];
                            if (!v) {
                                if (r.dense) {
                                    if (!n[q[0].r]) n[q[0].r] = [];
                                    v = n[q[0].r][q[0].c] = {
                                        t: "z"
                                    }
                                }
                                else {
                                    v = n[Oa(q[0])] = {
                                        t: "z"
                                    }
                                }
                                s.e.r = Math.max(s.e.r, q[0].r);
                                s.s.r = Math.min(s.s.r, q[0].r);
                                s.e.c = Math.max(s.e.c, q[0].c);
                                s.s.c = Math.min(s.s.c, q[0].c)
                            }
                            if (!v.c) v.c = [];
                            p = {
                                a: q[1],
                                t: he.TxO.t
                            };
                            v.c.push(p)
                        }
                        break;
                    case 2173:
                        Bl(y[q.ixfe], q.ext);
                        break;
                    case 125:
                        {
                            if (!O.cellStyles) break;
                            while (q.e >= q.s) {
                                D[q.e--] = {
                                    width: q.w / 256,
                                    level: q.level || 0,
                                    hidden: !!(q.flags & 1)
                                };
                                if (!L) {
                                    L = true;
                                    Oc(q.w / 256)
                                }
                                Ic(D[q.e + 1])
                            }
                        }
                        break;
                    case 520:
                        {
                            var de = {};
                            if (q.level != null) {
                                P[q.r] = de;
                                de.level = q.level
                            }
                            if (q.hidden) {
                                P[q.r] = de;
                                de.hidden = true
                            }
                            if (q.hpt) {
                                P[q.r] = de;
                                de.hpt = q.hpt;
                                de.hpx = Pc(q.hpt)
                            }
                        }
                        break;
                    case 38:
                        ;
                    case 39:
                        ;
                    case 40:
                        ;
                    case 41:
                        if (!n["!margins"]) Fd(n["!margins"] = {});
                        n["!margins"][
                            {
                                38: "left",
                                39: "right",
                                40: "top",
                                41: "bottom"
                            }[$]] = q;
                        break;
                    case 161:
                        if (!n["!margins"]) Fd(n["!margins"] = {});
                        n["!margins"].header = q.header;
                        n["!margins"].footer = q.footer;
                        break;
                    case 574:
                        if (q.RTL) _.Views[0].RTL = true;
                        break;
                    case 146:
                        S = q;
                        break;
                    case 2198:
                        I = q;
                        break;
                    case 140:
                        E = q;
                        break;
                    case 442:
                        {
                            if (!l) _.WBProps.CodeName = q || "ThisWorkbook";
                            else A.CodeName = q || A.name
                        }
                        break;
                }
            }
            else {
                if (!K) console.error("Missing Info for XLS Record 0x" + $.toString(16));
                e.l += Y
            }
        }
        t.SheetNames = rr(i).sort(function (e, r) {
            return Number(e) - Number(r)
        }).map(function (e) {
            return i[e].name
        });
        if (!r.bookSheets) t.Sheets = a;
        if (!t.SheetNames.length && u["!ref"]) {
            t.SheetNames.push("Sheet1");
            if (t.Sheets) t.Sheets["Sheet1"] = u
        }
        else t.Preamble = u;
        if (t.Sheets) z.forEach(function (e, r) {
            t.Sheets[t.SheetNames[r]]["!autofilter"] = e
        });
        t.Strings = c;
        t.SSF = gr(X);
        if (O.enc) t.Encryption = O.enc;
        if (I) t.Themes = I;
        t.Metadata = {};
        if (E !== undefined) t.Metadata.Country = E;
        if (M.names.length > 0) _.Names = M.names;
        t.Workbook = _;
        return t
    }
    var ub = {
        SI: "e0859ff2f94f6810ab9108002b27b3d9",
        DSI: "02d5cdd59c2e1b10939708002b2cf9ae",
        UDI: "05d5cdd59c2e1b10939708002b2cf9ae"
    };

    function hb(e, r, t) {
        var a = Ke.find(e, "/!DocumentSummaryInformation");
        if (a && a.size > 0) try {
            var n = $i(a, Mn, ub.DSI);
            for (var i in n) r[i] = n[i]
        }
            catch (s) {
                if (t.WTF) throw s
            }
        var f = Ke.find(e, "/!SummaryInformation");
        if (f && f.size > 0) try {
            var o = $i(f, Un, ub.SI);
            for (var c in o)
                if (r[c] == null) r[c] = o[c]
        }
            catch (s) {
                if (t.WTF) throw s
            }
        if (r.HeadingPairs && r.TitlesOfParts) {
            mi(r.HeadingPairs, r.TitlesOfParts, r, t);
            delete r.HeadingPairs;
            delete r.TitlesOfParts
        }
    }

    function db(e, r) {
        var t = [],
            a = [],
            n = [];
        var i = 0,
            s;
        var f = tr(Mn, "n");
        var o = tr(Un, "n");
        if (e.Props) {
            s = rr(e.Props);
            for (i = 0; i < s.length; ++i)(Object.prototype.hasOwnProperty.call(f, s[i]) ? t : Object.prototype.hasOwnProperty.call(o, s[i]) ? a : n).push([s[i], e.Props[s[i]]])
        }
        if (e.Custprops) {
            s = rr(e.Custprops);
            for (i = 0; i < s.length; ++i)
                if (!Object.prototype.hasOwnProperty.call(e.Props ||
                    {}, s[i])) (Object.prototype.hasOwnProperty.call(f, s[i]) ? t : Object.prototype.hasOwnProperty.call(o, s[i]) ? a : n).push([s[i], e.Custprops[s[i]]])
        }
        var c = [];
        for (i = 0; i < n.length; ++i) {
            if (Gi.indexOf(n[i][0]) > -1 || pi.indexOf(n[i][0]) > -1) continue;
            if (n[i][1] == null) continue;
            c.push(n[i])
        }
        if (a.length) Ke.utils.cfb_add(r, "/SummaryInformation", Yi(a, ub.SI, o, Un));
        if (t.length || c.length) Ke.utils.cfb_add(r, "/DocumentSummaryInformation", Yi(t, ub.DSI, f, Mn, c.length ? c : null, ub.UDI))
    }

    function vb(e, r) {
        if (!r) r = {};
        Wg(r);
        c();
        if (r.codepage) s(r.codepage);
        var t, a;
        if (e.FullPaths) {
            if (Ke.find(e, "/encryption")) throw new Error("File is password-protected");
            t = Ke.find(e, "!CompObj");
            a = Ke.find(e, "/Workbook") || Ke.find(e, "/Book")
        }
        else {
            switch (r.type) {
                case "base64":
                    e = _(k(e));
                    break;
                case "binary":
                    e = _(e);
                    break;
                case "buffer":
                    break;
                case "array":
                    if (!Array.isArray(e)) e = Array.prototype.slice.call(e);
                    break;
            }
            la(e, 0);
            a = {
                content: e
            }
        }
        var n;
        var i;
        if (t) ib(t);
        if (r.bookProps && !r.bookSheets) n = {};
        else {
            var f = T ? "buffer" : "array";
            if (a && a.content) n = lb(a.content, r);
            else if ((i = Ke.find(e, "PerfectOffice_MAIN")) && i.content) n = Co.to_workbook(i.content, (r.type = f, r));
            else if ((i = Ke.find(e, "NativeContent_MAIN")) && i.content) n = Co.to_workbook(i.content, (r.type = f, r));
            else if ((i = Ke.find(e, "MN0")) && i.content) throw new Error("Unsupported Works 4 for Mac file");
            else throw new Error("Cannot find Workbook stream");
            if (r.bookVBA && e.FullPaths && Ke.find(e, "/_VBA_PROJECT_CUR/VBA/dir")) n.vbaraw = wu(e)
        }
        var o = {};
        if (e.FullPaths) hb(e, o, r);
        n.Props = n.Custprops = o;
        if (r.bookFiles) n.cfb = e;
        return n
    }

    function pb(e, r) {
        var t = r ||
            {};
        var a = Ke.utils.cfb_new(
            {
                root: "R"
            });
        var n = "/Workbook";
        switch (t.bookType || "xls") {
            case "xls":
                t.bookType = "biff8";
            case "xla":
                if (!t.bookType) t.bookType = "xla";
            case "biff8":
                n = "/Workbook";
                t.biff = 8;
                break;
            case "biff5":
                n = "/Book";
                t.biff = 5;
                break;
            default:
                throw new Error("invalid type " + t.bookType + " for XLS CFB");
        }
        Ke.utils.cfb_add(a, n, Lb(e, t));
        if (t.biff == 8 && (e.Props || e.Custprops)) db(e, a);
        if (t.biff == 8 && e.vbaraw) ku(a, Ke.read(e.vbaraw,
            {
                type: typeof e.vbaraw == "string" ? "binary" : "buffer"
            }));
        return a
    }
    var mb = {
        0:
        {
            f: mv
        },
        1:
        {
            f: Sv
        },
        2:
        {
            f: Gv
        },
        3:
        {
            f: Nv
        },
        4:
        {
            f: Cv
        },
        5:
        {
            f: Wv
        },
        6:
        {
            f: Kv
        },
        7:
        {
            f: Lv
        },
        8:
        {
            f: tp
        },
        9:
        {
            f: rp
        },
        10:
        {
            f: Qv
        },
        11:
        {
            f: ep
        },
        12:
        {
            f: Av
        },
        13:
        {
            f: Xv
        },
        14:
        {
            f: Dv
        },
        15:
        {
            f: Ov
        },
        16:
        {
            f: zv
        },
        17:
        {
            f: qv
        },
        18:
        {
            f: Uv
        },
        19:
        {
            f: ja
        },
        20:
            {},
        21:
            {},
        22:
            {},
        23:
            {},
        24:
            {},
        25:
            {},
        26:
            {},
        27:
            {},
        28:
            {},
        29:
            {},
        30:
            {},
        31:
            {},
        32:
            {},
        33:
            {},
        34:
            {},
        35:
        {
            T: 1
        },
        36:
        {
            T: -1
        },
        37:
        {
            T: 1
        },
        38:
        {
            T: -1
        },
        39:
        {
            f: fm
        },
        40:
            {},
        42:
            {},
        43:
        {
            f: Jc
        },
        44:
        {
            f: Yc
        },
        45:
        {
            f: el
        },
        46:
        {
            f: il
        },
        47:
        {
            f: tl
        },
        48:
            {},
        49:
        {
            f: Ba
        },
        50:
            {},
        51:
        {
            f: zl
        },
        52:
        {
            T: 1
        },
        53:
        {
            T: -1
        },
        54:
        {
            T: 1
        },
        55:
        {
            T: -1
        },
        56:
        {
            T: 1
        },
        57:
        {
            T: -1
        },
        58:
            {},
        59:
            {},
        60:
        {
            f: ao
        },
        62:
        {
            f: Yv
        },
        63:
        {
            f: Zl
        },
        64:
        {
            f: wp
        },
        65:
            {},
        66:
            {},
        67:
            {},
        68:
            {},
        69:
            {},
        70:
            {},
        128:
            {},
        129:
        {
            T: 1
        },
        130:
        {
            T: -1
        },
        131:
        {
            T: 1,
            f: ua,
            p: 0
        },
        132:
        {
            T: -1
        },
        133:
        {
            T: 1
        },
        134:
        {
            T: -1
        },
        135:
        {
            T: 1
        },
        136:
        {
            T: -1
        },
        137:
        {
            T: 1,
            f: pp
        },
        138:
        {
            T: -1
        },
        139:
        {
            T: 1
        },
        140:
        {
            T: -1
        },
        141:
        {
            T: 1
        },
        142:
        {
            T: -1
        },
        143:
        {
            T: 1
        },
        144:
        {
            T: -1
        },
        145:
        {
            T: 1
        },
        146:
        {
            T: -1
        },
        147:
        {
            f: Ev
        },
        148:
        {
            f: wv,
            p: 16
        },
        151:
        {
            f: op
        },
        152:
            {},
        153:
        {
            f: nm
        },
        154:
            {},
        155:
            {},
        156:
        {
            f: tm
        },
        157:
            {},
        158:
            {},
        159:
        {
            T: 1,
            f: zo
        },
        160:
        {
            T: -1
        },
        161:
        {
            T: 1,
            f: un
        },
        162:
        {
            T: -1
        },
        163:
        {
            T: 1
        },
        164:
        {
            T: -1
        },
        165:
        {
            T: 1
        },
        166:
        {
            T: -1
        },
        167:
            {},
        168:
            {},
        169:
            {},
        170:
            {},
        171:
            {},
        172:
        {
            T: 1
        },
        173:
        {
            T: -1
        },
        174:
            {},
        175:
            {},
        176:
        {
            f: ap
        },
        177:
        {
            T: 1
        },
        178:
        {
            T: -1
        },
        179:
        {
            T: 1
        },
        180:
        {
            T: -1
        },
        181:
        {
            T: 1
        },
        182:
        {
            T: -1
        },
        183:
        {
            T: 1
        },
        184:
        {
            T: -1
        },
        185:
        {
            T: 1
        },
        186:
        {
            T: -1
        },
        187:
        {
            T: 1
        },
        188:
        {
            T: -1
        },
        189:
        {
            T: 1
        },
        190:
        {
            T: -1
        },
        191:
        {
            T: 1
        },
        192:
        {
            T: -1
        },
        193:
        {
            T: 1
        },
        194:
        {
            T: -1
        },
        195:
        {
            T: 1
        },
        196:
        {
            T: -1
        },
        197:
        {
            T: 1
        },
        198:
        {
            T: -1
        },
        199:
        {
            T: 1
        },
        200:
        {
            T: -1
        },
        201:
        {
            T: 1
        },
        202:
        {
            T: -1
        },
        203:
        {
            T: 1
        },
        204:
        {
            T: -1
        },
        205:
        {
            T: 1
        },
        206:
        {
            T: -1
        },
        207:
        {
            T: 1
        },
        208:
        {
            T: -1
        },
        209:
        {
            T: 1
        },
        210:
        {
            T: -1
        },
        211:
        {
            T: 1
        },
        212:
        {
            T: -1
        },
        213:
        {
            T: 1
        },
        214:
        {
            T: -1
        },
        215:
        {
            T: 1
        },
        216:
        {
            T: -1
        },
        217:
        {
            T: 1
        },
        218:
        {
            T: -1
        },
        219:
        {
            T: 1
        },
        220:
        {
            T: -1
        },
        221:
        {
            T: 1
        },
        222:
        {
            T: -1
        },
        223:
        {
            T: 1
        },
        224:
        {
            T: -1
        },
        225:
        {
            T: 1
        },
        226:
        {
            T: -1
        },
        227:
        {
            T: 1
        },
        228:
        {
            T: -1
        },
        229:
        {
            T: 1
        },
        230:
        {
            T: -1
        },
        231:
        {
            T: 1
        },
        232:
        {
            T: -1
        },
        233:
        {
            T: 1
        },
        234:
        {
            T: -1
        },
        235:
        {
            T: 1
        },
        236:
        {
            T: -1
        },
        237:
        {
            T: 1
        },
        238:
        {
            T: -1
        },
        239:
        {
            T: 1
        },
        240:
        {
            T: -1
        },
        241:
        {
            T: 1
        },
        242:
        {
            T: -1
        },
        243:
        {
            T: 1
        },
        244:
        {
            T: -1
        },
        245:
        {
            T: 1
        },
        246:
        {
            T: -1
        },
        247:
        {
            T: 1
        },
        248:
        {
            T: -1
        },
        249:
        {
            T: 1
        },
        250:
        {
            T: -1
        },
        251:
        {
            T: 1
        },
        252:
        {
            T: -1
        },
        253:
        {
            T: 1
        },
        254:
        {
            T: -1
        },
        255:
        {
            T: 1
        },
        256:
        {
            T: -1
        },
        257:
        {
            T: 1
        },
        258:
        {
            T: -1
        },
        259:
        {
            T: 1
        },
        260:
        {
            T: -1
        },
        261:
        {
            T: 1
        },
        262:
        {
            T: -1
        },
        263:
        {
            T: 1
        },
        264:
        {
            T: -1
        },
        265:
        {
            T: 1
        },
        266:
        {
            T: -1
        },
        267:
        {
            T: 1
        },
        268:
        {
            T: -1
        },
        269:
        {
            T: 1
        },
        270:
        {
            T: -1
        },
        271:
        {
            T: 1
        },
        272:
        {
            T: -1
        },
        273:
        {
            T: 1
        },
        274:
        {
            T: -1
        },
        275:
        {
            T: 1
        },
        276:
        {
            T: -1
        },
        277:
            {},
        278:
        {
            T: 1
        },
        279:
        {
            T: -1
        },
        280:
        {
            T: 1
        },
        281:
        {
            T: -1
        },
        282:
        {
            T: 1
        },
        283:
        {
            T: 1
        },
        284:
        {
            T: -1
        },
        285:
        {
            T: 1
        },
        286:
        {
            T: -1
        },
        287:
        {
            T: 1
        },
        288:
        {
            T: -1
        },
        289:
        {
            T: 1
        },
        290:
        {
            T: -1
        },
        291:
        {
            T: 1
        },
        292:
        {
            T: -1
        },
        293:
        {
            T: 1
        },
        294:
        {
            T: -1
        },
        295:
        {
            T: 1
        },
        296:
        {
            T: -1
        },
        297:
        {
            T: 1
        },
        298:
        {
            T: -1
        },
        299:
        {
            T: 1
        },
        300:
        {
            T: -1
        },
        301:
        {
            T: 1
        },
        302:
        {
            T: -1
        },
        303:
        {
            T: 1
        },
        304:
        {
            T: -1
        },
        305:
        {
            T: 1
        },
        306:
        {
            T: -1
        },
        307:
        {
            T: 1
        },
        308:
        {
            T: -1
        },
        309:
        {
            T: 1
        },
        310:
        {
            T: -1
        },
        311:
        {
            T: 1
        },
        312:
        {
            T: -1
        },
        313:
        {
            T: -1
        },
        314:
        {
            T: 1
        },
        315:
        {
            T: -1
        },
        316:
        {
            T: 1
        },
        317:
        {
            T: -1
        },
        318:
        {
            T: 1
        },
        319:
        {
            T: -1
        },
        320:
        {
            T: 1
        },
        321:
        {
            T: -1
        },
        322:
        {
            T: 1
        },
        323:
        {
            T: -1
        },
        324:
        {
            T: 1
        },
        325:
        {
            T: -1
        },
        326:
        {
            T: 1
        },
        327:
        {
            T: -1
        },
        328:
        {
            T: 1
        },
        329:
        {
            T: -1
        },
        330:
        {
            T: 1
        },
        331:
        {
            T: -1
        },
        332:
        {
            T: 1
        },
        333:
        {
            T: -1
        },
        334:
        {
            T: 1
        },
        335:
        {
            f: Wl
        },
        336:
        {
            T: -1
        },
        337:
        {
            f: jl,
            T: 1
        },
        338:
        {
            T: -1
        },
        339:
        {
            T: 1
        },
        340:
        {
            T: -1
        },
        341:
        {
            T: 1
        },
        342:
        {
            T: -1
        },
        343:
        {
            T: 1
        },
        344:
        {
            T: -1
        },
        345:
        {
            T: 1
        },
        346:
        {
            T: -1
        },
        347:
        {
            T: 1
        },
        348:
        {
            T: -1
        },
        349:
        {
            T: 1
        },
        350:
        {
            T: -1
        },
        351:
            {},
        352:
            {},
        353:
        {
            T: 1
        },
        354:
        {
            T: -1
        },
        355:
        {
            f: nn
        },
        357:
            {},
        358:
            {},
        359:
            {},
        360:
        {
            T: 1
        },
        361:
            {},
        362:
        {
            f: Df
        },
        363:
            {},
        364:
            {},
        366:
            {},
        367:
            {},
        368:
            {},
        369:
            {},
        370:
            {},
        371:
            {},
        372:
        {
            T: 1
        },
        373:
        {
            T: -1
        },
        374:
        {
            T: 1
        },
        375:
        {
            T: -1
        },
        376:
        {
            T: 1
        },
        377:
        {
            T: -1
        },
        378:
        {
            T: 1
        },
        379:
        {
            T: -1
        },
        380:
        {
            T: 1
        },
        381:
        {
            T: -1
        },
        382:
        {
            T: 1
        },
        383:
        {
            T: -1
        },
        384:
        {
            T: 1
        },
        385:
        {
            T: -1
        },
        386:
        {
            T: 1
        },
        387:
        {
            T: -1
        },
        388:
        {
            T: 1
        },
        389:
        {
            T: -1
        },
        390:
        {
            T: 1
        },
        391:
        {
            T: -1
        },
        392:
        {
            T: 1
        },
        393:
        {
            T: -1
        },
        394:
        {
            T: 1
        },
        395:
        {
            T: -1
        },
        396:
            {},
        397:
            {},
        398:
            {},
        399:
            {},
        400:
            {},
        401:
        {
            T: 1
        },
        403:
            {},
        404:
            {},
        405:
            {},
        406:
            {},
        407:
            {},
        408:
            {},
        409:
            {},
        410:
            {},
        411:
            {},
        412:
            {},
        413:
            {},
        414:
            {},
        415:
            {},
        416:
            {},
        417:
            {},
        418:
            {},
        419:
            {},
        420:
            {},
        421:
            {},
        422:
        {
            T: 1
        },
        423:
        {
            T: 1
        },
        424:
        {
            T: -1
        },
        425:
        {
            T: -1
        },
        426:
        {
            f: cp
        },
        427:
        {
            f: lp
        },
        428:
            {},
        429:
        {
            T: 1
        },
        430:
        {
            T: -1
        },
        431:
        {
            T: 1
        },
        432:
        {
            T: -1
        },
        433:
        {
            T: 1
        },
        434:
        {
            T: -1
        },
        435:
        {
            T: 1
        },
        436:
        {
            T: -1
        },
        437:
        {
            T: 1
        },
        438:
        {
            T: -1
        },
        439:
        {
            T: 1
        },
        440:
        {
            T: -1
        },
        441:
        {
            T: 1
        },
        442:
        {
            T: -1
        },
        443:
        {
            T: 1
        },
        444:
        {
            T: -1
        },
        445:
        {
            T: 1
        },
        446:
        {
            T: -1
        },
        447:
        {
            T: 1
        },
        448:
        {
            T: -1
        },
        449:
        {
            T: 1
        },
        450:
        {
            T: -1
        },
        451:
        {
            T: 1
        },
        452:
        {
            T: -1
        },
        453:
        {
            T: 1
        },
        454:
        {
            T: -1
        },
        455:
        {
            T: 1
        },
        456:
        {
            T: -1
        },
        457:
        {
            T: 1
        },
        458:
        {
            T: -1
        },
        459:
        {
            T: 1
        },
        460:
        {
            T: -1
        },
        461:
        {
            T: 1
        },
        462:
        {
            T: -1
        },
        463:
        {
            T: 1
        },
        464:
        {
            T: -1
        },
        465:
        {
            T: 1
        },
        466:
        {
            T: -1
        },
        467:
        {
            T: 1
        },
        468:
        {
            T: -1
        },
        469:
        {
            T: 1
        },
        470:
        {
            T: -1
        },
        471:
            {},
        472:
            {},
        473:
        {
            T: 1
        },
        474:
        {
            T: -1
        },
        475:
            {},
        476:
        {
            f: dp
        },
        477:
            {},
        478:
            {},
        479:
        {
            T: 1
        },
        480:
        {
            T: -1
        },
        481:
        {
            T: 1
        },
        482:
        {
            T: -1
        },
        483:
        {
            T: 1
        },
        484:
        {
            T: -1
        },
        485:
        {
            f: Tv
        },
        486:
        {
            T: 1
        },
        487:
        {
            T: -1
        },
        488:
        {
            T: 1
        },
        489:
        {
            T: -1
        },
        490:
        {
            T: 1
        },
        491:
        {
            T: -1
        },
        492:
        {
            T: 1
        },
        493:
        {
            T: -1
        },
        494:
        {
            f: sp
        },
        495:
        {
            T: 1
        },
        496:
        {
            T: -1
        },
        497:
        {
            T: 1
        },
        498:
        {
            T: -1
        },
        499:
            {},
        500:
        {
            T: 1
        },
        501:
        {
            T: -1
        },
        502:
        {
            T: 1
        },
        503:
        {
            T: -1
        },
        504:
            {},
        505:
        {
            T: 1
        },
        506:
        {
            T: -1
        },
        507:
            {},
        508:
        {
            T: 1
        },
        509:
        {
            T: -1
        },
        510:
        {
            T: 1
        },
        511:
        {
            T: -1
        },
        512:
            {},
        513:
            {},
        514:
        {
            T: 1
        },
        515:
        {
            T: -1
        },
        516:
        {
            T: 1
        },
        517:
        {
            T: -1
        },
        518:
        {
            T: 1
        },
        519:
        {
            T: -1
        },
        520:
        {
            T: 1
        },
        521:
        {
            T: -1
        },
        522:
            {},
        523:
            {},
        524:
            {},
        525:
            {},
        526:
            {},
        527:
            {},
        528:
        {
            T: 1
        },
        529:
        {
            T: -1
        },
        530:
        {
            T: 1
        },
        531:
        {
            T: -1
        },
        532:
        {
            T: 1
        },
        533:
        {
            T: -1
        },
        534:
            {},
        535:
            {},
        536:
            {},
        537:
            {},
        538:
        {
            T: 1
        },
        539:
        {
            T: -1
        },
        540:
        {
            T: 1
        },
        541:
        {
            T: -1
        },
        542:
        {
            T: 1
        },
        548:
            {},
        549:
            {},
        550:
        {
            f: nn
        },
        551:
            {},
        552:
            {},
        553:
            {},
        554:
        {
            T: 1
        },
        555:
        {
            T: -1
        },
        556:
        {
            T: 1
        },
        557:
        {
            T: -1
        },
        558:
        {
            T: 1
        },
        559:
        {
            T: -1
        },
        560:
        {
            T: 1
        },
        561:
        {
            T: -1
        },
        562:
            {},
        564:
            {},
        565:
        {
            T: 1
        },
        566:
        {
            T: -1
        },
        569:
        {
            T: 1
        },
        570:
        {
            T: -1
        },
        572:
            {},
        573:
        {
            T: 1
        },
        574:
        {
            T: -1
        },
        577:
            {},
        578:
            {},
        579:
            {},
        580:
            {},
        581:
            {},
        582:
            {},
        583:
            {},
        584:
            {},
        585:
            {},
        586:
            {},
        587:
            {},
        588:
        {
            T: -1
        },
        589:
            {},
        590:
        {
            T: 1
        },
        591:
        {
            T: -1
        },
        592:
        {
            T: 1
        },
        593:
        {
            T: -1
        },
        594:
        {
            T: 1
        },
        595:
        {
            T: -1
        },
        596:
            {},
        597:
        {
            T: 1
        },
        598:
        {
            T: -1
        },
        599:
        {
            T: 1
        },
        600:
        {
            T: -1
        },
        601:
        {
            T: 1
        },
        602:
        {
            T: -1
        },
        603:
        {
            T: 1
        },
        604:
        {
            T: -1
        },
        605:
        {
            T: 1
        },
        606:
        {
            T: -1
        },
        607:
            {},
        608:
        {
            T: 1
        },
        609:
        {
            T: -1
        },
        610:
            {},
        611:
        {
            T: 1
        },
        612:
        {
            T: -1
        },
        613:
        {
            T: 1
        },
        614:
        {
            T: -1
        },
        615:
        {
            T: 1
        },
        616:
        {
            T: -1
        },
        617:
        {
            T: 1
        },
        618:
        {
            T: -1
        },
        619:
        {
            T: 1
        },
        620:
        {
            T: -1
        },
        625:
            {},
        626:
        {
            T: 1
        },
        627:
        {
            T: -1
        },
        628:
        {
            T: 1
        },
        629:
        {
            T: -1
        },
        630:
        {
            T: 1
        },
        631:
        {
            T: -1
        },
        632:
        {
            f: vu
        },
        633:
        {
            T: 1
        },
        634:
        {
            T: -1
        },
        635:
        {
            T: 1,
            f: hu
        },
        636:
        {
            T: -1
        },
        637:
        {
            f: $a
        },
        638:
        {
            T: 1
        },
        639:
            {},
        640:
        {
            T: -1
        },
        641:
        {
            T: 1
        },
        642:
        {
            T: -1
        },
        643:
        {
            T: 1
        },
        644:
            {},
        645:
        {
            T: -1
        },
        646:
        {
            T: 1
        },
        648:
        {
            T: 1
        },
        649:
            {},
        650:
        {
            T: -1
        },
        651:
        {
            f: Up
        },
        652:
            {},
        653:
        {
            T: 1
        },
        654:
        {
            T: -1
        },
        655:
        {
            T: 1
        },
        656:
        {
            T: -1
        },
        657:
        {
            T: 1
        },
        658:
        {
            T: -1
        },
        659:
            {},
        660:
        {
            T: 1
        },
        661:
            {},
        662:
        {
            T: -1
        },
        663:
            {},
        664:
        {
            T: 1
        },
        665:
            {},
        666:
        {
            T: -1
        },
        667:
            {},
        668:
            {},
        669:
            {},
        671:
        {
            T: 1
        },
        672:
        {
            T: -1
        },
        673:
        {
            T: 1
        },
        674:
        {
            T: -1
        },
        675:
            {},
        676:
            {},
        677:
            {},
        678:
            {},
        679:
            {},
        680:
            {},
        681:
            {},
        1024:
            {},
        1025:
            {},
        1026:
        {
            T: 1
        },
        1027:
        {
            T: -1
        },
        1028:
        {
            T: 1
        },
        1029:
        {
            T: -1
        },
        1030:
            {},
        1031:
        {
            T: 1
        },
        1032:
        {
            T: -1
        },
        1033:
        {
            T: 1
        },
        1034:
        {
            T: -1
        },
        1035:
            {},
        1036:
            {},
        1037:
            {},
        1038:
        {
            T: 1
        },
        1039:
        {
            T: -1
        },
        1040:
            {},
        1041:
        {
            T: 1
        },
        1042:
        {
            T: -1
        },
        1043:
            {},
        1044:
            {},
        1045:
            {},
        1046:
        {
            T: 1
        },
        1047:
        {
            T: -1
        },
        1048:
        {
            T: 1
        },
        1049:
        {
            T: -1
        },
        1050:
            {},
        1051:
        {
            T: 1
        },
        1052:
        {
            T: 1
        },
        1053:
        {
            f: kp
        },
        1054:
        {
            T: 1
        },
        1055:
            {},
        1056:
        {
            T: 1
        },
        1057:
        {
            T: -1
        },
        1058:
        {
            T: 1
        },
        1059:
        {
            T: -1
        },
        1061:
            {},
        1062:
        {
            T: 1
        },
        1063:
        {
            T: -1
        },
        1064:
        {
            T: 1
        },
        1065:
        {
            T: -1
        },
        1066:
        {
            T: 1
        },
        1067:
        {
            T: -1
        },
        1068:
        {
            T: 1
        },
        1069:
        {
            T: -1
        },
        1070:
        {
            T: 1
        },
        1071:
        {
            T: -1
        },
        1072:
        {
            T: 1
        },
        1073:
        {
            T: -1
        },
        1075:
        {
            T: 1
        },
        1076:
        {
            T: -1
        },
        1077:
        {
            T: 1
        },
        1078:
        {
            T: -1
        },
        1079:
        {
            T: 1
        },
        1080:
        {
            T: -1
        },
        1081:
        {
            T: 1
        },
        1082:
        {
            T: -1
        },
        1083:
        {
            T: 1
        },
        1084:
        {
            T: -1
        },
        1085:
            {},
        1086:
        {
            T: 1
        },
        1087:
        {
            T: -1
        },
        1088:
        {
            T: 1
        },
        1089:
        {
            T: -1
        },
        1090:
        {
            T: 1
        },
        1091:
        {
            T: -1
        },
        1092:
        {
            T: 1
        },
        1093:
        {
            T: -1
        },
        1094:
        {
            T: 1
        },
        1095:
        {
            T: -1
        },
        1096:
            {},
        1097:
        {
            T: 1
        },
        1098:
            {},
        1099:
        {
            T: -1
        },
        1100:
        {
            T: 1
        },
        1101:
        {
            T: -1
        },
        1102:
            {},
        1103:
            {},
        1104:
            {},
        1105:
            {},
        1111:
            {},
        1112:
            {},
        1113:
        {
            T: 1
        },
        1114:
        {
            T: -1
        },
        1115:
        {
            T: 1
        },
        1116:
        {
            T: -1
        },
        1117:
            {},
        1118:
        {
            T: 1
        },
        1119:
        {
            T: -1
        },
        1120:
        {
            T: 1
        },
        1121:
        {
            T: -1
        },
        1122:
        {
            T: 1
        },
        1123:
        {
            T: -1
        },
        1124:
        {
            T: 1
        },
        1125:
        {
            T: -1
        },
        1126:
            {},
        1128:
        {
            T: 1
        },
        1129:
        {
            T: -1
        },
        1130:
            {},
        1131:
        {
            T: 1
        },
        1132:
        {
            T: -1
        },
        1133:
        {
            T: 1
        },
        1134:
        {
            T: -1
        },
        1135:
        {
            T: 1
        },
        1136:
        {
            T: -1
        },
        1137:
        {
            T: 1
        },
        1138:
        {
            T: -1
        },
        1139:
        {
            T: 1
        },
        1140:
        {
            T: -1
        },
        1141:
            {},
        1142:
        {
            T: 1
        },
        1143:
        {
            T: -1
        },
        1144:
        {
            T: 1
        },
        1145:
        {
            T: -1
        },
        1146:
            {},
        1147:
        {
            T: 1
        },
        1148:
        {
            T: -1
        },
        1149:
        {
            T: 1
        },
        1150:
        {
            T: -1
        },
        1152:
        {
            T: 1
        },
        1153:
        {
            T: -1
        },
        1154:
        {
            T: -1
        },
        1155:
        {
            T: -1
        },
        1156:
        {
            T: -1
        },
        1157:
        {
            T: 1
        },
        1158:
        {
            T: -1
        },
        1159:
        {
            T: 1
        },
        1160:
        {
            T: -1
        },
        1161:
        {
            T: 1
        },
        1162:
        {
            T: -1
        },
        1163:
        {
            T: 1
        },
        1164:
        {
            T: -1
        },
        1165:
        {
            T: 1
        },
        1166:
        {
            T: -1
        },
        1167:
        {
            T: 1
        },
        1168:
        {
            T: -1
        },
        1169:
        {
            T: 1
        },
        1170:
        {
            T: -1
        },
        1171:
            {},
        1172:
        {
            T: 1
        },
        1173:
        {
            T: -1
        },
        1177:
            {},
        1178:
        {
            T: 1
        },
        1180:
            {},
        1181:
            {},
        1182:
            {},
        2048:
        {
            T: 1
        },
        2049:
        {
            T: -1
        },
        2050:
            {},
        2051:
        {
            T: 1
        },
        2052:
        {
            T: -1
        },
        2053:
            {},
        2054:
            {},
        2055:
        {
            T: 1
        },
        2056:
        {
            T: -1
        },
        2057:
        {
            T: 1
        },
        2058:
        {
            T: -1
        },
        2060:
            {},
        2067:
            {},
        2068:
        {
            T: 1
        },
        2069:
        {
            T: -1
        },
        2070:
            {},
        2071:
            {},
        2072:
        {
            T: 1
        },
        2073:
        {
            T: -1
        },
        2075:
            {},
        2076:
            {},
        2077:
        {
            T: 1
        },
        2078:
        {
            T: -1
        },
        2079:
            {},
        2080:
        {
            T: 1
        },
        2081:
        {
            T: -1
        },
        2082:
            {},
        2083:
        {
            T: 1
        },
        2084:
        {
            T: -1
        },
        2085:
        {
            T: 1
        },
        2086:
        {
            T: -1
        },
        2087:
        {
            T: 1
        },
        2088:
        {
            T: -1
        },
        2089:
        {
            T: 1
        },
        2090:
        {
            T: -1
        },
        2091:
            {},
        2092:
            {},
        2093:
        {
            T: 1
        },
        2094:
        {
            T: -1
        },
        2095:
            {},
        2096:
        {
            T: 1
        },
        2097:
        {
            T: -1
        },
        2098:
        {
            T: 1
        },
        2099:
        {
            T: -1
        },
        2100:
        {
            T: 1
        },
        2101:
        {
            T: -1
        },
        2102:
            {},
        2103:
        {
            T: 1
        },
        2104:
        {
            T: -1
        },
        2105:
            {},
        2106:
        {
            T: 1
        },
        2107:
        {
            T: -1
        },
        2108:
            {},
        2109:
        {
            T: 1
        },
        2110:
        {
            T: -1
        },
        2111:
        {
            T: 1
        },
        2112:
        {
            T: -1
        },
        2113:
        {
            T: 1
        },
        2114:
        {
            T: -1
        },
        2115:
            {},
        2116:
            {},
        2117:
            {},
        2118:
        {
            T: 1
        },
        2119:
        {
            T: -1
        },
        2120:
            {},
        2121:
        {
            T: 1
        },
        2122:
        {
            T: -1
        },
        2123:
        {
            T: 1
        },
        2124:
        {
            T: -1
        },
        2125:
            {},
        2126:
        {
            T: 1
        },
        2127:
        {
            T: -1
        },
        2128:
            {},
        2129:
        {
            T: 1
        },
        2130:
        {
            T: -1
        },
        2131:
        {
            T: 1
        },
        2132:
        {
            T: -1
        },
        2133:
        {
            T: 1
        },
        2134:
            {},
        2135:
            {},
        2136:
            {},
        2137:
        {
            T: 1
        },
        2138:
        {
            T: -1
        },
        2139:
        {
            T: 1
        },
        2140:
        {
            T: -1
        },
        2141:
            {},
        3072:
            {},
        3073:
            {},
        4096:
        {
            T: 1
        },
        4097:
        {
            T: -1
        },
        5002:
        {
            T: 1
        },
        5003:
        {
            T: -1
        },
        5081:
        {
            T: 1
        },
        5082:
        {
            T: -1
        },
        5083:
            {},
        5084:
        {
            T: 1
        },
        5085:
        {
            T: -1
        },
        5086:
        {
            T: 1
        },
        5087:
        {
            T: -1
        },
        5088:
            {},
        5089:
            {},
        5090:
            {},
        5092:
        {
            T: 1
        },
        5093:
        {
            T: -1
        },
        5094:
            {},
        5095:
        {
            T: 1
        },
        5096:
        {
            T: -1
        },
        5097:
            {},
        5099:
            {},
        65535:
        {
            n: ""
        }
    };
    var bb = {
        6:
        {
            f: vd
        },
        10:
        {
            f: Ki
        },
        12:
        {
            f: es
        },
        13:
        {
            f: es
        },
        14:
        {
            f: Zi
        },
        15:
        {
            f: Zi
        },
        16:
        {
            f: dn
        },
        17:
        {
            f: Zi
        },
        18:
        {
            f: Zi
        },
        19:
        {
            f: es
        },
        20:
        {
            f: Rf
        },
        21:
        {
            f: Rf
        },
        23:
        {
            f: Df
        },
        24:
        {
            f: Ff
        },
        25:
        {
            f: Zi
        },
        26:
            {},
        27:
            {},
        28:
        {
            f: Hf
        },
        29:
            {},
        34:
        {
            f: Zi
        },
        35:
        {
            f: If
        },
        38:
        {
            f: dn
        },
        39:
        {
            f: dn
        },
        40:
        {
            f: dn
        },
        41:
        {
            f: dn
        },
        42:
        {
            f: Zi
        },
        43:
        {
            f: Zi
        },
        47:
        {
            f: pc
        },
        49:
        {
            f: sf
        },
        51:
        {
            f: es
        },
        60:
            {},
        61:
        {
            f: ef
        },
        64:
        {
            f: Zi
        },
        65:
        {
            f: nf
        },
        66:
        {
            f: es
        },
        77:
            {},
        80:
            {},
        81:
            {},
        82:
            {},
        85:
        {
            f: es
        },
        89:
            {},
        90:
            {},
        91:
            {},
        92:
        {
            f: zs
        },
        93:
        {
            f: Gf
        },
        94:
            {},
        95:
        {
            f: Zi
        },
        96:
            {},
        97:
            {},
        99:
        {
            f: Zi
        },
        125:
        {
            f: ao
        },
        128:
        {
            f: yf
        },
        129:
        {
            f: Gs
        },
        130:
        {
            f: es
        },
        131:
        {
            f: Zi
        },
        132:
        {
            f: Zi
        },
        133:
        {
            f: js
        },
        134:
            {},
        140:
        {
            f: Zf
        },
        141:
        {
            f: es
        },
        144:
            {},
        146:
        {
            f: ro
        },
        151:
            {},
        152:
            {},
        153:
            {},
        154:
            {},
        155:
            {},
        156:
        {
            f: es
        },
        157:
            {},
        158:
            {},
        160:
        {
            f: co
        },
        161:
        {
            f: io
        },
        174:
            {},
        175:
            {},
        176:
            {},
        177:
            {},
        178:
            {},
        180:
            {},
        181:
            {},
        182:
            {},
        184:
            {},
        185:
            {},
        189:
        {
            f: gf
        },
        190:
        {
            f: wf
        },
        193:
        {
            f: Ki
        },
        197:
            {},
        198:
            {},
        199:
            {},
        200:
            {},
        201:
            {},
        202:
        {
            f: Zi
        },
        203:
            {},
        204:
            {},
        205:
            {},
        206:
            {},
        207:
            {},
        208:
            {},
        209:
            {},
        210:
            {},
        211:
            {},
        213:
            {},
        215:
            {},
        216:
            {},
        217:
            {},
        218:
        {
            f: es
        },
        220:
            {},
        221:
        {
            f: Zi
        },
        222:
            {},
        224:
        {
            f: Tf
        },
        225:
        {
            f: Hs
        },
        226:
        {
            f: Ki
        },
        227:
            {},
        229:
        {
            f: zf
        },
        233:
            {},
        235:
            {},
        236:
            {},
        237:
            {},
        239:
            {},
        240:
            {},
        241:
            {},
        242:
            {},
        244:
            {},
        245:
            {},
        246:
            {},
        247:
            {},
        248:
            {},
        249:
            {},
        251:
            {},
        252:
        {
            f: $s
        },
        253:
        {
            f: of
        },
        255:
        {
            f: Ks
        },
        256:
            {},
        259:
            {},
        290:
            {},
        311:
            {},
        312:
            {},
        315:
            {},
        317:
        {
            f: ts
        },
        318:
            {},
        319:
            {},
        320:
            {},
        330:
            {},
        331:
            {},
        333:
            {},
        334:
            {},
        335:
            {},
        336:
            {},
        337:
            {},
        338:
            {},
        339:
            {},
        340:
            {},
        351:
            {},
        352:
        {
            f: Zi
        },
        353:
        {
            f: Ki
        },
        401:
            {},
        402:
            {},
        403:
            {},
        404:
            {},
        405:
            {},
        406:
            {},
        407:
            {},
        408:
            {},
        425:
            {},
        426:
            {},
        427:
            {},
        428:
            {},
        429:
            {},
        430:
        {
            f: Of
        },
        431:
        {
            f: Zi
        },
        432:
            {},
        433:
            {},
        434:
            {},
        437:
            {},
        438:
        {
            f: $f
        },
        439:
        {
            f: Zi
        },
        440:
        {
            f: Yf
        },
        441:
            {},
        442:
        {
            f: cs
        },
        443:
            {},
        444:
        {
            f: es
        },
        445:
            {},
        446:
            {},
        448:
        {
            f: Ki
        },
        449:
        {
            f: Zs,
            r: 2
        },
        450:
        {
            f: Ki
        },
        512:
        {
            f: pf
        },
        513:
        {
            f: oo
        },
        515:
        {
            f: xf
        },
        516:
        {
            f: lf
        },
        517:
        {
            f: _f
        },
        519:
        {
            f: lo
        },
        520:
        {
            f: Js
        },
        523:
            {},
        545:
        {
            f: Uf
        },
        549:
        {
            f: Qs
        },
        566:
            {},
        574:
        {
            f: tf
        },
        638:
        {
            f: bf
        },
        659:
            {},
        1048:
            {},
        1054:
        {
            f: hf
        },
        1084:
            {},
        1212:
        {
            f: Mf
        },
        2048:
        {
            f: Jf
        },
        2049:
            {},
        2050:
            {},
        2051:
            {},
        2052:
            {},
        2053:
            {},
        2054:
            {},
        2055:
            {},
        2056:
            {},
        2057:
        {
            f: Bs
        },
        2058:
            {},
        2059:
            {},
        2060:
            {},
        2061:
            {},
        2062:
            {},
        2063:
            {},
        2064:
            {},
        2066:
            {},
        2067:
            {},
        2128:
            {},
        2129:
            {},
        2130:
            {},
        2131:
            {},
        2132:
            {},
        2133:
            {},
        2134:
            {},
        2135:
            {},
        2136:
            {},
        2137:
            {},
        2138:
            {},
        2146:
            {},
        2147:
        {
            r: 12
        },
        2148:
            {},
        2149:
            {},
        2150:
            {},
        2151:
        {
            f: Ki
        },
        2152:
            {},
        2154:
            {},
        2155:
            {},
        2156:
            {},
        2161:
            {},
        2162:
            {},
        2164:
            {},
        2165:
            {},
        2166:
            {},
        2167:
            {},
        2168:
            {},
        2169:
            {},
        2170:
            {},
        2171:
            {},
        2172:
        {
            f: to,
            r: 12
        },
        2173:
        {
            f: Ul,
            r: 12
        },
        2174:
            {},
        2175:
            {},
        2180:
            {},
        2181:
            {},
        2182:
            {},
        2183:
            {},
        2184:
            {},
        2185:
            {},
        2186:
            {},
        2187:
            {},
        2188:
        {
            f: Zi,
            r: 12
        },
        2189:
            {},
        2190:
        {
            r: 12
        },
        2191:
            {},
        2192:
            {},
        2194:
            {},
        2195:
            {},
        2196:
        {
            f: Lf,
            r: 12
        },
        2197:
            {},
        2198:
        {
            f: Nl,
            r: 12
        },
        2199:
            {},
        2200:
            {},
        2201:
            {},
        2202:
        {
            f: Bf,
            r: 12
        },
        2203:
        {
            f: Ki
        },
        2204:
            {},
        2205:
            {},
        2206:
            {},
        2207:
            {},
        2211:
        {
            f: qs
        },
        2212:
            {},
        2213:
            {},
        2214:
            {},
        2215:
            {},
        4097:
            {},
        4098:
            {},
        4099:
            {},
        4102:
            {},
        4103:
            {},
        4105:
            {},
        4106:
            {},
        4107:
            {},
        4108:
            {},
        4109:
            {},
        4116:
            {},
        4117:
            {},
        4118:
            {},
        4119:
            {},
        4120:
            {},
        4121:
            {},
        4122:
            {},
        4123:
            {},
        4124:
            {},
        4125:
            {},
        4126:
            {},
        4127:
            {},
        4128:
            {},
        4129:
            {},
        4130:
            {},
        4132:
            {},
        4133:
            {},
        4134:
        {
            f: es
        },
        4135:
            {},
        4146:
            {},
        4147:
            {},
        4148:
            {},
        4149:
            {},
        4154:
            {},
        4156:
            {},
        4157:
            {},
        4158:
            {},
        4159:
            {},
        4160:
            {},
        4161:
            {},
        4163:
            {},
        4164:
        {
            f: so
        },
        4165:
            {},
        4166:
            {},
        4168:
            {},
        4170:
            {},
        4171:
            {},
        4174:
            {},
        4175:
            {},
        4176:
            {},
        4177:
            {},
        4187:
            {},
        4188:
        {
            f: eo
        },
        4189:
            {},
        4191:
            {},
        4192:
            {},
        4193:
            {},
        4194:
            {},
        4195:
            {},
        4196:
            {},
        4197:
            {},
        4198:
            {},
        4199:
            {},
        4200:
            {},
        0:
        {
            f: pf
        },
        1:
            {},
        2:
        {
            f: mo
        },
        3:
        {
            f: vo
        },
        4:
        {
            f: ho
        },
        5:
        {
            f: _f
        },
        7:
        {
            f: go
        },
        8:
            {},
        9:
        {
            f: Bs
        },
        11:
            {},
        22:
        {
            f: es
        },
        30:
        {
            f: vf
        },
        31:
            {},
        32:
            {},
        33:
        {
            f: Uf
        },
        36:
            {},
        37:
        {
            f: Qs
        },
        50:
        {
            f: wo
        },
        62:
            {},
        52:
            {},
        67:
            {},
        68:
        {
            f: es
        },
        69:
            {},
        86:
            {},
        126:
            {},
        127:
        {
            f: uo
        },
        135:
            {},
        136:
            {},
        137:
            {},
        145:
            {},
        148:
            {},
        149:
            {},
        150:
            {},
        169:
            {},
        171:
            {},
        188:
            {},
        191:
            {},
        192:
            {},
        194:
            {},
        195:
            {},
        214:
        {
            f: ko
        },
        223:
            {},
        234:
            {},
        354:
            {},
        421:
            {},
        518:
        {
            f: vd
        },
        521:
        {
            f: Bs
        },
        536:
        {
            f: Ff
        },
        547:
        {
            f: If
        },
        561:
            {},
        579:
            {},
        1030:
        {
            f: vd
        },
        1033:
        {
            f: Bs
        },
        1091:
            {},
        2157:
            {},
        2163:
            {},
        2177:
            {},
        2240:
            {},
        2241:
            {},
        2242:
            {},
        2243:
            {},
        2244:
            {},
        2245:
            {},
        2246:
            {},
        2247:
            {},
        2248:
            {},
        2249:
            {},
        2250:
            {},
        2251:
            {},
        2262:
        {
            r: 12
        },
        29282:
            {}
    };

    function gb(e, r, t, a) {
        var n = r;
        if (isNaN(n)) return;
        var i = a || (t || []).length || 0;
        var s = e.next(4);
        s._W(2, n);
        s._W(2, i);
        if (i > 0 && Jt(t)) e.push(t)
    }

    function wb(e, r, t, a) {
        var n = a || (t || []).length || 0;
        if (n <= 8224) return gb(e, r, t, n);
        var i = r;
        if (isNaN(i)) return;
        var s = t.parts || [],
            f = 0;
        var o = 0,
            c = 0;
        while (c + (s[f] || 8224) <= 8224) {
            c += s[f] || 8224;
            f++
        }
        var l = e.next(4);
        l._W(2, i);
        l._W(2, c);
        e.push(t.slice(o, o + c));
        o += c;
        while (o < n) {
            l = e.next(4);
            l._W(2, 60);
            c = 0;
            while (c + (s[f] || 8224) <= 8224) {
                c += s[f] || 8224;
                f++
            }
            l._W(2, c);
            e.push(t.slice(o, o + c));
            o += c
        }
    }

    function kb(e, r, t) {
        if (!e) e = ha(7);
        e._W(2, r);
        e._W(2, t);
        e._W(2, 0);
        e._W(1, 0);
        return e
    }

    function Tb(e, r, t, a) {
        var n = ha(9);
        kb(n, e, r);
        ns(t, a || "b", n);
        return n
    }

    function Eb(e, r, t) {
        var a = ha(8 + 2 * t.length);
        kb(a, e, r);
        a._W(1, t.length);
        a._W(t.length, t, "sbcs");
        return a.l < a.length ? a.slice(0, a.l) : a
    }

    function yb(e, r, t, a) {
        if (r.v != null) switch (r.t) {
            case "d":
                ;
            case "n":
                var n = r.t == "d" ? fr(mr(r.v)) : r.v;
                if (n == (n | 0) && n >= 0 && n < 65536) gb(e, 2, bo(t, a, n));
                else gb(e, 3, po(t, a, n));
                return;
            case "b":
                ;
            case "e":
                gb(e, 5, Tb(t, a, r.v, r.t));
                return;
            case "s":
                ;
            case "str":
                gb(e, 4, Eb(t, a, (r.v || "").slice(0, 255)));
                return;
        }
        gb(e, 1, kb(null, t, a))
    }

    function Sb(e, r, t, a) {
        var n = Array.isArray(r);
        var i = Fa(r["!ref"] || "A1"),
            s, f = "",
            o = [];
        if (i.e.c > 255 || i.e.r > 16383) {
            if (a.WTF) throw new Error("Range " + (r["!ref"] || "A1") + " exceeds format limit A1:IV16384");
            i.e.c = Math.min(i.e.c, 255);
            i.e.r = Math.min(i.e.c, 16383);
            s = Na(i)
        }
        for (var c = i.s.r; c <= i.e.r; ++c) {
            f = Ta(c);
            for (var l = i.s.c; l <= i.e.c; ++l) {
                if (c === i.s.r) o[l] = _a(l);
                s = o[l] + f;
                var u = n ? (r[c] || [])[l] : r[s];
                if (!u) continue;
                yb(e, u, c, l, a)
            }
        }
    }

    function _b(e, r) {
        var t = r ||
            {};
        if (m != null && t.dense == null) t.dense = m;
        var a = va();
        var n = 0;
        for (var i = 0; i < e.SheetNames.length; ++i)
            if (e.SheetNames[i] == t.sheet) n = i;
        if (n == 0 && !!t.sheet && e.SheetNames[0] != t.sheet) throw new Error("Sheet not found: " + t.sheet);
        gb(a, t.biff == 4 ? 1033 : t.biff == 3 ? 521 : 9, Ws(e, 16, t));
        Sb(a, e.Sheets[e.SheetNames[n]], n, t, e);
        gb(a, 10);
        return a.end()
    }

    function Ab(e, r, t) {
        gb(e, 49, ff(
            {
                sz: 12,
                color:
                {
                    theme: 1
                },
                name: "Arial",
                family: 2,
                scheme: "minor"
            }, t))
    }

    function xb(e, r, t) {
        if (!r) return;
        [
            [5, 8],
            [23, 26],
            [41, 44],
            [50, 392]
        ].forEach(function (a) {
            for (var n = a[0]; n <= a[1]; ++n)
                if (r[n] != null) gb(e, 1054, df(n, r[n], t))
        })
    }

    function Cb(e, r) {
        var t = ha(19);
        t._W(4, 2151);
        t._W(4, 0);
        t._W(4, 0);
        t._W(2, 3);
        t._W(1, 1);
        t._W(4, 0);
        gb(e, 2151, t);
        t = ha(39);
        t._W(4, 2152);
        t._W(4, 0);
        t._W(4, 0);
        t._W(2, 3);
        t._W(1, 0);
        t._W(4, 0);
        t._W(2, 1);
        t._W(4, 4);
        t._W(2, 0);
        Os(Fa(r["!ref"] || "A1"), t);
        t._W(4, 4);
        gb(e, 2152, t)
    }

    function Rb(e, r) {
        for (var t = 0; t < 16; ++t) gb(e, 224, Ef(
            {
                numFmtId: 0,
                style: true
            }, 0, r));
        r.cellXfs.forEach(function (t) {
            gb(e, 224, Ef(t, 0, r))
        })
    }

    function Ob(e, r) {
        for (var t = 0; t < r["!links"].length; ++t) {
            var a = r["!links"][t];
            gb(e, 440, Kf(a));
            if (a[1].Tooltip) gb(e, 2048, qf(a))
        }
        delete r["!links"]
    }

    function Ib(e, r) {
        if (!r) return;
        var t = 0;
        r.forEach(function (r, a) {
            if (++t <= 256 && r) {
                gb(e, 125, no(Nd(a, r), a))
            }
        })
    }

    function Nb(e, r, t, a, n) {
        var i = 16 + Dd(n.cellXfs, r, n);
        if (r.v == null && !r.bf) {
            gb(e, 513, ys(t, a, i));
            return
        }
        if (r.bf) gb(e, 6, pd(r, t, a, n, i));
        else switch (r.t) {
            case "d":
                ;
            case "n":
                var s = r.t == "d" ? fr(mr(r.v)) : r.v;
                gb(e, 515, Cf(t, a, s, i, n));
                break;
            case "b":
                ;
            case "e":
                gb(e, 517, Af(t, a, r.v, i, n, r.t));
                break;
            case "s":
                ;
            case "str":
                if (n.bookSST) {
                    var f = Id(n.Strings, r.v, n.revStrings);
                    gb(e, 253, cf(t, a, f, i, n))
                }
                else gb(e, 516, uf(t, a, (r.v || "").slice(0, 255), i, n));
                break;
            default:
                gb(e, 513, ys(t, a, i));
        }
    }

    function Fb(e, r, t) {
        var a = va();
        var n = t.SheetNames[e],
            i = t.Sheets[n] ||
                {};
        var s = (t ||
            {}).Workbook ||
            {};
        var f = (s.Sheets || [])[e] ||
            {};
        var o = Array.isArray(i);
        var c = r.biff == 8;
        var l, u = "",
            h = [];
        var d = Fa(i["!ref"] || "A1");
        var v = c ? 65536 : 16384;
        if (d.e.c > 255 || d.e.r >= v) {
            if (r.WTF) throw new Error("Range " + (i["!ref"] || "A1") + " exceeds format limit A1:IV16384");
            d.e.c = Math.min(d.e.c, 255);
            d.e.r = Math.min(d.e.c, v - 1)
        }
        gb(a, 2057, Ws(t, 16, r));
        gb(a, 13, rs(1));
        gb(a, 12, rs(100));
        gb(a, 15, Qi(true));
        gb(a, 17, Qi(false));
        gb(a, 16, vn(.001));
        gb(a, 95, Qi(true));
        gb(a, 42, Qi(false));
        gb(a, 43, Qi(false));
        gb(a, 130, rs(1));
        gb(a, 128, Sf([0, 0]));
        gb(a, 131, Qi(false));
        gb(a, 132, Qi(false));
        if (c) Ib(a, i["!cols"]);
        gb(a, 512, mf(d, r));
        if (c) i["!links"] = [];
        for (var p = d.s.r; p <= d.e.r; ++p) {
            u = Ta(p);
            for (var m = d.s.c; m <= d.e.c; ++m) {
                if (p === d.s.r) h[m] = _a(m);
                l = h[m] + u;
                var b = o ? (i[p] || [])[m] : i[l];
                if (!b) continue;
                Nb(a, b, p, m, r);
                if (c && b.l) i["!links"].push([l, b.l])
            }
        }
        var g = f.CodeName || f.name || n;
        if (c) gb(a, 574, af((s.Views || [])[0]));
        if (c && (i["!merges"] || []).length) gb(a, 229, Vf(i["!merges"]));
        if (c) Ob(a, i);
        gb(a, 442, us(g, r));
        if (c) Cb(a, i);
        gb(a, 10);
        return a.end()
    }

    function Db(e, r, t) {
        var a = va();
        var n = (e ||
            {}).Workbook ||
            {};
        var i = n.Sheets || [];
        var s = n.WBProps ||
            {};
        var f = t.biff == 8,
            o = t.biff == 5;
        gb(a, 2057, Ws(e, 5, t));
        if (t.bookType == "xla") gb(a, 135);
        gb(a, 225, f ? rs(1200) : null);
        gb(a, 193, Ji(2));
        if (o) gb(a, 191);
        if (o) gb(a, 192);
        gb(a, 226);
        gb(a, 92, Vs("SheetJS", t));
        gb(a, 66, rs(f ? 1200 : 1252));
        if (f) gb(a, 353, rs(0));
        if (f) gb(a, 448);
        gb(a, 317, fo(e.SheetNames.length));
        if (f && e.vbaraw) gb(a, 211);
        if (f && e.vbaraw) {
            var c = s.CodeName || "ThisWorkbook";
            gb(a, 442, us(c, t))
        }
        gb(a, 156, rs(17));
        gb(a, 25, Qi(false));
        gb(a, 18, Qi(false));
        gb(a, 19, rs(0));
        if (f) gb(a, 431, Qi(false));
        if (f) gb(a, 444, rs(0));
        gb(a, 61, rf(t));
        gb(a, 64, Qi(false));
        gb(a, 141, rs(0));
        gb(a, 34, Qi(Yp(e) == "true"));
        gb(a, 14, Qi(true));
        if (f) gb(a, 439, Qi(false));
        gb(a, 218, rs(0));
        Ab(a, e, t);
        xb(a, e.SSF, t);
        Rb(a, t);
        if (f) gb(a, 352, Qi(false));
        var l = a.end();
        var u = va();
        if (f) gb(u, 140, Qf());
        if (f && t.Strings) wb(u, 252, Ys(t.Strings, t));
        gb(u, 10);
        var h = u.end();
        var d = va();
        var v = 0,
            p = 0;
        for (p = 0; p < e.SheetNames.length; ++p) v += (f ? 12 : 11) + (f ? 2 : 1) * e.SheetNames[p].length;
        var m = l.length + v + h.length;
        for (p = 0; p < e.SheetNames.length; ++p) {
            var b = i[p] ||
                {};
            gb(d, 133, Xs(
                {
                    pos: m,
                    hs: b.Hidden || 0,
                    dt: 0,
                    name: e.SheetNames[p]
                }, t));
            m += r[p].length
        }
        var g = d.end();
        if (v != g.length) throw new Error("BS8 " + v + " != " + g.length);
        var w = [];
        if (l.length) w.push(l);
        if (g.length) w.push(g);
        if (h.length) w.push(h);
        return O(w)
    }

    function Pb(e, r) {
        var t = r ||
            {};
        var a = [];
        if (e && !e.SSF) {
            e.SSF = gr(X)
        }
        if (e && e.SSF) {
            ze();
            He(e.SSF);
            t.revssf = nr(e.SSF);
            t.revssf[e.SSF[65535]] = 0;
            t.ssf = e.SSF
        }
        t.Strings = [];
        t.Strings.Count = 0;
        t.Strings.Unique = 0;
        Hg(t);
        t.cellXfs = [];
        Dd(t.cellXfs,
            {},
            {
                revssf:
                {
                    General: 0
                }
            });
        if (!e.Props) e.Props = {};
        for (var n = 0; n < e.SheetNames.length; ++n) a[a.length] = Fb(n, t, e);
        a.unshift(Db(e, a, t));
        return O(a)
    }

    function Lb(e, r) {
        for (var t = 0; t <= e.SheetNames.length; ++t) {
            var a = e.Sheets[e.SheetNames[t]];
            if (!a || !a["!ref"]) continue;
            var n = Ia(a["!ref"]);
            if (n.e.c > 255) {
                if (typeof console != "undefined" && console.error) console.error("Worksheet '" + e.SheetNames[t] + "' extends beyond column IV (255).  Data may be lost.")
            }
        }
        var i = r ||
            {};
        switch (i.biff || 2) {
            case 8:
                ;
            case 5:
                return Pb(e, r);
            case 4:
                ;
            case 3:
                ;
            case 2:
                return _b(e, r);
        }
        throw new Error("invalid type " + i.bookType + " for BIFF")
    }

    function Mb(e, r) {
        var t = r ||
            {};
        if (m != null && t.dense == null) t.dense = m;
        var a = t.dense ? [] :
            {};
        e = e.replace(/<!--.*?-->/g, "");
        var n = e.match(/<table/i);
        if (!n) throw new Error("Invalid HTML: could not find <table>");
        var i = e.match(/<\/table/i);
        var s = n.index,
            f = i && i.index || e.length;
        var o = yr(e.slice(s, f), /(:?<tr[^>]*>)/i, "<tr>");
        var c = -1,
            l = 0,
            u = 0,
            h = 0;
        var d = {
            s:
            {
                r: 1e7,
                c: 1e7
            },
            e:
            {
                r: 0,
                c: 0
            }
        };
        var v = [];
        for (s = 0; s < o.length; ++s) {
            var p = o[s].trim();
            var b = p.slice(0, 3).toLowerCase();
            if (b == "<tr") {
                ++c;
                if (t.sheetRows && t.sheetRows <= c) {
                    --c;
                    break
                }
                l = 0;
                continue
            }
            if (b != "<td" && b != "<th") continue;
            var g = p.split(/<\/t[dh]>/i);
            for (f = 0; f < g.length; ++f) {
                var w = g[f].trim();
                if (!w.match(/<t[dh]/i)) continue;
                var k = w,
                    T = 0;
                while (k.charAt(0) == "<" && (T = k.indexOf(">")) > -1) k = k.slice(T + 1);
                for (var E = 0; E < v.length; ++E) {
                    var y = v[E];
                    if (y.s.c == l && y.s.r < c && c <= y.e.r) {
                        l = y.e.c + 1;
                        E = -1
                    }
                }
                var S = Gr(w.slice(0, w.indexOf(">")));
                h = S.colspan ? +S.colspan : 1;
                if ((u = +S.rowspan) > 1 || h > 1) v.push(
                    {
                        s:
                        {
                            r: c,
                            c: l
                        },
                        e:
                        {
                            r: c + (u || 1) - 1,
                            c: l + h - 1
                        }
                    });
                var _ = S.t || S["data-t"] || "";
                if (!k.length) {
                    l += h;
                    continue
                }
                k = ht(k);
                if (d.s.r > c) d.s.r = c;
                if (d.e.r < c) d.e.r = c;
                if (d.s.c > l) d.s.c = l;
                if (d.e.c < l) d.e.c = l;
                if (!k.length) {
                    l += h;
                    continue
                }
                var A = {
                    t: "s",
                    v: k
                };
                if (t.raw || !k.trim().length || _ == "s") { }
                else if (k === "TRUE") A = {
                    t: "b",
                    v: true
                };
                else if (k === "FALSE") A = {
                    t: "b",
                    v: false
                };
                else if (!isNaN(kr(k))) A = {
                    t: "n",
                    v: kr(k)
                };
                else if (!isNaN(Er(k).getDate())) {
                    A = {
                        t: "d",
                        v: mr(k)
                    };
                    if (!t.cellDates) A = {
                        t: "n",
                        v: fr(A.v)
                    };
                    A.z = t.dateNF || X[14]
                }
                if (t.dense) {
                    if (!a[c]) a[c] = [];
                    a[c][l] = A
                }
                else a[Oa(
                    {
                        r: c,
                        c: l
                    })] = A;
                l += h
            }
        }
        a["!ref"] = Na(d);
        if (v.length) a["!merges"] = v;
        return a
    }

    function Ub(e, r, t, a) {
        var n = e["!merges"] || [];
        var i = [];
        for (var s = r.s.c; s <= r.e.c; ++s) {
            var f = 0,
                o = 0;
            for (var c = 0; c < n.length; ++c) {
                if (n[c].s.r > t || n[c].s.c > s) continue;
                if (n[c].e.r < t || n[c].e.c < s) continue;
                if (n[c].s.r < t || n[c].s.c < s) {
                    f = -1;
                    break
                }
                f = n[c].e.r - n[c].s.r + 1;
                o = n[c].e.c - n[c].s.c + 1;
                break
            }
            if (f < 0) continue;
            var l = Oa(
                {
                    r: t,
                    c: s
                });
            var u = a.dense ? (e[t] || [])[s] : e[l];
            var h = u && u.v != null && (u.h || et(u.w || (Pa(u), u.w) || "")) || "";
            var d = {};
            if (f > 1) d.rowspan = f;
            if (o > 1) d.colspan = o;
            if (a.editable) h = '<span contenteditable="true">' + h + "</span>";
            else if (u) {
                d["data-t"] = u && u.t || "z";
                if (u.v != null) d["data-v"] = u.v;
                if (u.z != null) d["data-z"] = u.z;
                if (u.l && (u.l.Target || "#").charAt(0) != "#") h = '<a href="' + u.l.Target + '">' + h + "</a>"
            }
            d.id = (a.id || "sjs") + "-" + l;
            i.push(kt("td", h, d))
        }
        var v = "<tr>";
        return v + i.join("") + "</tr>"
    }
    var Bb = '<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>';
    var Wb = "</body></html>";

    function Hb(e, r) {
        var t = e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);
        if (!t || t.length == 0) throw new Error("Invalid HTML: could not find <table>");
        if (t.length == 1) return La(Mb(t[0], r), r);
        var a = Nw();
        t.forEach(function (e, t) {
            Fw(a, Mb(e, r), "Sheet" + (t + 1))
        });
        return a
    }

    function zb(e, r, t) {
        var a = [];
        return a.join("") + "<table" + (t && t.id ? ' id="' + t.id + '"' : "") + ">"
    }

    function Vb(e, r) {
        var t = r ||
            {};
        var a = t.header != null ? t.header : Bb;
        var n = t.footer != null ? t.footer : Wb;
        var i = [a];
        var s = Ia(e["!ref"]);
        t.dense = Array.isArray(e);
        i.push(zb(e, s, t));
        for (var f = s.s.r; f <= s.e.r; ++f) i.push(Ub(e, s, f, t));
        i.push("</table>" + n);
        return i.join("")
    }

    function Gb(e, r, t) {
        var a = t ||
            {};
        if (m != null) a.dense = m;
        var n = 0,
            i = 0;
        if (a.origin != null) {
            if (typeof a.origin == "number") n = a.origin;
            else {
                var s = typeof a.origin == "string" ? Ra(a.origin) : a.origin;
                n = s.r;
                i = s.c
            }
        }
        var f = r.getElementsByTagName("tr");
        var o = Math.min(a.sheetRows || 1e7, f.length);
        var c = {
            s:
            {
                r: 0,
                c: 0
            },
            e:
            {
                r: n,
                c: i
            }
        };
        if (e["!ref"]) {
            var l = Ia(e["!ref"]);
            c.s.r = Math.min(c.s.r, l.s.r);
            c.s.c = Math.min(c.s.c, l.s.c);
            c.e.r = Math.max(c.e.r, l.e.r);
            c.e.c = Math.max(c.e.c, l.e.c);
            if (n == -1) c.e.r = n = l.e.r + 1
        }
        var u = [],
            h = 0;
        var d = e["!rows"] || (e["!rows"] = []);
        var v = 0,
            p = 0,
            b = 0,
            g = 0,
            w = 0,
            k = 0;
        if (!e["!cols"]) e["!cols"] = [];
        for (; v < f.length && p < o; ++v) {
            var T = f[v];
            if ($b(T)) {
                if (a.display) continue;
                d[p] = {
                    hidden: true
                }
            }
            var E = T.children;
            for (b = g = 0; b < E.length; ++b) {
                var y = E[b];
                if (a.display && $b(y)) continue;
                var S = y.hasAttribute("data-v") ? y.getAttribute("data-v") : y.hasAttribute("v") ? y.getAttribute("v") : ht(y.innerHTML);
                var _ = y.getAttribute("data-z") || y.getAttribute("z");
                for (h = 0; h < u.length; ++h) {
                    var A = u[h];
                    if (A.s.c == g + i && A.s.r < p + n && p + n <= A.e.r) {
                        g = A.e.c + 1 - i;
                        h = -1
                    }
                }
                k = +y.getAttribute("colspan") || 1;
                if ((w = +y.getAttribute("rowspan") || 1) > 1 || k > 1) u.push(
                    {
                        s:
                        {
                            r: p + n,
                            c: g + i
                        },
                        e:
                        {
                            r: p + n + (w || 1) - 1,
                            c: g + i + (k || 1) - 1
                        }
                    });
                var x = {
                    t: "s",
                    v: S
                };
                var C = y.getAttribute("data-t") || y.getAttribute("t") || "";
                if (S != null) {
                    if (S.length == 0) x.t = C || "z";
                    else if (a.raw || S.trim().length == 0 || C == "s") { }
                    else if (S === "TRUE") x = {
                        t: "b",
                        v: true
                    };
                    else if (S === "FALSE") x = {
                        t: "b",
                        v: false
                    };
                    else if (!isNaN(kr(S))) x = {
                        t: "n",
                        v: kr(S)
                    };
                    else if (!isNaN(Er(S).getDate())) {
                        x = {
                            t: "d",
                            v: mr(S)
                        };
                        if (!a.cellDates) x = {
                            t: "n",
                            v: fr(x.v)
                        };
                        x.z = a.dateNF || X[14]
                    }
                }
                if (x.z === undefined && _ != null) x.z = _;
                var R = "",
                    O = y.getElementsByTagName("A");
                if (O && O.length)
                    for (var I = 0; I < O.length; ++I)
                        if (O[I].hasAttribute("href")) {
                            R = O[I].getAttribute("href");
                            if (R.charAt(0) != "#") break
                        } if (R && R.charAt(0) != "#") x.l = {
                            Target: R
                        };
                if (a.dense) {
                    if (!e[p + n]) e[p + n] = [];
                    e[p + n][g + i] = x
                }
                else e[Oa(
                    {
                        c: g + i,
                        r: p + n
                    })] = x;
                if (c.e.c < g + i) c.e.c = g + i;
                g += k
            } ++p
        }
        if (u.length) e["!merges"] = (e["!merges"] || []).concat(u);
        c.e.r = Math.max(c.e.r, p - 1 + n);
        e["!ref"] = Na(c);
        if (p >= o) e["!fullref"] = Na((c.e.r = f.length - v + p - 1 + n, c));
        return e
    }

    function jb(e, r) {
        var t = r ||
            {};
        var a = t.dense ? [] :
            {};
        return Gb(a, e, r)
    }

    function Xb(e, r) {
        return La(jb(e, r), r)
    }

    function $b(e) {
        var r = "";
        var t = Yb(e);
        if (t) r = t(e).getPropertyValue("display");
        if (!r) r = e.style && e.style.display;
        return r === "none"
    }

    function Yb(e) {
        if (e.ownerDocument.defaultView && typeof e.ownerDocument.defaultView.getComputedStyle === "function") return e.ownerDocument.defaultView.getComputedStyle;
        if (typeof getComputedStyle === "function") return getComputedStyle;
        return null
    }

    function Kb(e) {
        var r = e.replace(/[\t\r\n]/g, " ").trim().replace(/ +/g, " ").replace(/<text:s\/>/g, " ").replace(/<text:s text:c="(\d+)"\/>/g, function (e, r) {
            return Array(parseInt(r, 10) + 1).join(" ")
        }).replace(/<text:tab[^>]*\/>/g, "\t").replace(/<text:line-break\/>/g, "\n");
        var t = Yr(r.replace(/<[^>]*>/g, ""));
        return [t]
    }
    var Jb = {
        day: ["d", "dd"],
        month: ["m", "mm"],
        year: ["y", "yy"],
        hours: ["h", "hh"],
        minutes: ["m", "mm"],
        seconds: ["s", "ss"],
        "am-pm": ["A/P", "AM/PM"],
        "day-of-week": ["ddd", "dddd"],
        era: ["e", "ee"],
        quarter: ["\\Qm", 'm\\"th quarter"']
    };

    function qb(e, r) {
        var t = r ||
            {};
        if (m != null && t.dense == null) t.dense = m;
        var a = yt(e);
        var n = [],
            i;
        var s;
        var f = {
            name: ""
        },
            o = "",
            c = 0;
        var l;
        var u;
        var h = {},
            d = [];
        var v = t.dense ? [] :
            {};
        var p, b;
        var g = {
            value: ""
        };
        var w = "",
            k = 0,
            T;
        var E = [];
        var y = -1,
            S = -1,
            _ = {
                s:
                {
                    r: 1e6,
                    c: 1e7
                },
                e:
                {
                    r: 0,
                    c: 0
                }
            };
        var A = 0;
        var x = {};
        var C = [],
            R = {},
            O = 0,
            I = 0;
        var N = [],
            F = 1,
            D = 1;
        var P = [];
        var L = {
            Names: []
        };
        var M = {};
        var U = ["", ""];
        var B = [],
            W = {};
        var H = "",
            z = 0;
        var V = false,
            G = false;
        var j = 0;
        St.lastIndex = 0;
        a = a.replace(/<!--([\s\S]*?)-->/gm, "").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm, "");
        while (p = St.exec(a)) switch (p[3] = p[3].replace(/_.*$/, "")) {
            case "table":
                ;
            case "å·¥ä½œè¡¨":
                if (p[1] === "/") {
                    if (_.e.c >= _.s.c && _.e.r >= _.s.r) v["!ref"] = Na(_);
                    else v["!ref"] = "A1:A1";
                    if (t.sheetRows > 0 && t.sheetRows <= _.e.r) {
                        v["!fullref"] = v["!ref"];
                        _.e.r = t.sheetRows - 1;
                        v["!ref"] = Na(_)
                    }
                    if (C.length) v["!merges"] = C;
                    if (N.length) v["!rows"] = N;
                    l.name = l["åç§°"] || l.name;
                    if (typeof JSON !== "undefined") JSON.stringify(l);
                    d.push(l.name);
                    h[l.name] = v;
                    G = false
                }
                else if (p[0].charAt(p[0].length - 2) !== "/") {
                    l = Gr(p[0], false);
                    y = S = -1;
                    _.s.r = _.s.c = 1e7;
                    _.e.r = _.e.c = 0;
                    v = t.dense ? [] :
                        {};
                    C = [];
                    N = [];
                    G = true
                }
                break;
            case "table-row-group":
                if (p[1] === "/") --A;
                else ++A;
                break;
            case "table-row":
                ;
            case "è¡Œ":
                if (p[1] === "/") {
                    y += F;
                    F = 1;
                    break
                }
                u = Gr(p[0], false);
                if (u["è¡Œå·"]) y = u["è¡Œå·"] - 1;
                else if (y == -1) y = 0;
                F = +u["number-rows-repeated"] || 1;
                if (F < 10)
                    for (j = 0; j < F; ++j)
                        if (A > 0) N[y + j] = {
                            level: A
                        };
                S = -1;
                break;
            case "covered-table-cell":
                if (p[1] !== "/") ++S;
                if (t.sheetStubs) {
                    if (t.dense) {
                        if (!v[y]) v[y] = [];
                        v[y][S] = {
                            t: "z"
                        }
                    }
                    else v[Oa(
                        {
                            r: y,
                            c: S
                        })] = {
                        t: "z"
                    }
                }
                w = "";
                E = [];
                break;
            case "table-cell":
                ;
            case "æ•°æ®":
                if (p[0].charAt(p[0].length - 2) === "/") {
                    ++S;
                    g = Gr(p[0], false);
                    D = parseInt(g["number-columns-repeated"] || "1", 10);
                    b = {
                        t: "z",
                        v: null
                    };
                    if (g.formula && t.cellFormula != false) b.f = Sd(Yr(g.formula));
                    if ((g["æ•°æ®ç±»åž‹"] || g["value-type"]) == "string") {
                        b.t = "s";
                        b.v = Yr(g["string-value"] || "");
                        if (t.dense) {
                            if (!v[y]) v[y] = [];
                            v[y][S] = b
                        }
                        else {
                            v[Oa(
                                {
                                    r: y,
                                    c: S
                                })] = b
                        }
                    }
                    S += D - 1
                }
                else if (p[1] !== "/") {
                    ++S;
                    w = "";
                    k = 0;
                    E = [];
                    D = 1;
                    var X = F ? y + F - 1 : y;
                    if (S > _.e.c) _.e.c = S;
                    if (S < _.s.c) _.s.c = S;
                    if (y < _.s.r) _.s.r = y;
                    if (X > _.e.r) _.e.r = X;
                    g = Gr(p[0], false);
                    B = [];
                    W = {};
                    b = {
                        t: g["æ•°æ®ç±»åž‹"] || g["value-type"],
                        v: null
                    };
                    if (t.cellFormula) {
                        if (g.formula) g.formula = Yr(g.formula);
                        if (g["number-matrix-columns-spanned"] && g["number-matrix-rows-spanned"]) {
                            O = parseInt(g["number-matrix-rows-spanned"], 10) || 0;
                            I = parseInt(g["number-matrix-columns-spanned"], 10) || 0;
                            R = {
                                s:
                                {
                                    r: y,
                                    c: S
                                },
                                e:
                                {
                                    r: y + O - 1,
                                    c: S + I - 1
                                }
                            };
                            b.F = Na(R);
                            P.push([R, b.F])
                        }
                        if (g.formula) b.f = Sd(g.formula);
                        else
                            for (j = 0; j < P.length; ++j)
                                if (y >= P[j][0].s.r && y <= P[j][0].e.r)
                                    if (S >= P[j][0].s.c && S <= P[j][0].e.c) b.F = P[j][1]
                    }
                    if (g["number-columns-spanned"] || g["number-rows-spanned"]) {
                        O = parseInt(g["number-rows-spanned"], 10) || 0;
                        I = parseInt(g["number-columns-spanned"], 10) || 0;
                        R = {
                            s:
                            {
                                r: y,
                                c: S
                            },
                            e:
                            {
                                r: y + O - 1,
                                c: S + I - 1
                            }
                        };
                        C.push(R)
                    }
                    if (g["number-columns-repeated"]) D = parseInt(g["number-columns-repeated"], 10);
                    switch (b.t) {
                        case "boolean":
                            b.t = "b";
                            b.v = nt(g["boolean-value"]);
                            break;
                        case "float":
                            b.t = "n";
                            b.v = parseFloat(g.value);
                            break;
                        case "percentage":
                            b.t = "n";
                            b.v = parseFloat(g.value);
                            break;
                        case "currency":
                            b.t = "n";
                            b.v = parseFloat(g.value);
                            break;
                        case "date":
                            b.t = "d";
                            b.v = mr(g["date-value"]);
                            if (!t.cellDates) {
                                b.t = "n";
                                b.v = fr(b.v)
                            }
                            b.z = "m/d/yy";
                            break;
                        case "time":
                            b.t = "n";
                            b.v = hr(g["time-value"]) / 86400;
                            if (t.cellDates) {
                                b.t = "d";
                                b.v = ur(b.v)
                            }
                            b.z = "HH:MM:SS";
                            break;
                        case "number":
                            b.t = "n";
                            b.v = parseFloat(g["æ•°æ®æ•°å€¼"]);
                            break;
                        default:
                            if (b.t === "string" || b.t === "text" || !b.t) {
                                b.t = "s";
                                if (g["string-value"] != null) {
                                    w = Yr(g["string-value"]);
                                    E = []
                                }
                            }
                            else throw new Error("Unsupported value type " + b.t);
                    }
                }
                else {
                    V = false;
                    if (b.t === "s") {
                        b.v = w || "";
                        if (E.length) b.R = E;
                        V = k == 0
                    }
                    if (M.Target) b.l = M;
                    if (B.length > 0) {
                        b.c = B;
                        B = []
                    }
                    if (w && t.cellText !== false) b.w = w;
                    if (V) {
                        b.t = "z";
                        delete b.v
                    }
                    if (!V || t.sheetStubs) {
                        if (!(t.sheetRows && t.sheetRows <= y)) {
                            for (var $ = 0; $ < F; ++$) {
                                D = parseInt(g["number-columns-repeated"] || "1", 10);
                                if (t.dense) {
                                    if (!v[y + $]) v[y + $] = [];
                                    v[y + $][S] = $ == 0 ? b : gr(b);
                                    while (--D > 0) v[y + $][S + D] = gr(b)
                                }
                                else {
                                    v[Oa(
                                        {
                                            r: y + $,
                                            c: S
                                        })] = b;
                                    while (--D > 0) v[Oa(
                                        {
                                            r: y + $,
                                            c: S + D
                                        })] = gr(b)
                                }
                                if (_.e.c <= S) _.e.c = S
                            }
                        }
                    }
                    D = parseInt(g["number-columns-repeated"] || "1", 10);
                    S += D - 1;
                    D = 0;
                    b = {};
                    w = "";
                    E = []
                }
                M = {};
                break;
            case "document":
                ;
            case "document-content":
                ;
            case "ç”µå­è¡¨æ ¼æ–‡æ¡£":
                ;
            case "spreadsheet":
                ;
            case "ä¸»ä½“":
                ;
            case "scripts":
                ;
            case "styles":
                ;
            case "font-face-decls":
                ;
            case "master-styles":
                if (p[1] === "/") {
                    if ((i = n.pop())[0] !== p[3]) throw "Bad state: " + i
                }
                else if (p[0].charAt(p[0].length - 2) !== "/") n.push([p[3], true]);
                break;
            case "annotation":
                if (p[1] === "/") {
                    if ((i = n.pop())[0] !== p[3]) throw "Bad state: " + i;
                    W.t = w;
                    if (E.length) W.R = E;
                    W.a = H;
                    B.push(W)
                }
                else if (p[0].charAt(p[0].length - 2) !== "/") {
                    n.push([p[3], false])
                }
                H = "";
                z = 0;
                w = "";
                k = 0;
                E = [];
                break;
            case "creator":
                if (p[1] === "/") {
                    H = a.slice(z, p.index)
                }
                else z = p.index + p[0].length;
                break;
            case "meta":
                ;
            case "å…ƒæ•°æ®":
                ;
            case "settings":
                ;
            case "config-item-set":
                ;
            case "config-item-map-indexed":
                ;
            case "config-item-map-entry":
                ;
            case "config-item-map-named":
                ;
            case "shapes":
                ;
            case "frame":
                ;
            case "text-box":
                ;
            case "image":
                ;
            case "data-pilot-tables":
                ;
            case "list-style":
                ;
            case "form":
                ;
            case "dde-links":
                ;
            case "event-listeners":
                ;
            case "chart":
                if (p[1] === "/") {
                    if ((i = n.pop())[0] !== p[3]) throw "Bad state: " + i
                }
                else if (p[0].charAt(p[0].length - 2) !== "/") n.push([p[3], false]);
                w = "";
                k = 0;
                E = [];
                break;
            case "scientific-number":
                break;
            case "currency-symbol":
                break;
            case "currency-style":
                break;
            case "number-style":
                ;
            case "percentage-style":
                ;
            case "date-style":
                ;
            case "time-style":
                if (p[1] === "/") {
                    x[f.name] = o;
                    if ((i = n.pop())[0] !== p[3]) throw "Bad state: " + i
                }
                else if (p[0].charAt(p[0].length - 2) !== "/") {
                    o = "";
                    f = Gr(p[0], false);
                    n.push([p[3], true])
                }
                break;
            case "script":
                break;
            case "libraries":
                break;
            case "automatic-styles":
                break;
            case "default-style":
                ;
            case "page-layout":
                break;
            case "style":
                break;
            case "map":
                break;
            case "font-face":
                break;
            case "paragraph-properties":
                break;
            case "table-properties":
                break;
            case "table-column-properties":
                break;
            case "table-row-properties":
                break;
            case "table-cell-properties":
                break;
            case "number":
                switch (n[n.length - 1][0]) {
                    case "time-style":
                        ;
                    case "date-style":
                        s = Gr(p[0], false);
                        o += Jb[p[3]][s.style === "long" ? 1 : 0];
                        break;
                }
                break;
            case "fraction":
                break;
            case "day":
                ;
            case "month":
                ;
            case "year":
                ;
            case "era":
                ;
            case "day-of-week":
                ;
            case "week-of-year":
                ;
            case "quarter":
                ;
            case "hours":
                ;
            case "minutes":
                ;
            case "seconds":
                ;
            case "am-pm":
                switch (n[n.length - 1][0]) {
                    case "time-style":
                        ;
                    case "date-style":
                        s = Gr(p[0], false);
                        o += Jb[p[3]][s.style === "long" ? 1 : 0];
                        break;
                }
                break;
            case "boolean-style":
                break;
            case "boolean":
                break;
            case "text-style":
                break;
            case "text":
                if (p[0].slice(-2) === "/>") break;
                else if (p[1] === "/") switch (n[n.length - 1][0]) {
                    case "number-style":
                        ;
                    case "date-style":
                        ;
                    case "time-style":
                        o += a.slice(c, p.index);
                        break;
                }
                else c = p.index + p[0].length;
                break;
            case "named-range":
                s = Gr(p[0], false);
                U = Ad(s["cell-range-address"]);
                var Y = {
                    Name: s.name,
                    Ref: U[0] + "!" + U[1]
                };
                if (G) Y.Sheet = d.length;
                L.Names.push(Y);
                break;
            case "text-content":
                break;
            case "text-properties":
                break;
            case "embedded-text":
                break;
            case "body":
                ;
            case "ç”µå­è¡¨æ ¼":
                break;
            case "forms":
                break;
            case "table-column":
                break;
            case "table-header-rows":
                break;
            case "table-rows":
                break;
            case "table-column-group":
                break;
            case "table-header-columns":
                break;
            case "table-columns":
                break;
            case "null-date":
                break;
            case "graphic-properties":
                break;
            case "calculation-settings":
                break;
            case "named-expressions":
                break;
            case "label-range":
                break;
            case "label-ranges":
                break;
            case "named-expression":
                break;
            case "sort":
                break;
            case "sort-by":
                break;
            case "sort-groups":
                break;
            case "tab":
                break;
            case "line-break":
                break;
            case "span":
                break;
            case "p":
                ;
            case "æ–‡æœ¬ä¸²":
                if (["master-styles"].indexOf(n[n.length - 1][0]) > -1) break;
                if (p[1] === "/" && (!g || !g["string-value"])) {
                    var K = Kb(a.slice(k, p.index), T);
                    w = (w.length > 0 ? w + "\n" : "") + K[0]
                }
                else {
                    T = Gr(p[0], false);
                    k = p.index + p[0].length
                }
                break;
            case "s":
                break;
            case "database-range":
                if (p[1] === "/") break;
                try {
                    U = Ad(Gr(p[0])["target-range-address"]);
                    h[U[0]]["!autofilter"] = {
                        ref: U[1]
                    }
                }
                catch (J) { }
                break;
            case "date":
                break;
            case "object":
                break;
            case "title":
                ;
            case "æ ‡é¢˜":
                break;
            case "desc":
                break;
            case "binary-data":
                break;
            case "table-source":
                break;
            case "scenario":
                break;
            case "iteration":
                break;
            case "content-validations":
                break;
            case "content-validation":
                break;
            case "help-message":
                break;
            case "error-message":
                break;
            case "database-ranges":
                break;
            case "filter":
                break;
            case "filter-and":
                break;
            case "filter-or":
                break;
            case "filter-condition":
                break;
            case "list-level-style-bullet":
                break;
            case "list-level-style-number":
                break;
            case "list-level-properties":
                break;
            case "sender-firstname":
                ;
            case "sender-lastname":
                ;
            case "sender-initials":
                ;
            case "sender-title":
                ;
            case "sender-position":
                ;
            case "sender-email":
                ;
            case "sender-phone-private":
                ;
            case "sender-fax":
                ;
            case "sender-company":
                ;
            case "sender-phone-work":
                ;
            case "sender-street":
                ;
            case "sender-city":
                ;
            case "sender-postal-code":
                ;
            case "sender-country":
                ;
            case "sender-state-or-province":
                ;
            case "author-name":
                ;
            case "author-initials":
                ;
            case "chapter":
                ;
            case "file-name":
                ;
            case "template-name":
                ;
            case "sheet-name":
                break;
            case "event-listener":
                break;
            case "initial-creator":
                ;
            case "creation-date":
                ;
            case "print-date":
                ;
            case "generator":
                ;
            case "document-statistic":
                ;
            case "user-defined":
                ;
            case "editing-duration":
                ;
            case "editing-cycles":
                break;
            case "config-item":
                break;
            case "page-number":
                break;
            case "page-count":
                break;
            case "time":
                break;
            case "cell-range-source":
                break;
            case "detective":
                break;
            case "operation":
                break;
            case "highlighted-range":
                break;
            case "data-pilot-table":
                ;
            case "source-cell-range":
                ;
            case "source-service":
                ;
            case "data-pilot-field":
                ;
            case "data-pilot-level":
                ;
            case "data-pilot-subtotals":
                ;
            case "data-pilot-subtotal":
                ;
            case "data-pilot-members":
                ;
            case "data-pilot-member":
                ;
            case "data-pilot-display-info":
                ;
            case "data-pilot-sort-info":
                ;
            case "data-pilot-layout-info":
                ;
            case "data-pilot-field-reference":
                ;
            case "data-pilot-groups":
                ;
            case "data-pilot-group":
                ;
            case "data-pilot-group-member":
                break;
            case "rect":
                break;
            case "dde-connection-decls":
                ;
            case "dde-connection-decl":
                ;
            case "dde-link":
                ;
            case "dde-source":
                break;
            case "properties":
                break;
            case "property":
                break;
            case "a":
                if (p[1] !== "/") {
                    M = Gr(p[0], false);
                    if (!M.href) break;
                    M.Target = Yr(M.href);
                    delete M.href;
                    if (M.Target.charAt(0) == "#" && M.Target.indexOf(".") > -1) {
                        U = Ad(M.Target.slice(1));
                        M.Target = "#" + U[0] + "!" + U[1]
                    }
                    else if (M.Target.match(/^\.\.[\\\/]/)) M.Target = M.Target.slice(3)
                }
                break;
            case "table-protection":
                break;
            case "data-pilot-grand-total":
                break;
            case "office-document-common-attrs":
                break;
            default:
                switch (p[2]) {
                    case "dc:":
                        ;
                    case "calcext:":
                        ;
                    case "loext:":
                        ;
                    case "ooo:":
                        ;
                    case "chartooo:":
                        ;
                    case "draw:":
                        ;
                    case "style:":
                        ;
                    case "chart:":
                        ;
                    case "form:":
                        ;
                    case "uof:":
                        ;
                    case "è¡¨:":
                        ;
                    case "å­—:":
                        break;
                    default:
                        if (t.WTF) throw new Error(p);
                };
        }
        var q = {
            Sheets: h,
            SheetNames: d,
            Workbook: L
        };
        if (t.bookSheets) delete q.Sheets;
        return q
    }

    function Zb(e, r) {
        r = r ||
            {};
        if (xr(e, "META-INF/manifest.xml")) ai(Rr(e, "META-INF/manifest.xml"), r);
        var t = Or(e, "content.xml");
        if (!t) throw new Error("Missing content.xml in ODS / UOF file");
        var a = qb(ct(t), r);
        if (xr(e, "meta.xml")) a.Props = ui(Rr(e, "meta.xml"));
        return a
    }

    function Qb(e, r) {
        return qb(e, r)
    }
    var eg = function () {
        var e = ["<office:master-styles>", '<style:master-page style:name="mp1" style:page-layout-name="mp1">', "<style:header/>", '<style:header-left style:display="false"/>', "<style:footer/>", '<style:footer-left style:display="false"/>', "</style:master-page>", "</office:master-styles>"].join("");
        var r = "<office:document-styles " + wt(
            {
                "xmlns:office": "urn:oasis:names:tc:opendocument:xmlns:office:1.0",
                "xmlns:table": "urn:oasis:names:tc:opendocument:xmlns:table:1.0",
                "xmlns:style": "urn:oasis:names:tc:opendocument:xmlns:style:1.0",
                "xmlns:text": "urn:oasis:names:tc:opendocument:xmlns:text:1.0",
                "xmlns:draw": "urn:oasis:names:tc:opendocument:xmlns:drawing:1.0",
                "xmlns:fo": "urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0",
                "xmlns:xlink": "http://www.w3.org/1999/xlink",
                "xmlns:dc": "http://purl.org/dc/elements/1.1/",
                "xmlns:number": "urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0",
                "xmlns:svg": "urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0",
                "xmlns:of": "urn:oasis:names:tc:opendocument:xmlns:of:1.2",
                "office:version": "1.2"
            }) + ">" + e + "</office:document-styles>";
        return function t() {
            return Mr + r
        }
    }();
    var rg = function () {
        var e = function (e) {
            return qr(e).replace(/  +/g, function (e) {
                return '<text:s text:c="' + e.length + '"/>'
            }).replace(/\t/g, "<text:tab/>").replace(/\n/g, "</text:p><text:p>").replace(/^ /, "<text:s/>").replace(/ $/, "<text:s/>")
        };
        var r = "          <table:table-cell />\n";
        var t = "          <table:covered-table-cell/>\n";
        var a = function (a, n, i) {
            var s = [];
            s.push('      <table:table table:name="' + qr(n.SheetNames[i]) + '" table:style-name="ta1">\n');
            var f = 0,
                o = 0,
                c = Ia(a["!ref"] || "A1");
            var l = a["!merges"] || [],
                u = 0;
            var h = Array.isArray(a);
            if (a["!cols"]) {
                for (o = 0; o <= c.e.c; ++o) s.push("        <table:table-column" + (a["!cols"][o] ? ' table:style-name="co' + a["!cols"][o].ods + '"' : "") + "></table:table-column>\n")
            }
            var d = "",
                v = a["!rows"] || [];
            for (f = 0; f < c.s.r; ++f) {
                d = v[f] ? ' table:style-name="ro' + v[f].ods + '"' : "";
                s.push("        <table:table-row" + d + "></table:table-row>\n")
            }
            for (; f <= c.e.r; ++f) {
                d = v[f] ? ' table:style-name="ro' + v[f].ods + '"' : "";
                s.push("        <table:table-row" + d + ">\n");
                for (o = 0; o < c.s.c; ++o) s.push(r);
                for (; o <= c.e.c; ++o) {
                    var p = false,
                        m = {},
                        b = "";
                    for (u = 0; u != l.length; ++u) {
                        if (l[u].s.c > o) continue;
                        if (l[u].s.r > f) continue;
                        if (l[u].e.c < o) continue;
                        if (l[u].e.r < f) continue;
                        if (l[u].s.c != o || l[u].s.r != f) p = true;
                        m["table:number-columns-spanned"] = l[u].e.c - l[u].s.c + 1;
                        m["table:number-rows-spanned"] = l[u].e.r - l[u].s.r + 1;
                        break
                    }
                    if (p) {
                        s.push(t);
                        continue
                    }
                    var g = Oa(
                        {
                            r: f,
                            c: o
                        }),
                        w = h ? (a[f] || [])[o] : a[g];
                    if (w && w.f) {
                        m["table:formula"] = qr(_d(w.f));
                        if (w.F) {
                            if (w.F.slice(0, g.length) == g) {
                                var k = Ia(w.F);
                                m["table:number-matrix-columns-spanned"] = k.e.c - k.s.c + 1;
                                m["table:number-matrix-rows-spanned"] = k.e.r - k.s.r + 1
                            }
                        }
                    }
                    if (!w) {
                        s.push(r);
                        continue
                    }
                    switch (w.t) {
                        case "b":
                            b = w.v ? "TRUE" : "FALSE";
                            m["office:value-type"] = "boolean";
                            m["office:boolean-value"] = w.v ? "true" : "false";
                            break;
                        case "n":
                            b = w.w || String(w.v || 0);
                            m["office:value-type"] = "float";
                            m["office:value"] = w.v || 0;
                            break;
                        case "s":
                            ;
                        case "str":
                            b = w.v == null ? "" : w.v;
                            m["office:value-type"] = "string";
                            break;
                        case "d":
                            b = w.w || mr(w.v).toISOString();
                            m["office:value-type"] = "date";
                            m["office:date-value"] = mr(w.v).toISOString();
                            m["table:style-name"] = "ce1";
                            break;
                        default:
                            s.push(r);
                            continue;
                    }
                    var T = e(b);
                    if (w.l && w.l.Target) {
                        var E = w.l.Target;
                        E = E.charAt(0) == "#" ? "#" + xd(E.slice(1)) : E;
                        if (E.charAt(0) != "#" && !E.match(/^\w+:/)) E = "../" + E;
                        T = kt("text:a", T,
                            {
                                "xlink:href": E.replace(/&/g, "&amp;")
                            })
                    }
                    s.push("          " + kt("table:table-cell", kt("text:p", T,
                        {}), m) + "\n")
                }
                s.push("        </table:table-row>\n")
            }
            s.push("      </table:table>\n");
            return s.join("")
        };
        var n = function (e, r) {
            e.push(" <office:automatic-styles>\n");
            e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n');
            e.push('   <number:month number:style="long"/>\n');
            e.push("   <number:text>/</number:text>\n");
            e.push('   <number:day number:style="long"/>\n');
            e.push("   <number:text>/</number:text>\n");
            e.push("   <number:year/>\n");
            e.push("  </number:date-style>\n");
            var t = 0;
            r.SheetNames.map(function (e) {
                return r.Sheets[e]
            }).forEach(function (r) {
                if (!r) return;
                if (r["!cols"]) {
                    for (var a = 0; a < r["!cols"].length; ++a)
                        if (r["!cols"][a]) {
                            var n = r["!cols"][a];
                            if (n.width == null && n.wpx == null && n.wch == null) continue;
                            Ic(n);
                            n.ods = t;
                            var i = r["!cols"][a].wpx + "px";
                            e.push('  <style:style style:name="co' + t + '" style:family="table-column">\n');
                            e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="' + i + '"/>\n');
                            e.push("  </style:style>\n");
                            ++t
                        }
                }
            });
            var a = 0;
            r.SheetNames.map(function (e) {
                return r.Sheets[e]
            }).forEach(function (r) {
                if (!r) return;
                if (r["!rows"]) {
                    for (var t = 0; t < r["!rows"].length; ++t)
                        if (r["!rows"][t]) {
                            r["!rows"][t].ods = a;
                            var n = r["!rows"][t].hpx + "px";
                            e.push('  <style:style style:name="ro' + a + '" style:family="table-row">\n');
                            e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="' + n + '"/>\n');
                            e.push("  </style:style>\n");
                            ++a
                        }
                }
            });
            e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n');
            e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n');
            e.push("  </style:style>\n");
            e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n');
            e.push(" </office:automatic-styles>\n")
        };
        return function i(e, r) {
            var t = [Mr];
            var i = wt(
                {
                    "xmlns:office": "urn:oasis:names:tc:opendocument:xmlns:office:1.0",
                    "xmlns:table": "urn:oasis:names:tc:opendocument:xmlns:table:1.0",
                    "xmlns:style": "urn:oasis:names:tc:opendocument:xmlns:style:1.0",
                    "xmlns:text": "urn:oasis:names:tc:opendocument:xmlns:text:1.0",
                    "xmlns:draw": "urn:oasis:names:tc:opendocument:xmlns:drawing:1.0",
                    "xmlns:fo": "urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0",
                    "xmlns:xlink": "http://www.w3.org/1999/xlink",
                    "xmlns:dc": "http://purl.org/dc/elements/1.1/",
                    "xmlns:meta": "urn:oasis:names:tc:opendocument:xmlns:meta:1.0",
                    "xmlns:number": "urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0",
                    "xmlns:presentation": "urn:oasis:names:tc:opendocument:xmlns:presentation:1.0",
                    "xmlns:svg": "urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0",
                    "xmlns:chart": "urn:oasis:names:tc:opendocument:xmlns:chart:1.0",
                    "xmlns:dr3d": "urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0",
                    "xmlns:math": "http://www.w3.org/1998/Math/MathML",
                    "xmlns:form": "urn:oasis:names:tc:opendocument:xmlns:form:1.0",
                    "xmlns:script": "urn:oasis:names:tc:opendocument:xmlns:script:1.0",
                    "xmlns:ooo": "http://openoffice.org/2004/office",
                    "xmlns:ooow": "http://openoffice.org/2004/writer",
                    "xmlns:oooc": "http://openoffice.org/2004/calc",
                    "xmlns:dom": "http://www.w3.org/2001/xml-events",
                    "xmlns:xforms": "http://www.w3.org/2002/xforms",
                    "xmlns:xsd": "http://www.w3.org/2001/XMLSchema",
                    "xmlns:xsi": "http://www.w3.org/2001/XMLSchema-instance",
                    "xmlns:sheet": "urn:oasis:names:tc:opendocument:sh33tjs:1.0",
                    "xmlns:rpt": "http://openoffice.org/2005/report",
                    "xmlns:of": "urn:oasis:names:tc:opendocument:xmlns:of:1.2",
                    "xmlns:xhtml": "http://www.w3.org/1999/xhtml",
                    "xmlns:grddl": "http://www.w3.org/2003/g/data-view#",
                    "xmlns:tableooo": "http://openoffice.org/2009/table",
                    "xmlns:drawooo": "http://openoffice.org/2010/draw",
                    "xmlns:calcext": "urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0",
                    "xmlns:loext": "urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0",
                    "xmlns:field": "urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0",
                    "xmlns:formx": "urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0",
                    "xmlns:css3t": "http://www.w3.org/TR/css3-text/",
                    "office:version": "1.2"
                });
            var s = wt(
                {
                    "xmlns:config": "urn:oasis:names:tc:opendocument:xmlns:config:1.0",
                    "office:mimetype": "application/vnd.oasis.opendocument.spreadsheet"
                });
            if (r.bookType == "fods") {
                t.push("<office:document" + i + s + ">\n");
                t.push(oi().replace(/office:document-meta/g, "office:meta"))
            }
            else t.push("<office:document-content" + i + ">\n");
            n(t, e);
            t.push("  <office:body>\n");
            t.push("    <office:spreadsheet>\n");
            for (var f = 0; f != e.SheetNames.length; ++f) t.push(a(e.Sheets[e.SheetNames[f]], e, f, r));
            t.push("    </office:spreadsheet>\n");
            t.push("  </office:body>\n");
            if (r.bookType == "fods") t.push("</office:document>");
            else t.push("</office:document-content>");
            return t.join("")
        }
    }();

    function tg(e, r) {
        if (r.bookType == "fods") return rg(e, r);
        var t = Dr();
        var a = "";
        var n = [];
        var i = [];
        a = "mimetype";
        Fr(t, a, "application/vnd.oasis.opendocument.spreadsheet");
        a = "content.xml";
        Fr(t, a, rg(e, r));
        n.push([a, "text/xml"]);
        i.push([a, "ContentFile"]);
        a = "styles.xml";
        Fr(t, a, eg(e, r));
        n.push([a, "text/xml"]);
        i.push([a, "StylesFile"]);
        a = "meta.xml";
        Fr(t, a, Mr + oi());
        n.push([a, "text/xml"]);
        i.push([a, "MetadataFile"]);
        a = "manifest.rdf";
        Fr(t, a, fi(i));
        n.push([a, "application/rdf+xml"]);
        a = "META-INF/manifest.xml";
        Fr(t, a, ni(n));
        return t
    }

    function ag(e) {
        return new DataView(e.buffer, e.byteOffset, e.byteLength)
    }

    function ng(e) {
        return typeof TextDecoder != "undefined" ? (new TextDecoder).decode(e) : ct(x(e))
    }

    function ig(e) {
        return typeof TextEncoder != "undefined" ? (new TextEncoder).encode(e) : _(lt(e))
    }

    function sg(e, r) {
        e: for (var t = 0; t <= e.length - r.length; ++t) {
            for (var a = 0; a < r.length; ++a)
                if (e[t + a] != r[a]) continue e;
            return true
        }
        return false
    }

    function fg(e) {
        var r = e.reduce(function (e, r) {
            return e + r.length
        }, 0);
        var t = new Uint8Array(r);
        var a = 0;
        e.forEach(function (e) {
            t.set(e, a);
            a += e.length
        });
        return t
    }

    function og(e) {
        e -= e >> 1 & 1431655765;
        e = (e & 858993459) + (e >> 2 & 858993459);
        return (e + (e >> 4) & 252645135) * 16843009 >>> 24
    }

    function cg(e, r) {
        var t = (e[r + 15] & 127) << 7 | e[r + 14] >> 1;
        var a = e[r + 14] & 1;
        for (var n = r + 13; n >= r; --n) a = a * 256 + e[n];
        return (e[r + 15] & 128 ? -a : a) * Math.pow(10, t - 6176)
    }

    function lg(e, r, t) {
        var a = Math.floor(t == 0 ? 0 : Math.LOG10E * Math.log(Math.abs(t))) + 6176 - 20;
        var n = t / Math.pow(10, a - 6176);
        e[r + 15] |= a >> 7;
        e[r + 14] |= (a & 127) << 1;
        for (var i = 0; n >= 1; ++i, n /= 256) e[r + i] = n & 255;
        e[r + 15] |= t >= 0 ? 0 : 128
    }

    function ug(e, r) {
        var t = r ? r[0] : 0;
        var a = e[t] & 127;
        e: if (e[t++] >= 128) {
            a |= (e[t] & 127) << 7;
            if (e[t++] < 128) break e;
            a |= (e[t] & 127) << 14;
            if (e[t++] < 128) break e;
            a |= (e[t] & 127) << 21;
            if (e[t++] < 128) break e;
            a += (e[t] & 127) * Math.pow(2, 28);
            ++t;
            if (e[t++] < 128) break e;
            a += (e[t] & 127) * Math.pow(2, 35);
            ++t;
            if (e[t++] < 128) break e;
            a += (e[t] & 127) * Math.pow(2, 42);
            ++t;
            if (e[t++] < 128) break e
        }
        if (r) r[0] = t;
        return a
    }

    function hg(e) {
        var r = new Uint8Array(7);
        r[0] = e & 127;
        var t = 1;
        e: if (e > 127) {
            r[t - 1] |= 128;
            r[t] = e >> 7 & 127;
            ++t;
            if (e <= 16383) break e;
            r[t - 1] |= 128;
            r[t] = e >> 14 & 127;
            ++t;
            if (e <= 2097151) break e;
            r[t - 1] |= 128;
            r[t] = e >> 21 & 127;
            ++t;
            if (e <= 268435455) break e;
            r[t - 1] |= 128;
            r[t] = e / 256 >>> 21 & 127;
            ++t;
            if (e <= 34359738367) break e;
            r[t - 1] |= 128;
            r[t] = e / 65536 >>> 21 & 127;
            ++t;
            if (e <= 4398046511103) break e;
            r[t - 1] |= 128;
            r[t] = e / 16777216 >>> 21 & 127;
            ++t
        }
        return r.slice(0, t)
    }

    function dg(e) {
        var r = 0,
            t = e[r] & 127;
        e: if (e[r++] >= 128) {
            t |= (e[r] & 127) << 7;
            if (e[r++] < 128) break e;
            t |= (e[r] & 127) << 14;
            if (e[r++] < 128) break e;
            t |= (e[r] & 127) << 21;
            if (e[r++] < 128) break e;
            t |= (e[r] & 127) << 28
        }
        return t
    }

    function vg(e) {
        var r = [],
            t = [0];
        while (t[0] < e.length) {
            var a = t[0];
            var n = ug(e, t);
            var i = n & 7;
            n = Math.floor(n / 8);
            var s = 0;
            var f;
            if (n == 0) break;
            switch (i) {
                case 0:
                    {
                        var o = t[0];
                        while (e[t[0]++] >= 128);
                        f = e.slice(o, t[0])
                    }
                    break;
                case 5:
                    s = 4;
                    f = e.slice(t[0], t[0] + s);
                    t[0] += s;
                    break;
                case 1:
                    s = 8;
                    f = e.slice(t[0], t[0] + s);
                    t[0] += s;
                    break;
                case 2:
                    s = ug(e, t);
                    f = e.slice(t[0], t[0] + s);
                    t[0] += s;
                    break;
                case 3:
                    ;
                case 4:
                    ;
                default:
                    throw new Error("PB Type ".concat(i, " for Field ").concat(n, " at offset ").concat(a));
            }
            var c = {
                data: f,
                type: i
            };
            if (r[n] == null) r[n] = [c];
            else r[n].push(c)
        }
        return r
    }

    function pg(e) {
        var r = [];
        e.forEach(function (e, t) {
            e.forEach(function (e) {
                if (!e.data) return;
                r.push(hg(t * 8 + e.type));
                if (e.type == 2) r.push(hg(e.data.length));
                r.push(e.data)
            })
        });
        return fg(r)
    }

    function mg(e, r) {
        return (e == null ? void 0 : e.map(function (e) {
            return r(e.data)
        })) || []
    }

    function bg(e) {
        var r;
        var t = [],
            a = [0];
        while (a[0] < e.length) {
            var n = ug(e, a);
            var i = vg(e.slice(a[0], a[0] + n));
            a[0] += n;
            var s = {
                id: dg(i[1][0].data),
                messages: []
            };
            i[2].forEach(function (r) {
                var t = vg(r.data);
                var n = dg(t[3][0].data);
                s.messages.push(
                    {
                        meta: t,
                        data: e.slice(a[0], a[0] + n)
                    });
                a[0] += n
            });
            if ((r = i[3]) == null ? void 0 : r[0]) s.merge = dg(i[3][0].data) >>> 0 > 0;
            t.push(s)
        }
        return t
    }

    function gg(e) {
        var r = [];
        e.forEach(function (e) {
            var t = [];
            t[1] = [
                {
                    data: hg(e.id),
                    type: 0
                }];
            t[2] = [];
            if (e.merge != null) t[3] = [
                {
                    data: hg(+!!e.merge),
                    type: 0
                }];
            var a = [];
            e.messages.forEach(function (e) {
                a.push(e.data);
                e.meta[3] = [
                    {
                        type: 0,
                        data: hg(e.data.length)
                    }];
                t[2].push(
                    {
                        data: pg(e.meta),
                        type: 2
                    })
            });
            var n = pg(t);
            r.push(hg(n.length));
            r.push(n);
            a.forEach(function (e) {
                return r.push(e)
            })
        });
        return fg(r)
    }

    function wg(e, r) {
        if (e != 0) throw new Error("Unexpected Snappy chunk type ".concat(e));
        var t = [0];
        var a = ug(r, t);
        var n = [];
        while (t[0] < r.length) {
            var i = r[t[0]] & 3;
            if (i == 0) {
                var s = r[t[0]++] >> 2;
                if (s < 60) ++s;
                else {
                    var f = s - 59;
                    s = r[t[0]];
                    if (f > 1) s |= r[t[0] + 1] << 8;
                    if (f > 2) s |= r[t[0] + 2] << 16;
                    if (f > 3) s |= r[t[0] + 3] << 24;
                    s >>>= 0;
                    s++;
                    t[0] += f
                }
                n.push(r.slice(t[0], t[0] + s));
                t[0] += s;
                continue
            }
            else {
                var o = 0,
                    c = 0;
                if (i == 1) {
                    c = (r[t[0]] >> 2 & 7) + 4;
                    o = (r[t[0]++] & 224) << 3;
                    o |= r[t[0]++]
                }
                else {
                    c = (r[t[0]++] >> 2) + 1;
                    if (i == 2) {
                        o = r[t[0]] | r[t[0] + 1] << 8;
                        t[0] += 2
                    }
                    else {
                        o = (r[t[0]] | r[t[0] + 1] << 8 | r[t[0] + 2] << 16 | r[t[0] + 3] << 24) >>> 0;
                        t[0] += 4
                    }
                }
                n = [fg(n)];
                if (o == 0) throw new Error("Invalid offset 0");
                if (o > n[0].length) throw new Error("Invalid offset beyond length");
                if (c >= o) {
                    n.push(n[0].slice(-o));
                    c -= o;
                    while (c >= n[n.length - 1].length) {
                        n.push(n[n.length - 1]);
                        c -= n[n.length - 1].length
                    }
                }
                n.push(n[0].slice(-o, -o + c))
            }
        }
        var l = fg(n);
        if (l.length != a) throw new Error("Unexpected length: ".concat(l.length, " != ").concat(a));
        return l
    }

    function kg(e) {
        var r = [];
        var t = 0;
        while (t < e.length) {
            var a = e[t++];
            var n = e[t] | e[t + 1] << 8 | e[t + 2] << 16;
            t += 3;
            r.push(wg(a, e.slice(t, t + n)));
            t += n
        }
        if (t !== e.length) throw new Error("data is not a valid framed stream!");
        return fg(r)
    }

    function Tg(e) {
        var r = [];
        var t = 0;
        while (t < e.length) {
            var a = Math.min(e.length - t, 268435455);
            var n = new Uint8Array(4);
            r.push(n);
            var i = hg(a);
            var s = i.length;
            r.push(i);
            if (a <= 60) {
                s++;
                r.push(new Uint8Array([a - 1 << 2]))
            }
            else if (a <= 256) {
                s += 2;
                r.push(new Uint8Array([240, a - 1 & 255]))
            }
            else if (a <= 65536) {
                s += 3;
                r.push(new Uint8Array([244, a - 1 & 255, a - 1 >> 8 & 255]))
            }
            else if (a <= 16777216) {
                s += 4;
                r.push(new Uint8Array([248, a - 1 & 255, a - 1 >> 8 & 255, a - 1 >> 16 & 255]))
            }
            else if (a <= 4294967296) {
                s += 5;
                r.push(new Uint8Array([252, a - 1 & 255, a - 1 >> 8 & 255, a - 1 >> 16 & 255, a - 1 >>> 24 & 255]))
            }
            r.push(e.slice(t, t + a));
            s += a;
            n[0] = 0;
            n[1] = s & 255;
            n[2] = s >> 8 & 255;
            n[3] = s >> 16 & 255;
            t += a
        }
        return fg(r)
    }

    function Eg(e, r, t, a) {
        var n = ag(e);
        var i = n.getUint32(4, true);
        var s = (a > 1 ? 12 : 8) + og(i & (a > 1 ? 3470 : 398)) * 4;
        var f = -1,
            o = -1,
            c = NaN,
            l = new Date(2001, 0, 1);
        if (i & 512) {
            f = n.getUint32(s, true);
            s += 4
        }
        s += og(i & (a > 1 ? 12288 : 4096)) * 4;
        if (i & 16) {
            o = n.getUint32(s, true);
            s += 4
        }
        if (i & 32) {
            c = n.getFloat64(s, true);
            s += 8
        }
        if (i & 64) {
            l.setTime(l.getTime() + n.getFloat64(s, true) * 1e3);
            s += 8
        }
        var u;
        switch (e[2]) {
            case 0:
                break;
            case 2:
                u = {
                    t: "n",
                    v: c
                };
                break;
            case 3:
                u = {
                    t: "s",
                    v: r[o]
                };
                break;
            case 5:
                u = {
                    t: "d",
                    v: l
                };
                break;
            case 6:
                u = {
                    t: "b",
                    v: c > 0
                };
                break;
            case 7:
                u = {
                    t: "n",
                    v: c / 86400
                };
                break;
            case 8:
                u = {
                    t: "e",
                    v: 0
                };
                break;
            case 9:
                {
                    if (f > -1) u = {
                        t: "s",
                        v: t[f]
                    };
                    else if (o > -1) u = {
                        t: "s",
                        v: r[o]
                    };
                    else if (!isNaN(c)) u = {
                        t: "n",
                        v: c
                    };
                    else throw new Error("Unsupported cell type ".concat(e.slice(0, 4)))
                }
                break;
            default:
                throw new Error("Unsupported cell type ".concat(e.slice(0, 4)));
        }
        return u
    }

    function yg(e, r, t) {
        var a = ag(e);
        var n = a.getUint32(8, true);
        var i = 12;
        var s = -1,
            f = -1,
            o = NaN,
            c = NaN,
            l = new Date(2001, 0, 1);
        if (n & 1) {
            o = cg(e, i);
            i += 16
        }
        if (n & 2) {
            c = a.getFloat64(i, true);
            i += 8
        }
        if (n & 4) {
            l.setTime(l.getTime() + a.getFloat64(i, true) * 1e3);
            i += 8
        }
        if (n & 8) {
            f = a.getUint32(i, true);
            i += 4
        }
        if (n & 16) {
            s = a.getUint32(i, true);
            i += 4
        }
        var u;
        switch (e[1]) {
            case 0:
                break;
            case 2:
                u = {
                    t: "n",
                    v: o
                };
                break;
            case 3:
                u = {
                    t: "s",
                    v: r[f]
                };
                break;
            case 5:
                u = {
                    t: "d",
                    v: l
                };
                break;
            case 6:
                u = {
                    t: "b",
                    v: c > 0
                };
                break;
            case 7:
                u = {
                    t: "n",
                    v: c / 86400
                };
                break;
            case 8:
                u = {
                    t: "e",
                    v: 0
                };
                break;
            case 9:
                {
                    if (s > -1) u = {
                        t: "s",
                        v: t[s]
                    };
                    else throw new Error("Unsupported cell type ".concat(e[1], " : ").concat(n & 31, " : ").concat(e.slice(0, 4)))
                }
                break;
            case 10:
                u = {
                    t: "n",
                    v: o
                };
                break;
            default:
                throw new Error("Unsupported cell type ".concat(e[1], " : ").concat(n & 31, " : ").concat(e.slice(0, 4)));
        }
        return u
    }

    function Sg(e, r) {
        var t = new Uint8Array(32),
            a = ag(t),
            n = 12,
            i = 0;
        t[0] = 5;
        switch (e.t) {
            case "n":
                t[1] = 2;
                lg(t, n, e.v);
                i |= 1;
                n += 16;
                break;
            case "b":
                t[1] = 6;
                a.setFloat64(n, e.v ? 1 : 0, true);
                i |= 2;
                n += 8;
                break;
            case "s":
                if (r.indexOf(e.v) == -1) throw new Error("Value ".concat(e.v, " missing from SST!"));
                t[1] = 3;
                a.setUint32(n, r.indexOf(e.v), true);
                i |= 8;
                n += 4;
                break;
            default:
                throw "unsupported cell type " + e.t;
        }
        a.setUint32(8, i, true);
        return t.slice(0, n)
    }

    function _g(e, r) {
        var t = new Uint8Array(32),
            a = ag(t),
            n = 12,
            i = 0;
        t[0] = 3;
        switch (e.t) {
            case "n":
                t[2] = 2;
                a.setFloat64(n, e.v, true);
                i |= 32;
                n += 8;
                break;
            case "b":
                t[2] = 6;
                a.setFloat64(n, e.v ? 1 : 0, true);
                i |= 32;
                n += 8;
                break;
            case "s":
                if (r.indexOf(e.v) == -1) throw new Error("Value ".concat(e.v, " missing from SST!"));
                t[2] = 3;
                a.setUint32(n, r.indexOf(e.v), true);
                i |= 16;
                n += 4;
                break;
            default:
                throw "unsupported cell type " + e.t;
        }
        a.setUint32(4, i, true);
        return t.slice(0, n)
    }

    function Ag(e, r, t) {
        switch (e[0]) {
            case 0:
                ;
            case 1:
                ;
            case 2:
                ;
            case 3:
                return Eg(e, r, t, e[0]);
            case 5:
                return yg(e, r, t);
            default:
                throw new Error("Unsupported payload version ".concat(e[0]));
        }
    }

    function xg(e) {
        var r = vg(e);
        return ug(r[1][0].data)
    }

    function Cg(e) {
        var r = [];
        r[1] = [
            {
                type: 0,
                data: hg(e)
            }];
        return pg(r)
    }

    function Rg(e, r) {
        var t = vg(r.data);
        var a = dg(t[1][0].data);
        var n = t[3];
        var i = [];
        (n || []).forEach(function (r) {
            var t = vg(r.data);
            var n = dg(t[1][0].data) >>> 0;
            switch (a) {
                case 1:
                    i[n] = ng(t[3][0].data);
                    break;
                case 8:
                    {
                        var s = e[xg(t[9][0].data)][0];
                        var f = vg(s.data);
                        var o = e[xg(f[1][0].data)][0];
                        var c = dg(o.meta[1][0].data);
                        if (c != 2001) throw new Error("2000 unexpected reference to ".concat(c));
                        var l = vg(o.data);
                        i[n] = l[3].map(function (e) {
                            return ng(e.data)
                        }).join("")
                    }
                    break;
            }
        });
        return i
    }

    function Og(e, r) {
        var t, a, n, i, s, f, o, c, l, u, h, d, v, p;
        var m = vg(e);
        var b = dg(m[1][0].data) >>> 0;
        var g = dg(m[2][0].data) >>> 0;
        var w = ((a = (t = m[8]) == null ? void 0 : t[0]) == null ? void 0 : a.data) && dg(m[8][0].data) > 0 || false;
        var k, T;
        if (((i = (n = m[7]) == null ? void 0 : n[0]) == null ? void 0 : i.data) && r != 0) {
            k = (f = (s = m[7]) == null ? void 0 : s[0]) == null ? void 0 : f.data;
            T = (c = (o = m[6]) == null ? void 0 : o[0]) == null ? void 0 : c.data
        }
        else if (((u = (l = m[4]) == null ? void 0 : l[0]) == null ? void 0 : u.data) && r != 1) {
            k = (d = (h = m[4]) == null ? void 0 : h[0]) == null ? void 0 : d.data;
            T = (p = (v = m[3]) == null ? void 0 : v[0]) == null ? void 0 : p.data
        }
        else throw "NUMBERS Tile missing ".concat(r, " cell storage");
        var E = w ? 4 : 1;
        var y = ag(k);
        var S = [];
        for (var _ = 0; _ < k.length / 2; ++_) {
            var A = y.getUint16(_ * 2, true);
            if (A < 65535) S.push([_, A])
        }
        if (S.length != g) throw "Expected ".concat(g, " cells, found ").concat(S.length);
        var x = [];
        for (_ = 0; _ < S.length - 1; ++_) x[S[_][0]] = T.subarray(S[_][1] * E, S[_ + 1][1] * E);
        if (S.length >= 1) x[S[S.length - 1][0]] = T.subarray(S[S.length - 1][1] * E);
        return {
            R: b,
            cells: x
        }
    }

    function Ig(e, r) {
        var t;
        var a = vg(r.data);
        var n = ((t = a == null ? void 0 : a[7]) == null ? void 0 : t[0]) ? dg(a[7][0].data) >>> 0 > 0 ? 1 : 0 : -1;
        var i = mg(a[5], function (e) {
            return Og(e, n)
        });
        return {
            nrows: dg(a[4][0].data) >>> 0,
            data: i.reduce(function (e, r) {
                if (!e[r.R]) e[r.R] = [];
                r.cells.forEach(function (t, a) {
                    if (e[r.R][a]) throw new Error("Duplicate cell r=".concat(r.R, " c=").concat(a));
                    e[r.R][a] = t
                });
                return e
            }, [])
        }
    }

    function Ng(e, r, t) {
        var a;
        var n = vg(r.data);
        var i = {
            s:
            {
                r: 0,
                c: 0
            },
            e:
            {
                r: 0,
                c: 0
            }
        };
        i.e.r = (dg(n[6][0].data) >>> 0) - 1;
        if (i.e.r < 0) throw new Error("Invalid row varint ".concat(n[6][0].data));
        i.e.c = (dg(n[7][0].data) >>> 0) - 1;
        if (i.e.c < 0) throw new Error("Invalid col varint ".concat(n[7][0].data));
        t["!ref"] = Na(i);
        var s = vg(n[4][0].data);
        var f = Rg(e, e[xg(s[4][0].data)][0]);
        var o = ((a = s[17]) == null ? void 0 : a[0]) ? Rg(e, e[xg(s[17][0].data)][0]) : [];
        var c = vg(s[3][0].data);
        var l = 0;
        c[1].forEach(function (r) {
            var a = vg(r.data);
            var n = e[xg(a[2][0].data)][0];
            var i = dg(n.meta[1][0].data);
            if (i != 6002) throw new Error("6001 unexpected reference to ".concat(i));
            var s = Ig(e, n);
            s.data.forEach(function (e, r) {
                e.forEach(function (e, a) {
                    var n = Oa(
                        {
                            r: l + r,
                            c: a
                        });
                    var i = Ag(e, f, o);
                    if (i) t[n] = i
                })
            });
            l += s.nrows
        })
    }

    function Fg(e, r) {
        var t = vg(r.data);
        var a = {
            "!ref": "A1"
        };
        var n = e[xg(t[2][0].data)];
        var i = dg(n[0].meta[1][0].data);
        if (i != 6001) throw new Error("6000 unexpected reference to ".concat(i));
        Ng(e, n[0], a);
        return a
    }

    function Dg(e, r) {
        var t;
        var a = vg(r.data);
        var n = {
            name: ((t = a[1]) == null ? void 0 : t[0]) ? ng(a[1][0].data) : "",
            sheets: []
        };
        var i = mg(a[2], xg);
        i.forEach(function (r) {
            e[r].forEach(function (r) {
                var t = dg(r.meta[1][0].data);
                if (t == 6e3) n.sheets.push(Fg(e, r))
            })
        });
        return n
    }

    function Pg(e, r) {
        var t = Nw();
        var a = vg(r.data);
        var n = mg(a[1], xg);
        n.forEach(function (r) {
            e[r].forEach(function (r) {
                var a = dg(r.meta[1][0].data);
                if (a == 2) {
                    var n = Dg(e, r);
                    n.sheets.forEach(function (e, r) {
                        Fw(t, e, r == 0 ? n.name : n.name + "_" + r, true)
                    })
                }
            })
        });
        if (t.SheetNames.length == 0) throw new Error("Empty NUMBERS file");
        return t
    }

    function Lg(e) {
        var r, t, a, n;
        var i = {},
            s = [];
        e.FullPaths.forEach(function (e) {
            if (e.match(/\.iwpv2/)) throw new Error("Unsupported password protection")
        });
        e.FileIndex.forEach(function (e) {
            if (!e.name.match(/\.iwa$/)) return;
            var r;
            try {
                r = kg(e.content)
            }
            catch (t) {
                return console.log("?? " + e.content.length + " " + (t.message || t))
            }
            var a;
            try {
                a = bg(r)
            }
            catch (t) {
                return console.log("## " + (t.message || t))
            }
            a.forEach(function (e) {
                i[e.id] = e.messages;
                s.push(e.id)
            })
        });
        if (!s.length) throw new Error("File has no messages");
        var f = ((n = (a = (t = (r = i == null ? void 0 : i[1]) == null ? void 0 : r[0]) == null ? void 0 : t.meta) == null ? void 0 : a[1]) == null ? void 0 : n[0].data) && dg(i[1][0].meta[1][0].data) == 1 && i[1][0];
        if (!f) s.forEach(function (e) {
            i[e].forEach(function (e) {
                var r = dg(e.meta[1][0].data) >>> 0;
                if (r == 1) {
                    if (!f) f = e;
                    else throw new Error("Document has multiple roots")
                }
            })
        });
        if (!f) throw new Error("Cannot find Document root");
        return Pg(i, f)
    }

    function Mg(e, r, t) {
        var a, n, i, s;
        if (!((a = e[6]) == null ? void 0 : a[0]) || !((n = e[7]) == null ? void 0 : n[0])) throw "Mutation only works on post-BNC storages!";
        var f = ((s = (i = e[8]) == null ? void 0 : i[0]) == null ? void 0 : s.data) && dg(e[8][0].data) > 0 || false;
        if (f) throw "Math only works with normal offsets";
        var o = 0;
        var c = ag(e[7][0].data),
            l = 0,
            u = [];
        var h = ag(e[4][0].data),
            d = 0,
            v = [];
        for (var p = 0; p < r.length; ++p) {
            if (r[p] == null) {
                c.setUint16(p * 2, 65535, true);
                h.setUint16(p * 2, 65535);
                continue
            }
            c.setUint16(p * 2, l, true);
            h.setUint16(p * 2, d, true);
            var m, b;
            switch (typeof r[p]) {
                case "string":
                    m = Sg(
                        {
                            t: "s",
                            v: r[p]
                        }, t);
                    b = _g(
                        {
                            t: "s",
                            v: r[p]
                        }, t);
                    break;
                case "number":
                    m = Sg(
                        {
                            t: "n",
                            v: r[p]
                        }, t);
                    b = _g(
                        {
                            t: "n",
                            v: r[p]
                        }, t);
                    break;
                case "boolean":
                    m = Sg(
                        {
                            t: "b",
                            v: r[p]
                        }, t);
                    b = _g(
                        {
                            t: "b",
                            v: r[p]
                        }, t);
                    break;
                default:
                    throw new Error("Unsupported value " + r[p]);
            }
            u.push(m);
            l += m.length;
            v.push(b);
            d += b.length;
            ++o
        }
        e[2][0].data = hg(o);
        for (; p < e[7][0].data.length / 2; ++p) {
            c.setUint16(p * 2, 65535, true);
            h.setUint16(p * 2, 65535, true)
        }
        e[6][0].data = fg(u);
        e[3][0].data = fg(v);
        return o
    }

    function Ug(e, r) {
        if (!r || !r.numbers) throw new Error("Must pass a `numbers` option -- check the README");
        var t = e.Sheets[e.SheetNames[0]];
        if (e.SheetNames.length > 1) console.error("The Numbers writer currently writes only the first table");
        var a = Ia(t["!ref"]);
        a.s.r = a.s.c = 0;
        var n = false;
        if (a.e.c > 9) {
            n = true;
            a.e.c = 9
        }
        if (a.e.r > 49) {
            n = true;
            a.e.r = 49
        }
        if (n) console.error("The Numbers writer is currently limited to ".concat(Na(a)));
        var i = Ew(t,
            {
                range: a,
                header: 1
            });
        var s = ["~Sh33tJ5~"];
        i.forEach(function (e) {
            return e.forEach(function (e) {
                if (typeof e == "string") s.push(e)
            })
        });
        var f = {};
        var o = [];
        var c = Ke.read(r.numbers,
            {
                type: "base64"
            });
        c.FileIndex.map(function (e, r) {
            return [e, c.FullPaths[r]]
        }).forEach(function (e) {
            var r = e[0],
                t = e[1];
            if (r.type != 2) return;
            if (!r.name.match(/\.iwa/)) return;
            var a = r.content;
            var n = kg(a);
            var i = bg(n);
            i.forEach(function (e) {
                o.push(e.id);
                f[e.id] = {
                    deps: [],
                    location: t,
                    type: dg(e.messages[0].meta[1][0].data)
                }
            })
        });
        o.sort(function (e, r) {
            return e - r
        });
        var l = o.filter(function (e) {
            return e > 1
        }).map(function (e) {
            return [e, hg(e)]
        });
        c.FileIndex.map(function (e, r) {
            return [e, c.FullPaths[r]]
        }).forEach(function (e) {
            var r = e[0],
                t = e[1];
            if (!r.name.match(/\.iwa/)) return;
            var a = bg(kg(r.content));
            a.forEach(function (e) {
                e.messages.forEach(function (r) {
                    l.forEach(function (r) {
                        if (e.messages.some(function (e) {
                            return dg(e.meta[1][0].data) != 11006 && sg(e.data, r[1])
                        })) {
                            f[r[0]].deps.push(e.id)
                        }
                    })
                })
            })
        });

        function u() {
            for (var e = 927262; e < 2e6; ++e)
                if (!f[e]) return e;
            throw new Error("Too many messages")
        }
        var h = Ke.find(c, f[1].location);
        var d = bg(kg(h.content));
        var v;
        for (var p = 0; p < d.length; ++p) {
            var m = d[p];
            if (m.id == 1) v = m
        }
        var b = xg(vg(v.messages[0].data)[1][0].data);
        h = Ke.find(c, f[b].location);
        d = bg(kg(h.content));
        for (p = 0; p < d.length; ++p) {
            m = d[p];
            if (m.id == b) v = m
        }
        b = xg(vg(v.messages[0].data)[2][0].data);
        h = Ke.find(c, f[b].location);
        d = bg(kg(h.content));
        for (p = 0; p < d.length; ++p) {
            m = d[p];
            if (m.id == b) v = m
        }
        b = xg(vg(v.messages[0].data)[2][0].data);
        h = Ke.find(c, f[b].location);
        d = bg(kg(h.content));
        for (p = 0; p < d.length; ++p) {
            m = d[p];
            if (m.id == b) v = m
        }
        var g = vg(v.messages[0].data);
        {
            g[6][0].data = hg(a.e.r + 1);
            g[7][0].data = hg(a.e.c + 1);
            var w = xg(g[46][0].data);
            var k = Ke.find(c, f[w].location);
            var T = bg(kg(k.content));
            {
                for (var E = 0; E < T.length; ++E) {
                    if (T[E].id == w) break
                }
                if (T[E].id != w) throw "Bad ColumnRowUIDMapArchive";
                var y = vg(T[E].messages[0].data);
                y[1] = [];
                y[2] = [], y[3] = [];
                for (var S = 0; S <= a.e.c; ++S) {
                    var _ = [];
                    _[1] = _[2] = [
                        {
                            type: 0,
                            data: hg(S + 420690)
                        }];
                    y[1].push(
                        {
                            type: 2,
                            data: pg(_)
                        });
                    y[2].push(
                        {
                            type: 0,
                            data: hg(S)
                        });
                    y[3].push(
                        {
                            type: 0,
                            data: hg(S)
                        })
                }
                y[4] = [];
                y[5] = [], y[6] = [];
                for (var A = 0; A <= a.e.r; ++A) {
                    _ = [];
                    _[1] = _[2] = [
                        {
                            type: 0,
                            data: hg(A + 726270)
                        }];
                    y[4].push(
                        {
                            type: 2,
                            data: pg(_)
                        });
                    y[5].push(
                        {
                            type: 0,
                            data: hg(A)
                        });
                    y[6].push(
                        {
                            type: 0,
                            data: hg(A)
                        })
                }
                T[E].messages[0].data = pg(y)
            }
            k.content = Tg(gg(T));
            k.size = k.content.length;
            delete g[46];
            var x = vg(g[4][0].data);
            {
                x[7][0].data = hg(a.e.r + 1);
                var C = vg(x[1][0].data);
                var R = xg(C[2][0].data);
                k = Ke.find(c, f[R].location);
                T = bg(kg(k.content));
                {
                    if (T[0].id != R) throw "Bad HeaderStorageBucket";
                    var O = vg(T[0].messages[0].data);
                    for (A = 0; A < i.length; ++A) {
                        var I = vg(O[2][0].data);
                        I[1][0].data = hg(A);
                        I[4][0].data = hg(i[A].length);
                        O[2][A] = {
                            type: O[2][0].type,
                            data: pg(I)
                        }
                    }
                    T[0].messages[0].data = pg(O)
                }
                k.content = Tg(gg(T));
                k.size = k.content.length;
                var N = xg(x[2][0].data);
                k = Ke.find(c, f[N].location);
                T = bg(kg(k.content));
                {
                    if (T[0].id != N) throw "Bad HeaderStorageBucket";
                    O = vg(T[0].messages[0].data);
                    for (S = 0; S <= a.e.c; ++S) {
                        I = vg(O[2][0].data);
                        I[1][0].data = hg(S);
                        I[4][0].data = hg(a.e.r + 1);
                        O[2][S] = {
                            type: O[2][0].type,
                            data: pg(I)
                        }
                    }
                    T[0].messages[0].data = pg(O)
                }
                k.content = Tg(gg(T));
                k.size = k.content.length;
                var F = xg(x[4][0].data);
                (function () {
                    var e = Ke.find(c, f[F].location);
                    var r = bg(kg(e.content));
                    var t;
                    for (var a = 0; a < r.length; ++a) {
                        var n = r[a];
                        if (n.id == F) t = n
                    }
                    var i = vg(t.messages[0].data);
                    {
                        i[3] = [];
                        var o = [];
                        s.forEach(function (e, r) {
                            o[1] = [
                                {
                                    type: 0,
                                    data: hg(r)
                                }];
                            o[2] = [
                                {
                                    type: 0,
                                    data: hg(1)
                                }];
                            o[3] = [
                                {
                                    type: 2,
                                    data: ig(e)
                                }];
                            i[3].push(
                                {
                                    type: 2,
                                    data: pg(o)
                                })
                        })
                    }
                    t.messages[0].data = pg(i);
                    var l = gg(r);
                    var u = Tg(l);
                    e.content = u;
                    e.size = e.content.length
                })();
                var D = vg(x[3][0].data);
                {
                    var P = D[1][0];
                    delete D[2];
                    var L = vg(P.data);
                    {
                        var M = xg(L[2][0].data);
                        (function () {
                            var e = Ke.find(c, f[M].location);
                            var r = bg(kg(e.content));
                            var t;
                            for (var n = 0; n < r.length; ++n) {
                                var o = r[n];
                                if (o.id == M) t = o
                            }
                            var l = vg(t.messages[0].data);
                            {
                                delete l[6];
                                delete D[7];
                                var u = new Uint8Array(l[5][0].data);
                                l[5] = [];
                                var h = 0;
                                for (var d = 0; d <= a.e.r; ++d) {
                                    var v = vg(u);
                                    h += Mg(v, i[d], s);
                                    v[1][0].data = hg(d);
                                    l[5].push(
                                        {
                                            data: pg(v),
                                            type: 2
                                        })
                                }
                                l[1] = [
                                    {
                                        type: 0,
                                        data: hg(a.e.c + 1)
                                    }];
                                l[2] = [
                                    {
                                        type: 0,
                                        data: hg(a.e.r + 1)
                                    }];
                                l[3] = [
                                    {
                                        type: 0,
                                        data: hg(h)
                                    }];
                                l[4] = [
                                    {
                                        type: 0,
                                        data: hg(a.e.r + 1)
                                    }]
                            }
                            t.messages[0].data = pg(l);
                            var p = gg(r);
                            var m = Tg(p);
                            e.content = m;
                            e.size = e.content.length
                        })()
                    }
                    P.data = pg(L)
                }
                x[3][0].data = pg(D)
            }
            g[4][0].data = pg(x)
        }
        v.messages[0].data = pg(g);
        var U = gg(d);
        var B = Tg(U);
        h.content = B;
        h.size = h.content.length;
        return c
    }

    function Bg(e) {
        return function r(t) {
            for (var a = 0; a != e.length; ++a) {
                var n = e[a];
                if (t[n[0]] === undefined) t[n[0]] = n[1];
                if (n[2] === "n") t[n[0]] = Number(t[n[0]])
            }
        }
    }

    function Wg(e) {
        Bg([
            ["cellNF", false],
            ["cellHTML", true],
            ["cellFormula", true],
            ["cellStyles", false],
            ["cellText", true],
            ["cellDates", false],
            ["sheetStubs", false],
            ["sheetRows", 0, "n"],
            ["bookDeps", false],
            ["bookSheets", false],
            ["bookProps", false],
            ["bookFiles", false],
            ["bookVBA", false],
            ["password", ""],
            ["WTF", false]
        ])(e)
    }

    function Hg(e) {
        Bg([
            ["cellDates", false],
            ["bookSST", false],
            ["bookType", "xlsx"],
            ["compression", false],
            ["WTF", false]
        ])(e)
    }

    function zg(e) {
        if (qn.WS.indexOf(e) > -1) return "sheet";
        if (qn.CS && e == qn.CS) return "chart";
        if (qn.DS && e == qn.DS) return "dialog";
        if (qn.MS && e == qn.MS) return "macro";
        return e && e.length ? e : "sheet"
    }

    function Vg(e, r) {
        if (!e) return 0;
        try {
            e = r.map(function a(r) {
                if (!r.id) r.id = r.strRelID;
                return [r.name, e["!id"][r.id].Target, zg(e["!id"][r.id].Type)]
            })
        }
        catch (t) {
            return null
        }
        return !e || e.length === 0 ? null : e
    }

    function Gg(e, r, t, a, n, i, s, f, o, c, l, u) {
        try {
            i[a] = Qn(Or(e, t, true), r);
            var h = Rr(e, r);
            var d;
            switch (f) {
                case "sheet":
                    d = pm(h, r, n, o, i[a], c, l, u);
                    break;
                case "chart":
                    d = mm(h, r, n, o, i[a], c, l, u);
                    if (!d || !d["!drawel"]) break;
                    var v = Lr(d["!drawel"].Target, r);
                    var p = Zn(v);
                    var m = tu(Or(e, v, true), Qn(Or(e, p, true), v));
                    var b = Lr(m, v);
                    var g = Zn(b);
                    d = Pp(Or(e, b, true), b, o, Qn(Or(e, g, true), b), c, d);
                    break;
                case "macro":
                    d = bm(h, r, n, o, i[a], c, l, u);
                    break;
                case "dialog":
                    d = gm(h, r, n, o, i[a], c, l, u);
                    break;
                default:
                    throw new Error("Unrecognized sheet type " + f);
            }
            s[a] = d;
            var w = [];
            if (i && i[a]) rr(i[a]).forEach(function (t) {
                var n = "";
                if (i[a][t].Type == qn.CMNT) {
                    n = Lr(i[a][t].Target, r);
                    var s = Em(Rr(e, n, true), n, o);
                    if (!s || !s.length) return;
                    iu(d, s, false)
                }
                if (i[a][t].Type == qn.TCMNT) {
                    n = Lr(i[a][t].Target, r);
                    w = w.concat(ou(Rr(e, n, true), o))
                }
            });
            if (w && w.length) iu(d, w, true, o.people || [])
        }
        catch (k) {
            if (o.WTF) throw k
        }
    }

    function jg(e) {
        return e.charAt(0) == "/" ? e.slice(1) : e
    }

    function Xg(e, r) {
        ze();
        r = r ||
            {};
        Wg(r);
        if (xr(e, "META-INF/manifest.xml")) return Zb(e, r);
        if (xr(e, "objectdata.xml")) return Zb(e, r);
        if (xr(e, "Index/Document.iwa")) {
            if (typeof Uint8Array == "undefined") throw new Error("NUMBERS file parsing requires Uint8Array support");
            if (typeof Lg != "undefined") {
                if (e.FileIndex) return Lg(e);
                var t = Ke.utils.cfb_new();
                Nr(e).forEach(function (r) {
                    Fr(t, r, Ir(e, r))
                });
                return Lg(t)
            }
            throw new Error("Unsupported NUMBERS file")
        }
        if (!xr(e, "[Content_Types].xml")) {
            if (xr(e, "index.xml.gz")) throw new Error("Unsupported NUMBERS 08 file");
            if (xr(e, "index.xml")) throw new Error("Unsupported NUMBERS 09 file");
            throw new Error("Unsupported ZIP file")
        }
        var a = Nr(e);
        var n = Kn(Or(e, "[Content_Types].xml"));
        var i = false;
        var s, f;
        if (n.workbooks.length === 0) {
            f = "xl/workbook.xml";
            if (Rr(e, f, true)) n.workbooks.push(f)
        }
        if (n.workbooks.length === 0) {
            f = "xl/workbook.bin";
            if (!Rr(e, f, true)) throw new Error("Could not find workbook");
            n.workbooks.push(f);
            i = true
        }
        if (n.workbooks[0].slice(-3) == "bin") i = true;
        var o = {};
        var c = {};
        if (!r.bookSheets && !r.bookProps) {
            Cd = [];
            if (n.sst) try {
                Cd = Tm(Rr(e, jg(n.sst)), n.sst, r)
            }
                catch (l) {
                    if (r.WTF) throw l
                }
            if (r.cellStyles && n.themes.length) o = km(Or(e, n.themes[0].replace(/^\//, ""), true) || "", n.themes[0], r);
            if (n.style) c = wm(Rr(e, jg(n.style)), n.style, o, r)
        }
        n.links.map(function (t) {
            try {
                var a = Qn(Or(e, Zn(jg(t))), t);
                return Sm(Rr(e, jg(t)), a, t, r)
            }
            catch (n) { }
        });
        var u = vm(Rr(e, jg(n.workbooks[0])), n.workbooks[0], r);
        var h = {},
            d = "";
        if (n.coreprops.length) {
            d = Rr(e, jg(n.coreprops[0]), true);
            if (d) h = ui(d);
            if (n.extprops.length !== 0) {
                d = Rr(e, jg(n.extprops[0]), true);
                if (d) bi(d, h, r)
            }
        }
        var v = {};
        if (!r.bookSheets || r.bookProps) {
            if (n.custprops.length !== 0) {
                d = Or(e, jg(n.custprops[0]), true);
                if (d) v = ki(d, r)
            }
        }
        var p = {};
        if (r.bookSheets || r.bookProps) {
            if (u.Sheets) s = u.Sheets.map(function I(e) {
                return e.name
            });
            else if (h.Worksheets && h.SheetNames.length > 0) s = h.SheetNames;
            if (r.bookProps) {
                p.Props = h;
                p.Custprops = v
            }
            if (r.bookSheets && typeof s !== "undefined") p.SheetNames = s;
            if (r.bookSheets ? p.SheetNames : r.bookProps) return p
        }
        s = {};
        var m = {};
        if (r.bookDeps && n.calcchain) m = ym(Rr(e, jg(n.calcchain)), n.calcchain, r);
        var b = 0;
        var g = {};
        var w, k;
        {
            var T = u.Sheets;
            h.Worksheets = T.length;
            h.SheetNames = [];
            for (var E = 0; E != T.length; ++E) {
                h.SheetNames[E] = T[E].name
            }
        }
        var y = i ? "bin" : "xml";
        var S = n.workbooks[0].lastIndexOf("/");
        var _ = (n.workbooks[0].slice(0, S + 1) + "_rels/" + n.workbooks[0].slice(S + 1) + ".rels").replace(/^\//, "");
        if (!xr(e, _)) _ = "xl/_rels/workbook." + y + ".rels";
        var A = Qn(Or(e, _, true), _.replace(/_rels.*/, "s5s"));
        if ((n.metadata || []).length >= 1) {
            r.xlmeta = _m(Rr(e, jg(n.metadata[0])), n.metadata[0], r)
        }
        if ((n.people || []).length >= 1) {
            r.people = lu(Rr(e, jg(n.people[0])), r)
        }
        if (A) A = Vg(A, u.Sheets);
        var x = Rr(e, "xl/worksheets/sheet.xml", true) ? 1 : 0;
        e: for (b = 0; b != h.Worksheets; ++b) {
            var C = "sheet";
            if (A && A[b]) {
                w = "xl/" + A[b][1].replace(/[\/]?xl\//, "");
                if (!xr(e, w)) w = A[b][1];
                if (!xr(e, w)) w = _.replace(/_rels\/.*$/, "") + A[b][1];
                C = A[b][2]
            }
            else {
                w = "xl/worksheets/sheet" + (b + 1 - x) + "." + y;
                w = w.replace(/sheet0\./, "sheet.")
            }
            k = w.replace(/^(.*)(\/)([^\/]*)$/, "$1/_rels/$3.rels");
            if (r && r.sheets != null) switch (typeof r.sheets) {
                case "number":
                    if (b != r.sheets) continue e;
                    break;
                case "string":
                    if (h.SheetNames[b].toLowerCase() != r.sheets.toLowerCase()) continue e;
                    break;
                default:
                    if (Array.isArray && Array.isArray(r.sheets)) {
                        var R = false;
                        for (var O = 0; O != r.sheets.length; ++O) {
                            if (typeof r.sheets[O] == "number" && r.sheets[O] == b) R = 1;
                            if (typeof r.sheets[O] == "string" && r.sheets[O].toLowerCase() == h.SheetNames[b].toLowerCase()) R = 1
                        }
                        if (!R) continue e
                    };
            }
            Gg(e, w, k, h.SheetNames[b], b, g, s, C, r, u, o, c)
        }
        p = {
            Directory: n,
            Workbook: u,
            Props: h,
            Custprops: v,
            Deps: m,
            Sheets: s,
            SheetNames: h.SheetNames,
            Strings: Cd,
            Styles: c,
            Themes: o,
            SSF: gr(X)
        };
        if (r && r.bookFiles) {
            if (e.files) {
                p.keys = a;
                p.files = e.files
            }
            else {
                p.keys = [];
                p.files = {};
                e.FullPaths.forEach(function (r, t) {
                    r = r.replace(/^Root Entry[\/]/, "");
                    p.keys.push(r);
                    p.files[r] = e.FileIndex[t]
                })
            }
        }
        if (r && r.bookVBA) {
            if (n.vba.length > 0) p.vbaraw = Rr(e, jg(n.vba[0]), true);
            else if (n.defaults && n.defaults.bin === gu) p.vbaraw = Rr(e, "xl/vbaProject.bin", true)
        }
        return p
    }

    function $g(e, r) {
        var t = r ||
            {};
        var a = "Workbook",
            n = Ke.find(e, a);
        try {
            a = "/!DataSpaces/Version";
            n = Ke.find(e, a);
            if (!n || !n.content) throw new Error("ECMA-376 Encrypted file missing " + a);
            Ko(n.content);
            a = "/!DataSpaces/DataSpaceMap";
            n = Ke.find(e, a);
            if (!n || !n.content) throw new Error("ECMA-376 Encrypted file missing " + a);
            var i = qo(n.content);
            if (i.length !== 1 || i[0].comps.length !== 1 || i[0].comps[0].t !== 0 || i[0].name !== "StrongEncryptionDataSpace" || i[0].comps[0].v !== "EncryptedPackage") throw new Error("ECMA-376 Encrypted file bad " + a);
            a = "/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace";
            n = Ke.find(e, a);
            if (!n || !n.content) throw new Error("ECMA-376 Encrypted file missing " + a);
            var s = Zo(n.content);
            if (s.length != 1 || s[0] != "StrongEncryptionTransform") throw new Error("ECMA-376 Encrypted file bad " + a);
            a = "/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary";
            n = Ke.find(e, a);
            if (!n || !n.content) throw new Error("ECMA-376 Encrypted file missing " + a);
            ec(n.content)
        }
        catch (f) { }
        a = "/EncryptionInfo";
        n = Ke.find(e, a);
        if (!n || !n.content) throw new Error("ECMA-376 Encrypted file missing " + a);
        var o = ac(n.content);
        a = "/EncryptedPackage";
        n = Ke.find(e, a);
        if (!n || !n.content) throw new Error("ECMA-376 Encrypted file missing " + a);
        if (o[0] == 4 && typeof decrypt_agile !== "undefined") return decrypt_agile(o[1], n.content, t.password || "", t);
        if (o[0] == 2 && typeof decrypt_std76 !== "undefined") return decrypt_std76(o[1], n.content, t.password || "", t);
        throw new Error("File is password-protected")
    }

    function Yg(e, r) {
        if (r.bookType == "ods") return tg(e, r);
        if (r.bookType == "numbers") return Ug(e, r);
        if (r.bookType == "xlsb") return Kg(e, r);
        return Jg(e, r)
    }

    function Kg(e, r) {
        au = 1024;
        if (e && !e.SSF) {
            e.SSF = gr(X)
        }
        if (e && e.SSF) {
            ze();
            He(e.SSF);
            r.revssf = nr(e.SSF);
            r.revssf[e.SSF[65535]] = 0;
            r.ssf = e.SSF
        }
        r.rels = {};
        r.wbrels = {};
        r.Strings = [];
        r.Strings.Count = 0;
        r.Strings.Unique = 0;
        if (Od) r.revStrings = new Map;
        else {
            r.revStrings = {};
            r.revStrings.foo = [];
            delete r.revStrings.foo
        }
        var t = r.bookType == "xlsb" ? "bin" : "xml";
        var a = Tu.indexOf(r.bookType) > -1;
        var n = Yn();
        Hg(r = r ||
            {});
        var i = Dr();
        var s = "",
            f = 0;
        r.cellXfs = [];
        Dd(r.cellXfs,
            {},
            {
                revssf:
                {
                    General: 0
                }
            });
        if (!e.Props) e.Props = {};
        s = "docProps/core.xml";
        Fr(i, s, di(e.Props, r));
        n.coreprops.push(s);
        ri(r.rels, 2, s, qn.CORE_PROPS);
        s = "docProps/app.xml";
        if (e.Props && e.Props.SheetNames) { }
        else if (!e.Workbook || !e.Workbook.Sheets) e.Props.SheetNames = e.SheetNames;
        else {
            var o = [];
            for (var c = 0; c < e.SheetNames.length; ++c)
                if ((e.Workbook.Sheets[c] ||
                    {}).Hidden != 2) o.push(e.SheetNames[c]);
            e.Props.SheetNames = o
        }
        e.Props.Worksheets = e.Props.SheetNames.length;
        Fr(i, s, gi(e.Props, r));
        n.extprops.push(s);
        ri(r.rels, 3, s, qn.EXT_PROPS);
        if (e.Custprops !== e.Props && rr(e.Custprops ||
            {}).length > 0) {
            s = "docProps/custom.xml";
            Fr(i, s, Ti(e.Custprops, r));
            n.custprops.push(s);
            ri(r.rels, 4, s, qn.CUST_PROPS)
        }
        for (f = 1; f <= e.SheetNames.length; ++f) {
            var l = {
                "!id":
                    {}
            };
            var u = e.Sheets[e.SheetNames[f - 1]];
            var h = (u ||
                {})["!type"] || "sheet";
            switch (h) {
                case "chart":
                    ;
                default:
                    s = "xl/worksheets/sheet" + f + "." + t;
                    Fr(i, s, xm(f - 1, s, r, e, l));
                    n.sheets.push(s);
                    ri(r.wbrels, -1, "worksheets/sheet" + f + "." + t, qn.WS[0]);
            }
            if (u) {
                var d = u["!comments"];
                var v = false;
                var p = "";
                if (d && d.length > 0) {
                    p = "xl/comments" + f + "." + t;
                    Fr(i, p, Im(d, p, r));
                    n.comments.push(p);
                    ri(l, -1, "../comments" + f + "." + t, qn.CMNT);
                    v = true
                }
                if (u["!legacy"]) {
                    if (v) Fr(i, "xl/drawings/vmlDrawing" + f + ".vml", nu(f, u["!comments"]))
                }
                delete u["!comments"];
                delete u["!legacy"]
            }
            if (l["!id"].rId1) Fr(i, Zn(s), ei(l))
        }
        if (r.Strings != null && r.Strings.length > 0) {
            s = "xl/sharedStrings." + t;
            Fr(i, s, Om(r.Strings, s, r));
            n.strs.push(s);
            ri(r.wbrels, -1, "sharedStrings." + t, qn.SST)
        }
        s = "xl/workbook." + t;
        Fr(i, s, Am(e, s, r));
        n.workbooks.push(s);
        ri(r.rels, 1, s, qn.WB);
        s = "xl/theme/theme1.xml";
        Fr(i, s, Il(e.Themes, r));
        n.themes.push(s);
        ri(r.wbrels, -1, "theme/theme1.xml", qn.THEME);
        s = "xl/styles." + t;
        Fr(i, s, Rm(e, s, r));
        n.styles.push(s);
        ri(r.wbrels, -1, "styles." + t, qn.STY);
        if (e.vbaraw && a) {
            s = "xl/vbaProject.bin";
            Fr(i, s, e.vbaraw);
            n.vba.push(s);
            ri(r.wbrels, -1, "vbaProject.bin", qn.VBA)
        }
        s = "xl/metadata." + t;
        Fr(i, s, Nm(s));
        n.metadata.push(s);
        ri(r.wbrels, -1, "metadata." + t, qn.XLMETA);
        Fr(i, "[Content_Types].xml", Jn(n, r));
        Fr(i, "_rels/.rels", ei(r.rels));
        Fr(i, "xl/_rels/workbook." + t + ".rels", ei(r.wbrels));
        delete r.revssf;
        delete r.ssf;
        return i
    }

    function Jg(e, r) {
        au = 1024;
        if (e && !e.SSF) {
            e.SSF = gr(X)
        }
        if (e && e.SSF) {
            ze();
            He(e.SSF);
            r.revssf = nr(e.SSF);
            r.revssf[e.SSF[65535]] = 0;
            r.ssf = e.SSF
        }
        r.rels = {};
        r.wbrels = {};
        r.Strings = [];
        r.Strings.Count = 0;
        r.Strings.Unique = 0;
        if (Od) r.revStrings = new Map;
        else {
            r.revStrings = {};
            r.revStrings.foo = [];
            delete r.revStrings.foo
        }
        var t = "xml";
        var a = Tu.indexOf(r.bookType) > -1;
        var n = Yn();
        Hg(r = r ||
            {});
        var i = Dr();
        var s = "",
            f = 0;
        r.cellXfs = [];
        Dd(r.cellXfs,
            {},
            {
                revssf:
                {
                    General: 0
                }
            });
        if (!e.Props) e.Props = {};
        s = "docProps/core.xml";
        Fr(i, s, di(e.Props, r));
        n.coreprops.push(s);
        ri(r.rels, 2, s, qn.CORE_PROPS);
        s = "docProps/app.xml";
        if (e.Props && e.Props.SheetNames) { }
        else if (!e.Workbook || !e.Workbook.Sheets) e.Props.SheetNames = e.SheetNames;
        else {
            var o = [];
            for (var c = 0; c < e.SheetNames.length; ++c)
                if ((e.Workbook.Sheets[c] ||
                    {}).Hidden != 2) o.push(e.SheetNames[c]);
            e.Props.SheetNames = o
        }
        e.Props.Worksheets = e.Props.SheetNames.length;
        Fr(i, s, gi(e.Props, r));
        n.extprops.push(s);
        ri(r.rels, 3, s, qn.EXT_PROPS);
        if (e.Custprops !== e.Props && rr(e.Custprops ||
            {}).length > 0) {
            s = "docProps/custom.xml";
            Fr(i, s, Ti(e.Custprops, r));
            n.custprops.push(s);
            ri(r.rels, 4, s, qn.CUST_PROPS)
        }
        var l = ["SheetJ5"];
        r.tcid = 0;
        for (f = 1; f <= e.SheetNames.length; ++f) {
            var u = {
                "!id":
                    {}
            };
            var h = e.Sheets[e.SheetNames[f - 1]];
            var d = (h ||
                {})["!type"] || "sheet";
            switch (d) {
                case "chart":
                    ;
                default:
                    s = "xl/worksheets/sheet" + f + "." + t;
                    Fr(i, s, pv(f - 1, r, e, u));
                    n.sheets.push(s);
                    ri(r.wbrels, -1, "worksheets/sheet" + f + "." + t, qn.WS[0]);
            }
            if (h) {
                var v = h["!comments"];
                var p = false;
                var m = "";
                if (v && v.length > 0) {
                    var b = false;
                    v.forEach(function (e) {
                        e[1].forEach(function (e) {
                            if (e.T == true) b = true
                        })
                    });
                    if (b) {
                        m = "xl/threadedComments/threadedComment" + f + "." + t;
                        Fr(i, m, cu(v, l, r));
                        n.threadedcomments.push(m);
                        ri(u, -1, "../threadedComments/threadedComment" + f + "." + t, qn.TCMNT)
                    }
                    m = "xl/comments" + f + "." + t;
                    Fr(i, m, fu(v, r));
                    n.comments.push(m);
                    ri(u, -1, "../comments" + f + "." + t, qn.CMNT);
                    p = true
                }
                if (h["!legacy"]) {
                    if (p) Fr(i, "xl/drawings/vmlDrawing" + f + ".vml", nu(f, h["!comments"]))
                }
                delete h["!comments"];
                delete h["!legacy"]
            }
            if (u["!id"].rId1) Fr(i, Zn(s), ei(u))
        }
        if (r.Strings != null && r.Strings.length > 0) {
            s = "xl/sharedStrings." + t;
            Fr(i, s, Ho(r.Strings, r));
            n.strs.push(s);
            ri(r.wbrels, -1, "sharedStrings." + t, qn.SST)
        }
        s = "xl/workbook." + t;
        Fr(i, s, rm(e, r));
        n.workbooks.push(s);
        ri(r.rels, 1, s, qn.WB);
        s = "xl/theme/theme1.xml";
        Fr(i, s, Il(e.Themes, r));
        n.themes.push(s);
        ri(r.wbrels, -1, "theme/theme1.xml", qn.THEME);
        s = "xl/styles." + t;
        Fr(i, s, $c(e, r));
        n.styles.push(s);
        ri(r.wbrels, -1, "styles." + t, qn.STY);
        if (e.vbaraw && a) {
            s = "xl/vbaProject.bin";
            Fr(i, s, e.vbaraw);
            n.vba.push(s);
            ri(r.wbrels, -1, "vbaProject.bin", qn.VBA)
        }
        s = "xl/metadata." + t;
        Fr(i, s, Jl());
        n.metadata.push(s);
        ri(r.wbrels, -1, "metadata." + t, qn.XLMETA);
        if (l.length > 1) {
            s = "xl/persons/person.xml";
            Fr(i, s, uu(l, r));
            n.people.push(s);
            ri(r.wbrels, -1, "persons/person.xml", qn.PEOPLE)
        }
        Fr(i, "[Content_Types].xml", Jn(n, r));
        Fr(i, "_rels/.rels", ei(r.rels));
        Fr(i, "xl/_rels/workbook." + t + ".rels", ei(r.wbrels));
        delete r.revssf;
        delete r.ssf;
        return i
    }

    function qg(e, r) {
        var t = "";
        switch ((r ||
            {}).type || "base64") {
            case "buffer":
                return [e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7]];
            case "base64":
                t = k(e.slice(0, 12));
                break;
            case "binary":
                t = e;
                break;
            case "array":
                return [e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7]];
            default:
                throw new Error("Unrecognized type " + (r && r.type || "undefined"));
        }
        return [t.charCodeAt(0), t.charCodeAt(1), t.charCodeAt(2), t.charCodeAt(3), t.charCodeAt(4), t.charCodeAt(5), t.charCodeAt(6), t.charCodeAt(7)]
    }

    function Zg(e, r) {
        if (Ke.find(e, "EncryptedPackage")) return $g(e, r);
        return vb(e, r)
    }

    function Qg(e, r) {
        var t, a = e;
        var n = r ||
            {};
        if (!n.type) n.type = T && Buffer.isBuffer(e) ? "buffer" : "base64";
        t = Pr(a, n);
        return Xg(t, n)
    }

    function ew(e, r) {
        var t = 0;
        e: while (t < e.length) switch (e.charCodeAt(t)) {
            case 10:
                ;
            case 13:
                ;
            case 32:
                ++t;
                break;
            case 60:
                return jm(e.slice(t), r);
            default:
                break e;
        }
        return Ao.to_workbook(e, r)
    }

    function rw(e, r) {
        var t = "",
            a = qg(e, r);
        switch (r.type) {
            case "base64":
                t = k(e);
                break;
            case "binary":
                t = e;
                break;
            case "buffer":
                t = e.toString("binary");
                break;
            case "array":
                t = br(e);
                break;
            default:
                throw new Error("Unrecognized type " + r.type);
        }
        if (a[0] == 239 && a[1] == 187 && a[2] == 191) t = ct(t);
        r.type = "binary";
        return ew(t, r)
    }

    function tw(e, r) {
        var t = e;
        if (r.type == "base64") t = k(t);
        t = a.utils.decode(1200, t.slice(2), "str");
        r.type = "binary";
        return ew(t, r)
    }

    function aw(e) {
        return !e.match(/[^\x00-\x7F]/) ? e : lt(e)
    }

    function nw(e, r, t, a) {
        if (a) {
            t.type = "string";
            return Ao.to_workbook(e, t)
        }
        return Ao.to_workbook(r, t)
    }

    function iw(e, r) {
        c();
        var t = r ||
            {};
        if (typeof ArrayBuffer !== "undefined" && e instanceof ArrayBuffer) return iw(new Uint8Array(e), (t = gr(t), t.type = "array", t));
        if (typeof Uint8Array !== "undefined" && e instanceof Uint8Array && !t.type) t.type = typeof Deno !== "undefined" ? "buffer" : "array";
        var a = e,
            n = [0, 0, 0, 0],
            i = false;
        if (t.cellStyles) {
            t.cellNF = true;
            t.sheetStubs = true
        }
        Rd = {};
        if (t.dateNF) Rd.dateNF = t.dateNF;
        if (!t.type) t.type = T && Buffer.isBuffer(e) ? "buffer" : "base64";
        if (t.type == "file") {
            t.type = T ? "buffer" : "binary";
            a = er(e);
            if (typeof Uint8Array !== "undefined" && !T) t.type = "array"
        }
        if (t.type == "string") {
            i = true;
            t.type = "binary";
            t.codepage = 65001;
            a = aw(e)
        }
        if (t.type == "array" && typeof Uint8Array !== "undefined" && e instanceof Uint8Array && typeof ArrayBuffer !== "undefined") {
            var s = new ArrayBuffer(3),
                f = new Uint8Array(s);
            f.foo = "bar";
            if (!f.foo) {
                t = gr(t);
                t.type = "array";
                return iw(R(a), t)
            }
        }
        switch ((n = qg(a, t))[0]) {
            case 208:
                if (n[1] === 207 && n[2] === 17 && n[3] === 224 && n[4] === 161 && n[5] === 177 && n[6] === 26 && n[7] === 225) return Zg(Ke.read(a, t), t);
                break;
            case 9:
                if (n[1] <= 8) return vb(a, t);
                break;
            case 60:
                return jm(a, t);
            case 73:
                if (n[1] === 73 && n[2] === 42 && n[3] === 0) throw new Error("TIFF Image File is not a spreadsheet");
                if (n[1] === 68) return xo(a, t);
                break;
            case 84:
                if (n[1] === 65 && n[2] === 66 && n[3] === 76) return So.to_workbook(a, t);
                break;
            case 80:
                return n[1] === 75 && n[2] < 9 && n[3] < 9 ? Qg(a, t) : nw(e, a, t, i);
            case 239:
                return n[3] === 60 ? jm(a, t) : nw(e, a, t, i);
            case 255:
                if (n[1] === 254) {
                    return tw(a, t)
                }
                else if (n[1] === 0 && n[2] === 2 && n[3] === 0) return Co.to_workbook(a, t);
                break;
            case 0:
                if (n[1] === 0) {
                    if (n[2] >= 2 && n[3] === 0) return Co.to_workbook(a, t);
                    if (n[2] === 0 && (n[3] === 8 || n[3] === 9)) return Co.to_workbook(a, t)
                }
                break;
            case 3:
                ;
            case 131:
                ;
            case 139:
                ;
            case 140:
                return Eo.to_workbook(a, t);
            case 123:
                if (n[1] === 92 && n[2] === 114 && n[3] === 116) return mc.to_workbook(a, t);
                break;
            case 10:
                ;
            case 13:
                ;
            case 32:
                return rw(a, t);
            case 137:
                if (n[1] === 80 && n[2] === 78 && n[3] === 71) throw new Error("PNG Image File is not a spreadsheet");
                break;
        }
        if (To.indexOf(n[0]) > -1 && n[2] <= 12 && n[3] <= 31) return Eo.to_workbook(a, t);
        return nw(e, a, t, i)
    }

    function sw(e, r) {
        var t = r ||
            {};
        t.type = "file";
        return iw(e, t)
    }

    function fw(e, r) {
        switch (r.type) {
            case "base64":
                ;
            case "binary":
                break;
            case "buffer":
                ;
            case "array":
                r.type = "";
                break;
            case "file":
                return Qe(r.file, Ke.write(e,
                    {
                        type: T ? "buffer" : ""
                    }));
            case "string":
                throw new Error("'string' output type invalid for '" + r.bookType + "' files");
            default:
                throw new Error("Unrecognized type " + r.type);
        }
        return Ke.write(e, r)
    }

    function ow(e, r) {
        var t = gr(r ||
            {});
        var a = Yg(e, t);
        return lw(a, t)
    }

    function cw(e, r) {
        var t = gr(r ||
            {});
        var a = Jg(e, t);
        return lw(a, t)
    }

    function lw(e, r) {
        var t = {};
        var a = T ? "nodebuffer" : typeof Uint8Array !== "undefined" ? "array" : "string";
        if (r.compression) t.compression = "DEFLATE";
        if (r.password) t.type = a;
        else switch (r.type) {
            case "base64":
                t.type = "base64";
                break;
            case "binary":
                t.type = "string";
                break;
            case "string":
                throw new Error("'string' output type invalid for '" + r.bookType + "' files");
            case "buffer":
                ;
            case "file":
                t.type = a;
                break;
            default:
                throw new Error("Unrecognized type " + r.type);
        }
        var n = e.FullPaths ? Ke.write(e,
            {
                fileType: "zip",
                type:
                    {
                        nodebuffer: "buffer",
                        string: "binary"
                    }[t.type] || t.type,
                compression: !!r.compression
            }) : e.generate(t);
        if (typeof Deno !== "undefined") {
            if (typeof n == "string") {
                if (r.type == "binary" || r.type == "base64") return n;
                n = new Uint8Array(A(n))
            }
        }
        if (r.password && typeof encrypt_agile !== "undefined") return fw(encrypt_agile(n, r.password), r);
        if (r.type === "file") return Qe(r.file, n);
        return r.type == "string" ? ct(n) : n
    }

    function uw(e, r) {
        var t = r ||
            {};
        var a = pb(e, t);
        return fw(a, t)
    }

    function hw(e, r, t) {
        if (!t) t = "";
        var a = t + e;
        switch (r.type) {
            case "base64":
                return w(lt(a));
            case "binary":
                return lt(a);
            case "string":
                return e;
            case "file":
                return Qe(r.file, a, "utf8");
            case "buffer":
                {
                    if (T) return E(a, "utf8");
                    else if (typeof TextEncoder !== "undefined") return (new TextEncoder).encode(a);
                    else return hw(a,
                        {
                            type: "binary"
                        }).split("").map(function (e) {
                            return e.charCodeAt(0)
                        })
                };
        }
        throw new Error("Unrecognized type " + r.type)
    }

    function dw(e, r) {
        switch (r.type) {
            case "base64":
                return w(e);
            case "binary":
                return e;
            case "string":
                return e;
            case "file":
                return Qe(r.file, e, "binary");
            case "buffer":
                {
                    if (T) return E(e, "binary");
                    else return e.split("").map(function (e) {
                        return e.charCodeAt(0)
                    })
                };
        }
        throw new Error("Unrecognized type " + r.type)
    }

    function vw(e, r) {
        switch (r.type) {
            case "string":
                ;
            case "base64":
                ;
            case "binary":
                var t = "";
                for (var a = 0; a < e.length; ++a) t += String.fromCharCode(e[a]);
                return r.type == "base64" ? w(t) : r.type == "string" ? ct(t) : t;
            case "file":
                return Qe(r.file, e);
            case "buffer":
                return e;
            default:
                throw new Error("Unrecognized type " + r.type);
        }
    }

    function pw(e, r) {
        c();
        Zp(e);
        var t = gr(r ||
            {});
        if (t.cellStyles) {
            t.cellNF = true;
            t.sheetStubs = true
        }
        if (t.type == "array") {
            t.type = "binary";
            var a = pw(e, t);
            t.type = "array";
            return A(a)
        }
        return cw(e, t)
    }

    function mw(e, r) {
        c();
        Zp(e);
        var t = gr(r ||
            {});
        if (t.cellStyles) {
            t.cellNF = true;
            t.sheetStubs = true
        }
        if (t.type == "array") {
            t.type = "binary";
            var a = mw(e, t);
            t.type = "array";
            return A(a)
        }
        var n = 0;
        if (t.sheet) {
            if (typeof t.sheet == "number") n = t.sheet;
            else n = e.SheetNames.indexOf(t.sheet);
            if (!e.SheetNames[n]) throw new Error("Sheet not found: " + t.sheet + " : " + typeof t.sheet)
        }
        switch (t.bookType || "xlsb") {
            case "xml":
                ;
            case "xlml":
                return hw(nb(e, t), t);
            case "slk":
                ;
            case "sylk":
                return hw(yo.from_sheet(e.Sheets[e.SheetNames[n]], t), t);
            case "htm":
                ;
            case "html":
                return hw(Vb(e.Sheets[e.SheetNames[n]], t), t);
            case "txt":
                return dw(Aw(e.Sheets[e.SheetNames[n]], t), t);
            case "csv":
                return hw(_w(e.Sheets[e.SheetNames[n]], t), t, "ï»¿");
            case "dif":
                return hw(So.from_sheet(e.Sheets[e.SheetNames[n]], t), t);
            case "dbf":
                return vw(Eo.from_sheet(e.Sheets[e.SheetNames[n]], t), t);
            case "prn":
                return hw(Ao.from_sheet(e.Sheets[e.SheetNames[n]], t), t);
            case "rtf":
                return hw(mc.from_sheet(e.Sheets[e.SheetNames[n]], t), t);
            case "eth":
                return hw(_o.from_sheet(e.Sheets[e.SheetNames[n]], t), t);
            case "fods":
                return hw(tg(e, t), t);
            case "wk1":
                return vw(Co.sheet_to_wk1(e.Sheets[e.SheetNames[n]], t), t);
            case "wk3":
                return vw(Co.book_to_wk3(e, t), t);
            case "biff2":
                if (!t.biff) t.biff = 2;
            case "biff3":
                if (!t.biff) t.biff = 3;
            case "biff4":
                if (!t.biff) t.biff = 4;
                return vw(Lb(e, t), t);
            case "biff5":
                if (!t.biff) t.biff = 5;
            case "biff8":
                ;
            case "xla":
                ;
            case "xls":
                if (!t.biff) t.biff = 8;
                return uw(e, t);
            case "xlsx":
                ;
            case "xlsm":
                ;
            case "xlam":
                ;
            case "xlsb":
                ;
            case "numbers":
                ;
            case "ods":
                return ow(e, t);
            default:
                throw new Error("Unrecognized bookType |" + t.bookType + "|");
        }
    }

    function bw(e) {
        if (e.bookType) return;
        var r = {
            xls: "biff8",
            htm: "html",
            slk: "sylk",
            socialcalc: "eth",
            Sh33tJS: "WTF"
        };
        var t = e.file.slice(e.file.lastIndexOf(".")).toLowerCase();
        if (t.match(/^\.[a-z]+$/)) e.bookType = t.slice(1);
        e.bookType = r[e.bookType] || e.bookType
    }

    function gw(e, r, t) {
        var a = t ||
            {};
        a.type = "file";
        a.file = r;
        bw(a);
        return mw(e, a)
    }

    function ww(e, r, t) {
        var a = t ||
            {};
        a.type = "file";
        a.file = r;
        bw(a);
        return pw(e, a)
    }

    function kw(e, r, t, a) {
        var n = t ||
            {};
        n.type = "file";
        n.file = e;
        bw(n);
        n.type = "buffer";
        var i = a;
        if (!(i instanceof Function)) i = t;
        return Je.writeFile(e, mw(r, n), i)
    }

    function Tw(e, r, t, a, n, i, s, f) {
        var o = Ta(t);
        var c = f.defval,
            l = f.raw || !Object.prototype.hasOwnProperty.call(f, "raw");
        var u = true;
        var h = n === 1 ? [] :
            {};
        if (n !== 1) {
            if (Object.defineProperty) try {
                Object.defineProperty(h, "__rowNum__",
                    {
                        value: t,
                        enumerable: false
                    })
            }
                catch (d) {
                    h.__rowNum__ = t
                }
            else h.__rowNum__ = t
        }
        if (!s || e[t])
            for (var v = r.s.c; v <= r.e.c; ++v) {
                var p = s ? e[t][v] : e[a[v] + o];
                if (p === undefined || p.t === undefined) {
                    if (c === undefined) continue;
                    if (i[v] != null) {
                        h[i[v]] = c
                    }
                    continue
                }
                var m = p.v;
                switch (p.t) {
                    case "z":
                        if (m == null) break;
                        continue;
                    case "e":
                        m = m == 0 ? null : void 0;
                        break;
                    case "s":
                        ;
                    case "d":
                        ;
                    case "b":
                        ;
                    case "n":
                        break;
                    default:
                        throw new Error("unrecognized type " + p.t);
                }
                if (i[v] != null) {
                    if (m == null) {
                        if (p.t == "e" && m === null) h[i[v]] = null;
                        else if (c !== undefined) h[i[v]] = c;
                        else if (l && m === null) h[i[v]] = null;
                        else continue
                    }
                    else {
                        h[i[v]] = l && (p.t !== "n" || p.t === "n" && f.rawNumbers !== false) ? m : Pa(p, m, f)
                    }
                    if (m != null) u = false
                }
            }
        return {
            row: h,
            isempty: u
        }
    }

    function Ew(e, r) {
        if (e == null || e["!ref"] == null) return [];
        var t = {
            t: "n",
            v: 0
        },
            a = 0,
            n = 1,
            i = [],
            s = 0,
            f = "";
        var o = {
            s:
            {
                r: 0,
                c: 0
            },
            e:
            {
                r: 0,
                c: 0
            }
        };
        var c = r ||
            {};
        var l = c.range != null ? c.range : e["!ref"];
        if (c.header === 1) a = 1;
        else if (c.header === "A") a = 2;
        else if (Array.isArray(c.header)) a = 3;
        else if (c.header == null) a = 0;
        switch (typeof l) {
            case "string":
                o = Fa(l);
                break;
            case "number":
                o = Fa(e["!ref"]);
                o.s.r = l;
                break;
            default:
                o = l;
        }
        if (a > 0) n = 0;
        var u = Ta(o.s.r);
        var h = [];
        var d = [];
        var v = 0,
            p = 0;
        var m = Array.isArray(e);
        var b = o.s.r,
            g = 0;
        var w = {};
        if (m && !e[b]) e[b] = [];
        var k = c.skipHidden && e["!cols"] || [];
        var T = c.skipHidden && e["!rows"] || [];
        for (g = o.s.c; g <= o.e.c; ++g) {
            if ((k[g] ||
                {}).hidden) continue;
            h[g] = _a(g);
            t = m ? e[b][g] : e[h[g] + u];
            switch (a) {
                case 1:
                    i[g] = g - o.s.c;
                    break;
                case 2:
                    i[g] = h[g];
                    break;
                case 3:
                    i[g] = c.header[g - o.s.c];
                    break;
                default:
                    if (t == null) t = {
                        w: "__EMPTY",
                        t: "s"
                    };
                    f = s = Pa(t, null, c);
                    p = w[s] || 0;
                    if (!p) w[s] = 1;
                    else {
                        do {
                            f = s + "_" + p++
                        } while (w[f]);
                        w[s] = p;
                        w[f] = 1
                    }
                    i[g] = f;
            }
        }
        for (b = o.s.r + n; b <= o.e.r; ++b) {
            if ((T[b] ||
                {}).hidden) continue;
            var E = Tw(e, o, b, h, a, i, m, c);
            if (E.isempty === false || (a === 1 ? c.blankrows !== false : !!c.blankrows)) d[v++] = E.row
        }
        d.length = v;
        return d
    }
    var yw = /"/g;

    function Sw(e, r, t, a, n, i, s, f) {
        var o = true;
        var c = [],
            l = "",
            u = Ta(t);
        for (var h = r.s.c; h <= r.e.c; ++h) {
            if (!a[h]) continue;
            var d = f.dense ? (e[t] || [])[h] : e[a[h] + u];
            if (d == null) l = "";
            else if (d.v != null) {
                o = false;
                l = "" + (f.rawNumbers && d.t == "n" ? d.v : Pa(d, null, f));
                for (var v = 0, p = 0; v !== l.length; ++v)
                    if ((p = l.charCodeAt(v)) === n || p === i || p === 34 || f.forceQuotes) {
                        l = '"' + l.replace(yw, '""') + '"';
                        break
                    } if (l == "ID") l = '"ID"'
            }
            else if (d.f != null && !d.F) {
                o = false;
                l = "=" + d.f;
                if (l.indexOf(",") >= 0) l = '"' + l.replace(yw, '""') + '"'
            }
            else l = "";
            c.push(l)
        }
        if (f.blankrows === false && o) return null;
        return c.join(s)
    }

    function _w(e, r) {
        var t = [];
        var a = r == null ?
            {} : r;
        if (e == null || e["!ref"] == null) return "";
        var n = Fa(e["!ref"]);
        var i = a.FS !== undefined ? a.FS : ",",
            s = i.charCodeAt(0);
        var f = a.RS !== undefined ? a.RS : "\n",
            o = f.charCodeAt(0);
        var c = new RegExp((i == "|" ? "\\|" : i) + "+$");
        var l = "",
            u = [];
        a.dense = Array.isArray(e);
        var h = a.skipHidden && e["!cols"] || [];
        var d = a.skipHidden && e["!rows"] || [];
        for (var v = n.s.c; v <= n.e.c; ++v)
            if (!(h[v] ||
                {}).hidden) u[v] = _a(v);
        var p = 0;
        for (var m = n.s.r; m <= n.e.r; ++m) {
            if ((d[m] ||
                {}).hidden) continue;
            l = Sw(e, n, m, u, s, o, i, a);
            if (l == null) {
                continue
            }
            if (a.strip) l = l.replace(c, "");
            if (l || a.blankrows !== false) t.push((p++ ? f : "") + l)
        }
        delete a.dense;
        return t.join("")
    }

    function Aw(e, r) {
        if (!r) r = {};
        r.FS = "\t";
        r.RS = "\n";
        var t = _w(e, r);
        if (typeof a == "undefined" || r.type == "string") return t;
        var n = a.utils.encode(1200, t, "str");
        return String.fromCharCode(255) + String.fromCharCode(254) + n
    }

    function xw(e) {
        var r = "",
            t, a = "";
        if (e == null || e["!ref"] == null) return [];
        var n = Fa(e["!ref"]),
            i = "",
            s = [],
            f;
        var o = [];
        var c = Array.isArray(e);
        for (f = n.s.c; f <= n.e.c; ++f) s[f] = _a(f);
        for (var l = n.s.r; l <= n.e.r; ++l) {
            i = Ta(l);
            for (f = n.s.c; f <= n.e.c; ++f) {
                r = s[f] + i;
                t = c ? (e[l] || [])[f] : e[r];
                a = "";
                if (t === undefined) continue;
                else if (t.F != null) {
                    r = t.F;
                    if (!t.f) continue;
                    a = t.f;
                    if (r.indexOf(":") == -1) r = r + ":" + r
                }
                if (t.f != null) a = t.f;
                else if (t.t == "z") continue;
                else if (t.t == "n" && t.v != null) a = "" + t.v;
                else if (t.t == "b") a = t.v ? "TRUE" : "FALSE";
                else if (t.w !== undefined) a = "'" + t.w;
                else if (t.v === undefined) continue;
                else if (t.t == "s") a = "'" + t.v;
                else a = "" + t.v;
                o[o.length] = r + "=" + a
            }
        }
        return o
    }

    function Cw(e, r, t) {
        var a = t ||
            {};
        var n = +!a.skipHeader;
        var i = e ||
            {};
        var s = 0,
            f = 0;
        if (i && a.origin != null) {
            if (typeof a.origin == "number") s = a.origin;
            else {
                var o = typeof a.origin == "string" ? Ra(a.origin) : a.origin;
                s = o.r;
                f = o.c
            }
        }
        var c;
        var l = {
            s:
            {
                c: 0,
                r: 0
            },
            e:
            {
                c: f,
                r: s + r.length - 1 + n
            }
        };
        if (i["!ref"]) {
            var u = Fa(i["!ref"]);
            l.e.c = Math.max(l.e.c, u.e.c);
            l.e.r = Math.max(l.e.r, u.e.r);
            if (s == -1) {
                s = u.e.r + 1;
                l.e.r = s + r.length - 1 + n
            }
        }
        else {
            if (s == -1) {
                s = 0;
                l.e.r = r.length - 1 + n
            }
        }
        var h = a.header || [],
            d = 0;
        r.forEach(function (e, r) {
            rr(e).forEach(function (t) {
                if ((d = h.indexOf(t)) == -1) h[d = h.length] = t;
                var o = e[t];
                var l = "z";
                var u = "";
                var v = Oa(
                    {
                        c: f + d,
                        r: s + r + n
                    });
                c = Ow(i, v);
                if (o && typeof o === "object" && !(o instanceof Date)) {
                    i[v] = o
                }
                else {
                    if (typeof o == "number") l = "n";
                    else if (typeof o == "boolean") l = "b";
                    else if (typeof o == "string") l = "s";
                    else if (o instanceof Date) {
                        l = "d";
                        if (!a.cellDates) {
                            l = "n";
                            o = fr(o)
                        }
                        u = a.dateNF || X[14]
                    }
                    else if (o === null && a.nullError) {
                        l = "e";
                        o = 0
                    }
                    if (!c) i[v] = c = {
                        t: l,
                        v: o
                    };
                    else {
                        c.t = l;
                        c.v = o;
                        delete c.w;
                        delete c.R;
                        if (u) c.z = u
                    }
                    if (u) c.z = u
                }
            })
        });
        l.e.c = Math.max(l.e.c, f + h.length - 1);
        var v = Ta(s);
        if (n)
            for (d = 0; d < h.length; ++d) i[_a(d + f) + v] = {
                t: "s",
                v: h[d]
            };
        i["!ref"] = Na(l);
        return i
    }

    function Rw(e, r) {
        return Cw(null, e, r)
    }

    function Ow(e, r, t) {
        if (typeof r == "string") {
            if (Array.isArray(e)) {
                var a = Ra(r);
                if (!e[a.r]) e[a.r] = [];
                return e[a.r][a.c] || (e[a.r][a.c] = {
                    t: "z"
                })
            }
            return e[r] || (e[r] = {
                t: "z"
            })
        }
        if (typeof r != "number") return Ow(e, Oa(r));
        return Ow(e, Oa(
            {
                r: r,
                c: t || 0
            }))
    }

    function Iw(e, r) {
        if (typeof r == "number") {
            if (r >= 0 && e.SheetNames.length > r) return r;
            throw new Error("Cannot find sheet # " + r)
        }
        else if (typeof r == "string") {
            var t = e.SheetNames.indexOf(r);
            if (t > -1) return t;
            throw new Error("Cannot find sheet name |" + r + "|")
        }
        else throw new Error("Cannot find sheet |" + r + "|")
    }

    function Nw() {
        return {
            SheetNames: [],
            Sheets:
                {}
        }
    }

    function Fw(e, r, t, a) {
        var n = 1;
        if (!t)
            for (; n <= 65535; ++n, t = undefined)
                if (e.SheetNames.indexOf(t = "Sheet" + n) == -1) break;
        if (!t || e.SheetNames.length >= 65535) throw new Error("Too many worksheets");
        if (a && e.SheetNames.indexOf(t) >= 0) {
            var i = t.match(/(^.*?)(\d+)$/);
            n = i && +i[2] || 0;
            var s = i && i[1] || t;
            for (++n; n <= 65535; ++n)
                if (e.SheetNames.indexOf(t = s + n) == -1) break
        }
        Jp(t);
        if (e.SheetNames.indexOf(t) >= 0) throw new Error("Worksheet with name |" + t + "| already exists!");
        e.SheetNames.push(t);
        e.Sheets[t] = r;
        return t
    }

    function Dw(e, r, t) {
        if (!e.Workbook) e.Workbook = {};
        if (!e.Workbook.Sheets) e.Workbook.Sheets = [];
        var a = Iw(e, r);
        if (!e.Workbook.Sheets[a]) e.Workbook.Sheets[a] = {};
        switch (t) {
            case 0:
                ;
            case 1:
                ;
            case 2:
                break;
            default:
                throw new Error("Bad sheet visibility setting " + t);
        }
        e.Workbook.Sheets[a].Hidden = t
    }

    function Pw(e, r) {
        e.z = r;
        return e
    }

    function Lw(e, r, t) {
        if (!r) {
            delete e.l
        }
        else {
            e.l = {
                Target: r
            };
            if (t) e.l.Tooltip = t
        }
        return e
    }

    function Mw(e, r, t) {
        return Lw(e, "#" + r, t)
    }

    function Uw(e, r, t) {
        if (!e.c) e.c = [];
        e.c.push(
            {
                t: r,
                a: t || "SheetJS"
            })
    }

    function Bw(e, r, t, a) {
        var n = typeof r != "string" ? r : Fa(r);
        var i = typeof r == "string" ? r : Na(r);
        for (var s = n.s.r; s <= n.e.r; ++s)
            for (var f = n.s.c; f <= n.e.c; ++f) {
                var o = Ow(e, s, f);
                o.t = "n";
                o.F = i;
                delete o.v;
                if (s == n.s.r && f == n.s.c) {
                    o.f = t;
                    if (a) o.D = true
                }
            }
        return e
    }
    var Ww = {
        encode_col: _a,
        encode_row: Ta,
        encode_cell: Oa,
        encode_range: Na,
        decode_col: Sa,
        decode_row: ka,
        split_cell: Ca,
        decode_cell: Ra,
        decode_range: Ia,
        format_cell: Pa,
        sheet_add_aoa: Ma,
        sheet_add_json: Cw,
        sheet_add_dom: Gb,
        aoa_to_sheet: Ua,
        json_to_sheet: Rw,
        table_to_sheet: jb,
        table_to_book: Xb,
        sheet_to_csv: _w,
        sheet_to_txt: Aw,
        sheet_to_json: Ew,
        sheet_to_html: Vb,
        sheet_to_formulae: xw,
        sheet_to_row_object_array: Ew,
        sheet_get_cell: Ow,
        book_new: Nw,
        book_append_sheet: Fw,
        book_set_sheet_visibility: Dw,
        cell_set_number_format: Pw,
        cell_set_hyperlink: Lw,
        cell_set_internal_link: Mw,
        cell_add_comment: Uw,
        sheet_set_array_formula: Bw,
        consts:
        {
            SHEET_VISIBLE: 0,
            SHEET_HIDDEN: 1,
            SHEET_VERY_HIDDEN: 2
        }
    };
    var Hw;

    function zw(e) {
        Hw = e
    }

    function Vw(e, r) {
        var t = Hw();
        var a = r == null ?
            {} : r;
        if (e == null || e["!ref"] == null) {
            t.push(null);
            return t
        }
        var n = Fa(e["!ref"]);
        var i = a.FS !== undefined ? a.FS : ",",
            s = i.charCodeAt(0);
        var f = a.RS !== undefined ? a.RS : "\n",
            o = f.charCodeAt(0);
        var c = new RegExp((i == "|" ? "\\|" : i) + "+$");
        var l = "",
            u = [];
        a.dense = Array.isArray(e);
        var h = a.skipHidden && e["!cols"] || [];
        var d = a.skipHidden && e["!rows"] || [];
        for (var v = n.s.c; v <= n.e.c; ++v)
            if (!(h[v] ||
                {}).hidden) u[v] = _a(v);
        var p = n.s.r;
        var m = false,
            b = 0;
        t._read = function () {
            if (!m) {
                m = true;
                return t.push("ï»¿")
            }
            while (p <= n.e.r) {
                ++p;
                if ((d[p - 1] ||
                    {}).hidden) continue;
                l = Sw(e, n, p - 1, u, s, o, i, a);
                if (l != null) {
                    if (a.strip) l = l.replace(c, "");
                    if (l || a.blankrows !== false) return t.push((b++ ? f : "") + l)
                }
            }
            return t.push(null)
        };
        return t
    }

    function Gw(e, r) {
        var t = Hw();
        var a = r ||
            {};
        var n = a.header != null ? a.header : Bb;
        var i = a.footer != null ? a.footer : Wb;
        t.push(n);
        var s = Ia(e["!ref"]);
        a.dense = Array.isArray(e);
        t.push(zb(e, s, a));
        var f = s.s.r;
        var o = false;
        t._read = function () {
            if (f > s.e.r) {
                if (!o) {
                    o = true;
                    t.push("</table>" + i)
                }
                return t.push(null)
            }
            while (f <= s.e.r) {
                t.push(Ub(e, s, f, a));
                ++f;
                break
            }
        };
        return t
    }

    function jw(e, r) {
        var t = Hw(
            {
                objectMode: true
            });
        if (e == null || e["!ref"] == null) {
            t.push(null);
            return t
        }
        var a = {
            t: "n",
            v: 0
        },
            n = 0,
            i = 1,
            s = [],
            f = 0,
            o = "";
        var c = {
            s:
            {
                r: 0,
                c: 0
            },
            e:
            {
                r: 0,
                c: 0
            }
        };
        var l = r ||
            {};
        var u = l.range != null ? l.range : e["!ref"];
        if (l.header === 1) n = 1;
        else if (l.header === "A") n = 2;
        else if (Array.isArray(l.header)) n = 3;
        switch (typeof u) {
            case "string":
                c = Fa(u);
                break;
            case "number":
                c = Fa(e["!ref"]);
                c.s.r = u;
                break;
            default:
                c = u;
        }
        if (n > 0) i = 0;
        var h = Ta(c.s.r);
        var d = [];
        var v = 0;
        var p = Array.isArray(e);
        var m = c.s.r,
            b = 0;
        var g = {};
        if (p && !e[m]) e[m] = [];
        var w = l.skipHidden && e["!cols"] || [];
        var k = l.skipHidden && e["!rows"] || [];
        for (b = c.s.c; b <= c.e.c; ++b) {
            if ((w[b] ||
                {}).hidden) continue;
            d[b] = _a(b);
            a = p ? e[m][b] : e[d[b] + h];
            switch (n) {
                case 1:
                    s[b] = b - c.s.c;
                    break;
                case 2:
                    s[b] = d[b];
                    break;
                case 3:
                    s[b] = l.header[b - c.s.c];
                    break;
                default:
                    if (a == null) a = {
                        w: "__EMPTY",
                        t: "s"
                    };
                    o = f = Pa(a, null, l);
                    v = g[f] || 0;
                    if (!v) g[f] = 1;
                    else {
                        do {
                            o = f + "_" + v++
                        } while (g[o]);
                        g[f] = v;
                        g[o] = 1
                    }
                    s[b] = o;
            }
        }
        m = c.s.r + i;
        t._read = function () {
            while (m <= c.e.r) {
                if ((k[m - 1] ||
                    {}).hidden) continue;
                var r = Tw(e, c, m, d, n, s, p, l);
                ++m;
                if (r.isempty === false || (n === 1 ? l.blankrows !== false : !!l.blankrows)) {
                    t.push(r.row);
                    return
                }
            }
            return t.push(null)
        };
        return t
    }
    var Xw = {
        to_json: jw,
        to_html: Gw,
        to_csv: Vw,
        set_readable: zw
    };
    if (typeof vb !== "undefined") e.parse_xlscfb = vb;
    e.parse_zip = Xg;
    e.read = iw;
    e.readFile = sw;
    e.readFileSync = sw;
    e.write = mw;
    e.writeFile = gw;
    e.writeFileSync = gw;
    e.writeFileAsync = kw;
    e.utils = Ww;
    e.writeXLSX = pw;
    e.writeFileXLSX = ww;
    e.SSF = Ve;
    if (typeof Xw !== "undefined") e.stream = Xw;
    if (typeof Ke !== "undefined") e.CFB = Ke;
    if (typeof require !== "undefined") {
        var $w = undefined;
        if (($w ||
            {}).Readable) zw($w.Readable)
    }
}
if (typeof exports !== "undefined") make_xlsx_lib(exports);
else if (typeof module !== "undefined" && module.exports) make_xlsx_lib(module.exports);
else if (typeof define === "function" && define.amd) define("xlsx", function () {
    if (!XLSX.version) make_xlsx_lib(XLSX);
    return XLSX
});
else make_xlsx_lib(XLSX);
if (typeof window !== "undefined" && !window.XLSX) try {
    window.XLSX = XLSX
}
catch (e) { }
